Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-to-combine-receipts
---
title: Combine receipts on a single invoice
description: If you want to invoice more than one purchase receipt at a time, you can use the Combine Receipts function.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.form: 136, 145, 146, 9308
ms.date: 03/14/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Combine receipts on a single invoice

If you want to invoice more than one purchase receipt at a time, you can select multiple receipt lines on the purchase invoice.  

Before you can create a combined purchase receipt, more than one receipt from the same vendor in the same currency must be posted. In other words, you must have filled in two or more purchase orders and posted them as received, but not invoiced.  

When purchase receipts are combined on an invoice and posted, then a posted purchase invoice is created for the invoiced lines. The **Quantity Invoiced** field on the originating purchase order, or blanket purchase order, is updated based on the invoiced quantity. However, this original purchase document isn't deleted, even if it has been fully received and invoiced, and you must therefore delete the purchase document.  

> [!NOTE]
> The resulting purchase invoice cannot later be corrected or canceled. If you want to modify a purchase invoice that is created in this way, you must use purchase credit memos. For more information, see [Correct or Cancel Unpaid Purchase Invoices](purchasing-how-correct-cancel-unpaid-purchase-invoices.md).

## To combine receipts

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoices**, and then choose the related link.  
2. Choose the **New** action. For more information, see [Record Purchases](purchasing-how-record-purchases.md).  
3. On the **Lines** FastTab, choose the **Get Receipt Lines** action.  
4. Select multiple receipt lines that you want to include in the invoice.  

    If an incorrect receipt line was selected or you want to start over, you can just delete the lines on the purchase invoice and then use the **Get Receipt Lines** function again.  
5. To post the invoice, choose the **Post** action.  

## To remove open purchase orders after combined receipt posting

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Delete Invoiced Purchase Orders**, and select the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)].
3. Choose the **OK** button.  

Alternatively, delete the individual orders manually.

Repeat steps 1 through 3 for any other affected documents, such as blanket purchase orders.

## Related information

[Purchasing](purchasing-manage-purchasing.md)  
[Correct or Cancel Unpaid Purchase Invoices](purchasing-how-correct-cancel-unpaid-purchase-invoices.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-log-changes
---
title: Auditing changes
description: You can activate a user log so that you have a history of any changes made to data in tracked tables. You can also track activities with certain types of activity logs.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: user log, user activity, tracking
ms.search.form: 592, 593, 594, 595, 710, 1366, 1367, 1368, 1369
ms.date: 01/10/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Auditing changes

A common challenge in many business management applications is avoiding unwanted changes in data. It could be anything from an incorrect customer telephone number to an incorrect posting to the general ledger. This article describes the capabilities for finding out what changed, who changed it, and when the change was made.

## About the Change Log

The change log lets you track all direct modifications a user makes to data in the database. You specify each table and field that you want the system to log, and then you activate the change log. The change log is based on changes that are made to data in the tables that you track. On the **Change Log Entries** page, entries are chronologically ordered and show all changes that are made to the values in fields on the tables you specify.

Tracking changes can affect performance, which can cost you time, and increase the size of your database, which might cost you money. To reduce those costs, keep the following things in mind:

- Use caution when choosing the tables and operations.
- Don't add ledger entries and posted documents. Instead, prioritize system fields such as Created By and Created Date.
- Don't use the **All Fields** tracking type. Instead, choose **Some Fields** and track only the most important fields.

> [!NOTE]
> The Change Log doesn't track changes for fields that use the `autoIncrement property`. An example of a field that uses the property is the Integer field on the Error Messages and VAT Report Line tables.

Also for performance reasons, the change log is turned off during the process of upgrading [!INCLUDE [prod_short](includes/prod_short.md)] to the next version. In addition to speeding up the upgrade process, turning off the log also helps reduce clutter in the change log. As soon as the upgrade is complete, the log starts tracking changes again.

> [!Important]
> Changes display in the **Change Log Entries** only after the user's session is restarted, which happens as follows:
>
> - The session expired and was refreshed.
> - The user selected another company or Role Center.
> - The user signed out and signed in again.

## Setting up the Change Log

On the **Change Log Setup** page, you can turn on or turn off the change log. When you do, the activity is logged, so you can always see who made the change.

On the **Change Log Setup** page, if you choose the **Tables** action, you can specify which tables you want to track changes for, and which changes to track. [!INCLUDE[prod_short](includes/prod_short.md)] also tracks several system tables.

> [!NOTE]
> You can monitor specific fields for changes, such as fields that contain sensitive data, by setting up field monitoring. If you do, to avoid redundancy the table that contains the field will not be available for the change log setup. For more information, see [Monitor Sensitive Fields](across-log-changes.md#monitor-sensitive-fields).

After you set up the change log, activated it, and made a change to data, you can view and filter the changes on the **Change Log Entries** page. If you want to delete entries, set up a retention policy, where you can set filters based on dates and time. To learn more about retention policies, go to [Define Retention Policies](admin-data-retention-policies.md).  

## Analyze data in the Change Log

You can use the **Data Analysis** feature to analyze data in the Change Log from the [Change Log Entries](https://businesscentral.dynamics.com/?page=595) page. You don't have to run a report or open another application, such as Excel. The feature provides an interactive and versatile way to calculate, summarize, and examine data. Instead of running reports using options and filters, you can add multiple tabs that represent different tasks or views on the data. Some examples are "Who changed what data, and when," or "Data changes by table/field," or any other view you can imagine. To learn more about how to use the **Data Analysis** feature, go to [Analyze list and query data with analysis mode](analysis-mode.md).

### Change Log ad-hoc analysis scenarios

The following sections provide examples of scenarios where analyzing change log can help you monitor and audit important changes.

| Area | To... | Open this page in analysis mode | Using these fields |
| ---- | ----- | ------------------------------- |------------------- |
| [Who changed what data, and when](#example-who-changed-what-data-and-when) | See who changed what data. | [Change Log Entries](https://businesscentral.dynamics.com/?page=595&layout=analysis) | **User ID**, **Date and Time**, **Table Caption**, **Field Caption**, **Primary Key Value 2**, **Primary Key Value 3**, **Type of Change**, **Old Value**, and **New Value**. |
| [Data changes by table/field](#example-data-changes-by-tablefield) | See data changes by table/field, and who made the change. | [Change Log Entries](https://businesscentral.dynamics.com/?page=595&layout=analysis) | **Table Caption**, **Field Caption**, **User ID**, **Date and Time**, **Primary Key Value 2**, **Primary Key Value 3**, **Type of Change**, **Old Value**, and **New Value**. |

### Example: Who changed what data, and when

To analyze Who changed What data When, follow these steps:

1. Open the [Change Log Entries](https://businesscentral.dynamics.com/?page=595&layout=analysis) list, and choose the :::image type="content" source="media/analysis-mode-icon.png" alt-text="Enter analysis mode."::: icon to turn on analysis mode.
1. On the **Columns** menu, remove all columns (select the box next to the **Search** field on the right).
1. Drag the **User ID** field (who did it) to the **Row Groups** area.
1. Now choose the following fields:
   - To show when it happened, choose **Date and Time**.
   - To show the table where it happened, choose **Table Caption**. 
   - To show which field, choose **Field Caption**.
   - To show the field code, choose **Primary Key Value 2**. 
   - To show the company name, choose **Primary Key Value 3**.
   - To show whether the change was an insert, update, or delete action, choose **Type of Change**.
   - To show the change, choose **Old Value** and **New Value**.
1. Rename your analysis tab to **Who changed what data when**, or something that describes this analysis.

The following image shows the result of these steps.

:::image type="content" source=" media/data-analysis-change-log-entries-Who-changed-What-data-When.png" alt-text="Example of how to do data analysis on the Change Log Entries page (Who changed What data When)." lightbox="media/data-analysis-change-log-entries-Who-changed-What-data-When.png":::

### Example: data changes by table/field

To analyze data changes by table/field, follow these steps:

1. Open the [Change Log Entries](https://businesscentral.dynamics.com/?page=595&layout=analysis) list, and choose the :::image type="content" source="media/analysis-mode-icon.png" alt-text="Enter analysis mode."::: icon to turn on analysis mode.
1. On the **Columns** menu, remove all columns (select the box next to the **Search** field on the right).
1. Drag the **Table Caption** (on what table), and **Field Caption** (on which field) fields to the **Row Groups** area.
1. Now choose the following fields:
   - To show when it happened, choose **Date and Time**
   - To show who made the change, choose **User ID**.
   - To show the code for the field, choose **Primary Key Value 2**.
   - To show the company name, choose **Primary Key Value 3** (typically the company name), 
   - To show whether the change was an insert, update, or delete action, choose **Type of Change**.
   - To show the change, choose **Old Value** and **New Value**.
1. Rename your analysis tab to **Data changes by table + field**, or something that describes this analysis.

The following image shows the result of these steps.

:::image type="content" source=" media/data-analysis-change-log-entries-data-changes-by-table-field.png" alt-text="Example of how to do data analysis on the Change Log Entries page (data changes by table/field)." lightbox="media/data-analysis-change-log-entries-data-changes-by-table-field.png":::

## About activity logs

From some pages in [!INCLUDE [prod_short](includes/prod_short.md)], you can view an activity log that shows the status and any errors from files that you export from or import into [!INCLUDE [prod_short](includes/prod_short.md)].  

### Work with activity logs

The information is displayed on the **Activity Log** page according to the context you opened it from. For example, you can open the page from the **Document Exchange Service Setup**, **Incoming Document**, **Posted Sales Invoice**, and **Posted Sales Credit Memo** pages. You can empty the list of log entries, or just clear the list of entries older than seven days.  

## Monitor sensitive fields

Keeping sensitive data secure and private is a core concern for most businesses. To add a layer of security, you can monitor important fields and get an email when someone changes a value. For example, you might want to be notified if someone changes your company's IBAN number.

> [!NOTE]
> Sending notifications by email requires that you set up the email feature in [!INCLUDE[prod_short](includes/prod_short.md)]. For more information, see [Set Up Email](admin-how-setup-email.md).

### Set up field monitoring

You can use the **Monitor Field Change Setup** assisted setup guide to specify the fields that you want to monitor based on filter criteria, such as the data sensitivity classification for the fields. For more information, see [Classifying Data Sensitivity](admin-classifying-data-sensitivity.md). The guide also lets you specify the person who receives an email notification when a change occurs, and the email account that sends the notification. Specify both the user to notify and the account from which to send the notification. After you finish the guide, you can manage settings for field monitoring on the **Field Monitoring Setup** page.

> [!NOTE]
> When you specify the email account from which to send notifications, you must add either the **Microsoft 365** or **SMTP** account types. Notifications should be sent from an account that is not associated with an actual user. Therefore you cannot choose the **Current User** account type. If you do, notifications will not be sent.

Over time, the list of entries on the **Monitored Fields Log Entries** page will grow. To reduce the number of entries, you can create a retention policy that will delete entries after a specified period of time. For more information, see [Define Retention Policies](admin-data-retention-policies.md).

When you set up field monitoring, or change something in the setup, entries are created for your changes. You can specify whether to display entries related to the monitoring setup by showing or hiding them.

You can manage settings for field monitoring, such as whether to send an email notification or just log the change, for each field on the **Monitored Fields Worksheet** page. The page is also where you can add or remove fields to monitor.

> [!NOTE]
> After you add one or more fields and start monitoring, you must sign out of [!INCLUDE[prod_short](includes/prod_short.md)] and sign in again to apply your settings.

### Work with field monitoring

Entries for all changed values for monitored fields are available on the **Monitored Fields Log Entries** page. For example, entries contain the following information:

- The field in which the value changed.
- The original and new values.
- Who made the change, and when they did so.

To further investigate a change, choose a value to open the page where it was made. To view a list of all entries, choose **Field Change Entries**.

### View field monitoring telemetry

You can set up [!INCLUDE[prod_short](includes/prod_short.md)] to send field monitoring activity to an Application Insights resource in Microsoft Azure. Then, using Azure Monitor, you create reports and set up alerts on the gathered data. For more information, see the following articles in the [!INCLUDE[prod_short](includes/prod_short.md)] Developer and IT Pro help:

- [Monitoring and Analyzing Telemetry - Enabling Application Insights](/dynamics365/business-central/dev-itpro/administration/telemetry-overview?toc=/dynamics365/business-central/toc.json#enable)
- [Analyzing Field Monitoring Telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-field-monitoring-trace?toc=/dynamics365/business-central/toc.json)

## Define retention policies

You can create retention policies to delete unneeded data in logs after a period of time that you specify. For example, over time the number of entries in a log can build up. By cleaning up old entries you can make it easier to focus on more recent, and probably more relevant, entries. To learn more about retention policies, go to [Define Retention Policies](admin-data-retention-policies.md).

## Related information

[Monitor Sensitive Fields](across-log-changes.md#monitor-sensitive-fields)  
[Analyzing Field Monitoring Telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-field-monitoring-trace?toc=/dynamics365/business-central/toc.json)  
[Define Retention Policies](admin-data-retention-policies.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Sorting, Searching, and Filtering](ui-enter-criteria-filters.md)  
[Finding Pages and Information with Tell Me](ui-search.md)  
[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-how-analyze-actual-versus-budget
---
title: Analyze Actual Amounts Versus Budgeted Amounts
description: This article describes how to analyze actual amounts versus budgeted amounts as a means of gathering, analyzing, and sharing your company data.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: bi, power BI, analysis, KPI
ms.search.form: 120, 121, 422
ms.date: 09/14/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Analyze Actual Amounts Versus Budgeted Amounts

As a part of gathering, analyzing, and sharing your company data, you view actual amounts compared to budgeted amounts for all accounts and for several periods.

To analyze budgeted amounts, you must first create general ledger (G/L) budgets. Learn more at [Create G/L Budgets](finance-how-create-budgets.md).

## View a G/L budget

In a budget with dimensions, you can filter the entries and see specific budgets.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **G/L Budgets**, then choose the related link.
2. On the **G/L Budgets** page, open the budget you want to view.  
3. At the top of the page, fill in the fields necessary to define what is shown. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!NOTE]  
> If you've selected **Period** in either the **Show as Lines** or **Show as Columns** field, then you must fill in the **View by** field. If you have not selected **Period** in either of those fields, enter the appropriate period in the **Date Filter** field.  

> [!NOTE]  
> Only entries from the general ledger budget with the filter codes you enter on the **Filters** FastTab are included in the calculation. Budget entries without any or with other filter codes are not included. As long as the filter remains on the page, the budget only displays entries with those filter codes.  

> [!TIP]  
> Use the **Edit Budget** action to modify the budget. On the budget page, choose an amount to view the underlying general ledger budget entries.

## View actual and budgeted amounts for all accounts

You can view general ledger budgets and compare them with actual figures in several areas of [!INCLUDE[prod_short](includes/prod_short.md)].

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, then choose the related link.  
2. On the **Chart of Accounts** page, choose the **G/L Balance/Budget** action.
3. On the **Options** FastTab, fill in the fields as necessary to define what is displayed in the table.  
4. Hover over a field on the table to read a short description about the displayed amount.

> [!NOTE]  
> The filters you set on the page header will be applied to both general ledger and budget entries.

The leftmost columns contain the chart of accounts. Of the five columns on the rightmost side, the first four columns show actual and budgeted debit and credit amounts for each account. The fifth column shows the proportional relationship between the actual and the budgeted amounts on the general ledger account.  

> [!TIP]  
> Use the **View by** field on the **G/L Balance/Budget** page to select the period length. Use the **View as** field to select the way the amounts will be calculated, either **Net Change** or **Balance at Date**. Choose the **Previous Period** or **Next Period** action to change the period.  

## To view actual and budgeted amounts for several periods  

Instead of viewing the actual and budgeted amounts for all accounts within a single period, you can view a number of periods for a single account.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, then choose the related link.  
2. On the **Chart of Accounts** page, select the relevant general ledger account, then choose the **G/L Account Balance/Budget** action.  
3. On the **Options** FastTab, fill in the fields as necessary to define what is displayed in the table.  
4. On the **Lines** FastTab, hover over a field on the table to read a short description about the displayed amount.  

## Related information

[Financial Business Intelligence](bi.md)  
[Work with Financial Reports](bi-how-work-account-schedule.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[The General Ledger and the Chart of Accounts](finance-general-ledger.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-order-agent-item-availability
---
title: Item availability in Sales Order Agent (preview)
description: Learn about the item availability used by Sales Order Agent and how you can test results on your own.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: article
ms.collection:
  - bap-ai-copilot
ms.date: 04/01/2025
ms.custom: bap-template
ms.search.form: 4400, 4410_Primary
---
# Item availability in Sales Order Agent (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

The **Item Availability** page is part of Sales Order Agent for checking item availability during the sales order-taking process. This article provides a detailed overview of how the **Item Availability** page functions, including configuration and field descriptions.

![Screenshot of Item Availability page](media/soa-item-availability-page-clip.svg "Screenshot of Item Availability page")

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]
<!--[!INCLUDE [limited-public-preview](includes/limited-public-preview.md)]-->

## Overview

Admins can set up Sales Order Agent to select only available items for sales quotes or orders. Learn more in [Set up Sales Order Agent (preview)](sales-order-agent-setup.md).

When this capability is turned on, Sales Order Agent uses the **Item Availability** page to check an item's availability before adding it to the quote or order. If an item isn't available, reviewers are notified by a **Request Assistance** step in the timeline for the task in the **Task** tab.

![Screenshot of the Sales Order Agent task tab that shows a request-for-assistance step about item availability](media/soa-item-availability.png "Screenshot of the Sales Order Agent task tab that shows a request-for-assistance step about item availability")

As a reviewer, use the **Item Availability** page to verify that items are unavailable. Decide whether to stop the task or let the agent proceed. You can't change items and quantity at this point. If you confirm the step, the agent creates an email to the customer about the unavailable items for your review.

<!--
Here's the general flow:

1. Select **Review** or the **Item Availability** link to open the **Item Availability** page.
1. Verify that the items in question are unavailable. Refer to the next section for details about how the page works.
1. When you're finished reviewing availability, return to the confirmation step in the **Tasks** tab and select **Confirm**.

The agent creates an email about the unavailable items for your review.
-->

## How to check item availability page

Before the agent calculates the availability and prices for requested items, it searches for the customer making the request, retrieves the customer's specific location, and then sets the **Customer No.** and **Location Filter** fields on the **Item Availability** page.

After setting these fields, the agent calculates the availability of each item in the request one at a time. The agent sets the **Date filter** with the customer's requested delivery date, if any, and the **Quantity Filter** to the requested quantity, currently only in the base unit of measure.

As a reviewer, these fields aren't automatically set to the values the agent used. To check availability, set the fields manually based on the customer's request.

For each item, the following fields are calculated:

|Field|Description|
|-|-|
|Requested Quantity Available|Indicates whether the quantity of items requested by the customer, specified by the **Quantity Filter** field, is available. If the **Quantity Filter** is less than or equal to the **Available Quantity (Base UOM)**, the item is available, and the checkbox is selected. If the **Quantity Filter** field is greater than, the item isn't available, and the checkbox is cleared. |
|Available Quantity (Base UOM)|Shows the projected available balance of item quantity on the date specified by the **Date Filter**. Calculated by adding the current item inventory in ledger entries to the items in scheduled receipts (inbound transactions like purchase and transfer orders). Then, subtract the items in gross requirements (outbound transactions like sales, service, and production orders). You can select the value to display the totals for item ledger entries and each receipt type. Then, you can drill down to view the source of these totals.|
|Unit of Measure Code|Shows the item's sales unit of measure code. If the field is empty, the base unit of measure is used.|
|Unit of Measure|The item's sales or base unit of measure description. Learn more in [Set Up Units of Measure](inventory-how-setup-units-of-measure.md).|
|Available Quantity|Shows the available quantity in base unit of measure (UOM) recalculated to the sales unit of measure.|
|Unit Price Including Discount|Shows the items' price including discount calculated for a specified customer on a specified date. Learn more in [Record special sales prices and discounts](sales-how-record-sales-price-discount-payment-agreements.md).|
|Availability Level|Shows the level of the item's availability, such as ***Available** or **Out of Stock**. The value is calculated based on the **Available Quantity (Base UOM)** compared to the **Safety Stock Quantity** specified on the item or storekeeping unit card. Learn more about safety stock in [Design Details: Balancing supply and demand](design-details-balancing-demand-and-supply.md).|

## Related information

[Sales Order Agent overview](sales-order-agent.md)  
[Set up Sales Order Agent](sales-order-agent-setup.md)  
[Process sales quotes and orders with Sales Order Agent](sales-order-agent-process.md)  
[FAQ for Sales Order Agent](faqs-sales-order-taker-agent.md)  
[Configure Copilot and agent capabilities](enable-ai.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-create-cost-budgets
---
title: Creating cost budgets
description: This article provides an overview of where to create and analyze cost budgets. Budgeting in cost accounting resembles budgeting in the general ledger.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.form: 1115, 1116, 1117, 1118, 1119, 1120, 1121, 1131, 1132, 1133
ms.date: 07/26/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Creating cost budgets

Budgeting in cost accounting resembles budgeting in the general ledger. A cost budget is created based on cost types just as a budget for the general ledger is created based on general ledger accounts.  

A cost budget is created for a certain period of time, for example, a fiscal year. You can create as many cost budgets as needed. You can create a new cost budget manually, or by importing a cost budget, or by copying an existing cost budget as the budget base. For more information, see [Create G/L Budgets](finance-how-create-budgets.md).

You use the following pages to create and analyze cost budgets. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon to find a page, and then read the tooltip for each.

|To|See|  
|--------|---------|  
|Transfer budgets from the general ledger.|**Copy G-L Budget to Cost Acctg.** batch job|  
|Copy cost budgets.|**Copy Cost Budget** batch job|  
|Allocate budgets.|**Cost Allocation** page|  
|See cost budget registers and cost budget entries.|**Cost Budget Registers** page|  
|Print cost budget comparisons using various reports.|**Cost Acctg. Balance-Budget** report<br /><br /> **Cost Acctg. Statement-Budget** report<br /><br /> **Cost Budget by Cost Center** report<br /><br /> **Cost Budget by Cost Object** report|  

## Related information

[Accounting for Costs](finance-manage-cost-accounting.md)  
[Create G/L Budgets](finance-how-create-budgets.md)  
[Terminology in Cost Accounting](finance-terminology-in-cost-accounting.md)  
[Defining and Allocating Costs](finance-define-and-allocate-costs.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-to-receive-and-convert-electronic-documents
---
title: Receive and convert electronic documents
description: This article describes how to receive electronic documents directly from trading partners or from an OCR service.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.form: 189, 190, 191 
ms.date: 03/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Receive and convert electronic documents

> [!NOTE]
> The content in this article is only applicable for versions of Dynamics 365 Business Central that were released before 2023 release wave 2. In 2023 release wave 2, new functionality for E-Documents is included. To learn more, see [Set up e-documents](finance-how-setup-edocuments.md). 


The generic version of [!INCLUDE[prod_short](includes/prod_short.md)] supports receiving electronic invoices and credit memos in the PEPPOL format, which is supported by the largest providers of document exchange services. To receive an invoice from a vendor as an electronic PEPPOL document, you process the document in the Incoming Documents page to convert it to a purchase invoice or general journal line in [!INCLUDE[prod_short](includes/prod_short.md)].

In addition to receiving electronic documents directly from trading partners, you can receive electronic documents from an OCR service that has turned your PDF or image files into electronic documents.  

Before you can receive electronic documents through the document exchange service, you must set up various master data, such as company information, vendors, items, and units of measure. These are used to identify the business partners and items when converting data in elements in the incoming document file to fields in [!INCLUDE[prod_short](includes/prod_short.md)]. For more information, see [Set Up a Document Exchange Service](across-how-to-set-up-a-document-exchange-service.md).  

Before you can receive electronic documents through the OCR service, you must set up and enable the preconfigured service connection. For more information, see [Set Up Incoming Documents](across-how-setup-income-documents.md).  

The traffic of electronic documents in and out of [!INCLUDE[prod_short](includes/prod_short.md)] is managed by the Job Queue feature. Before you can receive electronic documents, the relevant job queue must be started.  

You can either start the conversion of electronic documents manually, as described in this procedure, or you can enable a workflow to convert electronic documents automatically when they're received. The generic version of [!INCLUDE[prod_short](includes/prod_short.md)] includes a workflow template, *From Incoming Electronic through OCR to Open Purchase Invoice Workflow*, which is ready to be copied to a workflow and enabled. For more information, see [Workflow](across-workflow.md).  

> [!NOTE]  
> When you convert electronic documents received from the OCR service to documents or journal lines in [!INCLUDE[prod_short](includes/prod_short.md)], multiple lines on the source document will be summed on one line. The single line will be of type G/L Account and the **Description** and (G/L account) **No.** fields will be empty. The value in the **Amount** field will equal the total amount excluding VAT of all lines in the source document.  
>
> To make sure that the **Description** and **No.** fields are filled, you can choose the **Map Text to Account** button on the **Incoming Documents** page to define that a certain invoice text is always mapped to a certain debit or credit account in the general ledger. Going forward, the **Description** field on document or journal lines created from an electronic document for that vendor or customer will be filled with the text in question and the (G/L account) **No.** field with the account in question.  
>
> Instead of mapping to a G/L account, you can also map to a bank account. This is practical, for example, for electronic documents for expenses that are already paid where you want to create a general journal line that is ready to post to a bank account.  

The following procedure describes how to receive a vendor invoice and convert it to a purchase invoice in [!INCLUDE[prod_short](includes/prod_short.md)]. The procedure is the same when you convert a vendor invoice to a general journal line.  

### To receive and convert an electronic invoice to a purchase invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.  

2. Select the line for the incoming document record that represents a new incoming electronic invoice, and then choose the **Edit** action.  

    On the **Incoming Document Card** page, the related XML file is attached, and most of the fields are prefilled with information from the electronic invoice. For more information, see [Create Incoming Document Records](across-how-create-income-document-records.md).  

3. In the **Data Exchange Type** field, choose **PEPPOL - Invoice** or **OCR â€“ Invoice** depending on the source of the electronic document.  

4. To map text on the vendor invoice to a specific debit account, on the **Actions** tab, in the **General** group, choose **Map Text to Account**, and then fill the **Text-to-Account Mapping Worksheet** page.  

5. Choose the **Create Document** action.  

    A purchase invoice will be created in [!INCLUDE[prod_short](includes/prod_short.md)] based on the information in the electronic document.  

    Any validation errors, typically related to wrong or missing master data in [!INCLUDE[prod_short](includes/prod_short.md)] will be shown on the **Error Messages** FastTab.  

## Related information

[Managing Payables](payables-manage-payables.md)  
[Incoming Documents](across-income-documents.md)  
[Set Up Electronic Document Sending and Receiving](across-how-to-set-up-electronic-document-sending-and-receiving.md)  
[Exchanging Data Electronically](across-data-exchange.md)   
[General Business Functionality](ui-across-business-areas.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-add-fields-word-report-layout
---
title: How to Add Fields to a Word Report Layout
description: This topic describes how to add fields of a report dataset to an existing Word report layout for a report.
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 10/01/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Work with Word Layouts

A Word report layout determines the content and format of a report when it is previewed and printed from Business Central. You create and modify these layouts using Microsoft Word.

[![Example of a word report layout document for Business Central.](media/word-layout.png)](media/word-layout.png#lightbox) 

When you modify a Word report layout, you specify the fields of the report dataset to include on report and how the fields are arranged. You also define the general format of the report, such as text font and size, margins, and background images. You will typically arrange the content of the report by adding tables to the layout.

To make general formatting and layout changes, such as changing text font, adding and modifying a table, or removing a data field, just use the basic editing features of Word, like you do with any Word document.

If you're designing a Word report layout from scratch or adding new data fields, then start by adding a table that includes rows and columns that will eventually hold the data fields.

> [!TIP]  
> Show the table gridlines so that you see the boundaries of table cells. Remember to hide the gridlines when you're done editing. To show or hide table gridlines, select the table, and then under **Layout** on the **Table** tab, choose **View Gridlines**.

## Embedding Fonts in Word Layouts for Consistency

To ensure that reports always display and print with the intended fonts, wherever users open or print the reports, you can embed the fonts in the Word document. However, embedding fonts can significantly increase the size of the Word files. Learn more about embedding fonts in Word at [Embed fonts in Word, PowerPoint, or Excel](https://support.office.com/article/Embed-fonts-in-Word-PowerPoint-or-Excel-cb3982aa-ea76-4323-b008-86670f222dbc).

## Adding data fields

A report dataset can consist of fields that display labels, data, and images. This topic describes the procedure for adding fields of a report dataset to an existing Word report layout for a report. You add fields by using the Word custom XML part for the report and adding content controls that map to the fields of the report dataset. Adding fields requires that you have some knowledge of the report's dataset so that you can identify the fields that you want to add to the layout.  
  
> [!NOTE]  
> You cannot modify built-in report layouts<!--Onprem. Built-in layouts can only be modified by using the development environment-->.  

###  <a name="OpenXMLPart"></a> To open the Custom XML part for the Report in Word  
  
1. If it's not already open, then open the Word report layout document in Word.  
  
     For more information, see [Create and Modify a Custom Report Layout](ui-how-create-custom-report-layout.md).  
  
2. Display the **Developer** tab in the ribbon of Microsoft Word.  
  
     By default, the **Developer** tab is not shown in the ribbon. Learn more at [Show the Developer Tab on the Ribbon](/visualstudio/vsto/how-to-show-the-developer-tab-on-the-ribbon).  
  
3. On the **Developer** tab, select **XML Mapping Pane**.  
  
4. In the **XML Mapping** pane, in the **Custom XML Part** dropdown list, choose the custom XML part for [!INCLUDE[prod_short](includes/prod_short.md)] report, which is typically last in the list. The name of the custom XML part has the following format:  
  
     `urn:microsoft-dynamics-nav/reports/<report_name>/<ID>`  

     `<report_name>` is the name that is assigned to the report 

     `<ID>` is the identification number of the report.  
  
     After you select the custom XML part, the XML Mapping pane displays the labels and field controls that are available for the report.  
  
### To add a label or data field  
  
1. Place your cursor in the document where you want to add the control.  
  
2. In the **XML Mapping** pane, right-click the control that you want to add, choose **Insert Content Control**, and then choose **Plain Text**.  
  
    > [!NOTE]  
    > You cannot add a field by manually typing the dataset field name in the content control. You must use the **XML Mapping** pane to map the fields.  
  
### To add repeating rows of data fields to create a list  
  
1. In a table, add a table row that includes a column for each field that you want repeated.  
  
   This row will act as a placeholder for the repeating fields.  
  
2. Select the entire row.  
  
3. In the **XML Mapping** pane, right-click the control that corresponds to the report data item that contains the fields that you want repeated, choose **Insert Content Control**, and then choose **Repeating**.  
  
4. Add the repeating fields to the row as follows:  
  
    1. Place your pointer in a column.  
  
    2. In the **XML Mapping** pane, right-click the control that you want to add, choose **Insert Content Control**, and then choose **Plain Text**.  
  
    3. For each field, repeat steps a and b.  
  
## Adding image fields

A report dataset can include a field that contains an image, such as a company logo or a picture of an item. To add an image from the report dataset, you insert a **Picture** content control.  
  
Images align in the top-left corner of the content control and resize automatically in proportion to fit the boundary of the content control.  
  
> [!IMPORTANT]  
> You can only add images that have a format that is supported by Word, such as .bmp, .jpeg, and .png file types. If you add an image that has a format that is not supported by Word, you will get an error when you run the report from the [!INCLUDE[prod_short](includes/prod_short.md)] client.  
  
### To add an image  
  
1. Place your pointer in the document where you want to add the control.  
  
2. In the **XML Mapping** pane, right-click the control that you want to add, choose **Insert Content Control**, and then choose **Picture**.  
  
3. To increase or decrease the image size, drag a sizing handle away from or towards the center of the content control.  

##  <a name="RemoveField"></a> Removing label and data fields

Label and data fields of a report are contained in content controls in Word. The following figure illustrates a content control when it's selected in the Word document.  

![Content control for field in Word report layout.](media/nav_wordreportlayouts_contentcontrol.png "NAV_WordReportLayouts_ContentControl")  

The name of the label or data field name displays in the content control. In the example, the field name is CompanyAddr1.  

### To remove a label or data field  

1. Right-click the field that you want to delete, and then choose **Remove Content Control**.  

     The content control is removed, but the field name remains as text.  

2. Delete the remaining text as needed.

## Custom XML Part Overview

Word report layouts are built on *custom XML parts*. A custom XML part for a report consists of elements that correspond to the data items, columns, and labels that comprise the report's dataset. <!--OnPrem The data as defined in the Report Dataset Designer in Microsoft Dynamics NAV Development Environment. -->The custom XML part is used to map the data into a report when the report is run.

### XML structure of custom XML part

The following table provides a simplified overview of the XML of a custom XML part.  
  
|XML Elements|Description|  
|------------------|-----------------|  
|`<?xml version="1.0" encoding="utf-16"?>`|Header|  
|`<WordReportXmlPart xmlns="urn:microsoft-dynamics-365/report/<reportname>/<id>/"`|XML namespace specification. `<reportname>` is the name that is assigned to the report. `<id>` is the ID that is assigned to the report.|  
|`..<Labels>`<br /><br /> `....<ColumnNameCaption>ColumnNameCaption</ColumnNameCaption>`<br /><br /> `....<LabelName>LabelCaption</LabelName>`<br /><br /> `..</Labels>`|Contains all the labels for the report.<!--OnPren The element includes labels that are related to columns that have the IncludeCaption Property.--><br />-   Label elements that are related to columns have the format `<ColumnNameCaption>ColumnNameCaption</ColumnNameCaption>`<!--OnPrem where `ColumnName` is determined by the column's Name Property.-->.<br />-  Label elements have the format `<LabelName>LabelName</LabelName`<!--OnPrem where LabelName is determined by the label's Name Property.-->.<br />-   Labels are listed in alphabetical order.|  
|`..<DataItem1>`<br /><br /> `....<DataItem1Column1>DataItem1Column1</DataItem1Column1>`|Top-level data item and columns. Columns are listed in alphabetical order.<!--OnPrem <br /><br /> The element names and values are determined by the Name Property of the data item or column.-->|  
|`....<DataItem2>`<br /><br /> `......<DataItem2Column1>DataItem2Column1</DataItem2Column1>`<br /><br /> `....</DataItem2>`<br /><br /> `....<DataItem3>`<br /><br /> `......<DataItem3Column1>DataItem3Column1</DataItem3Column1>`<br /><br /> `....</DataItem3>`|Data items and columns that are nested in the top-level data item. Columns are listed in alphabetical order under the respective data item.|  
|`..</DataItem1>`<br /><br /> `</WordReportXmlPart>`|Closing element.|  
  
### Custom XML part in Word

 In Word, you open the custom XML part in the **XML Mapping** pane, and then use the pane to map elements to content controls in the Word document. The **XML Mapping** pane is accessible from the **Developer** tab (learn more at [Show the Developer Tab on the Ribbon](/visualstudio/vsto/how-to-show-the-developer-tab-on-the-ribbon)).  
  
 The elements in the **XML Mapping** pane appear in a structure that is similar to the XML source. Label fields are grouped under a common **Labels** element and data item and columns are arranged in a hierarchal structure that corresponds to the XML source, with columns listed in alphabetical order. Elements are identified by their column name as defined in the report's dataset in AL code. Learn more in [Defining a Report Dataset](/dynamics365/business-central/dev-itpro/developer/devenv-report-dataset).  
  
 The following figure illustrates the simple custom XML part from the previous section in the **XML Mapping** pane of a Word document.  
  
 ![Clip of the XML Mapping pane in word.](media/nav_reportlayout_xmlmappingpane.png "NAV_ReportLayout_XMLMappingPane")  
  
* To add a label or field to the layout, you insert a content control that maps to the element in the **XML Mapping** pane.  
  
* To create repeating rows of columns, insert a **Repeating** content control for the parent data item element, and then add content control for the columns.  
  
* For labels, the actual text that appears in the generated report is the value of the **Caption** property for the field in the data item table (if the label is related to the column in the report dataset) or a label in the Report Label Designer (if the label is not related to a column in the dataset).  
  
* The language of the label that is displayed when you run the report depends on the language setting of the report object.  
  
## Related information

[Create and Modify a Custom Report Layout](ui-how-create-custom-report-layout.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-use-field-service-integration
---
title: Use your integration with Field Service
description: This article describes how to benefit from an integration with Microsoft Dynamics 365 Field Service.
author: brentholtorf
ms.topic: how-to
ms.search.keywords: field service, integration, integrating
ms.date: 05/14/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap template
---

# Use your integration with Field Service

This article describes the tasks that integrating [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE [field-service-short](includes/field-service-short.md)] enables. What you can do depends on whether your integration is the **Project** or **Project and Service** type.

The following sections describe tasks in both applications for both types of integrations.

> [!NOTE]
> The **Project and Service** type of integration includes the same features as the **Project** type. To keep this article short and avoid redundancy, the sections that describe the **Project and Service** type focus on using service features.

## Use a Project type of integration in Business Central

This section describes tasks you can do in [!INCLUDE [prod_short](includes/prod_short.md)] with data from [!INCLUDE [field-service-short](includes/field-service-short.md)].

### Track consumption on work orders

Depending on your settings on the **Field Service Integration Setup** page, when work orders include products and services, consumption information is transferred and posted using a **Project Journal** in [!INCLUDE [prod_short](includes/prod_short.md)].

Use the **Project Planning Lines** page to track posting and invoicing of consumption on work orders. From the **Project Planning Lines** page, you can create and post sales invoices in [!INCLUDE [prod_short](includes/prod_short.md)]. Afterward, you can synchronize them with [!INCLUDE [field-service-short](includes/field-service-short.md)] and keep track of the status of the invoices.

> [!NOTE]
> For work orders services [!INCLUDE [field-service-short](includes/field-service-short.md)] with a booking that uses a bookable resource, if the bookable resource is coupled to a [!INCLUDE [prod_short](includes/prod_short.md)] resource data synchronizes to two project journal lines:
>
> - One line of the type **Budget** for the coupled resource.
> - One line of the type **Billable** for the item being serviced.
>
> The product on the work order service must be coupled to an item of the type **Service** in [!INCLUDE [prod_short](includes/prod_short.md)]. Also, the base unit of measure for the item must be **Hours Unit of Measure** on the **Dynamics 365 Field Service Integration Setup** page.
>
> You can create an invoice for an item of the type **Service** from the billable project planning line, and use the budget project planning line to register cost with the resource.

### Manage locations

Use the **Locations in Field Service** action on the **Locations** and **Location Card** pages to open a coupled location in [!INCLUDE [field-service-short](includes/field-service-short.md)], synchronize it, set up and delete couplings, and view synchronization logs. You can view the product quantity allocated from work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] as part of the gross requirements for calculating inventory availability in [!INCLUDE [prod_short](includes/prod_short.md)]. Demand generated by orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] automatically becomes input for planning.

### Create and post sales invoices

The **Quantity To Bill** and **Duration To Bill** values are copied to the **Qty- to Transfer to Invoice** field. Based on those values, you can create and post sales invoices in [!INCLUDE [prod_short](includes/prod_short.md)] to invoice the customer. After the invoice is posted and synchronized to the Dynamics 365 Sales environment, or consumption is processed in [!INCLUDE [prod_short](includes/prod_short.md)], the quantity invoiced and quantity consumed display on the [!INCLUDE [prod_short](includes/prod_short.md)] tab on the **Work Order Product** and **Work Order Service** pages.

## Use a Project type of integration in Field Service

This section describes tasks you can do in [!INCLUDE [field-service-short](includes/field-service-short.md)] with data from [!INCLUDE [prod_short](includes/prod_short.md)].

### Synchronize work order products and services with project tasks

You can [create work orders](/dynamics365/field-service/create-work-order) using the **Service Account** and **Billing Account** from [!INCLUDE [prod_short](includes/prod_short.md)]. On work orders, you must select the **Business Central Project Task** in the **External Project** field. Selecting a project lets you synchronize work order products and services to the appropriate project task in [!INCLUDE [prod_short](includes/prod_short.md)].

### Check item availability

You can add inventory and noninventory items as **Work Order Products** on work orders and get the quantity on hand and costs and prices from [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Create a work order from the work order form and record list](/dynamics365/field-service/create-work-order#create-a-work-order-from-the-work-order-form-and-record-list).

You can use the **Open in Business Central** action to open a location that you coupled to a warehouse.

Technicians can verify whether the items they need to complete a work order are available. To check availability, on the **Work Order** or **Product** pages, on the **Related** menu, choose **Items Availability by Location**.

### Book resources

You can book a resource and relate the **Bookings** to work order services using a **Bookable Resource** from [!INCLUDE [prod_short](includes/prod_short.md)].

### Create and post work orders

When you mark a work order product or service as **Used** on a work order with a specific work order type, the lines synchronize to a service order. Consumption is also posted, based on settings on the **Dynamics 365 Field Service Integration Setup** page.

During consumption and invoice posting in [!INCLUDE [prod_short](includes/prod_short.md)], the quantities are updated on the original work order product and work order service lines in [!INCLUDE [field-service-short](includes/field-service-short.md)].

## Use a Project and Service type of integration in Business Central

This section describes tasks you can do in [!INCLUDE [prod_short](includes/prod_short.md)] with data from [!INCLUDE [field-service-short](includes/field-service-short.md)].

### Identify the service orders that synchronize with work orders

It could be that not all of your service orders synchronize with work orders. On the **Service Orders** list page, the **Coupled to Dynamics 365 Field Service** field indicates whether orders synchronize.

### Update the service order with data from the work order

While you do the work for a work order in [!INCLUDE [field-service-short](includes/field-service-short.md)], the information from the work order synchronizes with a related service order in [!INCLUDE [prod_short](includes/prod_short.md)]. For example, when you change the booking status from **Scheduled** to **In Progress**, the status of the service order changes to **In Process**.

However, because synchronization runs on a schedule, the information in the service order might not be up to date at the moment. To update the service order to be sure you're working with the latest information, choose the **Synchronize** action, and select **Get data update from Dataverse**.

### Post consumption and invoice the service order

When you change the status of a work order to **Completed** in [!INCLUDE [field-service-short](includes/field-service-short.md)], the status of the service order in [!INCLUDE [prod_short](includes/prod_short.md)] becomes **Finished** and you can post and invoice it.

You can review the information in the service order before you post it. For example, on the **Service Order** page, on the **Lines** FastTab, you can choose the **Service Lines** action to review the consumption of services and materials. If you're happy with the information, use the **Post** action to post the order. In [!INCLUDE [prod_short](includes/prod_short.md)], the status of the service order becomes **Closed**. In [!INCLUDE [field-service-short](includes/field-service-short.md)], the status of the work order becomes **Posted**.

> [!TIP]
> If you have unposted consumption, choose the **Ship and Consume** option first. Then, to generate the invoice, choose **Ship and Invoice**.

To learn more about posting service orders, go to [Service Posting](service-service-posting.md).

### View the customer asset related to a service item

From the **Service Item** page, you can access the customer asset by choosing the **Customer Asst.** action.

## Use a Project and Service type of integration in Field Service

This section describes tasks you can do in [!INCLUDE [field-service-short](includes/field-service-short.md)] with data from [!INCLUDE [prod_short](includes/prod_short.md)].

### Align work orders with service orders

The integration automatically synchronizes work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] with service orders in [!INCLUDE [prod_short](includes/prod_short.md)]. For example, when you create a work order, a service order is automatically created in [!INCLUDE [prod_short](includes/prod_short.md)] and coupled with it. Data from work order incidents aligns with service item lines, and work order products and services align with service lines.

On work orders, you can add items of the type **Service** as **Work Order Services** and get costs and prices from [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Products and services tab](/dynamics365/field-service/work-order-experience#products-and-services-tab). The items from [!INCLUDE [prod_short](includes/prod_short.md)] show as primary assets under **Assets** on the work order.

> [!NOTE]
> When a product or service's status on a work order changes from **Estimated** to **Used** in [!INCLUDE [field-service-short](includes/field-service-short.md)], they synchronize to project journal lines in [!INCLUDE [prod_short](includes/prod_short.md)].

## Related information

[Integrate with Microsoft Dynamics 365 Field Service](admin-integrate-field-service.md)  
[Integrate with Microsoft Dataverse via data sync](admin-common-data-service.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-create-income-document-records
---
title: Create Incoming Document Records
description: Use different functions on the Incoming Documents page to review expense receipts, manage OCR tasks, convert incoming document files and attach external files.
author: jswymer
ms.topic: how-to
ms-service: dynamics-365-business-central
ms.search.keywords: electronic document, e-invoice, incoming document, OCR, ecommerce, document exchange, import invoice
ms.date: 02/27/2024
ms.author: jswymer
ms.custom: bap-template
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
---
# Create incoming document records

On the **Incoming Documents** page, you can use different functions to review expense receipts, manage OCR tasks, and convert incoming document files, manually or automatically, to the relevant documents or journal lines. The external files can be attached at any process stage, including to posted documents and to the resulting vendor, customer, and general ledger entries.

To record an external document in [!INCLUDE[prod_short](includes/prod_short.md)], first create or complete an incoming document record. You can do those tasks manually, or you can take a photo of the external document to create the incoming document record with the image file attached.

Before you can use the **Incoming Documents** feature, you must perform the required setup. For more information, see [Set Up Incoming Documents](across-how-setup-income-documents.md).

## Approve or reject an incoming document

If you have set up the **Incoming Documents** feature to require approval to create documents, users with the appropriate rights must approve the records before they're processed. For more information, see [Set up approvers of incoming document records](across-how-setup-income-documents.md#to-set-up-approvers-of-incoming-document-records).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.
2. Select the line with the document that you want to approve or reject, and then choose the **Approve** or **Reject** actions.

If you approve the incoming document record, the **Released** check box on the incoming document line is selected. The user in charge of creating, for example, purchase invoices can proceed to process the record.

## Create an incoming document record by taking a photo

> [!NOTE]  
> The following procedure only applies to the [!INCLUDE[prod_short](includes/prod_short.md)] tablet and phone clients.

1. On the role center, choose the **Create Incoming Document from Camera** tile, and then go to step 4.
2. Alternatively, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.
3. On the **Incoming Documents** page, choose **New**, and then choose **Create from Camera**. The camera on the tablet or phone is activated.
4. Take a photo of a document, such as a purchase receipt, that you want to process as an incoming document, and then choose the **Use** button.

    A new incoming document record is created with the image attached.

## Attach an image to an incoming document record by taking a photo

> [!NOTE]  
> The following procedure only applies to the [!INCLUDE[prod_short](includes/prod_short.md)] tablet and phone clients.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.
2. Open the card for an existing incoming document record.
3. On the document record page, choose **Process**, and then choose **Attach Image from Camera**. The camera on the tablet or phone is activated.
4. Take a photo of a document, such as a purchase receipt, that you want to process as an incoming document, and then choose the **Use** button.

    The image is attached to the incoming document record.

## Create an incoming document record manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.
2. Choose **New**, and then the **Create from File** action.  
3. On the **Insert File** page, do one the following steps attach a file that represents the incoming document:

   [!INCLUDE[file-upload](includes/file-upload.md)]

4. Alternatively, choose the **New** action, then do the following steps:

    1. To attach a file, choose **Process** > **Attach File**.
    2. On the **Insert File** page, drag a selected the file that represents the incoming document in question or select **click here to browse** to find and open the file.
    3. On the **Incoming Document** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Related information

[Use OCR to Turn PDF and Image Files into Electronic Documents](across-how-use-ocr-pdf-images-files.md)
[Create Incoming Document Records Directly from Documents and Entries](across-how-connect-disconnect-income-document-records.md)
[Find Posted Documents without Incoming Document Records](across-how-find-posted-documents-without-income-document-records.md)
[Incoming Documents](across-income-documents.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-share-onedrive
---
title: Opening Business Central Files in OneDrive
description: Learn how you can share Business Central data through OneDrive for Business. 
author: jswymer
ms.topic: how-to
ms.search.keywords:
ms.date: 08/03/2022
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Opening and Sharing Business Central Files in Microsoft OneDrive

[!INCLUDE[prod_short](includes/prod_short.md)] makes it easy to store, manage, and share files with other people through Microsoft OneDrive for Business. On most pages with available files, such as the Report Inbox or when files are attached to records, you'll find **Open in OneDrive** and **Share** actions.


:::image type="content" source="media/onedrive-overview-report-inbox-w-outline.png" alt-text="The Open in OneDrive and Share actions for reports":::


:::image type="content" source="media/one-drive-attachments-w-outline.png" alt-text="The Open in OneDrive and Share actions for attachments":::


## Open in OneDrive

The **Open in OneDrive** action copies the file to your OneDrive and then opens the file in an application such as Microsoft Excel online, Microsoft Word online, or Microsoft PowerPoint online. 

<!--## Working with different types of files-->

When you choose **Open in OneDrive**, [!INCLUDE[prod_short](includes/prod_short.md)] identifies Excel, Word, and PowerPoint files and opens them in their online applications, that is, Excel online, Word online and PowerPoint online. 

Using the online versions of these applications, you can annotate, edit, and collaborate with others without leaving the browser.

For other popular file types, such as PDFs, text files, and images, OneDrive provides file viewers that offer features for printing, sharing, and more. If a file can't be viewed in OneDrive, you might be prompted to download it.

## Share

The **Share** action copies the file to your OneDrive so you can see with whom you've already shared it as well as share the file with other people. When you select the **Share** action, the following page opens.

:::image type="content" source="media/share-to-onedrive-dialog-v2.PNG" alt-text="Share file in OneDrive":::

If you're familiar with OneDrive, you may recognize the above-referenced page. You'll see you have two options for sharing the file: **Send link** and **Copy link**.

- **Send link** let's you share the files with specific people. The people you share the file will get an email with a link to the file. The file will also appear in the **Shared** section of their OneDrive. Start by typing the email addresses or contact names in the **Name, group or email field**. Include a message below the  **Name, group or email field**, if you want.

  > [!TIP]
  > If you want to compose your message in Outlook, select the **Outlook** button. The link will be inserted into a draft email and everyone you entered to share with will be in the **To** list. With this option, you can author emails using all of Outlook's features, including formatting text, adding other attachments, inserting pictures or tables, and adding CC or BCC recipients.

- **Copy link** copies a file link you can use to share the file through applications such as Facebook, Twitter, or email. 

Before you send or copy a file link, set the permission level you want people to have. You can see the current setting under **Send link** or **Copy link**. In most cases, it will be **Anyone with the link can edit**, depending on your administrator's settings. To change the permissions, select the link and make changes on the **Link Settings** page.

The sharing feature in Business Central is based on OneDrive. Learn more about OneDrive sharing and permissions at [Share OneDrive files and folders](https://support.microsoft.com/en-us/office/share-onedrive-files-and-folders-9fcc2f7d-de0c-4cec-93b0-a82024800c07).

> [!NOTE]
> The **Share** action isn't available in the Business Central app for mobile devices.

## First-time sign in from Business Central

When you use the **Open in OneDrive** or **Share** action for the first time, [!INCLUDE[prod_short](includes/prod_short.md)] does the following things:

1. Opens the **Please review terms and conditions** page. Read the page, and if you agree with the terms and conditions, select **Agree** to continue.
2. Creates a folder named [!INCLUDE[prod_short](includes/prod_short.md)] in OneDrive. 
3. Within the [!INCLUDE[prod_short](includes/prod_short.md)] folder, it creates a folder with the same name as the company you're working in. If you work in more than one company, [!INCLUDE[prod_short](includes/prod_short.md)] creates a folder for each company you're working in when you use the **Open in OneDrive** or **Share** action. 
4. Puts a copy of the file you selected in the company name folder, and then opens the file. 

Then, the next time you use the **Open in OneDrive** or **Share** action, [!INCLUDE[prod_short](includes/prod_short.md)] only copies and opens the file. 

## Managing multiple copies of a file

When you choose **Open in OneDrive** or **Share**, the file is copied from [!INCLUDE[prod_short](includes/prod_short.md)] to your folder in OneDrive. If you edit the file in OneDrive, that file will be different from the [!INCLUDE[prod_short](includes/prod_short.md)] file. To update [!INCLUDE[prod_short](includes/prod_short.md)] with the latest file version, remove the existing file from [!INCLUDE[prod_short](includes/prod_short.md)] and upload the latest copy.

If a file with the same name already exists in OneDrive, you'll be given the following choices:

- **Use existing**

  This option opens or shares the file that's already stored in OneDrive, instead of copying the file from Business Central.
  
- **Replace**
  
  This option replaces the existing file in OneDrive with the file you selected from Business Central. The original file isn't lost&mdash;you can see and restore it using the version history in OneDrive. Learn more at [Restore a previous version of a file stored in OneDrive](https://support.microsoft.com/office/restore-a-previous-version-of-a-file-stored-in-onedrive-159cad6d-d76e-4981-88ef-de6e96c93893).

- **Keep both**

  This option keeps the existing file as-is and saves the file you selected from Business Central under a different name. The new name is similar to the existing name, except with a suffix number such  â€œItems (2).xlsxâ€.

## About your Business Central folder on OneDrive

The folder and its content are private until you decide to share them with others. So you might decide to share content with one or more of your coworkers, or even people outside of your organization. 

You can access your OneDrive from the **My Settings** page by choosing the link in the **Cloud Storage** field. Learn more at [Share OneDrive files and folders](https://support.microsoft.com/en-us/office/share-onedrive-files-and-folders-9fcc2f7d-de0c-4cec-93b0-a82024800c07).

:::image type="content" source="media/my-settings-cloud-storage.PNG" alt-text="The Cloud Storage field in My Settings":::

<!--## Extending the Connection to OneDrive
You can create an extension and connect it to... For more information, see...-->

## Related information

[Business Central and OneDrive Integration](across-onedrive-overview.md)  
[Managing OneDrive Integration with Business Central](admin-onedrive-integration.md)  
[OneDrive FAQ](admin-onedrive-faq.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/report-analyze-excel
---
title: Analyzing report data with Excel and XML
description: Learn how to use Excel and XML to analyze a report dataset. 
author: jswymer
ms.topic: concept-article
ms.devlang: al
ms.search.keywords: task, process, report, print, schedule, save, Excel, PDF, Word, dataset
ms.date: 09/09/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Analyzing report data with Excel and XML

[!INCLUDE[2021_releasewave2](includes/2021_releasewave2.md)]

As a developer or advanced user, it helps to inspect the data that is generated for a given report dataset while you create new reports or modify existing ones. To support this capability, you can export a report dataset as raw data to an Excel workbook or XML file&mdash;directly. In Excel, for example, you can then do ad-hoc analysis of the data and diagnose issues.

## Get started

To export a report dataset to an Excel workbook or XML file, open the report in the client, then in the request page, select **Send to** > **Microsoft Excel Document (data only)** or **XML Document**. The file downloads to your device.

## More about Excel (data only)

The **Microsoft Excel Document (data only)** option exports the report results and the criteria used to generate them&mdash;but it doesn't include the report layout. The Excel file includes the full dataset, as raw data, arranged in rows and columns. All data columns of the report's dataset are included, regardless of whether they're used in the report layout.

Once you have the Excel file, you can start analyzing the data. For example, you could filter the data and use Power Pivot to display it.

Each time you export results, a new worksheet is created. Using the **Microsoft Excel Document (data only)** option, you can run the same report and reuse formatting changes. For example, for Power Pivot, you can run the report again for another time period, copy the results to the worksheet, and then refresh the worksheet. You can also find a reporting app on [AppSource](https://appsource.microsoft.com/).

> [!NOTE]
> You can't export a report that has more than 1,048,576 rows or 16,384 columns. With Business Central on-premises, the maximum number of exported rows might be even less. Business Central Server includes a configuration setting, called **Max Data Rows Allowed to Send to Excel**, for decreasing the limit from the maximum value. For more information, see [Configuring Business Central Server](/dynamics365/business-central/dev-itpro/administration/configure-server-instance#General) or contact your administrator.

## For administrators

- **Microsoft Excel Document (data only)** was introduced as an optional feature in the 2021 release wave 1, update 18.3. To give users access to this feature when running 2021 release wave 1, enable the **Save report dataset to Microsoft Excel Document** feature update in **Feature Management**. For more information, see [Enabling Upcoming Features Ahead of Time](/dynamics365/business-central/dev-itpro/administration/feature-management). In 2021 release wave 2, this feature became permanent.

- To use **Microsoft Excel Document (data only)**, user accounts need the **Allow Action Export Report Dataset To Excel** permission. You can give users this permission by assigning either the **Troubleshooting Tools** or **Export Report Excel** permission set. For more information, see [Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  

## For developers and advanced users

The **Microsoft Excel Document (data only)** option exports all columns, including columns that hold filters and formatting instructions for other values. Here are a few points of interest:

- Binary data in a field, like an image, isn't exported.

  In columns that hold binary data, fields include the text **Binary data ({0} bytes)**, where **{0}** indicates the number of bytes.
- The Excel file also includes the **Report Metadata** worksheet.

  This worksheet shows the filters applied to the report and general report properties, like the name, ID, and extension details. The filters are shown in the **Filter (DataItem::Table::FilterGroupNo::FieldName)** column. The filters in this column include filters set on the report's request page. It also includes filters defined in AL code, for example, by the [DataItemLink property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-dataitemlink-reports-property) and [DataItemTableView property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-dataitemtableview-property).

For more information about report design, see [Report Overview](/dynamics365/business-central/dev-itpro/developer/devenv-reports).

## Related information

[Working with Reports](ui-work-report.md)  
[Managing Report and Document Layouts](ui-manage-report-layouts.md)  
[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Working with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-key-sales-influencers
---
title: Key Sales Influencers (Power BI Report)
description: Identify and analyze factors that influence sales performance. Explore the most impactful variables and trends based on sales data.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37102_Primary
ms.date: 05/20/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Key Sales Influencers (Power BI Report)

[!INCLUDE[applies-to-2025w1](includes/applies-to-2025w1.md)]

The **Key Sales Influencers** report provides actionable insights into the factors that drive sales performance in your organization. The report analyzes key variables to offer a deeper understanding of how they affect sales figures, enabling more informed decision-making and strategic planning.

The **Key Influencers** visual uses AI to identify factors that affect sales across types of sales documents. It highlights the key metrics that influence specific datasets and breaks down the most impactful segments within your sales data.

Additionally, the **Top Segments** tab summarizes the segments analyzed in the **Key Influencers** visual. The summary gives you an overview of the areas that contribute most to your sales outcomes. Together, these tools provide a comprehensive view of sales drivers and help uncover opportunities for optimization.

:::image type="content" source="media/powerbi/sales/sales-key-sales-influencers.png" alt-text="Screenshot of the Key Sales Influencers report" lightbox="media/powerbi/sales/sales-key-sales-influencers.png":::

## Use the report

Leadership and management teams use the report to identify the primary drivers of sales performance and uncover actionable insights.

As the CEO of a furniture company, this report can help you identify the furniture categories that drive the highest sales. For example, you might discover that ergonomic chairs are a major revenue contributor, with sales figures typically three times higher than other types of chairs. This insight can guide your investment decisions and provide valuable data to share with stakeholders.

As a sales manager, this report can help you identify the customer demographics behind sales trends. For instance, the **Key Influencers** visual might reveal that a significant number of office desk orders are placed by customers located in a certain region, with a higher likelihood of ordering quantities of five or more, which is twice as often as customers in other regions.

Using this insight, you can develop targeted strategies. For example, offering bulk pricing discounts for office desks, encouraging larger purchases and strengthening customer loyalty. You can optimize your pricing strategy while catering to regional buying behaviors.

## Key performance indicators

The report includes the following key performance indicators (KPIs) and measures:

- **[Sales Amount](sales-powerbi-sales-kpis.md#sales-amount)**  
- **[Sales Quantity](sales-powerbi-sales-kpis.md#sales-quantity)**

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Item
- Customer
- Item Category
- Value Entry
- Sales Line
- Salesperson/Purchaser

## Try the report

Try the report here: [Key Sales Influencers](https://businesscentral.dynamics.com?page=37102)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-define-ext-text
---
title: Add extended text
description: You can add extra lines to extend the standard text that describes an item, a G/L account, and other data.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 391, 30
ms.date: 08/21/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Add extended text

Use extended texts to communicate additional information for items, stock-keeping units, general ledger accounts, project planning lines, and resources. For example, the extra details might be about special prices, terms, or handling instructions. Provide the information by adding extra lines as extended text. You can also set up conditions for use of the extra lines.  

The following section describes how to add extended text to a description of an item. The same steps apply to stock-keeping units, general ledger accounts, project planning lines, and resources.  

## To define extended text for a description

1. Open the card for an item that you want to add extended text to, and then choose the **Extended Text** action.
2. Fill in the **Code** and **Description** fields.
3. Choose the **New**.
4. Fill in the **Language Code** field, or turn on the **All Language Codes** toggle if you use language codes.
5. Fill in the **Starting Date** and **Ending Date** fields if you want to limit the dates on which the extended text is used.
6. On the **Lines** FastTab, in the **Text** field, enter the extended text.
7. On the **Sales**, **Purchases**, and **Service** FastTabs, turn on the toggles for the documents you want to include the extended text.
8. Close the page.

You can now add this extended text to documents. The following procedure explains how to add extended text to a sales order, but the same steps apply to any other document that you specified for the extended text.  

## To add an extended item text on a sales order line

1. Open a sales order that has a sales line for an item with extended text. To learn more, go to [Sell Products](sales-how-sell-products.md).
2. Select the line, and then choose the **Insert Ext. Text** action.

## Related information

[Setting Up Inventory](inventory-setup-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-browser-settings
---
title: Setting up your browser
description: Describes how to set up browsers to work with Business Central and products that integrate with it.
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: Teams, web client, troubleshooting, errors
ms.date: 12/04/2023
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Setting up and troubleshooting your browser to work with Business Central Web Client

This article explains how to set up your browser so that the [!INCLUDE[web_client](includes/web_client.md)] and all its features work properly. Read this article if you're having problems opening the [!INCLUDE[web_client](includes/web_client.md)], your browser's settings can be the cause of some problems.

The article provides details for setting up Microsoft Edge, but the requirements for JavaScript, cookies, and pop-ups are the same for all supported browsers. For other browsers, refer to the instructions provided by the manufacturer.  

## Use a supported browser

Make sure to use a one of the supported browsers. See [Minimum Requirements for Using Business Central](product-requirements.md#browsers).

We recommend that you use a stable channel version of a web browser as it's the most reliable and stable version that has undergone extensive testing and bug fixing. This ensures that you have the best experience and are less likely to encounter any issues while using the web client.  

## Allow JavaScript from Business Central

*Problem:*

If the browser doesn't allow JavaScript, you see **NotSupported/DisabledJavaScript** in the address bar and an **HTTP Error 404.0 - Not Found** message when you try to open [!INCLUDE[prod_short](includes/prod_short.md)], and the 

<!-- http://localhost:8080/NotSupported/DisabledJavaScript HTTP Error 404.0 - Not Found
The resource you are looking for has been removed, had its name changed, or is temporarily unavailable. -->

*Fix:*

1. In Microsoft Edge, go to **Settings** > **Cookies and site permissions** > **JavaScript**.
2. Do one of the following steps. Choose the step that your organization recommends:

    - Move the **Allowed** toggle to the left (Off). Then, select **Add** and type the address (URL) for [!INCLUDE[prod_short](includes/prod_short.md)] in the **Site** box. Select **Add** when done.
    - Move the **Allowed** toggle to the right (On).

## Allow cookies from Business Central

*Problem:*

If the browser doesn't allow cookies, you get the following error:

**Sorry, the page could not be found. Please check the address and try again.** 

*Fix:*

1. In Microsoft Edge, go to **Settings** > **Cookies and site permissions** > **Cookies and site data**.
2. Move the **Allow sites to save and read cookie data** toggle to the right (On).  

## <a name="popup"></a>Allow pop-ups from Business Central

[!INCLUDE[prod_short](includes/prod_short.md)] integrates with several products. In some cases, like with Microsoft Teams, [!INCLUDE[prod_short](includes/prod_short.md)] opens, or "pop-ups," within the product. This capability requires that your browser allows pop-ups from [!INCLUDE[prod_short](includes/prod_short.md)].

*Problem:*

If pop-ups for [!INCLUDE[prod_short](includes/prod_short.md)] are being blocked, you get a message similar to the following message:

**Something went wrong. Your browser may be blocking pop-ups needed by Business Central.**

<!--
Something went wrong
Your browser may be blocking pop-ups needed by Business Central.

Change your browser settings to allow pop-ups or allow this for trusted domains, then try again.
If these settings are managed for your organization, you should contact your administrator for assistance.

Try again
-->
*Fix:*

1. In Microsoft Edge, go to **Settings** > **Cookies and site permissions** > **Pop-ups and redirects**.
2. Move the **Blocked** toggle to the right (On).
3. Select **Add**. In the **Site** box, type `https://businesscentral.dynamics.com`, then select **Add**.

## Related information

[Troubleshooting Teams](admin-teams-troubleshooting.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-set-up-warehouse-employees
---
title: Set Up Warehouse Employees
description: Each user who performs warehouse activities must be set up as a warehouse employee assigned to one default location and potentially more non-default locations.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/25/2023
ms.custom: bap-template
ms.search.form: 7328, 7348
ms.service: dynamics-365-business-central
---
# Set Up Warehouse Employees

You must set up each user who performs warehouse activities as a warehouse employee and assign them to a default location. [!INCLUDE [prod_short](includes/prod_short.md)] filters warehouse activities to the employee's default location. They can only perform the warehouse activities at the location. You can also assign a user to other locations. They can access but not perform activities at those locations.

## To set up warehouse employees  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Employees**, and then choose the related link.  
2. Choose the **New** action.  
3. Select the **User ID** field, and then select the user to be added as a warehouse employee. Choose the **OK** button.  
4. In the **Location Code** field, enter the code of the location where the user will be working.  
5. Turn on the **Default** toggle to specify that this is the only location where the employee can perform warehouse activities.  
6. Repeat these steps to assign other employees to locations or assign other locations to existing warehouse employees.  

> [!TIP]
> You can also use the **Add me as warehouse employee** action to quickly add yourself to the list of warehouse employees. For example, this is useful when you're testing the capabilities.

## See related [Microsoft training](/training/modules/get-started-warehouse-management/)

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Define an invoice posting policy for users](admin-setup-invoice-posting-policy.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-fulfill-service-contracts
---
title: Overview of Tasks to Fulfill Service Contracts
description: Outlines tasks involved in fulfilling service contracts with your customers like setting up standard contractual agreements with customizable templates and more.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: contract, agreement, configure
ms.date: 06/23/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Fulfilling Service Contracts 
One way to set up a service management business is to have standard contractual agreements between you and your customers that describe the level of service and the service expectations. You can create contract templates that include necessary information, such as customer, start date of contract, and invoice period.  
  
After you set up the template, you can customize the resulting contract to keep track of service hours, or other items that may vary from customer to customer. You can also set up a contract manually from a service contract quote. Finally, you can adjust your service pricing to keep track of discounts that a specific customer qualifies for, by specifying the discount amount on the **Service Contract** page.  

The following table describes a sequence of tasks, with links to the topics that describe them.   
  
|**To**|**See**|  
|------------|-------------|  
|Handle a service item under multiple contracts. | [Multiple Contracts](service-multiple-contracts.md)|  
|Create service contracts either manually, or from a service contract quote.| [Create Service Contracts and Service Contract Quotes](service-how-to-create-service-contracts-and-service-contract-quotes.md)|
|Adjust the annual amount of a service contract or contract quote, so make sure that you invoice the right amount.|[Change the Annual Amount on Service Contracts or Contract Quotes](service-how-to-change-the-annual-amount-on-service-contracts-or-contract-quotes.md)|

## Related information
[Planning Service](service-plan-service.md)  
[Delivering Service](service-deliver-service.md)  
[Setting Up Service Management](service-setup-service.md)  
[Create Service Contracts and Service Contract Quotes](service-how-to-create-service-contracts-and-service-contract-quotes.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-financial-reporting-view-a-report
---
title: View a financial report
description: Describes how to view a financial report on-screen, as a PDF, or in Excel.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 1/24/2025
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: Report_25, 
ms.service: dynamics-365-business-central
---

# View a financial report on-screen, as a PDF, or in Excel

After you set up definitions for your financial reports, you can start using the data to support your finance and accounting processes. The Financial Reporting feature offers multiple ways to view the reports:

- On-screen, with drill-through to the underlying numbers.
- As PDF documents designed for sharing and printing.
- As Excel files that use the template or layout of your choice.

This article describes each approach.

## View a financial report on-screen

You can view any report on-screen with drill-through to the underlying numbers.

To view a financial report, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. On the **Financial Reports** page, select the financial report you want to view, and then choose the **View Financial Report** action.

The page has **Options** and **Dimensions** FastTabs. If the FastTabs aren't available, you might need to enable them with the **Show all options** action.

On the **Options** FastTab, specify how the report shows data. For example:

- Use the **View by** field to specify the period for which to summarize data. Specifying a period is a good way to make the data more granular.
- Use the **Date Filter** field to show amounts for a certain data or date range.
- The **Show All Lines** toggle specifies whether the page displays all lines, or excludes empty lines, as defined in the row definition.
- The **Negative Amount Format** field allows you to define how you want to format negative numbers.

On the **Dimensions** FastTab, you can choose to filter data according to global dimensions.

> [!TIP]
> If you change a setting, to refresh the data on the screen, use the **Recalculate** action.

### Show or hide the Row No. field on a report

The **Row No.** field might show when you view a report on-screen. The field doesn't show when you view the report in a PDF. To show or hide the field, personalize the page. To learn more, go to [Personalize your workspace](ui-personalization-user.md).

## Integrate financial reports with Excel

You can integrate a financial report with an Excel workbook template, adjust the layout to suit your needs, and then update the Excel template with data from [!INCLUDE[prod_short](includes/prod_short.md)]. For example, this integration makes it easier to generate your monthly and yearly financial statements in a format that works for you.

### Set up Excel integration for a financial report (create an Excel template)

To set up Excel integration for a financial report, follow these steps to create an Excel template.

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. On the **Financial Reports** page, select the financial report to enable with Excel, and then choose the **View Financial Report** action.
1. On the **Financial Report** page, choose the **Create New Excel Template** action. This action downloads a template Excel workbook with a single worksheet named after the report.
1. Copy the worksheet, and rename it to **Data**.
1. Rename the report worksheet to your liking.
1. In the report worksheet, mark all cells that show data from the financial report, including column and row headers. On the **Home** ribbon, find the **Number** menu and choose **General** as the category.
1. Choose the leftmost cell of the area with data from the financial report, and set a reference to the equivalent cell in the Data worksheet. Drag the formula to extend it to all cells in the first row, and then drag the row down to cover all rows in the financial report.
1. Hide the **Data** worksheet.
1. Format the report worksheet to suit your needs.
1. Save the workbook in OneDrive, or a similar place where the file is backed up and versioned.
1. Close the workbook.

> [!TIP]
> The **Row No.** field is shown on the data worksheet, but you might not want to include it on your worksheet.

> [!NOTE]
> If you make changes to the row or column definitions of the report you created a template for, you must update the template too. Each row and column in the Excel template must be in the same position as the generated report.

### Run a financial report with an Excel template

To run a financial report with an Excel template, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. On the **Financial Reports** page, select the financial report to enable with Excel, and then choose the **Export to Excel/PDF** menu.
1. Choose the **Update Copy of Existing Document** action.
1. Upload your Excel template (close the Excel workbook before uploading it).
1. On the **Name/Value Lookup** page, choose the Data worksheet.
1. [!INCLUDE[prod_short](includes/prod_short.md)] runs the financial report and merges the resulting data with your Excel template.

### Example: Use and update an Excel template to create a monthly report

You can create an Excel template that contains the reports that you include in your reporting package. Each report in the workbook must have a data tab and a tab that has the formatted report. When you update your monthly package, use the **Update Copy of Existing Document** for each report. Be sure to save after each update.

Follow these steps to produce your monthly financial report.

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. Choose the financial report you used to create the Excel template, and then choose the **View Financial Report** action.
1. Change the date filter to the next month.
1. Choose the **Export to Excel/PDF** and **Update Copy of Existing Document** actions.
1. Select the template you saved in OneDrive (or a similar place.) Make sure that the Excel file is closed. Otherwise, an error message will state that the file is in use.
1. The next screen shows the worksheets/tabs that are available in the Excel workbook. Choose the **Data** tab, and then choose **OK**. If you choose the tab labeled **IS**, your formatting will be overwritten and you'll need to start over.
1. The Excel workbook is updated with data and downloaded to you. Be sure to enable editing to show your changes when opening the workbook.
1. Save the workbook with a different name than the original template.

## Save Excel templates as Excel layouts

[!INCLUDE[prod_short](includes/introduced_in_2025rw1.md)]

Instead of saving your Excel templates locally, you can import them into [!INCLUDE[prod_short](includes/prod_short.md)] with the Excel layouts for Financial Reporting feature.

### Manage Excel layouts for a financial report

To manage Excel layouts for a financial report, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. On the **Financial Reports** page, select the financial report to enable with Excel layouts, and then choose the **Definitions** menu.
1. To open the **Financial Report Excel Layouts** page where you can create, import, export, run, and delete layouts, choose the **Excel Layouts** action.

### Create a new Excel layout for a financial report

To create a new Excel layout for a financial report, follow these steps:

1. Open the **Financial Report Excel Layouts** page for the report.
1. To create a new layout, fill in the **Code**, **Description**, and **File name** fields.
1. Choose the **Run/Export** action to download the Excel template.
1. Create your layout using the steps described in [Set up Excel integration for a financial report (create an Excel template)](#set-up-excel-integration-for-a-financial-report-create-an-excel-template).
1. When your layout is ready for testing, close the Excel workbook and choose the **Import** action. Upload your Excel workbook.

### Run a financial report with an Excel layout

To run a financial report with an Excel layout, follow these steps:

1. Open the **Financial Report Excel Layouts** page for the report.
1. Select the row with the layout, and then choose the **Run/Export** action.

### Replace an Excel layout for a financial report

To replace a financial report with a new Excel layout, follow these steps:

1. Open the **Financial Report Excel Layouts** page for the report.
1. Select the row with the layout, and then choose the **Import** action. Upload the new Excel workbook.

### Define a default Excel layout for a financial report

To define a default Excel layout for a financial report, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. On the **Financial Reports** page, open the financial report
1. On the **Options** FastTab, in the **Default Excel Layout** field, choose the default Excel layout for the report.

### Run a financial report with a default Excel layout

To run a financial report with a default Excel layout, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, and then choose the related link.
1. On the **Financial Reports** page, open the financial report.
1. Choose the **Export to Excel/Print** action, and then choose the **Open in Excel (using layout)** action.

## Print and save financial reports

You can print financial reports using your device's printing services. [!INCLUDE[prod_short](includes/prod_short.md)] also offers options to save reports as PDF files.

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.
1. On the **Financial Reports** page, select the report to print, then choose the **Print** action.
1. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
1. In the **Printer** field, select the device to which the report is sent.
    1. The **(Handled by the browser)** option indicates that a printer isn't specified for the report. In this case, the browser handles the printout and displays the standard printing steps. You can choose a local printer connected to your device. **(Handled by the browser)** isn't available in the [!INCLUDE[prod_short](includes/prod_short.md)] mobile app or the app for Teams.
1. In the **Layouts** field, you can choose between layouts for portrait or landscape orientation.
1. To control how negative numbers show in the report output (in PDF), on the **Options** FastTab, choose your preferred format in the **Negative Amount Format** field. Your selection here overrides the default format defined on the report.
1. Choose the **Print** action.

> [!TIP]
> The name of your company always shows in the upper right of the PDF. If you specify a **Display Name** on the **Companies** list page, that name shows instead of the name in the **Name** field (which isn't easy to change).

### Schedule a financial report or save as a PDF document

You can save a financial report in file formats such as PDF. [!INCLUDE[prod_short](includes/prod_short.md)] can also generate recurring financial reports.

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.
1. On the **Financial Reports** page, choose the **Print** action.
1. Set the report accordingly, then choose the **Send to** action.
1. Select the file format or the **Schedule** action, and choose **OK**.
1. To generate a scheduled or recurring financial report, fill in the fields. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)].<br><br>For recurring financial reports, set the **Earliest Start Date/Time** and **Expiration Date/Time** fields with the first and last date, respectively, to generate the financial report. Also, select the days on which to generate the report by filling in the **Next Run Date Formula** field. To learn more about date formulas, go to [Use Date Formulas](ui-enter-date-ranges.md#use-date-formulas).

## Related information
<!-- 
2025w1: add link to administrator article for Financial Report Usage telemetry
-->
[Prepare financial reporting](bi-how-work-account-schedule.md)  
[Financial analytics overview](bi.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-planning-with-without-locations
---
title: Planning With or Without Locations
description: In this topic learn about production and manufacturing, including supply planning, in Business Central.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 09/15/2022
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Planning With or Without Locations

Before you start utilizing planning engine, we recommend deciding about whether or not to use locations. There are two main straightforward ways:

* demand lines always carry location codes and the system fully uses stockkeeping units, including the relevant location setup. Learn more at [Demand at location](#demand-at-location).  
* demand lines never carry location codes and the system uses the item card. See the [Demand at a "blank location"](#demand-at-blank-location) scenario below.

## Demand at location  

When the planning system detects demand at a location (a line with a location code), it will behave in different ways depending on 2 critical setup values.  

During a planning run, the system checks for the 2 setup values in sequence and plans accordingly:  

1. Does a SKU exist for the item on the demanded location?  

    If yes, then:  

    The item is planned according to planning parameters on the SKU card.  

    If no, then:  

2. Does the **Components at Location** field in the **Manufacturing Setup** page contain the demanded location code?  

    If yes, then:  

    The item is planned according to planning parameters on the item card.  

    If no, then:  

    The item is planned according to the "minimal alternative" which covers the exact demand. The planning parameters are set as: Reordering Policy = *Lot-for-Lot*, Include Inventory = *Yes*, all other planning parameters = Empty. (Items using reordering policy *Order* remain using *Order* as well as the other settings.)

> [!TIP]
> If you often plan for demand at different locations, then we recommend that you use the stockkeeping units capability and avoid demand on blank location. Learn more at [Set Up Stockkeeping Units](inventory-how-to-set-up-stockkeeping-units.md)

See variations in the [scenarios below](#scenarios).

> [!NOTE]
> The **Components at Location** field in the **Manufacturing Setup** page are very important in governing how the planning system handles production demand lines.
>
> For production demand, [!INCLUDE [prod_short](includes/prod_short.md)] will use the same location for subassembly and components as the one stated on the production order. However, by filling in this field, you can redirect the subassembly and components to another location.
>
> You can also define this for a specific SKU by selecting a different location code in the **Components at Location** field on the SKU card. Note, however, that this rarely makes sense as the planning logic may be distorted when planning for the SKU component.

## Demand at "blank location"

In general, when the planning system detects demand at a blank location (a line without a location code), the item is planned according to planning parameters on the item card.

The **Locations Mandatory** field in the **Inventory Setup** page, the **Components at Location** field in the **Manufacturing Setup** page, or stockkeeping units will affect how the planning system handles demand lines with/without location codes. If one of following statements is true, the demand on blank location is also considered a deviation and the planning system will react by outputting the "minimal alternative": The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

* The **Components at Location** field in the **Manufacturing Setup** page has a value.
* A stockkeeping unit exists for the planned item.
* The **Location Mandatory** field is selected.

## Scenarios

See variations in the setup scenarios below.

### Setup 1

* Location Mandatory = *Yes*  
* SKU is set up for *WEST*  
* Component at Location = *EAST*  

#### Case 1.1: Demand is at *WEST* location

The item is planned according to planning parameters on the SKU card (including possible transfer).

#### Case 1.2: Demand is at *EAST* location

The item is planned according to planning parameters on the item card.

#### Case 1.3: Demand is at *MAIN* location

The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

#### Case 1.4: Demand is at *BLANK* location

The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

### Setup 2

* Location Mandatory = *Yes*  
* No SKU exists  
* Component at Location = *EAST*  

#### Case 2.1: Demand is at *WEST* location

The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

#### Case 2.2: Demand is at *EAST* location

The item is planned according to planning parameters on the item card.  

### Setup 3

* Location Mandatory = *No*  
* No SKU exists  
* Component at Location = *EAST*  

#### Case 3.1: Demand is at *WEST* location

The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

#### Case 3.2: Demand is at *EAST* location

The item is planned according to planning parameters on the item card.  

#### Case 3.3: Demand is at *BLANK* location

The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

### Setup 4

* Location Mandatory = *No*  
* No SKU exists  
* Component at Location = *BLANK*  

#### Case 4.1: Demand is at *EAST* location

The item is planned according to: Reordering Policy = *Lot-for-Lot* (*Order* remains *Order*), Include Inventory = *Yes*, all other planning parameters = Empty.

#### Case 4.2: Demand is at *BLANK* location

The item is planned according to planning parameters on the item card.

As you can see from the last scenario, the only way to get a correct result for a demand line without a location code is to disable all setup values relating to locations. Similarly, the only way to get stable planning results for demand at locations is to use stockkeeping units.  

Therefore, if you often plan for demand at locations, then we recommend that you use the Stockkeeping Units capability.

## Related information

[Planning](production-planning.md)  
[Set Up Manufacturing](production-configure-production-processes.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Inventory](inventory-manage-inventory.md)  
[Set Up Stockkeeping Units](inventory-how-to-set-up-stockkeeping-units.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)  
[Setup Best Practices: Supply Planning](setup-best-practices-supply-planning.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-how-reconcile-bank-accounts-separately
---
title: Reconcile bank accounts
description: Learn how to reconcile transactions in Business Central with transactions in statements from your bank.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 10/01/2024
ms.custom: bap-template
---

# Reconcile bank accounts

Bank reconciliation helps ensure that what's in your books matches the statements you receive from your bank. Bank account reconciliation compares and matches entries in the bank accounts you set up in [!INCLUDE[prod_short](includes/prod_short.md)] with bank transactions at your bank. Reconciliation can then post the balances to your bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] to make them available to finance managers. Bank reconciliation is also a practical way to discover missing payments and resolve bookkeeping errors.

This article describes how to reconcile bank accounts from the **Bank Acc. Reconciliation** page.

However, you can also reconcile bank accounts on the **Payment Reconciliation Journal** page when you process payments. Open bank account ledger entries related to the applied customer or vendor ledger entries close when you choose the **Post Payments and Reconcile Bank Account** action. This action automatically reconciles the bank account for the payments that you post with the journal. Learn more in [Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md).

> [!NOTE]  
> The North American versions offers the **Bank Rec. Worksheet** page, which is better suited for checks and deposits but doesn't let you import bank statement files. To use this page instead of the **Bank Acc. Reconciliation** page, clear the **Bank Recon. with Auto. Match** field on the **General Ledger Setup** page. Learn more in [Reconciling Bank Accounts](LocalFunctionality/UnitedStates/how-to-reconcile-bank-accounts.md) under United States Local Functionality.

The lines on the **Bank Acc. Reconciliation** page are divided into two panes. The **Bank Statement Lines** pane shows either imported bank transactions or ledger entries with outstanding payments. The **Bank Account Ledger Entries** pane shows the ledger entries in the internal bank account.

## About bank reconciliation

Reconciling transactions in statements from your bank with bank entries in [!INCLUDE[prod_short](includes/prod_short.md)] is referred to as *matching*. There are three ways to match transactions with bank entries:

* Automatically, by using the **Match Automatically** action.
* Automatically, by using the **Reconcile with Copilot** action.

  This action is available as part of the bank reconciliation assist (preview) feature, which an AI-powered feature. Learn more in [Reconcile bank accounts with Copilot](bank-reconciliation-with-copilot.md).
* Manually, by selecting lines in both panes to link each bank statement line to one or more bank account ledger entries, and then using the **Match Manually** action.

The **Applied** checkbox is selected on lines where entries match. Learn more in [Set Up Rules for Automatic Application of Payments](receivables-how-set-up-payment-application-rules.md). If you enter a statement ending date on the bank reconciliation after you match its lines with entries, [!INCLUDE [prod_short](includes/prod_short.md)] will undo the matches for lines and entries that are after that date.

> [!NOTE]
> After you enter a date in the **Statement Date** field, the **Bank Acc. Reconciliation** page filters the bank ledger entries to show only entries up to that date. You can only post bank reconciliations with bank ledger entries on or before the statement ending date. The filter ensures that your bank ledger is balanced with your bank statement on the statement ending date, with the difference being the outstanding payments and checks.

When the value in the **Total Balance** field in the **Bank Statement Lines** pane equals the total value of the **Balance To Reconcile** field plus the **Balance Last Statement** field in the **Bank Account Ledger Entries** pane, you can choose the **Post** action. Unmatched bank account ledger entries remain on the page, indicating discrepancies that you should resolve to reconcile the bank account.

Any lines that can't be matched, indicated by a value in the **Difference** field, will remain on the **Bank Acc. Reconciliation** page after posting. They represent some kind of discrepancy that you must resolve before you can complete the bank account reconciliation. The following table describes a few typical business situations that can cause differences.

| Difference | Reason | Resolution |
|------------|--------|------------|
| A transaction in your bank account in [!INCLUDE[prod_short](includes/prod_short.md)] isn't in the bank statement. | The bank transaction wasn't created although a posting was made in [!INCLUDE[prod_short](includes/prod_short.md)]. | Create the missing transaction (or prompt a debitor to make it). Then reimport the bank statement file or enter the transaction manually. |
| A transaction on the bank statement doesn't exist as a document or journal line in [!INCLUDE[prod_short](includes/prod_short.md)]. | A bank transaction was made without a corresponding posting in [!INCLUDE[prod_short](includes/prod_short.md)], for example a journal line posting for an expense. | Create and post the missing entry. Learn more about a quick way in [To create missing ledger entries to match bank transactions with](bank-how-reconcile-bank-accounts-separately.md#to-create-missing-ledger-entries-to-match-bank-statement-lines). |
| A transaction in the internal bank account corresponds to a bank transaction but some information is too different to give a match. | Information, such as the amount or the customer name, was entered differently in the bank transaction or the internal posting. | Review the information, and then manually match the two. Optionally, correct the mismatch. |

You must resolve the differences. For example, create the missing entries and correct unmatched information until you can complete and post the bank account reconciliation.

You can fill in the **Bank Statement Lines** pane on the **Bank Acc. Reconciliation** page in the following ways:

* Automatically, by using the **Import Bank Statement** function to fill in the **Bank Statement Lines** pane with bank transactions according to an imported file or stream provided by the bank.
* Manually, by using the **Suggest Lines** function to fill in the **Bank Statement Lines** pane according to invoices in [!INCLUDE[prod_short](includes/prod_short.md)] that have outstanding payments.

## Add bank statement lines by importing a bank statement

The **Bank Statement Lines** pane shows bank transactions according to an imported file or stream provided by the bank.

To import bank statements as bank feeds, you must set up the Envestnet Yodlee Bank Feed service. The setup includes linking your bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] to the related online bank accounts. Learn more in [Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md).  

> [!TIP]
> You can also import bank statement files in comma or semicolon delimited format (.CSV). Use the **Set up a bank statement file format** assisted setup to define bank statement import formats and attach the format to a bank account. You can then use these formats when you import bank statements in the **Bank Account Reconciliation** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Account Reconciliation**, and then choose the related link.
2. Choose the **New** action.
3. In the **Bank Account No.** field, select the relevant bank account. The bank account ledger entries that exist on the bank account appear in the **Bank Account Ledger Entries** pane.
4. In the **Statement Date** field, enter the date of the statement from the bank.
5. In the **Statement Ending Balance** field, enter the balance of the statement from the bank.
6. If you have a bank statement file, choose the **Import Bank Statement** action.
7. Locate the file, and then choose the **Open** button to import the bank transactions into the **Bank Statement Lines** pane on the **Bank Acc. Reconciliation** page.

## To fill in bank reconciliation lines with the Suggest Lines action

The **Bank Statement Lines** pane is filled in according to invoices in [!INCLUDE[prod_short](includes/prod_short.md)] that have outstanding payments.  

1. On the **Bank Acc. Reconciliation** page, choose the **Suggest Lines** action.
2. In the **Starting Date** field, enter the earliest posting date for the ledger entries to be reconciled.
3. In the **Ending Date** field, enter the latest posting date for the ledger entries to be reconciled.

    > [!NOTE]
    > Typically, the ending date will match the date specified in the **Statement Date** field. However, if you want to reconcile transactions for only part of a period, you can enter a different ending date.

4. If you don't want the bank account ledger entries to include unmatched open reversed entries, choose the **Exclude Reversed Entries** toggle. By default, the list of bank account ledger entries include reversed entries up to the statement date.
5. Choose the **OK** button.

## Match bank statement lines with bank account ledger entries automatically

The **Bank Acc. Reconciliation** page offers automatic matching functionality based on a matching of text on a bank statement line (left pane) with text on one or more bank account ledger entries (right pane). You can overwrite the suggested automatic matching, and you can choose to not use automatic matching at all. Learn more in [Match bank statement lines with bank account ledger entries manually](#match-bank-statement-lines-with-bank-account-ledger-entries-manually).

You can investigate the basis for matches by using the **Match Details** action. For example, the details include the names of the fields that contained matching values.  

1. On the **Bank Acc. Reconciliation** page, choose the **Match Automatically**. The **Match Bank Entries** page opens.
2. In the **Transaction Date Tolerance (Days)** field, specify the span of days before and after the bank account ledger entry posting date within which the action searches for matching transaction dates in the bank statement.

    If you enter 0 or leave the field blank, the **Match Automatically** action only searches for matching transaction dates on the bank account ledger entry posting date.
3. Choose the **OK** button.

    The lines are color coded to make it easier to understand what to do with them. Bank statement lines and bank account ledger entries that are matched on the current bank reconciliation change to bold green font. Bank account ledger entries that are matched on other bank reconciliations are shown in italic blue font.
4. To remove a match, select the bank statement line, and then choose the **Remove Match** action.

> [!TIP]
> You can use a mix of manual and automatic matching. If you have manually matched entries, automatic matching will not overwrite your selections.

## Match bank statement lines with bank account ledger entries manually

> [!TIP]
> When matching lines and entries manually, the **Show All**, **Show Reversed Entries**, **Hide Reversed Entries**, and **Show Nonmatched** actions can make it easier to get an overview. By default, the bank account ledger entries don't include unmatched reversed entries. To include these entries in the list and match them manually, choose the **Show Reversed Entries** action. If you choose to hide reversed entries after you've made one or more matches, the matched entries are still shown.

> [!NOTE]
> You can't post a bank reconciliation if you do many-to-one matching and the combined amounts contain differences. This is true even if the combined differences balance to zero.
>
> Here's an example of a many-to-one matching that has differences. The value of 200 for bank statement entry 1 is matched to two bank ledger entries that have a total value of 180. The difference is 20. The value of 350 for bank statement 2 is matched to two other bank ledger entries that have a total value of 370. The difference is -20, which balances the value of 20 for bank statement 1.  
>
> To post a bank reconciliation with differences on the lines, post the differences and then match them against the posted entries.

1. On the **Bank Acc. Reconciliation** page, select an unapplied line in the **Bank Statement Lines** pane.
2. In the **Bank Account Ledger Entries** pane, select one or more banks account ledger entries that can be matched with the selected bank statement line. To choose multiple lines, select and hold the CTRL key, and then choose the lines.

   > [!TIP]
   > You can also manually match multiple bank statement lines with one bank account ledger entry. For example, this might be useful if your bank deposit contained several payment methods, such as credit cards from different issuers, and your bank lists those as separate lines.
3. Choose the **Match Manually** action.

    The selected bank statement line and the selected bank account ledger entries change to green font, and the **Applied** checkbox in the right pane is selected.
4. Repeat steps 1 through 3 for all bank statement lines that aren't matched.

> [!TIP]
> To remove a match, select the bank statement line, and then choose the **Remove Match** action. If you have matched multiple bank statement lines to a ledger entry, and need to remove one or more of the matched lines, all of the manual matches are removed for the ledger entry when you choose **Remove Match**.

## Validate your bank reconciliation

To double-check your bank account reconciliation before you post it, use the **Test Report** action to preview the reconciliation. The report is available in the following contexts:

* When you're preparing a bank reconciliation on the **Bank Acc. Reconciliation** page.
* When you're reconciling payments on the **Payment Reconciliation Journal** page.

Lines that can't be matched stay on the **Bank Acc. Reconciliation** page after posting. These lines contain a value in the **Difference** field. The difference represents a discrepancy that you must resolve before you can complete the bank account reconciliation. The following table describes a few typical business situations that can cause differences.

| Difference | Reason | Resolution |
|------------|--------|------------|
| A transaction in your bank account in [!INCLUDE[prod_short](includes/prod_short.md)] isn't in the bank statement. | The bank transaction wasn't created although a posting was made in [!INCLUDE[prod_short](includes/prod_short.md)]. | Create the missing transaction (or prompt a debitor to make it). Then reimport the bank statement file or enter the transaction manually. |
| A transaction on the bank statement doesn't exist as a document or journal line in [!INCLUDE[prod_short](includes/prod_short.md)]. | A bank transaction was made without a corresponding posting in [!INCLUDE[prod_short](includes/prod_short.md)], for example a journal line posting for an expense. | Create and post the missing entry. Learn more about a quick way in [To create missing ledger entries to match bank transactions with](bank-how-reconcile-bank-accounts-separately.md#to-create-missing-ledger-entries-to-match-bank-statement-lines). |
| A transaction in the internal bank account corresponds to a bank transaction but some information is too different to give a match. | Information, such as the amount or the customer name, was entered differently in the bank transaction or the internal posting. | Review the information, and then manually match the two. Optionally, correct the mismatch. |

You must resolve the differences. For example, create the missing entries and correct unmatched information until you can complete and post the bank account reconciliation.

> [!NOTE]
> The Bank Reconciliation page and Test Report assume you're only reconciling within the period up until the statement ending date. If you match a bank statement line to a bank ledger entry before you enter a statement ending date, and then enter a statement ending date that is after the ending date for the bank ledger entry, the data in the Test Report will be incorrect.

The following table describes fields on the Test Report that can help you complete the bank reconciliation.

|Field  |Description  |
|---------|---------|
|Statement Date| The date specified in the **Statement Date** field on the **Bank Acc. Reconciliation** page.|
|Balance Last Statement|The balance specified in the **Balance Last Statement** field on the **Bank Acc. Reconciliation** page. This field is filled in automatically from the most recent reconciliation for the same bank account. The value is zero if it's is your first bank account reconciliation.|
|Statement Ending Balance|The balance specified in the **Statement Ending Balance** field on the **Bank Acc. Reconciliation** page. |
|G/L Account No. <*number*> Balance at <*date*> | The balance on the G/L account on the statement ending date. This value is the unfiltered balance as of that date. If your bank uses your local currency, this balance should be the same as your bank account balance (shown on the right side of the report header) when you match all statement lines. An empty **()** in the name of this field means that your bank uses local currency.<br><br>A discrepancy in this field and the previous ones might indicate that you posted directly to the G/L account. It might also indicate that you're using the same G/L account for multiple banks, which we don't recommend. Banks are linked to the general ledger through the bank account posting group specified for the account.<br><br>The Test Report shows a warning if you have direct postings, even if the balance for the posting is zero. Direct postings that aren't balanced often lead to accumulated differences for future bank reconciliations. You should check the general ledger balance and ledger entries before you post the bank reconciliation. Learn more in about direct posting in [Avoid Direct Posting](#avoid-direct-posting).|
|G/L Account No. <*number*> Balance (<*LCY*>) at <*date*>| The balance on the G/L account on the statement ending date in local currency. The balance is converted to the bank account's currency using the exchange rate that was valid on the statement ending date. This value is the unfiltered balance as of that date. You compare to this balance to the **G/L Account No. <*number*> Balance at <*date*>* field if your bank uses a foreign currency. The value in the G/L Account No. <*number*> Balance at <*date*> field for local currency might differ slightly because currency conversion can result in small differences. Your bank's balance should be very close to this balance.  |
|Bank Account Balance at <*date*>| The balance on the bank account at the statement ending date.|
|Sum of Differences    | The sum of the differences for the statement lines. To access the details, turn on the **Print Outstanding Transactions** toggle when you enter criteria for the report. A difference is a bank statement line that isn't matched completely to one or more bank ledger entries. You can't post a bank account reconciliation that has differences. You can post a bank reconciliation that contains bank ledger entries that aren't matched to statement lines. This value is shown in the **Outstanding Bank Transactions** field and in a separate section if you turn on the Print Outstanding Transactions toggle.      |
|Statement Balance     | The value specified in the **Statement Ending Balance** field on the **Bank Acc. Reconciliation** page.  |
|Outstanding Bank Transactions     | The sum of unmatched, non-check bank ledger entries that have a posting date on or before the statement ending date. This happens when you register transactions before they're registered in your bank. For example, at the end of a period. When you create the next bank reconciliation, you can reconcile these entries.        |
|Outstanding Checks     | The sum of unmatched bank ledger entries for checks that have a posting date on or before the statement ending date. This happens when you register transactions before they're registered in your bank. For example, this can happen for checks if a vendor doesn't cash a check in the same period you registered it. When you create the next bank reconciliation, you can reconcile these entries.        |
|Bank Account Balance     | The sum of the values for the bank statement ending balance, outstanding bank transactions, and outstanding checks. After you handle all differences on matched entries, this balance matches your bank balance. For example, you accounted for all matched entries and the entries you couldn't match for this bank statement. You can post the reconciliation.        |

> [!TIP]
> If you run the **Test Report** from the **Payment Reconciliation Journal** page, [!INCLUDE [prod_short](includes/prod_short.md)] calculates the value in the **Statement Ending Balance** as follows:
>
> * balance last statement + sum of all lines in the payment reconciliation journal
>
> You can use the value to compare to your bank statement.

## To create missing ledger entries to match bank statement lines

Sometimes bank statement contains amounts for interest or fees charged. Such bank statement lines can't be matched because there aren't related ledger entries in [!INCLUDE[prod_short](includes/prod_short.md)]. You must then post a journal line for each transaction to create a related ledger entry that it can be matched with.

1. On the **Bank Acc. Reconciliation** page, choose the **Transfer to General Journal** action.  
2. On the **Trans. Bank Rec. to Gen. Jnl.** page, specify which general journal to use, and then choose the **OK** button.

    The **General Journals** page opens with new journal lines for any banks statement lines that are missing ledger entries.
3. Complete the journal line with information such as the balancing account. For more information, see [Work with General Journals](ui-work-general-journals.md).  
4. To review the result of posting before you post, choose the **Test Report** action, and then choose an option for accessing the report. The **Bank Account Statement** report shows the same fields as at the header of the **Bank Acc. Reconciliation** page.
5. Choose the **Post** action.

    After the entry is posted, match the bank statement line to it.
6. Refresh or reopen the **Bank Acc. Reconciliation** page. The new ledger entry appears in the **Bank Account Ledger Entries** pane.
7. Match the bank statement line with the bank account ledger entry, either manually or automatically.

## Find outstanding transactions in previous periods

You can use the Bank Statement report to find outstanding transactions in previous periods. Outstanding transactions were opened before the statement date and aren't closed, or were closed after the bank reconciliation was posted.

When you run the Bank Statement report from the **Bank Account Statement List** page, you can turn on the **Outstanding Entries** toggle, and the report includes a section that lists outstanding entries.

**Example**
We have bank account ledger entries A, B, and C in our bank account for the month of August. When we reconcile our bank account for August we find a bank statement line that matches entry A, but none for B and C. So we post the reconciliation with entry A reconciled and B and C as outstanding entries.

In September, we receive a payment for entry B and decide to reconcile our bank account. If we run the Bank Statement report before posting the reconciliation, we get one reconciled transaction and one outstanding.

If we print the report for August we get outstanding transactions for our B and C entries, even though we closed entry B in September.

> [!NOTE]
> The Bank Statement report has some known limitations if you import or manually enter bank transactions after you post a bank reconciliation.
>
> You can enter bank ledger entries on any date and with any posting date, so you don't always have to do it in a strict chronological order.. When you do a bank reconciliation, you reconcile a bank statement to the bank ledger entries you have registered up to the time you post the reconciliation, and with the posting date of the entries. Typically, that means a posting date on or before the statement ending date.
>
> When you post a bank reconciliation, [!INCLUDE [prod_short](includes/prod_short.md)] takes a snapshot of the data and uses it to fill in the bank statement report's header. But, the outstanding transactions sections are actual lookups to the bank ledger entries that existed up to the actual date and time you posted the bank reconciliation. The totals in the lines typically match the totals in the header. However, if you import bank ledger entries after you posted the bank reconciliation, but the posting dates are before the statement ending date, the totals in the header might not match the totals in the outstanding transactions sections.

## Undo a bank account reconciliation

If you find a mistake in a posted bank reconciliation, you can use the **Undo** action on the **Bank Account Statement List** page to correct it. When you undo a posted bank reconciliation, the entries are moved to the **Bank Account Reconciliations** page and marked as **Open**, meaning they aren't reconciled. You can then correct the bank reconciliation and post it again.

> [!NOTE]
> In the North American version, to use the Undo feature for posted bank reconciliations and bank statements you must turn on the **Bank Recon. with Auto-Match** toggle on the **General Ledger Setup** page. The Undo feature is not available for bank statements posted from bank reconciliation worksheets.

### Reusing the bank statement number

The bank statement number used for the new bank reconciliation is taken from the bank account as is the Balance Last Statement. You can change these values before you start a new bank reconciliation. However, when you create a new bank reconciliation, [!INCLUDE[d365fin](includes/d365fin_md.md)] checks whether the statement number is already assigned to a posted bank statement. If the number is in use, but you want the new bank statement to use it instead, you can use the **Change Statement No.** action on the **Bank Acc. Reconciliation** page.

### Examples

The following examples show how to fix a mistake on a posted bank reconciliation, with or without using the same statement number.

#### Example 1

You did bank reconciliations for January, February, and March. The bank statement number was 100 for March. Later, you discover that March only included entries until the 30th, which means entries for the 31st are missing. So, you need to redo the bank reconciliation for March. In this case, we open the **Bank Account Statement List** page, choose the statement for March, and then choose **Undo**.

The new bank reconciliation is given the statement number 101. To reassign the number 100, choose **Change Statement No.** and enter **100**. 

> [!TIP]
> Remember to set the appropriate Statement ending date (in this example, that is March 31), and edit the **Balance Last Statement** field. 

#### Example 2

You did bank reconciliations for January, February, June, and July. You discover that February was incorrect. Let's assume it had statement number 100. Like Example 1, you use the Undo and Change Statement No. actions to change the statement number as in example #1 and you can now redo February bank reconciliation.  

After you post the corrected bank reconciliation for February, on the corresponding Bank Account card the **Last Statement No.** field will show **100**, and the **Balance Last Statement** field will show the ending balance for the February statement. 

If the next bank reconciliation you do is for March, [!INCLUDE[d365fin](includes/d365fin_md.md)] will assign 101 as the statement number and give it the correct **Balance Last Statement**.

If the next bank reconciliation you do is for August, consider changing the values in the **Last Statement No.** and **Balance Last Statement** fields on the **Bank Account** card before you create the next bank reconciliation, or use the **Change Statement No.** action and also change the value in the **Balance Last Statement** field on the bank reconciliation page.

> [!NOTE]
> The statement number is important when you do bank reconciliations with imported CAMT files that contain statement numbers, or when you reconcile based on printed bank statements. If you just download a range of bank transactions from your online bank, the statement number is usually not important.  
>
> The Balance Last Statement is kept on the bank account to minimize mistakes when doing bank reconciliations, but it's also editable, allowing you to do your bank reconciliations in any order you want. This also means that if you undo a bank statement, the new ending balance might not be the balance last statement on the next bank statement. There's no feature that allows you to move a balance forward to all subsequent bank statements, so be aware of this when using Undo.  

## Avoid direct posting

Don't use a G/L account that allows direct posting in your bank account posting group. Direct posting breaks the connection between the bank account ledger entry and the G/L account ledger entry. When you reconcile your bank account, the entries posted directly to the G/L account aren't included, which makes it difficult to complete the reconciliation.

This mistake often happens when entering an opening balance for a bank account. It's important that you don't post the opening balance directly to the general ledger. Entries in the G/L account that are posted directly to the G/L account causes problems. For example, these entries might prevent you from reconciling your bank account. For foreign currency bank accounts, the entries can cause differences to accumulate after you post more bank reconciliations due to currency exchange rate adjustments. Often, you post the opening bank balance directly to the bank account, and the amount then ends up in the G/L account. Alternatively, you reverse it later against the G/L account that you use to balance the opening general ledger balance. In both cases, you must balance any direct posting to the G/L account before you start your first bank reconciliation, and especially so if the bank account is in a foreign currency.

## Related information

[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Reconcile bank accounts using bank reconciliation assist (preview)](bank-reconciliation-with-copilot.md)  
[Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md)  
[Setting Up Banking](bank-setup-banking.md)  
[Set Up Rules for Automatic Application of Payments](receivables-how-set-up-payment-application-rules.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-ext-doc-no
---
title: External document numbers on purchase documents
description: You can include information about the numbers that your vendors assign to documents that they send you by using the External Document Number field or the Your Reference field. Learn about the difference between the two fields here.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 04/21/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# External document numbers on purchase documents

[!INCLUDE [ext-doc-no-purch](includes/ext-doc-no-purch.md)]

You can also specify external document numbers on sales documents. For more information, see [External Document Numbers](sales-how-invoice-sales.md#external-document-numbers)

## Related information

[Enter External Document Numbers](across-enter-external-document-numbers.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[External Document Numbers on Sales Documents](sales-how-invoice-sales.md#external-document-numbers)  
[General Business Functionality](ui-across-business-areas.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-contacts
---
title: Create and manage company contacts
description: You set up all external entities that you have a business relationship with (such as prospects, customers, vendors, and consultants) as contacts.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.keywords: relationship, prospect
ms.search.forms: 5054, 5050, 5051, 5052, 5104, 5053, 9130, 6701, 5055, 1604
ms.date: 12/13/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Managing contacts

Employees in your company regularly meet prospective business relations that might develop into formal relationships. All such external contacts and their detailed information should be recorded in the system so that communication is more successful and so they can easily be converted to formal customer, vendor, or bank relationships.

Use the **Contacts** list to manage your contacts. From there, you can create opportunities and manage other interactions with individual contacts. You can also see statistics about a contact, and you can access a range of reports. For information about how to find the right contact in the list, see [Sorting, Searching, and Filtering](ui-enter-criteria-filters.md) .  

The following table describes a sequence of tasks, with links to the articles that describe them.

| To | See |
| --- | --- |
| Set up contact management prior to creating contacts. |[Set Up Contacts](marketing-setup-contacts.md) |
| Create a contact card for each new person or company that you interact with, such as a customer or vendor. |[Create Contacts](marketing-create-contact-companies.md) |
|Set up profile questionnaires that you want to use when entering information about your contacts' profiles.|[Use Profile Questionnaires to Classify Business Contacts](marketing-create-contact-profile-questionnaire.md)|
|Resolve confusion when two or more records exist for the same contact.|[Merge Duplicate Records](sales-how-merge-duplicate-records.md)|

## Related information

[Managing Sales Opportunities](marketing-manage-sales-opportunities.md)  
[Sorting, Searching, and Filtering](ui-enter-criteria-filters.md)  
[Work with Business Central](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-outlook
---
title: Get the Business Central Add-in for Outlook
description: Learn how to install the Business Central add-in for Outlook for your organization or for your own use. 
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.keywords: SMTP, mail, Microsoft 365, Outlook
ms.search.form: 1831, 1832
ms.date: 10/21/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Get the Business Central add-in for Outlook

With [!INCLUDE[prod_short](includes/prod_short.md)], you can manage business interactions with your customers and vendors, directly in [!INCLUDE [outlook-name](includes/outlook-name.md)]. With the [!INCLUDE[prod_short](includes/prod_short.md)] [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)] add-in, you can view financial data related to customers and vendors. You can also create and send financial documents, such as quotes and invoices.  

There are two ways to get the Business Central add-in for Outlook installed, depending on your role in the organization:

- As a Microsoft 365 administrator, use *Centralized Deployment* to install the add-in automatically for the entire organization, groups, or specific users.

- As any user, install the add-in for your own use if not already done by your admin.

## About the Business Central add-in for Outlook

The Business Central add-in for Outlook consists of two smaller add-ins:

- Contact insights

    This add-in provides users with [!INCLUDE[prod_short](includes/prod_short.md)] customer or vendor information in Outlook emails and calendar appointments. It also enables you to create and send [!INCLUDE[prod_short](includes/prod_short.md)] business documents, such sales quotes and invoices to a contact. <!--To support these task, the add-in adds actions to the Outlook ribbon, in the **Business Central** group. --> 

- Document view

    When an email refers to a business document number in the email body, this add-in provides a direct, in-line link from email body to the actual business document in [!INCLUDE[prod_short](includes/prod_short.md)].

For more information about what you do with the add-ins, see [Use Business Central as your Business Inbox in Outlook](work-outlook-addin.md).

Each add-in is provided as an XML file, called a *manifest*, which must be installed in Outlook of anyone who wants this functionality. These files describe how to activate the add-ins and connect to Business Central when they're used in Outlook. Working with these files is typically done by an admin. As a user, in most cases, you won't have to handle with these files directly. Either your admin will set up the add-in to install automatically for you or you'll use the built-in assisted setup to handle the installation.

> [!IMPORTANT]
> Working with multiple environments? The Business Central add-in for Outlook is designed to work with a single Business Central environment. When the add-in is installed, the name of the environment is included in the add-in's manifest. This configuration means that the add-in will only connect to the environment that it was installed from. To use the add-in with a different environment, you'll open the environment and install the add-in again.

## Deploy the add-in by using Centralized Deployment as an admin

Centralized Deployment is a feature in Microsoft 365 admin center that you use to automatically install add-ins in users' Office apps, like Outlook. It's the recommended way for admins to deploy for Office add-ins to users and groups within your organization.

> [!NOTE]
> For Business Central on-premises, see [Setting Up the Add-In for Outlook Integration with Business Central On-Premises](/dynamics365/business-central/dev-itpro/administration/setting-up-office-add-ins-outlook-inbox) in the administration content (English only).

### Prerequisites

- A Microsoft 365 subscription  
- Users are assigned a Microsoft 365 license  
- Your Microsoft 365 account has at least the [Exchange Administrator](/entra/identity/role-based-access-control/permissions-reference#exchange-administrator) role

### Deploy the add-in

1. In Business Central, select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then select the related link.
1. Select **Outlook Add-in Centralized Deployment** to start the assisted setup guide.
1. Review the first page and select **Next** to open the page for downloading the add-ins.
1. In the **Deploy** column, select the check box for the add-ins that you want to deploy, then select **Download and Continue**.

    A file with the name *OutlookAddins.zip* is downloaded to your device.

1. At this point, you're finished with the work you need to do in Business Central, so you can select **Done**.

   >[!TIP]
   > Before you select **Next**, select the **Go to Microsoft 365 (opens in a new window)** link to open and sign in to the Microsoft 365 admin center in a new browser window. You'll have to go to the Microsoft 365 admin center in a later step anyways.

1. Go the folder where the OutlookAddins.zip was downloaded, and extract the **Contact Insights.xml** and **Document View.xml** files from the .zip to a folder of your choice.

    For more information, see [Zip and Unzip files and folders](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5).
1. Sign in to the Microsoft 365 admin center, then go to [Integrated Apps](https://go.microsoft.com/fwlink/?linkid=2163967).

1. Select **Upload custom apps**.
1. On the **Upload Apps to deploy** page, set **App type** to **Office Add-in**.
1. Select **Upload manifest file (.xml) from device** > **Choose file**.
1. Choose one of the add-in files **Context Insights.xml** or **Documents.xml** that you extracted earlier.
1. Follow the instructions to assign users and deploy the add-in.
1. Repeat step 9 through 11 for the other add-in file if you want.

> [!IMPORTANT]
> A green check mark appears when the add-in is deployed to the admin center. However, it can take up to 24 hours before users see the add-in in the [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)] app. Users might have to restart Outlook as well.

When finished, you can always change the deployment in Microsoft 365 admin center, like assigning more users. For more information about deploying add-ins in the admin center, see [Deploy add-ins in the admin center](/microsoft-365/admin/manage/centralized-deployment-faq?view=o365-worldwide#how-do-you-target-add-in-user-assignments-with-centralized-deployment-&preserve-view=true).

## <a name="install"></a>Install the add-in for your own use

If your organization allows it, you can install the Business Central add-in for just yourself. Contact your administrator if you're not sure.

1. In Business Central, go to the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Outlook Add-in**, and then select the related link.
2. Read the page and select **Next** when ready.
3. If you want to receive a welcome email message from Business Central with overview of using the add-in, turn on **Send sample email message**.
4. Select **Finish** to complete the installation.

Business Central now connects to your email server and installs the add-in in your [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)]. This operation doesn't take long. You're now ready to start using the add-in in [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)].

### <a name="onprem"></a>For Business Central on-premises

If you're using Business Central on-premises, installing the add-in might be slightly different.

1. In Business Central, go to the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Outlook Add-in**, then select the related link.
1. Read the page and select **Next** when ready.
1. Do one of the following steps, depending on the page you see:

    - If you see the **Install to my Outlook** button, select it and you're all done.
    - If you see the **Next** button, select it. On the next page, if you want to receive a welcome email message from Business Central with overview of using the add-in, turn on **Send sample email message**. Then, select **Finish** and you're all done.
    - If you see the **Download Add-in** button, select it, then continue to the next step.
1. When you select **Download Add-in**, a file with the name *OutlookAddins.zip* is downloaded to your device. You should find the file at the top of the browser.

   Go the folder where the OutlookAddins.zip was downloaded, and extract the **Contact Insights.xml** and **Document View.xml** file from the .zip to a folder of your choice. For more information about how to extract files, see [Zip and Unzip files and folders](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5).

1. In your browser, visit [https://aka.ms/olksideload](https://aka.ms/olksideload). This link opens Outlook on the web, and then loads the **Add-Ins for Outlook** dialog.
1. Select **My add-ins** > **Add a custom add-in** > **Add from a file**.
1. Select one of the .xml files that you extracted, like **Contact Insights.xml**, then select **Open** > **Install**.
1. Repeat step 6 and 7 for the other .xml file, if you downloaded one.

You're now ready to start using the add-in in Outlook.

Learn more about installing add-ins in Outlook at [Use add-ins in Outlook](https://support.microsoft.com/en-us/office/use-add-ins-in-outlook-1ee261f9-49bf-4ba6-b3e2-2ba7bcab64c8).

## Related information

[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Getting Business Central on my Mobile Device](install-mobile-app.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Finance](finance.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Minimum Requirements for Outlook](product-requirements.md#outlook)  
[Use add-ins in Outlook on the web](https://support.office.com/article/Using-Add-ins-in-Outlook-on-the-web-8f2ce816-5df4-44a5-958c-f7f9d6dabdce?appver=OWB150)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-post-transactions-directly
---
title: Record expenses or income directly in G/L
description: You can create transactions on the General Journal page for business activities that don't involve a document.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: direct posting, general ledger
ms.search.form: 39, 251
ms.date: 08/06/2024
ms.service: dynamics-365-business-central
---

# Post transactions directly to the general ledger

You use general journals to post financial transactions directly to general ledger accounts and other accounts, such as bank, customer, vendor, and employee accounts.  

A typical use of the general journal is to post employees expenses during business activities for reimbursement. For more information, see [Record and Reimburse Employee Expenses](finance-how-record-reimburse-employee-expenses.md).

General journals post financial transactions directly to general ledger accounts and other accounts, such as bank, customer, vendor, and employee accounts. Posting with a general journal creates entries on general ledger accounts. Entries are created even when, for example, you post a journal line to a customer account, because an entry is posted to a general ledger receivables account through a posting group. You can personalize your version of a general journal by setting up a journal batch or template. For more information, see [Work with General Journals](ui-work-general-journals.md).

Entries that you post with documents require a credit memo process. However, you can reverse entries that you post with the general journal. For more information, see [Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md).

## To post a transaction directly to a general ledger account

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.
2. Open the general journal batch. For more information, see [Work with General Journals](ui-work-general-journals.md).
3. On a new journal line, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!NOTE]
    > [!INCLUDE[journal-showhide-columns-inline-tip](includes/journal-showhide-columns-inline-tip.md)]
4. Repeat step 3 for all transactions that you want to post.

    > [!TIP]  
    > If you want to enter multiple transaction lines before a balance-account line, for example for one bank account, select the **Suggest Balancing Amount** checkbox on the line for your batch on the **General Journal Batches** page. The **Amount** field on the balance-account line is automatically prefilled with the value that is required to balance the transactions.
5. Choose the **Post** action to record the transactions on the specified G/L accounts.

## Related information

[Work with General Journals](ui-work-general-journals.md)    
[Record and Reimburse Employees' Expenses](finance-how-record-reimburse-employee-expenses.md)    
[Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md)    
[Finance](finance.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-powerbi-app
---
title: Power BI Projects app page (Power BI report)
description: The Power BI Projects app contains reports for an organization's project reporting requirements.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 37062_Primary, 37033, 37034, 37035, 37036, 37037, 37039, 37106
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Power BI Projects app

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

## Project Analytics for the leadership team

To fit this category, you might have a role such as:

- Chief Operations Officer
- Chief Finance Officer

### Example scenario: view project costing performance

CFOs want to ensure that you aren't overspending on specific projects from a high-level. By analyzing the [Project Performance to Budget](projects-powerbi-project-performance-to-budget.md), you can quickly see how each project is performing against its budget. Alternatively, you can also use the [Project Profitability](projects-powerbi-project-profitability.md) report to view key information on profit statics per project.

## Project analytics for project managers

To fit this category, you might have a role such as Project Manager.

### Example scenario: tracking project completion and sales

Project managers want to know how each project is performing and get high-level information about them. The [Project Overview](projects-powerbi-project-overview.md) report can help you compare key information across all projects. Additionally, you can also see how your sales are going by using either the [Project Invoiced Sales by Type](projects-powerbi-project-invoiced-sales-by-type.md) or [Project Invoiced Sales by Customer](projects-powerbi-project-invoiced-sales-by-customer.md) reports.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Use the reports

[!INCLUDE [power-bi-projects-app](includes/power-bi-projects-app.md)]


## Related information

[Installing Power BI apps for Business Central](across-powerbi-install-business-central-apps.md)   
[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Project management analytics overview](projects-analytics-overview.md)   
[Built-in Projects reports](project-reports.md)  
[Project management overview](projects-manage-projects.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-field-mapping-when-importing-sepa-camt-files
---
title: Field Mapping When Importing SEPA CAMT Files | Microsoft Docs
description: In European markets, you can import bank statement files in the regional SEPA standards (Single Euro Payments Area).
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: article
ms.date: 01/06/2023
ms.custom: bap-template
---
# Field Mapping When Importing SEPA CAMT Files

[!INCLUDE[prod_short](includes/prod_short.md)] supports the regional SEPA standards (Single Euro Payments Area) for importing SEPA bank statements (CAMT format). For more information, see [Use the AMC Banking 365 Fundamentals extension](ui-extensions-amc-banking.md).  

 The SEPA CAMT standard itself has local variations. Therefore, you may have to modify the generic data exchange definition (represented by the **SEPA CAMT** code on the **Data Exchange Definitions** page) to adapt it to a local variation of the standard. The following tables show the element-to-field mapping for tables 81, 273, and 274 in the SEPA CAMT implementation in [!INCLUDE[prod_short](includes/prod_short.md)].  

 For information about creating or adjusting a data exchange definition, see [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).  

## CAMT data mapping to fields in the General Journal table (81)  

|Element Path|Message Element|Data Type|Description|Negative-Sign Identifier|Field No.|Field Name|  
|------------------|---------------------|---------------|-----------------|-------------------------------|---------------|----------------|  
|Stmt/Ntry/Amt|Amount|Decimal|The amount of money in the cash entry||13|Amount|  
|Stmt/Ntry/CdtDbtInd|CreditDebitIndicator|Text|Indicates whether the entry is a credit or a debit entry|DBIT|13|Amount|  
|Stmt/Ntry/BookgDt/Dt|Date|Date|The date when an entry is posted to an account on the account servicer's books||5|Posting Date|  
|Stmt/Ntry/BookgDt/DtTm|DateTime|DateTime|The date and time when an entry is posted to an account on the account servicer's books||5|Posting Date|  
|Stmt/Ntry/NtryDtls/TxDtls/RltdPties/Dbtr/Nm|Name|Text|The name of the party that owes an amount of money to the (ultimate) creditor||1221|Payer Information|  
|Stmt/Ntry/NtryDtls/TxDtls/RmtInf/Ustrd|Unstructured|Text|Information supplied to enable the matching/reconciliation of an entry with the items that the payment is intended to settle, such as commercial invoices in an accounts-receivable system, in an unstructured form||8|Description|  
|Stmt/Ntry/AddtlNtryInf|AdditionalEntryInformation|Text|Additional information about the entry||1222|Transaction Information|  

## CAMT data mapping to fields in the Bank Acc. Reconciliation table (273)  

|Element Path|Message Element|Data Type|Description|Negative-Sign Identifier|Field No.|Field Name|  
|------------------|---------------------|---------------|-----------------|-------------------------------|---------------|----------------|  
|Stmt/CreDtTm|CreationDateTime|Date|The date and time when the message was created||3|Statement Date|  
|Stmt/Bal/Amt|Amount|Decimal|The amount resulting from the netted amounts for all debit and credit entries||4|Statement Ending Balance|  

## CAMT data mapping to fields in the Bank Acc. Reconciliation Line table (274)  

|Element Path|Message Element|Data Type|Description|Negative-Sign Identifier|Field No.|Field Name|  
|------------------|---------------------|---------------|-----------------|-------------------------------|---------------|----------------|  
|Stmt/Ntry/Amt|Amount|Decimal|The amount of money in the cash entry||7|Statement Amount|  
|Stmt/Ntry/CdtDbtInd|CreditDebitIndicator|Text|Indicates whether the entry is a credit or a debit entry|DBIT|7|Statement Amount|  
|Stmt/Ntry/BookgDt/Dt|Date|Date|The date when an entry is posted to an account on the account servicer's books||5|Transaction Date|  
|Stmt/Ntry/BookgDt/DtTm|DateTime|DateTime|The date and time when an entry is posted to an account on the account servicer's books||5|Transaction Date|  
|Stmt/Ntry/ValDt/Dt|Date|Date|The date when assets become available to the account owner in case of a credit entry, or cease to be available to the account owner in case of a debit entry||12|Value Date|  
|Stmt/Ntry/ValDt/DtTm|DateTime|DateTime|The date and time when assets become available to the account owner in case of a credit entry, or cease to be available to the account owner in case of a debit entry||12|Value Date|  
|Stmt/Ntry/NtryDtls/TxDtls/RltdPties/Dbtr/Nm|Name|Text|The name of the party that owes an amount of money to the (ultimate) creditor||15|Payer Information|  
|Stmt/Ntry/NtryDtls/TxDtls/RmtInf/Ustrd|Unstructured|Text|Information supplied to enable the matching/reconciliation of an entry with the items that the payment is intended to settle, such as commercial invoices in an accounts-receivable system, in an unstructured form||6|Description|  
|Stmt/Ntry/AddtlNtryInf|AdditionalEntryInformation|Text|Additional information about the entry||16|Transaction Information|  

 Elements in the **Ntry** node that are imported into [!INCLUDE[prod_short](includes/prod_short.md)] but not mapped to any fields are stored in the **Posting Exch. Column Def** table. Users can view these elements from the **Payment Reconciliation Journal**, **Payment Application**, and **Bank Acc. Reconciliation** pages by choosing the **Bank Statement Line Details** action. For more information, see [Reconcile Payments Using Automatic Application](receivables-how-reconcile-payments-auto-application.md).

> [!IMPORTANT]
> In an import of CAMT bank statements, [!INCLUDE[prod_short](includes/prod_short.md)] expects each transaction to be unique, which means that the **Transaction ID** field that comes from the *Stmt/Ntry/NtryDtls/TxDtls/Refs/EndToEndId* tag in the CAMT file, must be unique within the open bank account reconciliation. If the information is not present, [!INCLUDE[prod_short](includes/prod_short.md)] ignores the payment. If an earlier bank reconciliation on the same bank account was posted with the same transaction ID as on the current import, the current transaction will not automatically reconcile but can still be imported.

## Related information  

[Setting Up Data Exchange](across-set-up-data-exchange.md)  
[Exchanging Data Electronically](across-data-exchange.md)  
[Use the AMC Banking 365 Fundamentals extension](ui-extensions-amc-banking.md)  
[Use XML Schemas to Prepare Data Exchange Definitions](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md)  
[Reconcile Payments Using Automatic Application](receivables-how-reconcile-payments-auto-application.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-subcontract-manufacturing
---
title: Subcontract manufacturing
description: This article gives an extended overview of the extended functionality of subcontracting, including work center fields and routing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: 99000886,
ms.date: 06/22/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Subcontract manufacturing

Subcontracting selected operations to vendor is common in many manufacturing companies. Subcontracting can be a rare occurrence or can be an integral part of all production processes.

[!INCLUDE[prod_short](includes/prod_short.md)] provides several tools for managing subcontract work:  

- Work Centers with assigned vendor: This feature enables you to set up a work center that is associated with a vendor (subcontractor). This work center is called a subcontract work center. You can specify a subcontract work center on a routing operation, which allows you to easily process the subcontracted activity. In addition, the cost of the operation can be designated at the routing or the work center level.  
- Work Center cost based on units or time: This feature enables you to specify whether costs associated with the work center are based on the production time or a flat charge per unit. Although subcontractors commonly use a flat charge per unit to charge for their services, the application can handle both options (production time and flat charge per unit).  
- Subcontracting Worksheet: This feature allows you to find the production orders with material ready to send to a subcontractor and to automatically create purchase orders for subcontract operations from production order routings. The application automatically posts the purchase order charges to the production order during the posting of the purchase order. Only production orders with a status of released can be accessed and used from a subcontracting worksheet.  

## Subcontract work centers  

Subcontract Work Centers are set up the same as regular work centers with additional information. They're assigned to routings in the same manner as other work centers.  

### Subcontract work center fields  

This **Subcontractor No.** field designates the work center as a subcontract work center. You can enter the number of a subcontractor who supplies the work center. This field can be used to administer work centers, which aren't in-house but perform processing under contract.  

If you subcontract with the vendor for a different rate for each process, then select the **Specific Unit Cost** field. This setting lets you set up a cost on each routing line and saves the time of reentering each purchase order. The cost on the routing line is used in processing instead of the cost on the work center cost fields. Selecting the **Specific Unit Cost** field calculates costs for the vendor by the routing operation.  

If you subcontract at a single rate per vendor, leave the **Specific Unit Cost** field blank. The costs are set up by filling in **Direct Unit Cost**, **Indirect Cost %**, and **Overhead Rate** fields.  

### Routings that use subcontract work centers

Subcontract work centers can be used for operations on routings in the same way as regular work centers.  

You can set up a routing that uses an outside work center as a standard operational step. Alternatively, you can modify the routing for a particular production order to include an outside operation. This might be needed in an emergency such as a server not working correctly, or during a temporary period of higher demand where work you normally do in-house must be sent to a subcontractor.  

For more information, see [Create Routings](production-how-to-create-routings.md).  

## Calculate subcontracting worksheets and create subcontract purchase orders  

After you calculate the subcontracting worksheet, the relevant document is created. In this case, a purchase order.  

The **Subcontracting Worksheet** page functions like the **Planning Worksheet** by calculating the needed supply, in this case purchase orders, which you review in the worksheet and then create with the **Carry Out Action Message** function.  

> [!NOTE]  
> Only production orders with status **Released** can be accessed and used from a subcontracting worksheet.  

### To calculate the subcontracting worksheet  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Subcontracting Worksheet**, and then choose the related link.  
2. To calculate the worksheet, choose the **Calculate Subcontracts** action.  
3. On the **Calculate Subcontracts** page, set filters for the subcontracted operations, or the work centers where they're performed, to calculate only the relevant production orders.  
4. Choose the **OK** button.  

    Review the lines on the **Subcontracting Worksheet** page. The information in this worksheet comes from the production order and production order routing lines and flows to the purchase order when that document is created. You can delete a row from the worksheet without affecting the original information, just as you can with the other worksheets. The information will reappear the next time you run the **Calculate Subcontracts** function.  

### To create the subcontract purchase order  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Subcontracting Worksheet**, and then choose the related link.  
2. Choose the **Carry Out Action Message** action.  
3. Select the **Print Orders** field to print the purchase order as it is created.  
4. Choose the **OK** button.  

If all subcontracted operations are sent to the same vendor location, then only one purchase order is created.  

The worksheet line that was turned into a purchase order is deleted from the worksheet. After a purchase order is created, it won't appear in the worksheet again.  

## Posting subcontract purchase orders  

After the Subcontractor Purchase Orders are created, they can be posted. Receiving the order posts a Capacity Ledger Entry to the production order and invoicing the order posts the direct cost of the purchase order to the production order.  

## To post a subcontract purchase order
 
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, and then select the related link.  
2. Open a purchase order that is created from the subcontracting worksheet.  

    On the purchase order lines, you see the same information that was in the worksheet. The **Prod. Order No.**, **Prod. Order Line No.**, **Operation No.**, and **Work Center No.** fields are filled in with the information from the source production order.  

3. Choose the **Post** action.  

When the purchase is posted as received, an output journal entry is automatically posted for the production order if the subcontract operation is the last operation on the production order routing.  

> [!CAUTION]  
> Posting output automatically for an ongoing production order when subcontracted items are received may not be desired. Reasons for this could be that the expected output quantity that is posted may be different from the actual quantity and that the posting date of the automatic output is misleading.  
>
> To avoid that the expected output of a production order is posted when subcontract purchases are received, make sure the subcontracted operation is not the last one. Alternatively, insert a new last operation for the final output quantity.  

When the purchase order is posted as invoiced, then the direct cost of the purchase order is posted to the production.  

> [!NOTE]  
> Expected costs are only managed for item transactions. Expected costs are not for immaterial transaction types, such as capacity posted via subcontract purchase orders. Don't be confused by the fact that posting a receipt might trigger posting of output. These transactions are separate and the expected cost of output is calculated independently.  

## Related information  

[Manufacturing](production-manage-manufacturing.md)    
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)      
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-how-to-view-synchronization-status
---
title: View the Status of Synchronization Jobs
description: Use the Coupled Data Synchronization Errors page to view the status of synchronization jobs that have been run for coupled records in integrations.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: sales, crm, integration, sync, synchronize
ms.search.form: 6250
ms.date: 06/14/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# View the Status of Synchronization Jobs


Use the **Coupled Data Synchronization Errors** page to view the status of synchronization jobs that have been run for coupled records in a Dataverse or [!INCLUDE[crm_md](includes/crm_md.md)] integrations. This includes jobs that were run from the job queue and manual synchronization jobs that ran on records from [!INCLUDE[prod_short](includes/prod_short.md)]. For example, viewing their status is helpful when troubleshooting because it gives you access to details about errors related to coupled records. Typically, these types of errors are caused by user actions, for example, when:  

* Two people made a change to the same data in both business apps.
* Someone deleted data in one of the apps, but not both.

> [!Note]
> The **Coupled Data Synchronization Errors** page shows information about jobs related to coupled records. If you resolve all of the errors but records are still not synchronizing, it might have something to do with a setting for the integration. Typically, your administrator will need to resolve those types of errors.   

## Example
This video shows an example of how to troubleshoot errors that happened while synchronizing with [!INCLUDE[prod_short](includes/cds_long_md.md)]. The process will be the same for all integrations. 

> [!VIDEO https://go.microsoft.com/fwlink/?linkid=2097304]


## To view and resolve synchronization errors for coupled records
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Coupled Data Synchronization Errors**, and then choose the related link.
2. The **Coupled Data Synchronization Errors** page shows issues that occurred when you synchronized coupled records. The following table includes actions that you can use to resolve issues one by one:

|Action|Description|
|----|----|
|**Remove Coupling**|Uncouples the records and they will no longer synchronize. To restart the synchronization you must couple them again. |
|**Retry** and **Retry All**|For each record where an error is found, synchronization is skipped unless you fix the issue. Retry will include the selected record in the next synchronization, and **Retry All** includes all of the records.|
|**Synchronize**|The app will try to resolve a conflict where data was changed in both business apps. You can choose the data to use.|
|**Restore Records** and **Delete Records**|These are useful when a record was deleted in one of the business apps. Delete Records deletes the record or row in the app where it still exists. Restore Records recreates the record or row in the business app where it was deleted.|

> [!NOTE]
> To reduce the number of conflicts you need to resolve, you can set up your integration table mappings to apply these actions automatically. For more information, [Mapping Integration Tables](admin-how-to-modify-table-mappings-for-synchronization.md#mapping-integration-tables).

## To view the synchronization log for a specific (manually synchronized) record
1. Open, for example, a customer, item or any other record that is synchronizing data between [!INCLUDE[prod_short](includes/prod_short.md)] and Dataverse or [!INCLUDE[crm_md](includes/crm_md.md)].
2. Choose the **Synchronization Log** action to view the synchronization log for a selected record. For example, a specific customer you synchronized manually.

## Remove Couplings Between Records
When something goes wrong in your integration and you need to uncouple records to stop synchronizing them, you can do so for one or more records at a time. You can uncouple one or more records from list pages or the **Coupled Data Synchronization Errors** page by choosing one or more lines and choosing **Delete Coupling**. You can also remove all couplings for one or more table mappings on the **Integration Table Mappings** page. 

If an entity with a unidirectional coupling is deleted in [!INCLUDE[prod_short](includes/prod_short.md)], you must manually delete the broken coupling. To do that, on the **Coupled Data Synchronization Errors** page, choose the **Find for Deleted** action, and then delete the couplings.

## Related information  
[Setting Up User Accounts for Integrating with Dynamics 365 Sales](admin-setting-up-integration-with-dynamics-sales.md)  
[Use Dynamics 365 Sales from Business Central](marketing-integrate-dynamicscrm.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/intercompany-how-setup
---
title: Set Up intercompany transaction posting
description: Learn how to set up an intercompany partnership. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/19/2024
ms.custom: bap-template
ms.search.keywords: IC, group, consolidation, affiliate, subsidiary
ms.search.form: 605, 613, 617, 620, 602, 603, 601, 600, 652, 653, 606, 607, 609, 608, 621, 653_Primary
ms.service: dynamics-365-business-central
---
# Set up intercompany transactions

Intercompany partnerships make it easier to handle accounting processes when two or more subsidiaries of a company frequently do business with each other. Partners can exchange transactions, such as sales and purchases, and handle them either manually or automatically. For example, when a partner sends a sales journal line to another partner, a purchase journal line is created for the receiving partner.

The intercompany chart of accounts can be, for example, a version of the synchronization partner's chart of accounts. Each partner maps their accounts to the intercompany chart of accounts. Each partner also maps their dimensions and dimension values to the intercompany dimensions.

## Before you start

Before you start to set up your intercompany partnership, there are a few decisions to make.

|Decision  |Description  |
|---------|---------|
|Which chart of accounts should be the basis for the intercompany chart of accounts?     | All companies in the partnership must use the same intercompany chart of accounts. You can base your intercompany chart of accounts on the chart of accounts from one of the companies in the partnership, or create a new intercompany chart of accounts. You map the accounts to use in the partnership in both ways, so that each partner both sends and receives transactions in the correct accounts. Learn more about setting up the intercompany chart of accounts at [Set up the intercompany charts of accounts](#set-up-the-intercompany-charts-of-accounts).         |
|Which dimensions should be the basis for the intercompany dimensions?     | If you use intercompany dimensions, they must be the same for all companies in the partnership. After you specify your intercompany dimensions, map their dimension values. Learn more about mapping dimension values at [Set up intercompany dimensions](#set-up-intercompany-dimensions).        |
|Which partners are customers or vendors, or both?     |  Learn more about setting up customers and vendor companies in an intercompany partnership at [Set up intercompany partners as customers and vendors](#set-up-intercompany-partners-as-customers-and-vendors).       |
|Do you want to specify bank accounts to use in the partnership?| You can speed up the process of registering payment transactions by specifying the bank account to use for each partner company. Learn more at [Specify bank accounts for intercompany partners](#specify-bank-accounts-for-intercompany-partners). |
|How do you want to identify the companies in the partnership?     | All parties must agree on a unique intercompany partner identification code for each company. You assign the code to customer and vendor cards to identify related transactions. Learn more about identifiers at [Create Number Series](ui-create-number-series.md).        |
|How do you want to handle item numbers?     | If intercompany lines contain items, you can either use your own item numbers, or you can set up your partner's item numbers for each item, either in the **Vendor Item No.** field or in the **Common Item No.** field on the item card. You can also use the **Item Reference** action to map your items' numbers to your intercompany partners descriptions of the items. To learn more about item references, go to [Use Item References](inventory-how-use-item-cross-refs.md).        |
|Are resources involved?     | If intercompany sales transactions include resources, fill in the **IC Partner Purch. G/L Acc. No.** field on the resource card for each resource. The field contains the number of the intercompany general ledger account that the amount for this resource posts to in the partner company. To learn more about resources, go to [Set Up Resources](projects-how-setup-resources.md).<br><br>**NOTE**<br>Intercompany purchase transactions that include resources, fixed assets, and item charges aren't fully supported. In the partner company, the **Line Type** field is blank on purchase document lines that include these entities. You must manually update the field.        |

## Overview of the steps to get started

Use the **Intercompany Setup** page to set up the following components of intercompany transactions:

* Your company's intercompany settings.
* The company that is the synchronization partner.
* The intercompany chart of accounts that all partners use to exchange transactions.
* The mappings between accounts in the chart of accounts and intercompany chart of accounts for inbound and outbound transactions for each partner.
* The intercompany dimensions and dimension values to use, and how they're mapped to dimensions for each partner.
* The companies that are the intercompany partners.
* The companies that are vendors or customers, or both.

## Set up a synchronization partner

All partners must use the same intercompany chart of accounts and, if needed, the same intercompany dimensions. You can save time when you set up the partnership by using the chart of accounts and dimensions for one of the partners as a baseline for the intercompany chart of accounts and dimensions. The company that you use as the baseline is called the *synchronization partner*. Typically, the synchronization partner is the headquarter company, but it doesn't have to be.

On the **Intercompany Setup** page, each partner specifies the synchronization partner in the **Synchronization Partner** field. Afterward, the intercompany chart of accounts and intercompany dimensions are automatically specified for them, based on the setup for the synchronization partner. The partners then use the **Intercompany Chart of Accounts Mapping** and **Intercompany Dimension Mapping** pages to map their chart of accounts and dimensions to the intercompany chart of accounts and dimensions, and vice versa. 

> [!NOTE]
> It's important to map accounts and dimensions in both directions. That is, both to the intercompany chart of accounts and dimensions, and from them to your own accounts and dimensions.

### Connect with partners in another tenant or environment

If one or more partners' [!INCLUDE [prod_short](includes/prod_short.md)] is in another tenant or environment, there are a few extra steps to create the connection. The steps apply to all partners in another tenant or environment.

* Set up [!INCLUDE [prod_short](includes/prod_short.md)] as a registered app in Azure portal.
* Add and enable the app registration in [!INCLUDE [prod_short](includes/prod_short.md)].
* Exchange information about their intercompany setups. Each partner can get this information from the **Intercompany Setup**, **Actions**, **Connection Details**.

   |Copy from the partner's setup  |Copy to your setup  |
   |---------|---------|
   |Current Connection URL     |IC Partner's Connection URL         |
   |Current Company ID     |IC Partner's Company ID         |
   |Intercompany ID     |IC Partner's Intercompany ID         |
   |Company Name     |IC Partner's Company Name         |

* Exchange the following authentication settings so that [!INCLUDE [prod_short](includes/prod_short.md)] can authenticate when it connects. Each partner can get this information from their registered app. To learn more about how to create a registered app, go to [Create a registered app in Azure portal](#create-a-registered-app-in-azure-portal).  

  * Client ID
  * Client secret
  * Token endpoint
  * Redirect URL

Run the **Intercompany Setup**, **Actions**, **Connection Details** in all companies to specify the information.

#### Create a registered app in Azure portal

This process is only necessary if you want to connect with a partner whose [!INCLUDE [prod_short](includes/prod_short.md)] is in a different tenant or environment.

> [!TIP]
> It's a good idea to have a text editor open, such as Notepad, while you create your registered app. You'll need some of the information when you run the **Intercompany Setup**, **Actions**, **Connection Details**, so it's nice to have the information handy.

1. Go to [Azure portal](https://portal.azure.com/#home).
2. Choose the **Microsoft Entra ID** service.
3. In the navigation pane, choose **App registrations**.
4. On the **App registrations** page, choose **new registration**.
5. Give the application a name.
6. Choose the **Accounts in any organizational directory (Any Microsoft Entra ID tenant - Multitenant)** account type.
7. For the redirect URI, in the **Select a platform** field, choose **Web**, and then provide the URI. For example, \**https://businesscentral.dynamics.com/OAuthLanding.htm**.

  If you're working with an embed ISV, you might need a different URI.

8. Register the app.
9. On the **Intercompany App** page, on the navigation pane, choose **API permissions**.
10. Choose the **Add a permission** action.
11. On the **Microsoft APIs** tab, choose **Dynamics 365 Business Central**.
12. On the **Request API Permissions** pane, choose **Application permissions**, and then choose the **API.ReadWrite.All** permission.
13. On the **Intercompany App | API permissions** page, choose the **Grant admin consent for Contoso** action, and then grant consent.
14. On the navigation pane, choose **Certificates & secrets**.
15. Choose the **Client secrets** tab, and then choose **New client secret**.
16. On the **Add a client secret** pane, enter a name for the secret, and specify when it expires.

  > [!NOTE]
  > All partners who are in different environments must renew the secret before it expires.

  > [!IMPORTANT]
  > Copy the ID in the **Value** field before you leave the **Intercompany App | Certificates & secrets** page. You'll need it in a later step, and it won't be available after you leave the page. For example, paste the value in a text editor.

17. On the navigation pane, choose **Overview**.
18. Copy the value in the **Application (client) ID** field. For example, paste the value in a text editor.
19. Choose the **Endpoints** action, and then copy the value in the **OAuth 2.0 token endpoint (v2)** field. For example, paste the value in a text editor.
20. Copy the value in the **Directory (tenant) ID** field. For example, paste the value in a text editor.
21. In the token value you copied, replace **organizations** with the value you copied from the **Directory (tenant) ID** field in the previous step.

#### Add and enable your registered app in Business Central

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Microsoft Entra Application Card**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
3. In the **State** field, choose **Enabled**. 
4. Choose the **Grant Consent** action. 
5. In the **Permission Set** field, choose **D365 INTERCOMPANY CE & DATA ACCESS IC CE** permission sets.

## Set up the intercompany charts of accounts

All partners must use the same intercompany chart of accounts, and map the accounts in their own chart of accounts to it. If the chart of accounts for your company defines the intercompany chart of accounts for your partner companies, follow the steps in this section.

If you're using an XML file that contains the intercompany chart of accounts, follow the steps in [Import or export an intercompany chart of accounts](intercompany-how-setup.md#import-or-export-an-intercompany-chart-of-accounts).  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Chart of Accounts** action.
3. To add accounts, do one of the following on the **Intercompany Chart of Accounts** page:
    * Choose **New**, and then enter each account on a line on the page.  
    * If your intercompany chart of accounts is identical or similar to your regular chart of accounts, you can fill on the page automatically by choosing the **Copy from Chart of Accounts** action. You can edit the new lines as needed.
    * If you set up an intercompany chart of accounts for a synchronization partner, use the **Synchronization Setup** action to copy those accounts.

    > [!TIP]
    > If you copy the intercompany chart of accounts from a synchronization partner, you can use the **Synchronization Setup** action to update your intercompany accounts with any changes the partner makes to theirs.

The next step is to map your chart of accounts to the intercompany chart of accounts. Learn more at [Map the intercompany chart of accounts to your company's chart of accounts](#map-the-intercompany-chart-of-accounts-to-your-companys-chart-of-accounts).

### Import or export an intercompany chart of accounts

The synchronization company can share its chart of accounts with partners by exporting it to a file. Partners can import the file to get the chart of accounts.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Chart of Accounts** action.
3. On the **Intercompany Chart of Accounts** page, choose the **Import/Export** action, and then choose either **Import** or **Export**.
4. Choose the file to import or export.  

The **Intercompany Chart of Accounts** page is filled with new or edited G/L account lines according to the intercompany chart of accounts in the file. Any existing, unrelated lines on the page remain unchanged.

## Map the intercompany chart of accounts to your company's chart of accounts  

After you define or import the intercompany chart of accounts, map each intercompany account with one of your accounts. On the **Intercompany Chart of Accounts** page, you specify how intercompany G/L accounts on incoming transactions map to G/L accounts from your company's chart of accounts.

If the intercompany accounts and your accounts have the same numbers, you can map the accounts automatically.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.  
2. Choose the **IC Chart of Accounts** action.

    > [!TIP]
    > To access the actions on the page, you might need to expand the page to the wide layout view.

3. On the **Intercompany Chart of Accounts** page, choose the **Chart of Accounts Mapping** action.
4. You can map the accounts manually, or automatically.

    * To manually create the mapping, on the **Intercompany Chart of Account** and **G/L Chart of Accounts** panes, choose an account, and then choose an account in the **G/L No.** and **IC No.** fields.
    * To automatically map accounts that have the same numbers, select the lines that you want to map, choose the **Map to Acc. with Same No** action, and then choose the chart of accounts to update.

    > [!TIP]
    > If you want to map many or perhaps all accounts, choose a line, choose :::image type="icon" source="media/show-more-options-icon.png" border="false":::, and then choose **Select More**.

## Set up intercompany dimensions

If partners exchange transactions with dimensions linked to them, agree on the dimensions that all of you use. For example, the synchronization company can create a simplified version of their dimensions, export them to an XML file, and then distribute the file to each partner. Each partner can import the XML file on the **Intercompany Dimensions** page and then map the intercompany dimensions to their dimensions. Learn more at [Map intercompany dimensions to your company's dimensions](#map-intercompany-dimensions-to-your-companys-dimensions).

> [!NOTE]
> Each company must map their dimensions to the intercompany dimensions for outgoing documents and incoming documents. Mapping accounts in both directions is important, and helps maintain consistency across the companies.

If partners use the synchronization partner's intercompany dimensions, follow the steps in this section. If you want to share using an XML file that contains the intercompany dimensions, follow the steps in [Import or export intercompany dimensions](#import-or-export-intercompany-dimensions).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.  
2. Choose the **IC Dimensions** action.
3. To add dimensions, do one of the following on the **Intercompany Dimensions** page:
    * Choose **New**, and then enter each dimension on a line.  
    * If your intercompany dimensions are identical or similar to your regular dimensions, you can fill on the page automatically by choosing the **Copy from Dimensions** action. Afterward, you can edit the lines as needed.
    * If you specify intercompany dimensions for a synchronization partner, use the **Synchronization Setup** action to copy those dimensions.

    > [!TIP]
    > If you copy the intercompany dimensions from a synchronization partner, you can use the **Synchronization Setup** action to update your intercompany dimensions with any changes the partner makes to theirs.  

### Import or export intercompany dimensions  

The synchronization company can share its dimensions with partners by exporting them to a file. Partners can import the file to get the dimensions.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Dimensions** action.  
3. On the **Intercompany Dimensions** page, choose the **Import/Export** action, and then choose either **Import** or **Export**.
4. Choose the file to import or export.

The next step is to map the dimensions with the intercompany dimensions. Learn more at [Map intercompany dimensions to your company's dimensions](#map-intercompany-dimensions-to-your-companys-dimensions).

### Map intercompany dimensions to your company's dimensions

After you specify the dimensions you use, map each intercompany dimension with one of your company's dimensions, and vice versa. Use the **Intercompany Dimensions Mapping** page to specify the mapping. Afterward, repeat the process for the dimension values.

* Specify how intercompany dimensions on incoming transactions map to dimensions from your company's list of dimensions.
* Specify how your dimensions translate to intercompany dimensions on *outgoing transactions*.

If any of the intercompany dimensions have the same code as the corresponding dimensions in your company, you can automatically map the dimensions.  

In the following steps, you first map intercompany dimensions to dimensions for incoming documents in the **Intercompany Dimensions** pane. Then, you map dimensions to intercompany dimensions for outgoing documents on the **Current Company Dimensions** pane.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Dimensions** action.
3. On the **Intercompany Dimensions** page, choose the **Dimensions Mapping** action.
4. You can map the dimensions manually, or automatically.

    * To manually create the mapping, on the **Intercompany Dimensions** and **Current Company Dimensions** panes, choose a dimension, and then choose a dimension in the **Dim. Code** and **IC Dim. Code** fields.
    * To automatically map dimensions that have the same code, select the lines that you want to map, choose the **Map dimensions with same code** action, and then choose the dimensions to update. 

    > [!TIP]
    > If you want to map many or perhaps all dimensions, choose a line, choose :::image type="icon" source="media/show-more-options-icon.png" border="false":::, and then choose **Select More**.

5. Choose the **Dimension Values Mapping** action.
6. On the **Intercompany Dimension Values Mapping** page, the steps to create the mapping are similar to what you just did for dimensions.

## Set up intercompany general journal templates and batches

You must set up a general journal template and a general journal batch to use by default for intercompany transactions. The template and batch are especially important if you automatically accept intercompany transactions from your partners. To learn more about autoaccepting transactions, go to [Autoaccept transactions from intercompany partners](#autoaccept-transactions-from-intercompany-partners).

* General journals are used to post to general ledger accounts and other accounts, such as bank, customer, and vendor accounts. Posting with a general journal always creates entries on general ledger accounts. Use the **Intercompany General Journal** page to set up the general journal batch to use. The settings that are specific to intercompany transactions are the accounts you specify in the **IC Account Type** and **IC Account No** fields.
* Journal templates give you a journal page designed for a specific purpose. That is, the fields in journal templates are exactly the ones needed for a particular part of the program. Use the **General Journal Templates** page to set up a template to use for intercompany transactions.

To learn more about general journal templates and batches, go to [Use journal templates and batches](ui-work-general-journals.md#use-journal-templates-and-batches).

## Set up a company for intercompany transactions

The following steps assume that a synchronization partner is set up with the chart of accounts and dimensions on which you base the intercompany chart of accounts and dimensions. You can set them up yourself, but it's typically faster to get started, and maintenance is easier, to you use a synchronization partner. To learn more about the synchronization partner, go to [Set up a synchronization partner](#set-up-a-synchronization-partner).

> [!TIP]
> It's a good idea to fill in the fields on the **General** FastTab on the **Intercompany Setup** page for each partner before you add their partners. When you add partner companies that are in the same tenant, [!INCLUDE [prod_short](includes/prod_short.md)] gets their IC code and company name from their setup on the General FastTab. The **Company Name** field will verify that their IC code is unique.

> [!NOTE]
> If you'll use a synchronization partner, leave the **Synchronization Partner** field blank when you set that company up for the partnership.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.  
2. On the **Intercompany Setup** page, fill in the fields on the **General** FastTab. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!NOTE]
> In [!INCLUDE[prod_short](includes/prod_short.md)] online, you can't use file locations to transfer transactions to your partners because [!INCLUDE[prod_short](includes/prod_short.md)] can't access your local network. Therefore, if you choose **File Location** in the **Transfer Type** field, the **Folder Path** field is not available. Instead, the file will be downloaded to the **Downloads** folder on your computer. You then send the file to someone in the partner company, for example, by email. For a more direct process, we recommend that you choose **Email**.

The next step is to set up the partner companies.

## Set up intercompany partners

Each partner must add all other companies in the partnership as a partner.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. On the **Intercompany Partners** FastTab, choose **Add**.
3. In the **Transfer Type** field, specify how you send data to the partner.

   > [!NOTE]
   > The **File Location** option works only for [!INCLUDE [prod_short](includes/prod_short.md)] on-premises.

4. Fill in the remaining fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
5. Repeat steps 3 and 4 for all companies in the partnership.

> [!NOTE]
> For intercompany posting, if you turn on the **Auto. Accept Transaction** toggle on the **Intercompany Partner** page [!INCLUDE[prod_short](includes/prod_short.md)] suppresses messages that warn about purchase invoices duplicating the original purchase order. It's important to have a business process for managing duplicates. For example, by deleting such purchase orders when the purchase invoice is received from the intercompany partner.

### Set up intercompany partners as customers and vendors

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. On the **Intercompany Partners** FastTab, open the card page for the partner.
3. Depending on what you want to do, choose the customer or partner in the **Customer No.** or **Vendor No.** fields.

    > [!NOTE]
    > If the customer or vendor hasn't been created, you can choose **+New** in the drop-down menu to set them up. To learn more about creating customers and vendors, go to [Register New Customers](sales-how-register-new-customers.md) and [Register New Vendors](purchasing-how-register-new-vendors.md).

    > [!TIP]
    > You can also specify a customer or vendor as an intercompany partner by filling in the **IC Partner Code** field on the **Customer Card** and **Vendor Card** pages.

### Set up default intercompany partner general ledger accounts  

On the **G/L Account Card** page, for accounts that you regularly use on outgoing intercompany sales or purchase lines, you can specify a default intercompany partner general ledger account. For example, for your receivables accounts, you can enter the corresponding payables accounts from the intercompany chart of accounts. The receivables and payables accounts are used as the off-setting account for the intercompany partner when you post transactions on intercompany general journals.  

Then, when you enter a general ledger account in the **Bal. Account No.** field on an intercompany line with **Intercompany Partner** in the **Account Type** field, the **IC Partner G/L Account** field is automatically filled in.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. Open the G/L account that's used for intercompany transactions, and in the **Default IC Partner G/L Account** field, enter the intercompany general ledger account that your partner post to when you post to the general ledger account on the line.
3. Repeat step 2 for each account that you often enter in the **Bal. Account No.** field on a line in an intercompany journal or document.

### Autoaccept transactions from intercompany partners

To make it faster to process intercompany transactions, you can specify that you want to automatically create journal lines based on an intercompany partner's posts from the **IC General Journal** page. To autocreate incoming and outgoing transactions, you must turn on the following toggles for each partner:

* On the **Intercompany Setup** page, turn on the **Auto. Send Transactions** toggle for the synchronization partner. Then specify where to create received intercompany journal transactions by filling in the **Default IC Gen. Jnl. Template** and **Default IC Gen. Jnl. Batch** fields.

    > [!TIP]
    > If the **Default IC Gen. Jnl. Template** field is blank, you need to set up a general journal template to use for your intercompany general journals. To learn more about templates and batches, go to [Set up intercompany general journal templates and batches](#set-up-intercompany-general-journal-templates-and-batches)    

* On the **Intercompany Partner** page, turn on the **Auto Accept Transactions** toggle.

The journal lines are created for you, but not posted.

### Specify bank accounts for intercompany partners

To facilitate fast payments, specify one or more bank accounts to use for intercompany partners. When a partner uses an intercompany general journal to make a payment, they can specify the bank account on the line. The bank account is used as the balancing account in the receiving company, which minimizes the need to manually enter transactions.

* To specify the bank account to use, on the **Intercompany Partners** page, choose the **Bank Accounts** action. On the **Intercompany Bank Account Card**, enter the account information.

## Troubleshoot your intercompany setup

On the **Intercompany Setup** page, the **Intercompany Setup Diagnostics** pane contains tiles that indicate whether all of the components needed to exchange intercompany transactions are set up. The tiles are also available on the Business Manager Role Center. Choose the tiles to find out what's missing. For an overview of the required components, go to [Overview of the steps to get started](#overview-of-the-steps-to-get-started).

## Related information

[Managing Intercompany Transactions](intercompany-manage.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with General Journals](ui-work-general-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-use-edocuments-purchase
---
title: Use e-documents in the purchase process
description: Learn how to set up vendors and handle purchase invoices, orders, and credit memos using e-documents in Dynamics 365 Business Central.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: electronic document, electronic invoice, e-document, e-invoice, receive, purchase, matching, mapping, Copilot
ms.search.form: 50, 51, 138, 6103, 6133, 6121, 6167, 9307, 9308
ms.date: 03/18/2025
ms.custom: bap-template
---

# Use e-documents in the purchase process

You can use configured electronic documents (e-documents) with the following purchase documents:

- Purchase invoices
- Purchase orders
- Purchase credit memos
- General journals

> [!NOTE]
> When you receive an e-document from a specific vendor, [!INCLUDE [prod_short](includes/prod_short.md)] matches the e-document with the vendor by verifying the following information in this order:
>
> 1. **GLN** (from the Vendor card)
> 1. **VAT Registration No.** (from the Vendor card)
> 1. **Participation Identifier** from the **Service Participant** page (using the **E-Document Service Participation** field from the Vendor card)
> 1. **Name** and **Address** (from the Vendor card)

## E-documents in purchases

You can receive purchase e-documents manually, or by using the **Receive** batch job.  

### Set up vendors to work with different purchase documents  

Follow these steps to configure vendors for incoming electronic invoices:

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then select the related link.
1. Choose the vendor you want to configure.
1. On the **Receiving** FastTab, in the **Receive E-Document To** field, specify the default purchase document you want to generate from the received e-document.

   > [!NOTE]
   >
   > - In the **Receive E-Document To** field, you can either select a **Purchase Invoice** or **Purchase Order** based on what you want to create from the received e-invoice. This selection doesn't affect the creation of corrective documents. In both scenarios, [!INCLUDE [prod_short](includes/prod_short.md)] generates a credit memo.
   >
   > - If you choose the **Purchase Order** option in the **Receive E-Document To** field, [!INCLUDE [prod_short](includes/prod_short.md)] tries to update one of the existing purchase orders. However, if the purchase order for a vendor in the received e-document doesn't exist, [!INCLUDE[prod_short](includes/prod_short.md)] creates a new purchase order, using the same approach as creating a new purchase invoice explained in this [article later](#work-with-purchase-invoices).

1. Choose one of the options you want to use for the selected vendor.
1. Close the page.

### Work with purchase invoices  

#### Run the batch job  

> [!NOTE]
> This batch job automates the process of collecting your incoming invoices. It works only in countries or regions where the functionality is available.  

Every time a **Job Queue** runs, if the external service has incoming invoices from your vendor, [!INCLUDE [prod_short](includes/prod_short.md)] collects and imports those invoices. To complete the process, follow these steps:

1. After the batch job finishes running, the imported invoices are listed on the **E-Documents** page with their basic details.
1. To view more details, open a specific e-document.
1. Depending on whether your e-document setup automatically processes invoices, or requires that you review and confirm the details before processing, follow these steps. Learn more in [Set up e-documents](finance-how-setup-edocuments.md) for information about how to require confirmation.

   **Automatic processing**

   1. If you automatically process invoices, and there are no errors or issues in the e-document, the **Record** field maps the document number of the purchase invoice if a number series is specified on the **Vendor Card** page. To open the document, select the link.

   > [!NOTE]
   > This [!INCLUDE [prod_short](includes/prod_short.md)]-created document isn't the posted document.

1. To go directly to the purchase document, select the **Record** field. After you open the **Purchase Invoice** page, check the document. If everything is correct, post the document.  
1. When you post the purchase document, the **Record** field on the **E-Document** updates from **Invoice** to **Purchase Invoice**, and the number of the posted purchase document is available. You can select the number to open it.
   Details about logs are the same as they are in the sales process for e-documents.  

   **Review and confirm before processing**

   1. If you must review and confirm the details before processing the invoice, open the document.
   1. On the **E-Document** page, choose the **View extracted data** action.
   1. On the **Received purchase document data** page, review the details. If things look good, choose **OK**.
   1. To process the invoice, follow the steps described for **Automatic processing**.

   > [!TIP]
   > When you receive an incoming e-document, it's typically in XML or similar format that can be difficult, if not impossible, to read. For example, if you aren't technical and don't understand the XML format, it might be hard to review an invoice before you process it. To make it easier for everyone to review incoming e-documents, invoices and credit memos have an **E-invoice Lines** FastTab that displays details from the imported file, such as line and header information, in a way that's easy to understand.
   >
   > The preview feature is only available for invoice and credit memo types of incoming e-documents.

### Handle errors and warnings

Errors in the sales process are mostly related to the availability of the service. The incoming document can contain multiple reasons for errors. The most common reason is that [!INCLUDE [prod_short](includes/prod_short.md)] can't recognize the lines on an e-document from your vendor and can't enter lines in your purchase invoice.

There are two common errors:  

- If you want to use a specific line from your vendor invoice that was directly posted to the general ledger (G/L) account, you must correctly configure the **Mapping Text** value. To bypass this error when using G/L accounts, select the **Map Text to Account** to create a specific mapping of the **Mapping Text** value with the **Debit Acc. No.**. Learn more about [account mapping](finance-how-use-edocuments-purchase.md#map-text-on-an-e-document-to-a-specific-vendor-account).  
- If you want to track the inventory and use lines from your vendor invoice to fill in the items on your document lines, you must correctly configure the **Item Reference No.** value. To bypass this error, map external items with your item numbers by using the item reference list. Learn more in [use item references](inventory-how-use-item-cross-refs.md).

After you fix the errors and warnings, you can manually specify when to create a purchase invoice based on your setup by selecting **Create Document**.

### Recreate a deleted purchase invoice or credit memo

Mistakes happen, so it's important to be able to fix them quickly. If you accidentally delete a purchase invoice or credit memo and can't link the incoming e-document to the correct one, you can now recreate a new purchase document based on details in the e-document. Problem solved, and you can go take care of other business.

If you accidentally delete a purchase invoice or credit memo, you can't proceed with the e-document connection with the regular purchase document in Business Central. To get yourself unstuck, you can run the **Recreate Document** action from the e-document. The action creates an unposted purchase invoice or credit memo based on the type of incoming document, its information, and the G/L mapping or item references used.

> [!NOTE]
> The action works only with unposted purchase invoices and credit memos. It doesn't work for purchase orders.

#### Map text on an e-document to a specific vendor account

To map lines with expenses for E-Documents, you need to map descriptions with **G/L Account**. Then, use the **Map Text to Account** action to link specific text on a vendor invoice from the **E-Document Service** to a vendor account. Any part of the E-document description that exists as a mapping text means that the **Vendor No.** field on the resulting document or journal lines of type **G/L Account** are filled with the vendor in question.

In addition to mapping text to a vendor account or G/L accounts, you can also map text to a bank account for electronic documents related to paid expenses. This option creates a general journal line that is ready to post to a bank account.

1. Select the relevant E-Document line with the displayed error message and then choose **Map Text to Account** action. The **Text-to-Account Mapping** page displays.
1. In the **Mapping Text** field, enter any text that appears on vendor invoices for which you want to create purchase documents or journal lines. You can enter up to 50 characters.
1. In the **Vendor No.** field, enter the vendor that the resulting purchase document or journal line will be created for.
1. In the **Debit Acc. No.** field, enter the debit-type G/L account that is inserted on resulting purchase document or journal line of type G/L Account.

   > [!NOTE]
   > Don't use the **Credit Acc. No.**, **Bal. Source Type**, and **Bal. Source No.** fields with E-documents.

1. Repeat steps 2 through 5 for all error messages on E-documents that you want to automatically create **G/L Accounts** and documents for.  

#### Manually import one or more invoices  

To manually import one or more external e-documents, follow these steps:

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Document Service**, and then select the related link.
1. On the **E-Document Service** page, select the active service.
1. Select **Receive**, and upload the e-document file that you got from the vendor.
1. If an error message occurs, open the e-document to fix the issues.
1. When you finish fixing the issues, in the **Import Manually** group, select **Create Document**.  
1. After you create the document in [!INCLUDE[prod_short](includes/prod_short.md)], using a batch job doesn't change the way you view it.

#### Work with attachments  

Peppol and similar e-invoicing files are machine-readable formats that aren't easy for people to read. To improve reading, Peppol made it possible to embed a PDF file into the Peppol BIS 3 format as a binary object. If your incoming Peppol BIS 3 file has an embedded PDF, [!INCLUDE [prod_short](includes/prod_short.md)] automatically processes it and adds the PDF as an attachment to the purchase document after creating it.

## E-documents with purchase orders  

### Link purchase orders with the received e-documents

If your **Vendor** configured the **Received E-Document To** field to work with **Purchase Orders**, once an electronic document is created in [!INCLUDE[prod_short](includes/prod_short.md)] (manually or from external end point), [!INCLUDE[prod_short](includes/prod_short.md)] does the following steps:  

1. If the **Purchase Order** for this particular vendor exists and there's a purchase order number in the receive **E-Document** file, [!INCLUDE[prod_short](includes/prod_short.md)] automatically links this **E-Document** with the mentioned **Purchase Order**, and the **Document Status** of this **E-Document** is set to **In Progress**, and the **E-Document Status** in the **Service Status** subpage is set to **Order linked**. This link is visible in the **Document** field on this specific **E-Document**. If you need to change the **Purchase Order** linked automatically, you can do it using the **Update Purchase Order Link** action and manually select one of the existing purchase orders for this vendor. You can only do it before matching the lines between **E-Document** and **Purchase Order**.  

1. If the **Purchase Order** for this particular vendor exists but there's no purchase order number in the received **E-Document** file, [!INCLUDE[prod_short](includes/prod_short.md)] offers the possibility to choose one of the existing purchase orders when and if you uploaded this document manually. This condition opens the **Purchase Orders** list with orders only for the vendor from whom you received the **E-Document**. You need to select the **Purchase Order** you want and then select **OK**. If you failed to select the correct **Purchase Order**, or obtained the **E-Document** automatically from an external endpoint using the **Job Queue**, a new **E-Document** isn't linked to any purchase document. The **Document Status** then shows **Error**, and the **E-Document Status** in the **Service Status** subpage also shows **Imported document processing error**. To finish linking with the **Purchase Order**, select the **Update Purchase Order Link** action and choose one of the existing purchase orders for this vendor.

1. If the **Purchase Order** for this particular vendor doesn't exist when a new **E-Document** is created, [!INCLUDE[prod_short](includes/prod_short.md)] creates a new **Purchase Order**, using the same model of creation that already exists for new **Purchase Invoices**. The **Document Status** of this **E-Document** is set to **Processed**, and the **E-Document Status** in the **Service Status** subpage is set to **Imported document created**. After which, this link is visible in the **Document** field on this specific **E-Document**.

### Match lines from received e-document with purchase order  

You can match your received electronic documents with purchase orders' lines from two different places: from the **E-Document** page or from the **Purchase Order** page. The easiest way to locate the already linked **Purchase Orders** is to use the **Linked Purchase Orders** tile as a part of **E-Document Activities**. All nonlinked documents can be found using the tile **Waiting Purchase E-Invoices** where you have a list of **E-Documents** that you need to review. The **E-Document Activities** with these two tiles can be found in the following **Role Centers**: Business Manager Evaluation, Business Manager, Accountant, Inventory Manager, and Shipping and Receiving.

> [!TIP]
> There are two ways to match lines. One way is to do it manually, as described in the article. The other way is to use the **E-document matching assistance with Copilot**. The E-document matching assistance feature helps you match received electronic invoices with existing purchase order lines by using large language modules (LLM) model. Learn more about [using Copilot][Map e-documents to purchase order lines with Copilot](map-edocuments-with-copilot.md).
> [!NOTE]
> If the VAT percentage differs between the incoming document and the company's VAT percentage, matching documents can't be used in a multi-country environment.  

#### Match lines from purchase order  

You can match the lines from the **Purchase Orders** list or from one of the opened **Purchase Orders**. To begin the process, use the following steps:  

1. Select the **Linked Purchase Orders** tile on your Role Center if there's a number.
1. Choose one of the two options for matching:

   - If you want to match the lines from the **Purchase Orders** list, select the **Purchase Order** line that you want to match and select the **Map E-Document Lines** action.  
   - If you want to first open the **Purchase Order**, open the document and then select the **Map E-Document Lines** action.
1. Because both options have the same process, the **Purchase Order Matching** page opens with the following content:

    1. In the header, you can find the following information, which can help you to map the lines easier:

       |Field name |Description |
       |--------|-----------------|
       |Vendor Name |Specifies the vendorâ€™s name of the electronic document. |
       |E-Document No. |Specifies the linked electronic document number. |
       |E-Document Date |Specifies the linked electronic document date.  |
       |E-Document Amount |Specifies the linked e-document total amount including VAT. |

    1. In the lines, you can find the lines imported from the **E-Document** file on the left side and the lines from the existing **Purchase Order** on the right.  
    1. All lines on both sides have item numbers and descriptions, together with the **Direct Unit Cost** and **Line Discount %**.  
    1. On the **Imported Lines** side, you can also locate the **Quantity** field as a total quantity from e-invoice and the **Matched Quantity** field specifying the quantity that is already matched to the purchase order lines.
    1. On the **Purchase Orders Lines** side, you can also find the **Available Quantity** as the quantity that can be matched to this line (received, but not invoiced quantity) and **Qty. to Invoice**, specifying the quantity that is already matched to this line.
    1. To match lines, select the lines on both sides that you want to match and select the **Match Manually** action. The matched lines are marked in green.
    1. It's possible to match one to one, but it's also possible to match many to one or one to many, by selecting more lines on one side or the other before you choose the **Match Manually** action.
    1. You can also select the **Match Automatically** action to automatically match all lines with the same **Type**, **No.**, **Unit Price**, **Discount**, and **Unit of Measure**.
    1. If you make a mistake, you can select the **Remove Match** action to remove the matched lines on the purchase order side or select the **Reset Matching** action to reset all matches.
    1. If your **E-Document** has many lines, you can select the **Show Pending Lines** action during the matching process to remove all the e-document lines if they're already matched. If you need to view all the lines, you can always select the **Show All Lines** action.

1. After you finish the matching, select the **Apply To Purchase Order** action.
1. After you apply the matching to the purchase order, [!INCLUDE[prod_short](includes/prod_short.md)] updates the following fields:

    1. The **Vendor Invoice No.** and **Document Date** fields on the document header update with values from the electronic document that you received and linked.
    1. The **Qty. to Invoice** field on the lines update with the values from the **Qty. to Invoice** column from the **Purchase Order Matching** page based on the match.
    1. Now you can post the document by choosing the **Post** action.  
    1. After you post the document, the value in the **Document** field on the **E-Document** page changes to relate to the **Posted Purchase Invoice**.
    1. Close the page.  

> [!IMPORTANT]
> By default, you can match only the lines that have the same total amount in both documents. That means **Direct Unit Cost** together with the applied Line **Discount %** must be the same, because in one document you can have an amount without discount and in another with discount.  

If you want to add tolerance and allow the difference between lines in e-invoice and purchase order, follow these steps:

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchases & Payables Setup**, and then select the related link.  
1. Allow tolerance in the **E-Document Matching Difference %** field by specifying the maximum percentage of cost difference to allow when matching an incoming e-document line with a purchase order line.
1. This setup applies to all the matching lines, but considers the tolerance for the total amount, as for **Direct Unit Cost** together with applied **Line Discount %**.  
1. Close the page.

##### Other options

If your inbound electronic invoice has lines that aren't on your purchase order, [!INCLUDE[prod_short](includes/prod_short.md)] prevents you from posting the document because you can't partially post an incoming invoice. Therefore, you must ensure that you all invoice lines are correctly mapped to the purchase order. If you experience this issue, follow these steps to resolve it:

1. On the **Imported Lines** FastTab on the **Purchase Order Matching** page, choose the line that doesn't exist on the purchase order. Now choose the :::image type="content" source="media/assist-edit-icon.png" alt-text="Screenshot of the AssistEdit button."::: button, and choose the **Create Purchase Order Line** action.
1. On the **E-Doc. Create Purch Order Line** page, in the **Type** field, choose the type of line you want to create in your purchase order. You can choose any of type.
1. Based on the line type, you can choose the **No.** to specify what you received. For example, an item, general ledger account, resource, and so on.
1. The unit of measure, quantity, amount, discount, and other values are copied from the inbound invoice line.
1. You can select the **Learn matching rule** field to specify whether to create a matching rule. This feature works only for items and G/L accounts. Item references are created for items and text to account mappings are created for G/L accounts.
1. Select **OK**.
1. A purchase order line is created on the purchase order, and you can map it on the **Purchase Order Lines** FastTab on the **Purchase Order Matching** page.

> [!NOTE]
> If you change the quantity, the unit amount recalculates to the same total amount as the original invoice line.

#### Matching lines from e-document  

You can match the lines on the **E-Document** page. To begin, use the following steps:  

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Documents**, and then select the related link.
1. Select the **E-Document** that you want to match.
1. Choose the **Match Purchase Order** action to open the **Purchase Order Matching** page.  
1. Repeat the same steps that you used when you started matching from purchase orders.

## Overview of e-document statuses

To get a better overview of all e-documents in the company, you can select the **Accountant** Role Center where e-document statuses exist. There, you can find e-document activities that have the following statuses:

- **Incoming e-documents:**
  - Processed
  - In Progress
  - Error

## Related information

- [Set up e-documents](finance-how-setup-edocuments.md)  
- [Use e-document in the sales process](finance-how-use-edocuments.md)  
- [Extending e-documents functionality](/dynamics365/business-central/dev-itpro/developer/devenv-extend-edocuments)  
- [Financial Management](finance.md)  
- [Invoice sales](sales-how-invoice-sales.md)  
- [Record purchases with purchase invoices and orders](purchasing-how-record-purchases.md)  
- [Work with Business Central](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/azure-openai-data
---
title: Azure OpenAI Service and Business Central data
description: Understand how Azure OpenAI Service processes Business Central data when using Copilot. Learn security, privacy, and compliance aspects.
author: mikebcmsft
ms.author: mikebc
ms.reviewer: jswymer
ms.topic: article
ms.collection: bap-ai-copilot
ms.date: 04/01/2025
ms.custom: bap-template 
---
# Azure OpenAI Service and Business Central data 

Copilot in Business Central uses AI from the Azure OpenAI Service, hosted and operated by Microsoft and built with enterprise-grade security, privacy, and compliance controls. This article explains the data that the service processes when you use Copilot.

## How Business Central communicates with Azure OpenAI Service

Each time you use Copilot, your inputs (prompts) and outputs (results), including any data needed for Copilot to perform the task, are sent to the Azure OpenAI Service endpoint.

- Each request to Copilot, such as a chat message or a request to match records, is converted to one or more service calls to the endpoint.
- Prompts, results, and data from any one call are never shared or accessible to other calls by other users of the service. Including business data with prompts improves the quality of Copilot responses by grounding them in the latest information from the Business Central database. Business Central selects this data and retrieves it using Business Central's standard mechanisms for data access, ensuring that Copilot can only access the same data as the user operating Copilot. Copilot has no way to circumvent Business Centralâ€™s security, privacy, and compliance controls.  
- User input and business data might include personal information, depending on the task.
- Prompt and output data might be stored for up to 24 hours to monitor for abuse, but Microsoft only reviews the data if the automated systems flag it for review.
- Microsoft doesn't use your data to train, retrain, or improve Azure OpenAI Service foundation models.

> [!NOTE]
> When administrators activate a Copilot feature or enable data movement to Azure OpenAI Service, the entire company database remains in its location:
>
> - It isn't transferred to the Azure OpenAI Service.
> - It isn't moved to another geographic region.
> - AI isn't trained on that data.  

## Example Copilot features and their data flow

For a high-level understanding of the data sent to Azure OpenAI Service, the following table provides three examples of how Business Central sends prompts and data to the service.

The table isn't an exhaustive list of features and doesn't provide a complete and accurate picture of every data point sent to the service.

|Copilot feature|Example of user interaction|Example of data sent to Azure OpenAI Service|
|-|-|-|
|Chat|User asks Copilot to "show customer Adatum" |<ul><li>System instructions to interpret and act on the user's message, including system-defined constraints and AI safeguards.</li><li>The list of most likely table and page names, the list of available field names for those objects, along with descriptive information such as teaching tips and tooltips.</li></ul>| 
|Analysis assist|While viewing the Items list, the user asks Copilot to display "items by category" |<ul><li>System instructions to generate an analysis tab, constraints, and AI safeguards.</li><li>The list of column captions from the Items list, along with tooltips and similar descriptive information.</li><li>If the list includes option fields with predefined values, the possible values are included.</li></ul>|
|Bank account reconciliation assist|User activates the **Reconcile** Copilot action on the details page |<ul><li>System instructions to compare records, constraints, and AI safeguards.</li><li>The list of bank statement lines (transaction descriptions, dates, and amounts) that the user requested Copilot to process. Additionally, the minimal list of bank account ledger entry records or G/L account names they're compared with.</li></ul>|

## Related information

[Copilot data movement across geographies](ai-copilot-data-movement.md)  
[Copilot international availability](https://aka.ms/bapcopilot-intl-report-external)  
[Configure Copilot and agent capabilities](enable-ai.md)  
[FAQ for Copilot data security and privacy for Dynamics 365 and Power Platform](/dynamics365/faqs-copilot-data-security-privacy?toc=/dynamics365/business-central/toc.json)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-purchase-products-sale
---
title: Purchase items for a sale
description: From a sales invoice, to purchase products, you can create a purchase invoice for a vendor or supplier.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: supply planning, sales demand, replenish
ms.search.form: 50, 51, 56, 9308
ms.date: 03/14/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Purchase items for a sale by creating purchase invoices

From sales orders and sales invoices, you can use functions to quickly create purchase documents for missing item quantities that are required by the sale. You can use two different functions depending on the document type.

> [!Note]
> This functionality is for replenishing sales items into your own inventory. To purchase items for direct delivery from your vendor to your customer, you must create a drop shipment. For more information, see [Make Drop Shipments](sales-how-drop-shipment.md).   

|Function|Description|
|--------|-----------|
|**Create Purchase Orders**|From a sales order, this function creates a purchase order for each vendor of items on the sales order. You can edit the purchase quantity before you create the purchase orders. Only unavailable sales quantities are suggested.
|**Create Purchase Invoice**|From a sales order and from a sales invoice, this function creates a purchase invoice for a selected vendor for all lines or selected lines on the sales document. The full sales quantity is suggested.|

## To create one or more purchase orders from a sales order
To create a purchase order for each unavailable item quantity on the sales order, you use the **Create Purchase Orders** function.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Open a sales order that you want to purchase items for.
3. Choose the **Create Purchase Orders** action.

    The **Create Purchase Orders** page opens showing a line for each different item on the sales order. Lines for both fully available sales quantities and unavailable sales quantities (grayed) are shown by default. You can choose the **Show Unavailable** action to only see lines for unavailable sales quantities.

    The **Quantity to Purchase** field contains the unavailable sales quantity by default.
4. To purchase another quantity than the unavailable sales quantity, edit the value in the **Quantity to Purchase** field.

    > [!NOTE]  
    >   You can also change the **Quantity to Purchase** field on grayed lines even though they represent fully available sales quantities.
5. Choose the **OK** button.

    A purchase order is created for each vendor of items on the sales order, including any quantity changes that you made on the **Create Purchase Orders** page.
7. Proceed to process the purchase order or orders, for example, by editing or adding purchase order lines. For more information, see [Record Purchases](purchasing-how-record-purchases.md).


## To create a purchase invoice from a sales order or sales invoice
To create a single purchase invoice for one or more lines on a sales document by first selecting which vendor to buy from, you use the **Create Purchase Invoice** function.

> [!NOTE]  
>   This function creates a purchase invoice for the exact item quantity on the selected sales document. To change the purchase quantity, you must edit the purchase invoice after it is created.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Open a sales invoice that you want to purchase items for.
3. Select one or more sales invoice lines that you want to use on the purchase invoice. To use all the sales invoice lines, select either all of them or don't select any lines.
4. Choose the **Create Purchase Invoice** action.
5. Select either **All Lines** or **Selected Lines**, and then choose the **OK** button.  
6. In the list of vendors that appears, select the vendor that you want to buy all the items from, and then choose the **OK** button.

    A purchase invoice is created that contains one, more than one, or all the lines on the sales invoice.
7. Proceed to process the purchase invoice, for example, by editing or adding purchase invoice lines. For more information, see [Record Purchases](purchasing-how-record-purchases.md).

## Related information
[Purchasing](purchasing-manage-purchasing.md)  
[Record Purchases](purchasing-how-record-purchases.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
[Register New Vendors](purchasing-how-register-new-vendors.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/faq-suggest-number-series-with-copilot
---
title: FAQ for Suggest Number Series with Copilot
description: This FAQ provides information about the AI technology used in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: jswymer
ms.topic: faq
ms.search.form:
ms.date: 04/01/2025
ms.service: dynamics-365-business-central
ms.collection: bap-ai-copilot
ms.custom: responsible-ai-faqs
---

# FAQ for Suggest Number Series with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

These frequently asked questions (FAQ) describe the AI effect of the suggest number series feature in [!INCLUDE [prod_short](includes/prod_short.md)].

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

## What is suggest number series with Copilot?

Suggest number series can help you create number series for all entities and documents in [!INCLUDE [prod_short](includes/prod_short.md)] based on structured input or natural language.

* Examples of entities are customers, vendors, and items.
* Examples of documents are quotes, orders, and invoices.

The feature isn't a general-purpose chat, but a highly specific and integrated experience that you can use to administrate number series. The feature offers two distinct skills that can help you create new or modify existing number series.

## What are the capabilities of suggest number series?

* Create new number series

   Use natural language to effortlessly set up new number series. Provide examples or masks to define how you envision your setup, and have Copilot draft suggestions for you to build upon.

* Modify existing number series

   Have Copilot help you maintain your existing number series. Extending number series can feel tedious. With Copilot, you can use natural language to modify number series and build upon the suggestions from Copilot.

* Prepare new number series for the next year

   Get ready for the next fiscal year by creating new number series ahead of time.

## What is the intended use of the suggest number series?

The suggest number series capability is intended for system administrators who set up and maintain number series in [!INCLUDE [prod_short](includes/prod_short.md)]. It's a tool to transform requirements written in natural language into the number series structure in [!INCLUDE [prod_short](includes/prod_short.md)].

## How was suggest number series evaluated? What metrics are used to measure performance?

The feature underwent extensive testing where numerous prompts in US English representing both typical use and use by bad actors. Testing was based on [!INCLUDE [prod_short](includes/prod_short.md)] demonstration data and a large labeled product catalog available as open source.

This feature is built in accordance with Microsoft's Responsible AI Standard. [Learn more about responsible AI from Microsoft](https://aka.ms/RAI).

## What are the limitations of suggest number series? How can users minimize the effect of the limitations when using the system?

The feature works best when you use terminology known to [!INCLUDE [prod_short](includes/prod_short.md)]. Using alternative terminology might produce results that aren't useful.

* Available geographies

   This Copilot feature is available in all supported [Business Central countries/regions](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations). However, for customer environments located in countries/regions where Azure OpenAI Service isn't deployed, administrators must first consent to allowing their data to move across boundaries for [!INCLUDE [prod_short](includes/prod_short.md)] to connect to Azure OpenAI service. Learn more at [Copilot data movement across geographies](ai-copilot-data-movement.md).

* Available languages

   [!INCLUDE [copilot-language-support-en-only](includes/copilot-language-support-en-only.md)]

## What operational factors and settings allow for effective and responsible use of the feature?

AI-powered suggestions might be incorrect or incomplete. You should always review the accuracy of Copilot's suggestions before you choose whether to keep them. Copilotâ€™s suggestions aren't saved to the [!INCLUDE [prod_short](includes/prod_short.md)] database until you choose the **Keep it** button and exit the Copilot window. You can edit and correct any suggestions before you choose to keep it, or after they're inserted as No. Series.

### What is expected of administrators and end-users when using suggest number series?

Each individual user chooses whether or not to use suggest number series. Even if an administrator enables the feature and it's available, you can choose to use it always, sometimes, or never.  

Administrators make the overall decision on whether to use Copilot capabilities in [!INCLUDE [prod_short](includes/prod_short.md)]. If administrators enable Copilot, they should be sure to grant access to the appropriate users.

> [!NOTE]
> * We don't support this feature in [!INCLUDE [prod_short](includes/prod_short.md)] on-premises or private cloud.
> * Partner's can't extend this feature. That means partner developers can't modify, replace, or extend it.

## Is Copilot the only means to create number series?  

No, the use of Copilot is optional. [!INCLUDE [prod_short](includes/prod_short.md)] offers non-AI-powered ways to create number series. Organizations can use both approaches at the same time. To learn more, go do [Create number series](ui-create-number-series.md).

## How do I give feedback about AI-generated content?  

Each time Copilot provides suggestions, you can provide feedback to Microsoft directly from the Copilot window, using the **Like** and **Dislike** buttons. Your feedback remains anonymous and we use this data to improve the quality of the service.

## Related information

[Configure Copilot and agent capabilities](enable-ai.md)  
[Responsible AI FAQs for Dynamics 365 Business Central](responsible-ai-overview.md) 
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-process-sales-returns-cancellations
---
title: Process sales returns or cancellations
description: Describes how to create a sales credit memo to process a return, cancellation, or reimbursement for items or services you have received payment for.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: undo, credit memo, return
ms.search.form: 44, 134, 143, 6629, 6630, 6633, 6662, 9302, 9304, Report_6646
ms.date: 02/26/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Process sales returns or cancellations

If a customer wants to return items or be reimbursed for items or services that you have sold and received payment for, you must create and post a sales credit memo that specifies the requested change. To include the correct sales invoice information, you can do the following tasks:  

- Create the sales credit memo directly from the posted sales invoice.
- Create a new sales credit memo with copied invoice information.

If you need more control of the sales return process, such as warehouse documents for the item handling, or a better overview when receiving items from multiple sales documents with one sales return, then you can create sales return orders. A sales return order automatically issues the related sales credit memo and other return-related documents, such as a replacement sales order, if needed. For more information, see [Process sales return orders](sales-how-process-sales-returns-orders.md).

> [!NOTE]  
> If a posted sales invoice has not yet been paid, then you can use the **Correct** or **Cancel** functions on the posted sales invoice to reverse transactions. These functions only work for unpaid invoices, and they do not support partial returns or cancellations. For more information, see [Correct or Cancel Unpaid Sales Invoices](sales-how-correct-cancel-sales-invoice.md).

A return or reimbursement might relate to only some of the items or services on the original sales invoice. In that case, you must edit information on the lines on the sales credit memo or sales return order. When you post the sales credit memo or sales return order, the sales documents that are affected by the change are reversed and a refund payment can be created for the customer. For more information, see [Making Payments](payables-make-payments.md).  

The credit memo posting will also revert any item charges that were assigned to the posted document, so that the item's value entries are the same as before the item charge was assigned.

> [!NOTE]
> The bookkeeping aspects of sales returns, such as the payments to customers as reimbursement, is considered bookkeeping work and not described here. For more information, see [Managing Payables](payables-manage-payables.md).

## To create a sales credit memo from a posted sales invoice  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Invoices**, and then choose the related link.  
2. On the **Posted Sales Invoices** page, select the posted sales invoice that you want to reverse, choose the **Cancel** action, and then choose the **Create Corrective Credit Memo** action.

    The sales credit memo header contains some information from the posted sales invoice. You can edit this, for example, with new information that reflects the return agreement.  
3. Edit information on the lines according to the agreement, such as the number of returned items or the amount to reimburse.
4. Choose the **Prepare** action, and then choose the **Apply Entries** action.
5. On the **Apply Customer Entries** page, select the line with the posted sales document that you want to apply the sales credit memo to, and then choose the **Applies-to ID** action.

    The identifier of the sales credit memo displays in the **Applies-to ID** field.
6. In the **Amount to Apply** field, enter the amount that you want to apply if it's smaller than the original amount.  

    At the bottom of the **Apply Customer Entries** page, you can see the total amount to apply to reverse all involved entries, namely when the value in the **Balance** field is zero.
7. Choose the **OK** button. When you post the sales credit memo, it is applied to the posted sales documents.

    After you create or edit sales credit memo lines, and the single or multiple applications are specified, you can post the sales credit memo.  
8. Choose the **Posting** action, then choose the **Post and Send** action.  

The **Post and Send Confirmation** dialog box opens showing the preferred sending method for the customer. You can change the sending method by choosing the lookup button for the **Send Document** to field. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).  

The posted sales documents that you applied the credit memo to are now reversed, and a refund payment can be created for the customer. The sales credit memo is removed and replaced with a new document in the list of posted sales credit memos.

## To create a sales credit memo by copying a posted sales invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Credit Memos**, and then choose the related link.
2. Choose the **New** action to open a new empty sales credit memo.
3. In the **Customer Name** field, enter the name of an existing customer.
4. Choose the **Prepare** action, then choose the **Copy Document** action.
5. On the **Copy Sales Document** page, in the **Document Type** field, select **Posted Invoice**.
6. Choose the **Document No.** field to open the **Posted Sales Invoices** page, and then select the posted sales invoice record that contains lines that you want to reverse.
7. Select the **Recalculate Lines** check box if you want the copied posted sales invoice lines to be updated with any changes in item price and unit cost since the invoice was posted.
8. Choose the **OK** button. The copied invoice lines are inserted in the sales credit memo.
9. Complete the sales credit memo as explained in [To create a sales credit memo from a posted sales invoice](sales-how-process-sales-returns-cancellations.md#to-create-a-sales-credit-memo-from-a-posted-sales-invoice).

## To create a sales allowance
You can send a customer a credit memo with a price reduction if the customer has received slightly damaged items or received the items late.  
You can post this reduced price as an item charge in a credit memo or a return order and assign it to the posted shipment. The following describes it for a sales credit memo, but the same steps apply to a sales return order.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Credit Memos**, and then choose the related link.
2. Choose the **New** action to open a new empty sales credit memo.
3. Fill in the credit memo header with relevant information about the customer that you want to give the sales allowance to.  
4. On the **Lines** FastTab, in the **Type** field, select **Charge (Item)**.  
5. In the **No.** field, select the appropriate item charge value.  
     You might want to create a special item charge number to cover sales allowances.  
6. In the **Quantity** field, enter **1**.  
7. In the **Unit Price Excl. Tax** field, enter the amount of the sales allowance.  
8. Assign the sales allowance as an item charge to the items in the posted shipment. For more information, see [Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md). When you have assigned the allowance, return to the **Sales Credit Memo** page.  

When you post the sales return order, the sales allowance is added to the relevant sales entry amount. In this way, you can maintain accurate inventory valuation.

## To combine return receipts
You can combine return receipts if your customer returns several items that are covered by different sales return orders.  

When you receive the items into your warehouse, post the relevant sales return orders as received. This creates posted return receipts.  

When you're ready to invoice this customer, instead of invoicing each sales return order separately, you can create a sales credit memo and automatically copy the posted return receipt lines to this document. Then you can post the sales credit memo and conveniently invoice all the open sales return orders at once.  

To combine return receipts, the **Combine Shipments** check box must be selected on the **Customer Card** page.  

### To manually combine return receipts  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Credit Memos**, and then choose the related link.  
2. Choose the **New** action.
3. On the **General** FastTab, fill in the fields as necessary.  
4. Choose the **Get Return Receipt Lines** action.  
5. Select the return receipt lines that you want to include in the credit memo:  

    - To insert all lines, select all lines, and then choose the **OK** button.  

    - To insert specific lines, select the lines, and then choose the **OK** button.  
6.  If an incorrect shipment line was selected or you want to start over, you can simply delete the lines on the credit memo and rerun the **Get Return Receipt Lines** function.  
7.  Post the invoice.  

### To automatically combine return receipts

You can automatically combine return receipts and have the option of automatically posting the credit memos using the  **Combine Return Receipts** function.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Combine Return Receipts**, and then choose the related link.
2. On the **Combine Return Receipts** page, fill in the fields to select the relevant return receipts.
3. Select the **Post Credit Memos** check box. If not, you must manually post the resulting purchase credit memos.
4. Choose the **OK** button.  

### To remove a received and invoiced return order

When you invoice return receipts in this way, the return orders from which the return receipts were posted still exist, even if they have been fully received and invoiced.  

When return receipts are combined on a credit memo and posted, a posted sales credit memo is created for the credited lines. The **Quantity Invoiced** field on the originating sales return order is updated based on the invoiced quantity.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Delete Invoiced Sales Return Orders**, and then choose the related link.  
2. Specify in the **No.** filter field which return orders to delete.  
3. Choose the **OK** button.  

Alternatively, delete individual sales return orders manually.  

## Inventory costing

To preserve correct inventory valuation, you typically want to put returned items back in inventory at the unit cost that they were sold at, not at their current unit cost. This is referred to as exact cost reversing.

Two functions exist to assign exact cost reversing automatically:  

|Function|Description|  
|------------------|---------------------------------------|  
|**Get Posted Document Lines to Reverse** function on the **Sales Return Order** page|Copies lines of one or more posted documents to be reversed into the sales return order. For more information, see [Create a sales return order based on one or more posted sales documents](sales-how-process-sales-returns-orders.md#create-a-sales-return-order-based-on-one-or-more-posted-sales-documents).|  
|**Copy Document** function in the **Sales Credit Memo** and **Sales Return Order** pages|Copies both the header and lines of one posted document to be reversed.<br /><br /> Requires that the **Exact Cost Reversing Mandatory** check box is selected on the **Sales & Receivables Setup** page.|

To assign exact cost reversing manually, you must choose the **Appl.-from Item Entry** field on any type of return document line, and then select the number of the original sales entry. This links the sales credit memo or sales return order to the original sales entry and ensures that the item is valued at the original unit cost.

For more information, see [Design Details: Inventory Costing](design-details-inventory-costing.md).

## Related information

[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Managing Payables](payables-manage-payables.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-searching-for-dimension-combinations
---
title: Design Details - Searching for Dimension Combinations | Microsoft Docs
description: When you close a page after you edit a set of dimensions, Business Central evaluates whether the edited set of dimensions exists. If the set does not exist, a new set is created and the dimension combination ID is returned.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 06/08/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Searching for Dimension Combinations
When you close a page after you edit a set of dimensions, [!INCLUDE[prod_short](includes/prod_short.md)] evaluates whether the edited set of dimensions exists. If the set does not exist, a new set is created and the dimension combination ID is returned.  

## Building Search Tree  
 Table 481 **Dimension Set Tree Node** is used when [!INCLUDE[prod_short](includes/prod_short.md)] evaluates whether a set of dimensions already exists in table 480 **Dimension Set Entry** table. The evaluation is performed by recursively traversing the search tree starting at the top level numbered 0. The top level 0 represents a dimension set with no dimension set entries. The children of this dimension set represent dimension sets with only one dimension set entry. The children of these dimension sets represent dimension sets with two children, and so on.  

### Example 1  
 The following diagram represents a search tree with six dimension sets. Only the distinguishing dimension set entry is displayed in the diagram.  

 ![Example of dimension tree structure.](media/nav2013_dimension_tree.png "Example of dimension tree structure")  

 The following table describes a complete list of dimension set entries that make up each dimension set.  

|Dimension Sets|Dimension Set Entries|  
|--------------------|---------------------------|  
|Set 0|None|  
|Set 1|AREA 30|  
|Set 2|AREA 30, DEPT ADM|  
|Set 3|AREA 30, DEPT PROD|  
|Set 4|AREA 30, DEPT ADM, PROJ VW|  
|Set 5|AREA 40|  
|Set 6|AREA 40, PROJ VW|  

### Example 2  
 This example shows how [!INCLUDE[prod_short](includes/prod_short.md)] evaluates whether a dimension set that consists of the dimension set entries AREA 40, DEPT PROD exists.  

 First, [!INCLUDE[prod_short](includes/prod_short.md)] also updates the **Dimension Set Tree Node** table to make sure that the search tree looks like the following diagram. Thus dimension set 7 becomes a child of the dimension set 5.  

 ![Example of dimension tree structure in NAV 2013.](media/nav2013_dimension_tree_example2.png "Example of dimension tree structure in NAV 2013")  

### Finding Dimension Set ID  
 At a conceptual level, **Parent ID**, **Dimension**, and **Dimension Value**, in the search tree, are combined and used as the primary key because [!INCLUDE[prod_short](includes/prod_short.md)] traverses the tree in the same order as the dimension entries. The GET function (record) is used to search for dimension set ID. The following code example shows how to find the dimension set ID when there are three dimension values.  

```  
DimSet."Parent ID" := 0;  // 'root'  
IF UserDim.FINDSET THEN  
  REPEAT  
      DimSet.GET(DimSet."Parent ID",UserDim.DimCode,UserDim.DimValueCode);  
  UNTIL UserDim.NEXT = 0;  
EXIT(DimSet.ID);  

```  

However, to preserve the ability of [!INCLUDE[prod_short](includes/prod_short.md)] to rename both a dimension and a dimension value, table 349, **Dimension Value**, is extended with an integer field, **Dimension Value ID**. This table converts the field pair, **Dimension** and **Dimension Value**, to an integer value. When you rename the dimension and dimension value, the integer value is not changed.  

```  
DimSet."Parent ID" := 0;  // 'root'  
IF UserDim.FINDSET THEN  
  REPEAT  
      DimSet.GET(DimSet.ParentID,UserDim."Dimension Value ID");  
  UNTIL UserDim.NEXT = 0;  
EXIT(DimSet.ID);  

```  

## Related information
    
 [Design Details: Dimension Set Entries](/dynamics365/business-central/design-details-dimension-set-entries-overview)   
 [Dimension Set Entries Overview](design-details-dimension-set-entries-overview.md)   
 [Design Details: Table Structure](design-details-table-structure.md)   
 


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-defer-revenue-expenses
---
title: Defer revenues and expenses
description: Learn how to automatically defer or postpone revenues and expenses.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: postpone
ms.search.form: 1700, 1701, 1702, 1703, 1704, 1705, 1706, 1707, Report_1700, Report_1701, Report_1702
ms.date: 04/30/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Defer revenues and expenses

To recognize revenues or expenses in a later period than the transaction posted in, you can set up a schedule to automatically defer them.

To distribute revenues or expenses to accounting periods, you set up a deferral template for the resource, item, or G/L account that the revenue or expense is for. When you post the sales or purchase document, the revenue or expense is deferred to the accounting periods you specify in the deferral template and the posting date.

> [!NOTE]
> Sales and purchase journals validate the source code. The validation requires that the source code for sales journals and purchase journals aren't identical when you're using deferrals. If the source code is set up to be identical, you can work around this limitation by creating a template and batch that use another source code.

## To set up a G/L account for deferral

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.
2. Choose the **New** action.
3. Fill in the fields as necessary to create a G/L account for deferred revenues. For more information, see [The General Ledger and the Chart of Accounts](finance-general-ledger.md).
4. Repeat steps 2 and 3 to create a new G/L account for deferred expenses.

For both types of deferral, select **Balance Sheet** in the **Type** field, and name the accounts appropriately, such as *Unearned Income* for deferred revenues and *Unpaid Expenses* for deferred expenses.

## To set up a deferral template

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Deferral Templates**, and then choose the related link.
2. Choose the **New** action.
3. Fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
4. In the **Calc. Method** field, specify how to calculate the value in the **Amount** field for each period on the **Deferral Schedule** page. You can choose between the following options:

   * **Straight-Line**: The periodic deferral amounts are calculated according to the number of periods, distributed according to period length.
   * **Equal per Period**: The periodic deferral amounts are calculated according to the number of periods, distributed evenly on periods.
   * **Days per Period**: The periodic deferral amounts are calculated according to the number of days in the period.
   * **User-Defined**: The periodic deferral amounts aren't calculated. You must manually fill the **Amount** field for each period in the Deferral Schedule page. To learn more, go go [To change a deferral schedule from a sales invoice](#to-change-a-deferral-schedule-from-a-sales-invoice).
5. In the **Period Desc.** field, specify a description that shows on entries for the deferral posting. You can enter the following placeholder codes for typical values. The values are added automatically when the period description displays.

   * %1 = The day number of the period posting date
   * %2 = The week number of the period posting date
   * %3 = The month number of the period posting date
   * %4 = The month name of the period posting date
   * %5 = The accounting period name of the period posting date
   * %6 = The fiscal year of the period posting date

Example: The posting date is 02/06/2025. If you enter â€œExpenses deferred for %4 %6â€, the description display "Expenses deferred for February 2025".

## To assign a deferral template to an item

> [!NOTE]  
> The steps in this procedure are the same as when you assign a deferral template to a G/L account or a resource.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Open the card for the item for which revenues or expenses must be deferred to the accounting periods when the item was sold or purchased.
3. On the **Costs & Posting** FastTab, in the **Default Deferral Template** field, select the relevant deferral template.

## To change a deferral schedule from a sales invoice

> [!NOTE]  
> The steps in this procedure are the same as when you change a deferral schedule, for expenses, from a purchase invoice.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, and then choose the related link.
2. Create a sales invoice for an item that has a deferral template assigned. For more information, see [Invoice Sales](sales-how-invoice-sales.md).

    Notice that as soon as you enter the item (or resource or G/L account) on the invoice line, the **Deferral Code** field is filled with the code of the assigned deferral template.
3. Choose the **Deferral Schedule** action.
4. On the **Deferral Schedule** page, change settings on the header or values on the lines, for example, to defer the amount to another accounting period.
5. Choose the **Calculate Schedule** action.
6. Choose the **OK** button. The deferral schedule is updated for the sales invoice. The related deferral template is unchanged.

## To preview how deferred revenues or expenses post to the general ledger

> [!NOTE]  
> The steps in this procedure are the same as when you preview how expense deferrals are posted.

1. On the **Sales Invoice** page, choose the **Preview Posting** action.
2. On the **Posting Preview** page, choose the **G/L Entry** action, and then choose the **Show Related Entries** action.

G/L entries to be posted to the specified deferral account, for example, Unearned Income, are denoted by the description that you entered in the **Period Desc.** field in the deferral template, for example, "Expenses deferred for February 2016".

## To review posted deferrals in the Sales Deferral Summary or the Purchasing Deferral Summary report

> [!NOTE]  
> The steps in this procedure are the same as when you review the Purchasing Deferral Summary report.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Deferral Summary**, and then choose the related link.
2. On the **Sales Deferral Summary** page, in the **Balance as of** field, enter the date up to which you want to see deferred revenues.
3. Choose the **Preview** button.

## To specify a period in which to allow deferral posting

You can specify a period in which people can post transactions by entering dates in the **Allow Posting From** and **Allow Posting To** fields as follows:

* For all users, on the **General Ledger Setup** page
* For specific users, on the **User Setup** page

If you do that, you must make an exception for deferrals to allow them to be posted outside the period. To define the period, follow these steps.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup** or **User Setup**, and then choose the related link.
2. In the **Allow Deferral Posting From** and **Allow Deferral Posting To** fields, enter a start and end date for the period.

### Video guidance

The following video shows how to define the period in which you allow people to post deferred revenue and expenses, and how to specify exceptions.

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=5d98a594-6b1c-45a5-b93a-1fb670a051e5]

## Deferral reports

[!INCLUDE [tip_open_report_from_docs](includes/tip-open-report-from-docs.md)]

[!INCLUDE [finance_reports_deferrals](includes/finance-reports-deferrals-include.md)]

## Related information

[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with General Journals](ui-work-general-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-classifying-data-sensitivity
---
title: Classifying data sensitivity
description: You must specify which type of data you store about people so that you can respond to data subject requests.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.form: 1752,
ms.date: 04/19/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Classifying data sensitivity fields

To classify the fields that hold sensitive or personal data, a Microsoft partner can set the ```DataClassification``` property on fields. This requires access to the database tables, either through the development environment or by running a Windows PowerShell script. For more information, see [Classifying Data](/dynamics365/business-central/dev-itpro/developer/devenv-classifying-data).  

As a customer, you can add a second level of classification by specifying sensitivity levels for the data you store in standard and custom fields. Classifying data sensitivity helps ensure that you know where you keep personal data in your system, and makes it easier to respond to requests from data subjects. For example, if a contact or customer asks you to export their personal data. For more information, see [Responding to Requests About Personal Data](admin-responding-to-requests-about-personal-data.md).

> [!Important]  
> Microsoft is providing this Data Sensitivity Classification feature as a matter of convenience only. It's your responsibility to classify the data appropriately and comply with any laws and regulations that are applicable to you. Microsoft disclaims all responsibility towards any claims related to your classification of the data.  

The following table describes data sensitivity levels you can assign.

|Sensitivity|Description|
|----|----|
|Sensitive | Information about a data subject's racial or ethnic origin, political opinions, religious beliefs, involvement with trade unions, physical or mental health, sexuality, or details about criminal offenses. |
|Personal | Information that can be used to identify a data subject, either directly or in combination with other data or information.|
|Confidential | Business data that you use for accounting or other business purposes, and do not want to expose to other entities. For example, this might include ledger entries.|
|Normal | General data that does not belong to any other categories.|

## How do I classify my data?

Classifying the sensitivity of a large number of fields one-by-one would take a long time. To help speed up the process, we provide tools that you can use to bulk classify the sensitivity of fields, and then fine-tune classifications for specific fields. You can find tools on the Data Classification Worksheet page, which is available on the Administration of users, user groups, and permissions Role Center. You must be a system administrator to use the worksheet.
 
> [!Important]  
> When you open the Data Classification Worksheet page for the first time, it will be empty. You must run the Data Classification guide to generate the list of fields. To start the guide, choose the **Set Up Data Classifications** action.

For example, the Data Classification Worksheet page lets you do things like:  

* Use the Data Classification guide to export your fields to an Excel worksheet where you can bulk classify them. Using the Excel worksheet is particularly useful if you are collaborating with a Microsoft partner. After you update the worksheet, you can use the guide to import and apply the classifications. You can also use the guide to classify fields manually.  
* Choose a field and then filter the list to find similar fields that are likely to belong to the same classification as the field you based the search on.  
* Investigate a field by viewing its contents.  

> [!Tip]  
> We have defined sample sensitivity classifications for the tables and fields in the Cronus demonstration company. You can use those classifications as inspiration when you classify your own tables and fields.

## Related information

<!-- [Classifying Data](/dynamics365/business-central/dev-itpro/developer/devenv-classifying-data) -->
[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-general-journal-post-line-overview
---
title: General Journal Post Line Overview
description: This topic introduces changes to Codeunit 12, Gen. Jnl.-Post Line, and is the only place to insert general ledger, VAT, and customer and vendor ledger entries.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: design, general ledger, post
ms.date: 06/15/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# General Journal Post Line Overview

Codeunit 12, **Gen. Jnl.-Post Line**, is the major application object for general ledger posting and is the only place to insert general ledger, VAT, and customer and vendor ledger entries. This codeunit is also used for all Apply, Unapply and Reverse operations.  
  
In Microsoft Dynamics NAV 2013 R2, the codeunit was redesigned because it had become very large, with approximately 7,600 code lines. The architecture was changed and the codeunit has been made simpler and more maintainable. This documentation describes the changes and provides information that you will need for upgrade.  
  
## Old Architecture  
The old architecture had the following features:  
  
* There was extensive use of global variables, which increased the possibility of hidden errors due to use of variables with the wrong scope.  
* There were many long procedures (with more than 100 code lines) that also had high cyclomatic complexity (that is, a lot of CASE, REPEAT, IF nested statements), which made the code very difficult to read and maintain.  
* Several procedures that were only used locally and were only meant to be used locally were not marked as local.  
* Most procedures had no parameters and used global variables. Some used parameters and overrode global variables with locals.  
* Code patterns for searching the general ledger accounts and creating general ledger and VAT entries was not standardized and varied from place to place. In addition, there was a lot of code duplication and broken symmetry between customer and vendor code.  
* A large part of the code in codeunit 12, approximately 30 percent, related to payment discount and tolerance calculations, although these features are not needed in many countries or regions.  
* Posting, Apply, Unapply, Reverse, Payment Discount and Tolerance, and Exchange Rate Adjustment were married together in codeunit 12 using a long list of global variables.  
  
### New Architecture  
In [!INCLUDE[prod_short](includes/prod_short.md)], codeunit 12 has had the following improvements:  
  
* Codeunit 12 has been refactored into smaller procedures (all less than 100 code lines).  
* Standardized patterns for the search of general ledger accounts have been implemented by using helper functions from Posting Group tables.  
* A Posting Engine Framework has been implemented to manage the start and finish of transactions and to isolate the creation to general ledger and VAT entries, the collection of VAT adjustment, and the calculation of additional currency amounts.  
* Code duplication has been eliminated.  
* Many helper functions have been transferred to corresponding customer and vendor ledger entry tables.  
* The use of global variables has been minimized, so that each procedure uses parameters and encapsulates its own application logic.  
  
## Related information

[Design Details: Posting Interface Structure](design-details-posting-interface-structure.md)  
[Design Details: Posting Engine Structure](design-details-posting-engine-structure.md)  
[Design Details: General Journal Post Line (Dynamics NAV)](/dynamics-nav-app/design-details-general-journal-post-line)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-suggest-sales-lines-with-copilot
---
title: Sales line suggestions with Copilot
description: Learn how to suggest lines on sales orders with Copilot.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: jswymer
ms.topic: how-to
ms.search.keywords: Copilot, AI, sell
ms.search.form:
ms.date: 04/01/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.collection: bap-ai-copilot
---

# Suggest lines on sales documents with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

This article explains how to create sales documents faster by letting Copilot suggest the items to add to lines on sales documents for your customers.

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

## Sales line suggestions

Sales line suggestion can assist with creating lines on sales documents such as sales quotes, orders, and invoices based on structured input or natural language. The feature isn't a general-purpose chat, but a highly specific and integrated experience that you can use on sales documents. The feature offers two distinct skills that help you find data about individual products or entire documents.

- Find products

  Information that describes products is stored in multiple places in [!INCLUDE [prod_short](includes/prod_short.md)]. For example, item numbers and descriptions are stored in the **Item** table, multiple barcodes are stored in the **Item Reference** table, and product properties are stored in the **Item Attributes** table. While you might prompt for *Red bicycle*, the actual product might be *Crimson tourer*, where *Bicycle* is a product category and *red* is an attribute.

- Find documents by reference

  People often repeat a previous order, or at least use it as a starting point. But it might be tricky to find the right order in a stack of orders. You might remember some of the order's ID, which can be a company-assigned number or a reference number received from a customer. Being able to use prompts such as *Need last invoice from April* should help you find an order faster.

## Supported languages

[!INCLUDE[copilot-language-support-en-only](includes/copilot-language-support-en-only.md)]

## Prerequisites

- Your administrator activates the **Sales Line Suggestions** capability on the **Copilot & agents capabilities** page. Learn more at [Configure Copilot and agent capabilities](enable-ai.md).

## Examples of prompts

Suggest sales lines with Copilot can handle a wide variety of prompt input. This section offers examples of prompts for various scenarios we tested.

### Sample inquiry to repeat a document

Prompt: *Need all the products from invoice 103031*

### During a phone call, you quickly type a list of required products and quantities, but aren't always exact and sometimes use internal product names

Prompt: *2 Red Kids Biicycle*

The prompt works, even with multiple typos.

### A user copies an inquiry from an inbound communication and pastes it onto the Sales Lines Suggestions page

Prompt: *Hello, I'm interested in buying some accessories for my XXXX Laptop, such as a wireless mouse, a keyboard cover, and a laptop bag. I wonder if you have any recommendations or suggestions for these items. Do you have any special offers or discounts for loyal customers like me? Kind regards, M*

Note that XXXX Laptop isn't included in search.

## Options for matching keywords in prompts

When you search for an item using a FullText index, we extract both primary and extra keywords. For example, we break down the search term "Red Coffee Table" into primary keywords "Coffee" and "Table," and some synonyms and other keywords, such as "Red."

When you enter your prompt in the **Suggest Sales Lines** window, the **Matching** field offers the following options for matching criteria:

- [Permissive](#permissive-matching-criteria) means that all keywords are optional. This option typically generates the most suggestions.
- [Balanced](#balanced-matching-criteria) is a blend of required and optional keywords. This option typically generates fewer suggestions.
- [Precise](#precise-matching-criteria) means that all keywords are required. This option typically generates the fewest suggestions.

The following sections provide examples of how matching works. The examples are based on a prompt for "Red Coffee Table" and you have the following fictitious items:

- Red Coffee Table
- Blue Coffee Table
- Green Coffee Table
- Red Side Table
- Dining Table

### Permissive matching criteria

The primary keywords "Coffee" and "Table" are optional. The extra keyword "Red" is optional. This search returns items such as:

- Red Coffee Table
- Blue Coffee Table
- Green Coffee Table
- Red Side Table
- Dining Table

### Balanced matching criteria

The primary keywords "Coffee" and "Table" are required. The extra keyword "Red" is optional. This search returns items such as:

- Red Coffee Table
- Blue Coffee Table
- Green Coffee Table

### Precise matching criteria

The primary keywords "Coffee" and "Table" are required. The extra keyword "Red" is required. This search returns items such as:

- Red Coffee Table

## Suggest lines on a sales document

This process describes how to suggest lines on a sales order. The steps are the same for sales quotes and invoices.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Order**, and then choose the related link.
1. Open a sales order or create a new one.
1. On the **Lines** FastTab, choose **Suggest sales lines**.
1. In the **Suggested sales lines** window, enter your prompt or select one from the prompt guides.

## Review, save, discard, or regenerate suggestions

After Copilot suggests the items to add to lines, review its suggestions and decide whether they're what you want:

- To discard a single proposed line, select it in the list, and then choose the **Delete Line** action.
- To discard all proposed lines and close the Copilot window, choose the Discard button (trash can) next to the **Keep it** button.
- To transfer the lines shown in the Copilot window, choose **Keep it**. 

There's a **Reliability** field that displays **High (80+)**, **Medium (60-80)**, and **Low (60-)** scores and points you to lines that need attention.

This step confirms that you want to transfer the lines to a sales document. You can delete or edit the transferred lines there as well, or delete the whole document.

## Related information

[FAQ for Sales Line Suggestions with Copilot](faq-sales-suggest-sales-lines-with-copilot.md)
[Configure Copilot and agent capabilities](enable-ai.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/company-hub
---
title: Manage Work across Multiple Companies in the Company Hub
description: Learn about the company hub in Dynamics 365 Business Central that you use to manage your work across multiple companies.
author: brentholtorf
ms.topic: article
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 1151, 1154, 1165, 1166
ms.date: 09/28/2023
ms.author: bholtorf
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Manage Work across Multiple Companies in the Company Hub

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Some people work in multiple companies in [!INCLUDE [prod_short](includes/prod_short.md)], and some also work in more than one organization, such as external accountants, or employees and managers of corporations with multiple subsidiaries. For these users, and many others, the company hub serves as a landing page that gives a financial overview across companies and environments. It provides users with a tool for managing work across the various environments that they work in, across companies, environments, and regions.  

You can access the company hub by switching to the **Company Hub** role in My Settings, or by opening the **Company Hub** page directly. You can do the same work in both places, but actions are placed slightly different in menus.  

[![Shows the company hub page that lists all companies.](media/company-hub.png)](media/company-hub.png#lightbox)  

> [!NOTE]
> You can connect the company hub to as many companies as you need. However, you can only connect the company hub to companies that are hosted in [!INCLUDE [prod_short](includes/prod_short.md)] online.

## Company hub home page

If you use the **Company Hub** role, your home page shows a list of companies that you have access to, including information about key point of interest (KPI) data, and links to open each company. <!--You can customize the dashboard to show the data points that you want to see by adding or removing columns. For example, you might want to see taxes that are due, how many open sales documents each company has, or the number of purchase invoices that are due next week. You can configure the view to suit your needs. If you have added many companies, you can use filters to sort your view.--> Choose the **Company Hub** action to open the company hub, where you can work more closely with each company.  

> [!TIP]
> To access a specific company in [!INCLUDE [prod_short](includes/prod_short.md)], choose the name of the company, or choose the **Go To Company** menu item - you are logged in automatically in a new browser tab.

:::image type="content" source="media/company-hub-company-list-actions.png" alt-text="Actions for a company that is listed in the company hub.":::

You can add new companies, such as when you get a new client, or when your corporation adds a new subsidiary. For more information, see [Add Companies to Your Company Hub](company-hub-add-company.md).  

> [!TIP]
> In order to refresh the data in the company hub, you must have access to the data in the companies that the data comes from.

<!--## Company details

In the **Company Hub** page, you can see more information about each company by choosing the name of the company that you want to learn more about. This opens the **Company Details** pane, where you can see additional information, such as the following:  

* Cash account balances  
* Cash flow forecast  
* Overdue purchase invoices  
* Overdue sales invoices  

> [!TIP]
> You can launch predefined Excel workbooks from the **Reports** tab in the ribbon. These Excel workbooks are designed as ready-to-print key financial statements and reports, but you can also modify them to fit your needs. For more information, see [Analyzing Financial Statements in Microsoft Excel](finance-analyze-excel.md).  

Otherwise, close the details pane and continue to the next company.  -->

## Assigned tasks

In [!INCLUDE [prod_short](includes/prod_short.md)], you can assign tasks to yourself and others, and others can assign tasks to you. The company hub gives you an overview of assigned tasks for each company, and you can also access a list of all assigned tasks by choosing **My User Tasks** on the **Home** page.  

<!--In the client company, you also have cues that call out tasks assigned to you in this particular client.  -->

### My user tasks

The **My User Tasks** list helps you prioritize your day by showing more information about tasks assigned to you across all your companies.  

You can sort by due date, for example, or any other type of data that helps you prioritize your day. By default, the list shows all tasks that are assigned to you, but you can set up filters to only show tasks that are marked as high priority, for example.  

To pick up a task, choose it from the list of pending user tasks. In the ribbon, the link **Go to Task Item** opens the page where you can do the work.  

When you have completed a task, mark it as completed.  

For more information about companies and environments, see [Environment links](company-hub-add-company.md#environment-links).  

## Access the company hub

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

In order to access the company hub, you must have access through either the *D365 COMPANY HUB* user group or through the *D365 COMPANY HUB*  permission set. You must also have access to the companies that are listed in your company hub, which means that you must be a user in those companies. For more information, see [Create Users According to Licenses](ui-how-users-permissions.md).  

> [!IMPORTANT]
> The company hub is a company-wide list, so any user who is granted access to the company hub will be able to see all companies in their own [!INCLUDE [prod_short](includes/prod_short.md)] tenant, and all KPIs for the companies that they have access to.

If you cannot find the company hub, and you know that you have been granted access to it, then check with your administrator if the company hub is listed in the **Extension Management** page. For more information, see [Customizing Business Central Using Extensions](ui-extensions.md).  

## Set up the company hub

To start using the company hub, you must add one or more companies to your dashboard. For more information, see [Add Companies to Your Company Hub](company-hub-add-company.md).  

But to add a company, you must have been given access to one or more instances of [!INCLUDE [prod_short](includes/prod_short.md)] in addition to the company that you use the company hub in.  

For example, if you are an accountant, your clients can invite you to their [!INCLUDE [prod_short](includes/prod_short.md)]. For more information, see [Inviting Your External Accountant to Your Business Central](finance-accounting.md#inviteaccountant).  

Administrators can use the same assisted setup guide to add you to their [!INCLUDE [prod_short](includes/prod_short.md)], or they can add you to the relevant Microsoft Entra account in the Microsoft 365 admin center. For more information, see [Manage users and groups](/microsoft-365/admin/add-users/?view=o365-worldwide&preserve-view=true).  

## Related information

[Add companies to your company hub](company-hub-add-company.md)  
[Accountant Experiences in Business Central](finance-accounting.md)  
[The Company Hub for Business Central Extension](ui-extensions-company-hub.md)  
[Change Basic Settings](ui-change-basic-settings.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-dynamicsgp-data-migration
---
title: Migrate Data from Dynamics GP before 15.3
description: Before update 15.3, you could use the Dynamics GP Data Migration extension to migrate customers, vendors, and more from Dynamics GP to Business Central.
author: brentholtorf
ms.topic: upgrade-and-migration-article
ms.devlang: al
ms. search.keywords: app, add-in, manifest, customize, import, implement
ms.date: 06/23/2021
ms.author: bholtorf
ROBOTS: NOINDEX

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# The Dynamics GP Data Migration Extension

> [!NOTE]
> This extension is deprecated in the 15.3 update. We recommend that users who want to migrate from Dynamics GP start using the **Cloud Migration** wizard instead. The **Cloud Migration** extension has more robust functionality and brings more data into Business Central from Dynamics GP. For more information, see [Migrate to Business Central Online from Dynamics GP](/dynamics365/business-central/dev-itpro/administration/migrate-dynamics-gp) in the administration content for [!INCLUDE[prod_short](includes/prod_short.md)].

## Related information

[Intelligent Cloud Extensions for Cloud Migration](ui-extensions-data-replication.md)  
[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions ](ui-extensions.md)  
[Migrate to Business Central Online from Dynamics GP](/dynamics365/business-central/dev-itpro/administration/migrate-dynamics-gp)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-currencies
---
title: Currencies in Business Central
description: Learn how to define your local currency and the foreign currencies that your business uses.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: currencies
ms.search.form: 5, 118
ms.date: 08/09/2024
ms.service: dynamics-365-business-central
ms.custom: bap-currencies
---

# Currencies in Business Central

[!INCLUDE [finance-currencies-lcy-def](includes/finance-currencies-lcy-def.md)]

## Currencies

> [!TIP]  
> In [!INCLUDE[prod_short](includes/prod_short.md)] if you're looking for real time information about foreign currencies, exchange (FX) rates, or historical rates, you'll find it referred to as currency. In addition to this article, see also [Set Up an Additional Reporting Currency](finance-how-setup-additional-currencies.md).

[!INCLUDE [finance-currencies-def](includes/finance-currencies-def.md)]

You specify the currency codes in the **Currencies** list, including extra information and settings that are necessary for each currency code. For more information, see [Currencies](finance-set-up-currencies.md#curr)

### Example of a receivable currency transaction

[!INCLUDE [finance-currencies-example](includes/finance-currencies-example.md)]

## Exchange rates

The exchange rates are the tool to calculate the local currency value (LCY) of each currency transaction. For more information, see [Update Currency Exchange Rates](finance-how-update-currencies.md).  

## Related information

[Set Up Currencies](finance-set-up-currencies.md)    
[Update Currency Exchange Rates](finance-how-update-currencies.md)    
[Set Up an Additional Reporting Currency](finance-how-setup-additional-currencies.md)    
[Closing Years and Periods](year-close-years-periods.md)    
[Working with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-find-entries
---
title: Finding Related Entries for Documents
description: Learn how to find documents, business contacts, and item entries that are related to each other.
author: jswymer
ms.topic: concept-article
ms.devlang: al
ms.search.keywords: find
ms.search.form: 344_Primary
ms.date: 05/23/2022
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Finding Related Entries for Documents

Learn how to find documents and entries that are related to each other based on a piece of common information, like:

- Document number or posting date.
- Business contact type, number, or external document number.
- Item serial number or lot number.

This feature is useful for finding the ledger entries that resulted from certain transactions. When you search by document number, you can print the summary from the **Document Entries** report.

## Get started

The find entries feature is readily available from almost any page by pressing the <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Q</kbd> keys. From pages that specifically display posted documents or posted document entries&mdash;for both lists and cards&mdash;you can also open the feature by choosing the **Find entries** action.

The **Find Entries** page includes all related documents and entries based on the document no. and posting date. The page is divided into three sections:

- The top section displays fields and actions that you use for filtering your search.
- The middle section displays related documents based on the search.
- The bottom section displays information about the source document that was found by searching.

## Search for entries

You can search for entries based on information about either the document, business contact, or item reference. On the top section, select one of the following options based on the type of information you have:

|Action|Description|
|------|-----------|
| **Search for documents** | View entries based on a specific document number or posting date. |
| **Search for business contacts** | View entries based on a specific contact type, contact number, and/or external document number. This last option allows you to search for vendor or customer documents by using the number assigned by the contact. |
| **Search for item references** | View entries based on a serial number or lot number. You can enter the lot number or serial number, or filter on the lot number or serial number that you want to search for. This action is useful to see where a specific item tracking number was used, what vendor it came from, or what customer it was sold to. |

After you make a selection, enter the relevant search information in the fields at the top of the page. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)] When you're finished, choose **Find** to start the search. If you change any of the filters, you have to choose **Find** again.

> [!TIP]
> For a couple of examples about using **Find Entries**, see [Trace Item-Tracked Items](inventory-how-to-trace-item-tracked-items.md) and [Walkthrough: Tracing Serial-Lot Numbers](walkthrough-tracing-serial-lot-numbers.md).

## Related information

[Trace Item-Tracked Items](inventory-how-to-trace-item-tracked-items.md)  
[Find Posted Documents without Incoming Document Records](across-how-find-posted-documents-without-income-document-records.md)  
[Accessibility and Keyboard Shortcuts](ui-accessibility.md)  
[Work with Business Central](ui-work-product.md)  
[Add a Page Action to Your Role Center](ui-bookmarks.md)  
[Find Pages and Information with Tell Me](ui-search.md)  
[Find Pages with the Role Explorer](ui-role-explorer.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-account-categories
---
title: Organize report data using account categories
description: Learn how to categorize general ledger accounts for reporting purposes.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 02/06/2025
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: 108, 490, 790_Primary
ms.service: dynamics-365-business-central
---

# Organize general ledger (G/L) data using account categories

The **G/L Account Categories** page lets you create simple financial reports based on your chart of accounts.  

By providing categories, subcategories, and account mapping to your chart of accounts, [!INCLUDE [prod_short](includes/prod_short.md)] includes basic financial reporting out of the box. If you're just getting started with financial reporting, the standard reports are excellent options until you become more experienced.

## Use G/L account categories

You create the first layer of a financial report by selecting an account category for each general ledger account. There are six categories:

* Assets
* Liabilities
* Equity
* Income
* Cost of Goods
* Expense

You specify categories on the **G/L Account Card** or **G/L Account Categories** pages. The purpose is to identify the major sections of primary financial reports, such as the Balance Sheet and Income Statement reports.  

:::image type="content" source="media/account categories financial reporting.png" alt-text="Shows the G/L account categories page.":::

## Use account subcategories

You can also create subcategories for each account. Subcategories help add more details to the mapping for accounts in each category. You also specify subcategories on the **G/L Account Card** or **G/L Account Categories** pages. The purpose is to identify the subsections of primary financial reports, such as the Balance Sheet and Income Statement reports. Subcategories are more flexible than categories because you can define them. 

:::image type="content" source="media/account subcategories.png" alt-text="Shows account subcategories."::: 

## Map general ledger accounts

The most important feature of the financial reports that [!INCLUDE [prod_short](includes/prod_short.md)] provides is the mapping between G/L accounts and account categories on the **G/L Account Categories** page. All accounts in the chart of accounts should be listed in a selected category and subcategory, so when you generate financial reports you include all mapped accounts. To learn more about mapping categories, go to the examples in [Walkthrough: Create custom financial reports](bi-examples-custom-financial-reports.md).  

:::image type="content" source="media/account mapping.png" alt-text="Shows accounts mapped to G/L account categories.":::

> [!NOTE]
> In 2024 release wave 1, [!INCLUDE [prod_short](includes/prod_short.md)] provides the mapping only in the United States. If you're using another country version, you must create the mapping yourself. The mapping will become available in more country versions in future releases.

## Generate financial reports

After you set up categories and subcategories have and map all accounts on the chart of accounts, choose **Generate Financial Reports**. This action updates financial reports with the M- prefix with the mapping provided for your chart of accounts.  

To control which reports update when you generate financial reports, update the fields in the **Reporting** section of the **General Ledger Setup** page.  

You can remap and update these reports at any time. If you choose to regenerate them, you can choose to keep the original reports and create copies with the new mapping.

## Audit changes to account categories

You can use the Change Log feature to capture changes users make to your G/L account categories. [!INCLUDE [include-audit-what-who-when](includes/include-audit-what-who-when.md)] 

The following table lists the table for G/L account categories and its ID.

| Table | Table ID |
| ----- | -------- |
| G/L Account Category | 570 |

[!INCLUDE [include-audit-changes-to-setup-learn-more-link](includes/include-audit-changes-to-setup-learn-more-link.md)]

## Related information

[Primary capabilities of financial reporting](finance-financial-reporting-capabilities.md)  
[Design your own financial reports](bi-design-financial-reports.md)  
[Financial analytics](bi.md)  
[Prepare financial reporting with financial data and account categories](bi-how-work-account-schedule.md)  
[Design your own financial reports](bi-design-financial-reports.md)  
[Walkthrough: Create custom financial reports](bi-examples-custom-financial-reports.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-let-system-suggest-values
---
title: Let Business Central suggest values
description: To avoid manual calculations and complete tasks quickly and accurately, you can set up automatic data entry so that Business Central fills in selected fields.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 39, 251, 981
ms.date: 04/15/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Let Business Central suggest values

[!INCLUDE[prod_short](includes/prod_short.md)] helps you complete tasks faster and more accurately by prefilling fields or completing lines with data that you would otherwise calculate and enter manually. Although such automatic data entry is always correct, you can change it afterwards if you want to.

This article contains a selection of such functionality. More sections will be added in future updates of [!INCLUDE[prod_short](includes/prod_short.md)].

## Autofill fields with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner-section.md)]

When you draft a new record or edit an existing record, Copilot suggests values for editable fields on the page. Learn more in [Autofill fields with Copilot](autofill-fields-with-copilot.md).

## The **Suggest Balancing Amount** check box on the **General Journal Batches** page

When, for example, you're entering general journal lines for multiple expenses that must all be posted to the same bank account, then each time you enter a new journal line for an expense, you can have the **Amount** field on the bank account line automatically updated to the amount that balances the expenses. For more information about working with general journals, see [Work with General Journals](ui-work-general-journals.md).

### To have the **Amount** field on balancing general journal lines filled automatically

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.
1. On the line for your preferred general journal batch, choose the **Suggest Balancing Amount** check box.
1. Open the general journal and proceed to register and post transactions using the described functionality for automatic entry of a field value.       

For information about how to set up a personal general journal batch, for example, for expense handling, see [Work with General Journals](ui-work-general-journals.md).

## The **Automatically Fill Date Received** field on the **Payment Registration** page

The **Register Customer Payments** page shows outstanding incoming payments as lines that represent sales documents where an amount is due for payment. For more information about applying customer payments, see [Reconcile Customer Payments from a List of Unpaid Sales Documents](receivables-how-reconcile-customer-payments-list-unpaid-sales-documents.md).

Your main actions on the page are to fill in the **Payment Made** check box and the **Date Received** field. You can set [!INCLUDE[prod_short](includes/prod_short.md)] up to automatically enter work date in the **Date Received** field when you select the **Payment Made** check box.

### To have the **Date Received** field on the **Payment Registration** page filled automatically

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Registration Setup**, and then choose the related link.
1. Select the **Automatically Fill Date Received** check box.
1. Open the **Register Customer Payments** page and proceed to process incoming customer payments using the described functionality for automatic entry of a field value.

## Related information

[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Finance](finance.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-move-items-ad-hoc-in-basic-warehousing
---
title: Move Items Unplanned in Basic Warehouse Configurations
description: This article explains unplanned internal movements between bins without a demand from a source document. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 12/16/2022
ms.custom: bap-template
ms.search.form: 393, 7382
---
# Move Items Internally in Basic Warehouse Configurations

You might want to move items between bins without a demand from a source document. For example, as part of the following activities:

* Reorganize your warehouse.
* Bring items to an inspection area.
* Move extra items to and from a production area. 

How you move items depends on how your warehouse is set up as a location. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).

In warehouse configurations where the **Bin Mandatory** setup toggle is turned on, but not **Directed Pick and Put-away** you can register unplanned movements on the following pages:  

* On the **Internal Movement** page.
* On the **Item Reclassification Journal** page.  

## Internal movements

The **Internal Movements** page lets you specify Take and Place lines when there isn't a demand from a source document. The Internal Movement page is like a worksheet for organizing things. You can't process the actual movement directly from it. When a line is filled in, use the **Create Inventory Movement** action to send the line to the **Inventory Movement** page, which is where you process and register the movement.

### To move items as an internal movement

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Internal Movements**, and then choose the related link.  
2. Choose **New** action. Make sure that the **No.** field on the **General** FastTab is filled in.
3. In the **Location Code** field, enter the location where the movement takes place.  

    If the location is your default location as a warehouse employee, the location code is added automatically.  
4. In the **To Bin Code** field, enter the code for the bin that you want to move the items to.

    For example, in production, the bin could be the open shop floor bin defined on the location card or work center.  
5. In the **Due Date** field, enter the date by which to complete the movement.  
6. On each line, fill in the fields as necessary. Internal movement documents have one line per movement. The line contains both the take and the place actions.
7. Choose the **Item No.** field to open the **Bin Contents List** page. Select the item to move based on its availability in bins. You can also choose the **Get Bin Contents** action to fill the internal movement lines based on your filters.  

    After you select the item, the **From Bin Code** field is automatically filled in according to the selected bin content. You can choose any bin where the item is available. The **Item No.** and **From Bin Code** fields are related. Changing the value in one field might change the value in the other.  

    The **To Bin Code** field is filled in with the value you entered on the header. You can change it on the line to any other bin code that isnâ€™t blocked or dedicated for special purposes. Learn more at [The Dedicated field](warehouse-how-to-create-individual-bins.md#the-dedicated-field).  

8. After you define which bins you want to move the items from and to, enter the quantity to move in the **Quantity** field.  

    > [!NOTE]  
    > The quantity must be available in the bin specified in the **From Bin Code** field.  

9. When you're ready to process the movement, choose the **Create Inventory Movement** action.  

    > [!NOTE]  
    >  After you create the movement, the internal movement lines are deleted.  

Perform the rest of the unplanned movement on the **Inventory Movement** page in the same way as you would for a movement based on source documents.

### To record the inventory movement

1. On the **Inventory Movement** page, open the document to record the movement for.  
2. In the **Bin Code** field on the movement lines, the bin where the items must be picked from is where the item is available. You can change the bin if needed.
3. Perform the move and enter the information for the moved quantity in the **Qty. to Handle** field. The value on the Take and the Place lines must be the same. Otherwise, you can't register the movement.

    If you must take the items for a line from more than one bin, for example because the full quantity isn't in the bin, use the **Split Line** action on the **Lines** FastTab. The action creates a line for the remaining quantity to handle.  
4. Choose the **Register Invt. Movement** action.  

The following happens during the posting process:

* Warehouse entries indicate that the quantity is transferred from the take bins to the place bins.

## To move items with the item reclassification journal

Instead of using movement documents, you can record movements by reclassifying bin codes on items. Learn more at [Count, Adjust, and Reclassify Inventory Using Journals](inventory-how-count-adjust-reclassify.md).

> [!NOTE]  
> Movements posted with reclassification journals don't make the movement documents ready to move.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Reclass. Journal**, and then choose the related link.  
2. On each journal line, define the bins to move the items from and to by filling in the **Bin Code** and the **New Bin Code** fields.  

    1. To move a bin's entire contents to another bin, choose the **Get Bin Contents** action.  
    2. Use the filters to find the bin that contains the items you'd like to move, and then choose **OK**. The journal lines are filled with the contents of the bin.  
3. Fill in the remaining fields on each journal line.
4. Post the reclassification journal.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-users-profiles-roles
---
title: Manage users and roles
description: Learn how to manage user profiles in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 05/02/2025
ms.custom: bap-template
ms.search.form: 9171,
---
# Manage user profiles

Assign all users to profiles that reflect:

* Their business role
* The department they work in
* Another type of categorization

Profiles allow administrators to centrally define and manage what different types of users can access in Business Central.

The typical business use of a profile is a role. A profile is therefore named *Profile (Role)* in the UI.

As an administrator, you create and manage profiles on the **Profiles (Roles)** page. Each profile has a card where you manage settings for the related role. The card contains the following information:

* Name of the role
* User settings
* The Role Center that the profile uses

For more information about user settings and Role Centers, see [Change Basic Settings](ui-change-basic-settings.md).

Before you can manage user profiles, you must create and add the users through the Microsoft 365 Admin Center. You can then assign permissions to each user or user group. Permissions define the features that users can access. To learn more about permission settings, go to [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

## Page customization

You can customize page layouts for a profile so that all users assigned the profile sees the customized pages. As an administrator, you customize pages by using the same functionality as users do when they personalize. To learn more about custom page layouts, go to [Customize Pages for Profiles](ui-personalization-manage.md).

## Create a profile

If you can't copy an existing profile, you can create a new one manually.

1. Select the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Profiles (Roles)**, and then select the related link.  
2. On the **Profiles (Roles)** page, select the **New** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!TIP]
> If you want a particular profile to be available only for specific users, you can enter **Navigation menu only** in the **Description** field. That setting excludes the profile from the list of available roles on the **My Settings** page.

## Copy a profile

To save time, you can create a new profile by copying an existing one that has similar settings. When you copy a profile, you also copy page customizations, both user-created and those from extensions.

1. On the **Profiles (Roles)** page, select the line for the profile that you want to copy, and then select the **Copy Profile** action.
2. Fill in the **Profile ID** and **Display Name** fields, and then select the **OK** button.
3. On the **Profiles (Roles)** page, open the newly created profile card, and then edit other fields as necessary.

## Edit a profile

You can edit a profile by changing the fields on the **Profiles (Roles)** page. However, the changes aren't available to the user assigned the profile until they sign out and sign in.

> [!Caution]
> Don't rename a profile while users assigned the profile are signed in. They might have to restart [!INCLUDE [prod_short](includes/prod_short.md)] and sign in again.

## Assign a profile to a user

Users can assign themselves a role (representing a profile) by choosing the **Role** field on the **My Settings** page. As an administrator, you can do the same through the **Profiles (Roles)** page.

1. On the **Profiles (Roles)** page, select the profile that you want to assign, and then select the **User Personalization List** action.
2. On the **User Settings** page, select the user that you want to assign the profile to, and then select the **Edit** action.
3. In the **Profile ID** field, select the relevant profile.

If you assign another profile to a user, any personalizations made by the user with the previous profile are preserved.

## Define user settings for a profile

On the **My Settings** page, users can define basic behavior of their account, such as the Role Center, the language, and which notifications they get. To learn more about user settings, go to [Change Basic Settings](ui-change-basic-settings.md).

As an administrator, you can define settings for a profile. The settings apply to all users assigned to the role.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Profiles (Roles)**, and then select the related link.
2. Select the line for the profile that you want to change user settings for, and then select the **User Personalizations List** action.
3. On the **User Personalizations** page, open the card for the user whose settings you want to change.
4. On the **User Personalization Card** page, edit the fields as necessary.

## Activate a profile

When you create a profile, you can define if, where, and how the profile and its information are available to users.

On the **Profiles (Roles)** page, select the following checkboxes:

* **Enabled** to specify if the related role is visible in the **Available Roles** page for users to choose from.  
* **Use as default profile** to specify the profile that applies to users who aren't assigned a specific role.
* **Disable personalization** to specify if users of the related role can personalize their workspace.
* **Show in Role Explorer** to specify if actions to business features included in the profile are shown in the extended view of the role explorer, a feature overview. To learn more about Role Explorer, go to [Finding Pages with the Role Explorer](ui-role-explorer.md).

## Export profiles

You can export profiles from [!INCLUDE[prod_short](includes/prod_short.md)] and reuse them in another tenant. The profiles export to a zip file that contains Application Language (AL) files. You can reuse the AL files to develop extensions. To learn more about exporting profiles, go to [Use the Client to Create Profiles and Page Customizations](/dynamics365/business-central/dev-itpro/developer/devenv-design-profiles-using-client).

* On the **Profiles (Roles)** page, select the **Export Profiles** action.

    This action exports a zip file that contains AL files for all profiles.

## Import profiles

You can import profiles that are exported from [!INCLUDE [prod_short](includes/prod_short.md)]. The steps are more or less the opposite of the steps to export profiles.

1. On the **Profiles (Roles)** page, select the **Import Profiles** action.
1. Follow the steps in the **Import Profiles** assisted setup guide.

    If you only want to import selected profiles, use the **Selected** checkbox to indicate which to import.
1. Select the **Import Selected** button.

    This action imports a zip file that contains AL files for the selected profiles.

## Delete a profile

You can delete a profile by choosing the **Delete** action on the **Profiles (Roles)** page. However, the following limitations apply:

* You can't delete a profile that is assigned to a user or a security group.
* You can't delete profiles that originate from extensions. The extension must first be uninstalled.
* You can only delete one profile at a time.

## Delete personalizations

### Delete all personalizations made by a specific user

You can delete all changes that a user makes to any pages, which reverts the pages to the the original layout. Personalizations aren't associated with a profile (role). If a user personalizes a page, they experience the personalizations on the page no matter which role they're using.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Settings**, and then select the related link.

    The **User Settings** page lists all users<!--who make personalizations-->.

2. Select the user whose personalizations you want to delete.
3. On the **User Settings** card page, select the **Clear Personalized Pages** action, and then accept the message that appears.

The user experiences the changes the next time they sign in.

You can also delete all page customizations for a profile. To learn more, go to [To delete all customizations for a profile](ui-personalization-manage.md#delete-all-customizations-for-a-profile).

### Delete personalizations for specific pages

You can delete personalizations that one or more users make to specific pages. Deleting personalizations can be useful, for example, if a business process change means that a personalization isn't relevant. Deletions restore the page layout back to what the profile defines.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Personalized Pages**, and then select the related link.

    The **Personalized Pages** page lists all personalized pages and the user they belong to.

    <!--A checkmark in the **Legacy Personalization** field indicates that the personalization was done in an older version of [!INCLUDE[prod_short](includes/prod_short.md)], which handled personalization differently. Users who try to personalize these pages are locked from doing so unless they choose to unlock the page.-->

2. Select the line for the page personalization that you want to delete, and then select the **Delete** action.

The user experiences the changes the next time they sign-in.  

You can also delete individual page customizations for a profile. To learn more, go to [To delete customization for specific pages for a profile](ui-personalization-manage.md#delete-customization-for-specific-pages-for-a-profile).

## Managing user sessions

As the administrator of [!INCLUDE[prod_short](includes/prod_short.md)] online, you can manage user sessions in the administration center. To learn more, go to [Managing Sessions][def] in the administration content.  

For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, you can manage sessions using SQL Server Management Studio, for example. To learn more, go to [SQL Server technical documentation](/sql/sql-server).  

## Related information

[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Customize Pages for Profiles](ui-personalization-manage.md)  
[Personalize Your Workspace](ui-personalization-user.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]

[def]: /dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-sessions
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-setup-warehouse
---
title: Configure Warehouse Processes
description: A company's distribution strategy is reflected in the configuration of its warehouse processes, for example the warehouse locations.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.form: 5775, 7300, 7301, 7302, 7303, 7304, 7305, 7306, 7307, 7308, 7325, 7344, 7346, 7347, 7353, 7366
ms.date: 09/28/2023
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Setting Up Warehouse Management

A company's distribution strategy is reflected in the configuration of its warehouse processes. This includes defining how different items are handled in different warehouse locations, such as the degree of bin control and the extent of workflow required between warehouse activities.  

The following table describes a sequence of tasks, with links to the topics that describe them.  

|**To**|**See**|  
|------------|-------------|  
|Get an overview of the capabilities of basic versus advanced warehouse functionality.|[Warehouse Management Overview](design-details-warehouse-management.md)|  
|Set up eight different bin types, such as Picking Bin, to define the flow activities that relate to each bin type.|[Set Up Bin Types](warehouse-how-to-set-up-bin-types.md)|  
|Create bins, either manually or automatically, with information, such as name, number series, and category, according to a bin template.|[Create Bins](warehouse-how-to-create-individual-bins.md)|  
|Define which items you want to store in any given bin and set the rules that decide when to fill the bin with a particular item.|[Create Bin Contents](warehouse-how-to-set-up-bin-contents.md)|  
|Set an item up to always be placed in a specific bin.|[Assign Default Bins to Items](warehouse-how-to-assign-default-bins-to-items.md)|
|Create templates to govern where and how items are put away during directed put-away.|[Set Up Put-away Templates](warehouse-how-to-set-up-put-away-templates.md)|
|Set users up as warehouse employees at specific locations.|[Set Up Warehouse Employees](warehouse-how-to-set-up-warehouse-employees.md)|
|Define different types of bins across the warehouse to control where items are placed according to their type, rank, or handling level.|[Set Up Locations to Use Bins](warehouse-how-to-set-up-locations-to-use-bins.md)|
|Make additional settings to an existing location to enable it for warehouse activities.|[Convert Existing Locations to Warehouse Locations](warehouse-how-to-convert-existing-locations-to-warehouse-locations.md)|
|Enable picking, moving, and putting away for assembly or production orders in basic warehouse configurations.|[Set Up Basic Warehouses with Operations Areas](warehouse-how-to-set-up-basic-warehouses-with-operations-areas.md)|  
|Set items and locations up for the most advanced scope of warehouse management where all activities must follow a strict workflow.|[Set Up Items and Locations for Directed Put-away and Pick](warehouse-how-to-set-up-items-for-directed-put-away-and-pick.md)|  
|Define when and how items in warehouse locations are counted for maintenance or financial reporting purposes.|[Count, Adjust, or Reclassify Inventory](inventory-how-count-adjust-reclassify.md)|
|Enable warehouse workers to break a larger unit of measure into smaller units of measure to fulfill the needs of source documents.|[Enable Automatic Breaking Bulk with Directed Put-away and Pick](warehouse-enable-automatic-breaking-bulk-with-directed-put-away-and-pick.md)|  
|Set up the warehouse to automatically suggest items to be picked that expire first.|[Enable Picking by FEFO](warehouse-picking-by-fefo.md)|
|Get tips on how to reorganize locations, bins, or zones to obtain more efficient warehouse activities.|[Restructure Warehouses](warehouse-how-to-restructure-warehouses.md)|
|Specify default reports to be used for different document types.|[Report Selection in Business Central](across-report-selections.md)|

## Related information

[Inventory](inventory-manage-inventory.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-transfers-in-planning
---
title: Design Details - Transfers in Planning
description: Learn how to use transfer orders as a source of supply when planning inventory levels.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.date: 02/22/2023
ms.custom: bap-template
ms.search.keywords: design, transfer, sku, locations, warehouse
ms.service: dynamics-365-business-central
---
# Design Details: Transfers in Planning

Transfer orders are also a source of supply when working at the SKU level. When using multiple locations (warehouses), the SKU replenishment system can be set to Transfer, implying that the location is replenished by transferring goods from another location. In a situation with more warehouses, you might have a chain of transfers. Supply to GREEN location is transferred from YELLOW, supply to YELLOW is transferred from RED, and so on. In the beginning of the chain, there's a replenishment system of **Prod. Order** or **Purchase**.  

![Example of transfer flow.](media/nav_app_supply_planning_7_transfers1.png "Example of transfer flow")  

> [!NOTE]
> [!INCLUDE [locations-cronus](includes/locations-cronus.md)]

If you compare the following situations, it's clear that the planning task in the latter can become complex:

* A supply order is directly facing a demand order
* A sales order is supplied through a chain of SKU transfers

If demand changes, it might cause a ripple effect through the chain. All transfer orders, plus the purchase and production order in the opposite end of the chain, will have to be updated to re-balance demand and supply.  

![Example of supply/demand balance in transfers.](media/nav_app_supply_planning_7_transfers2.png "Example of supply/demand balance in transfers")  

## Why is a transfer a special case?  

Transfer orders are similar to other orders, such as purchase and production orders. However, behind the scene they're different.  

One difference is that a transfer line represents both demand and supply. The outbound part that's shipped is demand. The inbound part that's received at the new location is supply at that location.  

![Content of the Transfer Order page.](media/nav_app_supply_planning_7_transfers3.png "Content of the Transfer Order page")  

When [!INCLUDE [prod_short](includes/prod_short.md)] changes the supply side of the transfer, it must make a similar change on the demand side.  

## Transfers are dependent demand  

The demand and supply relationship is similar to components on production order lines. The difference is that components on production order lines are on the next planning level, and have a different item. The two parts of the transfer are on the same level for the same item.  

An important similarity is that components and transfers are dependent demand. Demand from a transfer line is dictated by the supply side of the transfer. If the supply changes, the demand is directly affected.

Unless the planning flexibility is None, a transfer line shouldn't be treated as independent demand in planning.  

In the planning procedure, the transfer demand should only be taken into account after the planning system has processed the supply side. Before that processing happens, the actual demand isn't known. The sequence of changes is important for transfer orders.  

## Planning sequence  

The following image shows an example of a string of transfers.  

![Example of simple transfer flow.](media/nav_app_supply_planning_7_transfers4.png "Example of simple transfer flow")  

In this example, a customer orders the item at location GREEN. Location GREEN is supplied through transfer from the central warehouse RED. The central warehouse RED is supplied by transfer from production on location BLUE.  

In this example, the planning system starts at the customer demand and works its way back through the chain. The demands and supplies are processed for one location at a time.  

![Supply planning with transfers.](media/nav_app_supply_planning_7_transfers5.png "Supply planning with transfers")  

## Transfer level code  

The transfer level code of the SKU determines the sequence in which the planning system processes locations.  

The transfer level code is an internal field. The field is calculated and stored on the SKU when you create or modify the SKU. The calculation runs across all SKUs for a given combination of item and item variant. The calculation uses the location code and the transfer-from code to determine the route to use for the SKUs. The calculation ensures that all demands are processed.  

The transfer level code will be 0 for SKUs with Purchase or Prod. Order replenishment system, and will be -1 for the first transfer level, -2 for the second, and so on. In the example described in the previous section, the levels would be -1 for RED and -2 for GREEN, as shown in the following illustration.  

![Content of SKU Card page.](media/nav_app_supply_planning_7_transfers6.gif "Content of SKU Card page")  

When updating a SKU, the planning system detects whether replenishment systems for SKUs have circular references.  

## Planning transfers without SKU  

For less advanced warehouse setups, you can use locations and make manual transfers between locations, even if you don't use SKUs. For example, the transfer might cover a sales order at that location. The planning system reacts to changes in the demand.  

For manual transfers, the planning system analyzes transfer orders and then plans the order in which to process the locations. Internally, the planning system uses temporary SKUs that have transfer level codes.  

![Transfer level code.](media/nav_app_supply_planning_7_transfers7.png "Transfer level code")  

If there are several transfers to a location, the first transfer order defines the planning direction. Transfers in the opposite direction are canceled.  

## Changing quantity with reservations  

When changing quantities on a supply, the planning system takes reservations into account. The reserved quantity represents the lower limit for how much to reduce the supply.  

When you change the quantity on a transfer order line, keep the lower limit in mind. The lower limit is the highest reserved quantity of the outbound and inbound transfer lines.

For example, a transfer order line of 117 pieces is reserved for the following lines:

* A sales line of 46
* A purchase line of 24

Even though the inbound side might have excess supply, you can't reduce the transfer line below 46.  

![Reservations in transfer planning.](media/nav_app_supply_planning_7_transfers8.png "Reservations in transfer planning")  

## Changing quantity in a transfer chain  

Here's an example of what happens when you change a quantity in a transfer change.

The starting point is a balanced situation with a transfer chain supplying a sales order of 27 at location RED. There's a corresponding purchase order at location BLUE. Both transfers go through location PINK. There are two transfer orders, BLUE-PINK and PINK-RED.  

![Changing the quantity in transfer planning 1.](media/nav_app_supply_planning_7_transfers9.png "Changing the quantity in transfer planning 1")  

Now, the planner at the PINK location chooses to reserve for the purchase.  

![Changing the quantity in transfer planning 2.](media/nav_app_supply_planning_7_transfers10.png "Changing the quantity in transfer planning 2")  

The reservation usually means that the planning system ignores the purchase order and transfer demand. There isn't a problem long as there's balance. But what happens when the RED location changes the order from 27 to 22?  

![Changing the quantity in transfer planning 3.](media/nav_app_supply_planning_7_transfers11.png "Changing the quantity in transfer planning 3")  

When the planning system runs again, it should get rid of excess supply. However, the reservation locks the purchase and the transfer to a quantity of 27.  

![Changing the quantity in transfer planning 4.](media/nav_app_supply_planning_7_transfers12.png "Changing the quantity in transfer planning 4")  

The PINK-RED transfer has been reduced to 22. The inbound part of the BLUE-PINK transfer isn't reserved, but the outbound part is. The reservation means that you can't reduce the quantity below 27.  

## Lead time calculation  

When calculating the due date of a transfer order, different kinds of lead time are taken into account.  

The following lead times are active when planning a transfer order:  

* Outbound warehouse handling time  
* Shipping time  
* Inbound warehouse handling time  

On the planning line, the following fields are used to provide information about the calculation:  

* Transfer shipment date  
* Starting date  
* Ending date  
* Due date  

The shipment date of the transfer line is shown in the **Transfer Shipment Date** field. The receipt date of the transfer line is shown in the **Due Date** field.  

The starting and ending dates describe the actual transportation period.  

The following image shows the interpretation of the starting date-time and ending date-time on planning lines for transfer orders.  

![Central date-times in transfer planning.](media/nav_app_supply_planning_7_transfers13.png "Central date-times in transfer planning")  

The example shows the following calculations:  

* Shipment date + Outbound handling = Starting Date  
* Starting Date + Shipping time = Ending Date  
* Ending Date + Inbound Handling = Receipt Date  

## Safety lead time  

The **Default Safety Lead Time** field on the **Manufacturing Setup** page and the related **Safety Lead Time** field on the **Item Card** page aren't included in transfer order calculations. However, the safety lead time does influence the total plan. The safety lead time affects the replenishment order (purchase or production) at the beginning of the transfer chain. That's the point where the items were put in the location from which they'll be transferred.  

![Elements of the transfer due date.](media/nav_app_supply_planning_7_transfers14.png "Elements of the transfer due date")  

On the production order line, the Ending Date + Safety Lead Time + Inbound Warehouse Handling Time = Due Date.  

On the purchase order line, the Planned Receipt Date + Safety Lead Time + Inbound Warehouse Handling Time = Expected Receipt Date.  

## Reschedule  

When you reschedule a transfer line, the planning system finds the outbound part and changes the date-time.

> [!NOTE]
> If a lead time is defined, there'll be a gap between the shipment and the receipt. The lead time can consist of more elements, such as transportation time and warehouse handling time. On a time line, the planning system moves back in time while it balances the elements.  

![Changing the due date in transfer planning.](media/nav_app_supply_planning_7_transfers15.png "Changing the due date in transfer planning")  

When you change the due date on a transfer line, the lead time must be calculated to update the outbound side of the transfer.  

## Serial and lot numbers in transfer chains  

If the demand uses serial or lot numbers, and you run the planning engine, it will create transfer orders. For more information about this concept, see Item Attributes. However, if serial or lot numbers are removed from the demand, the transfer orders still use the serial or lot numbers and planning will ignore them (not deleted).  

## Order-to-order links  

In this example, the BLUE SKU is set up with an **Order** reordering policy. The PINK and RED SKUs have the **Lot-for-Lot** reordering policy. Creating a sales order for 27 at location RED leads to a chain of transfers. The last transfer is at location BLUE, and it's reserved with binding. In this example, the reservations aren't hard reservations created by the planner at PINK location. The planning system creates the bindings. The important difference is that the planning system can change the latter.  

![Order-to-order links in transfer planning.](media/nav_app_supply_planning_7_transfers16.png "Order-to-order links in transfer planning")  

If the demand is changed from 27 to 22, the planning system will lower the quantity through the chain. The binding reservation is also reduced.  

## Related information  

[Design Details: Planning Parameters](design-details-planning-parameters.md)   
[Design Details: Planning Assignment Table](design-details-planning-assignment-table.md)   
[Design Details: Handling Reordering Policies](design-details-handling-reordering-policies.md)   
[Design Details: Planning With or Without Locations](production-planning-with-without-locations.md)   
[Design Details: Central Concepts of the Planning System](design-details-central-concepts-of-the-planning-system.md)   
[Design Details: Balancing Demand and Supply](design-details-balancing-demand-and-supply.md)   
[Design Details: Supply Planning](design-details-supply-planning.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-install-uninstall
---
title: Install and uninstall apps
description: Learn how you can install and uninstall apps and extensions in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: solsen
ms.topic: install-set-up-deploy
ms.date: 06/17/2025
ms.custom: bap-template
ms.search.keywords: app, add-in, manifest, customize, install, uninstall
ms.search.form: 2500, 2514, 20350
ms.service: dynamics-365-business-central
---

# Install and uninstall extensions (apps) in Business Central

You can change [!INCLUDE[prod_short](includes/prod_short.md)] by installing apps that, for example, add functionality, change behavior, or give you access to new online services. To learn more, go to [Customizing Business Central Using Extensions](ui-extensions.md).

> [!NOTE]
> To install or uninstall apps from AppSource or add per-tenant apps, you must have the right permissions. You must either be a member of the **D365 Extension MGT** user group, or you must have the **EXTEND. MGT. - ADMIN** permission set. If you're an administrator, you can assign user groups and permissions to other users in your company. To learn more about user groups and permissions, go to [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

To use an extension, you must be assigned the permission sets that come with it.

## <a name="install"></a>Install an extension

You manage apps and extensions on the **Extension Management** page. You can access this page from Home. Alternatively, choose the **Search for Page or Report** icon ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") in the top-right corner, enter **Extension**, and then choose the related link.  

You can get new apps from the marketplace at [AppSource.microsoft.com](https://go.microsoft.com/fwlink/?linkid=2081646). The marketplace offers all available apps for [!INCLUDE[prod_short](includes/prod_short.md)], plus apps and content packs for other Microsoft products. Set the relevant filters, take a look at the information for each extension, and get an extension for your [!INCLUDE[prod_short](includes/prod_short.md)].  

> [!NOTE]  
> Sign in to [AppSource.microsoft.com](https://appsource.microsoft.com/) using the email account that you use for [!INCLUDE[prod_short](includes/prod_short.md)]. Use the same email account for other services and products for a smooth experience.  

You can also get to AppSource from [!INCLUDE[prod_short](includes/prod_short.md)]. On the **Extension Management** page, you can see the apps that are currently installed, and you can open the **Microsoft AppSource Apps** page that shows the [!INCLUDE[prod_short](includes/prod_short.md)] apps that are currently available in AppSource. If you choose the **View AppSource** action, you're taken to [AppSource.microsoft.com](https://go.microsoft.com/fwlink/?linkid=2081646). To learn more, go to [Manage AppSource apps](admin-manage-appsource-apps.md).  

Choose an app to learn about what it does, and you can access Help for the app to learn more. When you choose to get an app, you must agree to its terms of use. If you get the app from the AppSource website, you're signed in to [!INCLUDE[prod_short](includes/prod_short.md)] to complete the installation.  

After you install an app, you might have to set it up. Some apps require that you provide some information before you can use them. For example, after you install the **PayPal Payments Standard** app, you must specify the email or the Merchant account ID for your PayPal account. To set up an app, or to find out what information you need, on the **Installed Extensions** page, choose the **Set up** action.  

Other apps simply add fields to an existing page, or they add a new page, for example.

If you uninstall an app, and you then change your mind, you can install it again. When you uninstall an app that you've been using your data isn't deleted. The data is available if you install the app again.

Some apps are provided by Microsoft, and other apps are provided by [other companies](ui-extensions-other.md). We recommend that you learn more about the app before you choose to install it.

Microsoft provides the following apps:

* [AMC Banking 365 Fundamentals Extension](ui-extensions-amc-banking.md)
* [Ceridian Payroll](ui-extensions-ceridian-payroll.md)
* [Company Hub](ui-extensions-company-hub.md)  
* [Dynamics GP Data Migration](ui-extensions-dynamicsgp-data-migration.md)
* [Envestnet Yodlee Bank Feeds](ui-extensions-yodlee-bank-feeds.md)
* [Essential Business Insights](ui-extensions-essential-business-insights.md)
* [Image Analyzer](ui-extensions-image-analyzer.md)
* [Intelligent Cloud](ui-extensions-data-replication.md)
* [Intelligent Cloud Base](ui-extensions-intelligent-cloud.md)  
* [Late Payment Predictions](ui-extensions-late-payment-prediction.md)
* [Microsoft Pay](ui-extensions-microsoft-pay-payments.md)
* [PayPal Payments Standard](ui-extensions-paypal-payments-standard.md)
* [QuickBooks Data Migration](ui-extensions-quickbooks-data-migration.md)
* [QuickBooks Online Data Migration](ui-extensions-quickbooks-online-data-migration.md)
* [QuickBooks Payroll File Import](ui-extensions-quickbooks-payroll.md)
* [Sales and Inventory Forecast](ui-extensions-sales-forecast.md)
* [VAT Group](ui-extensions-vat-group.md)
* [WorldPay Payments Standard](ui-extensions-worldpay-payments-standard.md)
* [DK - C5 Data Migration](ui-extensions-c5-data-migration.md)
* [DK - Payments and Reconciliations](ui-extensions-payments-reconciliation-formats-dk.md)
* [DK - Tax File Formats](ui-extensions-tax-file-formats-dk.md)
* [The GetAddress.io UK Postcodes Extension](LocalFunctionality/UnitedKingdom/ui-extensions-getaddressio.md)  
* [US/CA/UK/AU/NZ/ZA - Send Remittance Advice](ui-extensions-send-remittance-advice.md)

## Set up an app

After you install an app, you might have to set it up. For example, for the **PayPal Payments Standard for [!INCLUDE[prod_short](includes/prod_short.md)]** app you must specify the PayPal account to use. If that's the case, when installation completes [!INCLUDE[prod_short](includes/prod_short.md)] asks whether you want to set up the app right away. Setups can be required for the app to work, or optional.

If you choose to set up your app right away, and it has a required setup, [!INCLUDE[prod_short](includes/prod_short.md)] opens the required setup. The setup can be either a page where you enter information, or an assisted setup guide that helps you through the steps. If you don't complete the setup in one go, you can use the **Setups for _name of app_** page, which lists all setups for the app. Required setups indicated by **bold letters**.

## Upload a per-tenant extension (PTE)

You upload a PTE by using the **Extension Management** page. On the **Extension Management** page, go to **Manage**, then choose **Upload Extension**. On the **Upload and Deploy Extension** page, specify the .app file to upload. To proceed, choose the **Accept** button, and then the **Deploy** action to  start deploying the PTE.

If the PTE contains breaking schema changes, it's possible to *force* an upload of it. To do that, in **Schema Sync Mode** choose the **Force** option, and then confirm that you want to proceed. 

## Uninstall an app

You uninstall an app by using the **Extension Management** page. To uninstall an app, select it on the page, then select the **Uninstall** action. If you uninstall an app, and you then change your mind, you can install the app again.

By default, when you uninstall an app that you've been using your data isn't deleted. If you're sure you won't reinstall the app, you can delete the data when you uninstall it. To delete data when you uninstall an app, turn on the **Delete Extension Data** toggle and then confirm your action. Afterward, you can uninstall the app. Reconfirm that you want to uninstall the app and delete the data.

> [!IMPORTANT]  
> * There might be apps that require or depend on the app that you want to uninstall. These apps are referred to as *dependents*. You can't uninstall an app unless you also uninstall its dependents. When you uninstall an app that has dependents, a dialog lists the dependents. To continue, select **Yes** to uninstall the app and its dependents.
> * If you turn on the **Delete Extension Data** toggle, uninstalling the app deletes all data for the app *plus* data for all dependent apps. The action can't be undone.
> * Some apps are required and you can't delete them on the **Extension Management** page.  

If you want to keep the data for an uninstalled app, you can delete the data later. The **Delete Orphaned Extension Data** page lists the apps that you still have data for. To delete the data, choose the app, and then choose **Delete Data**.

## Related information

[Customize Business Central](ui-customizing-overview.md)  
[Business Central Extensions by Other Providers](ui-extensions-other.md)  
[Manage AppSource apps](admin-manage-appsource-apps.md)  
[Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md)  
[Enable Customer Payment Through PayPal](sales-how-enable-payment-service-extensions.md)  
[Migrate Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Set Up the GetAddress.io UK Postal Code extension](LocalFunctionality/UnitedKingdom/uk-setup-postal-code-service.md)  
[[!INCLUDE[prod_short](includes/prod_short.md)] Extensions by Other Providers](ui-extensions-other.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-smart-notifications
---
title: Work With Smart Notifications and Specify When You See Them
description: You can receive notifications that inform you about status changes or events, for example, an overdue balance or low inventory.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.date: 04/01/2021
ms.search.form: 
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Manage Notifications

[!INCLUDE[prod_short](includes/prod_short.md)] can help you work smarter by notifying you about certain events or changes in status, such as when you are about to invoice a customer who has an overdue balance, or the available inventory is lower than the quantity you are about to sell, for example. These notifications are shown as discreet tips in the context of the task you are doing, and you can choose to ignore the notification or to see details about the issue.  

If you choose to see details for a notification, you can take action to resolve the issue, such as contacting the customer, buying more inventory, and so on. It's your choice what to do, and [!INCLUDE[prod_short](includes/prod_short.md)] gives you advice and recommendations.  

Notifications can help untrained users complete unfamiliar tasks, and do not reduce productivity for the more trained user.  

## To turn notifications on or off, and control when they are sent

When you first start with [!INCLUDE[prod_short](includes/prod_short.md)] all notifications are turned on, but you can turn them on or off, for example, if you aren't interested in a certain event or status.  

Additionally, some notifications let you specify the conditions under which they are sent. For example, if you want to be notified when inventory is running low, but only for items you buy from a certain vendor.  

Turning notifications on or off, and specifying conditions, applies only to you.  

1. In the top right corner, choose the **Settings** icon ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center"), and then choose the **My Settings** action.  
2. On the **My Settings** page, in the **Notifications** field, choose the *Change when I receive notifications.* link.  
3. In the page that appears, turn on or turn off a notification by selecting or clearing the **Enabled** check box.  
4. To specify conditions that trigger a notification, choose the **View filter details** link, and then fill in the fields.  

## Related information

[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-application-design
---
title: Application design details
description: This content contains detailed technical information about complex application features in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/11/2024
ms.service: dynamics-365-business-central

---
# Application design details

The articles in this section contain detailed technical information about complex application features in [!INCLUDE[prod_short](includes/prod_short.md)].  

Design details content is aimed at implementers, developers, and super users who need deeper insight to implement, customize, or set up the features in question.  

|**To**|**See**|  
|------------|-------------|  
|Understand mechanisms in the costing engine, such as costing method and cost adjustment, and which accounting principles they're designed for.|[Design Details: Inventory Costing](design-details-inventory-costing.md)|  
|Learn about how the Adjust Cost - Item Entries batch job identifies and assigns a posting date to the value entries that the batch job is about to create.|[Design Details: Posting Date on Adjustment Value Entry](design-details-inventory-adjustment-value-entry-posting-date.md)|
|Learn about the design for storing and posting dimensions, including code examples on how to migrate and upgrade dimension code.|[Design Details: Dimension Set Entries](design-details-dimension-set-entries-overview.md)|
|Learn how the planning system works and how to adjust the algorithms to meet planning requirements in different environments.|[Design Details: Supply Planning](design-details-supply-planning.md)|  
|Learn how system keeps a constant control of item availability in the warehouse, so that outbound orders can flow efficiently and provide optimal deliveries.|[Design Details: Availability in the Warehouse](design-details-availability-in-the-warehouse.md)|
|Learn about historic and the current design of item tracking functionality and how it integrates with the reservation system to include serial/lot numbers in availability calculations.|[Design Details: Item Tracking](design-details-item-tracking.md)|  
|Learn about the General Journal Posting Line feature.|[Design Details: General Journal Post Line](design-details-general-journal-post-line.md)|
|Learn about the different models for handling non-deductible VAT amounts related to items and fixed assets.|[Design details: Non-deductible VAT](design-details-nondeductible-vat.md)|
|Learn how to allow concurrent numbering for warehouse register records and warehouse entries.|[Design details: Creating Warehouse Entries](design-details-warehouse-entries.md)|

## Related information

[Planning](production-planning.md)  
[Managing Inventory Costs](finance-manage-inventory-costs.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)  
[Setting Up Complex Application Areas Using Best Practices](set-up-complex-application-areas-using-best-practices.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/suggest-item-substitutions-copilot
---
title: Suggest substitute items with Copilot
description: Assign substitute items faster with assistance from Copilot.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: jswymer
ms.topic: how-to
ms.date: 04/01/2025
ms.custom: bap-template
ms.collection:
  - bap-ai-copilot
ms.search.form: 30, 31, 5716_Primary
---

# Suggest substitute items with Copilot

[!INCLUDE [preview-banner](includes/preview-banner.md)]

This article explains how to find and assign substitute items faster by letting Copilot suggest the items to add.

[!INCLUDE [production-ready-preview-dynamics365](includes/production-ready-preview-dynamics365.md)]

## About item substitution suggestions

To ensure they can fulfill orders quickly, businesses often assign similar items to each other so they can use them as substitutes. For example, substitutes are good to have when the item that was originally requested is out of stock. Finding and assigning the right items to use as substitutes can be time consuming, and that's where Copilot can help. The suggest item substitutions capability for Copilot can speed up the process of finding similar items.

Information about products is stored in multiple places in [!INCLUDE [prod_short](includes/prod_short.md)]. For example, item numbers and descriptions are stored in the Item table, multiple barcodes are stored in the Item Reference table, and item properties are stored in the Item Attributes table. Copilot uses a large language model combined with embedded search to comb through this information and suggest items that might be good substitutes. While you might prompt for *Red bicycle*, the actual product might be *Crimson Tourer**, where *Bicycle* is an item category and *Red* is an attribute.

## Available languages

[!INCLUDE [copilot-geo-and-language-availability](includes/copilot-geo-and-language-availability.md)]

## Prerequisites

- Your administrator must activate the **Create product information** capability on the **Copilot & agent capabilities** page. [Learn more about how to configure Copilot and agent capabilities](enable-ai.md).
- You're familiar with creating and managing product (item) information.

## Suggest item substitutions on item substitution entries

This process describes how to get Copilot to suggest substitute items.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then select the related link.
2. Select the item you want Copilot to find substitutes for.
3. Choose the **Substitutions** action.
4. On the **Item Substitution Entry** page, choose **Suggest with Copilot**.
5. Review the suggestions. To learn more, go to [Review, save, discard, or regenerate suggestions](#review-save-discard-or-regenerate-suggestions).

## Adjust the search

By default, the capability uses the item description as search criteria, which you can adjust if you want to fine-tune the search results. To edit the prompt, select the :::image type="content" source="media/edit-pencil.png" alt-text="Edit the prompt."::: icon in the Copilot window. For example, you can add more details to the prompt such as colors, sizes, or other item attributes.

## Review, save, discard, or regenerate suggestions

After Copilot suggests the items to add, review the suggestions and decide whether they're what you want:

- To discard a single proposed line, select it in the list, and then choose the **Delete Line** action.
- To discard all proposed lines and close the Copilot window, choose **Discard** (trash can).
- To transfer the lines shown in the Copilot window, choose **Insert all**. This step confirms that you want to transfer the lines to the **Item Substitution Entry** page. You can delete or edit the transferred lines there as well. The **Score** field that displays **High (85+)**, **Medium (83-85)**, and **Low (79-83)** scores and points you to lines that need attention.

## Related information

[FAQ for suggest item substitutions with Copilot](faq-suggest-item-substitutions-with-copilot.md)  
[Troubleshoot Copilot and agent capabilities](ai-copilot-troubleshooting.md)  
[Responsible AI FAQ for bank reconciliation assist](faqs-bank-reconciliation.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-create-individual-bins
---
title: Create bins
description: Generate groups of similar bins in the bin creation worksheet, create bins individually on the location card, or automatically on the Bin Creation Worksheet. 
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 7368, 7369, 7370, 7371, 7372, 7373
ms.date: 12/13/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Create bins

The most effective way to create the bins of your warehouse is to generate groups of similar bins in the bin creation worksheet, but you can also create your bins individually from the location card. You can also use a function on the **Bin Creation Worksheet** page to create bins automatically.  

## To create a bin from the location card

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and choose the related link.  
2.  Select the location that you want to create a bin from, and then choose the **Bins** action.  
3. Choose the **New** action.
4. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

### The dedicated field

The **Dedicated** field on the **Bins** page specifies that quantities in the bin are protected from being picked for other demands. However, quantities in dedicated bins can still be reserved. Accordingly, the quantities in dedicated bins are included in the **Total Available Quantity** field on the **Reservation** page.

Making a bin dedicated results in similar functionality in basic warehousing to using bin types, which is only available in advanced warehousing. For more information, see [Set Up Bin Types](warehouse-how-to-set-up-bin-types.md).

### Example

A work center is set up with a bin code in the **To-Production Bin Code** field. Production order component lines with that bin code require that forward-flushed components are placed there. However, until the components are consumed from that bin, other component demands might pick or consume from that bin because they're still considered available bin contents. To make sure that bin content is only available to component demand that uses that to-production bin, you must select the **Dedicated** field on the line for that bin code.

> [!Caution]
> Items in dedicated bins are not protected when they are picked and consumed as production or assembly components with the **Inventory Pick** page. For more information, see [Pick for Production or Assembly in Basic Warehouse Configurations](warehouse-how-to-pick-for-production.md).

## To create bins individually in the bin creation worksheet

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bin Creation Worksheet**, and choose the related link.  
2.  Fill in on each line the fields that are necessary to name and characterize the bins you're creating.  
3.  Choose the **Create Bins** action.  

## To make bins automatically in the bin creation worksheet

Before you start creating bins automatically, you should determine the kind of bins that are essential for your operations, and the most practical flow of items through the physical structure of your warehouse.  

> [!NOTE]  
> As soon as you use a bin, you cannot delete it unless it is empty. But if you want to use another bin-naming system, you can use the reclassification journal to in effect move your items to a new bin system. This process is manual and takes time, however, so it is best to set up your bins correctly from the start.  

To work with the **Bin Creation Worksheet** page, you must be set up as a warehouse employee at the location where the bins exist. For more information, see [Set Up Warehouse Employees](warehouse-how-to-set-up-warehouse-employees.md).    

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bin Creation Worksheet**, and then choose the related link.  
2.  Choose the **Calculate Bins** action.
3. On the **Calculate Bins** page, in the **Bin Template Code** field, select the bin template that you want to use as the model for the bins you're creating.
4.  Fill in a description for the bins you are in the process of creating.  
5.  To create the bin codes, fill in the **From No.** and **To No.** fields in the three categories shown on the page: **Rack**, **Section,**, and **Level.** The bin code can contain up to 20 characters.  

    > [!NOTE]  
    >  The number of characters that you have entered in the three categories for either field, for example, the characters you have entered in the three **From No.** fields, plus the field separators, if any, must be 20 or less.  

     You can use letters in the code as an identifying combination, but the letter you use must be the same in the **From No.** and **To No.** fields. For example, you might define the Rack part of the code as **From No. A01** and **To No. A10**. The application isn't set up to generate codes with letter sequences, for example, from A01 to F05.  

6.  If you want a character, such as a hyphen, to separate the category fields you have defined as part of the bin code, fill in the **Field Separator** field with this character.  
7.  If you want application not to create a line for a bin if it exists already, select the **Check on Existing Bin** field.  
8. When you finish filling in the fields, choose the **OK** button.

    The application creates a line for each bin in the worksheet. You can now delete some of the bins, for example, if you have a rack with a passageway through the first two levels of a couple of sections.  

9. When you delete all unnecessary bins, choose the **Create Bins** action, and application creates bins for each line in the worksheet.  

Repeat the process for another set of bins until you create all the bins in your warehouse.  

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)  
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)    
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/analysis-assist
---
title: Analyze data in lists with Copilot (preview)
description: Learn how to use Copilot in Business Central to analyze data.
author: jswymer 
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: how-to
ms.date: 06/19/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.search.form: 456, 457, 458, 459, 460, 461, 16, 22, 25, 26, 27, 31, 143, 144, 9300, 9301, 9303, 9304, 9305, 9306, 9307, 9309, 9310, 9311
ms.collection:
  - bap-ai-copilot
---
# Analyze data in lists with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

This article explains how to use *analysis assist* to help you analyze data on list pages.

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

## About analysis assist

Analysis assist is a Copilot for the [analysis mode](analysis-mode.md) on list pages in [!INCLUDE [prod_short](includes/prod_short.md)]. Analysis mode provides an interactive and versatile way to calculate, summarize, and examine data. To analyze data in analysis mode, you create an *analysis* tab where you transform the data to display the desired aggregations and summarizations. For example, you arrange fields in rows and columns, specify filters, sort columns, and pivot on fields. With analysis assist, instead of doing this task manually, you achieve much of the same&mdash;or least as a start&mdash;by using words. By expressing the structure you want in natural language, like "sort on quantity from smallest to largest" or "show average cost per category," analysis assist uses AI to generate a suggested layout on an analysis tab.

## Supported languages

[!INCLUDE[copilot-geo-and-language-availability](includes/copilot-language-support.md)]

## Prerequisites

- An administrator must activate the **Analyze list** capability on the **Copilot & agent capabilities** page and grand users permissions to use analysis mode. Learn more in [Configure Copilot and agent capabilities](enable-ai.md).  

## Get started

1. Open the list page you want to analyze.

   For example, to work with the **Items** page, select the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png) icon (<kbd>Alt</kbd>+<kbd>Q</kbd>), enter *items*, and then choose the related link.

1. You can start analyzing data with Copilot directly from the list page or by first entering analysis mode. To get started, do one of the following steps:

    - In the action bar at the top of the page, select ![Shows the copilot icon](media/copilot-icon.png) **Copilot** > **Analyze list**.
    - In the action bar at the top of the page, select ![Shows the enter analysis mode icon](media/analysis-mode-icon.png) **Enter analysis mode**, then select ![Shows the copilot icon](media/copilot-icon.png) **Copilot** > **Create new analysis**.

1. In the **Analyze Items** window, enter a description of the layout you want. This description is known as a *prompt*.

    ![Shows the analysis assist Copilot](media/analysis-assist.svg)

    > [!TIP]
    > For help in writing a prompt, select ![Shows the view prompt icon](media/prompt-guide-icon.png) **Prompt guide**, and choose one of the options to get you started. The text in brackets `[ ]` is shown only as an example and isn't included in the Copilot window.

1. Select **Generate** and then wait while Copilot generates the layout on new analysis tab.
1. Review the results on the new analysis tab.

   > [!NOTE]
   > If you navigate away from the new analysis tab (such as going to another analysis tab or page), the new analysis tab is automatically saved and Copilot closes.

1. If you want to change the generated analysis, you can do one of these steps:

   - To build on the previous instructions, enter the information in the **Add more details about the analysis** box, then select the ![Show the adjust arrow](media/analysis-assist-adjust-button.png) **Adjust** arrow. Copilot remembers your previous instructions and uses them to make adjustments.

     ![Shows the analysis assist history buttons](media/analysis-assist-paging.svg)

   - To manually adjust the layout, you can interact directly with the columns, data area, and analysis filters. For example, you can adjust a filter and remove a column, and Copilot remains available in case you want assistance with building on your manual adjustments and previous instructions.
   - To start from scratch by adding new instructions, select the ![Shows the edit prompt pencil icon](media/edit-pencil.png) **Edit prompt:**, add the details to the prompt, and then select **Generate**.

1. Use **< Back** and **> Next** at the top of the Copilot window to review the different layouts you created as you made adjustments for this analysis tab. You can go back to any adjustments that you or Copilot made to the tab since you created it.

1. If you want to save the analysis tab, select **Keep it**. If you don't want to save it, select **Discard**.

## Prompt tips and examples

Creating effective prompts for Copilot is essential to get accurate and relevant analysis suggestions. There are also ways to minimize text you add in prompts to make it faster when typing. Here are some tips and guidelines followed by some examples:

- Be concise and avoid long sentences or multiple sentences.
- Make sure field names used in prompts are somewhat close to actual field names on the page.
- Use natural language, expressing the data structure you want in a friendly and conversational manner.
- Use common keywords, phrases, and terms used in data analysis, like `group by`, `sum`, `sort by`, and so on.
- If the initial response isn't what you want, add follow-up instructions or rephrase the last instruction.
- Common abbreviations are acceptable.
- Letter case isn't important.

### Examples

These following prompt examples use analysis assist on the **Items** list. The items page includes three summable fields for analysis: **Quantity on Hand**, **Unit Cost**, **Unit Price**.

Prompt:â€¯`Show low-stock items by category`

This prompt can be used to group item records by their assigned category, filtering items to only those items with low stock. Copilot suggests a definition for low inventory and applies a filter such as "Quantity on Hand less than 10". In this case, the items list doesn't display the **Category** field, Instead, Copilot brings that field into the analysis tab so that you donÂ´t need to go through the manual effort of personalizing the page.

Prompt: `Show items by brand and unit of measure`

This prompt tries to show totals for all summable fields, grouped by brand and the **Base Unit of Measure** field. But in this case, "brand" doesn't match any field name, so Copilot probably can't find a matching field. It then asks you to rephrase the prompt and try again.

Prompt: `Show items by type and uom`

This prompt  shows totals for all summable fields, grouped by the **Type** field and **Base Unit of Measure** field. In this prompt, the abbreviationâ€¯`uom`â€¯is used instead of writing out "unit of measure". Copilot is often able to interpret abbreviations or alternate names and match them to fields on the list.

Prompt: `Show total quantity per type per UoM`

This prompt creates a pivot table on the **Quantity on Hand** field per **Base Unit of Measure** per **Type**.

## How Copilot works with fields for analysis assist

Copilot can use any of the visible or hidden fields on the list page and add them as columns to the analysis tab layout. Hidden fields are those fields that you would typically add to the list by personalizing the page.

When Copilot determines that a hidden field is useful for your analysis tab, the field is shown as a column in the tab layout. It's also shown in the **Columns** pane so that you can hide or reorder it, or add it to any other analysis tabs for this list.  

> [!NOTE]
> If an administrator has turned off personalization for your profile (role), Copilot isn't able to use hidden fields from the list.

Copilot can't reach fields that are on the table but not on the page, and it can't use fields from other pages.

## Related information

[Responsible AI FAQ for analysis assist](faqs-analysis-assist.md)  
[Ad hoc data analysis](reports-adhoc-analysis.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-use-financials-data-source-flow
---
title: Use Power Automate flows in Business Central
description: Use Power Automate flows to create, edit, and manage business processes. Boost productivity with easy automation.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.search.keywords: workflow, OData, Power App, SOAP, Power Automate, 
ms.search.form: 1500, 
ms.date: 06/20/2025
ms.custom: bap-template 
---

# Use Power Automate flows in [!INCLUDE[prod_short](includes/prod_short.md)]

With [!INCLUDE[prod_short](includes/prod_short.md)], you have a license to Microsoft Power Automate. This license lets you use your [!INCLUDE[prod_short](includes/prod_short.md)] data as part of a workflow in Microsoft Power Automate. You create flows and connect to your data from internal and external sources through the [!INCLUDE [prod_short](includes/prod_short.md)] connector.

Power Automate flows run when an event occurs, like when a record is created, changed, or deleted. You can also run flows on a schedule or on demand.

> [!NOTE]
> Administrators can restrict access to Power Automate. If you find that you don't have access to some or all of the features described in this article, talk to your admin. If you want to learn how you can control Power Automate access as an admin, see [Set Up Power Automate Integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-setup).

<!-- You must have a valid account with both [!INCLUDE[prod_short](includes/prod_short.md)] and Power Automate. --> 

> [!TIP]
> In addition to Power Automate, you can use approval workflow templates in [!INCLUDE[prod_short](includes/prod_short.md)]. Although they're two separate workflow systems, any approval workflow template you create with Power Automate is added to the list of workflows within [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more at [Workflows](across-workflow.md).

## About Power Automate flows

Power Automate is a service that helps you create automated workflows (or flows) between apps and services, like [!INCLUDE[prod_short](includes/prod_short.md)]. Power Automate flows require little or no coding knowledge. They can be associated with a wide range of events and responses, such as:

- Record changes
- External files updates
- Posted documents
- Different Microsoft and Non-Microsoft services, like Microsoft Outlook, Excel, Dataverse, Teams, SharePoint, Power Apps, and more.

There are three different cloud flow types that you can work with:

|Flow type|Description|
|---------|-----------|
|Automated flow|This flow type runs automatically when an event happens. In [!INCLUDE[prod_short](includes/prod_short.md)], an event could be when a record or document is created, modified, or deleted. So, for example, a new sales invoice can trigger a flow for an approval request, which can have different events set depending on the approver's reply. A negative response sends a notification and email to the approval requester. A positive reply simultaneously updates an Excel spreadsheet located in a SharePoint folder and sends an update to a Teams chat. Automated flows start from internal or external events in [!INCLUDE[prod_short](includes/prod_short.md)].|
|Approval flow|Approval flows are also automated flows in Power Automate, but they're designed specifically for requesting approval when changes are made to records and data. You can use approval flows in Power Automate as an alternative to the [approval workflows feature](across-use-workflows.md) that's part of [!INCLUDE[prod_short](includes/prod_short.md)]. |
|Scheduled flow|This type of flow is also automatically run but it runs periodically at a scheduled date and time. |
|Instant flow|This flow type is run on-demand, requiring the user to run it manually from a button or action in another app or device, in this case, the [!INCLUDE[prod_short](includes/prod_short.md)] client. Instant flows work similarly to batch shortcuts, performing multiple lengthy steps with a few button presses and are launched from specific pages or tables. For example, a flow can add a button to the action menu on the **Vendors** page to block payments to a vendor and, at the same time, send customizable emails to the vendor's contact and your company's purchasers as well as update the contact in Outlook. |

## Power Automate features

To explore all Power Automate flows currently available to you, sign in to [Power Automate](https://powerautomate.com) and select **My flows** from the navigation bar on the left. Here you find flows created yourself and flows shared with you by an admin or coworker.

- Instant flows are also made available for running directly from most list, card, and document pages in [!INCLUDE[prod_short](includes/prod_short.md)]. You find the instant flows in the **Automate** action group in the action bar of pages. To run a flow, select it, and follow the instructions presented to you. Learn more in the sections that follow.

- With automated flows in [!INCLUDE[prod_short](includes/prod_short.md)], there's nothing for you to do, unless you want to change them, or turn them off. Otherwise, they just work when triggered. 
<!--

## Automated flows

With Power Automate, you can create business flows directly in-house and rely on citizen developers. Automated workflows can be started by both internal and external events in [!INCLUDE[prod_short](includes/prod_short.md)], and also be set to run periodically. Learn more and get instructions on how to create flows in the [Set Up Automated Workflows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows) article in the administration content.

-->

## Run instant flows

Instant flows open inside [!INCLUDE [prod_short](includes/prod_short.md)] online so you can remain within the context of the business process you were in the middle of doing. You can run an instant flow from most lists, cards, or documents.

1. In the action bar, select **Automate**, then choose a flow from the list of available flows under the **Power Automate** action.

    :::image type="content" source="media/power-automate-instant-menu.svg" alt-text="Shows the Automate action with instant flow actions.":::

    On some pages, **Automate** is nested under **More options (...)**. 
2. In the **Run Flow** pane, fill in any required fields, then select **Continue** to run the flow.

> [!NOTE]
> The first time you use the **Automate** item, you might only have the **Get started with Power Automate** action. You see this action because you didn't agree to the privacy notice for Microsoft Power Automate. To continue, select **Get started with Power Automate** and follow the instructions to agree or disagree.  
>
> :::image type="content" source="media/power-automate-action.png" alt-text="Shows the Automate item in the action bar.":::

<!--

[!INCLUDE [prod_short](includes/prod_short.md)] can run a Power Automate flow from most list, card, and document pages. Once the admin has connected [!INCLUDE [prod_short](includes/prod_short.md)] with Power Automate, you'll see any flows your organization has added when you choose the **Automate** action on the relevant pages. Instant flows are run without leaving [!INCLUDE [prod_short](includes/prod_short.md)]. Learn more in the [Set Up Automated Workflows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows) article in the administration content.

These instant flows open on a page inside [!INCLUDE [prod_short](includes/prod_short.md)] online so you can remain within the context of the business process you were in the middle of. Choose the **Automate** actionâ€”on some pages nested under the **More Options** menuâ€”choose the **Power Automate** menu item, then choose the relevant link to trigger the workflow. The connection to Power Automate is already set up for you.

Most flows require you to fill in a field or two before you choose the **Run flow** action.

> [!TIP]
> If you don't see an **Automate** action, then your [!INCLUDE [prod_short](includes/prod_short.md)] probably hasn't yet been set up to use Power Automate. Learn more from your admin.-->

## Create, edit, and manage flows

Creating new flows or modifying and managing existing ones (like turning them on or off) can be done directly in Power Automate. But you can initiate some of these tasks from the Automate action menu in  [!INCLUDE[prod_short](includes/prod_short.md)]:

:::image type="content" source="media/power-automate-menu.svg" alt-text="Shows the Automate action in the action bar with expanded actions.":::

- To create an automated flow from a list, card, or document page, select **Automate** > **Create automated flow**.
- To create an approval workflow from a card or document page, select **Automate** > **Create approval flow**.

  > [!TIP]
  > This action is only available on card and document type pages; not lists.
- To create an instant flow from a list, card, or document page, select **Automate** > **Create action based on a flow**.
- To open Power Automate from a list, card, or document page, select **Automate** > **Manage flows**.
<!--- To create new flows or manage existing flows from inside [!INCLUDE[prod_short](includes/prod_short.md)], got to the **Manage Power Automate Flows** page.-->

These tasks are typically done by an admin or super user. The tasks require a broader knowledge of the business processes in [!INCLUDE[prod_short](includes/prod_short.md)]. To learn more, go to the following articles in the Business Central Dev and IT Pro help:

- [Power Automate integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-overview)
- [Create automated flows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows) (also covers approval flows)
- [Create instant flows](/dynamics365/business-central/dev-itpro/powerplatform/instant-flows)
- [Manage Power Automate flows](/dynamics365/business-central/dev-itpro/powerplatform/manage-power-automate-flows)
<!-- 

## Add more automated flows and instant flows

You can create flows through the [powerautomate.microsoft.com](https://powerautomate.microsoft.com) website. However, if your admin has switched on the capability to run Power Automate flows from inside [!INCLUDE [prod_short](includes/prod_short.md)] online, you can start the process of building a flow from the **Automate** action on the relevant pages, which can be found under the **More Options** menu depending on the page. Then choose the **Power Automate** menu item, and then choose the **Create a flow** action. Power Automate then opens in a new browser tab, and you're signed in automatically.

You can find sample templates to adapt to your company and all available trigger events, using both [!INCLUDE [prod_short](includes/prod_short.md)] and external tools, by choosing the **Connectors** menu on the Power Automate website. Learn more about available templates and triggers in the [Set Up Automated Workflows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows) article in the administration content.

## Create and manage Power Automate flows

You can create new flows or manage existing Power Automate flows in [!INCLUDE [prod_short](includes/prod_short.md)] on the **Manage Power Automate Flows** page. Learn more in the [Manage Power Automate Flows](/dynamics365/business-central/dev-itpro/powerplatform/manage-power-automate-flows) article in the administration content.

<!--
You can also manage available Power Automate workflows on the **Workflows** page in [!INCLUDE[prod_short](includes/prod_short.md)]. The page lists both the built-in approval and Power Automate workflows, with options for the latter to enable/disable, delete, and view the workflow on the Power Automate website.-->

## Related information

[Troubleshoot Your [!INCLUDE[prod_short](includes/prod_short.md)] Automated Workflows](across-flow-troubleshoot.md)  
[Get Ready for Doing Business](ui-get-ready-business.md)  
[Workflows](across-workflow.md)  
[Import Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Set Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md)  
[Financial Management](finance.md)  
[Manage Power Automate Flows](/dynamics365/business-central/dev-itpro/powerplatform/manage-power-automate-flows)  
[Set Up Automated Workflows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows)  
[Switch on Instant Flows](/dynamics365/business-central/dev-itpro/powerplatform/instant-flows)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/map-edocuments-with-copilot
---
title: Map e-documents to purchase order lines with Copilot
description: Learn about how to use Copilot to map e-documents to purchase order lines.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: jswymer
ms.topic: how-to 
ms.collection:
  - get-started
  - bap-ai-copilot
ms.date: 04/01/2025
ms.custom: bap-template 
---

# Map e-documents to purchase order lines with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

As procurement processes become more digital, the e-documents feature in [!INCLUDE [prod_short](includes/prod_short.md)] plays a key role in automating how companies receive and process vendor invoices. Copilot can help by improving the mapping and matching of lines on vendor invoices to purchase orders. Copilot can reduce the time you spend on tasks that would normally require extensive search, lookup, and data entry. Another benefit is when vendor invoices don't relate exactly with purchase orders. Copilot can identify the corresponding purchase orders. Enhanced matching capabilities particularly benefit small and mid-sized organizations that need efficient document tracking for purchase order lines.

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

The **E-Document** app supports scenarios for e-documents throughout the sales process. Copilot can also refine how you manage e-documents in the purchase process, particularly with respect to purchase orders. The app lets you specify the type of purchase document to create for each vendor when you receive e-invoices from them.

You can update existing purchase orders in [!INCLUDE [prod_short](includes/prod_short.md)] with the information from you received in the e-invoice.

## Supported languages

[!INCLUDE[copilot-language-support-en-only](includes/copilot-language-support-en-only.md)]

## Prerequisites

- Your admin must activate the **E-Document Matching Assistance** capability. Learn more in [Configure Copilot and agent capabilities](enable-ai.md).  

## Identify purchase orders

First, you can identify the purchase orders that you can automatically match. If your **Vendor** configured the **Receive E-Document To** field to work with **Purchase Orders**, when the electronic document is created in [!INCLUDE[prod_short](includes/prod_short.md)] (manually or from an external endpoint), [!INCLUDE[prod_short](includes/prod_short.md)] does the following:

1. If the purchase order for this vendor exists and there's a purchase order number in the received e-document file, [!INCLUDE[prod_short](includes/prod_short.md)] automatically links the e-document with the purchase order. The **Document Status** of this **E-Document** is **In Progress**, and the **E-Document Status** in the **Service Status** subpage is **Order linked**.  
The link shows in the **Document** field on the e-document. If you need to change the purchase order, you can use the **Update Purchase Order Link** action and then manually choose another purchase order for this vendor. You can only do so before you match the lines on the e-document and purchase order.  
2. If the purchase order for this vendor exists but there isn't a purchase order number in the received e-document file, if you manually upload the document you can choose an existing purchase order by opening the **Purchase Orders** list from the orders that you got from vendors that contain only e-document. If you don't select the correct purchase order, or if you received the e-document automatically from an external endpoint using the **Job Queue**, the new e-document isn't linked with a purchase document and the **Document Status** field shows **Error** and the **E-Document Status** in the **Service Status** subpage is **Imported document processing error**. To finish linking the purchase order, choose the **Update Purchase Order Link** action, and then choose a purchase order for the vendor.  

## Map lines

Copilot helps you automatically match e-invoice lines with purchase order lines, and offers extra matching intelligence to improve the matches.

After they're matched and mapped, [!INCLUDE [prod_short](includes/prod_short.md)] updates the matched purchase order with the relevant receipt information to ensure the correct quantities are received on the order lines.

You can match your received electronic documents with purchase order lines from two different places, from the **E-Documents** page or from the **Purchase Order** page. The easiest way to find purchase orders that are already linked is to use the **Linked Purchase Orders** tile on your Role Center. To find documents that aren't linked, use the **Waiting Purchase E-Invoices** tile to open a list of e-documents that are waiting for review.  

> [!NOTE]
> The **E-Document Activities** group with these two tiles is available in the following Role Centers:
>
> - Business Manager Evaluation
> - Business Manager
> - Accountant
> - Inventory Manager
> - Shipping and Receiving

When you want to run matching from a purchase order, select the **Map E-Document Lines with Copilot** action. The action is available on the **Purchase Orders** list page and the **Purchase Order** page. If you want to run matching from the **E-Documents** page, select the **Match Purchase Order with Copilot** action. To process with matching, follow these steps:

1. Select the **Map E-Document Lines with Copilot** or **Match Purchase Order with Copilot** action for documents that are already linked.  
1. The **E-Document Match Order Lines with Copilot** prompt displays and the **Purchase Order Matching** page in the background. Copilot is automatically creating the mapping for you.
1. After a few seconds, the **E-Document Match Order Lines with Copilot** page suggests lines for matching with a few details:

    1. The prompt header has the following information:

    |Field name |Description |
    |--------|-----------------|
    |Auto-matched | Specifies the number of matches proposed automatically. This number is based on a string comparison. If 80% or more of the descriptions overlap, [!INCLUDE [prod_short](includes/prod_short.md)] matches them automatically without using Copilot capabilities. [!INCLUDE [prod_short](includes/prod_short.md)] also shows lines as auto-matched as item references exist with appropriate conditions. |
    |Copilot matched | Specifies the number of matches proposed by Copilot using both string and semantic comparison. |
    |E-Document No. | Specifies the linked e-document number. |
    |Invoice Total Amount Excl. VAT | Specifies the total invoice amount excluding VAT. |
    |Matched Total Amount Incl. VAT | Specifies the matched amount excluding VAT. |

    1. If all lines match, the following text displays in green font in the upper-right corner, **All lines (100%) are matched. Review match proposals**.  
    1. The **Matched proposal** lines contain the following information:  

       |Field name |Description |
       |--------|-----------------|
       |E-Document Line No. | Specifies the e-document line number from the original e-document file. |
       |E-Document Line Description | Specifies the e-document line description from the original e-document file. |
       |Matched Quantity | Specifies the quantity that is applied to the purchase order line. |
       |Proposal | Specifies the action that Copilot proposed for matching the purchase order lines. |
       |Learn Matching Rule | Specifies whether to create a matching rule for this proposal. If you select this checkbox, [!INCLUDE [prod_short](includes/prod_short.md)] creates item references for items and text to account mappings for G/L accounts. |

    1. All fully suggested and matched lines are marked with green color. If there's an issue, for example, a different price but within the allowed price range, this line is marked with a yellow color. If there's any similarity between the description fields but the price difference is larger than allowed, this line is marked with a red color.
    1. If you aren't satisfied with some suggestions, you can delete them using the **Delete Line** action.  
    1. If you want to see proposal matchings, you can select the link in the **Proposal** column to open the **E-Document Match Details** page.
    1. On the **E-Document Match Details** page you can compare details from the **E-Documents** and **Purchase Order**, to be sure about the suggested matching before confirming it.
    1. After reviewing, close the page.

1. If you aren't satisfied with most of the suggestions, or if you don't want to use the **E-Document Match Order Lines with Copilot** feature, select **Discard it**. You can create the matches manually. To learn more, go to[manual matching](finance-how-use-edocuments-purchase.md).  
1. If you want to keep suggestions, select **Keep it**.
1. [!INCLUDE[prod_short](includes/prod_short.md)] closes the Copilot prompt and lines on the **Purchase Order Matching** page are marked as green.  
1. You can continue to work as if you're doing a manual matching. For example, you can remove, create, or reset matches. If you don't want to change anything, just select the **Apply To Purchase Order** action and continue to work with the purchase order.

> [!NOTE]
> You can also select the **Match with Copilot** action from the **Purchase Order Matching** page again. If you do, you're asked whether you want to overwrite the existing matches.  

> [!NOTE]
> Price/Cost analysis and the check for available quantity are preprocessing activities.

## Related information

[E-documents overview](finance-edocuments-overview.md)  
[Use e-documents in sales](finance-how-use-edocuments.md)  
[Use e-documents in purchase](finance-how-use-edocuments-purchase.md)  
[Troubleshoot Copilot and agent capabilities](ai-copilot-troubleshooting.md)  
[Responsible AI FAQ for bank reconciliation assist](faqs-bank-reconciliation.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-setting-up-and-invoicing-sales-prepayments
---
title: Set up and invoicing sales prepayments
description: Prepayments are payments that are invoiced and posted to a sales or purchase prepayment order before final invoicing. 
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 01/29/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: Set up and invoicing sales prepayments

This walkthrough takes you through the process of setting up and using prepayments in [!INCLUDE [prod_short](includes/prod_short.md)]. [!INCLUDE [prepayment_def](includes/prepayment_def.md)]

[!INCLUDE [prepayment_req](includes/prepayment_req.md)]

For example, you can send more prepayment invoices if more items are added to the order.  

## About this walkthrough  

This walkthrough will take you through the following scenarios:  

- Setting up prepayments  
- Creating an order that requires a prepayment  
- Creating a prepayment invoice  
- Correcting the prepayment requirements on an order  
- Applying prepayments to an order  
- Invoicing the final amount on an order with prepayment  

### Roles

This walkthrough includes tasks for the following roles:  

- Accounting Manager (Phyllis)  
- Order Processor (Susan)  
- Accounts Receivable Administrator (Arnie)  

## Story

 Phyllis is an accounting manager and makes decisions about which customers are required to pay a deposit before items are manufactured or shipped. Phyllis sets up [!INCLUDE[prod_short](includes/prod_short.md)] to calculate prepayments automatically.  

 Susan is a sales order processor. When a customer calls to place an order, Susan enters the order into the system while the customer is on the telephone. This way, Susan can verify prices and payment terms with the customer immediately, and make changes to the order while negotiating with the customer.  

 Arnie works in the Accounts Receivable department and posts invoices and payments.  

 In this scenario, Phyllis sets up prepayment requirements for the customer Selangorian based on their credit history. Phyllis gives Susan instructions for how to handle their orders.  

 When the customer calls, Susan negotiates with the customer until they reach an agreement, and then chooses to calculate the prepayment in several different ways.  

 After Susan sends the prepayment invoice, the customer orders an extra item. Susan updates the order and creates a second prepayment invoice.  

 Arnie registers the customer's payment and applies it to the invoices, and then sends the final invoice.  

## Set up prepayments

Phyllis sets up the system to handle prepayments for customers.  

- Phyllis decides to have the same number series for prepayments as the one used for sales invoicing.  
- Phyllis sets application to check if prepayments are required before final invoicing on an order.  
- Phyllis sets up default values for a required prepayment percentage for particular items and customers.  

The following procedures describe how to complete Phyllis' tasks:  

### To set up number series for prepayments

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.  
2. On the **Sales & Receivables Setup** page, expand the **Number Series** FastTab.  
3. Verify that the number series for posted prepayment invoices in the **Posted Prepmt. Inv. Nos.** field is the same as for posted sales invoices (**Posted Invoice Nos.**), and the number series for posted prepayment credit memos (**Posted Prepmt. Cr. Memo Nos.**) is the same as for posted credit memos (**Posted Credit Memo Nos.**).  

### To block shipments for unpaid prepayment

1. On the **Sales & Receivables Setup** page, on the **General** FastTab, select the **Check Prepayment when Posting** check box.

Now you can't ship or invoice an order that has an unpaid prepayment amount.  

By default, Phyllis requires customer 20000 to be invoiced for a 30% down payment on all orders. Therefore, Phyllis will enter a default prepayment percentage on the customer card.  

Phyllis requires all customers to be invoiced a 20% deposit for item 1896-S. Customer 20000 has a poor payment history, so Phyllis requires a 40% prepayment from customer 20000 for item 1896-S. The following procedure illustrates how to set up default prepayment percentages.  

### To assign default prepayment percentages to customers and items

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.  
2. Open the card for customer 20000 (Trey Research).
3. On the **Payments** FastTab, in the **Prepayment %** field, enter **30**.  
4. Choose the **Related** action, select the **Sales** menu item, and then choose the **Prepayment Percentages** menu item.  
5. Fill in two lines on the **Sales Prepayment Percentages** page as follows.  

    |**Sales Type**|**Sales Code**|**Item No.**|**Prepayment %**|  
    |--------------------|--------------------|------------------|----------------------|  
    |**Customer**|**20000**|**1896-S**|**40**|
    |**Customer**|**20000**|**1900-S**|**30**|  
    
    > [!TIP]
    > Depending on your country/region, you must also specify a tax group code on the **Costs & Posting** FastTab for item 1896-S. When you use the demonstration company, this field is already set.

6. Close all pages.  

### To specify an account for sales prepayments in general posting setup

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Posting Setup**, and then choose the related link.  
2. Select the line where the **Gen. Bus. Posting Group** field is set to **DOMESTIC**, and the **Gen. Prod. Posting Group** field is set to **RETAIL**.  
3. In the **Sales Prepayments Account** field, specify the relevant account. Your selection is automatically saved.  

> [!TIP]
> If you cannot see the field in the **General Posting Setup** page, then use the horizontal scroll bar at the bottom of the page to scroll to the right.  

## Create an order that requires a prepayment

 In the following scenario, Susan, the order processor, creates an order when talking to a customer. The items the customer is ordering require a prepayment. Plus, the customer has made some late payments in the past. Susan's been instructed to require a fixed amount of **800** as a prepayment on the order.  

The customer asks to pay 35%, to which Susan agrees and changes the order.  

Susan creates the prepayment invoice and sends it to the customer.  

### To create a sales order with a prepayment

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Choose the **New** action.  
3. In the **Customer Name** field, choose **Trey Research**.  
4. Close the overdue balance warning that is displayed.  
5. Fill in two sales lines with the following information.  

    |**Type**|**No.**|**Quantity**|  
    |--------------|-------------|------------------|  
    |**Item**|**1896-S**|**1**|  
    |**Item**|**1900-S**|**1**|

    By default, the prepayment fields on the sales line are hidden. To display the fields, you must personalize the page. For more information, see [To start personalizing a page through the Personalizing banner](ui-personalization-user.md#start-personalizing-by-using-the-personalization-mode).

6. Verify that the **Prepayment %** field on the line with item **1900-S** contains **30**. The default value was taken from the sales header, which was populated from the customer card.  

    The **Prepayment %** field on the line with item **1896-S** contains **40**. 40 is the percentage you entered on the **Sales Prepayment Percentages** page for item **1896-S** and customer **20000**.  

    For more information, see [Set Up Prepayments](finance-set-up-prepayments.md).  
7. In the **Order** action, choose  **Statistics**.  
8. On the **Prepayment** FastTab, the **Prepayment Amount Excl. VAT** field contains **458.16**. If you create a prepayment invoice for the order now, 458.16 is the amount on the invoice.  

    In this scenario, Susan has been instructed to suggest a total prepayment of **800** for the order.  

    > [!IMPORTANT]  
    >  Depending on your country/region, the following step might not apply.  
9. Change the amount in the **Prepmt. Amount Excl. Tax** field to **800** and then close the page.  
10. Verify the **Prepayment %** field on the sales lines, and you'll see that it has been recalculated to **67.02438** and **67.02282**.  

     The recalculation includes all lines that have a prepayment percentage that is greater than 0.  

     Now the customer asks if the prepayment percent can be set to 35%. Susan's supervisor approves the change.
11. On the **Sales Order** page, on the **Prepayment** FastTab in the **Prepayment %** field, enter **35**.  
12. In the warning that appears, choose the **Yes** button. A rate of 35% will be applied as the payment percentage for the whole order.  
13. Verify that the lines have been updated correctly.  

## Create a prepayment invoice

After entering the correct prepayment values on the order, Susan creates the prepayment invoice and sends it to the customer.  

### To create a prepayment invoice

1. On the **Sales Order** page, choose **Actions**, then **Posting**, then **Prepayment** and then select **Post and Print Prepmt. Invoice**
2. Choose the **Yes** button to post the invoice.  

> [!NOTE]  
> Susan would now send the invoice to the customer.  

## Create an additional prepayment invoice

The following day, the customer calls Susan and makes changes to the order. The customer wants two of item 1896-S. Susan reopens the order, updates it, and then creates a second prepayment invoice for the order and sends it to the customer.  

### To create an additional prepayment invoice

1. On the **Sales Order** page, choose the **Release** action, and then **Reopen**.  
2. On the line for item **1896-S**, in the **Quantity** field, enter **2**.  

    In the **Order** action, choose **Statistics**. The **Prepayment Amount Excl. VAT** field now contains **768.04**, and the **Prepmt. Amt. Invoiced Excl. VAT** field contains **417.76**. These values show that there's an extra prepayment amount that hasn't been invoiced yet.  
3. To post an invoice for the extra prepayment amount, choose **Actions**, then **Posting**, then **Prepayment** and then select **Post and Print Prepmt. Invoice**
4. Choose the **Yes** button to post the invoice.  

## Apply the prepayments

The customer pays the prepayment amount. Arnie, from the accounting department, registers the payment, and applies it to the prepayment invoices.  

### To apply a payment to the prepayment invoices

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Cash Receipt Journals**, and then choose the related link.  
2. Fill in a journal line with the following information.  

    |Field name|Enter|  
    |----------------|-----------|  
    |**Document Type**|**Payment**|  
    |**Account Type**|**Customer**|  
    |**Account No.**|**20000**|  
3. Choose the **Process** action, and then **Apply Entries**.  
4. On the **Apply Customer Entries** page, select the first prepayment invoice, and then choose the **Process** action, and then choose the **Set Applies-to ID** action.  
5. Repeat the previous step for the second prepayment.  
6. Choose the **OK** button.  

    The **Amount** fields have now been filled in with the sum of the two prepayment invoices.  

7. To post the journal, choose the **Post/Print** action, then select **Post**.
8. Choose the **Yes** button.

## Invoice the remaining amount

Now Arnie has been informed that the items on the order have been shipped and that the order is ready for invoicing. Arnie creates the invoice for the order.  

### To invoice the remaining amount

1. Open the sales order.
2. Choose the **Posting** action, then **Post**.
3. Select **Ship and Invoice**, and then choose the **OK** button.
4. If you want to preview the invoice, choose the **Yes** button.

    > [!NOTE]  
    > Normally, the shipping department would have already posted the shipment.  

    Arnie can view the history to verify that the sales invoice was created as intended.

5. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Invoices**, and then choose the related link.  

## Update the status of prepaid orders and invoices automatically

You can speed up order and invoice processing by setting up job queue entries that automatically update the status of those documents. When a prepayment invoice is paid, the job queue entries can automatically change the document status from **Pending Prepayment** to **Released**. When you set up the job queue entries, the codeunits you'll need to use are **383 Upd. Pending Prepmt. Sales** and **383 Upd. Pending Prepmt. Purchase**. We recommend that you schedule the entries to run frequently, for example, every minute. For more information, see [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

## Next steps

This walkthrough covered the following steps to set up [!INCLUDE[prod_short](includes/prod_short.md)] to handle prepayments. 

- Set up default prepayment percentages on customers and items.
- Use different methods to calculate the prepayments on an order.  
- Calculate the prepayment amount as a percentage of the total on the order.
- Assign one total prepayment amount to the order.  

You've also posted a prepayment invoice, created a second prepayment invoice when the order has changed, and posted the final invoice for the remaining amount.  

The prepayments capabilities make it easy to set up and enforce prepayment rules for customers and items. They also let you to post every payment against an invoice.  

## Related information

[Invoicing Prepayments](finance-invoice-prepayments.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-general-journal-post-line
---
title: Design Details - General Journal Post Line
description: This topic provides insight into the concepts and principles that are used to redesign the general journal posting line feature in Business Central.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: design, general journal, posting, codeunit 12
ms.date: 06/14/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: General Journal Post Line

This documentation provides detailed technical insight into the concepts and principles that were used to redesign the general journal posting line feature in [!INCLUDE[prod_short](includes/prod_short.md)]. The redesign made codeunit 12 simpler and more maintainable. The documentation starts by describing conceptual overviews of the redesign. Then it explains the technical architecture to show the changes that result from the redesign.  

> [!IMPORTANT]
> The information in this section applies to the redesign in an earlier version of the product, Microsoft Dynamics NAV 2013 R2.

## In This Section

[General Journal Post Line Overview](design-details-general-journal-post-line-overview.md)  
[Design Details: Posting Interface Structure](design-details-posting-interface-structure.md)  
[Design Details: Posting Engine Structure](design-details-posting-engine-structure.md)  

## Related information

[Work with General Journals](ui-work-general-journals.md)
[Design Details: General Journal Post Line (Dynamics NAV)](/dynamics-nav-app/design-details-general-journal-post-line)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-sustainability-journal
---
title: Record sustainability entries
description: Learn how to record greenhouse gas (GHG) emissions.
author: altotovi
ms.topic: how-to
ms.devlang: al
ms.search.keywords: Sustainability, ESG, emission, GHG, water, waste, intensity, CSRD, journal
ms.search.form: 6216, 6219, 6220
ms.date: 01/29/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Record sustainability entries

You can manually record greenhouse gas (GHG) emissions or water and waste intensity in the sustainability ledger by using sustainability journals. You can also use purchase documents or general journals to record GHG emissions.  

<!--> [!NOTE]
> Posting water and waste intensity and using general journals for posting emissions will be enabled starting *2025 release wave 1*.  -->

## Sustainability journals

Sustainability journals are designed to track and record sustainability-related activities by using the same user experience as other journals in [!INCLUDE [prod_short](includes/prod_short.md)]. You can manually enter emissions and water or waste intensity in a journal. Alternatively, if you don't have the information, you can use built-in formulas to accurately calculate emissions or water or waste intensity based on parameters that correspond to various types of sources and accounts.

The information that you enter in a journal is temporary and you can change it while it's in that journal. When you post the journal, the information is transferred to sustainability ledger entries on individual sustainability accounts, where it can't be changed. However, you can post reversing or correcting entries.

### Use journal templates and batches

By default, there are standard and recurring sustainability journal templates.

For each journal template, you can set up your own personal journal as a journal batch. To do so, select the **Batches** action on the **Sustainability Journal Templates** page, and then create the new **Sustainability Journal Batch** on the new page. For example, you can define your own journal batch for each emission scope by using the **Emission Scope** option and then selecting among the four existing scopes or **Water/Waste** option. For each batch, you can add or change the **Source Code** and **Reason Code** values.

> [!TIP]
> If you have many lines, you can help reduce the risk of mistakes by having one journal batch for each emission type. Alternatively, you can use the common batch for all emission types.

### Validate sustainability journals

On the **Sustainability Setup** page, you can turn on a background check to help prevent posting delays. If any mistakes occur while you work in the sustainability journal, the validation notifies you and prevents you from posting the journal.

When you enable the validation, the **Journal Check** FactBox shows issues on the current line and in the whole batch. Validation occurs when you load a journal batch and when you select another journal line. The **Issues Total** tile in the FactBox shows the total number of issues that [!INCLUDE [prod_short](includes/prod_short.md)] found. You can select the tile to open an overview of the issues.

### Work with sustainability journals

To work with sustainability journals, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Journal**, and then select the related link.
2. On the **Sustainability Journal** page, enter as many lines as you plan to post in the same batch.
3. For internal documents, you can leave the **Document Type** field blank. If not, you can select **Invoice**, **Credit Memo**, or **GHG Credit**.  
4. In the **Account No.** field, you can select only nonblocked sustainability accounts where the **Direct Posting** field is selected and the **Accounting Type** field is set to **Posting**. The accounts must also be configured with a category and a subcategory.

    > [!NOTE]
    > If you use a batch where the emission scope is configured, the **Emission Scope** value in the sustainability account must equal the **Emission Scope** value in the batch.

5. You can either manually fill in the emission amounts or use formulas.

    - If you have accurate information about gas emission or water or waste intensity and want to post it (that is, if you have the information on the received invoice, or some other measured model), select the **Manual Input** field to indicate that you manually enter the amounts. In this case, you can't enter your data directly in the **Fuel/Electricity**, **Distance**, **Custom Amount**, **Installation Multiplier**, and **Time Factor** fields because they become uneditable. However, the **Emission CO2**, **Emission CH4**, **Emission N2O**, **Water Intensity**, **Discharged Into Water**, and **Waste Intensity** fields remain editable, and you can enter your data directly in them.
    - If you don't have accurate knowledge of the gas emission or water or waste intensity and must calculate it, don't select the **Manual Input** field. In this case, the **Emission CO2**, **Emission CH4**, **Emission N2O**, **Water Intensity**, **Discharged Into Water**, and **Waste Intensity** fields become uneditable. However, you can enter your calculation details based on the formula that you're using. To learn more about the formulas that are defined in the **sustainability account category**, go to [Chart of sustainability accounts and ledger](finance-sustainability-accounts-ledger.md#account-categories).  

6. To post the journal, select the **Post** action. When you post in a sustainability journal, entries are generated in the sustainability ledger.

> [!NOTE]
> For water and waste intensity calculation, you can only use a formula with the **Custom Amount** that's multiplied with the emission factor from the **Sustainability Account Subcategory**.  

> [!IMPORTANT]
> If your formula is based on the **Calculate from General Ledger** option in the sustainability account category, you must use the **Collect Amount from G/L Entries** action before you post the journal. The action calculates emissions based on this data source. Additionally, if you made changes to the emission factors after the journal lines were filled in, you must select the **Recalculate** action to get the correct amount in the journal.

### Changing account subcategories in the journal line  

You can have more than one **Account Subcategory** related to one **Sustainability Account**, but only one can be set as the default value. You must set the default value for the account every time if you want to use it for posting. To use a different subcategory for each account, you can easily change this value on the **Sustainability Journal** line, but you can only select subcategories that are already associated with the specific account and account category.

> [!TIP]
> Here's an example. You want to use one account for different types of cars, but the cars have different emission factors. You can set up one account and create an account subcategory for each emission factor. When you work in your sustainability journal, you can easily change your account subcategory based on the car type you choose to use for recording emissions.

### Recurring journals

A recurring journal is a sustainability journal that has specific fields for managing transactions that you often post with few, if any, changes. Examples include sustainability transactions such as electricity or heat, or other similar transactions. You can use recurring journals to post fixed and variable amounts.

When you use a recurring journal, you create the entries that you regularly post only one time. Information such as the accounts, dimensions, and dimension values remain in the journal after posting. Each time that you post, you can make any changes that are needed.

The **Recurring Method** field is important. It determines how the amount on the journal line is handled after posting. For example, if you use the same amount every time that you post the line, you can select the **F Fixed** option to let the amount remain after posting. If you use the same accounts and text on the line, but the amount varies every time that you post, you can select the **V Variable** option to delete the amount after posting.

The **Recurring Frequency** field is also important and must be set. It's a date formula field that determines how often the entry on the journal line is posted. Learn more in [Use Date Formulas](ui-enter-date-ranges.md#use-date-formulas).

The **Expiration Date** field determines the date when the line is posted for the last time. The line won't be posted after that date. The advantage of using the **Expiration Date** field is that the line isn't immediately deleted from the journal. You can enter a later date so that you can use the line in the future. If the field is blank, the line is posted every time, until you delete it from the journal.

## Purchase documents  

To enable recording of greenhouse gas (GHG) emissions in any purchase-related documents, you must select the **Use Emissions in Purchase Documents** on the **Sustainability Setup** page. 

To work with any purchase-related documents, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon and:  
   - Enter **Purchase Invoices** if you want the invoice as a **Document Type**, and then select the related link.  
   - Enter **Purchase Orders** if you want the order as a **Document Type**, and then select the related link.  
2. Populate the header and lines based on the instructions in [how to work with purchase invoices and orders](purchasing-how-record-purchases.md).
3. If you have information about emissions on your invoice from the vendor, choose the appropriate **Sustainability Account No.** in the document lines and add emission values using one of the following fields (based on what you want to track and emissions you have on your physical invoice): **Emission CO2**, **Emission CH4**, or **Emission N2O**.

    > [!NOTE]
    > The values you enter in the emission fields are fixed amounts per line. They aren't multiplied with the **Quantity** field. You can use **Sustainability Account No.** only when the **Type** field (**Option Values**) is **Item** or **G/L Account**. You can't use **Resource** or **Charge (Item)** **Option Values**. 

4. If you want to review total emissions before posting, you can open the statistics page and find the total posted emissions and emissions for posting per document (any purchase-related documents) on the **Sustainability** FastTab.
5. Post the documents and open a new **Posted Purchase Invoice**.
6. Select the **Find Entries** action. You have a **Sustainability Ledger Entry** as one of the related entries on the **Find entries** page.

> [!NOTE]
> When you post the document, for each of the purchase lines where you have **Sustainability Account No.**, [!INCLUDE [prod_short](includes/prod_short.md)] creates an independent **Sustainability Ledger Entry** with the **Invoice** as a **Document Type** and the same **Document No.**.

> [!NOTE]
> You can also create and post a **Purchase Credit Memo** manually, or by using the **Cancel**, **Correct**, or **Create Corrective Credit Memo** actions, in which case [!INCLUDE [prod_short](includes/prod_short.md)] copies the existing values from the posted invoice.  

## General journals

You can use general journals to post gas emissions together with the financial amounts. This option is used if you want to post your incoming invoices using journals and not documents. In this situation, you can [use general journals](ui-work-general-journals.md) as usual, but before posting journals, you should add emissions. There isn't an option to use formulas in general journals. After you select the right **Sustainability Account No.** for the journal line, you can add only total emission amounts in the **Total Emission CO2**, **Total Emission CH4**, or **Total Emission N2O** fields. After you post, lines are recorded in the **Sustainability Ledger Entries** and if you included a carbon equivalent calculation, [!INCLUDE [prod_short](includes/prod_short.md)] calculates it.

> [!NOTE]
> You can select the **Sustainability Account No.** in the journal line only if **Document Type** for this line is **Invoice** or **Credit Memo**. For all other options, you can't select the **Sustainability Account No.** and post emissions.  

## Related information

[Finance](finance.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability Setup](finance-sustainability-setup.md)  
[Chart of Sustainability Accounts and Ledger](finance-sustainability-accounts-ledger.md)  
[Ad-hoc analysis of sustainability data](ad-hoc-analysis-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  
[Sustainability API](/dynamics365/business-central/dev-itpro/api-sustainability/sustainability-api?toc=/dynamics365/business-central/toc.json)  
[How to work with general journals](ui-work-general-journals.md)  
[How to work with purchase invoices and orders](purchasing-how-record-purchases.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-company-information
---
title: Company information overview
description: The Company Information page specifies basic information for a business entity, such as name, addresses, and shipping information. 
author: jswymer
ms.topic: how-to
ms.search.form: 1
ms.date: 04/24/2024
ms.author: jswymer
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Company information overview

[!INCLUDE[prod_short](includes/prod_short.md)] organizes business entities in *companies*. For each company, you must fill in some of the basic company details and relevant information on the **Company Information** page. The information on the [**Company Information**](https://businesscentral.dynamics.com/?page=1) page is used in documents, such as invoice headers. You can set up more than one company, such as a parent company and a subsidiary.  

If the company's inventory warehouse is located at a different address than the company headquarters, you can complete the various ship-to fields and the **Location Code** field on the **Shipping** FastTab. The information in these fields is then printed on purchase orders, for example, so vendors ship items to the correct location.  

For each company you set up, you must fill in the **Company Information** page, together with the **General Ledger Setup** page. You must also set up each area in [!INCLUDE [prod_short](includes/prod_short.md)], such as the **Sales & Receivables Setup** page, for each company. Learn more at [Overview of Tasks to Set Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md).  

The **Company Information** page contains different fields and FastTabs, depending on your country/region. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)] The following table describes the most common FastTabs.

[!INCLUDE [admin-company-info-fasttabs](includes/admin-company-info-fasttabs.md)]

After you fill in the information, you can close the page.  

## Working with multiple companies

If your [!INCLUDE [prod_short](includes/prod_short.md)] includes multiple companies, your users might want to use *company badges* to help them quickly identify and keep track of which company they're currently working in. For more information, see [Display a company badge](#badge).

There are a few features you can use to switch among companies as you work, like the company switcher (<kbd>Ctrl</kbd>+<kbd>O</kbd>). Learn more at [Switch to Another Company or Environment](ui-organization-switch.md).

## <a name="badge"></a>Display a company badge

When there's more than one company or environment, the company switcher shows on the upper-right side of the app bar near the search icon. By default, the company switcher uses a standard company icon, like ![company icon Launcher.](media/ui-experience/company-icon.png "Displays the company switcher icon used when there is a single environment") and ![company-icon-mult-env](media/ui-experience/company-icon-multi-env.png "Displays the company switcher icon used when there are multiple environments").

:::image type="content" source="media/ui-experience/company-switch-2.png" alt-text="Shows the company switcher icon in the heading of the Business Central client.":::  

Starting in 2023 release wave 2, version 23, the company badge appears in the browser tab when using the web client. It's also in page links that you [copy and paste](across-share-data-features.md#copying-a-link) in rich text editors, like Word, Outlook, and Teams.

The following video shows how to work with company badges.

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=fefe2ce4-d700-4e04-b319-b8557e75dfe9]
 
### Set the company badge

On the **Company Information** page, you can replace the standard company icon with a custom badge on a per-company basis. A company badge can make it easier to identify the company you're working in.

1. On the **Company Badge** FastTab, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
2. When done, refresh the browser (select <kbd>Ctrl</kbd>+<kbd>F5</kbd>) to update the badge in the client.  

> [!TIP]
> A company badge also indicates the type of environment the company is in. A round company badge signifies a production environment, and a square badge signifies a sandbox environment.

## Change company display name

The company name is always displayed at the top left corner and works as an action that you can choose to go back to the Role Center. You can change this name on the **Company Information** page.

1. Choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) icon, and then choose the **Company Information** action.
2. In the **Name** field, enter the new company name.
3. Leave the page. [!INCLUDE [prod_short](includes/prod_short.md)] restarts and displays the new company in the top-left corner.

## Experience

The default user experience in a [!INCLUDE [prod_short](includes/prod_short.md)] trial doesn't reveal all capabilities. You can switch on the full experience on the **Company Information** page.  

For more information, go to [Change Which Features are Displayed](ui-experiences.md).  

## Related information

[Overview of Tasks to Set Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md)  
[Company Information Quick Start](quick-start-company-information.md)  
[Set Up Company Information in Italy](LocalFunctionality/Italy/how-to-set-up-company-information.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Change Which Features are Displayed](ui-experiences.md)  
[Creating New Companies](about-new-company.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-how-manage-project-supplies
---
title: Manage project supplies
description: Describes the different ways to manage the supply and purchase of material and services for projects.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: project management, material, purchase
ms.search.form: 98, 1020 
ms.date: 01/27/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Manage project supplies

You should manage project supplies of items, services, and expenses as an integral part of all projects. You can use inventory quantities or make project-specific purchases through purchase orders or purchase invoices. For example, when service on a computer requires a new disk, you create a purchase invoice to buy a new disk and record the project that uses it.

If the purchase process doesn't require you to record the physical transaction separately, you can process a purchase on the **Project G/L Journal** page. For more information, see [To post a project-related expense](projects-how-manage-project-supplies.md#to-post-a-project-related-expense).

## Manual or semi-automated replenishment

If you already know which supplies you need to replenish for a project, you can create a purchase order. To learn more, go to [Manual or semi-automated replenishment](#manual-or-semi-automated-replenishment).

However, if you aren't sure what you're missing, you can use a semi-automated process where you create a purchase order directly from a project. [!INCLUDE [prod_short](includes/prod_short.md)] helps by listing all items and shows whether they're available or unavailable. You can adjust the quantities to replenish on the lines.  

The semi-automated process creates a purchase order for each vendor from which you purchase the items, including any quantity changes that you made on the **Create Purchase Orders** page. You can continue to process the purchase order or orders, for example, by editing or adding purchase order lines.

Later, you can review the purchase lines linked to the project either from the **Project Card** page or **Project Planning Lines** by choosing the **Purchase Lines** action. To learn more, go to [Use a semi-automated replenishment process for a project](#use-a-semi-automated-replenishment-process-for-a-project).

> [!NOTE]
> As in other cases that involve advanced inventory processes, such as reservation, warehousing, and assemble-to-order, the project's status must be **Open** and the **Apply Usage Link** toggle must be turned on.

### Use a semi-automated replenishment process for a project

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.
2. Open a project that you want to purchase items for.
3. Choose the **Create Purchase Orders** action.
4. The **Create Purchase Orders** page shows a line for each item on the project. Lines for both fully available quantities and unavailable quantities show by default. To show only unavailable quantities, choose the **Show Unavailable** action.
5. The **Quantity to Purchase** field contains the unavailable quantity. To purchase a different quantity, edit the value in the field.

   > [!NOTE]
   > You can also change the **Quantity to Purchase** field on unavailable lines, even though they represent fully available quantities.

6. You can also turn on the **Reserve** toggle if you want to reserve the quantity on the purchase line against a demand instead of filling out the **Project No.** and **Project Task NO.** fields on the purchase line. By default, the **Reserve** toggle is hidden on the page. You can personalize the page to add the toggle. To learn more, go to [Personalize your workspace](ui-personalization-user.md).
7. Select **OK**.

You can review the purchase lines linked to the project either from the **Project Card** page or **Project Planning Lines** by choosing the **Purchase Lines** action.

### Replenish a project manually

The following procedure shows how to use a purchase invoice to purchase products for a project. The same steps apply when using a purchase order.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Order**, and then choose the related link.  
2. Choose the **New** action and fill in the fields as necessary. For more information, see [Record Purchases](purchasing-how-record-purchases.md).
3. In the **Project No.** and **Project Task No.** fields, select the information of the project that you want to purchase items or services for. Use the personalization tools if a field isn't visible. To learn more, go to [Personalize Your Workspace](ui-personalization-user.md).

    The value that you select in the **Project Line Type** field defines whether a planning line is created when you post the usage of the item. If the field contains **Billable**, then project planning lines that are ready to be invoiced to the customer are created. To learn more, go to [Invoice Projects](projects-how-invoice-jobs.md).

### How posting purchases affects inventory and WIP

When you post a receipt, the inventory is received and immediately written-off by an item ledger entry of the type **Negative Adjustment**. To avoid affecting WIP calculation, the project ledger entries don't include purchase order lines that aren't of the type **G/L Account**.

Project ledger entries are created as follows:

* From a purchase order, when you choose the **Post** action and choose **Invoice**.
* From a purchase invoice, when you choose the **Get Receipt Lines** action on the **Lines** FastTab, and then the **Post** action.

### To view the value of purchases for a project

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.
2. Open a relevant project card.

    On the **Tasks** FastTab, the **Outstanding Orders** field shows the total outstanding amount, in local currency, of inventory items and services on purchase documents for the project task line.  

    The **Amt. Rec. Not Invoiced** field shows the value of items delivered on purchase documents but not invoiced.  
3. Choose either of the fields to open the **Purchase Lines** page where you can review information about the related purchase document lines, including which items or services are received.

## To post a project-related expense

If you incur extraordinary or one-time project expenses, you can use the **Project G/L Journal** page to post them directly to the relevant project account.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project G/L Journals**, and then choose the related link.  
2. Create a new line and enter information about the expense, including information in the **Project No.** and **Project Task No** fields.  
3. When the journal is complete, choose the **Post** action.

## Receive items for projects with warehouse receipts or put-aways

[!INCLUDE [prod_short](includes/prod_short.md)] offers advanced warehouse handling for purchase orders that are linked to projects. Save some time by using warehouse receipts or inventory put-aways to directly receive and register usage of items for projects.

Use the following methods to receive items:

- Post receipt and consumption from the order line.
- Post receipt and consumption from an inventory put-away document.
- Post receipt and consumption from a warehouse receipt document.

### To post receipt and consumption from an inventory put-away document

When your location is set up to require processing put-aways but not receipts, use an **Inventory Put-away** document to record and post put-away and receipt information for your purchase orders.

You can create an inventory put-away in three ways:

- Create the inventory put-away directly from the purchase order by choosing the **Create Inventory Put-away/Pick** action.
- Create inventory put-aways for several source documents at the same time by using the **Create Inventory Put-away/Pick/Movement** batch job.
- Create the put-away in two steps by first by releasing the purchase orders to make the items available to be put away. You can create the inventory put-away based on the source document on the **Inventory Put-away** page.

> [!NOTE]
> If bins are mandatory for the location, make sure that the **Bin Code** is filled in the purchase order lines.

### To post the inventory put-away

1. On the **Inventory Put-aways** page, open a previously created put-away document.
1. Enter the quantity that was put away in the **Qty. to Handle** field.
1. After you put away the items, choose the **Post** action.

The results of these steps are that you post the receipt of the source document lines that were put away. There are two item ledger entries for each line. One entry for receipt, and one to immediately write off the received quantity for the project. There are no project ledger entries until you post the invoice. If the location uses bins, posting also creates warehouse entries to post the bin quantity changes.

### To post receipt and consumption from a warehouse receipt document

You must get the lines from the released purchase order that the receipt is for. You can create warehouse receipts in one of two ways:

- In a push fashion, when work is done on an order-by-order basis. Choose the **Create Warehouse Receipt** action on the **Purchase Order** page to create warehouse receipt for a source document.
- In a pull fashion, where you use the **Release** action on the **Purchase Order** page to release the document to the warehouse. A warehouse employee creates a warehouse receipt for one or more released source documents.

> [!NOTE]
> If you use bins, the default bin is suggested. You can either accept the default bin or specify the bin to put the items in.

### To post the warehouse receipt

1. On the **Warehouse Receipts** page, open the warehouse receipt.
1. The **Qty. to Receive** field contains the quantity outstanding for each line, but you can change the quantity as needed.
1. After you received the items, choose the **Post** action.

The results of these steps are that you post the receipt of the source document lines. There are two item ledger entries for each receipt line. One entry for the receipt, and one to immediately write off the received quantity for the project.

There are no project ledger entries until you post the invoice.

If the location uses bins, posting also creates warehouse entries to post the bin quantity changes.

> [!NOTE]
> Warehouse put-away documents aren't created, even if your warehouse processes require both receipt and warehouse put-away.

### Good to know

- Return orders aren't supported for locations with directed put-away and pick. You need to undo consumption via a project journal, and then create return order for items in inventory.
- If purchase documents were created before the update, you can post them directly. If you want to use warehouse handling, reopen and release the purchase orders again.
- You can't edit the **No.**, **Variant Code**, **Project No.**, and **Project Task No.** fields on purchase lines if warehouse receipts or inventory put-aways exist.

## Related information

[Project Management](projects-manage-projects.md)  
[Finance](finance.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Sales](sales-manage-sales.md)  
[Work with Business Central](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-use-item-cross-refs
---
title: Use item references
description: Set up references between the descriptions, unit of measures, and variants that you and your vendor or customer use for an item.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: item reference, cross reference, inventory
ms.search.forms: 5737, 5735, 5736
ms.date: 05/16/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Use item references

If you buy or sell items that you and your vendor or customer use different terms for, then you can set up a reference between your terms for the items and the terms that the customer or vendor of that item uses. This way, the vendor's or customer's item description, unit of measure, or variant code is automatically inserted on the relevant documents when you fill in the **Item Reference No.** field.  

## To set up an item reference

1. Choose the :::image type="icon" source="media/ui-search/search_small.png" border="false"::: icon, enter **Items**, and then choose the related link.
2. Open the card for an item for which you want to create a reference.
3. Choose the **Item References** action.

     If you can't find the **Item References** action, choose to view more options, and then find it under **Related** > **Item**.
  
4. On a new line on the **Item Reference Entries** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)].

The following procedure describes how you specify the item reference on a purchase order. Similar steps apply to sales documents and other purchase documents.  

## To enter a vendor's item description on a document

1. Choose the :::image type="icon" source="media/ui-search/search_small.png" border="false"::: icon, enter **Purchase Orders**, and then choose the related link.
2. Create a purchase order for the vendor that you set up an item reference for in the previous procedure.
3. Create a purchase line for the item that you set up an item reference for in the previous procedure.
4. In the item reference **No.** field, select the relevant item reference, and then choose the **OK** button.

The **Description** field on the line is overwritten with the vendor's item description, as set up on the item reference entry. If the item reference includes a variant code or a unit of measure, these values are also copied to the document.  

## Scan barcodes with the Business Central mobile app

[!INCLUDE [barcode-mobile-app](includes/barcode-mobile-app.md)]

The following table lists the pages that support barcode scanning of item references from the [!INCLUDE [prod_short](includes/prod_short.md)] mobile app.

|Page  |Field value you can scan  |
|---------|---------|
|Item Reference     | Reference No.        |
|Item Journal Line     | Item Reference No.        |
|Phys. Invt. Order Line     |Item Reference No.         |
|Purchase Line     |   Item Reference No.      |
|Sales Line     | Item Reference No.        |

## Related information

[Register New Items](inventory-how-register-new-items.md)  
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-get-ready-business
---
title: Get ready for doing business
description: Outlines the assisted setup guides, videos, help articles, and pages to use to get ready to do business in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: SMTP, mail, Microsoft 365, setup, wizard, experience
ms.date: 06/10/2024
ms.service: dynamics-365-business-central

---
# Get ready for doing business

Congratulations, you have your first company in [!INCLUDE[prod_short](includes/prod_short.md)].

To help you get ready for doing business, you can visit the **Assisted Setup** page where you can launch assisted setup guides, videos, or help articles for selected setup tasks. To access the page, choose [this link](https://businesscentral.dynamics.com/?page=1801).  

Alternatively, choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) icon, and then the **Assisted Setup** action.

You can also find the list of assisted setup guides if you choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.  

> [!TIP]
> [!INCLUDE [ua-get-help](includes/ua-get-help.md)]

## Get started

When you sign in for the first time or launch a new company, the **Get Started** checklist takes you through the steps to make you ready for business. The steps vary depending on your country/region and any industry-specific functionality that you added to your [!INCLUDE [prod_short](includes/prod_short.md)]. Starting with 2021 release wave 2, when you first sign in to the CRONUS demonstration company, your home page is optimized for your first experiences. If you prefer to see more links to more pages, just switch to the Business Manager role. For more information, see [Change Basic Settings](ui-change-basic-settings.md).  

After you migrate data, such as vendors, customers, and items from your existing financial system, you're ready to begin. But depending on your needs, consider if other assisted setup guides on the list can help you.

If an area isn't covered by an assisted setup, choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) icon, and then the **Advanced Settings** action. In **Advanced Settings**, the **Manual Setup** section provides access to setup pages where you can fill in setup fields for all areas manually. For more information, see also [Setting Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md).

> [!NOTE]  
> The list of assisted setup guides, extensions, and services that are available differ depending on the user experience you choose for your company. The **Essential** experience gives access to fewer than the **Premium** experience does.
>
> The first time you sign in, you use the **Essential** experience. For more information, see [Change Which Features are Displayed](ui-experiences.md).

After you run an assisted setup guide, it's marked as **Completed**.  

## Teaching tips and tours

[!INCLUDE [prod_short](includes/prod_short.md)] includes in-product tours and teaching tips that can help you get started. In the current version, there are tours for the steps in the **Get started** list and some of the most commonly used pages in the demonstration company, such as the **Sales Invoice** card page.  

Teaching tips are short messages that inform, remind, or teach you about important and new capabilities that launch automatically when you open a page. For example, to see the teaching tip for the **Sales Invoice** card, choose the link in the top left corner of the page where it says *Sales Invoice*. This launches a callout with a short description of the page and what you can do there. If a tour exists for the page, a link invites you to take the tour. The *Learn more* link takes you to the product Help for the page.

## Role-specific home pages

Depending on your role, the home page provides an overview of the business. The navigation bar gives you easy access to customers, vendors, items, and so on. The **Activities** tiles show current data and provide easy access to the selected document.

The **Key Performance Indicators** can be set up to display a selected chart for a visual representation of, for example, cash flow or income and expenses. You can also build up a list of **Favorite Customers** on the home page for accounts that you do business with often or need to pay special attention to.

Use the arrows to collapse a part of the page and make more room to show specific data. At the top of the home page you'll find all of the actions that you can use in the current content. You can collapse this area too. To expand it again, select or tap in the collapsed area.

> [!TIP]  
> You can get back to the home page by selecting the company name in the upper left corner.

## Company information

Under **Company Settings**, you can view and edit setup information about the current company. Much of this information was prefilled if you completed the **Set Up Company** assisted setup when you signed up for [!INCLUDE[prod_short](includes/prod_short.md)]. If you want to change the company logo, contact information, bank settings, or tax information, you can do it from this page.  

## Adding users and permissions

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

You add users in Microsoft 365 admin center. For more information, see [Create Users According to Licenses](ui-how-users-permissions.md).

When users are created in Microsoft 365, you can import them to the **Users** page by using the **Get Updates from Office 365** action. You can then assign permissions to users and to organize them in user groups. For more information, see [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).  

## Product Help

[!INCLUDE [ua-get-help](includes/ua-get-help.md)] For more information, see [Resources for Help and Support](product-help-and-support.md).  

### Set up your company in [!INCLUDE[prod_short](includes/prod_short.md)]

The [quick start](quick-start-business-central.md) articles can help you take the first steps into setting up [!INCLUDE [prod_short](includes/prod_short.md)] for your organization. Inside [!INCLUDE [prod_short](includes/prod_short.md)], the **Assisted Setup** page lists the assisted setup guides that can help you. Depending on your role and country/region, the page shows different assistant setup guides as illustrated in the following table:

| Assisted Setup | Description |
| -------------- | ----------- |
| Set Up My Company |Creates a new trial company for you to enter data and try out [!INCLUDE[prod_short](includes/prod_short.md)]. |
| Set Up Approval Workflows |Sets up the ability to automatically notify an approver when a user tries to create or change certain values on documents, journal lines, or cards. For example, you can set up approval of amounts above a specified limit. |
| Set Up Email |Gets you ready for sending email messages directly from, for example, sales orders or contacts in [!INCLUDE[prod_short](includes/prod_short.md)]. |
| Set Up Your Business Inbox in Outlook |Gets you ready to manage business interactions with your customers and vendors, directly in Microsoft Outlook. |
| Migrate Business Data |Lets you import your existing company data such as vendors, customers, and items from Excel or Quickbooks. |
| Set Up Email Logging |Sets up the capability to log email correspondence in [!INCLUDE[prod_short](includes/prod_short.md)] to follow up on interactions. |
| Set Up an Item Approval Workflow |Sets up the ability to send a notification to an approver when a user changes or creates an item. |
| Set Up a Customer Approval Workflow |Sets up the ability to automatically notify an approver when a user tries to create or change a customer card. |
| Set Up a Payment Approval Workflow |Sets up the ability to send a notification to an approver when a user sends payment journal lines for approval. |
| Set Up Dynamics 365 Sales Connection |Sets up a connection to Dynamics 365 Sales, which allows you to synchronize data such as contacts and sales order information. |
| Set Up Cash Flow Forecast |Sets up the Cash Flow Forecast chart, so you can view the predicted movement of cash in and out of your business. The chart is available on the **Accountant Role Center**. |
| Set Up Reporting Data|Sets up data sets that you can use to build powerful reports using Excel or Power BI, for example. |
| Invite External Accountant |If you use an external accountant to manage your books and financial reporting, you can invite them to your [!INCLUDE[prod_short](includes/prod_short.md)] so they can work with you on your fiscal data. |

The **Assisted Setup** page might contain other entries. When you finish a setup, its status is **Completed**. You can set up other areas of the company by using manual setup. For more information, see [Setting Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md).  

## Next steps

Based on your migrated data, you can now proceed to create new sales or purchase documents. Use the **Actions** section of your home page to quickly create a new sales quote, sales invoice, sales order, purchase invoice, or payment registration. Check out the [quick start](quick-start-business-central.md) articles to help you take the first steps.  

## Related information

[Business Central Quick Starts](quick-start-business-central.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Company Information Overview](admin-company-information.md)  
[Accessibility and Keyboard Shortcuts](ui-accessibility.md)  
[Business Functionality](across-business-functionality.md)  
[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Search in the help pane](product-help-and-support.md#search-in-the-help-pane)  
[Resources for Help and Support](product-help-and-support.md)  
[Microsoft training](/training/dynamics365/business-central?WT.mc_id=dyn365bc_landingpage-docs)  
[Migrate Data](/dynamics365/business-central/dev-itpro/administration/migrate-data)  
[Trials and Subscriptions](/dynamics365/business-central/dev-itpro/administration/trials-subscriptions)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/intercompany-how-manage-intercompany-inbox
---
title: Manage the Intercompany Inbox and Outbox
description: Intercompany transactions you receive from your partners are listed in the intercompany inbox, where you process them manually or automatically.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 02/06/2023
ms.custom: bap-template
ms.search.keywords: incoming document
ms.search.form: 600, 605, 611_Primary, 613_Primary, 615_Primary, 617_Primary, 618, 650, 651, 648, 649, 614, 642, 643, 640, 641, 616, 646, 647, 644, 645, 619, 612, 638, 639, 636, 637, Report_512
ms.service: dynamics-365-business-central
---
# Manage the Intercompany Inbox and Outbox

The intercompany transactions that you receive from your partners are listed on the **Intercompany Inbox** page. To learn how to process incoming intercompany transactions, go to [Process incoming intercompany transactions](#process-incoming-intercompany-transactions). The intercompany transactions that you send to partners are listed on the **Intercompany Outbox** page. To learn how to process outgoing intercompany transactions, go to [To process outgoing intercompany transactions](#to-process-outgoing-intercompany-transactions).

However, depending on your intercompany setup, some transactions are automatically handled. You can set up the source company and partner companies to automatically create documents and journals that correspond to transactions that partners post through the intercompany general journal. To learn about using intercompany journals, go to [Fill in and post an intercompany journal](intercompany-how-work-documents-journals.md#fill-in-and-post-an-intercompany-journal).  

## Organizing the Inbox  

You can use the filter fields at the top of the Inbox page to determine which transactions are shown on the page. For example, if you only want to explore transactions that a particular partner created, use the **Transaction Source** and **Intercompany Partner Code** filters.  

### Transaction source  

What you can do with a transaction depends whether it was:  

* Created by your intercompany partner  
* Rejected by your intercompany partner and returned to you  

Use the **Show Transaction Source** field to filter the **Intercompany Inbox Transactions** page so that it displays only one of these types of transactions. You can also filter by intercompany partner, or by the contents of the **Line Action** field.  

#### Created by intercompany partner  

 When you receive a new transaction that was created by your partner, you can choose to either:

* Accept the transaction  
* Reject the transaction (return to partner)  
* Cancel the transaction (delete the transaction and don't return it to your partner)  

#### Returned from intercompany partner  

If your intercompany partner rejects a transaction, you must cancel the transaction in the inbox and then create correction lines or reverse the journal or document.  

## Recreating inbox entries  

If you accepted a transaction in your inbox but then deleted the document or journal instead of posting it, you can re-create the inbox entry and accept it again.  

## Get an overview of intercompany transactions for a period  

You can get an overview of all of the intercompany transactions that you have sent and received in a period. The **Intercompany Transactions** report lists all intercompany G/L entries, customer ledger entries, and vendor ledger entries.

> [!NOTE]  
> If the intercompany partners are in the same database, the partners can automatically accept transactions. The go directly to the **Handled Intercompany Inbox Transactions** and **Handled Intercompany Outbox Transactions** pages. To learn more about auto-accepting transactions, go to [Auto-accept transactions from intercompany partners](intercompany-how-setup.md#autoaccept-transactions-from-intercompany-partners).  
>
> * For the synchronization partner, on the **Intercompany Setup** page, turn on the **Auto. Send Transactions** toggle.
> * For partner companies, on the **Intercompany Partner** page, turn on the **Auto. Accept Transactions** toggle.  

## Import intercompany transactions from a file

[!INCLUDE [onprem_only_md](includes/onprem_only_md.md)]

If you have an intercompany partner that is not in the same database as your company, you can receive intercompany transactions from that partner in an .xml file. Then you must import the transactions into your inbox.  

1. Save the file to the location that you specified in the **Intercompany Inbox Details** field when you set up intercompany.  
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Inbox Transactions**, and then choose the related link.
3. On the **Intercompany Inbox Transactions** page, choose the **Import Transaction File** action.  
4. on the page that appears, select the .xml file that contains the transactions, and then choose the **Open** button.  

The transactions are imported into the inbox and you can now process them.

## Process incoming intercompany transactions (using the inbox) 

When your intercompany partners send you intercompany transactions, the transactions end up in your intercompany inbox. You must evaluate each transaction in your inbox and act on it.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Inbox Transactions**, and then choose the related link.  
2. On the **Intercompany Inbox Transactions** page, select a line, and then choose an action, such as **Accept**, to process the line.
3. On the **Complete IC Inbox Action** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Choose the **OK** button.  

For lines that you accept, document or journal lines are created in your company. Open each document or journal, make any necessary changes, and then post them.  

Lines that you reject and return to your partner go to your intercompany outbox, where you can send them to your partner.

For lines that a partner rejected and returned to you, you must post a correction to the original transaction that you posted in your company.

## To process outgoing intercompany transactions (using the outbox) 

When you post an intercompany journal or document, or send an intercompany order confirmation, the transactions go to your intercompany outbox. To send them to your intercompany partners, open the outbox and process them.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Outbox Transactions**, and then choose the related link.  
2. On the **Intercompany Outbox Transactions** page, select a line, and then choose an action, such as **Return to Inbox**, to process the line.

Use the **Send to Intercompany Partner** action to send lines to the relevant partner's inbox.

Use the **Return to Inbox** action to move lines to your inbox, where you can then accept them to create documents or journal lines in your company.  

If you use the **Cancel** action, you must post a correction to the transaction that you originally posted in your company.  

## Recreate intercompany inbox or outbox transactions  

You might want to re-create a transaction in the inbox or outbox. For example, if you accepted a transaction in your inbox but then deleted the document or journal instead of posting it, you can re-create the inbox entry and accept it again.  

The following procedure describes to re-create inbox transactions, but the same steps also apply to the outbox.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Handled IC Inbox Transactions**, and then choose the related link.  
2. On the **Handled IC Inbox Transactions** page, select the line with the transaction that you want to re-create in the inbox, and then choose the **Re-create Inbox Transaction** action.  

## Related information

[Managing Intercompany Transactions](intercompany-manage.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with General Journals](ui-work-general-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/setup-best-practices-costing-method
---
title: Setup Best Practices - Costing Method
description: The Costing Method on the item card defines item's cost flow is recorded and whether an actual or budgeted value is capitalized and used in the cost calculation.
author: brentholtorf
ms.topic: best-practice
ms.devlang: al
ms.search.form: 30, 31
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Setup Best Practices: Costing Method

The **Costing Method** on the item card defines item's cost flow is recorded and whether an actual or budgeted value is capitalized and used in the cost calculation.  

Setting the correct costing method according to item type and business environment is important to ensure economical inventories.  

The following table provides best practices on how to set up the **Costing Method** field. For more information, see [Design Details: Costing Methods](design-details-costing-methods.md).  

|Setup option|Best practice|Comment|  
|------------------|-------------------|-------------|  
|FIFO|Use where the product cost is stable.<br /><br /> Use for items with a limited shelf life, because the oldest goods need to be sold before they pass their sell-by date.|An item's unit cost is the actual value of any receipt of the item, selected by the FIFO rule.<br /><br /> In inventory valuation, it is assumed that the first items placed in inventory are sold first. **Note:**  When prices are rising, the balance sheet shows greater value. This means that tax liabilities increase, but credit scores and the ability to borrow cash improve.|  
|LIFO|Use where levels of inventories are consistently maintained or increased over time.|An item's unit cost is the actual value of any receipt of the item, selected by the LIFO rule.<br /><br /> In inventory valuation, it is assumed that the last items placed in inventory are sold first. **Note:**  When prices are rising, the value on the income statement decreases. This means that tax liabilities decrease, but the ability to borrow cash deteriorates. **Important:**  Disallowed in many countries/regions, as it can be used to depress profit.|  
|Average|Use where the product cost is unstable.<br /><br /> Use where inventories are piled or mixed together and cannot be differentiated, such as chemicals.|An item's unit cost is calculated as the average unit cost at each point in time after a purchase.<br /><br /> For inventory valuation, it is assumed that all inventories are sold simultaneously.|
|Specific|Use in production or trade of easily identifiable items with fairly high unit costs.<br /><br /> Use for items that are subject to regulation.<br /><br /> Use for items with serial numbers.|An item's unit cost is the exact cost at which the particular unit was received.|
|Standard|Use where cost control is critical.<br /><br /> Use in repetitive manufacturing, to value the costs of direct material, direct labor, and manufacturing overhead.<br /><br /> Use where there is discipline and staff to maintain standards.|An item's unit cost is preset based on estimated.<br /><br /> When the actual cost is realized later, the standard cost must be adjusted to the actual cost through variance values.|  

## Related information

[Design Details: Costing Methods](design-details-costing-methods.md)  
[Design Details: Inventory Costing](design-details-inventory-costing.md)  
[Set Up Complex Application Areas Using Best Practices](set-up-complex-application-areas-using-best-practices.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-how-to-sell-items-assembled-to-order
---
title: Sell Items Assembled to Order
description: Learn how to sell an item that is assembled to order.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 11/23/2022
ms.search.keywords: kit, kitting, substitute items
ms.search.form: 900, 901, 902, 903, 904, 907, 910, 916, 920, 921, 922, 923, 940, 941, 942, 930, 931, 932, 914, 915, 905
ms.custom: bap-template
---
# Sell Items Assembled to Order

Items that are set up for assemble-to-order aren't expected to be in inventory and will be assembled when it's included on a sales order. An item is set up for assemble-to-order when the **Assembly Policy** field on the item card contains **Assemble-to-Order**. When you enter the item on a sales order line, an assembly order is automatically created and linked to the sales order.  

> [!NOTE]  
> If assemble-to-order items are already in inventory, you can deduct that quantity from the assembly order and reserve it from inventory. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md).  

In this procedure, you process the sale of an item that will be assembled according to specifications that are requested by the customer. The steps include: 

* Creating a sales order line.
* Customizing the assembly item by editing its components and resources.
* Checking availability to establish a delivery date.
* Releasing the sales order to be assembled and immediately shipped.  

> [!NOTE]  
> The following procedure does not include the steps for creating a standard sales order that happen before the step where you enter the assemble-to-order item on a sales order line. Learn more about creating sales orders at [Sell Products with a Customer Sales Order](sales-how-sell-products.md).  

## To sell an item that is assembled to order

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Create a sales order. 
3. In the **No.** field, enter an item that is set up to be assembled to order.  
4. In the **Location Code** field, define which location the item will be sold from. The assembly process will occur at that location.  
5. In the **Quantity** field, enter how many units to sell.  

    > [!NOTE]  
    >  If one or more components of the requested assembly item quantity aren't available, an availability warning page opens. <!-- Check whether the field help would be useful. For more information, see Assembly Availability.  -->

    An assembly order is created and linked to the sales order line. The due date of the assembly order is the shipment date of the sales order line.  

    The quantity to sell is copied to the **Qty. to Assemble to Order** field, which indicates that the item setup expects you'll assemble the full quantity on the sales line. You can decrease the quantity to assemble, for example, if you know that some items are already available. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-inventory-items-in-assemble-to-order-flows.md).  

6. If the customer wants an additional item in a kit, on the **Lines** FastTab, choose the **Line** action, choose the **Assemble to Order** action, and then choose the **Assemble-to-Order Lines** action to view and change the standard assembly components. Alternatively, choose the **Qty. to Assemble to Order** field.  
7. On the **Assemble-to-Order Lines** page, create a new line of type **Item** for the additional assembly component.  

    You can also customize the order by increasing the quantity of one standard item in the kit. You can do this by increasing the value in the **Quantity Per** field on the specific assembly order line.  

    > [!NOTE]  
    >  The **Assemble-to-Order Lines** page only contains the basic fields for customizing the component list, adding item tracking numbers, or solving component availability issues. To add more assembly order information, such as the assembly order starting date, choose the **Show Documents** action. This opens a full view of the assembly order that is linked to the sales order line. You can't change the contents of most fields on the assembly order header, and you can't post assembly output from it. You must post the shipment of the sales order line.  
    >
    >  On the linked assembly orders, only the **Starting Date** field can be changed. Changing the starting date lets assembly workers specify that they're starting assembly earlier than the due date. All fields on the lines of the linked assembly order can be changed so that warehouse workers can enter consumption figures during the process.  

8. Review or react to component availability issues. For example, select a substitute item.  
9. Close the **Assemble-to-Order Lines** page. The linked assembly order is ready, and workers can start to assemble the customized items.  
10. On the sales order, choose the **Release** action to notify the assembly department that the assembly process can start. Learn more at [Assemble Items](assembly-how-to-assemble-items.md).  

> [!NOTE]  
> Item substitutions don't automatically replace an item with another item, for example, when creating a sales order or in a BOM. Instead, you'll be alerted to the fact that a substitution is available.

## Related information

[Assembly Management](assembly-assemble-items.md)  
[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)  
[Register New Items](inventory-how-register-new-items.md)  
[Inventory](inventory-manage-inventory.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-set-report-layout
---
title: Setting the Report Layout
description: Learn how to set the layout that's used on a report when previewing and printing.
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.keywords: customized report, document layout, logo, personalize
ms.search.form: 9652, 9650
ms.date: 06/13/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Set the layout used by a report

> **APPLIES TO:** Business Central online, Business Central on-premises 2022 release wave 1 and later. For earlier versions, go [here](ui-how-change-layout-currently-used-report.md).

A report layout determines the look of a report. It controls which data fields of a report dataset appear, how they're arranged, styled, and more. A report may have more than one layout, which you can then switch among as needed.

When there are multiple companies in the application, the layouts are set on a per-company basis. So the same report in one company can have a different layout in another company.

## Get started

There are a few ways to set which layout a report uses. Each way has advantages, depending on what you're looking to do: 

- From the report request page

  When setting up a report to run, the report request page includes the **Reports Layout** field that shows the current default layout used by the report. You can use this field to temporarily switch to another available layout the report you're running. After you run the report, the layout will revert to the default layout again. For more information, see [Run and Print Reports](ui-work-report.md#switch-the-report-layout).

- From the **Report Layout Selection** page

  The **Report Layout Selection** page displays a list of all reports. This page indicates what the current default layout for a report is. It lets you set layouts in different companies, without having to switch the company you're working with.

- From the **Report Layouts** page
  The **Report Layouts** page displays all available layouts for each report in the current company. It's also used to specify the default layout for reports. It's easy to find a specific layout by sorting or filtering the list. Once you find the layout, you can set it for a report with a single selection.

  > [!NOTE]
  > You can't use the **Report Layouts** page for Word and RDLC layouts that were created by using the legacy **Custom Layouts** feature. In fact, you won't even see these custom layouts listed on the **Report Layouts** page. For these layouts, you can only set them by using **Report Layout Selection** page.

## Set the layout from the Report Layouts page

1. [!INCLUDE[open-report-layouts-page](includes/open-report-layouts-page.md)]
2. Find the layout in the list, select it, then select the **Set Default** action at the top of the page.

## Set the layout from Report Layout Selection page

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Layout Selection**, and then choose the related link.
  
   The page lists all the reports that are available for the company that's specified in the **Company** field at the top of the page. The **Layout Description** field specifies the layout that the report currently uses.
2. Set the **Company** field at the top to the company that includes the report.
3. Find and select the report in the list, then do one of the following steps:

   - If the layout that you want to switch to is a different type than the current layout, select the **Layout Type** field, then choose the type of the layout you want to set on the report. 
   - If the layout that you want to switch to the same type as the current layout, select the **Select Layout** action at the top.

4. In the **Report Layouts** page, select the layout, then select **OK**.

## Revert to the original default layout

Reports are designed to use a layout by default. You can switch back to the original default layout from **Report Layout Selection** page. Just select the report, then select the **Restore Default Selection** action at the top of the page.

## Related information

[Managing Report Layouts](ui-manage-report-layouts.md)  
[Working with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-request-quotes
---
title: Create a purchase quote to request an offer
description: Describes how to create a sales offer or a request for quote (RFQ) document to record your offer to a customer to sell products under certain terms.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: rfq
ms.search.form: 49, 97, 9306, 9346
ms.date: 03/14/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Request quotes

A purchase quote can be used as a preliminary draft for a purchase order, which can then be converted to a purchase invoice.

## Create a purchase quote

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Quotes**, then choose the related link.
2. Create a new document, in the same way as you make a purchase order. Learn more at [Record Purchases](purchasing-how-record-purchases.md).

## Convert a purchase quote to a purchase order

When you have accepted the vendor's quote, you can convert it to a purchase order to process the purchase.

1. Open the purchase quote you want to convert, then choose the **Make Order** action.

The purchase quote is removed from the database. A purchase order is created based on the information in the purchase quote, which you can use to process the purchase, and then post a purchase invoice. In the **Quote No.** field on both the purchase order and purchase invoice you can see the number of the purchase quote they were made from.

> [!NOTE]
> It is not possible to convert a purchase quote to a purchase invoice directly, like it is possible with sales quotes. For details on how to create a purchase invoice, read [Record Purchases with Purchase Invoices](purchasing-how-record-purchases.md).

## Related information

[Purchasing](purchasing-manage-purchasing.md)  
[Setting Up Purchasing](purchasing-setup-purchasing.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/company-hub-add-company
---
title: Add companies to your company hub
description: Learn how to add companies from other Business Central environments to your company hub so you can manage work across environments.
author: brentholtorf
ms.topic: how-to
ms.search.keywords: accountant, accounting, company hub
ms.search.form: 1151, 1155, 1166, 1165
ms.date: 09/28/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Add Companies to Your Company Hub

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

With the company hub, you can access your work from across multiple companies from multiple [!INCLUDE [prod_short](includes/prod_short.md)] environments. You can add a environments and companies manually, if your companies do not show up automatically in the company hub.  

Right in the company hub landing page, you find the **Setup** menu, from where you can access the **Environment Links** page. Simply choose **New**, and then fill in the fields. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]  

> [!NOTE]
> You can connect the company hub to as many companies as you need. However, you can only connect the company hub to companies that are hosted in [!INCLUDE [prod_short](includes/prod_short.md)] online.

## Environment links

An environment link is a card where you specify the [!INCLUDE [prod_short](includes/prod_short.md)] environment that hosts one or more companies that you do work in. The data in the card for each environment is specified by you, and you can change it as needed. However, the **Environment Link** field is critical - this is how you can access each company in [!INCLUDE [prod_short](includes/prod_short.md)]. Use the **Test the connection** action in the ribbon to test that you entered the right link. The link that you must enter points at environment that hosts the company that you are adding, and it must include the Microsoft Entra ID, or the organization's domain name. For example, if they have specified a domain such as MyBusiness.com, then the link to their [!INCLUDE [prod_short](includes/prod_short.md)] is ```https://businesscentral.dynamics.com/mybusiness.com?redirectedfromsignup=1```. Otherwise, it will look something like this: ```https://businesscentral.dynamics.com/1a23b456-789c-0123-45de-678910fg12h/production?redirectedfromsignup=1```  

The link is used when you choose the company in the company hub.  

:::image type="content" source="media/company-hub-company-list-actions.png" alt-text="Actions for a company that is listed in the company hub.":::

> [!TIP]
> If you're working in the free trial version of [!INCLUDE [prod_short](includes/prod_short.md)], it is easy to add the companies in your tenant. You can find the environment link by copying the ID for Microsoft Entra from the **Troubleshooting** section of the Help & Support page. The environment name is probably the default value, PRODUCTION. Add this information to the **Environment Link** field, such as ```https://businesscentral.dynamics.com/1a23b456-789c-0123-45de-678910fg12h/production?redirectedfromsignup=1```, and then choose **Test the connection**. The evaluation company will be added to the list.
>
> If you have moved to the thirty-day trial company, My Company, you can add that to the list by choosing the **Reload / Reload all Companies** action in the list.

## Load companies

When you have added your environments, your companies show up automatically. However, if you know that a new company has been added to an environment, you can choose the **Reload all companies** action to refresh the list. Use the same action to refresh data from across your companies.  

> [!TIP]
> In order to refresh the data in the company hub, you must have access to the data in the companies that the data comes from.

## Related information

[Manage Work across Multiple Companies in the Company Hub](company-hub.md)  
[Resources for Help and Support](product-help-and-support.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-bookmarks
---
title: Bookmark link to page or report on role center
description: Using the bookmark icon, you can add an action that opens a page or report from the navigation menu of your role center.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.search.form: 
ms.date: 07/25/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Bookmark a page or report on your role center

Using the bookmark icon, you can add an action that opens a page or report from the navigation menu of your role center. Bookmarks allow you to quickly reach your favorite content or business tasks. You add the bookmark from the target page or report, meaning the screen that you want the link on the role center to open.

The bookmark icon is shown in the top-right corner of a page and also in the **Tell Me** window where you can efficiently bookmark multiple pages or reports. If a bookmark already exists for the page, then the icon is dark, and the tooltip says "Bookmarked".

## Bookmark the target page

1. Open any page that you want a link for on your role center.
2. Choose the ![Bookmark.](media/ui_bookmark_icon.png "Bookmark") icon.

An action named after the page is now added to the navigation menu on your role center.

## Bookmark the target report

1. Open any report request page that you want a link for on your role center.
2. Choose the ![Bookmark.](media/ui_bookmark_icon.png "Bookmark") icon.

An action named after the report is now added to the navigation menu on your role center.

## Bookmark a page or report from the Tell Me window

1. Open the **Tell Me** window and enter, for example, **Sales Orders**.
2. Hover over the search result for the **Sales Orders** page or report, and then choose the ![Bookmark.](media/ui_bookmark_icon.png "Bookmark") icon.

An action named after the page or report is now added to the navigation menu on your role center.

## Frequently asked questions  

### Can I reorganize my bookmarks?

Yes. You can personalize your role center and move actions into a more optimal sequence or move them into existing groups or subgroups.  
Learn how to [Personalize Your Workspace](ui-personalization-user.md).

### How do I remove a bookmark?

On the target page or report, choose the bookmark icon again to remove the involved action from your role center. You can also personalize your role center and temporarily hide actions without fully removing them.

### Where do I find my bookmarks?

When adding a bookmark to a page or report, the new action is added to the top navigation menu on your current home screen (role center). If you happen to have many actions, you may need to activate the **More** button to display all of them because the new action is always appended at the end of those actions.
<!-- Should we add a screenshot here? -->

### I don't have a bookmark icon. Is something wrong?

The ability to bookmark a page or report is one of many user personalization features in Business Central. If the bookmark icon isn't displayed, it's likely that your administrator has disabled personalization.

### Why can't I bookmark certain pages or reports?

Not all pages and reports can be bookmarked. When a page or report is run within some special context governed by the business application, the bookmark icon isn't displayed. For example, pages that cannot be found in the **Tell Me** window but are launched from elsewhere will not display a bookmark icon. Similarly, report request pages that are only used to collect filters without running the report will not display a bookmark icon.

  See technical details about [RunRequestPage](/dynamics365/business-central/dev-itpro/developer/methods-auto/report/reportinstance-runrequestpage-method) and [FilterPageBuilder](/dynamics365/business-central/dev-itpro/developer/methods-auto/filterpagebuilder/filterpagebuilder-data-type).

### When clearing my personalization, will my bookmarks also be cleared?

Yes. Bookmarks reside in the navigation menu. If you clear changes to the navigation menu from any page, or clear all personalization on the role center, all your new actions will be permanently removed.

### Why does the bookmark icon continue to indicate it's still not bookmarked?

When you add a bookmark, the new action is added to the navigation menu on the role center and subsequent visits to the page or report show a dark bookmark icon. If you personalize your role center and reorganize your actions by moving them into groups, the bookmark icon will no longer be dark and you can add another bookmark to that same page or report. This allows you to add multiple actions to the same page or report and categorize them into different groups.

### Why does my link to a report display a different report?

Some reports may be substituted by other reports after applying an extension to Business Central. When substitution occurs, the text of the new action isn't updated and will continue to display the name of the original report, but navigate to the newer report. To correct the text of the new action, you can remove the new action and add it again.
<!-- For more information on report substitution, see this link UNAVAILABLE AT THIS TIME -->

### Is bookmarking available for XMLports?

No. At this time, adding actions to open XMLports isn't possible from the user interface.

### Will my bookmarks be translated when I change my language in Business Central?

When you add a new action, any translated text that was available at the time is used when bookmarking. If new translated text is added later, then the new action will not include the newer translations.

### Why can't I add text in a page right after opening it with the bookmark?

When a page is bookmarked, the page will always open in the view mode from the bookmark&mdash;even if it was in the edit mode when it was bookmarked. Selecting the **Make changes on the page** icon ![Shows the pencil icon for editing the page.](media/edit-pencil.png) will let you add text in the fields that are editable.

## Related information

[Personalize your workspace](ui-personalization-user.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change basic settings](ui-change-basic-settings.md)  
[Change which features are displayed](ui-experiences.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-enable-application-ledger-entries-different-currencies
---
title: Apply Entries in Different Currencies
description: You can apply ledger entries in multiple currencies, for example, if you sell in one currency and receive payment in another.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: multiple currencies, payment, reconcile
ms.search.form: 148, 460, 25
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Enable Application of Ledger Entries in Different Currencies

If you purchase from a vendor in one currency and submit payment in another currency, you can apply the payment to the purchase.

Likewise, if you sell to a customer in one currency and receive payment in another currency, you can apply the payment to the sales invoice.

The following procedure describes how to set this up for vendor ledger entries on the **Purchases & Payables Setup** page. The setup is similar for customer ledger entries on the **Sales & Receivables Setup** page.

## To enable application of vendor ledger entries in different currencies

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchases & Payables Setup**, and then choose the related link.
2. In the **Appln. between Currencies** field, select one of the following options.

| Option | Description |
| --- | --- |
| None |Application between currencies is not allowed. |
| EMU |Application between EMU currencies is allowed. |
| All |Application between all currencies is allowed. |

## To set up G/L accounts for currency application rounding differences

If you apply entries in different currencies, you must set up the general ledger accounts to which you want to post rounding differences.  

> [!NOTE]  
> You must set up the general ledger accounts before you complete the task. For more information, see [Understanding the General Ledger and the Chart of Accounts](finance-general-ledger.md).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer Posting Groups**, and then choose the related link.  
2. In the **Debit Curr. Appln. Rndg. Acc.** and **Credit Curr. Appln. Rndg. Acc.** fields, enter the relevant general ledger accounts to post rounding differences.  
3. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendor Posting Groups**, and then choose the related link.  
4. In the **Debit Curr. Appln. Rndg. Acc.** and **Credit Curr. Appln. Rndg. Acc.** fields, enter the relevant general ledger accounts to post rounding differences.  

## Related information

[Managing Payables](payables-manage-payables.md)  
[Managing Receivables](receivables-manage-receivables.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-personalization-user
---
title: Personalize your workspace
description: Learn how to customize the user interface and personalize your workspace to suit your way of working and personal preferences in Business Central.
author: jswymer
ms.topic: how-to
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.reviewer: jswymer
ms.search.keywords: customize, personalize, personalization, hide columns, remove fields, move fields, resize column, change column width
ms.search.form: 9020, 9022, 9026, 9027, 9030, 9000, 9009, 9004, 9005, 9024, 9006, 9007, 9010, 9016, 9017
ms.date: 02/14/2025
ms.author: jswymer
---

# Personalize your workspace

You can personalize your workspace to suit your work and preferences. Change pages so that they display only the information you need, where you need it. Personalization affects only your workspace. It doesn't change how others work. You can personalize all types of pages, including the [role center](ui-change-basic-settings.md#role-center) page.

The adjustments outlined in this article are applied universally across all your devices and browsers. There are other modifications, not detailed here, that only affect the specific device and browser on which they're made. Learn more about the differences in [Where is personalization stored?](ui-personalization-stored.md).

## Video and training

The following video shows some of the ways in which you can personalize your Role Center.

> [!Video https://learn-video.azurefd.net/vod/player?id=d76e5d60-ecc2-462b-bba2-18d6deee3534]

For online training, go to [Personalize the Microsoft Dynamics 365 Business Central user interface](/training/modules/personalize-ui-dynamics-365-business-central/).

## About personalization

You can make various adjustments, such as move or hide fields, columns, actions, and entire parts, and add new fields. You do most adjustments by first activating the **Personalizing** banner using the [personalization mode](#start-personalizing-by-using-the-personalization-mode). You can also readily make the following adjustments on any list page without using the personalization mode:

- [Resize a column](#resize-a-column)
- [Create, rename, or edit a view](ui-views.md)
- [Bookmark the page](ui-bookmarks.md)
- [Hide or resize a FactBox](#hide-or-resize-a-factbox)
- Expand/collapse hierarchical list

### Resize a column

There are two ways to change the width of a column in any list, including in dropdown lists for looking up field values:

- Select and drag the boundary between two columns in the header of a list.
- Double-click the boundary between two columns to autofit the width of the column. The width adjusts to the optimal size for readability.

### Hide or resize a FactBox

A FactBox is a pane along the right side of a page that displays more information related to the record on the page.

:::image type="content" source="media/factbox.png" alt-text="Shows the FactBox position in the web client":::

- To hide or show the FactBox, select the ![Shows the collapse or expand FactBox icon in Business Central](media/collapse-expand-factbox.png) **Collapse/Expand the FactBox pane** icon at the top of the FactBox pane.
- To resize the FactBox, drag the vertical divider between the FactBox and main content. Double-click the divider to reset the width to default.

   If you can't resize the FactBox, you're either using Business Central version earlier than 26.0, or **Feature: Optimize screen estate usage for web** isn't turned on in **Feature Management**. Contact your admin, or learn more in [Enabling Upcoming Features Ahead of Time](/dynamics365/business-central/dev-itpro/administration/feature-management).

## Start personalizing by using the personalization mode

1. Open any page that you want to personalize.
1. In the upper-right corner, select **Settings** ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center") and then choose the **Personalize** action.

    The **Personalizing** banner appears at the top to indicate that you can start making changes.

    > [!NOTE]
    > To navigate during personalization, use <kbd>Ctrl</kbd>+<kbd>Click</kbd> on an action if it is highlighted by the arrowhead.

    If you see **Personalize lock** ![Personalize Lock](media/personalization-lock-icon.png "Personalize lock") or **Personalization blocked** ![Personalization blocked](media/personalization-blocked-icon.png "Personalization blocked") on the banner, you can't personalize the page. For more information, see [Why a Page is Locked from Personalization](ui-personalization-locked.md).

1. To change a user interface (UI) element, point to the element, such as an action, a field, or a part. The element is immediately highlighted with an arrowhead or border. Choose the element, and then choose either **Move**, **Remove**, **Hide**, **Show**, **Show under "Show more"**, **Show when collapsed**, **Show always**, **Set/Clear Freeze Pane**, or **Include/Exclude from Quick Entry**, depending on the type and state of the UI element.
1. To add a field, choose the **+ Field** action. From the **Add Field to Page** pane, drag and drop a field into the desired position on the page.
1. When you finish changing the layout of one or more pages, choose **Done** on the **Personalizing** banner.

For more information, see [What You Can Personalize](#What).

## <a name="What"></a>What you can personalize

|What you want to do|How to do it|Remarks|
|----|------------|-------|
|Move something, like a field, column in list, tile, action, or part to another place on the page.|Point anywhere on what you want to move, and drag it to its new position. A thick horizontal or vertical line indicates the position.<br /><br />![Cannot move here icon](media/personalization-cannot-move-here.png "Personalizing mode - Cannot move here icon") indicates that you can't move the element to the selected position.|Parts are subdivisions or areas on a page that contain things like multiple fields, another page, a chart, or tiles.<br /><br />[Learn more about personalizing actions](#Actions)<br>[Learn more about personalizing parts](#Parts)|
|Hide an element currently shown, like a field, column in list, tile, action, or part.|Select the element, select the arrowhead, and then select <b>Hide</b>.|In the personalization mode, hidden actions are grayed with italic text, and hidden parts are shaded with diagonal lines. Hidden fields and columns aren't indicated directly on the page, but you can locate them by using the <b>Add Field to Page</b> pane. ([Learn more about working fields.](#fields))<br><br>When you exit personalization mode, all elements disappear from view. If the field you hide is also shown on the FastTab heading when the FastTab is collapsed, the field no longer appears there.|
|Show an action or part that is currently hidden.|For a grayed (hidden) element, choose the arrowhead, and then choose <b>Show</b>.|The hidden element is visible again.|
|Add a hidden field|In the <b>Personalizing</b> banner, choose the <b>+ Field</b> action.<br /></br>The <b>Add Field to Page</b> pane opens on the right side of the page. If you select a field in the pane, its hidden location appears on the page.<br /><br />To add a field, drag it from the pane, or from its hidden location, to the position that you want it. A thick horizontal or vertical line indicates the position.<br><br> Another way is to select the arrowhead in the field's hidden location and select **Show**. |Each page includes a predefined set of fields that you can choose to display.<br /><br />[Learn more about working fields.](#fields) |
|Display a field in the heading of a collapsed FastTab.|Choose the arrowhead, and then choose <b>Show when collapsed</b>. <br /> <br />If you don't see this option, it's set already. In this case, to stop displaying the field on the FastTab heading, choose <b>Show always</b>.|*FastTab* is the term used for a group of fields that appear under a common heading. Use the <b>Show when collapsed</b> option to display the most important fields. If you select a field in the heading, the FastTab opens and focuses on the selected field.<br /><br />This option is only applicable if a page has more than one FastTab. If there's only one FastTab, it can't be collapsed, so the <b>Show when collapsed</b> option isn't available.|
|Make a field display only when you select **Show more**.|Choose the arrowhead, and then choose <b>Show under "Show More"</b>.|If you don't see the <b>Show More</b> option, it's set already. In this case, to make a field display always, not just when you select **Show more**, choose <b>Show always</b>.|
|Change whether a field can be edited.|Select the field, select the arrowhead on the field, and then select <b>Lock editing</b> to prevent changing the field's value or <b>Unlock editing</b> to allow changing the field's value.|You can only unlock fields that you previously locked yourself. Some fields are locked by default, either by design or by a profile admin who [customized the page](ui-personalization-manage.md). These fields can't be unlocked.|
|Change the freeze pane in a list to another column. |Choose the arrowhead of the column that you want as the last column of the freeze pane, and then choose <b>Set Freeze Pane</b>.<br /><br/>If you want to set the freeze pane back to its original position, choose the arrowhead for the current freeze pane column, and choose <b>Clear Freeze Pane</b>. Note: You can't remove this freeze pane.|The freeze pane specifies the columns that always appear on the left side of the list, even as you scroll horizontally.|  
|Skip over a field when pressing Enter.|Choose the arrowhead next to the field, or column heading in a list, and choose **Exclude from Quick Entry**.  | If you don't see **Exclude from Quick Entry**, then the field is already skipped. In this case, to stop skipping the field, choose **Include in Quick Entry**.<br><br>[Learn more about Quick Entry.](ui-enter-data.md#QuickEntry)|
|Reorder and remove views representing filtered lists.|Choose the arrowhead next to a view, and then choose **Move**, **Remove**, or **Hide**.|[Learn more about saving and personalizing list views.](ui-views.md)|  
|Add a new action to a page or report on your Role Center.|From the target page, report request page, or Tell Me window, choose the bookmark icon.|[Learn more about bookmarking pages and reports.](ui-bookmarks.md)|
|Always start a list as expanded or collapsed.|Choose the **Expand All** or **Collapse All** button in the upper-left corner of the list. Alternatively, choose the **Expand All** or **Collapse All** action in the menu of the first column. |Applies to collapsible hierarchy lists.|

## <a name="Actions"></a>Personalize action bar and menus

Personalization lets you decide which actions to show on the navigation and action bars and on Role Centers, and where to show them. You can show, hide, or move individual actions or action groups.

The following video shows how you can personalize actions on pages and Role Centers.

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=88d1055a-6b3d-4767-bbf7-98a78170e394]

Personalizing the navigation and action bars is done basically the same as with other UI elements. However, what you can do with an action or group depends on where the action or group is located. The best way to find out is to enter personalizing mode and then let the arrowheads guide you.

There are a couple of terms that you should be familiar with to better understand action personalization: *action group* and *promoted category*.  

An *action group* is an element that expands to display other actions or groups. For example, on the **Sales Orders** page, one action group is the **Functions** action that appears when you choose the **Actions** action.

A *promoted category* is an action group that appears before the vertical line `|` on the action bar. The categories typically include the most commonly used actions, so that you can quickly find them. For example, on the **Sales Orders** page, the **Order**, **Release**, and **Posting** actions are promoted categories.

> [!NOTE]  
> To clear personalization, select the arrowhead around the part's designer menu, and then choose **Clear personalization**.

### Remove, hide, and show actions and action groups

When you want to show or hide an action, the options under the arrowhead define what you can do depending on the action's state. 

1. Choose the arrowhead for an action or action group.
2. Choose from one of the following options:

   |Option|What it does|
   |------|------------|
   |**Remove**|This option appears if the selected action is also shown somewhere else on the navigation bar or action bar. Choosing this option deletes the action from the selected location so that it no longer appears. The action or action group remains in the other locations. |
   |**Hide**|This option appears if the action or action group isn't located anywhere else on the navigation bar or action bar. Like **Remove**, choosing this option makes the action or action group disappear from the navigation bar or action bar. However, in personalizing mode, the action, or action group is still shown in the current position, except that it appears dimmed.|
   |**Show**|This option appears if the action or action group is hidden (dimmed). Choosing this option makes the action or action group appear on the navigation bar or action bar.|

### Move actions and action groups

A horizontal line between two actions or a border around an action group indicates where you can drop actions or actions groups. There are the following limitations:

- You can move individual actions into the promoted categories, but you can't rearrange the order of the actions in the category.
- You can't move an action group into a promoted category.

To move an action or action group, drag and drop it into the desired position, like you do with fields and columns.

To move an action or action group into another action group that is empty, drag the action or action group to the new group and drop it in the **Drop an action here** box.

### About the Automate menu

- You can't hide or move the **Automate** menu or the **Power Automate** submenu and its actions.
- You can move flows included under the **Automate** item, but you can't hide them using personalization. Moving the flow makes a copy the flow in the destination, it doesn't remove it from the **Automate** item.

> [!TIP]
> As an administrator, you can hide the **Automation** item from users. Learn more at [Set Up Power Automate Integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-setup).

## <a name="Parts"></a>Personalize parts

Hover over or select <kbd>Alt</kbd>+<kbd>Up Arrow</kbd> to get information about a field.

Parts are areas on a page that are typically composed of multiple fields, charts, or other content. A part shows a colored border when you focus on the part. For example, a Role Center home screen has multiple parts. Because of their well-defined boundary, you can personalize the entire part and its contents.

- To move a part, drag and drop it into the desired position. A colored line indicates valid positions on the screen. For example, FactBoxes can only be moved next to other FactBoxes in the FactBox pane.
- You can hide a part by choosing the **Hide** option under the arrowhead.
- When you start personalizing or navigate to a new page, any parts that are currently hidden appear on the page with distinctive visuals to indicate they're hidden. You can unhide that part by choosing the **Show** option under the arrowhead.

You can clear all personalization changes that you made within a single part by choosing the **Clear personalization** option under the part's arrowhead. Clearing personalization of a part only affects changes to the contents of the part. It doesn't affect the placement or visibility of the part on the page.  

## <a name="fields"></a> Work with fields and columns

When personalizing a page, you use the **Add field to page** pane to include fields or columns on the page that are currently hidden from view. To open this pane, select the **+ Field** action near the top of the page. Unlike other hidden elements, hidden fields aren't indicated on the page itself in personalization mode. However, you can identify hidden fields by using the **Add field to page** pane.

Here are some general guidelines to follow when using the **Add field to page** pane:

- By default, the pane lists all hidden fields. To find hidden fields, look for the ![Shows the hidden field icon](media/hidden-icon.png "Shows the hidden field icon") icon.
- You can filter the list to show other fields, for example, those fields currently shown on the page, by selecting the **Recommended fields** button above the list and choosing a filter option. The name of the button changes based on the filter option you choose.
  
   :::image type="content" source="media/personlaization-filter.svg" alt-text="Shows the filter button in the Add a field pane in the personalization mode.":::
- Selecting a field in the list highlights its location on the page. If the field is hidden, its location shows in a shaded state.
- To get more details about a field in the list, hover over it or select <kbd>Alt</kbd>+<kbd>Up Arrow</kbd> to display a tooltip.
- The fields available in the **Add field to page** pane are determined by the developer of the page and its source table or by a profile admin who [customized the page](ui-personalization-manage.md). You can't create new ones.
- Some pages have multiple page fields that map to the same source table. The pane shows both/all of those page fields independently. Showing/hiding/moving those fields is also independent without one affecting the other.

### Add a field so it's visible on the page

From the **Add field to page** pane, there are two ways to include a hidden field on the page:

- Drag the field to the desired position. A thick horizontal or vertical line indicates the target location.
- Select the field in the list, then go to the shaded field on the page and select the **Show** option.

> [!NOTE]
> Some fields that you add won't be editable on the page when you're done with personalization. These fields are either originally designed this way or an administrator [customized](ui-personalization-manage.md) the page to prevent you from editing them.

## Clear personalization

At some point, you might want to undo some or all of the personalization changes that you made to a page over time.

1. On the **Personalizing** banner, choose the **Clear personalization** action.
2. Choose one of the following options.  

   > [!CAUTION]
   > Clearing personalization can't be undone.

   |Option|What it does|
   |------|------------|
   |**Only Navigation Menu**|Clears any personalization changes that you made to the navigation menu that is shared across the Role Center and other pages. Such changes include any new actions that were added as bookmarks, and any changes to links and groups in the menu.|  
   |**Only Actions**|Clears any personalization changes that you made on the navigation or action bars on the page.|
   |**Only Fields and Columns**|Clears any personalization changes that you made to the page except changes on the navigation or action bars. Such changes include changes to fields, columns, parts, and tiles. |
   |**All**|Clears all personalization changes that you made to the page so it looks like it did originally. Such changes include changes to navigation and action bars, fields, columns, parts, and tiles.|

## Tips and other points of interest

To help you better understand personalization, here are some pointers:

- When you make changes to a card page that you open from a list, the changes take effect on all records that you open from that list. For example, let's say you open a specific customer from the Customers list page, and then personalize the page by adding a field. When you open other customers from the list, the field that you added is also shown.
- Changes that you make affect all your Role Centers. For example, if you make a change to the Customer list when the Role Center is set to Business Manager, you also see the change on the **Customers** page when the Role Center is set to Sales Order Processor.
- Changes to a page in a pane take effect on the page wherever it appears.  
- You can't personalize a page that's in [analysis mode](analysis-mode.md). The **Analyze** switch is deactivated. If you happen to switch to personalization mode while the page is in analysis mode, then analysis mode is automatically switched off.
- Some pages have multiple page fields that map to the same source table. The pane shows both/all of those page fields independently. Showing/hiding/moving those fields is also independent without one affecting the other.
- If a part or group is hidden, ghosted fields still show inside it, but you can't drag-and-drop or add/show that field until you make the group/part visible.

> [!NOTE]
> Due to restrictions on design capabilities in the web client, it's currently not possible to customize or personalize the controls within the `grid` and `fixed` syntax. It applies to all design modes, not just personalization.
>
> Administrators can make the same layout changes as users by customizing a profile (role), which can be assigned to multiple users. To learn more about pages for Roles, go to [Customize Pages for Roles](ui-personalization-manage.md)<br /><br />
Administrators can also override or disable users' personalization, and they can define which features are even available for users to see in all or specific companies. For more information, see [Customize Business Central](ui-customizing-overview.md).

## Related information

[Customize Pages for Profiles](ui-personalization-manage.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Change Which Features are Displayed](ui-experiences.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/year-close-income-statement
---
title: Close income statement accounts
description: At year closing, you must run the Close Income Statement batch job to close the accounting periods that make up the fiscal year.
author: jswymer
ms.topic: how-to
ms.search.keywords: year closing, close accounting period, close fiscal year, bank account detailed trial balance
ms.date: 08/05/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Close income statement accounts

When a fiscal year is over, you must close the periods that comprise it. To do this, you run the **Close Income Statement** batch job. This job transfers the year's result to an account in the balance sheet and closes the income statement accounts. You do this by creating lines in a journal, which you then can post.

## To run the Close Income Statement batch job

1. Close the fiscal year. The fiscal year must closed before the batch job can be run. For more information, see [Close Accounting Periods](year-close-account-periods.md).
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Close Income Statement**, and then choose the related link.
3. Choose the **OK** button to run the batch job.

## About the Close Income Statement batch job

The batch job processes all general accounts of the income statement type and creates entries that cancel out their respective balances. That is, each entry is the sum of all the general ledger entries on the account in the fiscal year. These new entries are placed in a journal in which you must specify a balancing account and retained earnings account in the balance sheet before you post. When you post the journal, an entry is posted to each income statement account so that its balance becomes zero and at the same time the year's result is transferred to the balance sheet.

You must post the journal yourself. The batch job doesn't post the entries automatically, except when an additional reporting currency is being used. When an additional reporting currency is being used, the batch job posts entries directly to the general ledger.

The date on the lines that the batch job inserts in the journal is always a closing date for the fiscal year. The closing date is a fictitious date between the last day of the old fiscal year and the first day of the new year. The advantage of posting on a closing date is that you maintain the correct balances for the ordinary dates of the fiscal year.

The **Close Income Statement** batch job can be used several times. You can post in a previous fiscal year, even after the income statement accounts have been closed, if you run the batch job again.

## Related information

[Closing Books](year-close-books.md)    
[Post the Year-End Closing Entry](year-how-post-year-end-close-entry.md)    
[Work with Accounting Periods and Fiscal Years](finance-accounting-periods-and-fiscal-years.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-use-workflows
---
title: Using Approval Workflows
description: You can set up and use workflows to connect business-process tasks such as automatic posting or requesting and granting approval for new records. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords: 
ms.search.form: 1500, 1501, 1503, 1504, 1505
ms.date: 02/20/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Use Approval Workflows

A workflow is a sequence of tasks triggered by an action, a condition, or a rule. Workflows are usually implemented to integrate business logic into an organization, such as the separation of duties, unifying processes, or to apply best practices.

The workflows can be designed to create requests for approval of a record field change while keeping the old data in case the request isn't approved. The new value won't be implemented until the last request is approved.

The business logic could be the approval of:

- New master data such as general ledger (G/L) accounts, customers, vendors, or items.
- Changes to fields in existing records containing sensitive information, such as **Vendor Bank Account No.** or **Customer Credit Limit**.
- Changes to fields in existing records containing business critical information, such as **Item Sales Prices**.
- New users or changes to user permissions.
- Purchase documents.
- Sales documents.
- Incoming documents.
- Finance journals prior to posting.

The following illustration is example of a workflow with sequential approval triggered by a user. By triggering the workflow, an approval request is created for the first approver.  

![Illustration of a workflow with sequential approval.](media/Workflows/approval-flow.png)

You see in the illustration above how the request must be approved by the first approver before it's sent on to the next one. If the request isn't approved by the first approver, the request will never go to the next.

The route taken from the initial triggering of the workflow can vary depending on the nature of the approval.  

The following illustration shows a parallel approval triggered by the user. A parallel approval means the approval request is sent to all approvers simultaneously.  

![Illustration of a workflow with parallel approval.](media/Workflows/approval-flow-2.png)

However, the workflow isn't concluded until all requests have been approved, as shown in the following illustration:  

![Illustration of a rejected workflow with parallel approval.](media/Workflows/approval-flow-3.png)

> [!NOTE]  
> For a workflow with multiple approvers, all approvers must approve each step before the workflow can move forward to the next event. Approval from just one approver will not move the workflow forward.

You can set up and use workflows that connect business-process tasks performed by different users. It's also possible to create the same workflow more than once. Each workflow can be triggered by an event using different filters. This is useful if an approval request for one department must be approved by one approver, while requests for other departments must be approved by a different approver. System tasks, such as automatic posting, can be included as steps in workflows, preceded or followed by user tasks. Requesting and granting approval to create new records are typical workflow steps.  

Before you can begin using workflows, you must set up workflow users, create the workflows (potentially preceded by code customization), and specify how users receive notifications. Learn more at [Setting Up Workflows](across-set-up-workflows.md).

> [!NOTE]  
> Typical workflow steps involve users requesting approval of tasks and approvers accepting or rejecting approval requests. That's why many topics about how to use workflows refer to approvals.  

 The following table describes a sequence of tasks, with links to the articles that describe them.  

| **To** | **See** |
|--|--|
| Set up an approval workflow to start when the first entry-point event occurs. | [Enable Approval Workflows](across-how-to-enable-workflows.md) |
| Request approval of a task; as an approver, accept, decline, or delegate approvals; and send or view approval notifications. | [How To Use Approval Workflows](across-how-use-approval-workflows.md) |
| Create workflow steps that restrict a certain record type from being used before a certain event occurs, for example, approval of the record. | [Restrict and Allow Usage of a Record](across-how-to-restrict-and-allow-usage-of-a-record.md) |
| View workflow step instances with **Completed** status. | [View Archived Workflow Step Instances](across-how-to-view-archived-workflow-step-instances.md) |
| Delete an approval workflow that will no longer be used. | [Delete Approval Workflows](across-how-to-delete-workflows.md) |

## Related information

[Setting Up Approval Workflows](across-set-up-workflows.md)  
[Workflow](across-workflow.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-block-items
---
title: How to block items or item variants from sales, purchasing, and production
description: You can block items and item variants from being entered on lines in sales or purchase documents, and from being posted in a transaction. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: item, variant, product
ms.date: 02/05/2025
ms.service: dynamics-365-business-central
---

# Block items or item variants from use in sales, purchasing, service, and production

You can block items and item variants from being entered on lines in sales or purchase documents, and service and production orders. You can also block them from being posted in any kind of transaction. For example, blocking for use in all transactions is useful when an item has a known defect. If you choose a blocked item or variant on a sales or purchase document, or a service or production order, a message lets you know that the item is blocked.

The following table describes what happens when items or variants are blocked.  

|Option|Description|  
|--------------------|------------|  
|**Sales Blocked**|You can't choose the item or variant on a sales document or a sales item journal.|  
|**Service Blocked**|You can't choose the item or variant on service management transactions. To learn more about blocking service items, go to [Block items, item variants, or specific service items](service-how-to-create-service-items.md#block-items-item-variants-or-specific-service-items).|
|**Purchasing Blocked**|You can't choose the item or variant on a purchase document, a purchase item journal, or in purchase planning processes.|  
|**Production Blocked**|You can't choose the item or variant on production orders. Also, you can't use the following actions:</br></br>* Post output in output journals or production journals.</br>* Refresh the production order.</br>* Replan the production order.</br>* Calculate subcontracts in the subcontracting worksheet skips the lines with blocked items or variants. |  

> [!NOTE]
> Customers can return blocked items, which means that these settings don't apply to return orders and credit memos.

When you use the **Copy from Document** action to create new documents based on existing documents, you're notified if items or variants on the source document lines are blocked. The blocked document lines are excluded from the new document, and a notification shows an overview of all document lines that are blocked in the source document.

## To block an item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Depending on what you want to do, select the item, and then turn on one or more of the following toggles:

    * **Sales Blocked**
    * **Service Blocked**
    * **Purchasing Blocked**  
3. To block the item from use in production output, fill in the **Production Blocked** field.

## To block an item variant  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Select the item that has a variant you want to block, choose **Variants**, and then select one or more of the following checkboxes:  

    * **Blocked**
    * **Sales Blocked**
    * **Service Blocked**
    * **Purchasing Blocked**  

3. To block the variant from use in production output, fill in the **Production Blocked** field.

## Related information  

[Register New Items](inventory-how-register-new-items.md)  
[Inventory](inventory-manage-inventory.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-order-repair-status
---
title: Set Up Statuses for Service Orders and Repairs | Microsoft Docs
description: You must set up nine repair status options that identify the progress of repair and maintenance of service items in service orders.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Statuses for Service Orders and Repairs

You must set up repair status options that identify the progress of repair and maintenance of service items in service orders. You must set up at least nine repair status options that identify situations or actions taken when servicing service items.  

You can set the priority level for service order status options. The four priorities are **High**, **Medium High**, **Medium Low**, and **Low**.  

When you change the repair status of a service item in a service order, the service order status is updated. The repair status of each service item is linked to the service order status. If the service items are linked to two or more service order status options, the service order status with the highest priority is selected.  

Before you can set up a repair status, you must set up service status priorities.

## To set up service status priorities

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Order Status**, and then choose the related link.  
2. Select the service order status you want to set a priority for.  
3. In the **Priority** field, choose the priority you want for this service order status.  

Repeat steps 2 and 3 until you have set the priority for each of the four status options: **Pending**, **In Process**, **Finished**, and **On Hold**.  

## To set up a repair status

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Repair Status**, and then choose the related link.
2. Create a new repair status.  
3. Fill in the **Code** and **Description** fields.  
4. In the **Service Order Status** field, choose the order status to link the repair status to. The **Priority** field displays the priority of the service order status you have chosen.  
5. Choose a repair status. You can choose only one. A repair status cannot be linked more than one repair status option.  
6. To be able to post service orders, including service items, with this repair status, choose the **Posting Allowed** field.  
7. To be able to manually change the service order status option to **Pending** in service orders including service items with this repair status, choose the **Pending Status Allowed** check box.  
8. Choose the **In Process Status Allowed**, **Finished Status Allowed**, and **On Hold Status Allowed** check boxes in the same way.

Repeat these steps for each of the repair status options you want to create.

## Related information

[Service Order Status and Repair Status](service-service-order-status-and-repair-status.md)  
[Setting Up Service Management](service-setup-service.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-setup-trail-codes
---
title: Set Up Codes for Audit Trails
description: Learn about the tasks to set up source codes and reason codes that you can use to track audit trails.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: accounting, auditing, bookkeeping
ms.search.form: 257, 259, 279
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Setting Up Source Codes and Reason Codes for Audit Trails

All posted entries are automatically assigned a source code so that transactions can be traced to their origin. If you want to give entries a supplementary source code, you can use reason codes. Reason codes are used to indicate why an entry was created. When you set up reason codes, you can assign them to entire journal templates and journal batches, and you can assign them to individual journal lines and documents.  

For both source codes and reason codes, use codes that are easy to remember and descriptive. The code must be unique, and you can set up as many codes as you like.

## Define source codes

Sometimes, you want see how a particular entry arose, such as whether it came from posting a general journal or a purchase invoice. A source code indicates where an entry was created. Entries are created when journals and invoices are posted and when certain batch jobs are executed. Each posting type has a specific source code that is assigned when individual entries are created.  

Posting journals, orders, invoices, or credit memos, and running various batch jobs, creates entries in the financial statements. The **Source Code Setup** page contains several FastTabs, one for each application area. Each FastTab contains the source codes that are applicable for that application area.

When you post or run a batch job, the correct source code is automatically attached to the entry. For example, when you post from the general journal, the entry is coded as *GENJNL*. You can then filter the **General Ledger Entries** page to show which entries were posted from the general journal or from sales documents, for example

### To define source codes

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Source Code Setup**, and then choose the related link.  

2. In the **Source Code Setup** window, for each each posting type and batch job, specify the relevant source code.  

You can change the contents of a field later, and that change will then impact future postings.

## Change source codes

You may want to change a source code. For example, you want to change the source code *GENJNL* to *GNJ*.

### To change source codes

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Source Codes**, and then choose the related link.

2. On the line with the code to be changed, select the code in the **Code** field.

3. Enter the new code, and then choose the **Yes** button. You can also change the contents of the **Description** field.

All new entries that are posted from the general journal will have the new source code.

## Define reason codes

Reason codes supplement the source codes and are used to indicate why an entry was created. You can assign reason codes on individual entries, and you can assign permanent codes to specific journal templates and journal batches. When a reason code is linked to a journal line or a sales or purchase header, all entries are marked with the reason code when they are posted.  

### To set up reason codes

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon")  icon, enter **Reason Codes**, and then choose the related link.

2. In the **Reason Codes** window, enter the first code in the **Code** field. In the **Description** field, enter an explanatory text.

Repeat the procedure for each code you want to use. You can set up any number of codes.

The following procedure describes how to add a reason code to a journal template, but similar steps apply to adding a reason code to a journal line or journal batch.  

### To assign reason codes to journal templates

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon")  icon, enter **General Journal Templates**, and then choose the related link.

2. On the line with the selected journal template, in the **Reason Code** field, specify the relevant code.

3. Close the journal template.

The selected reason code will be copied to new journal batches created under this journal template. You assign reason codes to journal templates in the other application areas in the same way.

### To use reason codes on sales and purchase documents

1. Open the relevant sales or purchase document.

2. On the sales or purchase header, enter the code in the **Reason Code** field.

When the invoice is posted, the reason code is copied to each general ledger, customer, and vendor entry. You cannot assign different reason codes to the individual purchase and sales lines because all lines are posted as one entry.

## Related information

[Finance](finance.md)  
[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Work with Dimensions](finance-dimensions.md)  
[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Analyzing Cash Flow in Your Company](finance-analyze-cash-flow.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-online-maps-setup
---
title: Set Up Online Maps
description: Learn how to configure Business Central to offer directions and location information with an online map service.
author: brentholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.search.form: 800, 804
ms.date: 07/15/2022
ms.author: bholtorf
ms.reviewer: bholtorf
---
# Set Up Online Maps

When you plan a visit to an address saved on a card, such as a customer, you can get a map from an online service with route directions described in the language you select. To make sure this online map service finds the right map and directions, you need to set it up in [!INCLUDE[prod_short](includes/prod_short.md)].

## Set up the online map feature

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Online Map Setup**,  then choose the related link.
2. On the **Online Map Setup** page, fill in the fields. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
3. Turn on the **Enabled** toggle.

### Customize the online map provider features

To customize the online map feature beyond the options listed on the **Online Map Setup** page, or to use a different map provider, follow these steps:

1. On the **Online Map Setup** page, choose the **Parameter Setup** action.
2. On the **Online Map Parameter Setup** page, choose the **New** action.
3. Fill in the fields to customize how [!INCLUDE[prod_short](includes/prod_short.md)] will generate the URLs for the available services. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
   * Refer to the **Online Map Substitution Parameter** list on the **FactBox** pane for the data available to generate URLs.

## Related information

[Use Online Maps to Find Locations and Directions](across-online-maps.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Administration](admin-setup-and-administration.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-working-with-powerbi
---
title: Working with Power BI reports in Business Central
description: Get insight, business intelligence, and KPIs from your Business Central data with Power BI using [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)].
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: account schedule, analysis, reporting, financial report, business intelligence, KPI
ms.date: 05/19/2025
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Work with [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports in [!INCLUDE [prod_short](includes/prod_short.md)]

This article helps you learn some of the basics about working with reports. Learn about viewing [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports in [!INCLUDE [prod_short](includes/prod_short.md)] (including scorecards and dashboards) and editing [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports that use [!INCLUDE [prod_short](includes/prod_short.md)] as a data source. The article discusses some aspects that help you get started as a [!INCLUDE[prod_short](includes/prod_short.md)] user. To learn more about general guidelines and instructions about using Power BI, go to [Power BI documentation for consumers](/power-bi/consumer).

## Overview

[!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports give you insight into your [!INCLUDE[prod_short](includes/prod_short.md)]. Various pages in [!INCLUDE [prod_short](includes/prod_short.md)] include a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports part that can display [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports. The role center is a typical page where you find a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports part. Some list pages, like **Items**, also include a Power BI part.

[!INCLUDE [prod_short](includes/prod_short.md)] works together with the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. Reports for displaying in [!INCLUDE [prod_short](includes/prod_short.md)] are stored in a [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. In [!INCLUDE [prod_short](includes/prod_short.md)], you can switch the report displayed in the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] part to any Power BI report available in your [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. The first time you sign into [!INCLUDE [prod_short](includes/prod_short.md)], and until you connect to a [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)], parts are empty, as shown here:

![Power BI part in Business Central.](./media/power-bi-part.png)

## Get started

> [!NOTE]
> [!INCLUDE [prod_short](includes/prod_short.md)] online is already set up to integrate with Power BI.

### Sign up Power BI

Before you can use Power BI with [!INCLUDE[prod_short](includes/prod_short.md)], you need to sign up for the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. If you didn't already sign up, go to [https://powerbi.microsoft.com](https://powerbi.microsoft.com). When you sign up, use your work email address and password.

After you have a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account, you can sign in at [https://powerbi.microsoft.com/](https://powerbi.microsoft.com/). Learn more in [Sign in to the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]](/power-bi/consumer/end-user-sign-in).

The [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)] hosts all the reports available to you. To show a report in your personal workspace, select **My Workspace**, and then **Reports**. Then, select the report that you want to view. If you have access to one or more shared Power BI workspaces, you can also show reports in those workspaces.

With [!INCLUDE[prod_short](includes/prod_short.md)] online, you automatically get a set of default reports on your workspace. If you want to create your own reports, you can use Power BI Desktop to create reports, and then publish them to your workspace. Learn more in [Getting Started Building Reports in Power BI Desktop to Display [!INCLUDE [prod_long](includes/prod_long.md)] Data](across-how-use-financials-data-source-powerbi.md).

[!INCLUDE[note-multicompany-reports](includes/note-multicompany-reports.md)]

## <a name="connect"></a>Connect to Power BI - one-time only

When you first sign into [!INCLUDE [prod_short](includes/prod_short.md)], an empty [!INCLUDE [powerbi-name](includes/powerbi-name.md)] part (as shown in the previous figure) is most likely available on various pages. The first thing to do is to connect to your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account. After you connect, you can access reports. You only have to do this step one time.

1. Select the **Get Started with Power BI** link in the **[!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports** part.
2. The **Set Up [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports in Business Central** assisted setup starts. Select **Next** to continue.
3. On the **Check your Power BI License** page, do one of the following steps:

    - If you didn't sign up for Power BI yet, select the [Go to Power BI homepage](https://powerbi.microsoft.com). Sign up for an account, then come back to [!INCLUDE[prod_short](includes/prod_short.md)] and finish the setup.

    - If you already have a license, select **Next**.
4. In the next page, [!INCLUDE[prod_short](includes/prod_short.md)] uploads a demo report to Power BI. This step takes a few minutes, so it runs in the background. To complete the setup, select **Next**, then **Finish**.

The connection process starts. During the process, [!INCLUDE [prod_short](includes/prod_short.md)] communicates with the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)] to determine if you have a valid [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account  and license. Once your license is verified, the default Power BI report displays on the page. If there a report isn't shown, you can select a report from the part.

> [!TIP]
> With [!INCLUDE [prod_short](includes/prod_short.md)] online, this step automatically uploads default [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports used in [!INCLUDE [prod_short](includes/prod_short.md)] to your Power BI workspace.

## <a name="apps"></a>Use Power BI apps 

[!INCLUDE [powerbi-apps-overview](includes/powerbi-apps-overview.md)]

[!INCLUDE [powerbi-apps-overview-table](includes/powerbi-apps-overview-table.md)]

The [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps are free to install and use. The only requirement is that users must have a paid Power BI license. To learn more, go to [Installing Power BI apps for Business Central](across-powerbi-install-business-central-apps.md).


<!--#### From [!INCLUDE [prod_short](includes/prod_short.md)] on-premises

Connecting to Power BI from [!INCLUDE [prod_short](includes/prod_short.md)] is similar to online. However, you might be prompted on the **MICROSOFT ENTRA SERVICE PERMISSIONS** page to grant access to [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]s. To grant access, select **Authorize Azure Services**, and then **Accept**.

Once connected, you can select a report from the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] part on pages.-->

## Work with [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports

### Get the latest data

Each Power BI report is based on a dataset that gets data from the [!INCLUDE[prod_short](includes/prod_short.md)] sources. You should make sure that the data in your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports is up to date with the data in [!INCLUDE[prod_short](includes/prod_short.md)]. This concept is referred to as *refreshing*. Depending on how your organization set-up Power BI, refreshing might not happen automatically. There are two ways to refresh data: manually or by scheduling a refresh. Manual refreshing is done on-demand. Scheduled refreshing lets you refresh automatically at defined time intervals.

#### Refresh manually

From Power BI online, in the navigation pane, under **Datasets**, select **More options (...)** next to the dataset, then select **Refresh now**.

#### Schedule a refresh

From Power BI online, in the navigation pane, under **Datasets**, select **More options (...)** next to the dataset, then select **Schedule refresh**. Fill in the information under the **Schedule refresh** section, and select **Apply**.

Learn more in [Configure scheduled refresh](/power-bi/connect-data/refresh-scheduled-refresh).

### Show reports on list pages

[!INCLUDE[prod_long](includes/prod_long.md)] includes a Power BI FactBox on several key list pages. This FactBox provides extra insight into the data in the list. As you move between rows in the list, the report is updated and filtered for the selected entry.

To learn more about how to create reports for list pages, go to [Creating [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports for Displaying List Data in [!INCLUDE[prod_short](includes/prod_short.md)]](across-how-use-powerbi-reports-factbox.md).

> [!TIP]
> If the Power BI FactBox isn't available, it might be hidden on your workspace by personalization. Select the ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center") icon, and then select **Personalize** action. Learn more in [Personalize Your Workspace](ui-personalization-user.md).
>
> Or, if you have an older version of [!INCLUDE [prod_short](includes/prod_short.md)], on the action bar, select **Actions**, then **Display**, and then **Show/Hide [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports**.

### Switch reports

A [!INCLUDE [powerbi-name](includes/powerbi-name.md)] part on a page can display any Power BI report that's available to you. To switch to view another report, choose the **Select Report** action from the drop-down command list at the top of the part.  

The **[!INCLUDE [powerbi-name](includes/powerbi-name.md)] Reports Selection** page shows a list of all the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports that you have access to. This list is retrieved from any of your own workspaces or workspaces that others shared with you in the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. Select the **Enable** box for each report that you want to display on the page, and then choose **OK**. You return to the page, and the last report you enabled appears. Using the drop-down command list, use the **Previous** and **Next** commands to navigate between reports.  

### Get more reports

If you don't have any reports on the **[!INCLUDE [powerbi-name](includes/powerbi-name.md)] Reports Selection** page, or can't find the report you want, choose **Get Reports**. This action lets you look for reports from two locations: *My Organization* or from *Services*.

- Select **My Organization** to go to the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]s. From here, you can view the reports within your organization that you have rights to view. You can then add them to your workspace.
- Select **Services** to go to Microsoft AppSource where you can install Power BI apps.  

> [!TIP]
> If you have Power BI Desktop, you can also create new [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports. Then, once those reports are published to your Power BI workspace, they appear on the **[!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports Selection** page.  

### Manage and modify reports

You can make changes to a report in the Power BI part. The changes that you make are then published to the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. If the report is shared with other users, they also experience the changes unless you save the changes to a new report.

To modify a report, choose the **Manage Report** action from the drop-down command list in the Power BI part. Then start making changes. Once you finish making changes, select **File** > **Save**. If it's a shared report, and you don't want to make the change for all users, select **Save As** to avoid making this change for all users.

When you return to the role center, the updated report appears. If you used **Save As**, you have to choose **Select Report**, and then enable the new report to see it.

> [!NOTE]
> This capability isn't available with [!INCLUDE [prod_short](includes/prod_short.md)] on-premises.

### <a name="upload"></a>Upload reports

[!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports can be distributed among users as .pbix files. If you have any .pbix files, you can upload and share them with all users of [!INCLUDE [prod_short](includes/prod_short.md)]. The reports are shared within each company in [!INCLUDE [prod_short](includes/prod_short.md)].  

To upload a report, select the **Upload Report** action from the drop-down command list on the **[!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports** part. Then, locate the .pbix file that defines the reports that you want to share. You can change the default name of the file.  

After the report uploads to your Power BI workspace, it automatically uploads to other users' Power BI workspaces.

> [!NOTE]
> Uploading a report through [!INCLUDE[prod_short](includes/prod_short.md)] requires that you have SUPER user permissions in [!INCLUDE[prod_short](includes/prod_short.md)]. You don't need any special permission to upload reports to your workspace through the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)].

## <a name="upload"></a>Upload reports from files

[!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports can be distributed among users as .pbix files. If you have a .pbix file, you can upload the file to a workspace. To upload a report, do the following steps:

1. In your new workspace, select **Get Data**.
1. In the Files box, select **Get**.

3. Select **Local File**, navigate to where you saved the file, and select **Open**.

Learn more in [Upload the report to the service](/power-bi/paginated-reports/paginated-reports-quickstart-aw#upload-the-report-to-the-service).

<!--
> [!NOTE]
> Uploading a report requires that you have a [Premium capacity](/power-bi/service-premium-what-is) work space. Learn more in [Managing Premium capacities](/power-bi/admin/service-premium-capacity-manage). -->

> [!TIP]
> If you're using [!INCLUDE[prod_short](includes/prod_short.md)] online, you can also upload a report from within [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more in [Work with [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports in [!INCLUDE [prod_short](includes/prod_short.md)] - Upload Reports](across-working-with-powerbi.md#upload).

## <a name="share"></a>Share reports with others

Once a report is in your workspace, you can share it with others in your organization.

To share a report, in a list reports, or in an open report, select **Share**. In the **Share report** pane, enter the full email addresses for individuals or distribution groups you want to share with. To complete the sharing, follow the on-screen instructions. Learn more in [Share a dashboard or report](/power-bi/collaborate-share/service-share-dashboards#share-a-dashboard-or-report).

> [!NOTE]
> Sharing requires that both you and the people you're sharing the report with have [Power BI Pro license](/power-bi/service-features-license-type). Otherwise, the content must be in [Premium capacity](/power-bi/service-premium-what-is). Learn more in [Ways to share your work in Power BI](/power-bi/service-how-to-collaborate-distribute-dashboards-reports).

## Fixing problems

However, if something goes wrong, this section provides a workaround for the most typical issues.  

### You don't have a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account 

A [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account isn't set up for you. To get a valid [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account, you must have a license, and you must have signed in to Power BI before to create a Power BI workspace.

### Message: There are no enabled reports. Choose Select Report to see a list of reports that you can display.

This message appears if the default report failed to deploy to your Power BI workspace. Or it deployed but didn't refresh successfully. Navigate to the report in your Power BI workspace, select **Dataset**, **Settings**, and then manually update the credentials. Once the dataset successfully refreshes, navigate back to [!INCLUDE[prod_short](includes/prod_short.md)], and manually select the report from the **Select Reports** page.

#### You can't see a report on the Select Report page on a list page

It's probably because the report's name doesn't contain the name of the list page. Clear the filter to get a full list of [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports available.

## Related information

[Business Central and Power BI](admin-powerbi.md)  
[Building [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports to Display [!INCLUDE [prod_long](includes/prod_long.md)] Data](across-how-use-financials-data-source-powerbi.md)  
[Power BI Integration Component and Architecture Overview for [!INCLUDE[prod_short](includes/prod_short.md)]](admin-powerbi-overview.md)  
[Connect to Power BI from [!INCLUDE [prod_short](includes/prod_short.md)] on-premises](across-working-with-business-central-in-powerbi.md)  
[Power BI for consumers](/power-bi/consumer/end-user-consumer)  
[The 'new look' of the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]](/power-bi/service-new-look)  
[Quickstart: Connect to data in Power BI Desktop](/power-bi/desktop-quickstart-connect-to-data)  
[Power BI documentation](/power-bi/)  
[Business Intelligence](bi.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Setting Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md)  
[Use [!INCLUDE[prod_short](includes/prod_short.md)] as a Power BI Data Source](across-how-use-financials-data-source-powerapps.md)  
[Use [!INCLUDE[prod_short](includes/prod_short.md)] as a Power Apps Data Source](across-how-use-financials-data-source-powerapps.md)  
[Use [!INCLUDE[prod_short](includes/prod_short.md)] in Power Automate](across-how-use-financials-data-source-flow.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-post-capacities
---
title: Post Capacities
description: Post consumed capacities that are not assigned to the production order in the capacity journal and view posted capacities on the capacity ledger entries page. 
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 5832, 99000802, 99000820
ms.date: 03/08/2023
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Post Capacities

In the capacity journal, you post consumed capacities that are not assigned to the production order. For example, maintenance work must be assigned to capacity, but not to a production order.  

## To post capacities  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Capacity Journals**, and then choose the related link.  
2. Fill in the **Posting Date** and **Document No.** fields.  
3. In the **Type** field, enter the type of the capacity, either **Machine Center** or **Work Center**, that you are posting.  
4. In the **No.** field, enter the number of the machine center or work center.  
5. Enter the relevant data in the other fields, such as **Starting Time**, **Ending Time**, **Quantity**, and **Scrap**.  
6. Choose the **Post** action to post the capacities.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

## To view work center ledger entries  

In the **Work Center Card** and **Machine Center Card** pages, you can view the posted capacities as a result of finished production orders.    
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Work Centers**, and then choose the related link.  
2. Open the relevant **Work Center** card from the list, and then choose the **Capacity Ledger Entries** action.  

    The **Capacity Ledger Entries** page displays the posted entries from the work center in the order they were posted.   

## Related information  

[Manufacturing](production-manage-manufacturing.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/check-purchase-amounts
---
title: Check amounts on purchase invoices and credit memos
description: You can verify that the total amount on purchase invoices and credit memos equals the total amounts, including VAT, on the lines.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords:
ms.date: 03/14/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Check amounts on purchase invoices and credit memos

> [!NOTE]
> Businesses around the world can benefit from this functionality, so in 2025 release wave 1 we moved it out of the Dutch version and made it available to everyone.

Before posting a purchase invoice or credit memo, [!INCLUDE [prod_short](includes/prod_short.md)] checks whether the amount including VAT and the VAT amount on the document equals the total amount on the purchase lines. This check requires that you fill in the **Doc. Amount Incl. VAT** and **Doc. Amount VAT** fields on the purchase invoice or credit memo.  

When the document has only one purchase line, or all lines are subject to the same VAT percentage, [!INCLUDE [prod_short](includes/prod_short.md)] calculates the value in the **Doc. Amount VAT** field when you add purchase lines and fill in the **Doc. Amount Incl. VAT** field. If there are several lines with different VAT percentages, you must manually enter the value in the **Doc. Amount VAT** field.  

By default, [!INCLUDE [prod_short](includes/prod_short.md)] checks the total amounts. If you prefer that it doesn't, you can turn off the **Check Doc. Total Amounts** toggle on the **Purchases & Payables Setup** page.  

If the total amount on the document differs from the total amount of its lines, you can add a few values to the page that can help you find out why. You can add the total amount, total base amount, total VAT amount, and total amount including VAT values. The values display at the bottom of the document. To avoid clutter on the page during daily work, these values are hidden. To add these values to the document, turn on the **Show Totals on Purch. Inv.-CM.** toggle on the **Purchases & Payables Setup** page.  

> [!NOTE]  
> If you turn on this feature, [!INCLUDE [prod_short](includes/prod_short.md)] recalculates totals on all purchase invoices and credit memos which, depending on the number of documents, might take some time.
>
> You can't turn on this feature if you have purchase invoices or credit memos that don't have lines, or where a quantity isn't specified on the lines.  

## Related information
  
[Set Up Validation of Purchase Amounts](how-to-set-up-validation-of-purchase-amounts.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-vat-group
---
title: The VAT Group Management extension for the United Kingdom
description: You can engage with other businesses to form a VAT group where all members report VAT in a single return.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: VAT, value added tax, report
ms.search.form: 4700, 4701, 4703, 4704, 4705, 4706, 4707, 4708, 4709, 
ms.date: 06/03/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# The VAT Group Management extension for the United Kingdom

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

You can connect one or more businesses in the United Kingdom to combine value-added tax (VAT) reporting under a single registration number. This type of arrangement is known as a *VAT group*. You can engage with the group as a member or as the group representative.

## Forming a VAT group

VAT group members and the group representative can use the **Set Up VAT Group Management** assisted setup guide to both define their engagement with the group and create a connection between their [!INCLUDE[prod_short](includes/prod_short.md)] tenants. The group members use this connection to submit their VAT returns to the group representative. The group representative then uses a single VAT return to submit the group's VAT to tax authorities.

[!INCLUDE[prod_short](includes/prod_short.md)] supports intra-group VAT return submissions for companies using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises or online, in any combination, which influences the communication setup between businesses. This article describes various group setups.

### License requirements

Participants in the group must be licensed to use [!INCLUDE[prod_short](includes/prod_short.md)]. You can't use guest accounts in VAT groups.

* To calculate and submit VAT returns, a user must be a full [!INCLUDE[prod_short](includes/prod_short.md)] user.
* To sign in and do basic tasks, such as create accounts, you need a [!INCLUDE[prod_long](includes/prod_long.md)] Team Member license.

## Set up a VAT group

The following is the recommended order of steps an administrator uses to set up a VAT group:

1. Create the setup in [Microsoft Entra ID setup for group members](#microsoft-entra-id-setup-for-group-members).
2. Share the technical information VAT group members and the group representative need to connect their [!INCLUDE[prod_short](includes/prod_short.md)] tenants. Usually, the group representative has this information, such as the [API URL](#group-api-setup) and the name of the VAT group representative's environment the VAT group members submit their VAT data to.
3. Create users that VAT group members use to authenticate when they connect to the VAT group representative's [!INCLUDE[prod_short](includes/prod_short.md)]. The users must have full user licenses for [!INCLUDE[prod_short](includes/prod_short.md)].
4. Run the **Set Up VAT Group Management** assisted setup guide to connect the VAT group members.

   The VAT group representative must supply certain information to group members to complete their setup. (Learn more in the [Set up VAT group members](#set-up-vat-group-members) section below.) Make a note of the **Group Member ID** for each VAT group member. The group representative needs these IDs to add the companies to the VAT group.
5. Set up the VAT group management extension in the VAT group representative's [!INCLUDE[prod_short](includes/prod_short.md)] using the **Set Up VAT Group Management** assisted setup guide.

> [!NOTE]
> To connect to the VAT group representative, group members must have a user account that can access the VAT group representative's [!INCLUDE[prod_short](includes/prod_short.md)]. The VAT group representative must create at least one user for this. However, for security reasons we recommended that they create a user for each VAT group member, which can be a system user account that is not related to an actual person. Make sure to distribute the user credentials to VAT group members in a secure way.

### Microsoft Entra ID setup for group members

When the VAT group representative is using [!INCLUDE[prod_short](includes/prod_short.md)] online or on-premises, VAT group members must use Microsoft Entra ID to authenticate users when they submit VAT returns to the VAT group representative. For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, members must configure single sign-on. Learn more at [Configure Microsoft Entra authentication with WS-Federation](/dynamics365/business-central/dev-itpro/administration/authenticating-users-with-azure-active-directory?tabs=singletenant%2Cadmintool).

If the VAT group members are also using [!INCLUDE[prod_short](includes/prod_short.md)] online, the member can authenticate with the designated user credentials and the sign-in information provided by the group representative. Learn more in the [Set up VAT group members](#set-up-vat-group-members) section below.

VAT group members who have [!INCLUDE[prod_short](includes/prod_short.md)] on-premises must set up an app registration in Microsoft Entra ID for the VAT group representative's [!INCLUDE[prod_short](includes/prod_short.md)] tenant. The app registration enables the VAT group representative's [!INCLUDE[prod_short](includes/prod_short.md)] online to authenticate the group member. Learn more at [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app).

When the VAT group member's administrator creates the app registration in Microsoft Entra ID, they must specify the following information.

* In the **Authentication** section, add **Web** as a platform, and use the following **Redirect URL**: `https://businesscentral.dynamics.com/OAuthLanding.htm`.
* In the **Authentication** section, in the option to select **Supported account types**, select **Accounts in any organizational directory (Any Microsoft Entra directory - Multitenant)**.
* In the **Certificates & secrets** section, create a new client secret and note the value. The VAT group members need the secret when they set up the connection to the group representative.
* In the **API permissions** section, add permissions to [!INCLUDE[prod_short](includes/prod_short.md)]. Enable delegated access to **Financials.ReadWrite.All** and **user_impersonation**.
* In the **Overview** section, note the **Application (client) ID**. The VAT group members need the ID when they set up the connection to the group representative.

### Group API setup

The VAT group representative creates and supplies an API to group members. The members use this API to connect to the representative's [!INCLUDE[prod_short](includes/prod_short.md)] tenant and submit VAT returns. VAT group members often use [!INCLUDE[prod_short](includes/prod_short.md)] in separate Microsoft Entra tenants. For that reason, setup is needed to connect the VAT group member and the representative's [!INCLUDE[prod_short](includes/prod_short.md)].

> [!NOTE]
> This setup requires credentials for an administrator account that has a full user license for [!INCLUDE[prod_short](includes/prod_short.md)].

1. In the Business Central admin center for the representative's tenant, choose the **Environments** tab.
1. Choose the representative's environment.
1. In the **Details** section, copy the **URL**.
1. Open Notepad, and paste the URL. Replace `https://businesscentral.dynamics.com` with `https://api.businesscentral.dynamics.com/v2.0`.

## Set up VAT group members

VAT group members connect to the representative by calling a web service on the VAT group representative's tenant. The caller must be authenticated using OAuth2. When the VAT group management extension is set up, members are asked to authenticate to the VAT group representative, during which an access token is generated and saved. This access token is used when submitting VAT returns to the VAT group representative.

> [!IMPORTANT]
> The member companies in the VAT group do not need to connect to HMRC because they report through the group's representative.

Before VAT group members start their setup (listed below), they need to contact the VAT group representative for the following information about their [!INCLUDE[prod_short](includes/prod_short.md)] tenant:

* The API URL
* The name of their company
* Sign in credentials for the dedicated user

1. In the top right corner, choose the **Settings** ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center") icon, then choose the **Assisted setup** action.
2. Choose the **Set Up VAT Group Management** action.
3. In the **VAT Group Role** field, choose **Member** then **Next**.
4. Copy the value of the **Group Member ID** field, and then share it with the VAT group representative so they can add your company as an approved member of the group.
5. In the **Group Representative Product Version** field, specify the version of [!INCLUDE[prod_short](includes/prod_short.md)] the representative is using.
6. In the **API URL** field, enter the API URL provided by the VAT group representative. Typically, the URL is formatted as follows: `https://api.businesscentral.dynamics.com/v2.0/[TENANT-ID]/[ENVIRONMENTNAME]`. For example, `https://api.businesscentral.dynamics.com/v2.0/aaaabbbb-0000-cccc-1111-dddd2222eeee/UKRepresentative`.
7. In the **Group Representative Company** field, enter the company name of the VAT group representative, such as, **CRONUS UK Ltd**.
8. In the **Authentication Type** field, choose **OAuth2**. If the VAT group representative is using [!INCLUDE[prod_short](includes/prod_short.md)] online, enable the **Group Representative Uses Business Central Online** toggle, and then choose **Next**.

   Then, follow the steps in either the [VAT Group Representative uses Business Central online](ui-extensions-vat-group.md#vat-group-representative-uses-business-central-online) or [VAT Group Representative uses Business Central on-premises](ui-extensions-vat-group.md#vat-group-representative-uses-business-central-on-premises) section below.

### VAT group representative uses Business Central online

1. Enter the user credentials provided by the VAT group representative, and add the required permissions to generate the access token.
2. Choose the VAT report configuration you use to submit VAT returns to the UK tax authorities. 

After you complete the setup, [!INCLUDE[prod_short](includes/prod_short.md)] will create a new configuration based on this choice that enables you to submit VAT returns to the VAT group representative.

### VAT group representative uses Business Central on-premises

1. Enter the user credentials provided by the VAT group representative and choose **Next**.
2. In the **Client ID** field, specify the client ID from the app registration in [Microsoft Entra ID setup for group members](#microsoft-entra-id-setup-for-group-members).
3. In the **Client Secret** field, specify the client secret from the app registration in Microsoft Entra ID.
4. In the **OAuth 2.0 Authority Endpoint** field, enter `https://login.microsoftonline.com/common/oauth2`.
5. In the **OAuth 2.0 Resource URL** field, enter `https://api.businesscentral.dynamics.com/`.
6. In the **OAuth 2.0 Redirect URL** field, enter `https://businesscentral.dynamics.com/OAuthLanding.htm`.
7. When you've specified the various fields, choose **Next**, and then confirm the authentication connection to generate the access token.
8. Choose the VAT report configuration you use to submit VAT returns to the UK tax authorities.

## Set up the VAT group representative

> [!NOTE]
> For on-premises, [!INCLUDE[prod_short](includes/prod_short.md)] supports only a single tenant instance of the group representative.

> [!IMPORTANT]
> The representative company must enable the **HMRC VAT Setup** service connection on the **Service Connections** page. Representatives must also download VAT return periods from HMRC.

1. In the top right corner, choose the **Settings** icon ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center"), and then choose the **Assisted setup** action.
2. Choose the **Set Up VAT Group Management** action.
3. In the **VAT Group Role** field, choose **Representative** to act as the VAT group representative, then choose **Next**.
4. In the **Group Settlement Account** field, specify the settlement account used for the group member VAT tax amounts. This account should have **Assets** as the **Account Category**.
5. In the **VAT Settlement Account** field, specify the account you use for VAT settlements. This account should have **Liabilities** as the **Account Category**.
6. In the **VAT Due Box No.** field, specify the box that represents the total VAT amount due from a VAT group submission.
7. In the **Group Settlement General Journal Template** field, specify the general journal template used to create the document with which the group representative posts the group VAT to the settlement account.
8. The **Approved Members** field shows the number of group members set up to submit VAT returns to the group representative. To add new members, choose the number to open the **VAT Group Approved Members** page and add the following information:
    1. In the **Group Member ID** field, enter an identifier for the group member, as displayed during the group member setup (learn more in the [VAT group member setup](#set-up-vat-group-members) section above).
    2. In the **Group Member Name** field, specify the name of the group member.
    3. In the **Company** field, specify the company from which the group member submits VAT returns in [!INCLUDE[prod_short](includes/prod_short.md)], such as, **CRONUS UK Ltd**.
    4. Specify contact details for the company.

## Use the VAT group management features

VAT group members use the standard processes to prepare VAT returns. The only difference is members must choose the **VATGROUP** report version in the **VAT Return** page to submit the VAT return to the VAT group representative rather than the authorities. Learn more at [About the VAT Return report](finance-how-report-vat.md#vatreturn).

> [!NOTE]
> VAT group members can correct submitted VAT returns as long as the group representative has not released the VAT return for the group. To make a correction, the VAT group member must create a new VAT return for the VAT return period and submit it to the VAT group representative. On the VAT group representative's side, the member's latest VAT return replaces the previous and is included on the **VAT Returns** page.

The following sections describe the tasks that VAT group representatives must do to file the group VAT return.

### Review VAT member submissions

The **VAT Group Submissions** page lists the VAT returns that members have submitted. The page serves as a draft location for the submissions until the VAT group representative includes them in a VAT return for the group. The representative can open the submissions to review the individual boxes containing the amount reported by each VAT group member.

> [!TIP]
> On the **VAT Return Periods** page, the **Group Member Submissions** field shows how many returns members have submitted. To ensure that this number is up to date, choose the **Get VAT Returns** action.

### Create a group VAT return

To report VAT for the group, on the **VAT Returns** page, create a VAT return for your company only. Afterward, include the most recent VAT submissions from VAT group members by choosing the **Include Group VAT** action.  

When the group representative has submitted the group's VAT return to the authorities, the representative then normally runs the **Calculate and Post VAT Settlement** action. This action closes open VAT Entries and transfers amounts to the VAT settlement account. Currently, this action doesn't take the group submissions into account. Only the VAT entries of the VAT group representative company are posted. The VAT group member submission amounts must be posted using the **Post Group VAT Settlement** action.

> [!IMPORTANT]
> The VAT group functionality is only supported in those markets where [!INCLUDE[prod_short](includes/prod_short.md)] uses a VAT framework that consists of VAT returns and VAT return periods. You cannot use VAT groups in markets with other implementations of local VAT reporting, such as Austria, Germany, Italy, Spain, and Switzerland.

## Issue with enabling Multifactor Authentication (MFA)

If you get an error message related to authorization during the renewal of the **OAuth2 Token** on the **VAT Report Setup** page after you enable MFA, complete the following steps.  

1. Sign in to the **Azure Portal** as an Authentication Administrator.  
2. Go to the **Microsoft Entra ID**.   
3. Browse to **Users**, and then select the user you want to perform an action.  
4. Select the **Authentication methods** and at the top of the page, select **Require re-register multifactor authentication**. 
5. Go back to Dynamics 365 Business Central and select to renew the token from the **VAT Report Setup**.  

This should be a onetime setup after you enable multifactor authentication for the user selected in **VAT Report Setup**.  

## Related information

[United Kingdom Local Functionality in the British Version](LocalFunctionality/unitedkingdom/united-kingdom-local-functionality.md)  
[Making Tax Digital in the United Kingdom](LocalFunctionality/UnitedKingdom/making-tax-digital-submit-vat-return.md)  
[Work with VAT on Sales and Purchases](finance-work-with-vat.md)  
[Set Up Value-Added Tax](finance-setup-vat.md)  
[Work with VAT on Sales and Purchases](finance-work-with-vat.md)  
[Consolidating Financial Data from Multiple Companies](finance-consolidated-company-reporting.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-balance-sheet
---
title: Balance Sheet by Month
description: The Balance Sheet by Month report provides a month-to-month view of the balance at date for all balance sheet accounts. 
author: kennienp
ms.author: kepontop
ms.reviewer:
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36986_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Balance Sheet by Month (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Balance Sheet by Month** report provides a detailed, month-to-month view of the balance sheet accounts' balance at date. The report is organized in a hierarchy for intuitive navigation with summarized totals. Drill through to the **Balance Sheet Drill-Through** page to explore the underlying ledger entries that make up the value for a month.

:::image type="content" source="media/finance/balance-sheet-by-month-report.png" alt-text="Screenshot of the Balance Sheet by Month report" lightbox="media/finance/balance-sheet-by-month-report.png":::

## Use the report

Executives or senior leaders can use the report to make informed decision about the company's financial health. You can effectively manage liquidity by comparing current assets to liabilities and ensure you can meet your short-term obligations. It also provides insights into debt levels relative to equity, which helps you make clearer decisions about your financing and capital structure.

## Key Performance Indicators (KPIs)

The report includes the following KPIs and measures: 

- [**Balance at Date**](finance-powerbi-kpis.md#balance-at-date)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- G/L Entry
- G/L Account

## Try the report

Try the report here: [Balance Sheet by Month](https://businesscentral.dynamics.com?page=36986)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/manufacturing-powerbi-prod-order-routing-gantt
---
title: Prod.Order Routing Gantt
description: Learn how to benefit from using the Prod. Order Routing Gantt report.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
# TODO correct page id must be added
# ms.search.form: 37042_Primary 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Prod. Order Routing Gantt (Power BI Report)

[!INCLUDE[applies-to-2025w1](includes/applies-to-2025w1.md)]

The **Prod. Order Routings Gantt** report provides an overview of production processes, combining visual and tabular formats to enhance understanding. The report helps you monitor and analyze production tasks, offering insights into scheduling, durations, and task locations.

:::image type="content" source="media/manufacturing/prod-order-routing-gantt-v26.png" alt-text="Screenshot of the Prod Order Routing Gantt Power BI Report" lightbox="media/manufacturing/prod-order-routing-gantt-v26.png":::

The **Production Time Line (Gantt Chart Visual)** visualization provides a Gantt chart representation of production processes, enabling you to effectively monitor and analyze tasks within production orders. Key features of this visualization include:

1. **Hierarchy:**  
   - *Parent:* Production orders serve as the primary grouping level.  
   - *Nested Tasks:* Routing line descriptions represent individual tasks in the process.  

2. **Timeline Configuration:**  
   - By default, the timeline displays at a daily level.  
   - Non-working days are highlighted in red for improved clarity.  

3. **Task Duration:**  
   - Task durations calculate based on the routing line's starting and ending date-time values.  

4. **Task Bar Representation:**  
   - The color of the task bars differentiates between routing through machine centers and work centers.  
   - Within each bar, the name of the machine center or work center displays, providing added context about where the task is done.  

The **Routing Line Details** table is a tabular representation of production and routing data. It includes essential information such as the **Production Order No.** and the **Operations No.** which specifies individual operations within the process. The table also highlights the **Work Center/Machine Center No.**, identifying the location associated with each routing line task. Additionally, the table displays the **Starting Date Time** and **Ending Date Time**, outlining the scheduled start and completion times for tasks. The date times are used to calculate the **Total Duration Hours**, showing the time taken to execute tasks in hours, and the **Duration Total Days**, which represents the task duration in days for an alternative perspective. Together, these details ensure you have a clear and structured view of production processes.

## Use the report

Manufacturing Managers use the report to gain an overview of production scheduling and routing processes. The **Production Time Line** Gantt chart helps you monitor task durations and sequencing. The bar colors and contextual information on machine centers or work centers allow you to quickly identify resource usage and task assignments. Paired with the **Routing Line Details** table, you can analyze production timelines, evaluate task completion dates, and compare actual durations with planned expectations. These details help you detect delays, optimize schedules, and ensure you allocate resources effectively across work centers and machine centers.  

Production supervisors rely on the report to manage day-to-day production tasks and maintain operational efficiency. The Gantt chart shows production order tasks so that you can easily track which operations are occurring at what locations and for how long. The red-marked non-working days help you identify gaps or conflicts in scheduling and address potential bottlenecks. Meanwhile, the **Routing Line Details** table provides starting and ending date times with total task durations by day and by hours. Together, the Gantt visual and tabular components of the report support effective coordination for smooth production workflows.  

## Key performance indicators (KPIs)

The Prod. Order Routing Gantt report includes the following KPIs and measures:

- [Total Duration Hours](manufacturing-powerbi-kpis.md#total-duration-hours)
- [Total Duration Days](manufacturing-powerbi-kpis.md#total-duration-days)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)]

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Prod. Order Routing Line
- Production Order
  
## Try the report

Try the report here: [Prod. Order Routing Gantt](https://businesscentral.dynamics.com?page=)<!-- TODO Set page ID for link -->

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Manufacturing app](manufacturing-powerbi-app.md)  
[Built-in production reports](production-reports.md)  
[Manufacturing overview](production-manage-manufacturing.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-work-with-vat
---
title: How to work with VAT on sales and purchases
description: This article describes the various ways of working with VAT both manually and with automatic setup, to help you meet country/region specific regulations.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: VAT, sales, purchases
ms.search.form: 7, 118, 130, 142, 459, 460, 525
ms.date: 05/29/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Work with VAT on sales and purchases

If your country or region requires you to calculate and report value-added tax (VAT) on sales and purchase transactions, you can set up [!INCLUDE[prod_short](includes/prod_short.md)] to calculate VAT. For more information, see [Setting Up to Calculations and Posting Methods for Value-Added Tax](finance-setup-vat.md).

There are, however, some VAT-related tasks that you can do manually. For example, you might need to correct a posted amount if you discover that a vendor uses a different rounding method.  

> [!TIP]
> You can let [!INCLUDE[prod_short](includes/prod_short.md)] validate VAT registration numbers and other company information when you create or update documents. For more information, see [Validate VAT Registration Numbers](finance-how-validate-vat-registration-number.md).

## Calculating and displaying VAT amounts on sales and purchase documents  

When you choose an item number in the **No.** field on a sales or purchase document, [!INCLUDE[prod_short](includes/prod_short.md)] fills in the **Unit Price** and **Line Amount** fields. The unit price comes from either the **Item** card or the item prices allowed for the item and customer. [!INCLUDE[prod_short](includes/prod_short.md)] calculates the line amount when you enter a quantity for the line.  

If you want the unit prices and line amounts to include VAT, for example, if you sell to retail consumers, choose the **Prices Including VAT** check box on the document. For more information, see [Including or Excluding VAT in Prices and Line Amounts](#including-or-excluding-vat-in-prices-and-line-amounts). 

You can calculate and display VAT amounts in sales and purchase documents differently. The difference depends on the type of customer or vendor you're dealing with. You can also change the calculated VAT amount manually, for example, so that it matches the VAT amount calculated by your vendor on a given transaction.

### Including or excluding VAT in prices and line amounts

If you choose the **Prices Including VAT** checkbox on a sales document, the **Unit Price** and **Line Amount** fields include VAT. By default, the values in these fields don't include VAT. The names of the fields reflect whether prices include VAT.  

You can set up the default setting of the **Prices Including VAT** for all sales documents for a customer in the **Prices Including VAT** field on the **Customer** card. You can also set up item prices to include or exclude VAT. Typically, prices on the Item Card exclude VAT.

The following table provides an overview of how the application calculates the unit price amounts for a sales document when prices aren't set up on the **Sales Prices** page:  

|**Price Includes VAT field on Item Card**|**Prices Including VAT field**|**Action Performed**|  
|-----------------------------------------------|----------------------------------------------------|--------------------------|  
|Not Enabled|Not Enabled|The **Unit Price** on the Item Card is copied to **Unit Price Excl. VAT** field on the sales lines.|  
|Not Enabled|Enabled|The application calculates the VAT amount per unit and adds to the **Unit Price** on the Item Card. This total unit price is then entered in the **Unit Price Incl. VAT field** on the sales lines.|  
|Enabled|Not Enabled|The application calculates the VAT amount included in the **Unit Price** field on the **Item Card** using the VAT percentage related to the VAT Bus. Posting Gr. (Price) and the VAT Prod. Posting Group combination. The **Unit Price** on the Item Card, reduced by the VAT amount, is then entered in the **Unit Price Excl. VAT** field in the sales lines. For more information, see [Using VAT Business Posting Groups and Customer Price Groups](finance-work-with-vat.md#using-vat-business-posting-groups-and-customer-price-groups).|  
|Enabled|Enabled|The **Unit Price** on the Item Card is copied to **Unit Price Incl. VAT** field on the sales lines.|

#### Using VAT business posting groups and customer price groups 

If you want prices to include VAT, you can use VAT business posting groups to calculate the amount based on the VAT posting setup for the group. For more information, see [Set up VAT business posting groups](finance-setup-vat.md#set-up-vat-business-posting-groups).

Depending on what you want to do, you can assign a VAT business posting group to customers or sales documents in the following ways:

* To use the same VAT rate for all customers, you can choose a group in the **VAT Business Posting Group (Price)** field on the **Sales & Receivables Setup** page.
* To use a VAT rate for a specific customer, you can choose a group in the **VAT Business Posting Group (Price)** field on the **Customer Card** page. 
* To use a VAT rate for a specific of customers, you can choose a group in the **VAT Business Posting Group (Price)** field on the **Customer Price Group** page. For example, this setting is useful when you want a price to apply to all customers in a certain geographical region or a specific industry.
* On all sales documents, in the **VAT Business Posting Group** field. The VAT amount specified for the group is used only for the document you're currently working on.

> [!NOTE]
> If you do not specify a group in the **VAT Business Posting Group (Price)** field VAT will not be included in prices.

#### Examples

Factors such as the country or region you're selling in, or the type of industries you sell to, can affect the amount of VAT that you must account for. For example, a restaurant might charge 6% VAT for meals that are eaten in-house, and 17% for takeaway. To accomplish that, you create a VAT business posting group (price) for in-house and one for takeaway.

## Working with VAT Date

### VAT Date in documents

When you create new sales or purchase documents, the **VAT Date** is based on the setting in the **Default VAT Date** field on the **General Ledger Setup** page. This default value can be the same as **Posting Date** or **Document Date**. If you need a different VAT date, you can manually change the value in the **VAT Date** field. When you post the document, the **VAT Date** is shown on the posting document and on the VAT and G/L entries.

> [!NOTE]
> If the **VAT Date** field isn't available on your documents or journals, that means that **Do not use VAT Date functionality** is chosen in the **VAT Date Usage** field on the **General Ledger Setup** page.  

> [!IMPORTANT]
> If you configure **Control VAT Period** in the **General Ledger Setup** as **Block posting within closed period**, or **Block posting within closed and warn for released period**, you can post document or journal only if the date in the **VAT Date** field is not in a closed period in **VAT Return Periods**. Even if the period in **VAT Return Periods** is open, you might get a warning based on the **VAT Return Status** and configuration in the **Control VAT Period**.

> [!IMPORTANT]
> Starting in version 23.1, you can prevent or allow posting of the **VAT Date** for specific data range, using the **Allow VAT Date From** and **Allow VAT Date To** fields in the **VAT Setup** and the **User Setup**. If you are using older versions, you can prevent or allow posting of the **VAT Date** for specific data range, using the **Allow Posting From** and **Allow Posting To** fields in the **General Ledger Setup** and the **User Setup**.  

> [!NOTE]
> If you leave the **VAT Date** blank, [!INCLUDE [prod_short](includes/prod_short.md)] will use your default setup from **Default VAT Date** in the **General Ledger Setup** as a **VAT Date** in the posted transaction.  

### Modifying the VAT Date in posted entries

If needed, you can change the VAT date posted documents. To change the date in the **VAT Date** field for posted documents, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Entries**, and then choose the related link. 
2. Find the entry with wrong VAT date.  
3. Choose the **Edit list** action, and then enter the correct date in the **VAT Date** field.  
4. When you close the page, the VAT date changes in related **G/L Entries** and in the posted document.  

> [!NOTE]
> You can change the **VAT Date** field in **VAT Entries** only if your current date is not in a closed VAT return period. Even if the period in the **VAT Return Periods** field is open, you might get a warning based on the **VAT Return Status**.  

> [!NOTE]
> If your document has more than one **VAT Entry**, you only need to change the value in the **VAT Date** field in one entry related to the document. To keep entries consistent, [!INCLUDE[prod_short](includes/prod_short.md)] automatically changes the VAT date in VAT entries related to this transaction. [!INCLUDE [prod_short](includes/prod_short.md)] will update the **VAT Date** in other tables (GL Entries and documents), but only related to this transaction.  

## Correcting VAT amounts manually on sales and purchase documents  

You can make corrections to posted VAT entries so that you can change the total sales or purchase VAT amounts without changing the VAT base. For example, if you receive an invoice from a vendor with an incorrect VAT amount.  

Although you might have one or more combinations set up to handle import VAT, you must set up at least one VAT product posting group. For example, you can name it **CORRECT** for correction purposes, unless you can use the same general ledger account in the **Purchase VAT Account** field on the VAT posting setup line. For more information, see [Setting Up to Calculations and Posting Methods for Value-Added Tax](finance-setup-vat.md).

If a payment discount was calculated based on an invoice amount that includes VAT, you revert the payment discount part of the VAT amount when you grant the payment discount. You must activate the **Adjust for Payments Disc.** field in both the general ledger setup in general and the VAT posting setup for specific combinations of a VAT business posting group and a VAT product posting group.  

### To set the system up for manual VAT entry in sales documents

To enable manual VAT changes on sales documents, follow these steps. The steps are similar on the **Purchases & Payables Setup** page.

1. On the **General Ledger Setup** page, specify a **Max. VAT Difference Allowed** between the amount calculated by application and the manual amount.  
2. On the **Sales & Receivables Setup** page, turn on the **Allow Vat Difference** toggle.  

### To adjust VAT for a sales document

1. Open the relevant sales order.  
2. Choose the **Statistics** action.  
3. On the **Invoicing** FastTab, choose the value in the **No. of Tax Lines** field.
4. Edit the **VAT Amount** field.   

> [!NOTE]  
> The total VAT amount for the invoice, grouped by VAT identifier, is displayed in the lines. You can manually adjust the amount in the **VAT Amount** field on the lines for each VAT identifier. When you modify the **VAT Amount** field, application checks to ensure that you have not changed the VAT by more than the amount you have specified as the maximum difference allowed. If the amount is outside the range of the **Max. VAT Difference Allowed**, a warning will be displayed stating the maximum allowed difference. You will be unable to proceed until the amount is adjusted to within the acceptable parameters. Click **OK** and enter another **VAT Amount** that is within the allowed range. If the VAT difference is equal to or lower than the maximum allowed, the VAT will be divided proportionally among the document lines that have the same VAT identifier.  

## Calculating VAT manually using journals  

You can also adjust VAT amounts in general, sales, and purchase journals. For example, you might need an adjustment if you enter a vendor invoice in your journal and the VAT amount that [!INCLUDE[prod_short](includes/prod_short.md)] calculated and the VAT amount on the vendor's invoice differ.  

### To set the system up for manual VAT entry in general journals

You must perform the following steps before you manually enter VAT in a general journal.  

1. On the **General Ledger Setup** page, specify a **Max. VAT Difference Allowed** between the amount calculated by application and the manual amount.  
2. On the **General Journal Templates** page, choose the **Allow VAT Difference** check box for the relevant journal.  

### To set the system up for manual VAT entry in a sales and purchase journals

You must perform the following steps before you manually enter VAT in a sales or purchase journal.

1. On the **Purchases & Payables Setup** page, choose the **Allow VAT Difference** check box.  
2. Repeat step 1 for the **Sales & Receivables Setup** page.
3. After you complete the setup, you can adjust the **VAT Amount** field on the general journal line, or the **Bal. VAT Amount** field on the sales or purchase journal line. [!INCLUDE[prod_short](includes/prod_short.md)] verifies that the difference isn't greater than the specified maximum.  

> [!NOTE]  
> If the difference is greater, a warning will be displayed stating the maximum allowed difference. To continue, you must adjust the amount. Choose **OK** and then enter an amount that is within the allowed range. If the VAT difference is equal to or lower than the maximum allowed, [!INCLUDE[prod_short](includes/prod_short.md)] will show the difference in the **VAT Difference** field.  

## Posting Import VAT with Purchase Invoices
Instead of using journals to post an import VAT invoice, you can use a purchase invoice.  

### To set up purchasing for posting import VAT invoices

1. Set up a vendor card for the import authority that sends you the import VAT invoice. The **Gen. Bus. Posting Group** and **VAT Bus. Posting Group** must be set up in the same way as the general ledger account for the import VAT.  
2. Create a **Gen. Product Posting Group** for the import VAT and set up an import VAT **Def. VAT Product Posting Group** for the related **Gen. Product Posting Group**.  
3. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
4. Select the import VAT general ledger account, and then choose the **Edit** action.  
5. On the **Posting** FastTab, select the **Gen. Prod. Posting Group** setup for import VAT. [!INCLUDE[prod_short](includes/prod_short.md)] automatically fills in the **VAT Prod. Posting Group** field.  
6. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Posting Setup**, and then choose the related link.  
7. Create a combination of the **Gen. Bus. Posting Group** for the VAT authority and the **Gen. Prod. Posting Group** for import VAT. For this combination, in the **Purchase Account** field, choose the import VAT general ledger account.  

### To create a new invoice for the import authority vendor after you complete the setup  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoices**, and then choose the related link.  
2. Create a new purchase invoice.  
3. In the **Buy-from Vendor No.** field, choose the import authority vendor, and then choose the **OK** button.  
4. In the purchase line, in the **Type** field, choose **G/L Account**, and in the **No.** field, choose the import VAT general ledger account.  
5. In the **Quantity** field, type **1**.  
6. In the **Direct Unit Cost Excl. VAT** field, specify the VAT amount.  
7. Post the invoice.  

## Processing certificates of supply

When you sell goods to a customer in another EU country/region, you must send the customer a certificate of supply that the customer must sign and return to you. The following procedures are for processing certificates of supply for sales shipments, but the same steps apply for service shipments of items, and return shipments to vendors.  

### To view certificate of supply details  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.  
2. Choose the relevant sales shipment to a customer in another EU country/region.  
3. Choose **Certificate of Supply Details**.  
4. By default, if the **Certificate of Supply Required** check box is selected for VAT Posting Group setup for the customer, the **Status** field is set to **Required**. You can update the field to indicate whether the customer returned the certificate.  

> [!Note]  
>  If the VAT Posting Group setup does not have the **Certificate of Supply Required** check box selected, then a record is created and the **Status** field is set to **Not Applicable**. You can update the field to reflect the correct status information. You can manually change the status from **Not Applicable** to **Required**, and from **Required** to **Not Applicable** as needed.  

   When you update the **Status** field to **Required**, **Received**, or **Not Received**, a certificate is created.  

> [!TIP]  
>  You can use the **Certificates of Supply** page to get a view of the status of all posted shipments for which a certificate of supply has been created.  

5. Choose **Print Certificate of Supply**.  

> [!Note]  
> You can preview or print the document. When you choose **Print Certificate of Supply** and print the document, the **Printed** check box is automatically selected. In addition, if not already specified, the status of the certificate is updated to **Required**. If needed, you include the printed certificate with the shipment.  

### To print a certificate of supply

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.  
2. Choose the relevant sales shipment to a customer in another EU country/region.  
3. Choose the **Print Certificate of Supply** action.  

> [!NOTE]  
> Alternatively, you can print a certificate from the **Certificate of Supply** page.  

4. To include information from the lines on the shipment document in the certificate, turn on the **Print Line Details** toggle.  
5. To have [!INCLUDE[prod_short](includes/prod_short.md)] create certificates for posted shipments that didn't have one, turn on the **Create Certificates of Supply if Not Already Created** toggle. When you turn on the toggle, new certificates are created for all posted shipments that don't have certificates within the selected range.  
6. By default, the filter settings are for the shipment document that you selected. Fill in the filter information to select a specific certificate of supply that you want to print.  
7. On the **Certificate of Supply** page, choose the **Print** action to print the report, or choose the **Preview** action to view it on the screen.  

   > [!Note]  
   > The **Certificate of Supply Status** field and the **Printed** field are updated for the shipment on the **Certificates of Supply** page.  

8. Send the printed certificate of supply to the customer for signature.  

### To update the status of a certificate of supply for a shipment  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.  
2. Choose the relevant sales shipment to a customer in another EU country/region.  
3. In the **Status** field, choose the relevant option.  

   If the customer returned the signed certificate of supply, choose **Received**. The **Receipt Date** field is updated. By default, the receipt date is set to the current work date.  

   You can modify the date to reflect the date that you received the customer's signed certificate of supply. You can also add a link to the signed certificate using standard [!INCLUDE[prod_short](includes/prod_short.md)] linking.  

   If the customer doesn't return the signed certificate of supply, choose **Not Received**. You must then send the customer a new invoice that includes VAT, because the tax authority won't accept the original invoice.  

To view a group of certificates, start from the **Certificates of Supply** page, and then update the information about the status of outstanding certificates as you receive them from your customers. The updated information can be useful when you want to search for all certificates that have a certain status, for example, **Required**, for which you want to update their status to **Not Received**.  

### To update the status of a group of certificates of supply  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Certificates of Supply**, and choose the related link.  
2. Filter the **Status** field to the value that you want in order to create the list of certificates that you want to manage.  
3. To update the status information, choose **Edit List**.  
4. In the **Status** field, choose the relevant option.  

   If the customer returned the signed certificate of supply, choose **Received**. The **Receipt Date** field is updated. By default, the receipt date is set to the current work date.  

   You can modify the date to reflect the date that you received the signed the certificate of supply. You can also add a link to the signed certificate using standard [!INCLUDE[prod_short](includes/prod_short.md)] document linking.  

> [!NOTE]
> You cannot create a new certificate of supply on the **Certificate of Supply** page when you navigate to it using this procedure. To create a certificate for a shipment that was not set up to require one, open the posted sales shipment, and use either of two procedures described earlier:  
>
> * To manually create a certificate of supply certificate  
> * To print a certificate of supply.

## Related information

[Setting Up Calculations and Posting Methods for Value-Added Tax](finance-setup-vat.md)  
[Report VAT to a Tax Authority](finance-how-report-vat.md)  
[Validate a VAT Registration Number](finance-how-validate-vat-registration-number.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-how-record-job-usage
---
title: Record Consumption or Usage of Project Resources and Items
description: This article describes how to record the consumption or use of items or resources for projects in project management.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 02/22/2024
ms.custom: bap-template
---
# Record consumption or usage for projects

From the **Project Card** page, you can open the **Project Planning Lines** page to review and record use on various parts of your project. This information is automatically updated when you modify and transfer information between projects and project journals or project invoices. This requires that you turn on the **Apply Usage Link by Default** toggle on the **Project Setup** page. Learn more at [Set Up Projects](projects-how-setup-jobs.md).  

For example, for planning lines of type **Budget**, you can enter the quantity of a resource, and then specify the quantity to transfer to the project journal. If the type of the planning line is **Billable**, you can enter the quantity of the resource, and then specify the quantity to transfer to an invoice. To learn more about invoicing the customer, go to [Invoice Projects](projects-how-invoice-jobs.md). By comparing the original quantity, remaining quantity, or posted quantity you can quickly review use information. To learn more about how to estimate budgeted values during planning, go to [Manage Project Budgets](projects-how-manage-budgets.md).  

The following procedures describe how to record actual (budgeted) quantities and costs with a project journal. Alternatively, you can use purchase documents to record purchases for a project. Learn more at [Manage Project Supplies](projects-how-manage-project-supplies.md).

## To record usage for a project planning line of type Budget

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.  
2. Select the project, and then choose the **Project Planning Lines** action. 
3. Select a project planning line of type **Budget** or **Both Budget and Billable** for which you want to record usage.   

    > [!NOTE]
    > You can also record usage for a project planning line of type **Billable**. Typically, you use these lines to create invoices, but you can also transfer the information to a journal. Learn more at [Invoice Projects](projects-how-invoice-jobs.md) 

4. In the **Qty. To Transfer to Journal** field, enter the quantity to transfer. The default quantity is the value that you enter in the **Quantity** field.

    The **Remaining Quantity** field shows the quantity that remains to complete the project and transfer to the journal.
5. Choose the **Create Project Journal Lines** action.

    > [!TIP]
    > If you are going to add more project planning lines for this project, wait with this step until you have added all project planning lines.
6. On the **Project Transfer Project Planning Line** page, fill in the fields as necessary, and then choose the **OK** button. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
7. Choose the **Open Project Journal** action.  
8. On the **Project Journal** page, select the relevant line and then choose the **Post** action.

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

9. On the **Project Planning Lines** page, review the recorded usage by observing the **Quantity**, **Remaining Quantity**, and **Qty. To Transfer to Journal** fields.  
10. Repeat steps 3 through 8 to record additional usage.  

## To create project journal lines manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. In the **Batch Name** field, choose a relevant project journal batch.  
3. On a new line, enter document number, project number, project task number, type, and the quantity of the type being consumed.  
4. When the project journal lines are complete, choose the **Post** action.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

## To view project usage estimates and post updates

You can view project usage up to the completion of a project in one step. To do so, you use the **Project Calc. Remaining Usage** batch job for all the tasks up to and including the end of a project.  

This lets you track and compare your original estimates against actual results and make modifications or new entries as needed. For example, you may have estimated that a project required 10 hours, and to date, it has taken 15 hours. You can add the extra five hours to the existing journal line or create a new journal line to report these five hours as overtime, which is another work type. The appropriate cost and price are calculated, and you can then post to the journal.  

> [!NOTE]  
> Item entries create item ledger entries and reduce the inventory quantity. The **Post Inventory Cost to G/L** batch job transfers the cost from inventory to the general ledger. Resource entries create resource ledger entries.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. Select a relevant project journal, and then choose the **Calc. Remaining Usage** action.  
3. On the **Project Calc. Remaining Usage** page, enter the document number and posting date that is to be inserted in the journal, and then choose the **OK** button.  
4. Update the journal with any modifications that may be needed.  
5. Choose the **Post**.

## Create inventory and warehouse pick documents for a project

Use the **Create Inventory Pick** and **Create Warehouse Pick** actions on the **Project Card** page. To create or register a pick document, use the **Put-away/Pick Lines/Movement Lines** or **Registered Pick Lines** actions. Learn more at [Flows for Production, Assembly, and Projects](design-details-internal-warehouse-flows.md).

You can use the actions under the following conditions:

* The **Status** of the project is **Open**.
* The **Line Type** of the project planning line is **Budget** or **Both Budget and Billable**.
* The **Type** of the project planning line is **Item**.
* **Require Pick** is enabled for the related location.
* **Directed Pick and Put-away** is disabled.

> [!NOTE] 
> Although the setting is called **Require Pick**, you can still post consumption directly from the project journal line for the location. If your location is set up to require pick processing but not shipment processing, you use the **Inventory Pick** page to organize and print the picking information. You also use the page to enter and post the result of the pick, which in turn posts the consumption of the items. 
> 
> If your location is set up to require both pick and shipment processing, meaning that you have chosen both the **Require Pick** and **Require Shipment** fields on the **Location Card** page, use the **Warehouse Pick** page to handle the pick. Warehouse picks are similar to inventory picks. The difference is that rather than posting the picking information you register the pick. This registration doesn't post consumption, it just makes the items available for posting. As a warehouse manager, you can use a pick worksheet to organize pick information before creating the individual warehouse pick instructions

## To review planning lines for a project ledger entry

After you have posted project journal lines, you can see the planning lines that are associated with the project journal entries that have been posted.

> [!NOTE]  
> This requires that the **Apply Usage Link** check box has been selected for the project. For more information, see [Set up projects](projects-how-setup-jobs.md).  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. Select a relevant project journal, and then choose the **Ledger Entries** action.  
3. On the **Project Ledger Entries** page, choose **Show Linked Project Planning Lines** action.

## Related information

[Project Management](projects-manage-projects.md)  
[Finance](finance.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/quick-start-procurement
---
title: Procurement Quick Start
description: Learn how to fill in the first critical fields about vendors in Business Central so that you can start purchasing products and services.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: quickstart
ms.search.form: 26, 27, 50, 56
ms.date: 09/29/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Procurement Quick Start

To be able to buy products and services, you must first set up vendors. Once that is done, you can start registering purchase orders and receiving invoices.  

## Set up vendors

The following video shows you how to set up a vendor in [!INCLUDE[prod_short](includes/prod_short.md)].

<br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=7188b662-bc49-45ef-8152-82898076b235]

### Set up a new vendor

[!INCLUDE[create_new_vendor](includes/create_new_vendor.md)]

For more information and additional things you can do when you register vendors, see [Register New Vendors](purchasing-how-register-new-vendors.md).  

## Create new purchase orders

When you buy something from a vendor you have two options. The first, and simplest, is to just create a purchase invoice. However, you must use purchase orders if your purchasing process requires that you record partial receipts of an order quantity, for example, because the full quantity was not available at the vendor.

The following video shows you how to create a purchase order in [!INCLUDE[prod_short](includes/prod_short.md)].

<br><br>

> [!Video https://learn-video.azurefd.net/vod/player?id=f04b1ed3-5cb0-4fa8-8cd0-24069ee893d2]

### To create a purchase order  

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, and then choose the related link.  

2. On the **Purchase Orders** page, select the **New** action to create a new Purchase Order.

3. In the **Vendor Name** field, enter the name of an existing vendor.

    Other fields on the **Purchase Header** are now filled with the standard information about the selected vendor.  

4. Fill in the remaining fields on the **Purchase Order** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    You are now ready to fill in the purchase order lines with items or resources that you have purchased from the vendor.

5. On the **Lines** FastTab, in the **Item No.** field, enter the number of an inventory item or service.

6. In the **Quantity** field, enter the number of items to be purchased.

    The **Line Amount** field is updated to show the value in the **Direct Unit Cost** field multiplied by the value in the **Quantity** field.

7. In the **Order Discount Amount** field, enter an amount that should be deducted from the value shown in the **Total Incl. Tax** field at the bottom of the order.

8. When you receive the purchased items or services, choose **Post**.

For more information and additional things you can do when creating a purchase order, see [Purchasing](purchasing-manage-purchasing.md).  

## Create a purchase invoice  

You create a purchase invoice to record the cost of purchases and to track accounts payable. Creating a purchase invoice is similar to creating a purchase order.

### How to create and post a purchase invoice  

1. Choose the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoices**, and then choose the related link.  
2. On the **Purchase Invoice** page, select the **New** action to create a new Purchase Invoice.
3. In the **Vendor** field, enter the name of an existing vendor.

    Other fields on the **Purchase Invoice** page are now filled with the standard information of the selected vendor.

4. Fill in the remaining fields on the **Purchase Invoice** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    You are now ready to fill in the purchase invoice lines with items or resources that you have purchased from the vendor.

5. On the **Lines** FastTab, in the **Item No.** field, enter the number of an inventory item or service.
6. In the **Quantity** field, enter the number of items to be purchased.

    The **Line Amount** field is updated to show the value in the **Direct Unit Cost** field multiplied by the value in the **Quantity** field.

7. In the **Invoice Discount Amount** field, enter an amount that should be deducted from the value shown in the **Total Incl. Tax** field at the bottom of the invoice.

8. When you receive the purchased items or services, choose **Post**.

The purchase is now reflected in inventory, resource ledgers, and financial records, and the vendor payment is activated. The purchase invoice is removed from the list of purchase invoices and replaced with a new document in the list of posted purchase invoices.  

For more information and additional things you can do when creating a purchase invoice, see [Record Purchases with Purchase Invoices](purchasing-how-record-purchases.md).

## Related information

[Business Central Quick Starts](quick-start-business-central.md)  
[Purchasing Overview](Purchasing-manage-purchasing.md)  
[Record Purchases with Purchase Invoices](purchasing-how-record-purchases.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-interaction-segments
---
title: Keep Track of Segments and Related Interactions
description: Learn about creating segments to define groups of contacts and specifying interactions for segments.
author: jswymer

ms.topic: article
ms.devlang: al
ms.search.keywords: relationship, prospect
ms.search.forms: 5091, 5139,
ms.date: 04/01/2021
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Manage Interactions for Segments
The **Segment** page is a type of worksheet where you can:

* Create segments.
* Save the segmentation criteria you have used to select contacts.
* Log the segment and record interactions involving the contacts within the segment.

## Segmenting
There are several ways to create segments:

* You can manually enter the contacts you want to include in the segment in the segment lines.
* You can select contacts.
* You can reuse a logged segment as the basis to create a new one.
* You can reuse saved segmentation criteria.

## Interactions
On the **Segment** page, you can create interactions for several contacts simultaneously. For example, you can merge a segment with a Microsoft Word document, so that you can send a letter to all the contacts in the segment.

You can specify information about the interaction for the segment on the **Segment** header. For example, you can decide which interaction template you want to use for all the contacts, specify a description, a correspondence type, and so on. However, you can modify this information in the segment line for each particular contact, for example, by specifying another description for one contact. If you are merging a segment with a Microsoft Word document, you can personalize the document to be sent for one or several of the contacts within the segment, for example, by adding individualized comments to the document.

## Logging
On the **Segment** page, when you choose **Log**, the application records the interactions on the **Interaction Log Entry** page, and logs the segment. After you have logged the segment, you can only find it on the **Logged Segments** page.

On the **Logged Segments** page, you can decide to create a follow-up segment containing the same contacts as the segment you have logged.

## Related information
[Create Segments](marketing-how-create-segment.md)  
[Create Interactions for Segments](marketing-how-create-interactions.md)  
[Managing Segments](marketing-segments.md)  
[Recording Interactions With Contacts](marketing-interactions.md)  
[Managing Sales Opportunities](marketing-manage-sales-opportunities.md)  
[Creating and Managing Contacts](marketing-contacts.md)  
[Work with Business Central](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-inventory-adjustment-value-entry-allowed-posting-dates
---
title: Error Message "Posting Date is not within your range of allowed posting dates"
description: Resolve the error behind the message "Posting date is not within your range of allowed posting dates" when running the Adjust Cost - Item Entries batch job.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords:
ms.date: 05/24/2024
ms.service: dynamics-365-business-central
---

# Error message: "Posting Date is not within your range of allowed posting datesâ€¦"

When you use the **Adjust Cost - Item Entries** batch job, you might run into the following error message:

**Posting date is not within your range of allowed posting dates**

This message indicates that you aren't allowed to post entries for the date you entered. You can get around this issue by changing your user setup.

## Change the user setup  

|User ID  |Allow Posting From  | Allow Posting To  |
|---------|---------|--------|
|EUROPE  |  2020-09-11      |2020-09-30      |

In this case, you're allowed to post in the date range from September 11 to September 30. However, you aren't allowed to post the adjustment value entry with a September 10 posting date.  

### Overview of the posting date setup

#### Inventory Periods

|Ending Date  |Name  |Closed  |
|---------|---------|---------|
|2020-01-31     |January 2020      |  Yes    |
|2020-02-28     |February 2020     |  Yes    |
|2020-03-31     |March 2020        |  Yes    |
|2020-04-30     |April 2020        |  Yes    |
|2020-05-31     |May   2020        |  Yes    |
|2020-06-30     |June   2020       |  Yes    |
|2020-07-31     |July  2020        |   Yes   |
|2020-08-31     |August   2020     |   Yes   |
|2020-09-30     |September   2020  |         |
|2020-10-31     |October   2020    |         |
|2020-11-30     |November   2020   |         |
|2020-12-31     |December   2020   |         |  

#### General Ledger Setup

|Field|Value|
|---------|---------|
|Allow Posting From:  |  2020-09-10      |
|Allow Posting To:    |  2020-09-30      |
|Register Time:       |         |
|Local Address Format:|   Post Code      |  

#### User Setup

|User ID  |Allow Posting From  | Allow Posting To  |
|---------|---------|--------|
|USERNAME |  2020-09-10      |2020-09-30      |

Assigning a wider date range where you allow posting on the **Inventory Period** or **General Ledger Setup** pages lets you avoid the conflict that causes the error message. For example, the wider range lets you post the adjustment value entry with a September 10 posting date.
  
## Related information  

[Design Details: Posting Date on Adjustment Value Entry](design-details-inventory-adjustment-value-entry-posting-date.md)  
[Design Details: Inventory Costing](design-details-inventory-costing.md)  
[Design Details: Item Application](design-details-item-application.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-certificates
---
title: Sustainability certificates
description: Learn how to set up and use sustainability certificates.
author: altotovi
ms.topic: article
ms.devlang: al
ms.search.keywords: Sustainability, ESG, emission, GHG, certificate, green
ms.search.form: 
ms.date: 09/10/2024
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: solsen
---

# Sustainability certificates

In todayâ€™s business landscape, sustainability is more than a trend - itâ€™s a necessity. As companies strive to reduce their environmental impact and meet growing consumer demand for responsible practices, sustainability certificates are now an essential tool for validating these efforts. These certificates serve as an independent verification that a company or its products meet specific environmental, social, and governance (ESG) standards, fostering trust and transparency in the marketplace.  

Sustainability certificates offer a clear and measurable way to assess the environmental and ethical credentials of both companies and their products. By prioritizing vendors who hold recognized sustainability certifications, businesses can enhance their supply chain integrity, reduce risks, and contribute to a more sustainable future.

Sustainability certificates for companies cover a wide range of criteria, including resource efficiency, waste management, emissions reduction, and social responsibility. Similarly for products, these certifications ensure that items meet stringent environmental standards, from raw material sourcing to manufacturing processes and end-of-life disposal. 

## Sustainability certificate area 

The *sustainability certificate area* refers to the specific area covered by a particular certificate. Generally, this method is used to categorize similar certificates based on distinct characteristics. To create new sustainability certificate area, follow these steps:   

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sust. Certificate Areas**, and then select the related link.
2. On the **Sust. Certificate Areas** page, select **New**, and enter the **Number** and **Name** fields for new certificate area. 
3. Close the page.   

## Sustainability certificate standards

The *Sustainability certificate standard* refers to the specific standard for a particular certificate. Generally, it should provide third-party verified, transparent, and measurable criteria aligned with international ESG frameworks to promote responsible business practices. To create new sustainability certificate standard, follow these steps: 

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sust. Certificate Standards**, and then select the related link.
2. On the **Sust. Certificate Standards** page, select **New**, and enter the **Number** and **Name** fields for new certificate standard. 
3. Close the page.  

## Create a sustainability certificate 

To create a new sustainability certificate, follow these steps:   

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Certificates**, and then select the related link.
2. On the **Sustainability Certificates** page, select **New**.
3. In the **Type** field, choose if this certificate is related to vendors or items, and enter the **No.** and **Name** fields.
4. In the **Area** field, choose specific **Sust. Certificate Area** option and in the **Standard** field, choose adequate **Sust. Certificate Standard**.
5. In the **Issuer** field, specify the issuer name. 
Sustainability certificates are typically issued by independent third-party organizations, which can include non-profit certifying bodies, industry associations, standards organizations, or specialized sustainability certification firms. The issuers are responsible for assessing compliance with established sustainability standards.
1. If this certificate has a measurable value, enable the **Has Value** field and enter the **Value**.   

> [!NOTE]
> You can also create a new sustainabilty directly from the vendor or item card. In this case, the **Type** field is automatically prepopulated as an Item or Vendor based on where you create the certificate.   
 
### Add the sustainability certificate for vendors

To add the sustainability certificate to the vendor follow the next steps:   

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then select the related link.
2. Choose the vendor you want to work with.
3. In the **General** FastTab, select the certificate in the **Sust. Certificate No.** field. If you don't see the field by default, select the **Show more** for the **General** FastTab.
4. Close the page.  

### Add the sustainability certificate for items

To add the sustainability certificate to the item follow the steps:   

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then select the related link.
2. Choose the item you want to work with.
3. In the **Sustainability** FastTab, select the certificate in the **Sust. Certificate No.** field. 
4. Close the page.

## Related information

- [Sustainability management overview](finance-manage-sustainability.md)  
- [Sustainability setup](finance-sustainability-setup.md)    
- [Ad-hoc analysis of sustainability data](ad-hoc-analysis-sustainability.md)    
- [Sustainability reports and analytics in Business Central](sustainability-reports.md)   
- [Finance](finance.md)    
- [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)   
[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-rounding
---
title: Design Details - Rounding
description: Rounding residuals can occur when you value the cost of an inventory decrease measured in a different quantity than the corresponding inventory increase.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/08/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Rounding
Rounding residuals can occur when you value the cost of an inventory decrease that is measured in a different quantity than the corresponding inventory increase. Rounding residuals are calculated for all costing methods when you run the **Adjust Cost - Item Entries** batch job.  

 When you use the average costing method, the rounding residual is calculated and recorded on a cumulative, entry-by-entry basis.  

 When you use a costing method other than Average, the rounding residual is calculated when the inventory increase has been fully applied, that is when the remaining quantity for the inventory increase is equal to zero. A separate entry is then created for the rounding residual, and the posting date on this rounding entry is the posting date of the last invoiced value entry of the inventory increase.  

## Example  
 The following example illustrates how different rounding residuals are handled for the average costing method and non-Average costing method, respectively. In both cases, the **Adjust Cost - Item Entries** batch job has been run.  

 The following table shows the item ledger entries that the example is based on.  

|Posting Date|Quantity|Entry No.|  
|------------------|--------------|---------------|  
|01-01-20|3|1|  
|02-01-20|-1|2|  
|03-01-20|-1|3|  
|04-01-20|-1|4|  

 For an item using the Average costing method, the rounding residual (1/300) is calculated with the first decrease (entry number 2) and is carried forward to entry number 3. Therefore, entry number 3 is valued at â€“3.34.  

 The following table shows the resulting value entries.  

|Posting Date|Quantity|Cost Amount (Actual)|Item Ledger Entry No.|Entry No.|  
|------------------|--------------|----------------------------|---------------------------|---------------|  
|01-01-20|3|10|1|1|  
|02-01-20|-1|-3.33|2|2|  
|03-01-20|-1|-3.34|3|3|  
|04-01-20|-1|-3.33|4|4|  

 For an item using a costing method other than Average, the rounding residual (0.01) is calculated when the remaining quantity for the inventory increase is zero. The rounding residual has a separate entry (number 5).  

 The following table shows the resulting value entries.  

|Posting Date|Quantity|Cost Amount (Actual)|Item Ledger Entry No.|Entry No.|  
|------------------|--------------|----------------------------|---------------------------|---------------|  
|01-01-20|3|10|1|1|  
|02-01-20|-1|-3.33|2|2|  
|03-01-20|-1|-3.33|3|3|  
|04-01-20|-1|-3.33|4|4|  
|01-01-20|0|-0.01|1|5|  

## Related information  
 [Design Details: Inventory Costing](design-details-inventory-costing.md)   
 [Design Details: Cost Adjustment](design-details-cost-adjustment.md)   
 [Design Details: Costing Methods](design-details-costing-methods.md)
 [Managing Inventory Costs](finance-manage-inventory-costs.md)  
 [Finance](finance.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-setup-document-send-profiles
---
title: Set Up Preferred Methods of Sending Sales Documents | Microsoft Docs
description: Describes how to set up each customer's preferred method of sending sales documents, for example, email, PDF, electronic document, and so on.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: email, PDF, electronic document
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Document Sending Profiles
You can set each customer up with a preferred method of sending sales documents, so that you do not have to select a sending option every time you choose the **Post and Send** action.

On the **Document Sending Profiles** page, you set up different sending profiles that you can select from in the **Document Sending Profile** field on a customer card. You can select the **Default** check box to specify that the document sending profile is the default profile for all customers, except for customers where the **Document Sending Profile** field is filled with another sending profile.

When you choose the **Post and Send** action on a sales document, the **Post and Send Confirmation** dialog box shows the sending profile used, either the one set up for the customer or the default for all customers. In the dialog box, you can change the sending profile for the sales document. For more information, see [Invoice Sales](sales-how-invoice-sales.md).
<br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=b0524480-cac0-4382-be29-954a70bbee34]

## To set up a document sending profile
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Document Sending Profiles**, and then choose the related link.
2. On the **Document Sending Profiles** page, choose the **New** action.
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## To specify a sending profile on a customer card
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.
2. Open the card of the customer who you want to set up a sending profile for.
3. In the **Document Sending Profile** field, select a profile that you have set up as described in the previous procedure.

## Related information
[Setting Up Sales](sales-setup-sales.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-pick-for-internal-operations-in-advanced-warehousing
---
title: Pick for internal operations in advanced warehouse configurations
description: If your locations use picking and shipping, pick components for production, assembly, and project activities on the Warehouse Pick page.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 03/19/2025
ms.custom: bap-template    
ms.service: dynamics-365-business-central
---

# Pick for production, assembly, or projects in advanced warehouse configurations

How you pick components for production, projects, or assembly orders depend on how your warehouse is set up as a location. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).

In an advanced warehouse configuration for the outbound flow (pick), on the **Location Card** page for the location, use the following settings:

- Production, in the **Prod. Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.
- Assembly, in the **Asm. Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.
- Project management, in the **Project Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.

When the location is set up to require warehouse pick processing, use warehouse pick documents to create and process pick information before you post the usage or consumption of components.  

You can't create a warehouse pick document from scratch. Picks are part of a workflow where a person who is processing an order creates them in a push fashion, or the warehouse employee creates them in a pull fashion:

- In a push fashion, where you use the **Create Pick** action in the **Production Order**, **Assembly Order**, **Project Card** page. Select the lines to pick and prepare the picks by specifying, for example, which bins to take from and place in, and how many units to handle. Bins can be predefined for the warehouse location or resource.
- In a pull fashion, where you release **Production Order**, **Assembly Order**, **Project Card** to warehouse making the items available for picking. Then, on the **Pick Worksheet** page, warehouse employees can use the **Get Warehouse Documents** action to pull their assigned picks.

To pick or move components for source documents in a pull fashion, you must release the source document to make it ready for picking. Release source documents for internal operations in the following ways.  

|Source Document|Release Method|  
|---------------------|--------------------|  
|Production Order|Change the order status to Released or create a released production order right away.|  
|Assembly Order|Change status to Released.|
|Projects | Change status to Open or create project with status Open right away.|  

## Production

Use **Warehouse Pick** documents for picking production components in the flow to production.

For a location that uses bins to move items to open shop floor bins, you can use the following methods:

- For a location that uses directed put-away and pick, follow the steps in the [Move Items in advanced warehouse configurations](warehouse-how-to-move-items-in-advanced-warehousing.md) article.
- For other locations, follow the steps in the [Move Items Internally in Basic Warehouse Configurations](warehouse-how-to-move-items-ad-hoc-in-basic-warehousing.md) article.

### Over-picking in production

[!INCLUDE [manufacturing-overpicks](includes/manufacturing-overpicks.md)]

## Assembly  

Use **Warehouse Pick** documents to move assembly components to the assembly area.

[!INCLUDE [prod_short](includes/prod_short.md)] supports assemble-to-stock and assemble-to-order types of assembly flows. To learn more about assemble-to-order in the outbound warehouse flow, go to [Handling Assemble-to-Order Items in Warehouse Shipments](warehouse-how-ship-items.md#handling-assemble-to-order-items-in-warehouse-shipments).

## Project management  

Use **Warehouse Pick** documents to pick project components in the flow to project management.

> [!NOTE]
> You can't use the **Project No.** and **Project Task No.** fields in a purchase order together with locations where the **Directed Put-Away and Pick** toggle is turned on. You must post receipts and consumption separately with the fully directed warehouse flow.

## Check whether items are available for picking

[!INCLUDE [inventory-availability-overview](includes/inventory-availability-overview.md)]

## To create pick documents in bulk with the pick worksheet

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Pick Worksheet**, and then choose the related link.  
2. Choose the **Get Warehouse Documents** action.  

    The list shows the released production, projects, and assembly orders that have been forwarded to the pick function. The orders include those for which pick instructions are already created. Documents with pick lines that have been picked and registered aren't shown on this list.  
3. Select the orders for which you want to prepare a pick.

    > [!NOTE]  
    > If you select a document that already has instructions for all its lines, [!INCLUDE [prod_short](includes/prod_short.md)] informs you that there is nothing to handle. To combine the already created warehouse pick instructions into one pick instruction, delete the individual warehouse picks first.

4. Fill in the **Sorting Method** field to sort the lines the way you prefer.  

    > [!NOTE]  
    > The way the lines are sorted in the worksheet doesn't automatically carry through to the pick instruction. However, the same sorting tools are available, along with bin ranking. You can easily recreate the order of the lines you plan in the worksheet when you create the pick instructions or by sorting in the pick instructions.

5. Fill in the **Qty. to Handle** field. Choose the **Autofill Qty.to Handle** action, or fill in the fields manually.  

    The page shows the quantities available in cross-dock bins, which is useful for planning work assignments in cross-docking situations. [!INCLUDE[prod_short](includes/prod_short.md)] will always propose a pick from a cross-dock bin first.

6. If needed, edit the lines manually. You can also delete some of the lines to make the pick more efficient. For example, if there are multiple lines with items that are in cross-dock bins, you might create a pick for all of the lines. The cross-docked items are picked with the other items on the source document, and the cross-dock bins have space for more incoming items.

    > [!NOTE]  
    > The lines are only deleted from this worksheet, not from the pick selection list.  

7. Choose the **Create Pick** action. The **Create Pick** page opens, where you can add more information to the pick.  

    Specify how to combine pick lines in the pick documents by selecting one of the following options.  

    |Option|Description|
    |-|-|
    |Per Whse. Document|Creates separate pick documents for worksheet lines with the same warehouse source document.|
    |Per Cust./Vend./Loc.|Creates separate pick documents for each customer (project)|
    |Per Item|Creates separate pick documents for each item in the pick worksheet.|
    |Per From Zone|Creates separate pick documents for each zone that you take the items from.|
    |Per Bin|Creates separate pick documents for each bin that you take the items from.|
    |Per Due Date|Creates separate pick documents for source documents that have the same due date.|

    Use the following options to specify how to create the pick documents.  

    |Option|Description|
    |-|-|
    |Max. No. of Pick Lines|Creates pick documents that have no more than the specified number of lines in each document.|
    |Max. No. of Pick Source Docs.|Creates pick documents that cover up to the specified number of source documents.|
    |Assigned User ID|Creates pick documents only for worksheet lines that are assigned to the selected warehouse employee.|
    |Sorting Method for Pick Lines|Select from the available options to sort lines in the created pick document.|
    |Set Breakbulk Filter|Hides intermediate breakbulk pick lines when a larger unit of measure is converted to a smaller unit of measure and picked.|
    |Don't Fill Qty. to Handle|Leaves the **Qty. to Handle** field empty on the created pick lines.|
    |Print Pick|Prints the pick documents when they're created. You can also print from the created pick documents.|

8. Choose the **OK** button.  

## To pick items for a production order, assembly order, or project

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Picks**, and then choose the related link.  

    If you need to work on a particular pick, select the pick from the list or filter the list to find the picks that have been assigned to you. Open the pick card.  
2. If the **Assigned User ID** field is empty, enter your ID to identify yourself, if needed.  
3. Pick the items.  

    If the warehouse is set up to use bins, the itemsâ€™ default bins are used to suggest where to take the items from. The instructions contain at least two separate lines for Take and Place actions.  

    Operation areas such as production shop floors might have a default bin for the components they require. If so, the default bin code is added to the warehouse pick document to indicate where to put the items. For more information, see the tooltips for the **To-Production Bin Code**, the **To-Assembly Bin Code**, the **To-Project Bin Code** fields.

    If the warehouse is set up to use directed put-away and pick, the bin rankings are used to calculate the best bins to pick from. Those bins are suggested on the pick lines. The instructions contain at least two separate lines for Take and Place actions.  

    - The first line, with **Take** in the **Action Type** field, indicates where the items are located in the picking area. If you're shipping a large number of items on one shipment line, you might have to pick the items in several bins, so there's a Take line for each bin.
    - The next line, with **Place** in the **Action Type** field, shows where you must place the items in the warehouse. You can't change the zone and bin on this line.

    > [!NOTE]
    > If you must pick or place the items for one line in more than one bin, for example because the designated bin is full, use the **Split Line** action on the **Lines** FastTab. The action creates a line for the remaining quantity to handle.

      You can sort the pick lines by various criteria, for example, by item, shelf number, or due date. Sorting can help optimize the put-away process, for example:

    - If the take and place lines for each shipment line don't immediately follow one another, and you want them to, sort the lines by selecting **Item** in the **Sorting Method** field.  
    - If bin rankings reflect the physical layout of the warehouse, use the **Bin Ranking** sorting method to organize the work by bin locations.

  > [!NOTE]  
  > Lines are sorted in ascending order by the selected criteria. If you sort by document, sorting is done first by document type based on the **Warehouse Activity Source Document** field. If you sort by ship-to, sorting is done first by destination type based on the **Warehouse Destination Type** field.

4. After you pick and place the items in the production, assembly or project area or bin, choose the **Register Pick** action.  

    You can now bring the items to the respective area and post the usage or consumption of the picked components by posting consumption journal, assembly order, or project journal. The following articles provide more information:

    - [Register Consumption and Output for One Released Production order line](production-how-to-register-consumption-and-output.md)
    - [Assemble Items](assembly-how-to-assemble-items.md)
    - [Record Consumption or Usage for Projects](projects-how-record-job-usage.md)

## Flushing production components in an advanced warehouse configuration

Flushing methods affect the flow of components in production. Learn more at [Flush Components According to Operation Output](production-how-to-flush-components-according-to-operation-output.md). Depending on the selected flushing method, you can pick components for production om the following ways:

* Use a **Warehouse Pick** document to record the pick for items that use the **Pick + Manual** flushing method. You need to register consumption separately. Learn more at [Batch Post Production Consumption](production-how-to-post-consumption.md).
* Use a **Warehouse Pick** document to record the pick for items that use the **Pick + Forward**, **Pick + Backward** flushing method. Consumption of the components happens automatically either when you change the status of the production order or by starting or ending an operation. All required components must be available. Otherwise, posting flushed consumption stop for that component.
* Use a **Warehouse Movement** document without a reference to a source document or other ways to record the movement of components that use the **Forward** or **Backward** flushing method. Components are automatically consumed either when you change of status of the production order or start or end an operation. All required components must be available. Otherwise, posting flushed consumption stops for that component. Learn more at [Move Items](warehouse-move-items.md).
* Use a **Warehouse Movement** document without a reference to a source document or other ways to record the movement of components that use the Manual flushing method. You need to register consumption separately. For example, skipping the pick might be useful for components which, due to their nature, you store in the shop floor zone so there's no need to pick. However, you might still have to manually post consumption, for example, because the consumed quantity can vary or require item tracking. To learn more, go to [Flushing methods](production-how-to-flush-components-according-to-operation-output.md#flushing-methods).

### Example

You have a production order for 15 PCS of item SP-SCM1004. Some of the items on the component list must be flushed manually in a consumption journal. Other items can be picked and flushed automatically using the **Pick + Backward** flushing method.  

The following steps describe the actions that different people take and the related response:  

1. The shop floor supervisor releases the production order. Items with **Forward** flushing method and no routing link are deducted from the open shop floor bin.  
2. The shop floor supervisor chooses the **Create Warehouse Pick** action on the production order. A warehouse pick document is created pick for items with **Manual**, **Pick + Backward**, and **Pick + Forward** flushing methods. These items are placed in the To-Production bin.  
3. The warehouse manager assigns the picks to a warehouse employee.  
4. The warehouse employee picks the items from the appropriate bins and places them in the To-Production bin or in the bin specified on the warehouse pick. The bin might be a work center or machine center bin.
5. The warehouse employee registers the pick. The quantity is transferred from the pick bin to the consumption bin. The **Qty. Picked** field on the component list for all picked items is updated.

    > [!NOTE]  
    > Only the quantity picked can be consumed.  
6. The machine operator informs the production manager that the end items are finished.
7. The shop floor supervisor uses the consumption journal or production journal to post the consumption of component items that use either **Manual** flushing method.
8. The shop floor supervisor uses the output journal or production journal to post the output. The quantity of component items that use **Pick + Forward** or **Pick + Backward** flushing methods with routing links is deducted from the To-Production bin.
9. The production manager changes the status of the production order to **Finished**. The quantity of component items that use **Backward** flushing method is deducted from the open shop floor bin, and the quantity of component items that use **Pick + Backward** flushing method and no routing link is deducted from the To-Production bin.  

The following illustration shows when the **Bin Code** field on the component list is filled according to your location or machine/work center setup.  

:::image type="content" source="media/binflow.png" alt-text="Overview of when and how the Bin Code field is filled in.":::

## Make-to-Order (MTO) production components in an advanced warehouse configuration

In scenarios where a produced item consists of raw materials and semi-finished items with the manufacturing policy set to **Make-to-order**, the warehouse pick for those semi-finished components is added to the same production order with the **Planning Level Code** field filled in. It's expected that the semi-finished items are available for consumption immediately and won't require pick so they aren't included in the warehouse pick document. The created warehouse picks only include raw materials for produced item and for semi-finished items.

However, if semi-finished items are available on stock, the planning system suggests that you consume those instead of producing the whole quantity. For example, a produced item requires five semi-finished components, but three are already in stock. In this case, five semi-finished items are listed in the production order components, but only two are produced in the same production order as a separate production order line.
Such a setup isn't compatible with warehouse picks and, depending on frequency, you must either change the manufacturing policy for such semi-finished items to **Make-to-stock** or manually split the production order component line when you need to pick the semi-finished items produced earlier.

## Related information

[Manage Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-to-create-service-orders
---
title: How to Create Service Orders
description: Learn the different tasks involved in creating service orders in Business Central such as creating a new service order or orders based on a service contract.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 06/23/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Create Service Orders
You can use the **Service Order** page to create documents where you enter information about a service, such as repairs and maintenance, on service items by customer request.  

When creating a service order, you only have to fill in a few fields. Some fields are optional and many are automatically filled in when you fill in related fields.  

## To create a service order    
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Create a new service order.  
3. In the **No.** field, enter a number for the service order.  

     Alternatively, if you have set up number series for service orders on the **Service Management Setup** page, you can select <kbd>Enter</kbd> to select the next available service order number.  

4. In the **Customer No.** field, select the relevant customer from the list. The customer-relevant fields are filled in with information from the **Customer** table.  

5. Depending on the settings on the **Mandatory Fields** FastTab on the **Service Management Setup** page, you may need to fill in the **Service Order Type** field and the **Salesperson Code** field.  
6. Optionally, fill in the rest of the fields.  
7. Register the service item lines.  

## To create a service order from a contract  
You can automatically create service orders for the maintenance of service items based on service contracts.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Create Contract Service Orders**, and then choose the related link.  
2. On the **Service Contract Header** FastTab, set the filters you want to apply.  
3. On the **Options** FastTab, fill in the **Starting Date** and **Ending Date** fields with the starting date and ending date for the period that you want to create contract service orders for. The batch job creates service orders that include service items in service contracts with next planned service dates within this period.  

    > [!NOTE]  
    >  There is a limit to the number of days you can use as the date range each time you use this batch job. You set this limit in the **Contract Serv. Ord. Max. Days** field on the **Service Management Setup** page.  

4. In the **Action** field, choose **Create Service Order**.  
    > [!NOTE]  
    >  You will not be able to create order with multiple service item, if you set **One Service Item Line/Order** field on the **Service Management Setup** page. 

## To convert a service quote to a service order
When a customer has accepted a service quote, you convert it to a service order. The quote is deleted and a new service order is set up with the same description as the service quote. The response date and time are recalculated for the service order and the status is set to **Pending**. The repair status of the service items in the order are changed to **Initial**.  

[!INCLUDE[prod_short](includes/prod_short.md)] searches for allocation entries for all the service items in the service quote that have the status **Active**. If it finds such allocation entries, their allocation status is updated to **Reallocation Needed**. When you reallocate the service items in the service order, the status of the allocation entries registered for the quote are updated to **Finished**.   

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Contract Quotes**, and then choose the related link.  
2. Choose the service quote to convert to a service order.  
3. Choose the **Make Order** action.  

## To check item availability for one or more orders  
You can check and see if an item you need to fulfill an order is in stock, and if it is not, when the item will be in stock. In addition, if an item is available to reserve, you can reserve it to make sure it is available for your use. You can check availability for a particular order, or for all orders.  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dispatch Board**, and then choose the related link.  
2. Do one of the following:  

    * For a particular order, choose the order, and then choose the **Demand Overview** action.  
    * For all orders, choose **Show Document**. The **Service Order** page opens.  

3. On the **Demand Overview** page, expand the item grouping, and view information about the availability of the item. For example, you can see how many items are in inventory. You can also see if and when an item will be available if it is on back order, that is, Source Type = Purchase, or whether it has been reserved.

## To reserve an item for a service order
If you need to be sure that an item is available for a service order, you can reserve the item.

1. In the **Search** box, enter **Service Orders**, and then choose the related link.  
2. Choose the service order, and then choose **Edit**.  
3. Choose **Actions**, choose **Order**, and then choose **Service Lines**.  
4. On the **Service Lines** page, choose the item to reserve, and then choose the **Reserve** action.  
5. On the **Reservation** page, choose **Reserve from Current Line**.

## To insert lines based on standard service codes  
If you have set up standard service codes and assigned them to service item groups, you can insert the standard lines linked to the standard service codes on service documents. For more information, see [Set Up Standard Service Codes](service-how-setup-service-coding.md).   

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Create a new service order.  
3. Fill in the fields as necessary..  
4. Fill in the service item lines with the required information.  
5. Choose the line with the service item that you want to create service lines for, and then choose **Get Std. Service Codes**. The **Standard Serv. Item Gr. Codes** page opens with the standard codes for the service item group specified on the line.  
6. Choose the appropriate code, and choose the **OK** button to enter standard service lines.  

> [!NOTE]  
>  If the **Service Item Group Code** field on the service item line of the document is blank, this means that the service item does not belong to any service item group. In this case, the **Standard Serv. Item Gr. Codes** page will contain a list of all standard service codes. You should select from the list to insert standard service lines in the document. You may also select from the list of standard service codes assigned to a specific service item group. To view the list, select the relevant code in the **Service Item Group Code** field on the **Standard Serv. Item Gr. Codes** page.  

## To register internal or public comments
You can add comments that will be printed on service orders and service quotes to provide additional information. You can add up to 80 characters, including spaces. If you need to enter additional text, choose another line. To register a comment, choose a line, and then choose the **Comments** action.  

## To delete invoiced service orders  
Orders are usually deleted automatically after having been fully invoiced. When an invoice is posted, a corresponding entry is created on the **Posted Service Invoices** page. The posted document can be viewed on the **Posted Service Invoice** page.  

Service orders are not deleted automatically, however, if the total quantity on the order has been posted not from the service order itself, but from the **Service Invoice** page. Then you may need to delete invoiced orders that were not deleted. You can do this by running the **Delete Invoiced Service Orders** batch job.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Delete Invoiced Service Orders**, and then choose the related link. The **Delete Invoiced Service Orders** batch job request page opens.  
2. To select the orders to be deleted, you can set filters in the **No.**, **Customer No.**, and **Bill-to Customer No.** fields.  
3. Choose **OK**.  


## Related information  
[Service Posting](service-service-posting.md)  
[Post a Service Order](service-how-to-post-service-orders.md)  
[Setting Up Service Management](service-setup-service.md)  
[Work on Service Tasks](service-how-to-work-on-service-tasks.md)  
[Allocate Resources](service-how-to-allocate-resources.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/year-close-account-periods
---
title: Close accounting periods for a fiscal year
description: This article describes how to close the accounting periods that make up the fiscal year for year end closing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: year closing, close accounting period, close fiscal year, bank account detailed trial balance
ms.search.form: 100,
ms.date: 08/05/2024
ms.service: dynamics-365-business-central
---

# Close accounting periods

When a fiscal year is over, you must close the periods that comprise it.

## To close accounting periods

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Accounting Periods**, and then choose the related link.
2. On the **Accounting Periods** page, choose the **Close Year** action.

    If more than one fiscal year is open, the earliest one is automatically selected to be closed. A message identifies the year that will close and the results of its closing.
3. To close the year, choose the **Yes** button.

The fiscal year is closed, and the **Closed** and **Date Locked** fields for all the periods in the year are selected. The fiscal year can't be opened again and you can't remove the check mark from the **Closed** or **Date Locked** fields.

> [!NOTE]  
> You can't close a fiscal year before you create a new one. Notice that after a fiscal year is closed, you can't change the starting date of the following fiscal year.

Although a fiscal year is closed, you can still post general ledger entries to it. When you do, the entries are marked as posted to a closed fiscal year and the **Prior-Year Entry** field is selected.

After a fiscal year is closed, you must close the income statement accounts and transfer the year's results to an account in the balance sheet. You can repeat this every time that you post to the closed fiscal year.

## Related information

[Closing Books](year-close-books.md)    
[Post the Year-End Closing Entry](year-how-post-year-end-close-entry.md)    
[Work with Accounting Periods and Fiscal Years](finance-accounting-periods-and-fiscal-years.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/setup
---
title: Overview of tasks to set up Business Central
description: Read an overview of the tasks necessary to set up, initialize, and configure Business Central to suit your needs.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: configure, initialize
ms.date: 12/30/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap-template
---
# Overview of tasks to set up [!INCLUDE[prod_short](includes/prod_short.md)]

[!INCLUDE[prod_short](includes/prod_short.md)] includes standard configurations for most business processes, but you can change the configuration to suit the needs of your organization. The [Business Central quick start](quick-start-business-central.md) articles help you take the first steps into making [!INCLUDE [prod_short](includes/prod_short.md)] your own. This article provides an overview of how you can configure [!INCLUDE [prod_short](includes/prod_short.md)] for your organization.

For example, the chart of accounts is prefilled with posting accounts that are ready for use. You can change the chart of accounts to suit your needs. Learn more at [Finance](finance.md).

Some of the tasks and tools that this article describes require that you're an administrator in your [!INCLUDE[prod_short](includes/prod_short.md)] subscription. Learn more at [Administration](admin-setup-and-administration.md).  

## Assisted setup guides

From the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) menu, you can access assisted setup guides to help you configure certain scenarios and add features to [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more about how to access all assisted and manual setup pages at [Getting Ready to Do Business](ui-get-ready-business.md).

:::image type="content" source="media/assisted-setup.png" alt-text="Screenshot of the assisted setup page" lightbox="media/assisted-setup.png":::

> [!NOTE]
> [!INCLUDE [ua-checklist](includes/ua-checklist.md)]

## Set up companies

[!INCLUDE[prod_short](includes/prod_short.md)] organizes business entities in *companies*. For each company, you must provide some details on the **Company Information** page. Each company also contains setup data that you must define.

| To | Go to |
| --- | --- |
|Improve the quality of implementation and shorten deployment time by using tools for setting up a new company. For example, you can use assisted setup guides, templates, worksheets, and customer questionnaires.|[Setting Up a Company With Configuration Packages](admin-set-up-a-company-with-rapidstart.md)|
| Ease working with multiple companies. | [Set up Company information](admin-company-information.md) |

## Set up general functionality

In addition to the assisted setup guides, you can manually set up some general functionality. The following table provides examples.

| To | Go to |
| --- | --- |
|Set up and assign a base calendar to your company and its business partners, such as customers, vendors, or locations. [!INCLUDE [prod_short](includes/prod_short.md)] uses the working days you specify on the calendar to calculate delivery and receipt dates on sales orders, purchase orders, transfer orders, and production order lines.|[Set Up Base Calendars](across-how-to-assign-base-calendars.md)|
| Set up unique identification codes for records, such as cards, documents, and journal lines, to track them in the system. |[Create Number Series](ui-create-number-series.md) |
|Access your [!INCLUDE [prod_short](includes/prod_short.md)] data from your mobile device.|[Getting Business Central on Your Mobile Device](install-mobile-app.md)|
|Set up email communication in and out of [!INCLUDE[prod_short](includes/prod_short.md)].| [Set Up Email Manually or Using the Assisted Setup](admin-how-setup-email.md)|
|Connect to cloud-enabled printers.| [Printer Setup and Management Overview](admin-printer-setup-overview.md)|
|Set up default reports to use to print sales, purchases, and service documents, such as orders, quotes, and invoices, and which layout is used. | [Report selection for documents](across-report-selections.md)|

## Set up business processes

In addition to the assisted setup guides, you can manually set up specific business processes. The following table provides examples.

| To | Go to |
| --- | --- |
| Set up payment methods, currencies, and the chart of accounts, and define rules and defaults for managing financial transactions. |[Setting Up Finance](finance-setup-finance.md) |
| Set up your own and your vendors' bank accounts and enable services for importing and exporting bank files. |[Setting Up Banking](bank-setup-banking.md) |
| Configure the rules and values that define your company's sales policies, register new customers, and set up how you communicate with customers. |[Setting Up Sales](sales-setup-sales.md) |
| Configure the rules and values that define your company's purchasing policies, register new vendors, and prioritize your vendors for payment processing. |[Setting Up Purchasing](purchasing-setup-purchasing.md) |
| Configure the rules and values that define your inventory policies. Set up locations if you keep inventory in multiple warehouses. Categorize your items to improve searches and sorting. |[Setting Up Inventory](inventory-setup-inventory.md) |
| Set up resources, time sheets, and projects to manage projects. |[Setting Up Project Management](projects-setup-projects.md) |
| Configure how to insure, maintain, and depreciate fixed assets and set up how you record the costs of fixed assets in your company books. |[Setting Up Fixed Assets](fa-setup.md) |
|Define the general rules and values for warehouse processes and specific handling at each location.|[Setting Up Warehouse Management](warehouse-setup-warehouse.md)|
|Prepare production bills of materials (BOMs) and routings to define how end items are produced, and prepare machine or work centers to perform the required operations.|[Setting Up Manufacturing](production-configure-production-processes.md)|
|Establish standard services, symptoms, and fault codes and set up the service items, resources, and documentation needed to provide service to your customers.|[Setting Up Service Management](service-setup-service.md)|
|Read best practices for setting up items for inventory costing and supply planning.|[Setting Up Complex Application Areas Using Best Practices](set-up-complex-application-areas-using-best-practices.md)|

## Connect to other Microsoft products

You can enhance your [!INCLUDE[prod_short](includes/prod_short.md)] experience by connecting to other Microsoft products, such as:

- [!INCLUDE [outlook-name](includes/outlook-name.md)]
- [!INCLUDE [teams-name](includes/teams-name.md)]
- [!INCLUDE [word-name](includes/word-name.md)]
- [!INCLUDE [onedrive-for-business-name](includes/onedrive-for-business-name.md)]
- [!INCLUDE [powerbi-name](includes/powerbi-name.md)]
- Power Automate
- Power Apps
- Field Service
- Sales

| To | Go to |
| --- | --- |
|Use Business Central Outlook add-ins to explore financial data related to customers and vendors, or create and send financial documents, such as quotes and invoices.|[Use Business Central as Your Business Inbox in [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)]](admin-outlook.md)|
|Use Microsoft Teams with [!INCLUDE [prod_short](includes/prod_short.md)] | [Business Central and Microsoft Teams](across-teams-overview.md) |
|Use [!INCLUDE [word-name](includes/word-name.md)] with [!INCLUDE [prod_short](includes/prod_short.md)] | [Work with Word layouts](ui-how-add-fields-word-report-layout.md) |
|Use OneDrive with [!INCLUDE [prod_short](includes/prod_short.md)] to store your files. | [Business Central and OneDrive](across-onedrive-overview.md) |
|Get insights into your [!INCLUDE [prod_short](includes/prod_short.md)] data with Power BI and the [!INCLUDE [prod_short](includes/prod_short.md)] content packs.|[Enabling Your Business Data for Power BI](admin-powerbi.md)|
|Use your [!INCLUDE [prod_short](includes/prod_short.md)] data as part of a workflow in Power Automate.|[Use Business Central in an Automated Workflow](across-how-use-financials-data-source-flow.md)|
|Make your [!INCLUDE [prod_short](includes/prod_short.md)] data available as a data source in Power Apps.|[Connecting to Your Business Central Data to Build a Business App Using Power Apps](across-how-use-financials-data-source-powerapps.md)|
|Create and manage work orders, track the progress of service tasks, assign resources, and capture consumption details.|[Integrate with Microsoft Dynamics 365 Field Service](admin-integrate-field-service.md)|
|View information in [!INCLUDE [prod_short](includes/prod_short.md)] while you're working in [!INCLUDE [crm_md](includes/crm_md.md)].|[Integrating with Dynamics 365 Sales](admin-prepare-dynamics-365-for-sales-for-integration.md)|

## Set up apps

On top of the core capabilities in [!INCLUDE [prod_short](includes/prod_short.md)], Microsoft adds some apps that are listed on the [Extension Management](https://businesscentral.dynamics.com/?page=2500) page. Each app provides a link to launch its setup page. Choose the **Set up** action to get started.  

You can also add capabilities to your [!INCLUDE [prod_short](includes/prod_short.md)] by adding AppSource apps. Learn more at [Customizing Business Central Online Using Extensions](ui-extensions.md).  

## Migrate data from other systems

If you migrate from other systems, you can transfer information such as customers, vendors, inventory, and bank accounts to your [!INCLUDE [prod_short](includes/prod_short.md)].

| To | Go to |
| --- | --- |
|Transfer customers, vendors, inventory, and bank accounts information from another system into [!INCLUDE[prod_short](includes/prod_short.md)]|[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md).|
|Use dedicated QuickBooks migration guides.|[Changing from a QuickBooks App to Business Central](across-quickbooks-to-business-edition.md)|

## Related information

[Company Information Overview](admin-company-information.md)  
[Administration](admin-setup-and-administration.md)  
[Finance](finance.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Inventory](inventory-manage-inventory.md)  
[Project Management](projects-manage-projects.md)  
[Fixed Assets](fa-manage.md)  
[Assembly Management](assembly-assemble-items.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Creating New Companies in [!INCLUDE[prod_short](includes/prod_short.md)]](about-new-company.md)  
[Getting Ready to Do Business](ui-get-ready-business.md)  
[Business Central Quick Starts](quick-start-business-central.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-setup-troubleshooting
---
title: Set Up Troubleshooting Processes | Microsoft Docs
description: Learn how to set up processes that help service representatives identify and resolve issues with service items.
author: brentholtorf
ms.topic: troubleshooting-general
ms.devlang: al
ms.search.keywords: service, service item, troubleshoot, repairs, maintenance
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Setting Up Troubleshooting for Service Items
You can set up troubleshooting guidelines that help technicians solve problems when providing service. For example, guidelines might be a list of steps to perform a repair, or a series of questions to ask about the items. After you set up troubleshooting guidelines, you can assign them to service item groups, service items, and items. There is an inheritance hierarchy for guidelines. If you assign them to a service item group, the items included in the group will inherit the guidelines unless you specify them for the items. Similarly, service items will inherit guidelines from items.  

## To set up troubleshooting guidelines
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Troubleshooting**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

## To assign troubleshooting guidelines to items, service items, or service item groups
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, **Service Items**, or **Service Item Groups**, and then choose the related link.  
2. Choose the relevant entity, and then choose the **Troubleshooting** action.  

## Related information
[Service Management](service-service.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-active-versus-historic-item-tracking-entries
---
title: Design Details - Active versus Historic Item Tracking Entries
description: When parts of a document line quantity are posted, only that quantity is transferred to the item ledger entries and its item tracking numbers.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/15/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Active versus Historic Item Tracking Entries
When parts of a document line quantity are posted, only that particular quantity is transferred to the item ledger entries and its item tracking numbers. However, you will want to access all relevant item tracking information directly from the active document line. That is, not only will you want to see the entries that are related to the remaining quantity, you will also want information about the units that have been posted. When you view or modify the **Item Tracking Lines** page, the collective contents of the **Tracking Specification** table (T336) and **Reservation Entry** table (T337) are presented in a temporary version of T336. This ensures that historic and active item tracking data is accessed as one.  

 The following table shows how T336 and T337 are used in a purchase scenario. The bold figures represent values that the user manually enters on the **Item Tracking Lines** page.  

 Step 1: Create a purchase order line of seven pieces with item tracking numbers.  

||**Quantity (Base)**|**Qty. to Handle**|**Qty. to Invoice (Base)**|**Quantity Handled (Base)**|**Quantity Invoiced (Base)**|  
|-|----------------------------------------------|--------------------------------------------|------------------------------------------------------|-------------------------------------------------------|--------------------------------------------------------|  
|**T337**|7|0|0|0|0|  
|**T336**|0|0|0|0|0|  

 Step 2: Receive four pieces.  

||**Quantity (Base)**|**Qty. to Handle**|**Qty. to Invoice (Base)**|**Quantity Handled (Base)**|**Quantity Invoiced (Base)**|  
|-|----------------------------------------------|--------------------------------------------|------------------------------------------------------|-------------------------------------------------------|--------------------------------------------------------|  
|**Item Tracking Lines** page|7|**4**|**0**|0|0|  
|**T337**|3|0|0|0|0|  
|**T336**|4|0|0|4|0|  

 Step 3: Receive two pieces and invoice two pieces.  

||**Quantity (Base)**|**Qty. to Handle**|**Qty. to Invoice (Base)**|**Quantity Handled (Base)**|**Quantity Invoiced (Base)**|  
|-|----------------------------------------------|--------------------------------------------|------------------------------------------------------|-------------------------------------------------------|--------------------------------------------------------|  
|**Item Tracking Lines** page|7|**2**|**2**|4|0|  
|**T337**|1|0|0|0|0|  
|**T336**|6|0|0|6|2|  

 Step 4: Receive one piece.  

||**Quantity (Base)**|**Qty. to Handle**|**Qty. to Invoice (Base)**|**Quantity Handled (Base)**|**Quantity Invoiced (Base)**|  
|-|----------------------------------------------|--------------------------------------------|------------------------------------------------------|-------------------------------------------------------|--------------------------------------------------------|  
|**Item Tracking Lines** page|7|**1**|**0**|6|2|  
|**T336**|7|0|0|7|2|  

 Invoice 5 pieces.  

||**Quantity (Base)**|**Qty. to Handle**|**Qty. to Invoice (Base)**|**Quantity Handled (Base)**|**Quantity Invoiced (Base)**|  
|-|----------------------------------------------|--------------------------------------------|------------------------------------------------------|-------------------------------------------------------|--------------------------------------------------------|  
|**Item Tracking Lines** page|7|0|**5**|7|2|  
|**T336**|7|0|0|7|7|  

## Related information  
 [Design Details: Item Tracking](design-details-item-tracking.md)   
 [Design Details: Item Tracking Lines Page](design-details-item-tracking-lines-window.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-how-set-up-colored-indicator-on-cues
---
title: Set up your customized colored indicators for a Cue's activity
description: As an administrator, you can set up Cues that appear on the users' Role Centers to include an indicator that changes color based on the data values in the Cues.
author: jswymer


ms.topic: how-to
ms.devlang: al
ms.search.form: 9701, 9702
ms.date: 04/01/2021
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Set Up a Colored Indicator on Cues for the Company or Individual Users

As an administrator, you can set up Cues that appear on the users' Role Centers to include an indicator that changes color based on the data values in the Cues.  

The indicator appears as a colored bar along the top border of the Cue tile. It provides a visual signal of the status of the Cue's activity, which can indicate favorable or unfavorable conditions to prompt the user to take action. For example, if a Cue displays ongoing sales invoices, you can set up the indicator to appear green (favorable) when total number of ongoing sales invoices is below 10, and appears red (unfavorable) when the total is greater than 20.  

From the **Cue Setup** page, you set up indicators for all the Cues that are available in the company database. You can set up the indicators to apply to all users in the company or an individual user only. The indicator settings on the **Cue Setup** page act as the default indicator settings. If the **Cue Setup End User** page is made available to users, then they can personalize the indicators settings that you define on the **Cue Setup** page.  

To set up the indicator, you specify up to two threshold values that define three ranges of data values (low, middle, and high) to which you can apply a different color (or style).  

### To set up colored indicators on Cues  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Cue Setup**, and then choose the related link.  

     The **Cue Setup** page appears. The page lists the indicators that are currently setup up on Cues. Indicators that apply to all users in the company have a blank **User Name** field. Indicators that apply to a specific user include the user's name in the **User Name** field.  

    > [!NOTE]  
    >  If you set up a company-wide indicator and a user modifies the indicator later on, then a separate entry for the indicator appears in list for that user.  

2. Choose **Edit List** action.  
3. To set up an indicator for a Cue that is not listed on the page, choose the **New** action, and then fill in the fields as described in the following. If you want to modify an existing indicator, go to the next step.  

    |  Field  |  Description  |    
    |---------|---------------|  
    |**User Name**|If you want to set up the indicator for all users, leave this field blank.<br /><br /> If you want to set up the indicator for a specific user, then set this field to the user name.|  
    |**Table No**|Specifies the ID of the table object that contains the Cue. Use the drop down list to find the table. The drop down list includes all Cue tables in the company database.<br /><br /> The **Table Name** field will be automatically filled in based on your selection.|  
    |**Field No**|Specifies the ID of the Cue that you want to set up an indicator on. Use the drop down list to find the Cue that you want. **Note:**  The Cue ID corresponds to the field number that is assigned to the Cue in the table. <br /><br /> The **Field Name** field is automatically filled in based on your selection|  

4. To set up the indicator for a Cue, set the fields as described in the following table.  

    |  Field  |  Description  |    
    |---------|---------------|  
    |**LowStyle**|Specifies the color of the indicator when the Cue's value is below the value of the **Threshold 1** field.|  
    |**LowThreshold**|Specifies the value at or above which the indicator changes to the color specified by the **Middle Range Style** field.|  
    |**MiddleStyle**|Specifies the color of the indicator when Cue's value is greater than or equal to the value of the **Threshold 1** field but less than or equal to the value of the **Threshold 2** field.|  
    |**HighThreshold**|Specifies the value above which the indicator changes to the color specified by the **High Range Style** field.|  
    |**HighStyle**|Specifies the color to use when the Cue's value is above the value of the **Threshold 2** field.|  

     The following table lists the colors that correspond to the options of the **LowStyle**, **MiddleStyle**, and **HighStyle** fields.  

    |  Option  |  Color  |  
    |----------|---------|  
    |**None**|No color (same color as the Cue tile)|  
    |**Favorable**|Green|  
    |**Unfavorable**|Red|  
    |**Ambiguous**|Yellow|  
    |**Subordinate**|Gray|  

## Related information


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-count-inventory-with-documents
---
title: Count and adjust inventory
description: Describes how to count physical inventory and use inventory documents to adjust on-hand inventory.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: adjustment, status, negative, positive, increase, decrease, inventory
ms.search.forms: 5895, 6561, 6562, 6563, 6564, 6565, 6566, 5892, 5891, 5879, 5880, 5893, 5897, 5882, 5881, 5899, 5875, 5878, 5877, 5876, 5896, 6567, 6568, 6569, 6570, 6571, 6572, 5883, 5886, 884, 5898, 5885, 5890, 5888, 5889, 5887, 5894, 6774, 6775, 6776, 6780, 6781, 6782, 6783
ms.date: 04/19/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Count and adjust inventory using documents

You can take a physical inventory of your items by using physical inventory order and physical inventory recording documents. The **Physical Inventory Order** page is used to organize the complete inventory counting project, for example one per location. Use the **Phys. Inventory Recording** page capture and communicate the actual count of items. You can create multiple recordings for one order, for example, to distribute groups of items to different employees.

You can print the **Physical Invt. Recording** report from each recording, and it contains empty quantity fields where you can enter the counted inventory. When you're done counting and the quantities are entered on the **Phys. Inventory Recording** page, choose the **Finish** action. This action transfers the quantities to the related lines on the **Physical Inventory Order** page. [!INCLUDE [prod_short](includes/prod_short.md)]ensures that you can't record an item count twice.  

> [!NOTE]
> Using documents to perform a physical inventory count provides more control and supports distributing the counting to multiple employees. You can also use journals to perform the task, such as the **Phys. Inventory Journals** and **Whse. Phys. Inventory Journals** pages. To learn more, go to [Count, Adjust, and Reclassify Inventory Using Journals](inventory-how-count-adjust-reclassify.md). This article describes how to use documents to do a physical inventory count.
>
> If you're using zones in your warehouse, you can't use physical inventory orders. Instead, use the **Whse. Phys. Inventory Journal** page to count your warehouse entries before you synchronize them with item ledger entries.

Counting inventory by using documents consists of the following overall steps:

1. Create a physical inventory order with expected item quantities prefilled.
2. Generate one or more physical inventory recordings from the order.
3. Enter the counted item quantities on the recordings, as captured on print-outs, for example, and set it to **Finished**.
4. Complete and post the physical inventory order.

## To create a physical inventory order

A physical inventory order is a complete document that consists of a physical inventory order header and order lines. The information on a physical inventory header describes how to take the physical inventory. The order lines contain the information about the items and their locations.

To create the physical inventory order lines, you typically use the **Calculate Lines** action to add the current inventory as lines on the order. You can also use the **Copy from Document** action to fill in the lines with the content of another open or posted physical inventory order. The following procedure only describes how to use the **Calculate Lines** action.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Physical Inventory Orders**, and then choose the related link.
2. Choose the **New** action.
3. Fill in the required fields on the **General** FastTab. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. On the **Actions** tab, in the **Functions** group, choose **Other**, and then choose **Calculate Lines**.
5. Select options as necessary.
6. Set filters, for example, to only include a subset of items to count with the first recording.

    > [!TIP]
    > To plan for multiple employees to count the inventory, set different filters each time you use the **Calculate Lines** action to fill in the order with the subset of inventory items that a user will record. Then, as you generate multiple physical inventory recordings for multiple employees, you minimize the risk of counting items twice. To learn more, go to [To create a physical inventory recording](#to-create-a-physical-inventory-recording).

7. Choose the **OK** button.

A line for each item that exists on the chosen location and per the set filters and options is added to the order. For items that are set up for item tracking, the **Use Item Tracking** checkbox is selected and information about the expected quantity of serial and lot numbers is available by choosing **Lines**, and then **Item Tracking Lines**. To learn more, go to [Handle item tracking when counting inventory](#handle-item-tracking-when-counting-inventory).

You can now create one or more recordings, which are instructions to the employees who do the counting.  

> [!NOTE]
> If you use package-specific tracking, you can also use documents to count and adjust inventory with package numbers. To start using this feature, you must turn on **Feature Update: Enable use of package tracking in physical inventory orders** on the **Feature Management** page. Existing physical inventory orders are updated, however, [!INCLUDE [prod_short](includes/prod_short.md)] can't populate the **Package No.** field. You must recreate these lines using the **Calculate Lines** action on the **Physical Inventory Order** page.
>
> You can enter the package number for items where package tracking is needed on the **Phys. Inventory Recording Lines** page. Choose **Finish** to finalize recording.
>
> After you choose **Finish** on the **Physical Inventory Order** page, [!INCLUDE [prod_short](includes/prod_short.md)] calculates differences with respect to the package and other item tracking details, and makes positive or negative adjustments.

## To create a physical inventory recording

For each physical inventory order, you can create one or more physical inventory recording documents on which employees enter the counted quantities. Employees can enter quantities either manually, or with a scanning device.

By default, a recording is created for all the lines on the related physical inventory order. To avoid that two employees count the same items if you distribute counting, gradually fill in the physical inventory order by setting filters on the **Calculate Lines** batch job. Then create the physical inventory recording with the **Only Lines Not in Recordings** checkbox selected. This setting ensures that each new recording contains different items than those on other recordings.

For manual counting, you can print the **Phys. Invt. Recording** report, which has an empty column where warehouse employees can write the counted quantities. When counting is complete, you enter the recorded quantities on the related lines on the **Phys. Inventory Recording** page. Lastly, you transfer the recorded quantities to the related physical inventory order by setting the status to **Finished**.

1. On a **Physical Inventory Order** page that contains lines for the items to be counted in one recording, you need to choose the **Make New Recording** action.
1. On the **Actions** tab, in the **Functions** group, choose **Other**, and then choose **Make New Recording**.
1. Select options and set filters as necessary.
1. Choose the **OK** button.
1. For every set of items to be counted, load them on the related physical inventory order and repeat steps 1 through 3 with the **Only Lines Not in Recordings** checkbox selected.
1. On the **Related** tab, choose **Order**, and then choose the **Recordings** action to open the **Phys. Inventory Recording List** page.
1. Open the relevant recording.
1. On the **General** FastTab, fill in the fields as necessary.
1. For items that use item tracking, create an additional line for each lot number or serial number code by choosing the **Functions** action, and then the **Copy Line** action. To learn more, go to [Handle item tracking when counting inventory](#handle-item-tracking-when-counting-inventory).  
1. Choose the **Print** action to prepare the physical document that employees can use to note the quantities they count.

## To finish a physical inventory recording

After employees count the quantities, record the quantities in [!INCLUDE [prod_short](includes/prod_short.md)].

1. From the **Phys. Inventory Recording List** page, select the physical inventory recording that you want to finish, and then choose the **Edit** action.
2. On the **Lines** FastTab, fill the actual counted quantity in the **Quantity** field for each line.
3. For items with serial or lot numbers (the **Use Item Tracking** checkbox is selected), enter the counted quantities on the lines for the item's serial and lot numbers respectively. To learn more, go to [Handle item tracking when counting inventory](#handle-item-tracking-when-counting-inventory).
4. Select the **Recorded** checkbox on each line.
5. When you have entered all data for a physical inventory recording, choose the **Finish** action. Note that all lines must have the **Recorded** checkbox selected.

    > [!NOTE]
    > When you finish a physical inventory recording, each line is transferred to the line on the related physical inventory order that matches it exactly. To match, the values in the **Item No.**, **Variant Code**, **Location Code**, and **Bin Code** fields must be the same on the recording and the order lines.>
    > 
    > If a matching physical inventory order line doesn't exist, and if the **Allow Recording Without Order** checkbox is selected, a new line is added and the **Recorded Without Order** checkbox on the related physical inventory order line is selected. Otherwise, an error message displays and the process is canceled.>
    > If more than one physical inventory recording lines match a physical inventory order line, then a message displays and the process is canceled. If, for some reason, two identical physical inventory lines end up on the physical inventory order, you can use a action to resolve it. To learn more, go to [To find duplicate physical inventory order lines](#to-find-duplicate-physical-inventory-order-lines).

## To complete a physical inventory order

After you finish a physical inventory recording, the **Qty. Recorder (Base)** field on the related physical inventory order is updated with the counted (recorded) values, and the **On Recording Lines** checkbox is selected. If a counted quantity differs from the expected quantity, the **Pos Qty. (Base)** and **Neg Qty. (Base)** fields show the difference.

To access the expected quantities and any recorded differences for items with item tracking, choose the **Lines** action, and then choose **Item Tracking Lines** to select various views for the serial and lot numbers in the physical inventory count.

You can also choose the **Phys. Inventory Order Diff.** action to view any differences between the expected quantity and the counted quantity.

### To find duplicate physical inventory order lines

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Physical Inventory Orders**, and then choose the related link.
2. Open the physical inventory order to view duplicate lines for.
1. On the **Related** tab, choose **Other**, and then choose **Show Duplicate Lines**.

Duplicate physical inventory order lines display so that you can delete them and keep only one line with a unique set of values in the **Item No.**, **Variant Code**, **Location Code**, and **Bin Code** fields.

### To post a physical inventory order

After you complete a physical inventory order and change its status to **Finished**, you can post it. You can only set the status of a physical inventory order to **Finished** under the following conditions:

- All related physical inventory recordings have a status of **Finished**.
- Each physical inventory order line is counted by at least one inventory recording line.
- The **In Recording Lines** and the **Qty. Exp. Calculated** checkboxes are selected for all physical inventory order lines.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Physical Inventory Orders**, and then choose the related link.
2. Select the physical inventory order that you want to complete, and then choose the **Edit** action.

    On the **Physical Inventory Order** page, the quantity recorded shows in the **Qty. Recorded (Base)** field.
3. Choose the **Finish** action.

    The value in the **Status** field is **Finished**. You can now only change the order by choosing the **Reopen** action.
4. To post the order, choose the **Post** action, and then choose the **OK** button.

    The item ledger entries are updated along with any related item tracking entries.

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

### To view posted physical inventory orders

After posting, the physical inventory order is deleted and you can view and evaluate the document as a posted physical inventory order. The posted order includes its physical inventory recordings and any comments made.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Phys. Invt. Orders**, and then choose the related link.
2. On the **Posted Phys. Invt. Orders** page, select the posted inventory order to view, and then choose the **View** action.
3. On the **Related** tab, choose **Order**, and then choose the **Recordings** action to view a list of related physical inventory recordings.  

## Handle item tracking when counting inventory

Item tracking relates to the serial or lot numbers that are assigned to items. When you count an item that's stored in inventory as, for example, 10 different lot numbers, employee must be able to record which and how many units of each lot number are on inventory. To learn more, go to [Work with Serial and Lot Numbers](inventory-how-work-item-tracking.md).

The **Use Item Tracking** checkbox on physical inventory order lines is automatically selected if an item tracking code is set up for the item. You can select or clear the checkbox manually.

### Example - Prepare a physical inventory recording for an item-tracked item

Consider a physical inventory for Item A, which is stored in inventory as ten different serial numbers.

1. On the recording line for the item, select the **Use Item Tracking** checkbox.
2. Choose the **Serial No.** field, select the first serial number that exists in inventory for the item, and then choose the **OK** button.

    Copy the line for the first item-tracked item to insert additional lines that correspond to the number of serial numbers that are stored in inventory.

3. Choose the **Functions** action, and then choose **Copy Line**.
4. On the **Copy Phys. Invt. Rec. Line** page, enter **9** in the **No. of Copies** field, and then choose the **OK** button.
5. On the first line, in the **Serial No.** field, select the next serial number for the item.
6. Repeat step 5 for the remaining eight serial numbers. Be sure you don't select the same number twice.
7. Choose the **Print** action to prepare the print-out that employees use to write down the counted items and serial/lot numbers.

Notice that the **Phys. Invt. Recording** report contains ten lines for Item A, one for each serial number.

### Example - Record and post counted lot number differences

A lot-tracked item is stored in inventory with the "LOT" number series.

**Expected Inventory**:

|Lot No.|Quantity|
|-|-|
|LOT1001|80|
|LOT1003|30|
|LOT1006|10|
|Total|120|

**Recorded Quantities**:

|Lot No.|Quantity|
|-|-|
|LOT1001|80|
|LOT0002|12|
|LOT1003|20|
|LOT1006|10|
|Total|112|

**Quantities to Post**:

|Lot No.|Expected Quantity|Recorded Quantity|Quantity to Post|
|-|-|-|-|
|LOT1001|80|80|0|
|LOT1002|0|12|+12|
|LOT1003|30|20|-10|
|LOT1006|10|0|-10|
|Total|120|112|-8|

On the **Physical Inventory Order** page, the **Neg. Qty. (Base)** field contains **8**. For the order line, the **Phys. Invt. Item Track. List** page shows the positive or negative quantities for each lot number.

## Inventory documents

The following types of documents are useful for managing your warehouse:

* Use **inventory receipts** to register positive adjustments of items based on the quality, quantity, and cost.
* Use **inventory shipments** to write off missing or damaged goods.

You can print these documents at any stage, release, and reopen them, and assign common values such as dimensions in the header. To reprint the documents after they're posted, use the **Posted Inventory Receipt** and **Posted Inventory Shipment** pages.

> [!NOTE]
> Before you can use these documents, you must specify a number series to create their identifiers. To learn more, go to [To set up numbering for inventory documents](#to-set-up-numbering-for-inventory-documents).

### To set up numbering for inventory documents

The following procedure shows how to set up numbering for inventory documents.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Inventory Setup**, and then choose the related link.
2. On the **Numbering** FastTab, specify in the following fields the series of numbers for documents:

   - **Invt. Receipt Nos.**  
   - **Posted Invt. Receipt Nos.**  
   - **Invt. Shipment Nos.**  
   - **Posted Invt. Shipment Nos.**  

### To create and post an inventory document

The following procedure shows how to create, print, and post an inventory receipt. The steps are similar for inventory shipments.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Inventory Receipts**, and then choose the related link.  
2. In the header of the **Invt. Receipt** page, choose the location in the **Location Code** field, and then fill in the remaining fields as necessary.
3. On the **Lines** FastTab, in the **Item** field, choose the inventory item. In the **Quantity** field, enter the number of items to add.
4. To print an **Inventory Receipt** report from the **Invt. Receipt** page, choose the **Print** action.

The following functions are available on the **Invt. Receipt** page:

- Choose the **Release** or **Reopen** actions to set the status for the next processing stage.  
- Choose the **Post** action to post the inventory receipt, or choose **Post and Print** to post the receipt and print the test report.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

## Printing inventory documents

You can specify the reports that must be printed at different stages by choosing one of the following options in the **Usage** field the **Report Selection - Inventory** page:

* Inventory Receipt
* Inventory Shipment
* Posted Inventory Receipt
* Posted Inventory Shipment

> [!NOTE]
> The available reports might vary based on the localization for your country/region. The base application doesn't include any layouts.

## Related information

[Count, Adjust, and Reclassify Inventory Using Journals](inventory-how-count-adjust-reclassify.md)    
[Work with Serial and Lot Numbers](inventory-how-work-item-tracking.md)    
[Inventory](inventory-manage-inventory.md)    
[Warehouse Management Overview](design-details-warehouse-management.md)    
[Sales](sales-manage-sales.md)    
[Purchasing](purchasing-manage-purchasing.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi
---
title: Financial analytics
description: Business Central helps you gather, analyze, and share company data for business intelligence.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords: bi, power BI, analysis, KPI
ms.search.form: 103, 108, 198, 490, 36984, 36985, 36986, 36987, 36988, 36989, 36990, 36991, 36992, 36993, 36994, 36995, Report_4, Report_6, Report_7, Report_9, Report_10, Report_17, Report_18, Report_25, Report_27, Report_28, Report_33, Report_38, Report_104, Report_120, Report_129, Report_304, Report_322, Report_329, Report_1404
ms.date: 12/30/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Financial analytics

During daily activities, businesses capture lots of data that can support business intelligence (BI) for decision makers:

- Sales figures
- Purchases
- Operational expenses
- Employee salaries
- Budgets

[!INCLUDE[prod_short](includes/prod_short.md)] offers features to help you gather, analyze, and share your organization's finance data:

- Financial reporting (for financial statements and KPIs)
- Power BI reports for finance
- Ad-hoc analysis on lists
- Ad-hoc analysis of data in Excel (using open in Excel)
- Built-in finance reports

Each of these features has its advantages and disadvantages, depending on the type of data analysis and the role of the user. To learn more, go to [Analytics, business intelligence, and reporting overview](reports-bi-reporting.md).

This article introduces how you can use these analytical features to provide financial insights.

## Analytics needs in finance

When thinking of analytics needs in finance, it might help to use a mental model based on personas described on a high-level and their different analytics needs.

:::image type="content" source="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas.svg" alt-text="Illustration of different personas for analytics" lightbox="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas.svg":::

People in different roles have different needs when it comes to data, and they use the data in different ways. For example, people in finance interact with data differently than people in sales.

:::image type="content" source="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas-scenarios.svg" alt-text="Illustration of how different personas have different analytics needs." lightbox="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas-scenarios.svg":::

| Role              | Data aggregation  | Typical ways to consume data                          | 
|-------------------|-------------------| ----------------------------------------------------- |
|CFO / CEO          | Performance data  | KPIs <br> Dashboards <br> Financial reports           |
|Finance Management | Trends, summaries | Built-in managerial reports <br> Ad-hoc analysis      | 
|Bookkeeper         | Detailed data     | Built-in operational reports <br> On-screen task data |

## Using Power BI to monitor financial statements and KPIs

A key performance indicator (KPI) is a measurable value that shows how effectively youâ€™re meeting your goals. In finance, people often use the following KPIs to monitor their organization's financial health:

- Net Profit Margin
- Gross Profit Margin
- Current/Quick/Cash Ratio
- COGS (Cost of Goods Sold)
- Debt-to-Equity Ratio
- Current/Payroll/Longterm Liabilities
- Operating Profit - EBIT
- EBITDA
- Average Collection Period (Days)

:::image type="content" source="media/finance/financial-overview.png" alt-text="Screenshot of the Finance Overview report" lightbox="media/finance/financial-overview.png":::

These financial KPIs, and more, are available in the Power BI Finance app for [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Power BI finance app](finance-powerbi-app.md).

[!INCLUDE [power-bi-finance-app](includes/power-bi-finance-app.md)]

## Using Financial Reporting to produce financial statements and KPIs

The **Financial Reporting** feature gives you insights into the financial data shown on your chart of accounts (COA). You can set up financial reports to analyze figures in general ledger (G/L) accounts, and compare general ledger entries with budget entries. The results display in charts and reports on your home page, such as the Cash Flow chart, and the Income Statement and Balance Sheet reports.

Dimensions play an important role in business intelligence. A dimension is data that you can add to an entry as a parameter. Dimensions let you group entries that have similar characteristics so they're easier to analyze. For example, customers, regions, products, and salespersons. Among other purposes, use dimensions when you define analysis views and create financial reports. Learn more at [Work with Dimensions](finance-dimensions.md).

> [!TIP]
> As a quick way to analyze transactional data, you can filter totals in the chart of accounts and all entries in **Entries** pages by dimensions. Look for the **Set Dimension Filter** action.  

The following table describes a sequence of tasks in financial reporting, with links to the articles that describe them.  

| To | See |
| --- | --- |
| Create new financial reports to define financial statements for reporting or to display as charts.| [Prepare Financial Reports with Financial Data and Account Categories](bi-how-work-account-schedule.md)|
| Use statistical accounts to supplement information in financial reports. Statistical accounts let you add metrics that are based on nontransactional data. You can add the nontransactional data as number-based units, such as employee headcount, square footage, or number of customers with overdue accounts. | [Analyze data with statistical accounts](bi-use-statistical-accounts.md) |
| Learn how to set up a new financial report through examples. | [Walkthrough: Use financial reporting to make a cash flow forecasts](walkthrough-making-cash-flow-forecasts-by-using-account-schedules.md) |
| Analyze your financial performance by setting up key performance indicators (KPIs) based on financial reports, which you then publish as web services. The published financial reports KPIs can be viewed on a web site or imported to Microsoft Excel using OData web services. |[Set Up and Publish KPI Web Services Based on Financial Reports](bi-how-to-set-up-and-publish-kpi-web-services-based-on-account-schedules.md) |
| Set up views to analyze data using dimensions.|[Analyze Data by Dimensions](bi-how-analyze-data-dimension.md)|
| Create new analysis reports for sales, purchases, and inventory, and set up analysis templates. |[Create Analysis Reports](bi-how-create-analysis-views-reports.md)|

## Finance reporting across business units or legal entities

Some organizations use [!INCLUDE [prod_short](includes/prod_short.md)] in multiple business units or legal entities. Others use [!INCLUDE [prod_short](includes/prod_short.md)] in subsidiaries that must report into parent organizations. [!INCLUDE [prod_short](includes/prod_short.md)] gives accountants tools that help them transfer general ledger entries from two or more companies (subsidiaries) into a consolidated company.  

To learn more, go to [Company consolidation](finance-consolidated-company-reporting.md).

## Ad-hoc analysis of finance data

Sometimes, you just need to check whether the numbers add up correctly, or quickly confirm a figure. The following features are great for ad-hoc analyses:

- Data analysis on ledger list pages
- Open in Excel

The Data analysis feature lets you open almost any list page, such as General Ledger Entries, Fixed Asset Ledger Entries, Check Ledger Entries, or Bank Account Ledger Entries, enter analysis mode, and then group, filter, and pivot data as you see fit.

:::image type="content" source="media/data-analysis-gl-entries.png" alt-text="Example of how to do data analysis on the G/L entries page." lightbox="media/data-analysis-gl-entries.png":::

Similarly, you can use the **Open in Excel** action to open a list page for ledger entries, optionally filter the list to a subset of the data, and then use Excel to work with the data. For example, by using features such as [!INCLUDE [excel-copilot-name](includes/excel-copilot-name.md)], Analyze Data, What-If Analysis, or Forecast Sheet.

:::image type="content" source="media/open-in-excel-gl-entries.png" alt-text="Example of how to do data analysis on the G/L entries data using Excel." lightbox="media/open-in-excel-gl-entries.png":::

[!INCLUDE [onedrive-excel-online](includes/onedrive-excel-online.md)]

To learn more about ad-hoc analyses on ledgers, go to [Ad hoc analysis on finance data](ad-hoc-analysis-finance.md).

## Built-in reports for finance

[!INCLUDE [prod_short](includes/prod_short.md)] includes several built-in reports, tracing functions, and tools to help auditors or controllers who are responsible for reporting to the finance department.

To get an overview of available reports, you can choose **All reports** on the top pane of your home page. This action opens the Role Explorer, which is filtered to the features in the **Report & Analysis** option. To learn more, go to [Finding Reports with the Role Explorer](ui-role-explorer.md).

:::image type="content" source="media/report-explorer-finance.png" alt-text="Example of reports on the finance role center." lightbox="media/report-explorer-finance.png":::

Built-in reports come in two flavors:

- Designed for print (pdf).
- Designed for analysis in Excel.

The following articles provide more information about built-in reports:

- [Built-in key finance reports](finance-reports.md)
- [Built-in fixed assets reports](fa-reports.md)
- [Built-in accounts receivable reports](receivables-reports.md)
- [Built-in accounts payable reports](payables-reports.md)

<!-- TODO: add when we have these articles
* [Built-in Cost Accounting reports](cost-accounting-reports.md) 
* [Built-in Cash Management reports](cost-accounting-reports.md) 
* [Built-in Tax and VAT reports](tax-and-vat-reports.md) 
-->

## On-screen finance task pages

[!INCLUDE [prod_short](includes/prod_short.md)] has several pages that give you financial overviews and tasks to do:

- [Show general ledger entries and balances from the Chart of Accounts page](#show-general-ledger-entries-and-balances-from-the-chart-of-accounts-page)
- [View actual amounts compared to budgeted amounts for all accounts and for several periods](#view-actual-amounts-compared-to-budgeted-amounts-for-all-accounts-and-for-several-periods)
- [Analyze data by dimensions](#analyze-data-by-dimensions)
- [Analyzing cash flow](#analyzing-cash-flow)

### Show general ledger entries and balances from the Chart of Accounts page

The Chart of Accounts page shows all general ledger accounts with aggregated numbers posted to the general ledger. From this page, you can do things like:  

- View reports that show general ledger entries and balances.  
- Review a list of posting groups for that account.
- View separate debit and credit balances for a single account.

:::image type="content" source="media/chart-of-accounts-page.png" alt-text="Example of how the Chart of Accounts page shows finance insights" lightbox="media/chart-of-accounts-page.png":::

To learn more, go to [Understand the Chart of Accounts](finance-general-ledger.md#the-chart-of-accounts).

### View actual amounts compared to budgeted amounts for all accounts and for several periods

As a part of gathering, analyzing, and sharing your company data, you might want to view actual amounts compared to budgeted amounts for all accounts and for several periods. You can make this comparison from the **Chart of Accounts** page, by choosing the **G/L Balance/Budget** action.

To learn more, go to [Analyze Actual Amounts Versus Budgeted Amounts](bi-how-analyze-actual-versus-budget.md).

### Analyze data by dimensions

Dimensions are values that categorize entries so you can track and analyze them on documents, such as sales orders. Dimensions can, for example, indicate the project or department an entry came from.  

So, instead of setting up separate general ledger accounts for each department and project, you can use dimensions as a basis for analysis and avoid having to create a complicated chart of accounts structure.

In financial analysis, a dimension is data you add to a G/L entry as a kind of marker. This data is used to group G/L entries with similar characteristics, such as customers, regions, products, and salesperson, and easily retrieve these groups for analysis. You can use dimensions on entries in journals, documents, and budgets.

To learn more, go to [Analyze Data by Dimensions](bi-how-analyze-data-dimension.md).

### Analyzing cash flow

On the Accountant home page, under **Finance Performance**, the Cash Cycle, Cash Flow, and Income & Expense charts offer ways to analyze cash flow:

- Review figures for a period by using the timeline slider.
- Filter the chart by choosing the source in the legend.
- Change the length of the period, or go to the previous or next period, by choosing options on the Finance Performance drop down.

:::image type="content" source="media/cashflow-accountant-rolecentre.png" alt-text="Example of how the cash flow visuals look on the accountant role centre" lightbox="media/cashflow-accountant-rolecentre.png":::

To examine the forecast, in addition to forecast entries, you can also look at the cash flow worksheet. For example, you can see how the forecast:

- Handles confirmed sales and purchases.
- Subtracts payables and adds receivables.
- Skips duplicate sales orders and purchase orders.

To learn more, go to [Analyzing Cash Flow in Your Company](finance-analyze-cash-flow.md).

## Related information

[Handling finance reporting across business units or legal entities](finance-consolidated-company-reporting.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Prepare Financial Reports with Financial Data and Account Categories](bi-how-work-account-schedule.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Understand the Chart of Accounts](finance-general-ledger.md#the-chart-of-accounts)  
[Built-in key finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Finance overview](finance.md)  
[Analytics, business intelligence, and reporting overview](reports-bi-reporting.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-co2e-analysis
---
title: CO2e Analysis
description: The CO2e Analysis report provides detailed insight into your CO2e emissions and how you're purchasing carbon credit.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 06/04/2025
ms.service: dynamics-365-business-central
---

# CO2e Analysis (Power BI Report)

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

The CO2e Analysis report provides a key view on the CO2e impacts across different business factors. The view is broken down by the CO2e month on month and by category. The report also highlights the carbon credits your company purchased, which lets you analyze credit offsets based on different years and months.

:::image type="content" source="media\sustainability\co2e-analysis.png" alt-text="Screenshot of the CO2e Analysis Power BI report" lightbox="media\sustainability\co2e-analysis.png":::

## Use the report

Sustainability Managers can use this report to monitor CO2e emissions and effectively evaluate the carbon offset that they purchased in a given period. That evaluation can inform strategies for reducing and offsetting emissions.

The executive team can use the report to understand the gross emissions and effect of their carbon credits. The report enables you to communicate progress on net emissions to stakeholders and ensure alignment with the ESG commitments.

## Key Performance Indicators (KPIs)

The CO2e Analysis report includes the following KPIs and measures:

- [CO2e Emissions](sustainability-powerbi-kpis.md#co2e-emissions)
- [Purchased Carbon Credits](sustainability-powerbi-kpis.md#purchased-carbon-credits)

Choose the link for a KPI to learn more about what it means, how its calculation, and what data was used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The CO2e Analysis report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sustainability Ledger Entry
- Sustainability Account Category

## Try the report

Try the report here: [CO2e Analysis](https://businesscentral.dynamics.com?page=37089)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-payment-methods
---
title: Set up payment methods
description: You use payment methods, for example, check, bank transfer, cash, or PayPal, to define how sales and purchase invoices are paid.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: check, bank transfer, cash, PayPal
ms.search.form: 427,
ms.date: 06/10/2024
ms.service: dynamics-365-business-central

---
# Set up payment methods

Payment methods define the way you prefer for customers to pay you, and how you like to pay your vendors. The method can vary for each customer or vendor. Examples of typical payment methods are **bank**, **cash**, **check**, or **account**.

You can assign a payment method to customers and vendors so that the same method is always used on the sales and purchase documents you create for them. If needed, you can change the method on the sales or purchase document. For example, if you want to pay a particular purchase invoice in cash rather than by check. The default payment method assigned to the vendor doesn't change.

The same payment methods are used for sales and purchase documents. For example, a _cash_ payment method is used to make payments and to receive them. [!INCLUDE[prod_short](includes/prod_short.md)] knows that when you're creating a sales invoice you expect to receive payment, and the opposite for purchase invoices.

Credit memos for returns, however, are exceptions because money is flowing in the opposite directions, from you to your customer and from your vendor to you. Therefore, a default payment method isn't assigned to credit memos. There is, however, a workaround. You can specify terms of payment for the customer or vendor. Though the **Calc. Pmt. Disc. on Cr. Memos** field isn't intended for this workaround, if you choose the checkbox on the **Payment Terms** page a default payment method is added when you create a credit memo. <br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=34d91385-2010-4135-b47d-2062660ede80]

## To set up a payment method

[!INCLUDE[prod_short](includes/prod_short.md)] provides a few payment methods that businesses often use. You can, however, add as many as you need.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Methods**, and then choose the related link.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

Optionally, add payment terms to your payment method. For more information, see [Set Up Payment Terms](finance-payment-terms.md).  

## To assign a payment method to a customer or vendor

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer** or **Vendor**, and then choose the related link.
2. In the **Payment Method Code** field, choose the method to use by default for the customer or vendor.

## Audit changes to payment methods

You can use the Change Log feature to capture changes users make to your payment method setup. [!INCLUDE [include-audit-what-who-when](includes/include-audit-what-who-when.md)] 

The following table lists the table for payment methods and its ID.

| Table | Table ID |
| ----- | -------- |
| Payment Method | 289 |

[!INCLUDE [include-audit-changes-to-setup-learn-more-link](includes/include-audit-changes-to-setup-learn-more-link.md)]


## Related information

[Register New Customers](sales-how-register-new-customers.md)  
[Set Up Payment Terms](finance-payment-terms.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-teams-integration
---
title: Managing Microsoft Teams Integration with Business Central| Microsoft Docs
description: Manage Business Central integration with Microsoft Teams.
author: jswymer
ms.topic: overview
ms.search.keywords: Teams, MS Teams, Microsoft Teams, Skype, Link, Microsoft 365, collaborate, collaboration, teamwork
ms.date: 01/06/2025
ms.author: jswymer
ms.reviewer: jswymer
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.search.form: 2718_Primary
---

# Managing Microsoft Teams Integration with [!INCLUDE [prod_short](includes/prod_short.md)]

[!INCLUDE [online_only](includes/online_only.md)]

This article provides an overview of what you can do as an administrator to control Microsoft Teams integration with [!INCLUDE [prod_short](includes/prod_short.md)].

## In Microsoft Teams

### Minimum requirements

This section describes the minimum requirements for the [!INCLUDE [prod_short](includes/prod_short.md)] app features to work in Teams.

- Required licenses

    The [!INCLUDE[prod_short](includes/prod_short.md)] app requires a Teams license through a Microsoft 365 Business or Enterprise plan, Microsoft Teams EEA, or a similar plan that includes Microsoft Teams. Standalone Teams plans like Microsoft Teams (free) or Microsoft Teams Essentials aren't supported.

    Most features of the [!INCLUDE[prod_short](includes/prod_short.md)] app for Teams also require a [!INCLUDE [prod_short](includes/prod_short.md)] license, as shown in the following table.

    |What|[!INCLUDE [prod_short](includes/prod_short.md)] license|
    |----|---|
    |Search for [!INCLUDE [prod_short](includes/prod_short.md)] contacts.|![check mark](media/check.png "check")|
    |Paste a link to a [!INCLUDE [prod_short](includes/prod_short.md)] record into a conversation, and send it as a card.|![check mark](media/check.png "check")|
    |Share a link from a page in [!INCLUDE [prod_short](includes/prod_short.md)] to Teams conversation.|![check mark](media/check.png "check")|
    |View a card of a [!INCLUDE [prod_short](includes/prod_short.md)] record in a conversation.||
    |View more details of card for a [!INCLUDE [prod_short](includes/prod_short.md)] record in a conversation.|![check mark](media/check.png "check")|
    |Open a page link in [!INCLUDE [prod_short](includes/prod_short.md)] from a conversation.|![check mark](media/check.png "check")|

- Allow URL previews

    **Allow URL previews** policy setting must be turned on. Otherwise, a card can't be generated for [!INCLUDE [prod_short](includes/prod_short.md)] links pasted into a Teams conversation. Learn more about this setting in [Manage messaging policies in Teams](/microsoftteams/messaging-policies-in-teams).

### Managing the [!INCLUDE [prod_short](includes/prod_short.md)] app (optional)

As a Teams administrator, you can manage all apps for your organization, including the [!INCLUDE [prod_short](includes/prod_short.md)] app. You can approve or install the [!INCLUDE [prod_short](includes/prod_short.md)] app for your organization, block user's from installing the app, and more.

Learn more in the Microsoft Teams documentation at:

- [Manage your apps in the Microsoft Teams admin center](/MicrosoftTeams/manage-apps)
- [Manage app setup policies in Microsoft Teams](/microsoftteams/teams-app-setup-policies)

## In [!INCLUDE [prod_short](includes/prod_short.md)]

### Minimum requirements

- [!INCLUDE [prod_short](includes/prod_short.md)] version:

  Teams integration is only supported for [!INCLUDE [prod_short](includes/prod_short.md)] online, not on-premises.

- Codeunit **2718 Page Summary Provider** is published as a web service:

  This codeunit is published as a web service by default. The codeunit is part of the [!INCLUDE [prod_short](includes/prod_short.md)] system application. It's used to get the field data for a [!INCLUDE [prod_short](includes/prod_short.md)] page added to a Teams conversation. Learn more about publishing web services in [Publish a Web Service](across-how-publish-web-service.md).

- <a name="permissions"></a>User permissions:

  For the most part, the contact search, pages, and data that users can view and edit in a Teams conversation is controlled by their permissions in [!INCLUDE [prod_short](includes/prod_short.md)].

  - To search for contacts, users must have at least read permission to the **Contacts** table. 
  - To paste a [!INCLUDE [prod_short](includes/prod_short.md)] link into a Teams conversation and have it expand into a card, users must have at least read permission on the page and its data.
  - Once a card is submitted into a conversation, any user in that conversation can view that card without permission to [!INCLUDE [prod_short](includes/prod_short.md)].
  - To view more details for a card or open the record in [!INCLUDE [prod_short](includes/prod_short.md)], users must have read permission on the page and its data.
  - To change data, user's need modify permissions.

  Learn more in [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

## Installing the Business Central app by using Centralized Deployment

The Microsoft Teams admin center is where you configure Teams app setup policies for the organization. In the Teams admin center, you can use the Centralized Deployment feature to automatically install the Business Central app in Teams for all users in your organization, specific groups, or individual users.

> [!NOTE]
> To set up Centralized Deployment, your Teams account must have at least the [Teams Administrator](/entra/identity/role-based-access-control/permissions-reference#teams-administrator) role.

1. In Business Central, choose the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Teams App Centralized Deployment**, and then choose the related link. Or select [here](https://businesscentral.dynamics.com/?page=1833) to open the page directly.
2. Read the information on the **Set up the Business Central app for Teams**, then choose **Next** when ready.
3. Open the [Teams admin center](https://go.microsoft.com/fwlink/?linkid=2163970), and complete the following steps.
    1. Go to **Teams apps** > **Setup policies**.
    2. Create a new policy or select the policy that you want to use to install the Business Central app, then select **Add apps**.
    3. In the **Add installed apps** page, search for and select **Business Central**.
    4. Choose **Add**.

       Business Central should now appear under **Installed apps** for the policy.
    5. Configure more settings as needed, then choose **Save**.

    Learn more in [Manage app setup policies in Microsoft Teams](/MicrosoftTeams/teams-app-setup-policies) in the Teams documentation.
4. Go back to **Teams App Centralized Deployment** in Business Central and select **Done**.

> [!IMPORTANT]
> It can take up to 24 hours for the app setup policy to be applied and the app deployed to users.

## Managing privacy and compliance

Microsoft Teams provides extensive controls for compliance and management of sensitive or personally identifiable data&mdash;including data added to chats and channels by the [!INCLUDE [prod_short](includes/prod_short.md)] app.

### Understanding where [!INCLUDE [prod_short](includes/prod_short.md)] cards are stored

After a card is sent to a chat, the card and the fields shown on the card are copied to Teams. This information is subject to the Teams policies for your organization, such as data retention policies. When displaying card details, none of the data in the details window is stored in Teams. The data remains stored in [!INCLUDE [prod_short](includes/prod_short.md)] and will only be retrieved by Teams when the user chooses to view the details. 

- Learn more about where Teams stores that data at [Location of data in Microsoft Teams](/microsoftteams/location-of-data-in-teams).
- Learn more about retention policies in Teams at [Retention policies in Microsoft Teams](/microsoftteams/retention-policies).

### Restricting sharing of cards 

You prevent specific users or groups from sending cards to chats or channels by setting up messaging policies that turn off the **URL Previews** setting. For more information about this setting, see [Manage messaging policies in Teams](/microsoftteams/messaging-policies-in-teams). 

You can also use information barriers to prevent individuals or groups from communicating with each other. To learn more, see [Information barriers in Microsoft Teams](/microsoftteams/information-barriers-in-teams).

Data loss prevention features in the Microsoft Purview can't be applied specifically to cards. But they can be applied to the chat messages that contain the cards.

### Responding to data requests

You allow team members and team owners to delete messages that contain sensitive cards by setting up messaging policies, like: **Owners can delete sent messages** and **Users can delete sent messages**. Learn more at [Manage messaging policies in Teams](/microsoftteams/messaging-policies-in-teams).

Content search and eDiscovery compliance features in the Microsoft Purview can also be applied to cards.

Because card data in Teams is a copy of data in [!INCLUDE [prod_short](includes/prod_short.md)], you can also use [!INCLUDE [prod_short](includes/prod_short.md)] features to export a customerâ€™s data if requested. Learn more  about privacy in [!INCLUDE [prod_short](includes/prod_short.md)] in [Privacy FAQ for Business Central Customers](/dynamics365/business-central/dev-itpro/security/privacyfaq).

## Show or hide record data on cards

When a record is shared with others in a Teams chat or channel, a card with fields that contain data about the record is shown. All recipients can view this data (or record summary) by default, regardless of their license or permissions in Business Central. If you're an admin, you can use the **Card Settings** assisted setup guide to hide the record summary from appearing on cards in Teams. Hiding the record summary removes all fields and images but continues to show the **Details** button and other non-record information on the card.

|Record summary on|Record summary off|
|-|-|
|![Image that shows a card in Teams when the record summery is turned on.](media/card-settings-example-on.png)|![Image that shows a card in Teams when the record summery is turned off.](media/card-settings-example-off.png)|

You configure the setting per environment. So when you turn the record summary on or off, it affects all companies in the environment.

1. In Business Central, open the environment that you want to change.

   > [!TIP]
   > To switch the environment, select <kbd>Ctrl</kbd>+<kbd>O</kbd>.
2. Choose the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Card Settings**, and then choose the related link.
3. Read the information on the **Card Settings**, then choose **Next** when ready.
4. On the **Data Visibility** page, turn on the **Show record summary** switch to display data on the cards or off to hide the data.
5. Select **Next** and follow the instructions to complete the setup guide.

## Related information

[[!INCLUDE [prod_short](includes/prod_short.md)] and Microsoft Teams Integration Overview](across-teams-overview.md)  
[Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams](across-install-app-for-teams.md)  
[Teams FAQ](teams-faq.md)  
[Troubleshooting Teams](admin-teams-troubleshooting.md)  
[Developing for Teams Integration](/dynamics365/business-central/dev-itpro/developer/devenv-develop-for-teams)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-to-lend-receive-loaners
---
title: How to Lend Service Items as Substitutes | Microsoft Docs
description: You can lend customers loaner items to temporarily replace service items that you have received for servicing.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Lend and Receive Loaners
You can lend customers loaners to temporarily replace service items that you have received for servicing.  
  
## To lend a loaner item    
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the relevant service order card.  
3. Select the service item line with the service item you want to replace with a loaner.  
4. In the **Loaner No.** field, choose the relevant loaner item.  
5. Choose **Yes** to confirm the loan.  

## To receive a loaner  
When you receive a loaner from a customer, you must register the receipt. You do this in the **Service Order**, **Posted Service Shipment**, and **Loaner Card** pages. This procedure shows how to receive loaners on the **Service Order** page.  
  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the relevant service order.  
3. Choose the service item line with the loaner you want to receive.  
4. Choose **Actions**, choose **Functions**, and then choose **Receive Loaner**.  

## To register loaner comments  
You can use the **General Service Comment Sheet** page to register comments on registered loaners.  
  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Loaners**, and then choose the related link.  
2. Open the relevant loaner card.  
3. Choose the **Comments** action. The **General Service Comment Sheet** page opens.  
4. In the **Date** field, enter a date.  
5. In the **Comment** field, enter a comment. You can enter a maximum of 80 characters. If you need to enter additional text, go to the next line. You can fill in as many lines as necessary.  
  
## Related information  
[Set Up a Loaner Program](service-how-setup-loaner-program.md)   


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-accounting-periods-and-fiscal-years
---
title: Working with accounting periods and fiscal years
description: Learn how to work with accounting periods to define when your company reports financial performance.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.form: 100,
ms.date: 08/05/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Work with accounting periods and fiscal years

Accounting periods, also known as reporting periods, are periods of time for which a company or organization reports financial performance by generating, for example, their income statement or balance sheet. Typically, accounting periods refer to the company's fiscal year, which can contain several accounting periods, such as months or quarters.

For many companies the fiscal year doesn't align with the calendar year, for instance when the fiscal year ends on June 30 rather than December 31. For newly created companies, the fiscal year might even actually be longer than 12 months.  

[!INCLUDE[prod_short](includes/prod_short.md)] only requires accounting periods if you want to close an income statement, or run data compression tasks.

You can use accounting periods in reporting such as when you're reviewing posted entries on the **Balance/Budget** page where the reporting interval is specified. One of the options you might specify is to report by accounting period. You can also build a financial report that compares results for different accounting periods.

## Creating a new fiscal year

You can create accounting periods in bulk by using the **Create Fiscal Year** batch job, or by doing so manually.

### How to create accounting periods in bulk

Use the **Create Fiscal Year** batch job to divide a fiscal year into periods of equal length.  

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Accounting Periods**, then choose the related link.  
2. Choose the **Create Year** action.
3. In the **Starting Date** field, enter the date on which the fiscal year starts.  
4. In the **No. of Periods** field, enter the number of accounting periods to divide the fiscal year into. There can be up to 365 periods in a year.  
5. In the **Period Length** field, enter a duration for each period. Duration identifiers include 1M for one month, 1Q for one quarter, and 1Y for one year.  
6. Choose **OK**.  

### How to create accounting periods manually

If the accounting periods in your fiscal year have different durations, such as the 4-4-5 calendar used in retail, you can manually set it up.  
  
1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Accounting Periods**, then choose the related link.  
2. In the **Starting Date** field, enter the date on which the fiscal year starts. The **Name** field will show the name of the month.  
3. Choose the **New Fiscal Year** check box to indicate that this is the first period in the year. [!INCLUDE[prod_short](includes/prod_short.md)] will use this period to determine which periods to close at year-end.
4. Repeat steps 2 and 3 for each remaining period.  

## Closing a fiscal year

Closing the fiscal year is one of the tasks for closing the books. After you close a fiscal year, the **Closed** and **Date Locked** check boxes are selected for all periods in the year. You can't reopen a year or clear the check boxes.

> [!NOTE]  
> You must always have at least one open fiscal year. When closing a year, ensure that a new year has been created. Also, note that after you close one year, you cannot change the starting date of the following year.

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Accounting Periods**, and then choose the related link.  
2. Choose the **Close Year** action.  

## Posting entries to a closed fiscal year

Although a fiscal year is closed, you can still post general ledger entries to it. When you do, the entries are marked as posted to a closed fiscal year and the **Prior Year Entry** check box is selected. By default, the check box isn't displayed on the page, but you can add it. The next steps are to close the income statement accounts and transfer the year's results to an account in the balance sheet. Repeat these steps each time you post entries to a closed fiscal year.

## Related information

[Closing the Books](year-close-books.md)    
[Closing Years and Periods](year-close-years-periods.md)    
[How to Work with Financial Reports](bi-how-work-account-schedule.md)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/hr-how-manage-absence
---
title: Manage Employee Absence
description: Describes how to record employees' absence and analyze absence statistics using the Absence Registration and Employee Absences pages.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 5200, 5201, 5204, 5206, 5208, 5209, 5211, 5212
ms.date: 06/16/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Manage Employee Absence
To manage an employee's absence, you must record the absence on the **Absence Registration** page. It can then be viewed in different ways for analysis and reporting needs.

You can view employee absence in two different pages:

* The **Absence Registration** page, where you register all employee absences with a line for each absence.
* The **Employee Absences** page, where the absences for one employee only is shown. This is the information that you entered on the **Absence Registration** page, filtered by the particular employee.

To obtain meaningful statistics, you should always use the same unit of measure (hour or day) when registering employee absences.

## To register employee absence
You can register employee absences on a daily basis or at some other interval that meets your organizational needs.

1. In the top right corner, choose the **Search for Page or Report** icon, enter **Absence Registration**, and then choose the related link.
2. Choose the **New** action.
3. Fill in a line for each employee absence you want to register.
4. Close the page.

    > [!Tip]
    > To obtain meaningful statistics, always use the same unit of measure, hour or day, when registering employee absences.

## To view an individual employee's absence
1. In the top right corner, choose the **Search for Page or Report** icon, enter **Employees**, and then choose the related link.
2. Select the relevant employee, and then choose the **Absences** action.

    The **Employee Absences** page opens showing all the absences and the date on which they started and ended.

## To view an employee's absence by categories
1. In the top right corner, choose the **Search for Page or Report** icon, enter **Employees**, and then choose the related link.
2. Select the relevant employee, and then choose the **Absences by Categories** action.
3. On the **Empl. Absences by categories** page, fill in the filter fields as necessary, and then choose the **Show Matrix** action.

    The **Empl. Absences by Cat. Matrix** page opens showing all absences, broken down by causes of absence.

## To view all employee absences by category
1. In the top right corner, choose the **Search for Page or Report** icon, enter **Absence Registration**, and then choose the related link.
2. On the **Absence Registration** page, choose the **Overview by Categories** action.
3. On the **Absence Overview by Categories** page, set a filter in the **Employee No. Filter** field to view employee absences for individual or a defined group of employees.
4. Choose the **Show Matrix** action.

    The **Absence Overview by Categories Matrix** page opens showing all employeesâ€™ absences broken down by the various causes of absence.

## To view all employee absences by period
1. In the top right corner, choose the **Search for Page or Report** icon, enter **Absence Registration**, and then choose the related link.
   On the **Absence Registration** page, choose the **Overview by Periods** action.
2. On the **Absence Overview by Periods** page, set a filter in the **Cause of Absence Filter** field to view employee absences for specified causes of absence.
3. Choose the **Show Matrix** action.

    The **Abs. Overview by Periods Matrix** page opens showing employee absences broken down by periods.

## Related information
[Manage Human Resources](hr-manage-human-resources.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Which Features are Displayed](ui-experiences.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-change-layout-currently-used-report
---
title: Change the Way a Report Looks by Selecting a Different Layout
description: You can use different layouts for a report, and switch between layouts to change how a report looks.
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.keywords: customized report, document layout, logo, personalize
ms.search.form: 9652, 9650
ms.date: 03/07/2022
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# (Obsolete) Set the Layout Used by a Report

[!INCLUDE[legacy-custom-layouts](includes/legacy-custom-layouts.md)]

A report can be set up with more than one report layout, which you can then switch among as needed.

Depending on the layouts that are available for a report, you can choose to use a built-in RDLC report layout, a built-in Word report layout, or a custom layout. For more information about RDLC and Word report layouts, built-in and custom layouts, and more, see [Manage Report Layouts](ui-manage-report-layouts.md).

When custom report layouts are defined, you can select them from customer and vendor cards to specify that the selected layouts will be used for documents that you crate for the customer or vendor in question. For more information, see [Define Document Layouts for Customers and Vendors](ui-define-customer-vendor-document-layouts.md).

> [!TIP]  
> Document reports (not lists) that use a Word report layout are typically faster than those that use an RDLC report layout. So if you have the option to choose between a Word or RDLC report layout for a document report, use the Word report layout for the best performance.

## To change which report layout to use for a report or document

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Layout Selection**, and then choose the related link.
  
   The **Report Layout Selection** page lists all the reports that are available for the company that's specified in the **Company** field at the top of the page. The **Layout Description** <!-- **Selected Layout** -->field specifies the layout that's currently used on the report.
2. Set the **Company** field at the top the company that includes the report.

   This field let's you set a different layouts for same report report in different companies.

3. To change the layout that is used by a report, on the row for the report, set the **Selected Layout** field to one of the following options:
   * **RDLC (built-in)**, uses the built-in RDLC report layout on the report.
   * **Word (built-in)**, uses the built-in Word report layout on the report.
   * **Custom**, uses a custom layout on the report.  

> [!NOTE]
> If you choose a report layout of type **RDLC (built-in)** or **Word (built-in)** and you get an error message that the report does not have a layout of the specified type, then you must choose another layout option or create a custom report layout of the type that you want to use. See the next procedure.

If you selected a built-in RDLC or Word report layout, then no further action is required, and the layout will be used the next time the report is run.

## To change the custom layout to use for a report layout

You may also want to change the currently used custom layout. For more information, see [Create and Modify Custom Report Layouts](ui-how-create-custom-report-layout.md).

All custom report layouts that exist for report layouts in a company are listed on the **Custom Report Layouts** page. On the **Report Layout Selection** page, you can see which custom layouts are available for each report in the **Custom Layouts** FactBox.

1. On the **Report Layout Selection** page, on the line for the report layout that you want to change, choose the lookup button in the **Custom Layout Description** field.
2. On the **Custom Report Layouts** page, select the row for the custom layout that you want to use, and then choose the **OK** button.

The name of the selected custom layout is now shown in the **Custom Layout Description** field and will be used the next time the report or document is previewed, printed, or sent.

You can now go to your customer and vendor cards to specify which of the layouts to use for different documents that you crate for the customer or vendor in question, such as order confirmations or payment reminders. For more information, see [Define Document Layouts for Customers and Vendors](ui-define-customer-vendor-document-layouts.md).

## Related information
[Managing Report Layouts](ui-manage-report-layouts.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/about-validated-localization-apps
---
title: Development of validated localization apps
description: Comply with regulatory requirements in Business Central as a Validated Localization App.
author: altotovi
ms.date: 12/11/2024
ms.reviewer: bholtorf
ms.topic: article
ms.author: altotovi
ms.custom: references_regions
---

# Development of Validated Localization apps

This article describes the requirements and guidelines for developing a Validated Localization app for [!INCLUDE[prod_short](includes/prod_short.md)].

## What is a Validated Localization app?

[!INCLUDE[prod_short](includes/prod_short.md)] is available [globally in 170+ markets](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations?toc=/dynamics365/business-central/toc.json). In some markets, Microsoft works with independent software vendor (ISV) partners to localize [!INCLUDE[prod_short](includes/prod_short.md)] through localization apps that we make available on [Microsoft AppSource](https://go.microsoft.com/fwlink/?linkid=2081646). For those regions, localizations can be available through preferred localization app program. Preferred localization apps program recognizes those apps, which are built according to Microsoft quality guidelines. ISV partners who comply with those program requirements and guidelines can benefit technically and commercially to serve their resellers and customers.  

In the following sections, you can find requirements and guidelines. You can reach out to the program team if you want to participate in this program and comply with the below requirements by contacting us through [Microsoft localization team](mailto:d365bcloc@microsoft.com).

> [!IMPORTANT]
> The [!INCLUDE[prod_short](includes/prod_short.md)] Validated Localization apps initiative is currently being rolled out as a pilot program. The following requirements and benefits can change based upon the partner and customer feedback.  

Apps in the Validated Localization pilot program contain a set of functionalities addressing local regulatory requirements that fall within one of the categories in the following list.  

- **Regulatory requirements** - local functionality that helps businesses fulfill their legal requirements, such as tax reporting, local E-invoicing formats, local GAAP, and other regulatory requirements.
- **National standards requirement** â€“ local functionality that addresses local standards, such as address formats, national banking formats, or local interpretations of global standards.
- **Local language** - local language in the localization app, but also for a base app if this language isn't currently on the list of [supported languages](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations?toc=/dynamics365/business-central/toc.json).

> [!NOTE]
> Local market needs or industry requirements should not be included in the preferred localization apps. If apps contain these functionalities, the apps can't be approved as Validated Localization apps.

> [!NOTE]
> Local functionality is beneficial to the productivity business processes in a country and thereby adds value to a business but isn't required from a regulatory perspective, such as specific banking and payment formats, expense reports, HR features, and payroll. Similar smaller or bigger, and nice-to-have features should be isolated into other apps. If apps contain these functionalities, they aren't approved as Validated Localization apps.

## Validated Localization app business requirements  

- The Validated Localization App provider complies with all requirements to be a CSP indirect provider.  
- The Validated Localization App provider brings to market a minimum of offerings across five countries/regions, which bundle Dynamics 365 Business Central with a Validated Localization App.
- The Validated Localization App provider has a minimum of 10 [!INCLUDE[prod_short](includes/prod_short.md)] online customers with production environments, which are actively using the Validated Localization App.
- The Validated Localization App provider submits a business plan on a yearly basis to the program v-team. The plan includes planned marketing and readiness activities to promote the bundled offering with the CSP Indirect Resellers in applicable countries/regions. Plan can be submitted at the start of each quarter to [Microsoft localization team](mailto:d365bcloc@microsoft.com).  
- The Validated Localization Apps are available to all customers and partners who want to benefit from them.
- The Validated Localization App provider engages in recurring workstreams with Microsoft.
- The Validated Localization App provider must maintain its status as an Embedded Localization Partner.  
- The Validated Localization App provider agrees to continuously adhere to the business, functional, and technical requirements outlined on this page.

## Validated Localization app functional and technical requirements  

### Functionality requirements

In addition to the technical requirements for the preferred localization app, the minimum viable product scope for preferred localization app is:  

- Local Regulatory Features:  
  - Legal requirements.
  - Officially mandatory features.
  - Horizontal only features (not industry-specific).  
  - Applicable in most businesses.  
  - Within the following blueprint:
    - Areas of the most frequent legislative changes.
    - Already tracked as a localization in Microsoft localizations.
    - Feature references â€“ seldom new.  
    - No vendor or bank specific formats, payroll, or similar.
    - No global features not built by Microsoft.
- Translations:
  - Translation of a localization app to local languages.
  - Translation of a base app to local languages if the language isn't already [supported](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations?toc=/dynamics365/business-central/toc.json).  
  - Translation of the localization app's documentation to local languages.
- Even though they're both part of localization, we recommended that National Standard Features (local part) are built as separate apps from Local Regulatory Features.
- Demo data in the local language for the specific market.
- All features must be designed with a basic user interface. They're intended primarily for the SMB market.  
- Avoid building new features if the same or similar functionality is already in the base app. For example, electronic invoicing, audit exports, VAT features, data exchange, and others. Most of the functionality is common to all countries/regions, but there are local rules or business formats that are extensions of global frameworks or formats. Instead of building new features, extend existing ones.  
- Prepare setup guides (wizards) for areas that are complex to set up to help users enable, discover, and have good first experience using your localization app.  
- Partners must provide functional documentation for all aspects of their localization.  

### Technical requirements  

The following are requirements that you must meet before submitting the Validated Localization app as an extension for validation. This list doesnâ€™t change the [technical validation list](/dynamics365/business-central/dev-itpro/developer/devenv-checklist-submission) and only extends requirements from there.  

- Providers must build the Validated Localization app based on the W1 base app.  
- Providers must follow Microsoft lifecycle and support policies.   
- Mandatory test automation must cover a minimum 80% of code and all business processes that change with the Validated Localization app must be covered by test automation.  
- Providers must update and/or test its Validated Localization app before the official launch of new release (minimum with the RC before new release) to confirm there are no issues. 
- All objects in the Validated Localization app code must be in English.   
- The Validated Localization app providers must follow Microsoft policy for obsolete objects and breaking changes and best practices for deprecation of the AL Code.  
- The Validated Localization app providers should add new events if required by the market (other implementation partners or customers) if it makes reasonable business sense. The events must follow Microsoft policy and practice. Otherwise, the validated localization app providers must provide a response to justify why it doesn't make reasonable business sense to add them.
- The Validated Localization app providers must provide written test scenarios in English and enable Microsoft to do manual testing if required by Microsoft.  
- If a Validated Localization app extends the [!INCLUDE[prod_short](includes/prod_short.md)] data model with new tables and/or fields, the Validated Localization app provider must set the **DataClassification** property correctly.

> [!NOTE]  
> You can also create an integration if you find it beneficial to have some functionality placed outside the [!INCLUDE[prod_short](includes/prod_short.md)] environment and instead connect to [!INCLUDE[prod_short](includes/prod_short.md)] using for example, APIs or web services.

## Related information

[Technical validation](/dynamics365/business-central/dev-itpro/developer/devenv-checklist-submission)  
[Development of a standard Localization Solution](/dynamics365/business-central/dev-itpro/developer/readiness/readiness-develop-localization)  
[Country/regional availability and supported languages](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations)  
[What is Local Functionality in Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]?](about-localization.md)  
[International availability of Microsoft Dynamics 365](/dynamics365/get-started/availability)  
[Compliance overview](compliance/compliance-overview.md)  
[Geographical availability for Dynamics 365](https://releaseplans.microsoft.com/availability-reports/?report=productgeoreport/)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-synchronize-outlook-contacts
---
title: Synchronize Contacts in Business Central with Contacts in Microsoft Outlook
description: This service has deep integration with Microsoft 365 so you can share contacts between Outlook and Business Central.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: contacts, Microsoft 365
ms.search.form: 6700, 5320, 5300, 5301, 5302, 5303, 5304, 5305, 5306, 5307, 5308, 5309, 5310, 5311 
ms.date: 05/21/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Synchronize contacts in Business Central with contacts in Microsoft Outlook

You can set up contact synchronization so that your contacts in [!INCLUDE[prod_short](includes/prod_short.md)] have the same information as your contacts in Microsoft Outlook. For example, if you're a sales person, you might work in Outlook and [!INCLUDE[prod_short](includes/prod_short.md)] at the same time. If the contacts are the same in both places, your work is more straightforward.  

By default, the contacts you're syncing are kept in a **Business Central** folder in your Favorites on the Folder Pane in Outlook. The Business Central folder can make it easier to identify which contacts you're syncing. You can set filters to sync only specific contacts from [!INCLUDE[prod_short](includes/prod_short.md)] to Outlook. After you set up synchronization, you can synchronize manually or automate the process to synchronize on a scheduled basis.  

## Prerequisites

- Your user account in [!INCLUDE[prod_short](includes/prod_short.md)] must specify your Microsoft 365 email account.

  You can check this setting in the **Microsoft 365** section of your **User Card**, which you open from the **Users** list.
- With [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, you set up contact synchronization as described in [Set Up contact synchronization with Outlook for Business Central on-premises](admin-contact-sync-setup-onprem.md).

## Set up synchronization

You set up how you want to synchronize contacts with Outlook on the **Exchange Sync. Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)]. 

On the **Exchange Sync. Setup** page, you can validate that the connection to Exchange is working and then set up contact synchronization. From the **Exchange Sync. Setup** page, you can open the **Contact Sync. Setup** page and start the synchronization. Optionally, set a filter to specify which contacts to synchronize. For example, you can filter on name, type, company, and so on. You can also change the default name of the folder in Outlook that the contacts synchronize to.  

Each of your coworkers can also set up their own Exchange synchronization and set their own filters on which contacts to synchronize.  

After you set up synchronization, sync changes manually. Business Central versions 2023 release wave 2 and earlier support automated synchronization. Learn more about automation in the next section of this article.

## Synchronize contacts

To sync contacts, select one of these actions on the **Exchange Sync. Setup** page:

- **Sync with Microsoft 365**

  Synchronize all changes from [!INCLUDE[prod_short](includes/prod_short.md)] to Microsoft 365 that were made after the last synchronization, based on the last modified date. Also, new contacts from Microsoft 365 are synchronized to [!INCLUDE[prod_short](includes/prod_short.md)]. Typically, this action is faster than a full sync. 

- **Full Sync with Microsoft 365**

  Synchronize all contacts in both directions, regardless of the last sync date and last modified date.  

In both cases, contacts are only synchronized from Outlook if they have the required fields filled in. The required fields to synchronize to Microsoft 365 are **Name**, **Email address** and the contact must be of the type **Person**. [!INCLUDE[prod_short](includes/prod_short.md)] is the source of the contact information, so the [!INCLUDE[prod_short](includes/prod_short.md)] contact information is saved if there are duplicates.  

> [!NOTE]
> If you delete a contact in Outlook, but keep it in [!INCLUDE[prod_short](includes/prod_short.md)], the contact will be recreated in Outlook the next time you sync.

### Automate synchronization (background synchronization)

> [!IMPORTANT]
> Starting in 2024 release wave 1 (version 24), you can't turn on background synchronization anymore. If it's currently on, it works as expected. If you turn it off, you can't turn it on again.

To automate sync, if the **Enable Background Synchronization** toggle is on, create a job queue entry to sync contacts on a schedule you set. Learn more in [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

The following table lists the settings on the **Job Queue Entry Card** page for syncing contacts:

|Field|Setting for contact sync|
|-----|-----|
|Object Type to Run|Codeunit|
|Object ID to Run|6700|

## Related information

[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Finance](finance.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Use contacts (People) in Outlook on the web](https://support.office.com/article/Using-contacts-People-in-Outlook-on-the-web-1e3438c7-26b2-420c-87de-3cea9d31b5cb?appver=OWB150)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-budget-comparison
---
title: Budget Comparison
description: The Budget Comparison report provides a comparative analysis of G/L amounts to G/L budget amounts by month. 
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36987_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Budget Comparison (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Budget Comparison** report provides a comparative view of your company's financial performance with budgeted targets. The report lays out data by month to offer a month-to-month analysis, and it categorizes accounts by income statement or balance sheet.

:::image type="content" source="media/finance/budget-comparison-report.png" alt-text="Screenshot of the Budget Comparison report" lightbox="media/finance/budget-comparison-report.png":::

## Use the report

The audiences for the report are:

- Executives
- Finance Managers

Executive or finance managers use the report to monitor your company's financial performance. By filtering by different G/L budgets, shortcut dimensions, and fiscal periods, you can assess performance against various benchmarks. Analyzing the net change and variance metrics helps you identify accounts that need attention, ultimately leading to improved planning and more strategic decision-making.

## Key Performance Indicators (KPIs)

The *Budget Comparison* report includes the following KPIs and measures: 

- [**Net Change**](finance-powerbi-kpis.md#net-change)
- [**Budget Amount**](finance-powerbi-kpis.md#budget-amount)
- [**Variance to Budget**](finance-powerbi-kpis.md#variance-to-budget)
- [**Variance to Budget %**](finance-powerbi-kpis.md#variance-to-budget-)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- G/L Account
- G/L Entry
- G/L Budget Entry

## Try the report

Try the report here: [Budget Comparison](https://businesscentral.dynamics.com?page=36987)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/manufacturing-powerbi-work-center-statistics
---
title: Work Center Statistics
description: The Work Center Statistics report shows key performance indicators for each work center.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
# TODO correct page id must be added
# ms.search.form: 37042_Primary 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Work Center Statistics (Power BI Report)

[!INCLUDE[applies-to-2025w1](includes/applies-to-2025w1.md)]

The **Work Center Statistics** report offers a comprehensive view of operational performance across all work centers. Through a combination of high-level metrics and granular details, this report provides insights needed to evaluate efficiency, resource utilization, and production outcomes. The KPI cards and **Work Center Efficiency** chart provide concise summaries of key performance indicators (KPIs), enabling quick assessments of work center performance. For a deeper analysis, you can leverage the detailed insights presented in the **Statistic Details** table to support decision-making and drive operational improvements.

:::image type="content" source="media/manufacturing/work-center-statistics-v26.png" alt-text="Screenshot of the Work Center Statistics Power BI Report" lightbox="media/manufacturing/work-center-statistics-v26.png":::

The **Work Center Scrap %** KPI card highlights the work center's scrap percentage, which is an important measure of performance. The KPI compares the ratio of scrap generated to the total output processed by the work center. This data lets you quickly assess operational efficiency and pinpoint areas for improvement

The **Work Center Load** KPI card provides a holistic view of the work center's workload and capacity by showcasing three essential measures:

- Work Center Load
- Allocated Time
- Capacity (Effective)

The KPI can help you assess resource utilization, identify bottlenecks, and evaluate operational efficiency within the work center.

The **Work Center Efficiency** chart shows the actual efficiency of each work center, organized by work center number. It provides a visual comparison of efficiency levels, enabling you to identify performance variations and target areas for operational improvements.

The **Statistics Details** table provides a detailed summary of each work center, including its associated work center and a range of KPIs. The listed KPIs cover various aspects of performance, such as capacity, efficiency, cost, time allocation, output, scrap metrics, and runtime statistics. The KPIs include:

- Work Center Capacity (Total)
- Work Center Capacity (Effective)
- Work Center Expected Efficiency %
- Work Center Actual Need
- Work Center Actual Efficiency %
- Work Center Actual Total Cost
- Work Center Allocated Time

## Use the report

The Work Center Statistics report is designed to help manufacturing managers and production supervisors analyze work center performance and efficiency.

Manufacturing managers use this report to assess key statistics related to work center operations. By reviewing the performance metrics, you can identify areas for improvement, optimize resource allocation, and ensure that work centers operate at peak efficiency. This information helps with strategic planning and maintaining smooth production workflows.

Production supervisors rely on this report to monitor work center performance. By analyzing data on output levels, scrap rates, capacity needs, and potential bottlenecks, you can make informed decisions to address inefficiencies and maintain steady production.

## Key performance indicators (KPIs)

The Work Center Statistics report includes the following KPIs and measures:

- [Work Center Capacity (Total)](manufacturing-powerbi-kpis.md#work-center-capacity-total)
- [Work Center Capacity (Effective)](manufacturing-powerbi-kpis.md#work-center-capacity-effective)
- [Work Center Expected Efficiency %](manufacturing-powerbi-kpis.md#work-center-expected-efficiency-percent)
- [Work Center Actual Need](manufacturing-powerbi-kpis.md#work-center-actual-need)
- [Work Center Actual Efficiency %](manufacturing-powerbi-kpis.md#work-center-actual-efficiency-percent)
- [Work Center Actual Total Cost](manufacturing-powerbi-kpis.md#work-center-actual-total-cost)
- [Work Center Allocated Time](manufacturing-powerbi-kpis.md#work-center-allocated-time)
- [Work Center Output](manufacturing-powerbi-kpis.md#work-center-output)
- [Work Center Scrap](manufacturing-powerbi-kpis.md#work-center-scrap)
- [Work Center Scrap %](manufacturing-powerbi-kpis.md#work-center-scrap-percent)
- [Work Center Load](manufacturing-powerbi-kpis.md#work-center-load)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)]

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Capacity Ledger Entry
- Prod Order Capacity Need
- Calendar Entry
- Work Center
  
## Try the report

Try the report here: [Work Center Statistics](https://businesscentral.dynamics.com?page=)<!-- TODO Set page ID for link -->

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Manufacturing app](manufacturing-powerbi-app.md)  
[Built-in production reports](production-reports.md)  
[Manufacturing overview](production-manage-manufacturing.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-sales-decomposition
---
title: Sales Decomposition (Power BI report)
description: The Sales Decomposition provides a detailed analysis of sales metrics, breaking them down into their key contributing components. This report empowers users to understand what is driving changes in sales performance and why.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37101_Primary
ms.date: 05/20/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Sales Decomposition (Power BI Report)

[!INCLUDE[applies-to-2025w1](includes/applies-to-2025w1.md)]

The **Sales Decomposition** report provides a detailed analysis of sales metrics, breaking them down into their key contributing components. This report can help you understands what's driving changes in sales performance, and why.

:::image type="content" source="media/powerbi/sales/sales-decomposition.png" alt-text="Screenshot of the Sales Decomposition report" lightbox="media/powerbi/sales/sales-decomposition.png":::

## Use the report

Leadership and management teams use the report to identify trends, break down sales metrics into their key contributing components, and make informed adjustments to strategies.

As the CEO of a furniture company, the report enables you to assess high-level sales trends and identify key drivers behind performance changes. For example, you notice that sales of office desks drive significant growth in a certain region. The decomposition tree reveals that 30% of this growth is attributed to new customers acquired in the past quarter. Based on this insight, you decide to invest in expanding marketing campaigns to attract buyers in other regions.

As the regional sales manager, the report helps you monitor contributions at individual locations and optimize regional sales strategies. For example, you spot that a location has seen a 15% drop in sales, primarily due to a decline in sales of classic desks. In response, you assign a dedicated salesperson to the region to focus on re-engaging client and offer special discounts.

## Key performance indicators

The report includes the following key performance indicators (KPIs) and measures:

- [Sales Amount](sales-powerbi-sales-kpis.md#sales-amount)
- [Sales Quantity](sales-powerbi-sales-kpis.md#sales-quantity)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)]

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Items
- Locations
- Value Entries
- Sales Lines
- Item Categories
- Salespersons/Purchasers

## Try the report

Try the report here: [Sales Decomposition](https://businesscentral.dynamics.com?page=37101)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad-hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-invoice-prepayments
---
title: Invoice prepayments
description: Learn how to use prepayments to invoice and collect deposits from customers and remit deposits to vendors in Business Central. 
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.form: 42, 42, 48, 50, 52, 9305, 9307
ms.date: 07/19/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Invoicing prepayments

[!INCLUDE [prepayment_def](includes/prepayment_def.md)]

[!INCLUDE [prepayment_req](includes/prepayment_req.md)]

For example, you can specify a total amount for the entire order, or you can distribute the prepayment across each line on the order. You can also send additional prepayment invoices if, for example, additional items are added to the order. You can increase quantities or add new lines to an order after issuing a prepayment, and then you can post another prepayment invoice.  

> [!NOTE]
> If you want to delete a line for which a prepayment has already been invoiced, you must issue a prepayment credit memo before you can delete the line.

The following table describes a sequence of tasks, with links to the articles that describe them.

|**To**|**See**|  
|------------|-------------|  
|Set up prepayment posting groups and number series, and set up default prepayment percentages for customers, vendors, and items.|[Set Up Prepayments](finance-set-up-prepayments.md)|
|Create an order, adjust the prepayment amounts, and issue an invoice for prepayment amounts.|[Create Prepayment Invoices](finance-how-to-create-prepayment-invoices.md)|  
|Issue an additional prepayment invoice, either for additional items or for an additional deposit on the original order, or issue a prepayment credit memo.|[Correct Prepayments](finance-how-to-correct-prepayments.md)|  

## Related information

[Walkthrough: Setting Up and Invoicing Sales Prepayments](walkthrough-setting-up-and-invoicing-sales-prepayments.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-ship-items
---
title: Ship items
description: This article describes how to ship items from your warehouse.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 06/10/2024
ms.custom: bap-template
ms.search.form: 7335, 7337, 7339, 7340, 7341, 7362, 9008
ms.service: dynamics-365-business-central
---

# Ship items with a warehouse shipment

In [!INCLUDE[prod_short](includes/prod_short.md)], you pick and ship items using one of four methods, as described in the following table.

|Method|Outbound Process|Require Pick|Require Shipment|Complexity Level (Learn more at [Warehouse Management Overview](design-details-warehouse-management.md))|  
|------|----------------|-----|---------|-------------------------------------------------------------------------------------|  
|A|Post the pick and shipment from the order line|||No dedicated warehouse activity.|  
|B|Post the pick and shipment from an inventory pick document|Turned on||Basic: Order-by-order.|  
|C|Post the pick and shipment from a warehouse shipment document||Turned on|Basic: Consolidated receive/ship posting for multiple orders.|  
|D|Post the pick from a warehouse pick document, and post the shipment from a warehouse shipment document|Turned on|Turned on|Advanced|  

To learn more about shipping items, go to [Outbound Warehouse Flow](design-details-outbound-warehouse-flow.md).

This article refers to methods C and D in the table. In both methods, you start by creating a shipment document from a business source document. Then you pick the specified items for the shipment.

When a location requires warehouse shipments, you can ship items based on source documents that were released to the warehouse. Releasing source documents makes the items on them ready to be handled in the warehouse. The following are examples of source documents:

* Sales orders
* Purchase return orders
* Transfer orders
* Service orders

You can create a warehouse shipment in one of two ways:

* In a push fashion, when work is done on an order-by-order basis. Choose the **Create Warehouse Shipment** action in the source document to create a warehouse shipment for the document.
* In a pull fashion, where you use the **Release** action in the source document to release it to the warehouse. A warehouse employee creates a **Warehouse Shipment** for one or many released source documents. The following procedure describes how to create warehouse shipment in a pull fashion.

## To ship items using a warehouse shipment document

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Shipments**, then choose the related link.  
2. Choose **New**.  
3. In the **No.** field, choose the number series to use to create an ID for the shipment.  
4. In the **Location Code** field, choose the location you're shipping from. 

    When you retrieve source document lines, some of the information from the location is copied to each line.  
5. If the location requires bins, fill in the **Bin Code** field. Depending on your setup, [!INCLUDE[prod_short](includes/prod_short.md)]] can add the bin code for you. Learn more at [Zone and bin codes](warehouse-how-ship-items.md#zone-and-bin-codes).  
6. You can get the source document in two ways:

    * Choose the **Get Source Documents** action. The **Source Documents - Outbound** page opens. Here you can select one or more source documents released to warehouse that requires shipment.
    * Choose the **Use Filters to Get Src. Docs.** action. The **Filters to Get Source Docs.** page opens. You can select the source document filter and apply it. All released source document lines that fulfill the filter criteria are added on the **Warehouse Shipment** page. Learn more at [How to Use Filters to Get Source Documents](warehouse-how-ship-items.md#how-to-use-filters-to-get-source-documents).

    > [!NOTE]
    > If your location uses cross-docking and bins for each line, you can review the quantity of items placed in the cross-dock bins. [!INCLUDE [prod_short](includes/prod_short.md)] calculates the quantities whenever the fields on the shipment are updated. If they're the items on the shipment you're preparing, you can create a pick for all the items and then complete the shipment. Learn more at [Cross-Dock Items](warehouse-how-to-cross-dock-items.md).

7. Create a warehouse pick. If the location requires picking, you can create pick activities for warehouse shipments in one of two ways:

    * In a push fashion, where you use the **Create Pick** action. Select the lines to pick and specify information about the picks. For example, which bins to take from and place in, and how many units to handle. The bins can be predefined for the warehouse location or resource.
    * In a pull fashion, where you use the **Release** action. On the **Pick Worksheet** page, use the **Get Warehouse Documents** action to get your assigned picks. When the warehouse picks are fully registered, the lines in the **Pick Worksheet** are deleted. Learn more at [Pick Items for Warehouse Shipment](warehouse-how-to-pick-items-for-warehouse-shipment.md).

    > [!TIP]
    > For a location that doesn't require picking, you can print warehouse shipment and use it as a picking list.

8. Specify the quantity to ship.  

    For a location that requires picking, the **Qty. to Ship** field is updated automatically when the pick is registered. Otherwise, the **Qty. to Ship** field is filled with the quantity outstanding for each line when warehouse shipment line is created.

    You can change the quantity, but you can't ship more items than the number in the **Qty. Outstanding** field on the source document line or the **Qty. Picked** field if picking is required.

    To set the value in the **Qty. to Ship** field on all lines to zero, choose the **Delete Qty. to Ship** action. For example, setting the quantities to zero is useful if you're using a barcode scanner to update the shipping quantities. To add the quantity available for shipping, choose the **Autofill Qty. to Ship** action.

9. Post the shipment.

    [!INCLUDE [preview-posting-shipment](includes/preview-posting-shipment.md)]

## How to use filters to get source documents

From a warehouse shipment, you can use the **Filters to Get Source Docs.** page to retrieve the released source document lines that define which items to ship.

1. In the warehouse shipment, choose the **Use Filters to Get Src. Docs.** action. 
2. To set up a new filter, enter a descriptive code in the **Code** field, then choose the **Modify** action.

    The **Source Document Filter Card - Outbound** page opens.

3. Use the filters to define the type of source document lines to retrieve. For example you can select types of source documents, such as sales or transfer orders.
4. Choose **Run**.  

All released source document lines that meet the filter criteria are added on the **Warehouse Shipment** page on which you set the filters.

You can make an unlimited number of filter combinations. Filters are saved on the **Filters to Get Source Docs.** page and are available the next time you need them. You can change the criteria at any time by choosing the **Modify** action.

## Zone and bin codes

If bins are mandatory at the location, [!INCLUDE [prod_short](includes/prod_short.md)] suggests a zone and bin code on the warehouse shipment document.

* For advanced configurations in which a location uses directed put-away and pick, [!INCLUDE [prod_short](includes/prod_short.md)] uses the bin specified in the **Shipment Bin Code** field on the **Location Card**. If a **Shipment Bin Code** isn't specified, the field is blank. If the item and shipment bin don't match, [!INCLUDE [prod_short](includes/prod_short.md)] leaves the shipment bin blank.
* In other cases, [!INCLUDE [prod_short](includes/prod_short.md)] always uses the bin specified in the **Shipment Bin Code** field on the **Location Card** first. If a shipment bin code isn't specified, [!INCLUDE [prod_short](includes/prod_short.md)] uses the bin code from the source document.

## Handling Assemble-to-Order Items in Warehouse Shipments

In assemble-to-order scenarios, use the **Qty. to Ship** field on warehouse shipment lines to record how many units are assembled. The quantity is posted as assembly output when you post the warehouse shipment. For other warehouse shipment lines, the value in the **Qty. to Ship** field is zero.

When workers finish assembling some or all of the assemble-to-order quantity, record the quantity on the **Qty. to Ship** field on the warehouse shipment line. Then choose the **Post Shipment** action. The assembly output is posted, including the component consumption. A sales shipment for the quantity is posted for the sales order.

From the assembly order, you can choose **Asm.-to-Order Whse. Shpt. Line** to access the warehouse shipment line.

After you post the warehouse shipment, various fields on the sales order line are updated to show progress in the warehouse. The following fields are also updated to show how many assemble-to-order quantities remain to be assembled and shipped:

* **ATO Whse. Outstanding Qty.**
* **ATO Whse. Outstd. Qty. (Base)**

> [!NOTE]
> In combination scenarios where a part of the quantity must be assembled and another must be shipped from inventory, two warehouse shipment lines are created. One is for the assemble-to-order quantity, and one is for the inventory quantity.
>
> The assemble-to-order quantity is handled as described in this article. The inventory quantity is handled as a regular warehouse shipment line. To learn more about combination scenarios, go to [Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md).

## Related information

[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-reverse-output-posting
---
title: Reverse Output Posting
description: There are times when output posting must be reversed. This topic outlines the procedure for reversing output posting.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 5510
ms.date: 06/22/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Reverse Output Posting

There are times when output posting must be reversed. An example of this would be if a data entry error occurred and an incorrect amount of output is posted to a production order.  

## To reverse an output posting

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Output Journal**, and then choose the related link. Select your batch.  
2. Fill in the fields as necessary. For more information, see [Batch Post Output and Run Times](production-how-to-post-output-quantity.md).
3. In the **Applies-To Entry** field, select the associated item ledger entry. This reverses the capacity and item ledger entries.  
4. Post the reversal by posting the journal.  

The output journal entries are posted to the item ledger as a positive adjustment.  

## Related information

 [Manufacturing](production-manage-manufacturing.md)
 [Setting Up Manufacturing](production-configure-production-processes.md)  
 [Planning](production-planning.md)  
 [Inventory](inventory-manage-inventory.md)  
 [Purchasing](purchasing-manage-purchasing.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-printer-setup-overview
---
title: Printer setup and management overview
description: Learn about the different printer options in Business Central.  
author: jswymer 
ms.author: jswymer 
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.topic: overview 
ms.search.form: 2616_Primary
ms.date: 01/31/2025
ms.custom: bap-template 
---

# Printer setup and management overview

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Printing documents and reports from [!INCLUDE[prod_short](includes/prod_short.md)] is an important task for business users. You typically want to send print jobs directly to one of your organization's printers&mdash;no matter the [!INCLUDE[prod_short](includes/prod_short.md)] client or app you're using. Because [!INCLUDE[prod_short](includes/prod_short.md)] online is a cloud service, it can't directly reach local printers connected to users' devices, but you can connect it to cloud-enabled printers.

## What are your printer possibilities in Business Central

To support your print needs, [!INCLUDE[prod_short](includes/prod_short.md)] offers the following features:

|Feature|Description|Web client| Mobile app|App for Teams|
|-------|-----------|----------|-----------|--------------|
|Universal Print|Universal Print is a printer management solution available as a cloud service from Microsoft. With this feature, you can set up your printers in Universal Print, then register them for use in [!INCLUDE[prod_short](includes/prod_short.md)]. This feature requires a Universal Print subscription and the **Universal Print Integration** extension.|![works online.](media/check.png)|![works online.](media/check.png)|![works online](media/check.png)|
|Email Print|This feature lets you set up email-enabled printers. [!INCLUDE[prod_short](includes/prod_short.md)] then sends print jobs to a printer using the printer's email address. This feature requires email-enabled printers, and the **Send to Email Printer** extension.|![works online.](media/check.png)|![works online](media/check.png)|![works online](media/check.png)|
|Browser printing|The print features of your browser handle the print jobs. If a cloud printer isn't installed and set up, or if an installed printer fails, then printing defaults to the printing options for the browser. The **Printer** field on the report request page displays *(Handled by the browser)*.|![works online](media/check.png)|||

Most of the work for setting up printers can be done from the **Printer Management** page in [!INCLUDE[prod_short](includes/prod_short.md)]. Although with Universal Print printers, you might also have to work in Microsoft 365 admin center or the Azure portal.

> [!IMPORTANT]
> For Business Central on-premises, Universal Print and Email Print require that Microsoft Entra ID or NavUserPassword authentication is used.

## Custom printer extensions

[!INCLUDE[prod_short](includes/prod_short.md)] supports other custom printer extensions that add even more print features. So if you have any custom printer extensions installed, your application might include print features not described in this article.

If you're an AL developer and want to learn about how to create printer extensions, go to [Developing Printer Extensions in Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-reports-printing).

## Next steps

- [Set Up Universal Print Printers](admin-printer-setup-universal-print.md)  
- [Set Up Email Printers](admin-printer-setup-email.md)  
- [Set Up Default Printers](ui-specify-printer-selection-reports.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-how-setup-opportunity-sales-cycles-stages
---
title: Set Up Opportunity Sales Cycles and Cycle Stages
description: Describes how to define sales stages, from initial contact to closing, to create a sales cycle and assign it to opportunities in Business Central.
author: brentholtorf

ms.topic: how-to
ms.devlang: al
ms.search.keywords: relationship, prospect
ms.search.forms: 5122, 5121, 5120, 5175, 5119, 5098, 5096
ms.date: 05/27/2022
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Set Up Opportunity Sales Cycles and Cycle Stages

Before you start using sales opportunities, you must set up sales cycles and sales cycle stages. A sales cycle is made up of a series of stages that go from the initial contact to the closing of a sale. For each stage, you define any requirements that must be met, such as requiring a sales quote, before an opportunity can go to the next stage. You can also specify whether a stage can be skipped. You can set up as many sales cycles as you need. You can set up as many sales cycle stages as necessary within a sales cycle.

To use opportunity sales cycles, you must set up the sales cycle, define the different stages of the cycle, and then assign the cycle to opportunities. Assigning the relevant activity or tasks to the opportunity may also be part of setting up a sales cycle.

This article also describes how to set up tasks and activities, and how to assign tasks to activities. For more information, see [To set up activities with tasks](marketing-how-setup-opportunity-sales-cycles-stages.md#to-set-up-activities-with-tasks).

## To set up opportunity sales cycle codes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Cycles**, and then choose the related link. The **Sales Cycles** page opens, and lists all the existing sales cycles.
2. Choose the **New** action, and fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

Repeat these steps to set up as many sales cycles as you want. After you have set up opportunity sales cycles, you may want to set up the different stages within each cycle.

## To define opportunity sales cycle stages

1. On the **Sales Cycles** page, select the opportunity sales cycle for which you want to set up stages, and then choose the **Stages** action. The **Sales Cycle Stages** page opens.
2. Choose the **New** action to enter a new stage in the sales cycle.

Repeat these steps to set up as many stages as you want within the sales cycle.

## To assign stage cycles to opportunities

After you add the opportunities stage cycle, you can start to add sales opportunities, and then assign the stage cycle to opportunities by setting the **Sales Cycle Code** field. For more information, see [Create Sales Opportunities](marketing-how-create-opportunities.md).

## To set up activities with tasks

You can combine multiple tasks, such as tasks that each represent a step, in activities. Activity tasks are related to each other by a date formula. You can assign activities to opportunities, salespeople, or contacts.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Activities**, and then choose the related link.
2. Choose the **New** action, and fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
3. On the **Lines** FastTab, fill in the fields as necessary to define one or more tasks in the activity.

## To assign tasks or activities of tasks to opportunities

When you have set up a task, you can assign it to a sales opportunity and thereby assign the activity that the task belongs to.

> [!NOTE]
> You cannot create tasks of type *Meeting* in [!INCLUDE [prod_short](includes/prod_short.md)] online. The capability requires access to an on-premises deployment.

The following procedure describes how to assign activity tasks to opportunities. The steps are similar when you assign tasks to salespeople and contacts.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Opportunities**, and then choose the related link.
2. Select an opportunity, and then choose the **Tasks** action.
3. On the **Task List** page, choose the **Create Task** action.
4. The **Create Task** page, fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

    > [!TIP]
    > As you can see in the **Opportunity** field, the task is automatically assigned to the relevant opportunity.
5. Choose the **OK** button.
6. On the **Task List** page, select the new task, and then choose the **Assign Activities** action.
7. On the **Assign Activity** page, fill in the fields as necessary, and then choose the **OK** button.

## Related information

[Processing Sales Opportunities](marketing-processing-sales-opportunities.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-sales-by-salesperson
---
title: Sales by Salesperson (Power BI Report)
description: The Sales by Salesperson report provides an overview of sales performance broken down by salesperson.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 37006_Primary
ms.date: 10/26/2024
ms.service: dynamics-365-business-central
---

# Sales by Salesperson (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Sales by Salesperson** report provides an overview of sales performance for each salesperson. It showcases key metrics such as total sales amount and quantity. You can also view this information for each customer a salesperson sells to, and the items they sold.

:::image type="content" source="media/powerbi/sales/sales-by-salesperson.png" alt-text="Screenshot of the Sales by Salesperson Power BI report" lightbox="media/powerbi/sales/sales-by-salesperson.png":::

## Use the report

This report helps management and sales teams track the sales amounts that each salesperson generates and their contribution to the overall revenue.

Sales managers can use the report to monitor the sales performance of each salesperson and identify top-performers. For example, this information is helpful when you determine rewards. The report also helps identify under-performers who perhaps need support.

For example, you might notice that a particular salesperson's sales declined over the last few months. With this information, you can provide extra training or resources to help that salesperson achieve their sales targets.

Salespeople can use the report to monitor your own sales performance and identify areas for improvement. By analyzing the sales amount, quantity, and gross profit, you can easily identify which customers and items contribute the most to your sales. With this information, you can focus your efforts on the most profitable areas.

For example, if you notice that a particular customer contributes a significant amount to your sales numbers, you can focus on building a stronger relationship with that customer to increase their loyalty.

## Key performance indicators

The report includes the following key performance indicators (KPIs) and measures:

- [**Sales Amount**](sales-powerbi-sales-kpis.md#sales-amount)
- [**Sales Quantity**](sales-powerbi-sales-kpis.md#sales-quantity)
- [**Gross Profit**](sales-powerbi-sales-kpis.md#gross-profit)
- [**Gross Profit Margin**](sales-powerbi-sales-kpis.md#gross-profit-margin)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Customer
- Salesperson/Purchaser
- Item
- Value Entry
- Sales Line

## Try the report

Try the report here: [Sales by Salesperson](https://businesscentral.dynamics.com?page=37006)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-manage-manufacturing
---
title: Execute Production
description: When demand is planned for and the materials are issued according to production BOMs, the production operations can start.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.form: 5406, 5407, 5728, 8903, 9011, 9012, 9013, 9041, 9044, 9047, 9323, 9324, 9325, 9326, 9327, 37040, 37041, 37042, 37043, 37044, 37045, 37046, 37047, 37048, 37049, 37055, 99000784, 99000785
ms.date: 09/10/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap-template
---
# Manufacturing

> [!NOTE]
> The features this article describes are available only if you have the **Premium** experience. To learn more, go to [Change Which Features are Displayed](ui-experiences.md).

When demand is planned for and the materials are issued according to production BOMs, production operations can start in the sequence defined by the production order routing.  

An important part of production, from a system point of view, is to post production output to report progress and to update inventory with the finished items. You can post output manually, by filling in and posting journal lines after production operations. Or, it can post automatically with the use of backward flushing. In that case, material consumption is automatically posted along with output when the production order changes to finished.  

As an alternative to the batch journal for output posting for multiple production orders, you can use the **Production Journal** page to post consumption and/or output for one production order line.

There are a few things to set up before you can start production. For example, work centers, routings, and production BOMs. To learn more, go to [Setting Up Manufacturing](production-configure-production-processes.md).

The following table describes a sequence of tasks, with links to the articles that describe them.  

|**To**|**See**|  
|------------|-------------|  
|Understand how production orders work.|[About Production Orders](production-about-production-orders.md)|
|Create production orders manually.|[Create Production Orders](production-how-to-create-production-orders.md)|
| Analyze and monitor your manufacturing KPIs with the Power BI Projects apps. | [Power BI Manufacturing app](manufacturing-powerbi-app.md) |
|Outsource all or selected operations in a production order to a subcontractor.|[Subcontract Manufacturing](production-how-to-subcontract-manufacturing.md)|
|Record and post production output along with material and time consumption for a single released production order line.|[Post Consumption and Output for One Released Production Order Line](production-how-to-register-consumption-and-output.md)|  
|Batch-post the quantity of components used per operation in a journal that processes multiple planned production orders.|[Batch Post Consumption](production-how-to-post-consumption.md)|
|Post the quantity of finished items and the time spent per operation in a journal that processes multiple released production orders.|[Batch Post Output and Run Times](production-how-to-post-output-quantity.md)|
|Undo output, for example, because a data entry error occurred and the amount is incorrect.  |[Reverse Output Posting](production-how-to-reverse-output-posting.md)|  
|Post the number of items produced in each finished operation that qualify as scrap material and not finished output.|[Post Scrap](production-how-to-post-scrap.md)|
|View the shop floor load as a result of planned and released production orders.|[View the Load in Work and Machine Centers](production-how-to-view-the-load-on-work-centers.md)|  
|Use the **Capacity Journal** page to post consumed capacities that aren't assigned to a production order, such as maintenance work.|[Post Capacities](production-how-to-post-capacities.md)|  
|Calculate and adjust the cost of finished production items and consumed components for financial reconciliation.|[About Finished Production Order Costs](finance-about-finished-production-order-costs.md)|  

## Related information

[Setting Up Manufacturing](production-configure-production-processes.md)  
[Power BI Manufacturing app](manufacturing-powerbi-app.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-post-scrap
---
title: Post Scrap Manually
description: If scrap is produced during processing, it can be entered in the output journal. Note that the scrap quantity does not increase the output quantity.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 99000823
ms.date: 03/08/2023
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Post Scrap Manually

If scrap is produced during processing, it can be entered in the output journal.  

> [!NOTE]
> The scrap quantity does not increase the output quantity.  

## To post scrap manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Output Journal**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
3. In the **Scrapped Quantity** field, enter the scrap quantity.  
4. In the **Scrap Code** field, enter the scrap code.  
5. Choose the **Post** action to post the specified scrap per operation.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]    

## Related information

[Manufacturing](production-manage-manufacturing.md)
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/setup-best-practices-planning-parameters
---
title: Setup best practices - planning parameters
description: This topic outlines best practices on how to set up selected planning parameter fields with the Planning FastTab on the item card.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: best-practice
ms.search.keywords:
ms.date: 03/11/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Setup best practices: planning parameters

The **Planning** FastTab on the **Item Card** page is the center of a companyâ€™s supply chain. Setting the correct planning parameters is very important for cost-effective inventory control and quality customer service.  

This article provides best practices on how to set up selected planning parameter fields.

|Setup field|Best practice|Comment|  
|-----------------|-------------------|-------------|  
|Reordering Policy||To learn more, go to [Setup Best Practices: Reordering Policies](setup-best-practices-reordering-policies.md).|  
|Reserve|Select **Never** when the item is planned using a reorder point.<br /><br /> In manufacturing, select **Never** to allow the planning system to cover all demands.<br /><br /> Select **Optional** for items that you may want to reserve for top-priority customers.<br /><br /> Select **Always** for unique items (Non-Standard type of Items), such as items of type miscellaneous that are inbound for specific demands.|Reservations generally counteract the purpose of planning, which is to balance demand and supply. Therefore, items that are set up for planning should generally not be reserved.<br /><br /> If the user reserves an inventory quantity for future demand, then the planning foundation will be disturbed, and the reorder point may not work correctly. Even if the projected inventory level is acceptable with regard to the reorder point, the quantities may not be available because of the reservation.|  
|Dampener Period|Set with regard to the supplierâ€™s flexibility.<br /><br /> A shorter period enables you to reduce working capital by avoiding excessive stock, but will also cause more rescheduling actions.|If the supplier accepts last-minute changes to orders, then use a shorter period, but be prepared for more rescheduling actions. If the supplier requires firm planning, then extend the period as much as possible.<br /><br /> To learn more about this field, go to [Design Details: Planning Parameters](design-details-planning-parameters.md).|  
|Include Inventory|Always select when you are using the **Lot-for-Lot** reordering policy.|Do not select only in special situations, such as when inventory items are not sellable.|  
|Safety Lead Time|Set between 1D and 6D. Set a safety lead time of at least one day to make sure that supplies are available on the day before they are needed. If you're using a new supplier, define a longer time until their delivery performance is known.<br /><br />In manufacturing, define longer safety lead times for critical components. Use longer safety lead times for produced components to have a buffer that allows for fluctuations in production times.|Supply that is planned by the system to avoid a stock-out will arrive on the same day that the stock-out occurs. The supply might be several hours too late if, for example, the demand is needed in the morning and the supply arrives in the afternoon. **Note:** The Safety Lead Time field uses the base calendar. Therefore, 14D is not necessarily two weeks.|  
|Safety Stock Quantity|Use for items with large demand fluctuations.<br /><br /> In manufacturing, use for critical components.<br /><br /> Use for items that are subject to service agreements.|If the **Reorder Point** field is not filled in, the safety stock quantity also acts as a reorder point.|  
|Lot Accumulation Period|If you want only a few big orders and it's ok to carry inventory, specify a long period for lot accumulation.<br /><br /> If you want multiple small orders and minimal inventory, set a short lot accumulation period.|The lot accumulation period is generally the longest period that you carry inventory.|  
|Reorder Point|Base the reorder point on the itemâ€™s demand profile.|If historical data shows that the itemâ€™s average demand is 100 units during a lead time of seven days, the reorder point can be set to 100 as a minimum.<br /><br /> When the inventory level falls below 100 units, the planning system suggests that you replenish because it takes seven days to supply the item, and there must be enough to cover the demand within those seven days.|  
|Time Bucket|Leave blank, meaning that the inventory level is checked every day.|Checking the inventory level every day ensures optimal reorder point planning. **Note:** A time bucket of 1W means that the inventory level can be below the reorder point for one week before a supply order is suggested.|  
|Rounding Precision|In expensive manufacturing, set to 0.00001.|Large rounding quantities of scrap or material consumption can amount to very large inventory costs. It might be relevant to set the smallest rounding precision to minimize this potential cost.|  

> [!NOTE]  
> The best practices for planning parameters on item cards also apply to the same fields on SKU cards.  
>
> If you plan for demand at different locations, we recommend that you define SKUs for each location and that all demand is created by using a value in the **Location Code** field. To learn more, go to [Design Details: Planning With or Without Locations](production-planning-with-without-locations.md).  

## Related information
  
[Setup Best Practices: Supply Planning](setup-best-practices-supply-planning.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)  
[Set Up Complex Application Areas Using Best Practices](set-up-complex-application-areas-using-best-practices.md)  
[Design Details: Planning With or Without Locations](production-planning-with-without-locations.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-setup-purchasers
---
title: Set Up Purchasers and Assign Purchasers to Vendors
description: If several purchasers, or purchasing agents, work at your company, you can organize them for statistical analysis.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: purchasing agent
ms.search.form: 14, 5116
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Purchasers

If several purchasers work at your company, you can set them up in a page and assign them each a code. You can then use the codes to prepare statistics and to filter information in printed reports.<br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=972e1f65-ecf9-4392-82fb-e5866c173249]

## To set up purchasers

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Salespeople/Purchasers**, and then choose the related link.
2. On the **Salespeople/Purchasers** page, choose **New**.
3. On the **Salesperson/Purchaser Card** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## To assign purchasers to vendors

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the relevant vendor card for the vendor that will be assigned a purchaser.
3. In the **Purchaser Code** field, select the applicable purchaser code and then close the page.

## Related information

[Register New Vendors](purchasing-how-register-new-vendors.md)  
[Setting Up Purchasing](purchasing-setup-purchasing.md)  
[Managing Payables](payables-manage-payables.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-view-database-locks
---
title: "View Database Locks"
description: Learn how you can view information about customer database locks right from the client interface in Business Central.
author: jswymer

ms.topic: concept-article
ms.devlang: al
ms.search.form: 9511
ms.date: 06/14/2021
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Viewing Database Locks

Database locking controls access by multiple users to the same data at the same time. To protect a transaction against other transactions modifying the same data, the first transaction puts a lock on the data. The lock remains until the transaction's done.

Users may be blocked from completing transactions on the locked data. They'll typically get a message that indicates the lock condition.

## To view database locks

Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Database Locks**, and then choose the related link.

The **Database Locks** page gives snapshot of all current database locks.

For more information about database locking, see [Monitoring Database Locks](/dynamics365/business-central/dev-itpro/administration/monitor-database-locks) in the Business Central Developer and IT Pro help.

## Related information

[Monitor Database Locks](/dynamics365/business-central/dev-itpro/administration/monitor-database-locks) 


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-copy-items
---
title: How to Copy Existing Items to New Items
description: When you add a new item, to save time, you can use the Copy Item function to copy an existing item to use as a template for a new item.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.forms: 729
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Copy Existing Items to Create New Items

When you add a new item, to save time, you can use the **Copy Item** function to copy an existing item to use as a template for a new item.  

## To copy an existing item to a new item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Select the item that you want to copy, and then choose the **Copy Item** action.  

    If you cannot find the **Copy Item** action, choose to view more options, and then find it under **Actions**, **Functions**.  

3. On the **Copy Item** page, fill in the fields. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!NOTE]  
    > You can enter a specific item number in the **Target Item No.** field that you want the new item to get. Alternatively, you can select an existing number series in the **Target No. Series** field. The new item will then be assigned the next available number in that number series.  

4. To copy your selections to the new item, choose the **OK** button.  

## Related information

[Register New Items](inventory-how-register-new-items.md)  
[Setting Up Inventory](inventory-setup-inventory.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-work-standard-lines
---
title: Standard recurring sales lines
description: Set up frequently used sales lines to insert them on sales documents and quickly fill the lines with standard information.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: trade, sell, replenishment
ms.search.form: 172
ms.date: 02/14/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Create recurring sales

If you often need to create sales lines with similar information, you can set up standard lines that you can then insert on recurring sales documents, for example, for recurring replenishment orders.  

## Set up recurring sales lines

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Recurring Sales Lines**, and then choose the related link.  
2. On the **Recurring Sales Lines** page, choose the **New** action.  
3. On the **General** FastTab, fill the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
4. On the **Lines** FastTab, enter information in the fields to prepare sales lines that reflect the standard lines that you expect to use as recurring lines on sales documents.  

> [!NOTE]
> You cannot define prices on recurring sales lines because prices, discounts, etc. are calculated on the actual sales documents after you insert the recurring sales lines.

[!INCLUDE [line-no-info](includes/line-no-info.md)]

## Assign recurring sales lines to a customer

Assign one or more recurring sales lines to a customer so that they are available to insert on sales documents for that customer.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.
2. Open the card for a relevant customer.
3. Select **Related** and **Sales**
4. Choose the **Recurring Sales Lines** action.
5. On the **Recurring Sales Lines** page, select codes for the recurring sales lines that you want to be able to insert on sales documents for the customer.
6. Fill in the other fields to define when, how, and where the recurring sales lines are to be used.  

    If you plan to use the recurring sales lines set together with the **Create Recurring Sales Invoices** batch job, use the **Valid From Date** and **Valid To Date** fields to restrict when the recurring sales lines are used for creation of invoices. For more information, see [Create multiple sales invoices based on standard sales lines](sales-how-work-standard-lines.md#create-multiple-sales-invoices-based-on-recurring-sales-lines).

    You can also specify a direct-debit payment method and a direct-debit mandate. The sales invoices that are created with the **Create Recurring Sales Invoices** batch job will then include the information required to collect payment with SEPA direct debit. For more information, see [Collect Payments with SEPA Direct Debit](finance-collect-payments-with-sepa-direct-debit.md).

7. In the four fields where you select how the lines are inserted on four document types, select one of the following options:

|Option|Description|
|------|-----------|
|**Manual**|You must manually look up and insert a recurring sales line that exists for the customer.|
|**Automatic**|If multiple recurring sales lines exist for the customer, you'll get a notification from where you can pick which one to insert. If only one recurring sales line exists, it will be inserted automatically.<br /><br />This only works if the new document was created from a document list, for example by choosing the **New** action on the **Sales Orders** page. It doesn't work if the document was created from a customer card, for example.|
|**Always Ask**|A notification appears and all existing recurring sales lines are shown so that you can select one.

## Insert recurring sales lines on a sales invoice

If recurring sales lines exist for the customer, you can insert them, or have them inserted, on all types of sales documents, such as a sales invoice. If you have activated the **Always Ask** options while assigning recurring sales lines to customers, you'll be informed if recurring sales lines exist.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, and then choose the related link.
2. Open the sales invoice that you want to insert one or more standard sales lines on.
3. Choose the **Get Recurring Sales Lines** action.
4. On the **Recurring Sales Lines** page, choose the lookup button in the **Code** field, and then select a set of standard sales lines.
5. Choose the **OK** button to insert the standard sales lines on the invoice where you can reuse them as is or edit the information.

## Create multiple sales invoices based on recurring sales lines

You can use the **Create Recurring Sales Invoices** batch job to create sales invoices according to standard sales lines that are assigned to the customers and with posting dates within the valid-from and valid-to dates that you specify on the standard sales lines.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Create Recurring Sales Invoices**, and then choose the related link.
2. On the **Create Recurring Sales Invoices** page, fill in the fields as necessary.
3. In the **Code** filter field, enter the code for standard sales lines that are assigned to a customer that you want to create sales invoices for.
4. Choose the **OK** button.

Sales invoices are created for the customers with the specified standard customer sales code, and any specified direct-debit information, for posting on the specified date.

## Related information

[Sales](sales-manage-sales.md)  
[Set Up Sales](sales-setup-sales.md)  
[Create Recurring Purchase Lines](purchasing-how-work-recurring-purchase-lines.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-to-set-up-cash-customers
---
title: Set Up Cash Customers
description: This topic describes the steps required to set up the invoice with a customer number for customers who pay in cash.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 21, 22
ms.date: 06/16/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Cash Customers

You cannot create an invoice without a customer number. This is true, even if you make a cash sale and do not have anything to record in a customer account.  

## To set up a cash customer

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer**, and then choose the related link.  
2. Create a new **Customer** card. For more information, see [Register New Customers](sales-how-register-new-customers.md).
3. In the **No.** field, enter **Cash**, for example.  
4. In the **Name** field, enter **Cash Sale**, for example.  
5. On the **Invoicing** FastTab, fill in the **Customer Posting Group** and the **Gen. Bus. Posting Group** fields.  

 Now you have set up a customer that contains sufficient information for invoicing.  

> [!NOTE]  
> You may have chosen a posting group that is also used for domestic credit sales. If you want to maintain separate data on cash sales, for example, with a special sales or receivables account, you can set up an extra posting group for this purpose.  
>
> You must enter a number for a receivables account for the posting group, even though the balance in this account will always be 0 after you post an invoice.  

## Related information

[Managing Receivables](receivables-manage-receivables.md)  
[Register New Customers](sales-how-register-new-customers.md)
[Finance](finance.md)  



[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-to-create-service-items
---
title: How to Create Service Items
description: Read about the different ways you can create service items in Business Central, for example within a service order or when shipping items.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 03/22/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Create service items

In [!INCLUDE[prod_short](includes/prod_short.md)], the term "service item" refers to equipment or items that require service. When you create a service order, you specify the items that need service. In the order, you can link a service item to an item in inventory or a service item group.

When you receive an item that needs service, you can register it as a service item. There are several ways to do so. For example, you can create a service item on the **Service Items** page, or as part of another process, such as when working with a service order.

## To create a service item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Items**, and then choose the related link.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

## To create service items within a service order

When you receive items for service that you want to register as service items, you can create them as service items in the **Service Order** or **Service Quote** pages.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
3. Choose the **Create Service Item** action.  

    A number is assigned to the service item and a service item card is created. The **Service Item No.** field is filled in with the number of the new service item.

## To create a service item when shipping items

When you ship items by posting either sales orders or sales invoices, the shipped items are automatically registered as service items if the following condition is met. The items must belong to a service item group with the **Create Service Item** check box selected. If the items have serial numbers registered in the Item Tracking Lines page, this information is copied automatically to the **Serial No.** field on the service item card when creating service items.  

The following procedure shows how to create service items when you ship items on sales orders.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Open the relevant sales order.  
3. Choose the **Post** or **Post and Print** action.  
4. Choose the **Ship** or **Ship and Invoice** action.  
5. The service items are automatically created for the items on the order, provided these belong to a service item group that you have set up to create service items. If you registered specific serial numbers on the **Item Tracking Lines** page, they will be assigned to these service items.  

> [!NOTE]  
> If an item is a BOM and you have exploded the BOM, the exploded BOM items are processed in the same way as regular items. Service items are created based on the service items group condition and, optionally, the serial numbers condition. Additionally, if a service item is created for an exploded BOM item that is made up of other BOM components, these items are created as service item components for the exploded BOM service item.  
>
> If an item is a BOM and you have not exploded the BOM, a service item is created for it based on the service item group condition and, optionally, the serial numbers condition.  

## To insert a starting fee for a service item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Tasks**, and then choose the related link.
2. Choose the **Item Worksheet** action.
3. Choose the service line, and then choose **Actions**, choose **Functions**, and then choose **Insert Starting Fee** action.  

    A service line of type **Cost** is inserted with the starting fee. The starting fee applies to the selected service item.

## Block items, item variants, or specific service items

You can prevent items, item variants, or service items from being used in service management transactions, such as service contracts, service orders, and service invoices. This can be useful if you want to restrict the availability of some items or service items for service purposes, for example, due to discontinued support, limited stock, or contractual agreements.

To block an item or an item variant from being used in service management transactions, turn on the **Service Blocked** toggle on the **Item Card**, **Item Variants**, and **Item Variant Card** page. You can also set this field on the **Item Template** page, and it will be copied to the items created from that template.

When an item or an item variant is service blocked, it isn't available for selection on the following pages:

- Service Line (except for service credit memos, where you'll see a notification that the item or variant is blocked, but allowed on this type of document)
- Service Item
- Service Contract Line
- Standard Service Line

If you manually enter an item number or variant that's blocked, you'll get an error message that states, "The field contains a value that cannot be found in the related table."

Additionally, if you have service contracts, service contract quotes, or service orders that include blocked service items or item variants, you can't use the following actions:

- **Lock** or **Make Contract** on the **Service Contract Quote** page.
- **Lock Contract**, **Sign Contract**, **Create Contract Service Orders** or **Create Contract Invoices**  on the **Service Contract** page.
- **Make Order** on the **Service Quote** page.
- **Release to Ship** or **Post** on the **Service Order** page.
- **Post** in the **Service Invoice** page.

### Block a service item

To block a service item from being used in service management transactions, on the **Service Item Card** page, in the **Blocked** field, choose one of the following options:

- **Service Contract**: Block the service item from being used in service contracts and service contract quotes, but not in service orders or other service documents.
- **All**: Block the service item from being used in any service management transaction, including service contracts, service orders, and other service documents.

When a service item is blocked, you can't select it on the following pages:

- Service Contract Line (if blocked for service contract, or all)
- Service Item Line (except for service credit memos, if blocked for all)

If you manually enter a service item number for a blocked service item, an error message displays "The field contains a value that cannot be found in the related table."

Additionally, if you have service contracts, service contract quotes, or service orders that include blocked service items, you can't use the following actions:

- **Lock** and **Make Contract** on the **Service Contract Quote** page (if blocked for service contract, or all).
- **Lock Contract**, **Sign Contract**, or **Change Customer** on the **Service Contract** page (if blocked for service contract, or all).
- **Make Order** on the **Service Quote** (if blocked for all).
- **Release to Ship**, **Post** on the **Service Order** (if blocked for all. If service order documents contain multiple service items, and some are blocked and others are not, you can release and post non-blocked lines. Consider whether to turn on the **One Service Item Line/Order** toggle on the **Service Management Setup** page).
- **Post** on the **Service Invoice** page (if blocked for all).

You can also view the blocked service items by applying a filter to the following reports:

- Service Items (report 5935)
- Service Items Out of Warranty (report 5937)
- Service Profit (Service Items) (report 5938)

### Data upgrade

This feature doesn't require additional setup. However, if you upgrade your [!INCLUDE [prod_short](includes/prod_short.md)], be aware of the following:

- If you have items, item variants, or item templates where the **Sales Blocked** toggle is turned on, the **Service Blocked** field is also turned on for those records during upgrade. This ensures that the existing sales blocked logic also applies to service management transactions.
- Data upgrades only if you have at least one service item in your company, which means you're using the service management functionality and need the data upgrade. If you don't have service items, the data upgrade is skipped and the **Service Blocked** toggle is turned off by default for all items, item variants, and item templates.

## Related information

[Set Up Service Items and Service Item Components](service-how-setup-service-items.md)  
[Setting Up Service Management](service-setup-service.md)  
[Service Management](service-service.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-deploy-excel-addin
---
title: Getting the Business Central add-in for Excel
description: Learn how to get users the Business Central Add-in for Excel. 
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.form: 1480
ms.search.keywords: Excel, add-in, centralized deployment, M365 admin center, individual acquisition, appsource
ms.date: 12/16/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Get the Business Central add-in for Excel

[!INCLUDE[prod_short](includes/prod_short.md)] includes an add-in for Excel that lets users select the **Edit in Excel** action on certain pages to open the data in an Excel worksheet. This action is different than the **Open in Excel** action because it lets users make changes in Excel, then publish the changes back to [!INCLUDE[prod_short](includes/prod_short.md)]

## Overview

### About the add-in

The add-in is called **Microsoft Dynamics Office Add-in** and it's available for installation from the [Office Store (AppSource)](https://appsource.microsoft.com/). With the add-in installed, the **Edit in Excel** action is available on most list and list part pages from the **Share** icon ![Share a page in another app.](media/share-icon.png). For more information about using the add-in, see [View and Edit in Excel From Business Central](across-work-with-excel.md).

> [!NOTE]
> The add-in works on Windows only.

### About deployment as an admin

With [!INCLUDE[prod_short](includes/prod_short.md)] online, there are a few deployment options for getting the add-in to users. One option is *individual acquisition*, where users install the add-in themselves. With this option, users must have access to downloading files from the Office Store. Another option is to set up *Centralized Deployment* in the Microsoft 365 admin center to automatically deploy the add-in to your entire organization, groups, or specific users. Centralized Deployment provides a way to get the add-in to users if your organization doesn't give users access to the Office Store.

For the user, the installation experience is different for the two deployment scenarios:

- With individual acquisition, the first time users choose the **Edit in Excel** action, the **New Office Add-in** pane opens in Excel. To install the add-in, the user chooses **Trust this add-in**, which in turn installs the add-in directly from the Office Store. Users then sign in to [!INCLUDE[prod_short](includes/prod_short.md)] using their user name and password.

- With Centralized Deployment, the first time users choose the **Edit in Excel** action, the add-in is automatically installed in Excel from Centralized Deployment; not the Office Store. The only thing users have to do is sign in to [!INCLUDE[prod_short](includes/prod_short.md)].

With both these deployment options, the add-in is automatically configured to connect to [!INCLUDE[prod_short](includes/prod_short.md)]. A third deployment option is a manual installation of the add-in directly from Excel. With this option, users need to configure the add-in to connect to [!INCLUDE[prod_short](includes/prod_short.md)].

### <a name="switch"></a>Switching from individual acquisition to Centralized Deployment or the other way around

When you change from individual acquisition of the add-in to Centralized Deployment, or vice versa, it affects Excel files that users created before the transition. After the transition, users can still open any Excel worksheets previously created using the **Edit in Excel** action or created manually by configuring the Excel add-in. But they can't update the data in the file from Business Central or push updates to Business Central.

This situation happens because each Excel file gets assigned an "add-in" identifier. In the transition to or from Centralized Deployment, a different ID is assigned, so the earlier ID becomes blocked.

## Preparation (on-premises only)

[!INCLUDE[prod_short](includes/prod_short.md)] on-premises requires that your environment is configured for the add-in. If not, the **Edit in Excel** action isn't available to users. Learn more in [Setting up the Business Central add-in for Excel in Business Central on-premises](/dynamics365/business-central/dev-itpro/administration/configuring-excel-addin) in the Developer and IT Pro help.

## Deploy the add-in by using Centralized Deployment

Centralized Deployment is a feature in the Microsoft 365 admin center that you use to automatically install add-ins in users' Office apps, like Excel. To help you with Centralized Deployment, [!INCLUDE[prod_short](includes/prod_short.md)] includes the **Excel Add-in Centralized Deployment** assisted setup.

### Before you begin

- Learn more about preventing users from downloading from the Office store at [Manage add-ins in the admin center](/microsoft-365/admin/manage/manage-addins-in-the-admin-center).
- Verify that Centralized Deployment works for your organization. Learn more at [Determine if Centralized Deployment of add-ins works for your organization](/microsoft-365/admin/manage/centralized-deployment-of-add-ins).
- Learn more about transitioning from individual acquisition at [Switching from individual acquisition to Centralized Deployment](#switch).

> [!NOTE]
> Enabling Centralized Deployment affects features that use the Excel add-in, such as the **Edit in Excel** action. It has no effect on other Excel-related features or permissions assigned to users in [!INCLUDE[prod_short](includes/prod_short.md)].

### Set up Centralized Deployment of the add-in

In this task, you work in both [!INCLUDE[prod_short](includes/prod_short.md)] and the Microsoft 365 admin center.

1. In [!INCLUDE[prod_short](includes/prod_short.md)], choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Excel Add-in Centralized Deployment**, and then choose the related link.
2. Read the information on the **Business Central Excel add-in setup** page and choose **Next**.
3. Sign in to the [Microsoft 365 admin center](https://go.microsoft.com/fwlink/?linkid=2163967) and go to **Integrated Apps**<!--**Add-ins**-->.

    Complete the following steps to configure the add-in to deploy from the Office Store: 
    1. Choose **Get apps** to open Office Store (AppSource). <!--**Deploy Add-in** 5. In the **Deploy a new add-in**, select **Choose from the store**.-->
    2. Search for **Microsoft Dynamics Office Add-in**, then select **Get it now**. <!--On the **Select add-in** page, search for and select **Microsoft Dynamics Office Add-in** > **Add** > **Continue**.-->
    3. On the **Add Users** page, specify the users that you want to deploy the add-in for, then choose **Next**.<!--On the **Configure add-in**, specify the users that you want to deploy the add-in for.-->
    4. Review the **Accept permissions requests**, then choose **Next** > **Finish Deployment**.
    5. Wait for the green check mark next to **Deployed** appears for the add-in, then choose **Done**. <!--Select **Deploy** and wait til successful, then **Next** > **Continue**.-->

       The add-in appears on the **Add-ins** page. For more information about deploying add-ins in the Microsoft 365 admin center, see [Deploy add-ins in the admin center](/power-platform/admin/use-service-admin-role-manage-tenant?azure-portal=true).
4. Go back to **Excel Add-in Centralized Deployment** assisted setup in [!INCLUDE[prod_short](includes/prod_short.md)], and choose **Next**.
5. Turn on **Use Centralized Deployment**, and choose **Finish**.

    If you don't turn on this switch, [!INCLUDE[prod_short](includes/prod_short.md)] gets the add-in directly from the Office Store.

When finished, you can always change the deployment in the Microsoft 365 admin center, like assigning more users. For more information about deploying add-ins in the admin center, see [Deploy add-ins in the admin center](/power-platform/admin/use-service-admin-role-manage-tenant?azure-portal=true).

> [!IMPORTANT]
> If you have more than one environment, you must run the **Excel Add-in Centralized Deployment** assisted setup on each environment that you want to use Centralized Deployment. However, you don't have to configure the Centralized Deployment in Microsoft 365 again. The only thing you have to do is turn on the **Use Centralized Deployment** switch in the assisted setup. 

> [!NOTE]
> It can take up to 24 hours before the add-in deploys automatically in Excel for users.

## <a name="install"></a>Individual acquisition: Install the add-in manually for your own use

In most cases, when you open Excel from Business Central, the add-in is either installed automatically for you or you're prompted to install it. There might be cases, however, where you have to manually install the add-in.

1. Open Excel, then open any Excel workbook.
1. On the **Home** tab, select **Add-ins** > **More Add-ins**.
1. Go to **Admin managed** and look for **Microsoft Dynamics Office Add-In**. If you see it there, select it, and then choose **Add**. If you don't see it, go to **Store**, and then search for *Microsoft Dynamics Office add-In* and follow the instructions to add it.

When the add-in is installed, it shows up as a panel in Excel. Next, configure the connection.

### Configure the Business Central connection

If a user can't connect automatically, you can unblock them by asking them to follow these steps:

1. In the **Microsoft Dynamics** add-in pane in Excel, choose **Add server information**. If you don't see it, choose the ![More option button in Excel.](media/cogwheel.png) icon at the top to open the options dialog. 
2. For [!INCLUDE[prod_short](includes/prod_short.md)] online, set **Server URL** to `https://exceladdinprovider.smb.dynamics.com`. For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, set it to the URL of the web client, like `https://myBCserver/240`.
3. Choose **OK**, and then confirm that the app reloads.
4. When prompted, sign in with your Business Central user name and password.
5. Optionally, choose the environment and company that you want to connect to.

The add-in is now connected to [!INCLUDE [prod_short](includes/prod_short.md)], and you can edit data and publish the changes to [!INCLUDE [prod_short](includes/prod_short.md)].  

## Prepare devices and network for the Excel add-in

Network services such as proxies or firewalls must allow routing between each client device on which the add-in is installed and many service endpoints. For a list of endpoints, go to [Preparing your network for the Excel add-In](/dynamics365/business-central/dev-itpro/administration/configuring-network-for-addins).

## Troubleshooting

Sometimes, users run into problems with the Excel add-in. This section gives tips for how to unblock users in certain circumstances.

|Problem  |Solution or workaround  |Comments  |
|---------|---------|---------|
|The add-in doesn't start. <br><br>For example, the user gets the message "Add-in Warning: This add-in is no longer available" when trying to use the add-in. This particular problem can happen if Centralized Deployment is configured correctly, but the user wasn't assigned access.|Check whether the add-in is deployed centrally. Or, check whether the user is blocked from installing it locally. | The admin can configure Office so that users can't acquire add-ins. In that case, the admin must deploy the add-in centrally. For more information, see [Deploy add-ins in the admin center](/microsoft-365/admin/manage/manage-deployment-of-add-ins?view=o365-worldwide&preserve-view=true).|
|Data doesn't load into Excel.|Test the connection by opening another list in Excel from [!INCLUDE [prod_short](includes/prod_short.md)]. Or, open the workbook in Excel in a browser.|If the user specified a company name that contains special characters, the add-in can't connect. |
|Data can't publish back to [!INCLUDE [prod_short](includes/prod_short.md)].|Test the connection by opening the workbook in Excel in a browser. |Sometimes an extension can block the publishing job. If the page is extended or customized, remove the extensions, and then try again.|
|The dates are wrong.  |Excel might show times and dates in a different format than [!INCLUDE [prod_short](includes/prod_short.md)]. This condition doesn't make them wrong, and the data in [!INCLUDE [prod_short](includes/prod_short.md)] doesn't get messed up.|         |
|For some list pages, editing multiple lines in Excel consistently causes errors. This condition can occur if OData calls include FlowFields and fields outside of the repeater control.|On the **Web Services** page, select the **Exclude Non-Editable FlowFields** and **Exclude Fields Outside of the Repeater** checkboxes for the published page. Selecting these checkboxes excludes noneditable FlowFields and fields from the eTag calculation. |These checkboxes are hidden by default. To show them on the **Web Services** page, use [personalization](/dynamics365/business-central/ui-personalization-user). |
|Users can no longer sign in to the add-in. When they try to sign in, the process stops without completing.| This problem might happen because of an update that we made to the add-in, sometime in July 2022. For more information and a fix, see [Modify the Excel Add-in Configuration to Support July 2022 Update](/dynamics365/business-central/dev-itpro/administration/update-excel-addin-configuration).|Applies to [!INCLUDE [prod_short](includes/prod_short.md)] on-premises only.|
| The add-in communicates using the API v2.0 for Dynamics 365 Business Central, and any limitations of this API are automatically inherited. An example limitation is if you try to edit a list and the underlying card uses a confirmation dialog in its AL logic, for example, as its validation logic. | Sometimes there's nothing to do because it's a design choice that the user must explicitly confirm the change. If the confirmation is negligible when using **Edit in Excel**, then you can wrap the confirmation dialog call in an if-conditional statement that checks whether the client type is different from ODataV4, for example, `if SESSION.CurrentClientType() <> ClientType::ODataV4 then`. | There might be other clients that you want to remove the confirmation dialog from, such as OData and SOAP. |

## Known limitations in business logic

|Page  |Limitation| Comments  |
|-------|---------|---------|
|Sales Orders|Error message: 'Microsoft Dynamics 365 Business Central Data Services attempted to issue a client callback to run page 301 Ship-to Address List as modal.' Client callbacks aren't supported on Microsoft Dynamics 365 Business Central Data Services. | The **Ship-to Code** on the **Sales Order** page is editable only with specific Ship-to options. Setting **Alternate Shipping Address** to **Ship-to** opens the **Ship-to Address List** modal dialog, which isn't compatible with Edit in Excel.|  
|Project Journal|Update of the **Unit Price** field doesn't trigger an update of the **Line Amount**. Instead, it updates **Line Discount**.| Using the web client, you can update fields in any orderâ€”price, amount, line discount. Other fields are updated automatically. To avoid cascade updates, the fields have advanced logic that relies on xRec, which behaves differently when called via APIs.|

## Known limitations in metadata generation

When using **Edit in Excel** in [!INCLUDE [prod_short](includes/prod_short.md)], either by selecting the **Edit in Excel** action on a page or when the Excel add-in loads after opening an Excel workbook, you might encounter the following error: _Metadata was unable to be retrieved for entity \<entity name\> as it was not found_.

This error occurs when the page you're attempting to modify becomes too complex for **Edit in Excel** to process effectively. The primary cause is the installation of multiple extensions that add fields with identical field names to the same parent page, leading to conflicts. It's also possible for a single extension to block the metadata generation.

### Single extension blocking metadata creation

Consider the following scenario involving extension _A_, which includes the page extension _CustomerCardExtA_ and the page _WebViewerA_ where _PageType = CardPart_.

When metadata is generated for the _Customer Card_ page, the algorithm evaluates each individual field, including those fields added by extensions. However, if extension _A_ is installed, this process fails because _WebViewerA_ doesn't share the same source table as the _Customer Card_ page.

To resolve this issue, you should add a _Customer_ `SourceTable` property to the _WebViewerA_ page. An example of this modification can be observed in the code snippets containing _CustomerCardExtB_ and _WebViewerB_.

In some cases, you might need to embed the `CardPart` on multiple pages without referencing a specific source table. For such scenarios, we recommend creating a separate `CardPart` for each page where you also need to generate metadata and refactoring the shared logic into a codeunit.

```AL
pageextension 50120 CustomerCardExtA extends "Customer Card"
{
    layout
    {
        addlast(content)
        {
            part("Bing WebViewer"; "WebViewer")
            {
                ApplicationArea = All;
            }
        }
    }
}
```

```AL
page 50120 "WebViewerA"
{
    ApplicationArea = All;
    Caption = 'WebViewer', Locked = true;
    PageType = CardPart;

    layout
    {
        area(Content)
        {
            usercontrol(WebViewer; WebPageViewer)
            {
                #region ControlAddInReady
                trigger ControlAddInReady(callbackUrl: Text)
                begin
                    CurrPage.WebViewer.Navigate('https://www.bing.com')
                end;
                #endregion ControlAddInReady
            }
        }
    }
}
```

```AL
pageextension 50120 CustomerCardExtB extends "Customer Card"
{
    layout
    {
        addlast(content)
        {
            part("Bing WebViewer"; "WebViewer")
            {
                ApplicationArea = All;
            }
        }
    }
}
```

```AL
page 50120 "WebViewerB"
{
    ApplicationArea = All;
    Caption = 'WebViewer', Locked = true;
    PageType = CardPart;
    SourceTable = Customer;

    layout
    {
        area(Content)
        {
            usercontrol(WebViewer; WebPageViewer)
            {
                #region ControlAddInReady
                trigger ControlAddInReady(callbackUrl: Text)
                begin
                    CurrPage.WebViewer.Navigate('https://www.bing.com')
                end;
                #endregion ControlAddInReady
            }
        }
    }
}
```

### Multiple extensions causing collisions

To resolve this issue, there are two potential solutions:

1. **Disable extensions**: To identify which extension is causing the conflict, you can disable extensions that affect the page one at a time. However, this approach might not be ideal if the extensions in question are necessary for your business processes.

2. **Modify extension code**: This solution involves analyzing the root cause of the issue and addressing it by modifying the code of the conflicting extensions.

To better understand this issue, consider the following example involving the **Customer Card** page (ID 21). When you are on the **Customer List** page (ID 22) and select **Edit in Excel**, a web service is generated in the background that exposes the fields from the **Customer Card** page. This web service includes all page fields defined on the **Customer Card** page, while table fields are only exposed if they correspond to a page field or are part of the primary key.

When an extension is installed that extends the **Customer Card** page, the fields added by the extension are also exposed in the web service. While extensions can't create page fields with the same names as those fields already existing on the **Customer Card** page, conflicts can still arise when multiple extensions add fields with identical names.

For example, suppose the following extension, referred to as _A_, is installed:

```AL
using Microsoft.Sales.Customer;

// Extension A
pageextension 50101 CustomerCardExtA extends "Customer Card"
{
    layout
    {
        addLast(General)
        {
            field("ShoeSize"; Rec.ShoeSize)
            {
                ApplicationArea = ALL;
                Caption = 'ShoeSize';
            }
        }
    }
}

tableextension 50101 CustomerTableExtension extends Customer
{
    fields
    {
        field(50100; ShoeSize; Integer) { }
    }
}
```

Now, consider that another extension, referred to as _B_, is installed, which also modifies the **Customer Card** page:

```AL
using Microsoft.Sales.Customer;

// Extension B
pageextension 50102 CustomerCardExtB extends "Customer Card"
{
    layout
    {
        addLast(General)
        {
            field("ShoeSize"; Rec.ShoeSizeField)
            {
                ApplicationArea = ALL;
                Caption = 'ShoeSize';
            }
        }
    }
}

tableextension 50102 CustomerTableExtension extends Customer
{
    fields
    {
        field(50105; ShoeSizeField; Integer) { }
    }
}
```

In this scenario, both extensions A and B add a page field named `ShoeSize` to the **Customer Card** page. This condition results in a conflict, which leads to a metadata generation failure for the **Customer Card** page.

To resolve this issue, you need access to the code of at least one of the extensions, and then to modify the conflicting page field names to avoid collisions.

<!--
## Deploy the Excel add-in for Business Central online

For [!INCLUDE [prod_short](includes/prod_short.md)] online, the administrator can deploy the add-in for all users. But users can also install the add-in themselves, provided they have permission to configure their Office experience.  

> [!TIP]
> In some organizations, administrators cannot deploy add-ins centrally. For more information, see [Determine if Centralized Deployment of add-ins works for your organization](/microsoft-365/admin/manage/centralized-deployment-of-add-ins?view=o365-worldwide&preserve-view=true).

### To deploy the Excel add-in for all users

1. As the administrator, sign in to the Microsoft commercial website and find the add-in at [https://appsource.microsoft.com/product/office/WA104379629](https://appsource.microsoft.com/product/office/WA104379629).
2. Choose the **Get it now** button.

    You'll be redirected to the Microsoft 365 admin center.
3. In the left panel, go to **Settings**, and then choose **Add-ins**.
4. In the **Configure add-in** pane, specify which users to grant access to the add-in.
5. Save your changes.


### To add the Excel add-in locally

1. Open Excel, and then open any Excel workbook.
2. On the **Insert** menu, choose **Office Add-ins**, and then choose **Admin managed** or **Store** as appropriate.
3. Search for *Dynamics Office Add-In*, and then install the add-in.

When the add-in is installed, it shows up as a panel in Excel. Next, you must configure the connection.

> [!TIP]
> If the workbook is not automatically saved to the user's OneDrive, then recommend them to save all workbooks that they export from [!INCLUDE [prod_short](includes/prod_short.md)].When they open the workbook again, the connection is still available, so they do not have to configure the connection again.

> [!NOTE]
> In certain deployments, the administrator must configure network access to unblock the Excel add-in. For more information, see [Preparing Your Network for the Excel Add-In](configuring-network-for-addins.md).-->

## Related information

[Analyzing Financial Statements in Microsoft Excel](finance-analyze-excel.md)  
[Work with Business Central](ui-work-product.md)  
[Enhancements to Excel integration in 2019 release wave 2](/dynamics365-release-plan/2019wave2/dynamics365-business-central/enhancements-excel-integration)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-analyze-cash-flow
---
title: Analyze cash flows
description: Describes how to use the Cash Cycle, Income & Expense, Cash Flow, and Cash Flow Forecast charts to analyze the past and future flow of money in and out of your company.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: money flow, expense and income, liquidity, cash receipts minus cash payments, Cartera
ms.search.form: 762, 840, 841, 847, 848, 849, 850, 851, 857, 858, 859, 860, 862, 863, 865, 866, 867, 868, 869, 1818
ms.date: 07/31/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Analyze cash flow in your company
The charts on the Accountant Role Center provide insights that can help you make solid decisions about what to do with your cash.  

| To answer questions like these | Use this chart |
| --- | --- |
| How long does the sales process tie up my cash?</br> Should I increase or reduce inventory levels? |Cash Cycle |
| When did cash move in and out of my company?</br> Are some periods better than others? |Cash Flow |
| Do the numbers seem off for a period?</br> Should I investigate? |Income & Expense |
| When might a cash surplus or deficit happens?</br> Should I pay down debt, or borrow to meet upcoming expenses? |Cash Flow Forecasts |

On the Accountant Role Center, under **Finance Performance**, the **Cash Cycle**, **Cash Flow**, and **Income & Expense** charts offer ways to analyze cash flow:  

* See figures for a period by using the timeline slider.  
* Filter the chart by choosing the source in the legend.  
* Change the length of the period, or go to the previous or next period, by choosing options on the **Finance Performance** drop down.  
* View the entries by choosing a point in the chart. For example, a point on the timeline or a column segment. If the numbers seem off, this is where you can make adjustments.  

Although it's separate, the **Cash Flow Forecast** chart is similar. You view details, filter results, and change what is displayed in the same ways. If you change a setting, you can refresh the forecast by choosing **Cash Flow Forecast**, and then **Recalculate Forecast**.

If you want to examine the forecast, in addition to forecast entries, you can also look at the cash flow worksheet. For example, you can see how the forecast:

* Handles confirmed sales and purchases.  
* Subtracts payables and adds receivables.  
* Skips duplicate sales orders and purchase orders.  

## To view a cash flow worksheet

1. Search for **Cash Flow Forecasts**, and then choose the related link.  
2. Choose a cash flow forecast, and then choose the **Cash Flow Worksheet** action.  
3. On the **Cash Flow Worksheet** page, choose the **Suggest Worksheet Lines** action.  

## Related information

[Setting Up Finance](finance-setup-finance.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)   
[Setting Up Cash Flow Analysis](finance-setup-cash-flow-analyses.md)    
[Forecast your cash flow in Dynamics 365 Business Central](/training/modules/forecast-cash-flow-dynamics-365-business-central/index)    
[Set up cash flow forecasts using Azure AI in Dynamics 365 Business Central](/training/modules/setup-cash-flow-forecasts/)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-aged-payables-back-dating
---
title: Aged Payables (Back Dating)
description: The Aged Payables (Back Dating) report provides an overview of outstanding vendor invoices categorized by payment terms and grouped into aging buckets.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36994_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Aged Payables (Back Dating) (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The Aged Payables (Back Dating) report allows you to analyze outstanding vendor balances grouped by customizable aging periods. You can age the report by posting date, due date, or document date. It categorizes vendor balances by payment terms code, so you can quickly align net terms with aging buckets for efficient analysis. This approach helps you prioritize payment efforts and manage cash flow effectively.

:::image type="content" source="media/finance/aged-payables-report.png" alt-text="Screenshot of the Aged Payables (Back Dating) report" lightbox="media/finance/aged-payables-report.png":::

## Use the report

The audiences for the report are:

- Executives
- Finance administrators

Finance administrators can use the report to prioritize vendor payments and take advantage of discounts for early payments. By aging the report based on due dates and setting the appropriate aging period buckets, you can effectively manage payment schedules. This approach enhances cash flow and strengthens relationships with key vendors.

## Key Performance Indicators (KPIs)

The *Aged Payables (Back Dating)* report includes the following KPIs and measures: 

- [**Balance (Accounts Payable)**](finance-powerbi-kpis.md#balance-accounts-payable)
- [**Current (Payables)**](finance-powerbi-kpis.md#current-payables)
- [**Bucket 1 (Payables)**](finance-powerbi-kpis.md#bucket-1-payables)
- [**Bucket 2 (Payables)**](finance-powerbi-kpis.md#bucket-2-payables)
- [**Bucket 3 (Payables)**](finance-powerbi-kpis.md#bucket-3-payables)
- [**Bucket 4 (Payables)**](finance-powerbi-kpis.md#bucket-4-payables)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Vendor
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry

## Try the report

Try the report here: [Aged Payables (Back Dating)](https://businesscentral.dynamics.com?page=36994)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-move-items
---
title: Move Items
description: Learn about moving items between bins in your warehouse.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: concept-article
ms.date: 01/25/2023
ms.custom: bap-template
ms.search.form: 7315, 7349, 7351, 7382, 7384, 7386, 7387, 7399, 7400, 9314, 9330, 9345
---
# Moving Items

You can move items in your warehouse in different ways, depending on how you've configured your warehouse. The complexity can vary:

* Small warehouses might use basic warehouse configurations to handle orders individually, in a single or multiple steps.
* Large warehouses might use advanced configurations where all warehouse activities are coordinated by a directed workflow. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).

Items may need to be moved between bins, for example, due to internal operations:

* A production order needs components delivered, or its finished items put away.
* A warehouse manager wants to optimize space.
* Unplanned movements to and from operations.
* Replenish picking bins or shop floor bins.
* Update bin contents.

Counting, adjusting, and reclassifying items can involve warehouse tasks that must be performed on warehouse entries before they can be synchronized with item ledger entries. Learn more at [Count, Adjust, and Reclassify Inventory](inventory-how-count-adjust-reclassify.md).  

 The following table describes a sequence of tasks, with links to the articles that describe them.

|**To**|**See**|  
|------------|-------------|  
|Moving items between locations|[Transfer Inventory Between Locations](inventory-how-transfer-between-locations.md)|
|Move items between bins in basic warehouse configurations at any time and without source documents.|[Move Items in Basic Warehouse Configurations](warehouse-how-to-move-items-ad-hoc-in-basic-warehousing.md)|
|Use the warehouse movement worksheet, internal pick and put-away to move items in advanced warehouse configurations with directed pick and put away.|[Move Items in Advanced Warehouse Configurations](warehouse-how-to-move-items-in-advanced-warehousing.md)|  
|Restructure your warehouse with new bin codes and new bin characteristics and potentially move them around.|[Restructure Warehouses](warehouse-how-to-restructure-warehouses.md)|  

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)  
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-internal-warehouse-flows
---
title: Design details - flows for production, assembly, and projects
description: Learn about the flow between bins for picking components and putting away end items for assembly, production, or project orders.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: article
ms.date: 08/12/2024
ms.custom: bap-template
---
# Flows for production, assembly, and projects

Internal flows, such as picking components and putting away end items for assembly, projects, and production orders are similar to inbound or outbound flows. Many of the processes might seem familiar. This article provides information about how to work with internal warehouse flows with various levels of complexity.

## Overview of different configuration options

You can configure warehouse features in various ways. It's important that the options you choose improve your processes without causing overhead. The following tables describe typical configurations for dealing with physical goods for production, projects, and assembly orders.

### Inbound flow (put-away)

|Complexity Level|Description|Settings|Bin Code|Inbound Flow of Production Order|Inbound Flow of Assembly Order|Inbound Flow of Projects|  
|---|----------------|----------|---------|------------------|------------------|------------------|
|No dedicated warehouse activity.|Posting from orders and journals.||Optional. Controlled by the **Bin Code is Mandatory** toggle.|Production Journal -> Output Journal</br><br/> **NOTE**: You can post output using **Production Journal**.|Assembly Order|Put-away isn't applicable for projects|  
|Basic|Order-by-order.|Production Output Whse Handling: Inventory Put-away. </br><br/> **NOTE**: You can still post output directly from the source documents at locations where you activated these settings. |Optional. Controlled by the **Bin Code is Mandatory** toggle.|Production Order -> Inventory Put-away|Assembly Order|Put-away isn't applicable for projects|
|Advanced|Consolidated put-away activities for multiple source documents.|No dedicated settings|Optional. Controlled by the **Bin Code is Mandatory** toggle.|Production Order(s) -> Output Journal|Assembly order(s) ->  internal movements | Put-away isn't applicable for projects|
|Advanced|Same as above plus directed pick/put-away activities|Directed Pick and Put-away (dependent toggles are enabled automatically)|Mandatory|Same as above|Same as above| Put-away isn't applicable for projects|

Some configurations don't let you use dedicated warehouse documents to register put-aways. However, if your location uses bins you can use generic movement documents to move produced or assembled items to warehouse. Learn more at [Moving Items](warehouse-move-items.md).

### Outbound flow (pick)

|Complexity Level|Description|Settings|Bin Code|Outbound Flow of Production Order|Outbound Flow of Assembly Order|Outbound Flow of Projects|  
|---|----------------|----------|---------|------------------|------------------|------------------|
|No dedicated warehouse activity.|Posting from orders and journals.||Optional. Controlled by the **Bin Code is Mandatory** toggle.|Production Journal -> Consumption Journal </br><br/> **NOTE**: You can post consumption using a **Production Journal**.|Assembly Order|Project -> Project Journal|  
|Basic|Order-by-order.|Production, Assembly, Projects: Inventory Pick, Inventory Movement </br><br/> **NOTE**: You can still post consumption directly from the source documents at locations where you activated these settings.|Optional. Controlled by the **Bin Code is Mandatory** toggle.|Production Order -> Inventory Pick|Assembly Order -> Inventory movement</br><br/>The **Inventory Movement** can be used only with bins.|Project -> Inventory Pick|
|Advanced|Consolidated pick activities for multiple source documents.|Production, Assembly, Projects: Warehouse Pick|Optional. Controlled by the Bin Code is Mandatory toggle|Production Order(s) -> Warehouse Pick -> Consumption Journal |Assembly order(s) -> Warehouse Pick| Project(s) -> Warehouse Pick -> Project Journal |
|Advanced|Same as above + Directed pick/put-away activities|Directed Pick and Put-away (dependent toggles are enabled automatically)|Mandatory|Same as above|Same as above| Same as above|

## Warehouses without dedicated warehouse activity

Even if you don't use dedicated warehouse activities, you might want to track things like consumption and production output. The following articles provide information about how to process receipts for source documents.

* [Register Consumption and Output for One Released Production order line](production-how-to-register-consumption-and-output.md)
* [Assemble Items](assembly-how-to-assemble-items.md)
* [Record Consumption or Usage for Projects](projects-how-record-job-usage.md)

## Basic warehouse configuration

### Flows to and from production in a basic warehouse configuration  

The inbound and outbound flows in a basic warehouse configuration involve the following settings on the **Location Card** page for the location:

* For the inbound flow (put-away), in the **Prod. Output Whse. Handling** field, select **Inventory Put-away**.
* For the outbound flow (pick), in the **Prod. Consumption Whse. Handling** field, select **Inventory Pick/Movement**.

Use **Inventory Pick** documents to pick production components in the flow to production. To put away the products you produce, use **Inventory Put-away** documents.

For locations that use bins, inventory movement documents are especially useful for component flushing. To learn more about how component consumption is flushed from To-Production or Open Shop Floor bins, go to [Flushing production components in the warehouse](warehouse-how-to-pick-for-production.md#flushing-production-components-in-a-basic-warehouse-configuration).

   > [!NOTE]
   > Inventory movements are important documents if you're using **Pick + Forward** or **Pick + Backward** flushing methods. Learn more at [Flushing methods](production-how-to-flush-components-according-to-operation-output.md#flushing-methods).

* The **To-Production Bin Code**, **From-Production Bin Code**, and **Open Shop Floor Bin Code** fields on the location or the machine/work center define the default flows to and from production areas.
* Manage the movement of produced items on the **Internal Movement** page without a relation to a production order.

### Flows to and from assembly in a basic warehouse configuration  

The outbound flow in a basic warehouse configuration involves the following settings on the **Location Card** page for the location:

* For the outbound flow (pick), in the **Asm. Consumption Whse. Handling** field, select **Inventory Movement**.

Use **Inventory Movement** documents to pick assembly components in the flow to assembly. Post assembly output and consumption directly from an assembly order.

> [!NOTE]
> **Inventory Pick** and **Inventory Put-away** documents aren't supported for assembly orders.

For locations that use bins:

* Use **Inventory Movement** documents to move assembly components to the assembly area.
* The **To-Assembly Bin Code**, **From-Assembly Bin Code** fields on the location card define default flows to and from assembly areas.
* Manage the movement of assembled items on the **Internal Movement** page, without a relation to an assembly order.

[!INCLUDE [prod_short](includes/prod_short.md)] supports assemble-to-stock and assemble-to-order assembly flows. Learn more at [Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md#understanding-assemble-to-order-and-assemble-to-stock). In relation to warehouse management, assemble-to-stock is part of the internal warehouse flow, and assemble-to-order is in the outbound warehouse flow. Learn more at [Handling Assemble-to-Order Items with Inventory Picks](warehouse-how-to-pick-items-with-inventory-picks.md#handling-assemble-to-order-items-with-inventory-picks).

### Flows for project management in a basic warehouse configuration

The outbound flow in a basic warehouse configuration involves the following settings on the **Location Card** page for the location:

* For the outbound flow (pick), in the **Project Consumption Whse. Handling** field, select **Inventory Pick**.

Use **Inventory Pick** documents to pick project components in the flow to project management.

For a location that uses bins, the **To-Project Bin Code** field on the location defines the default flows to project management.

## Advanced warehouse configurations  

### Flows to and from production in advanced warehouse configurations

The outbound flow in an advanced warehouse configuration involves the following settings on the **Location Card** page for the location:

* For the outbound flow (pick), in the **Prod. Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.

Use the **Warehouse Pick** documents and the **Pick Worksheet** page to pick components for production.

> [!NOTE]
> **Warehouse Put-away** documents aren't supported for production output.

For locations that use bins:

* **Warehouse Movement** documents and the **Movement Worksheet** page are especially useful for component flushing. Learn more at [Flushing production components in the warehouse](warehouse-how-to-pick-for-internal-operations-in-advanced-warehousing.md#flushing-production-components-in-an-advanced-warehouse-configuration).
* The **To-Production Bin Code**, **From-Production Bin Code**, and **Open Shop Floor Bin Code** fields on the location or machine/work center define the default flows to and from production areas. 
* Manage the movement of produced items on the **Movement Worksheet** or **Whse. Internal Put-away** pages, without a relation to a production order.

### Flows to and from assembly in advanced warehouse configurations

The outbound flow in an advanced warehouse configuration involves the following settings on the **Location Card** page for the location:

* For the outbound flow (pick), in the **Asm. Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**. 

Use **Warehouse Pick** documents and the **Pick Worksheet** page to pick components for assembly.

> [!NOTE]
> **Warehouse Put-away** document isn't supported for assembly orders.

For locations that use bins:

* The **To-Assembly Bin Code** and **From-Assembly Bin Code** fields on the location define the default flows to and from assembly areas.
* Manage the movement of assembly items on the **Movement Worksheet** or **Whse. Internal Put-away** pages, without a relation to an assembly order.

[!INCLUDE [prod_short](includes/prod_short.md)] supports assemble-to-stock and assemble-to-order assembly flows. Learn more at [Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md#understanding-assemble-to-order-and-assemble-to-stock). 

Assemble-to-stock is part of the internal warehouse flow, and assemble-to-order is in the outbound warehouse flow. Learn more at [Handling Assemble-to-Order Items in Warehouse Shipments](warehouse-how-ship-items.md#handling-assemble-to-order-items-in-warehouse-shipments).

### Flows to project management in advanced warehouse configurations

The outbound flow in an advanced warehouse configuration involves the following settings on the **Location Card** page for the location:

* For the outbound flow (pick), in the **Project Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.

Use **Warehouse Pick** documents and the **Pick Worksheet** page to pick components in the flow to project management.

For locations that use bins, the **To-Projects Bin Code** field on the location defines the default flows to the project area.

## Related information  

[Warehouse Management Overview](design-details-warehouse-management.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-setting-up-workflow-notifications
---
title: Setting up approval workflow notifications
description: This article explains how to set up workflow notifications to alert a user to an event that they must react to. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords:
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Approval workflow notifications

Set up your workflows to automatically notify users when their attention is required for a step in a workflow. Many workflow responses involve notifying a user an event they must act on has occurred.

For example, you can set it so User 2, the approver user, receives a notification whenever User 1 requests approval for a new record. On the next workflow step, after User 2 approves the record, User 3 is notified and can begin a related processing of the record. With approval workflow steps, each notification is tied to an approval entry. Learn more at [Workflow](across-workflow.md).  

> [!NOTE]  
> The default version of [!INCLUDE[prod_short](includes/prod_short.md)] supports notifications in email or as internal notes.  

> [!IMPORTANT]  
> All workflow notifications are sent through a job queue. Make sure the job queue in your installation is set up to handle workflow notifications, and that you've selected the **Start Automatically From Server** check box. Learn more at [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

## Set up notifications

You can set up different aspects of workflow notifications in the following places:  

* Approver notification

  For approval workflows, set up the recipients of workflow notifications by filling in a line on the **Approval User Setup** page for each user that takes part in the workflow.  

  For example, if User 2 is specified in the **Approver ID** field on the line for User 1, then the approval request notification is sent to User 2. Learn more at [Set Up Approval Users](across-how-to-set-up-approval-users.md). 
  
* Notification schedules

  Set up when and how users receive workflow notifications by filling in the **Notification Schedule** page for each workflow user. Learn more at [Specify When and How to Receive Notifications](across-how-to-specify-when-and-how-to-receive-notifications.md). 
  
* Customize the email notifications

  If you like, you can customize the content of the email notification by modifying Report 1320, Notification Email. Learn more at [Create and Modify Custom Report Layouts](ui-how-create-custom-report-layout.md).  

  > [!NOTE]
  > If you want to use email as the notification method, you must set up email for both the sender and the receiver in [!INCLUDE [prod_short](includes/prod_short.md)]. Learn more at [Set up Email](admin-how-setup-email.md).
  
* Response options

  Set up specific content for and rules of a workflow notification when you create the workflow in question. Select the customization options on the **Workflow Responses** page for the workflow response that represents the notification. Learn more from step 9 in the [Create Workflows](across-how-to-create-workflows.md#to-create-a-workflow) section. 
  
* Notify sender

  For approval workflows, add a workflow response step to notify the sender when the request has been approved or rejected. Learn more from step 9 in the [Create Workflows](across-how-to-create-workflows.md#to-create-a-workflow) section.   

## Related information

[Set Up Approval Users](across-how-to-set-up-approval-users.md)  
[Set Up Workflow Users](across-how-to-set-up-workflow-users.md)  
[Specify When and How to Receive Notifications](across-how-to-specify-when-and-how-to-receive-notifications.md)  
[Create Approval Workflows](across-how-to-create-workflows.md)  
[Create and Modify Custom Report Layouts](ui-how-create-custom-report-layout.md)  
[Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md)  
[Set up Email](admin-how-setup-email.md)  
[Walkthrough: Setting Up and Using a Purchase Approval Workflow](walkthrough-setting-up-and-using-a-purchase-approval-workflow.md)  
[Workflow](across-workflow.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/teams-access-with-m365-license
---
title: Access Data in Teams without Business Central License
description: Learn how users can get access to Business Central data in Microsoft Teams chats and channels, with only a Microsoft 365 license, but no Business Central license.
author: jswymer
ms.author: jswymer 
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.topic: overview
ms.date: 02/07/2023
ms.custom: bap-template
ms.search.keywords: License, access, Microsoft 365, collaborate, collaboration, Teams, Microsoft Teams
---

# Access Data in Teams without Business Central License

[!INCLUDE[prod_short](includes/prod_short.md)] users are assigned a Dynamics 365 Business Central license that allows them to view, modify, and act on their business data within Teams. These users can collaborate on data by sharing records into chats or channels, or adding tabs that show records. However, there may be other employees across the organization who don't have a Business Central license but could benefit by being able to view data in Teams. For these users, [!INCLUDE[prod_short](includes/prod_short.md)] offers limited access through their Microsoft 365 licenses only.  

As an administrator, you can configure environments to enable access with Microsoft 365 licenses. You can then choose exactly which tables and other objects this category of user will have access to. Once configured, employees who have a Microsoft 365 license, but no Business Central license, can view Business Central records that are shared with them in Microsoft Teams chat and channels.

To learn more about access with Microsoft 365 Licenses, go to [Business Central Access with Microsoft 365 Licenses](admin-access-with-m365-license.md) and [Access with Microsoft 365 Licenses FAQ](admin-access-with-m365-license-faq.md).

## Next steps

[Set Up Business Central Access in Teams with Microsoft 365 Licenses](admin-access-with-m365-license-setup.md)  

## Related information

[Troubleshoot Access with Microsoft 365 Licenses](admin-access-with-m365-license-troubleshooting.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-view-table-information
---
title: View table information
description: Learn how you can view information about the database tables in Business Central.
author: jswymer
ms.topic: concept-article
ms.devlang: al
ms.search.form: 8700_Primary
ms.date: 02/21/2025
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: solsen
---

# Viewing table information

The **8700 Table Information** page provides information about the number of records in all system and business tables in [!INCLUDE[prod_short](includes/prod_short.md)], and how much data each table contains.

This information is useful for troubleshooting performance problems because it shows the distribution of data sizes across tables.

## View table information

To open this page, select the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Table Information**, and then choose the related link.

The following table describes the information provided for each table:

|Column|Description|
|------|-----------|
|Company Name|The name of the company, if any, that the table belongs to.|
|Table Name|The name of the table.|
|Table No.|The ID of the table.|
|No. of Records|The total number of records stored in the table.|
|Record Size|The average record size in KB/record. The value is calculated using the following formula: 1024(Size)/(No. of Records). |
|Size (KB)|The total amount of space the table occupies in the database. This value is the sum of the values in the Data Size and Index Size fields.|
|Data Size (KB)|How much space the data in the base table occupies in the database.|
|Index Size (KB)|How much space the table indexes (keys) on the base table occupy in the database.|
|Compression|The type of compression, **Row**, **Page**, or **None** that is applied to the table in the database. To learn more, go to [Data compression](/sql/relational-databases/data-compression/data-compression?).|

> [!NOTE]
> If you delete data in a table, [!INCLUDE[prod_short](includes/prod_short.md)] starts several processes behind the scenes to make sure that everything is cleaned up in your database. The values on the Table Information page don't update until those processes are complete, which can take a while. The amount of time it takes can vary, depending on the size of your database.

> [!IMPORTANT]  
> The **Table Information** page shows data and index (key) sizes for the base table and extension table. It doesn't include the sizes for *indexed views* used to maintain SIFT totals. Furthermore, the sum of table sizes doesn't match the total capacity used because it displays the data size, not the actual allocated size. Allocated space is always larger than used space to avoid having to allocate space on every insert, which would limit performance significantly. 

## Related information

[Inspecting Pages](across-inspect-page.md)  
[Performance Articles For Developers](/dynamics365/business-central/dev-itpro/performance/performance-developer)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-order-agent
---
title: Sales Order Agent overview (preview)
description: Learn about the sales order Copilot agent in Business Central.
ms.date: 04/01/2025
ms.topic: overview
author: dmc-dk
ms.author: dmitrych
ms.reviewer: jswymer
ms.collection:
  - bap-ai-copilot
ms.search.form: 4400, 4410
---
# Sales Order Agent overview (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

Sales Order Agent helps Business Central users automate capturing sales orders. The agent uses AI to analyze customer requests received via email, locate the customer in Business Central, and engage in multi-turn email conversations to clarify requests if important details are missing or more choices are available. It also checks and informs the customer about the availability of the items they're looking for and follows up with a sales quote. The quote is formatted as a PDF and includes the requested items, quantities, units of measure, prices, taxes, requested delivery dates, provided external document reference, and other important details.

> [!TIP]
> Watch a short video in the Dynamics Business Central channel on YouTube at [Get started with the Sales Order Agent for Dynamics 365 Business Central](https://www.youtube.com/watch?v=6icbmbLc_Og).

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]
<!--[!INCLUDE [limited-public-preview](includes/limited-public-preview.md)]-->
## Functionality

### Activation and configuration

The agent is readily available in the product. To activate it, you specify the email inbox you want the agent to monitor. Additionally, specify your preferences for certain aspects of the agent's behavior and designate the users authorized to use the agent to process customers' orders, enabling the agent to act on behalf of a company, department, or team&mdash;not just an individual user.

### Permissions and profiles

The agent operates within the permissions and profile (role) assigned to it by the administrator. Permissions define which areas of the product (tables) the agent has access to. The profile outlines the UX elements (pages and actions) the agent can engage with during its work. Default permissions and the profile are assigned to the agent out of the box; however, administrators can update these permissions as needed.

### Operation

Sales Order Agent is designed to run autonomously in the background, using AI to perform its tasks while keeping users informed about key steps and involving them when necessary. Involvement might be needed in specific scenarios, for instance to review outgoing messages or to provide missing details, based on configured preferences.

Conceptually, the agent interacts with Business Central functionality in a manner similar to how Business Central users interact with it. The agent is provided with general instructions, expressed in natural language, outlining how the process of capturing sales orders should be handled. It then uses UI metadata, such as captions, tooltips, and other properties, combined with the data presented on Business Central pages and its own instructions, to determine each step required to complete the task. Starting from the designated Role Center, the agent navigates the pages, invokes UI actions, and enters data as a user would. This approach allows a high degree of flexibility and adaptability for the agent to achieve its goal because the agentâ€™s interaction surface and steps arenâ€™t hardcoded. Instead, AI determines them based on the context of each step.

This flexibility enables the agent to discover and interact with relevant custom fields and actions. It can also attempt to automatically resolve validation errors by processing displayed error messages and adjusting the input accordingly.

### Email monitoring and communications

The agent relies on an internal email dispatcher running as a background task to continuously monitor a designated mailbox for item requests. The dispatcher triggers the agent to perform tasks and subsequently sends results, such as prepared sales quotes or orders, to the customer in response.

The agent helps with composing email bodies based on the context of the current step. For instance, it can list available inventory or provide a brief description of the attached sales quote or sales order. Additionally, it can detect and flag irrelevant or potentially malicious email content, prompting users to review and decide how to proceed.  

### Customer and Business Central user involvement

Users can inspect the agent's steps and the created sales documents. They can easily identify the data entered by the agent compared to data generated by Business Central's own business logic and provide more input if needed, such as adding discounts or updating shipping costs.

If the customer decides to update the quote by sending another email listing required changes, the agent assists with these changes by locating the quote and making the requested updates. Once the customer confirms the quote's accuracy, the agent converts it into a sales order, which is then also shared with the customer via email, following the user's confirmation. 

The agent always involves designated Business Central users to review and approve all outgoing messages before they're sent to the customers.

## How the agent processes requests

The agent monitors a designated mailbox for incoming customer emails about item inquiries. The mailbox is specified in the Sales Order Agent configuration (learn more in [Set up Sales Order Agent](sales-order-agent-setup.md)). When the agent identifies a potential request in an email, it starts to prepare a sales quote. For example, it verifies whether the customer is registered in Business Central. It then checks item availability, creates a sales quote, and prepares an email response to the customer that includes the quote as a PDF attachment.

Some steps require your intervention, like reviewing email correspondence and assisting the agent as needed. Until an order is created, the agent handles back-and-forth email exchanges with the customer to resolve missing details and allow modifications to the original request. Learn more in [Agent process flow](#agent-process-flow).

### Identifying customers/contacts and related documents

The agent ensures that a request from one customer can't be about another customer's requests. When the agent processes a request, it first identifies the customer in Business Central using the sender's email address. The agent searches for the email among the registered Business Central contacts, sales quotes and orders, and then looks up the customer linked to that email:

- If a customer is found, the agent filters to use only sales quotes and orders that belong to the customer.

  This behavior ensures that the agent only creates and updates documents belonging to the customer that sent the email

- If a contact is found but it's not a customer, the agent filters to use only documents belonging to the contact. Quotes can be sent to contacts that aren't registered as a customer.
- If no contact is found, the agent filters out all documents, and it might request user intervention because it can't find the document.

To prevent the agent from requesting intervention and to assist with reviewing incoming messages, the agent verifies whether the contact is registered and displays a notification on the incoming message review page if it isn't. To resolve this issue, you can either register a new contact/customer or update the contact information of an existing contact/customer. The agent generates the notification to indicate that the contact email wasn't found.

### Finding products/items

The agent analyzes incoming emails to detect parameters for preparing a new sales quote or updating an existing one. Apart from the items themselves, parameters might include the item attributes, quantities, units of measure, requested delivery date, external document number, and more. The agent then searches for these items in Business Central's inventory, within a wide range of related tables.

|Table|Fields|
|-|-|
|Items|No.<br>Description<br>Description 2<br>Search Description<br>GTIN<br>Vendor Item Number|
|Item Variant|Code<br>Description<br>Description 2|
|Item Reference|Reference No.<br>Description<br>Description 2|
|Item Attributes|Name<br>Value|
|Item Category| Code<br>Description<br>Parent Category - 1 Level|
|Item Translation|Language<br>Description<br>Description 2|
|Item Identifier|Code|
|Extended text Line|Text|

Although the agent can find products based on vague and incomplete descriptions, its effectiveness is influenced by the quality of product information in Business Central. You can improve the agent's ability to find products by enhancing descriptions, attributes, categories, and extended text of your inventory items.

> [!NOTE]
> It might take up to 15 minutes for newly entered data to become searchable as the system re-indexes the tables in the background.

When it finds the items, the agent checks the items' availability by analyzing multiple parameters, such as required quantity, delivery date, location, scheduled and planned receipts, and more.

## Agent process flow

### Participants

Processing a sales quote request into an order involves three participants:

- Customer who requests a sales quote via email.

    Here's an example of an email:

    > Hello,
    >
    > We are in the process of purchasing furniture for our lodge, and after reviewing your website I would like to request a quote for the following items:
    >
    > - 2 Antwerp tables
    > - 4 Berlin chairs
    > - 4 Rome chairs
    >
    > Could you please provide a sales quote? We will need the items delivered by March 2nd. Additionally, please note our purchase order number: DC1011234.
    >
    > Thank you,
    >
    > [Name]

- Sales order agent, which monitors the mailbox, handles the incoming request, and creates the quote and order.
- Business Central user who reviews agent tasks.

### General flow

The general flow is illustrated in the figure, which is followed by more details of the steps. The actual flow might vary depending on factors such as follow-up requests, changes or cancellations in review, blocking issues, and so on.

![Shows the Sales Order Agent flow](media/soa-flow.svg "Shows the Sales Order Agent flow")

1. **Customer:** Sends email to Business Central mailbox asking for a sales quote for items.
1. **Sales order agent:** Picks up unread email from inbox and creates a task with a step for reviewing the incoming request.
1. **Reviewer:** Reviews/confirms the step with email.  
1. **Sales order agent:**
    1. Finds the contact or customer.
    1. Finds the requested items and verifies their availability. Learn more in [Item availability in Sales Order Agent (preview)](sales-order-agent-item-availability.md).
    1. Creates the sales quote.
    1. Adds review step with a reply email with attached sales quote as a PDF.
1. **Reviewer:** Reviews/confirms email and sales quotes. 
1. **Sales order agent:** Sends email and sales quote PDF to customer.
1. **Customer:** Review sales quote and sends email requesting order.
1. **Sales order agent:** Picks up email and adds review step.
1. **Reviewer:** Reviews/confirms the confirmation email for a sale order.
1. **Sales order agent:**
    1. Converts quote to order.
    1. Adds review task with outgoing email confirming order.
1. **Reviewer:** Reviews/confirms outgoing email.
1. **Sales order agent:** Sends email to customer.

## Billing for use

Sales Order Agent uses Microsoft Copilot Studio messages for AI interactions, which incur charges based on interaction complexity. Before using the agent, set up a billing model for your Business Central environment. Learn more in [Manage consumption-based billing](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-consumption-billing).

## Next steps

- [Set up the Sales Order Agent](sales-order-agent-setup.md)
- [Process sales quotes and orders with Sales Order Agent](sales-order-agent-process.md)

## Related information

[Configure Copilot and agent capabilities](enable-ai.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-co2e-decomposition-tree
---
title: CO2e Decomposition Tree
description: The CO2e Decomposition Tree report breaks down CO2e emission metrics into its key contributing components to help users understand what is driving changes in CO2 emissions and why.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Co2e Decomposition Tree (Power BI Report)

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

The Co2e Decomposition Tree report breaks down the CO2e emissions across multiple factors, and you can structure it to suit your business needs. The interactive nature of the decomposition tree lets you update and change hierarchical data to identify key factors that contribute to your organizations overall emissions.

:::image type="content" source="media\sustainability\decomposition-tree.png" alt-text="Screenshot of the CO2e Decomposition Tree Power BI report" lightbox="media\sustainability\decomposition-tree.png":::

## Use the report

Sustainability Managers use this report to explore CO2e emissions based on multiple factors, so you can focus on areas with the highest effect.

Executives rely on this report to understand the hierarchical breakdown of emissions. The report helps you track progress towards your sustainability goals and make informed decisions to improve the overall ESG of the organization.

## Key performance indicators (KPIs)

The Co2e Decomposition Tree report includes the following KPIs and measures:

- [CO2e Emissions](sustainability-powerbi-kpis.md#co2e-emissions)

Choose the link for a KPI to learn more about what it means, its calculation, and what data is used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The CO2e Decomposition Tree report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sustainability Ledger Entry
- Sustainability Account Category
- Country/Region

## Try the report

Try the report here: [CO2e Decomposition Tree](https://businesscentral.dynamics.com?page=37108)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-set-up-a-document-exchange-service
---
title: How to Set Up a Document Exchange Service | Microsoft Docs
description: You use an external service provider to exchange electronic documents with your trading partners.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 06/11/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up a Document Exchange Service

As part of the Data Exchange Framework, you can exchange sales and purchase documents with your trading partners without extra steps, such as attaching the documents to email messages as PDF files. For example, when you're ready to invoice a customer, you can post the invoice and send it for payment as a file that your customer can receive in their business management application. For more information, see [Exchanging Data Electronically](across-data-exchange.md).

> [!NOTE]
> Setting up a document exchange service for Business Central on-premises requires some additional steps for authorization. For more information, see [Settings for Business Central On-Premises](#settings-for-business-central-on-premises).

## Connecting with Trading Partners

> [!IMPORTANT]
> Tradeshift integration is no longer supported in Business Central and is planned for deprecation. Instead, please try using the new E-Document functionality in Business Central https://aka.ms/bcedocuments.  

Exchanging electronic documents requires a connection to your trading partners. To make it easy to create a secure connection, [!INCLUDE[prod_short](includes/prod_short.md)] online is configured to use the Business Central Integration app. The app is available on the Tradeshift App Store, and all you and your business partners need to do is create a Tradeshift account and then enable the app. The Business Central Integration app comes in production and sandbox versions. For example, using the sandbox version is good for testing the document exchange. You can switch between production and sandbox versions by turning the **Sandbox** toggle on or off on the **Doc. Exch. Service Setup** page. When you do, the information on the **Service** FastTab is updated for you.

Alternatively, if you want to use another service, you must provide information to make the connection. For more information, see [To connect to a document exchange service](across-how-to-set-up-a-document-exchange-service.md#to-connect-to-a-document-exchange-service).

### To connect to the Business Central Integration app on Tradeshift

You can quickly create a Tradeshift account and get started with the Business Central Integration app from the **Doc. Exch. Service Setup** page. Choose either the **Activate App** link in the notification or the **App URL** field to go to the app in the Tradeshift app store. On the Login page for Tradeshift, either sign in or sign up.

> [!NOTE]
> After you sign in to your Tradeshift account, the site might not take you to the page where you activate the app. To do that, you can click the link on the **Doc. Exch. Service Setup** page in Business Central again to go directly to the app.

If you decide to stop using the Business Central Integration app, you should disable it in the Tradeshift app store. 

## To connect to a document exchange service

If you prefer to use another document exchange service, you must provide some information to connect to the service.

1. Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Document Exchange Service Setup**, and then choose the related link.  
2. Fill the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**User Agent**|Enter text that can be used to identify your company in document exchange processes.|  
    |**Enabled**|Specify whether the connection to the service is enabled.<br><br> **Note:**  When you enable the service at least two job queue entries are created to send and receive electronic documents. When you disable the service, the job queue entries are deleted.|  
    |**Sandbox**|Specify whether you are connecting to a sandbox version of the document exchange service.|
    |**Sign-up URL**|Specify the web page where you sign up for the document exchange service.|  
    |**App URL**|Choose the link to open the app store and turn the Business Central Integration app on or off.|
    |**Service URL**|Specify the address of the document exchange service, which will be called when you send and receive electronic documents.|  
    |**Sign-in URL**|Specify the URL for the page you use to sign in to the document exchange service. This is the page where you enter your companyâ€™s user name and password.|  
    
    > [!NOTE]  
    > Your sign in credentials are automatically encrypted. You cannot turn off encryption.

    > [!NOTE]
    > If you cannot connect to the document exchange service because of an authorization issue, it might be because [!INCLUDE[prod_short](includes/prod_short.md)] cannot automatically renew the access token. For example, this might occur if you have not used the service for some time. You can renew the token manually by using the **Renew Token** action.

### Settings for Business Central On-Premises

To connect Business Central on-premises, you must create an app on the Tradeshift App Store. When you do, use the redirect URL from the **Redirect URL** field on the **Document Exchange Service Setup** page. After you register your app, Tradeshift will provide a client ID and a client secret. In [!INCLUDE[prod_short](includes/prod_short.md)], enter those values on the **Authorization** FastTab on the **Document Exchange Service Setup** page.

If you prefer to store the app ID and secret in a different location, you can leave the Client ID and Client Secret fields blank and write an extension to fetch the ID and secret from the location. You can provide the secret at runtime by subscribing to the OnGetClientId and OnGetClientSecret events in codeunit 1410 "Doc. Exch. Service Mgt."

## Related information

[Setting Up Data Exchange](across-set-up-data-exchange.md)  
[Exchanging Data Electronically](across-data-exchange.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-assemble-items
---
title: Assembly Management
description: Learn how to supply products to customers by combining components in simple processes without using manufacturing features.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.date: 06/10/2025
ms.custom: bap-template
ms.search.keywords: kit, kitting
ms.search.form: 900, 901, 902, 903, 904, 907, 910, 916, 920, 921, 922, 923, 940, 941, 942, 930, 931, 932, 914, 915, 905
ms.service: dynamics-365-business-central
---
# Assembly Management

Companies can supply products to customers by combining components without using manufacturing features. Features for assembling items integrate with related features such as sales, planning, reservations, and warehousing.  

An assembly item is a sellable item that contains an assembly BOM. To learn more about assembly BOMs, go to [Work with Assembly BOMs](assembly-how-work-assembly-boms.md).

Assembly orders are internal orders, just like production orders. Use assembly orders to manage the assembly process and to connect sales requirements with warehouse activities. Assembly orders involve both output and consumption when posting. Assembly order headers are similar to output journal lines. Assembly order lines are similar to consumption journal lines.  

You can use a just-in-time inventory strategy and customize products to meet customer requests. Assembly orders can be automatically created and linked when you create a sales order line. The link between the sales demand and assembly supply opens up for several opportunities when you process sales orders:

* Customize assembly items on the fly.
* Promise delivery dates according to component availability.
* Post output and shipment of the assembled item directly from their sales orders.

To learn more about selling assembly items, go to [Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md).  

Lines on sales orders can contain items to pick from stock and items to assemble for the order. The assemble-to-order quantities take priority over inventory quantities in partial shipping. To learn more about selling stock and assembly items, go to [Combination Scenarios](assembly-assemble-to-order-or-assemble-to-stock.md#combination-scenarios).  

When an assemble-to-order quantity is ready to ship, a warehouse employee can post an inventory pick for the sales order lines. Posting an inventory pick does a couple of things:

* Create an inventory movement for the components
* Post the assembly output and the sales order shipment.

To learn more about assemble-to-order items and inventory picks, go to [Handling Assemble-to-Order Items with Inventory Picks](warehouse-how-to-pick-items-with-inventory-picks.md#handling-assemble-to-order-items-with-inventory-picks).

The following table describes a sequence of tasks, with links to the articles that describe them.

|To...|Go to...|  
|------------|-------------|  
|Learn about assembling items for sales orders and storage.|[Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md)|
|Use location cards and your inventory setup to define how items flow to and from assembly.|[Set Up Basic Warehouses with Operations Areas](warehouse-how-to-set-up-basic-warehouses-with-operations-areas.md)|
| Explore built-in assembly reports. | [Assembly report overview](assembly-reports.md) |
|Quote a custom assembly item, and then convert the quote to a sale when the customer accepts it.|[Quote an Assemble-to-Order Sale](assembly-how-to-quote-an-assemble-to-order-sale.md)|
|Combine components to create an item to order or to stock.|[Assemble Items](assembly-how-to-assemble-items.md)|  
|Sell assembly items that aren't currently available by creating a linked assembly order to supply the full or partial sales order quantity.|[Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md)|
|When assemble-to-order items are already in inventory, deduct the quantity from the assembly order and reserve it from inventory.|[Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-inventory-items-in-assemble-to-order-flows.md)|  
|When assembly items aren't in inventory, use an assembly order to supply some or all of the quantity.|[Sell Assemble-to-Order Items and Inventory Items Together](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md)|
|Make custom assembly items for blanket sales orders before you create the sales orders.|[Create Blanket Assembly Orders](assembly-how-to-create-blanket-assembly-orders.md)|
|Undo a posted assembly order, for example because the order was posted with mistakes.|[Undo Assembly Posting](assembly-how-to-undo-assembly-posting.md)|
|Learn how to work with assembly BOMs and how they differ from production BOMs.|[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)|
|Learn about posting assembly consumption and output, and how [!INCLUDE [prod_short](includes/prod_short.md)] distributes item and resource costs to the general ledger.|[Design Details: Assembly Order Posting](design-details-assembly-order-posting.md)|  

## Related information

[Assembly report overview](assembly-reports.md)  
[Work with Bills of Material](inventory-how-work-BOMs.md)  
[Inventory](inventory-manage-inventory.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Design Details: Supply Planning](design-details-supply-planning.md)  
<!-- [Walkthrough: Planning Supplies Manually](walkthrough-planning-supplies-manually.md)   -->
<!-- [Walkthrough: Selling, Assembling, and Shipping Kits](walkthrough-selling-assembling-and-shipping-kits.md)   -->
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-how-to-set-up-a-dynamics-crm-connection
---
title: Connect to Microsoft Dataverse
description: Set up a connection between Business Central and Dataverse. Businesses typically create the connection to integrate data with another Dynamics 365 app.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.search.forms: 7200, 7201
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
---
# Connect to Microsoft Dataverse

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

This article describes how to set up a connection between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. Typically, businesses create the connection to integrate and synchronize data with another Dynamics 365 app, such as [!INCLUDE[crm_md](includes/crm_md.md)].  

## Before you start

There are a few pieces of information to have ready before you create the connection:  

* The URL for the [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment that you want to connect to. If you use the **Dataverse Connection Setup** assisted setup guide to create the connection, we find your environments for you. You can also enter the URL of another environment in your tenant.  
* The user name and password of an account that has administrator permissions in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  
* If you have an on-premises [!INCLUDE[prod_short](includes/prod_short.md)] 2020 release wave 1, version 16.5, read the [Some Known Issues](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services) article. Complete the described workaround before you can create your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].
* The local currencies that each company uses. [!INCLUDE [prod_short](includes/prod_short.md)] companies can connect to a [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment that has a base currency that's different than their local currency. To learn more about how to handle multi-currency setups, go to [Allow for different currencies](#allow-for-different-currencies).

> [!IMPORTANT]
> Your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment must not be in Administration mode. Administration mode causes the connection to fail because the integration user account for the connection doesn't have administrator permissions. Learn more at [Administration mode](/power-platform/admin/admin-mode).

> [!Note]
> These steps describe the procedure for [!INCLUDE[prod_short](includes/prod_short.md)] online.
> If you're using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises and aren't using a Microsoft Entra account to connect to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], you must also specify a user name and password of a user account for the integration. This account is referred to as the "integration user" account. If you're using a Microsoft Entra account, the integration user account isn't required or displayed. The integration user will be set up automatically and doesn't require a license.

## Link your Business Central and Dataverse environments

Businesses want to keep their data safe and secure within their privacy boundary, and especially when their business management application integrates with other apps. The link between [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environments helps achieve those goals. Plus, you give your administrators an easier way to create and maintain your integrations with other Dynamics 365 apps.

In the [!INCLUDE [prod_short](includes/prod_short.md)] admin center, you can link your [!INCLUDE [prod_short](includes/prod_short.md)] environment to your [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment. [!INCLUDE [prod_short](includes/prod_short.md)] can use the information from the link to make it easier, and more secure, to integrate with other Dynamics 365 apps, such as Sales and Field Service. For example, the linked [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment URL is available by default on the **Dataverse Connection Setup** page and when you run the **Dataverse Connection Setup** assisted setup guide.

## Allow for different currencies

[!INCLUDE [prod_short](includes/prod_short.md)] companies can connect to a [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment that has a base currency that's different than their local currency.

> [!NOTE]
> Synchronizing multiple currencies requires that you're using a unidirectional synchronization, from [!INCLUDE [prod_short](includes/prod_short.md)] to [!INCLUDE [cds_long_md](includes/cds_long_md.md)].

To learn more about the base currency in [!INCLUDE [cds_long_md](includes/cds_long_md.md)], go to [Transaction Currency (currency) entity](/powerapps/developer/data-platform/transaction-currency-currency-entity). 

To learn more about currencies in [!INCLUDE [prod_short](includes/prod_short.md)], go to [Currencies in Business Central](finance-currencies.md).

To allow for different currencies, before you connect, be sure that you specified the following settings:

* The base transaction currency setting in [!INCLUDE [cds_long_md](includes/cds_long_md.md)] has the currency code that's on the **Currencies** page in [!INCLUDE [prod_short](includes/prod_short.md)].
* There's at least one exchange rate specified for the currency in [!INCLUDE [prod_short](includes/prod_short.md)] on the **Currency Exchange Rates** page.

When you enable the connection to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], [!INCLUDE [prod_short](includes/prod_short.md)] adds its local currency to the **Currency** entity in [!INCLUDE [cds_long_md](includes/cds_long_md.md)]. The local currency uses the exchange rate from the **Currency Factor** field on the **Currency Exchange Rates** page.

Because currency synchronization is unidirectional, from [!INCLUDE [prod_short](includes/prod_short.md)] to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], monetary amounts convert and synchronize as follows:

* If in the [!INCLUDE [cds_long_md](includes/cds_long_md.md)] base currency, amounts convert to the [!INCLUDE [prod_short](includes/prod_short.md)] local currency based on the latest exchange rate synchronized from [!INCLUDE [prod_short](includes/prod_short.md)].
* If in the [!INCLUDE [prod_short](includes/prod_short.md)] local currency, amounts synchronize with the [!INCLUDE [prod_short](includes/prod_short.md)] local currency in one of the additional, nonbase currencies in [!INCLUDE [cds_long_md](includes/cds_long_md.md)].

## Set up a connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]

For all authentication types other than Microsoft 365 authentication, you set up your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on the **Dataverse Connection Setup** page. For Microsoft 365 authentication, we recommend that you use the **Dataverse Connection Setup** assisted setup guide. The guide makes it easier to set up the connection and specify advanced features, such as the ownership model and initial synchronization.  

> [!IMPORTANT]
> During the setup of the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], administrators are asked to give following permissions to a registered Azure application named [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:
>
> * **Access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] as you** permission is needed so [!INCLUDE[prod_short](includes/prod_short.md)] can, on behalf of administrator, automatically create nonlicensed non-interactive [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user, assign security roles to this user and to deploy [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. This permission is used only one time to set up the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  
> * **Have full access to Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** permission is needed so the automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user can access [!INCLUDE[prod_short](includes/prod_short.md)] data that synchronizes.  
> * **Sign in and read your profile** permission is needed to verify user logging in actually has System Administrator security role assigned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  
>
> By giving consent on behalf of organization, the administrator is entitling the registered Azure application called [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to synchronize data using automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user's credentials.

### To use the Dataverse Connection Setup assisted setup guide

The Dataverse Connection Setup guide can make it easier to connect the applications, and can even help you run an initial synchronization. If you choose to run initial synchronization, [!INCLUDE[prod_short](includes/prod_short.md)] reviews the data in both applications and provides recommendations for how to approach initial synchronization. The following table describes the recommendations.

|Recommendation  |Description  |
|---------|---------|
|**Full synchronization**|Data exists only in [!INCLUDE[prod_short](includes/prod_short.md)], or only in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The recommendation is to synchronize all data from the service that has it to the other service.|
|**No synchronization**|Data exists in both applications, and running full synchronization would duplicate the data. The recommendation is to couple records.|
|**Dependency not satisfied**|Data exists in both applications, but the row or table can't synchronize because it depends on a row or table that has the **No synchronization** recommendation. For example, if customers can't synchronize, data for contacts that depends on the customer data can't synchronize either.|

> [!IMPORTANT]
> Typically, you only use full synchronization when you're integrating the applications for the first time, and only one application contains data. Full synchronization can be useful in a demonstration environment because it automatically creates and couples records in each application, which makes it faster to start working with synchronized data. However, you should only run full synchronization if you want one row in [!INCLUDE[prod_short](includes/prod_short.md)] for each row in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] for the table mappings. Otherwise, the result can be duplicate records.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.
2. Choose **Set up a connection to Microsoft Dataverse** to start the assisted setup guide.
3. Fill in the fields as necessary.

> [!NOTE]
> If you aren't prompted to sign in with your administrator account, it's probably because pop-ups are blocked. To sign in, allow pop-ups from `https://login.microsoftonline.com`.

### To create or maintain the connection manually

The following procedure describes how to set up the connection manually on the **Dataverse Connection Setup** page. The **Dataverse Connection Setup** page is where you manage integration settings.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.
2. Enter the following information for the connection from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].

    |Field|Description|
    |-----|-----|
    |**Environment URL**|If you own environments in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], we find them for you when you run the setup guide. If you want to connect to a different environment in another tenant, you can enter the administrator credentials for the environment and we can find it too. |
    |**Enabled**|Start using the integration. If you don't enable the connection now, the connection settings are saved but users can't access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] data from [!INCLUDE[prod_short](includes/prod_short.md)]. You can return to this page and enable the connection later.  |

3. In the **Ownership Model** field, choose whether you want a team table in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to own new records, or one or more specific users. If you choose **Person**, you must specify each user. If you choose **Team**, the default business unit displays in the **Coupled Business Unit** field.

    <!--Need to verify the details in this table, are these specific to Sales maybe?  IK: No they are not and no longer relevant 
    Enter the following advanced settings.-->

    <!-- |Field|Description|
    |-----|-----|
    |**[!INCLUDE[prod_short](includes/prod_short.md)] Users Must Map to CDS Users**|If you're using the Person ownership model, specify whether [!INCLUDE[prod_short](includes/prod_short.md)] user accounts must have a matching user accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The **Microsoft 365 Authentication Email** of the [!INCLUDE[prod_short](includes/prod_short.md)] user must be the same as the **Primary Email** of the [!INCLUDE[crm_md](includes/crm_md.md)] user.<br /><br /> If you set the value to **Yes**, [!INCLUDE[prod_short](includes/prod_short.md)] users who don't have a matching [!INCLUDE[crm_md](includes/crm_md.md)] user account won't have [!INCLUDE[prod_short](includes/prod_short.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data directly from [!INCLUDE[prod_short](includes/prod_short.md)] is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] user account.<br /><br /> If you set the value to **No**, all [!INCLUDE[prod_short](includes/prod_short.md)] users will have [!INCLUDE[crm_md](includes/crm_md.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] connection (integration) user.|
    |**Current Business Central Salesperson is Mapped to a User**|Indicates whether your user account is mapped to an account in [!INCLUDE[crm_md](includes/crm_md.md)] double check the name of this field|-->
4. To test the connection settings, choose **Connection**, and then **Test Connection**.  

    > [!NOTE]  
    > If data encryption isn't enabled in [!INCLUDE[prod_short](includes/prod_short.md)], you're asked whether you want to enable it. To enable data encryption, choose **Yes** and provide the required information. Otherwise, choose **No**. You can enable data encryption later. For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in the developer and administration help.  
5. If [!INCLUDE[cds_long_md](includes/cds_long_md.md)] synchronization isn't already set up, you're asked whether you want to use the default synchronization setup. Depending on whether you want to keep records aligned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)], choose **Yes** or **No**.

<!--
## Show Me the Process

The following video shows the steps to connect [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. <br>
  
> [!VIDEO https://learn-video.azurefd.net/vod/player?id=eebe94d1-5ead-4943-b720-ca403d111e9d]

-->

## Customize the match-based coupling

Administrators can enter criteria to couple records based on matches. You can start the algorithm for matching records from the following places in [!INCLUDE [prod_short](includes/prod_short.md)]:

* List pages that show records that are synchronized with [!INCLUDE [cds_long_md](includes/cds_long_md.md)], such as the **Customers** and **Items** pages.  

    Select multiple records, and then choose the **Related** action, choose **Dataverse**, choose **Coupling**, and then choose **Match-Based Coupling**.

    When you start the match-based coupling process from a master data list, a coupling job is scheduled after you specify the coupling criteria.  
* The **Dataverse Full Synch. Review** page.  

    When the full synchronization process detects uncoupled records in [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE [cds_long_md](includes/cds_long_md.md)], a **Select Coupling Criteria** link appears for the integration table.  

    You can start the **Run Full Synchronization** process from the **Dataverse Connection Setup** and **Dynamics 365 Connection Setup** pages. You can also start it in the **Set up a connection to Dataverse** assisted setup guide when you complete your setup.  

    When you start the match-based coupling process from the **Dataverse Full Synch. Review** page, a coupling job is scheduled after you complete the setup.  
* The **Integration Table Mappings** list.  

    Select a mapping, choose the **Coupling** action, and then choose **Match-Based Coupling**.

    When you start the match-based coupling process from an integration table mapping, a coupling job runs for all uncoupled records in the mapping. You can also select uncoupled records in the list to run the job only for those records.

In all three cases, the **Select Coupling Criteria** page opens so that you can define the relevant coupling criteria. In this page, customize the coupling with the following tasks:

* Choose the fields to use to match [!INCLUDE [prod_short](includes/prod_short.md)] records with [!INCLUDE [cds_long_md](includes/cds_long_md.md)] entities. You can specify whether the match is case-sensitive.  

* Specify whether to synchronize after you couple records. If records use bidirectional mapping, you can also specify what happens if conflicts are listed in the **Resolve Update Conflicts** page.  

* Prioritize the order in which records are searched by specifying a *match priority* for the relevant mapping fields. [!INCLUDE [prod_short](includes/prod_short.md)] looks for a match in ascending order based on the value in the **Match Priority** field. A blank value in the **Match Priority** field equals priority 0, which is the highest priority. Fields with the 0 priority are considered first.  

* Specify whether to create a new entity instance in [!INCLUDE [cds_long_md](includes/cds_long_md.md)] in case no unique uncoupled match can be found by using the match criteria. To activate this capability, choose the **Create New if Unable to Find a Match** action.  

### View the results of the coupling job

To view the results of the coupling job, open the **Integration Table Mappings** page, select the relevant mapping, choose the **Coupling** action, and then choose the **Integration Coupling Job Log** action.  

If records failed to couple, you can choose the value in the **Failed** column to open a list of errors that describe why.  

If coupling fails, it's typically for one of the following reasons:

* No matching criteria was defined

    Run the match-based coupling again, but remember to define coupling criteria.

* No match was found for the fields specified in the matching criteria

    Repeat the coupling using different fields.

* Multiple matches were found for several records based on the fields specified in the matching criteria  

    Repeat the coupling using different fields.

* A match was found, but the record is already coupled to a record in [!INCLUDE [prod_short](includes/prod_short.md)]  

    Repeat the coupling using different fields, or investigate why that [!INCLUDE [cds_long_md](includes/cds_long_md.md)] entity is coupled to the record in [!INCLUDE [prod_short](includes/prod_short.md)].

> [!TIP]
> To help you get an overview over the progress of the coupling, the **Coupled to Dataverse** field shows whether a record is coupled to a [!INCLUDE [cds_long_md](includes/cds_long_md.md)] entity. You can use the **Coupled to Dataverse** field to filter the list of records you're synchronizing.

## Upgrade connections from Business Central online to use certificate-based authentication

> [!NOTE]
> This section is relevant only for [!INCLUDE[prod_short](includes/prod_short.md)] online tenants that Microsoft hosts. Online tenants hosted by ISVs, and on-premises installations, aren't affected.

In April 2022, [!INCLUDE[cds_long_md](includes/cds_long_md.md)] deprecated the Office365 authentication type (username/password). Learn more at [Deprecation of Office365 authentication type](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse). Additionally, in March 2022, [!INCLUDE[prod_short](includes/prod_short.md)] deprecated the use of client secret based service-to-service authentication for online tenants. You must use certificate-based service-to-service authentication for connections to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. [!INCLUDE[prod_short](includes/prod_short.md)] online tenants that ISVs host, and on-premises installations can continue to use client secrets for authentication.

To avoid disrupting integrations, _you must upgrade_ the connection to use certificate-based authentication. The following steps describe how to upgrade to certificate-based authentication.

### To upgrade your Business Central online connection to use certificate-based authentication

1. Depending on whether you integrate with Dynamics 365 Sales, do one of the following:
   * If you do, open the **Microsoft Dynamics 365 Connection Setup** page.
   * If you don't, open the **Dataverse Connection Setup** page.
2. Choose **Connection**, and then **Use Certificate Authentication** to upgrade the connection to use certificate based authentication.
3. Sign in with administrator credentials for Dataverse. It should take less than a minute to sign in.

> [!NOTE]
> You must repeat these steps in each [!INCLUDE[prod_short](includes/prod_short.md)] environment, including both production and sandbox environments, and in each company where you have a connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].

## Connecting on-premises versions

To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], you must specify some information on the **Dataverse Connection Setup** page.

To connect using a Microsoft Entra account, you must register an application in Microsoft Entra ID. You must provide the application ID, key vault secret, and the redirect URL to use. The redirect URL is prepopulated and should work for most installations. You must set up your installation to use HTTPS. Learn more at [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection). If you're setting up your server to have a different home page, you can change the URL. The client secret is saved as an encrypted string in your database.

### To register an application in Microsoft Entra ID for connecting from Business Central to Dataverse

The following steps assume that you use Microsoft Entra ID to manage identities and access. To learn more about registering an application in Microsoft Entra ID, go to [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app). 

1. In the Azure Portal, under **Manage** on the Navigation Pane, choose **Authentication**.  
2. Under **Redirect URLs**, add the redirect URL that is suggested on the **Dataverse Connection Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)].
3. Under **Manage**, choose **API permissions**.
4. Under **Configured permissions**, choose **Add a permission**, and then add delegated permissions on the **Microsoft APIs** tab as follows:
    * For [!INCLUDE [prod_short](includes/prod_short.md)], add the **Financials.ReadWrite.All** permissions.
    * For [!INCLUDE[cds_long_md](includes/cds_long_md.md)], add the **user_impersonation** permissions.  

    > [!NOTE]
    > The name of the Dynamics CRM API might change.

5. Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app. You use the secret either in [!INCLUDE[prod_short](includes/prod_short.md)], in the **Client Secret** field on the **Dataverse Connection Setup** page, or store in a secure storage and provide it in an event subscriber as described earlier in this article.
6. Choose **Overview**, and then find the **Application (client) ID** value. This ID is the Client ID of your application. You must enter it either on the **Dataverse Connection Setup** page in the **Client ID** field, or store it in a secure storage and provide it in an event subscriber.
7. In [!INCLUDE[prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, in the **Environment URL** field, enter the URL for your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment.
8. To enable the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], turn on the **Enabled** toggle.
9. Sign in with your administrator account for Microsoft Entra ID (this account must have a valid license for [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and be an administrator in your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment). After you sign in, you'll be prompted to allow your registered application to sign in to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on behalf of the organization. You must give consent to complete the setup.

   > [!NOTE]
   > If you aren't prompted to sign in with your administrator account, it's probably because pop ups are blocked. To sign in, allow pop-ups from `https://login.microsoftonline.com`.

### To disconnect from [!INCLUDE[cds_long_md](includes/cds_long_md.md)]

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.
2. On the **Dataverse Connection Setup** page, turn off the **Enabled** toggle.  

## Related information

[View the Status of a Synchronization](admin-how-to-view-synchronization-status.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-sales-overview
---
title: Sales Overview (Power BI report)
description: The *Sales Overview* report provides a high-level summary of your organization's sales activities.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords: reporting
ms.search.form: 36998_Primary
ms.date: 10/26/2024
ms.service: dynamics-365-business-central
---


# Sales Overview (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Sales Overview** report provides a high-level summary of your organization's sales activities. The report showcases key performance metrics (KPIs), such as:

- The number of outstanding sales orders
- Shipped-but-not-invoiced orders
- Posted sales invoices

It shows the monetary values for each KPI.

This report also gives a quick view of sales amounts by salesperson, highlights the top five customers by sales amount, and shows the gross profit from the top five items.

:::image type="content" source="media/powerbi/sales/sales-overview.png" alt-text="Screenshot of the Sales Overview Power BI report" lightbox="media/powerbi/sales/sales-overview.png":::

## Use the report

The report is intended for the following roles:

- Executives
- Directors
- Other high-level decision makers

CEOs regularly monitor the organization's sales operations to ensure the business is meeting its goals and operating efficiently. To get a quick, high-level overview, you turn to the Power BI Sales Overview Report to review:

- [Number of Outstanding Sales Orders](sales-powerbi-sales-kpis.md#no-of-outstanding-sales-orders)
- [Number of Shipped Not Invoiced Sales Orders](sales-powerbi-sales-kpis.md#no-of-shipped-not-invoiced-sales)
- [Number of Posted Sales Invoices](sales-powerbi-sales-kpis.md#no-of-posted-sales-invoices)

It shows the monetary values for each KPI.

:::image type="content" source="media/powerbi/sales/sales-overview-kpis.png" alt-text="Screenshot of the Sales Overview KPIs Power BI report" lightbox="media/powerbi/sales/sales-overview-kpis.png":::

## Key performance indicators

The report includes the following KPIs and measures:

- [**Sales Amount**](sales-powerbi-sales-kpis.md#sales-amount)
- [**Outstanding Amount**](sales-powerbi-sales-kpis.md#outstanding-amount)
- [**Shipped Not Invoiced Amount**](sales-powerbi-sales-kpis.md#shipped-not-invoiced-amount)
- [**Invoiced Amount**](sales-powerbi-sales-kpis.md#invoiced-amount)
- [**Gross Profit**](sales-powerbi-sales-kpis.md#gross-profit)
- [**Gross Profit Margin**](sales-powerbi-sales-kpis.md#gross-profit-margin)
- [**No. of New Customers**](sales-powerbi-sales-kpis.md#no-of-new-customers)
- [**No. of Outstanding Sales Orders**](sales-powerbi-sales-kpis.md#no-of-outstanding-sales-orders)
- [**No. of Shipped Not Invoiced Orders**](sales-powerbi-sales-kpis.md#no-of-shipped-not-invoiced-sales)
- [**No. of Posted Sales Invoices**](sales-powerbi-sales-kpis.md#no-of-posted-sales-invoices)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sales Line
- Value Entry
- Customer
- Item
- Location
- Salesperson

## Try the report

Try the report here: [Sales Overview](https://businesscentral.dynamics.com?page=36998)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-prepare-dynamics-365-for-sales-for-integration
---
title: Integrating with Dynamics 365 Sales
description: Learn how to get Dynamics 365 Business Central ready to integrate with Dynamics 365 Sales.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: sales, crm, integration, integrating
ms.date: 07/02/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Integrating with Dynamics 365 Sales

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

The sales person role is often considered as one the most outward-facing jobs in a business. However, it can be helpful for sales people to be able to look inward in the business and know what's happening on the back end. By integrating [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)], you can give your sales people that insight. The integration lets people view information in [!INCLUDE[prod_short](includes/prod_short.md)] while they're working in [!INCLUDE[crm_md](includes/crm_md.md)]. For example, when preparing a sales quote it could be useful to know whether you have enough inventory to fulfill the order. To learn more, go to [Use Dynamics 365 Sales from Business Central](marketing-integrate-dynamicscrm.md).

> [!NOTE]
> This article describes the process of integrating the online versions of [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)] through [!INCLUDE[prod_short](includes/cds_long_md.md)]. To learn more about on-premises configuration, go to [Preparing Dynamics 365 Sales for Integration on-premises](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration).

## Integrate through Dataverse

To make it easy to connect and synchronize data with other Dynamics 365 applications, [!INCLUDE[prod_short](includes/prod_short.md)] also integrates with [!INCLUDE[prod_short](includes/cds_long_md.md)]. For example, you can connect to [!INCLUDE[crm_md](includes/crm_md.md)], or even apps that you build yourself. If you're integrating for the first time, you must do so through [!INCLUDE[prod_short](includes/cds_long_md.md)]. To learn more, go to [Integration with Dataverse](admin-common-data-service.md).

If you already integrated [!INCLUDE[crm_md](includes/crm_md.md)] with [!INCLUDE[prod_short](includes/prod_short.md)], you can continue to synchronize data using your setup. However, if you upgrade or turn off your [!INCLUDE[crm_md](includes/crm_md.md)] integration, to turn it on again you must connect through [!INCLUDE[prod_short](includes/cds_long_md.md)]. To learn more, go to [Upgrading an Integration with Dynamics 365 Sales](admin-upgrade-sales-to-cds.md).

> [!NOTE]
> Reconnecting through [!INCLUDE[prod_short](includes/cds_long_md.md)] applies default synchronization settings, and overwrites any configurations you have. For example, the default table mappings are applied.

## Integration settings that are specific to a [!INCLUDE[crm_md](includes/crm_md.md)] integration

Integration with [!INCLUDE[prod_short](includes/prod_short.md)] happens through [!INCLUDE[prod_short](includes/cds_long_md.md)], and many standard settings and tables are provided. In addition to the standard settings, there are some that are specific to [!INCLUDE[crm_md](includes/crm_md.md)]. The following sections list those settings.

## Permissions and security roles for user accounts in Sales

When you install the Integration Solution, permissions for the integration user account are configured. If those permissions are changed, you might need to reset them. You can do that by reinstalling the Integration Solution by choosing **Redeploy Integration Solution** on the **Dynamics 365 Connection Setup** page. The following security roles are deployed:

* Dynamics 365 Business Central Integration Administrator
* Dynamics 365 Business Central Integration User

> [!NOTE]
> To use the **Open in Business Central** action in Sales, you must have the following privileges for the following tables:
>
> * You must have Read permissions for the Dynamics 365 Business Central Connection (nav_connection) table.
> * You must have Read, Write, and Delete permissions for the Default Dynamics 365 Business Central Connection (nav_defaultconnection) table.

### Connection settings in the setup guide

You can use an assisted setup guide to quickly set up the connection and specify advanced features, such as coupling between records.

1. Choose **Setup and Extensions**, and then choose **Assisted Setup**.
2. Choose **Set up the Dynamics 365 Sales Connection** to start the assisted setup guide.
3. Fill in the fields as necessary.
4. Optionally, there are advanced settings that can enhance security and enable more capabilities. The following table describes the advanced settings.  

| Field | Description |
|--|--|
| **Import Dynamics 365 Sales Solution** | Install and configure the integration solution in [!INCLUDE[crm_md](includes/crm_md.md)]. |
|**Automatically Synchronize Item Availability**|Specifies that the item availability job queue must be scheduled. The job queue runs every 30 minutes, and updates the availability of the coupled items.|
| **Enable Legacy Sales Order Integration** | When people create sales orders in [!INCLUDE[crm_md](includes/crm_md.md)] and fulfill orders in [!INCLUDE[prod_short](includes/prod_short.md)], this setting integrates the process in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Enable sales order processing integration](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration).<br><br>**Note:** You can't use this option if you use the **Bidirectional Synch of Sales Orders** option. The two settings are mutually exclusive. To learn more about this option, go to [Single and bi-directional synchronization of sales orders](#single-and-bi-directional-synchronization-of-sales-orders). |
|**Enable Dynamics 365 Sales Connection** | Enable the connection to [!INCLUDE[crm_md](includes/crm_md.md)]. |
| **Dynamics 365 SDK Version** | This is relevant only if you're integrating with an on-premises version of [!INCLUDE[crm_md](includes/crm_md.md)]. This SDK is the Dynamics 365 software development kit (also referred to as Xrm) you use to connect [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]. The version must be compatible with the SDK version that is used by [!INCLUDE[crm_md](includes/crm_md.md)], and equal to or newer than the version used by [!INCLUDE[crm_md](includes/crm_md.md)]. |
|**Bidirectional Synch of Sales Orders**|Synchronize sales orders in both directions. To learn more about this option, go [Single and bi-directional synchronization of sales orders](#single-and-bi-directional-synchronization-of-sales-orders).<br><br>**Note:** You can't use this option if you use the **Enable Legacy Sales Order Integration** option. The two settings are mutually exclusive.|

> [!TIP]
> If you also want to integrate with Microsoft Dynamics 365 Field Service, the guide provides an optional step that can help. To learn more about integrating with Field Service, go to [Integrate with Microsoft Dynamics 365 Field Service](admin-integrate-field-service.md).

### Connection settings on the Microsoft Dynamics 365 Connection Setup page

Enter the following information for the connection from [!INCLUDE[crm_md](includes/crm_md.md)] to [!INCLUDE[prod_short](includes/prod_short.md)].

| Field | Description |
|--|--|
|**Dynamics 365 Sales URL**|The URL of your [!INCLUDE[crm_md](includes/crm_md.md)] instance. This setting lets users open the records in [!INCLUDE[prod_short](includes/prod_short.md)] that correspond to records in [!INCLUDE[crm_md](includes/crm_md.md)]. For example, an account or product. The [!INCLUDE[prod_short](includes/prod_short.md)] records open in [!INCLUDE[prod_short](includes/prod_short.md)].|
|**Automatically Synchronize Item Availability**|Specifies that the item availability job queue must be scheduled. The job queue runs every 30 minutes, and updates the availability of the coupled items.|
|**Dynamics 365 SDK Version**|If you're integrating with an on-premises version of [!INCLUDE[crm_md](includes/crm_md.md)], you can use the Dynamics 365 software development kit (also referred to as Xrm) to connect [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]. The version that you select must be compatible with the SDK version that is used by [!INCLUDE[crm_md](includes/crm_md.md)]. This version equal to or newer than the version used by [!INCLUDE[crm_md](includes/crm_md.md)].|

In addition to these settings, enter the following settings for [!INCLUDE[crm_md](includes/crm_md.md)].

| Field | Description |
|--|--|
| **Sales Order Integration is Enabled** | Enable users to submit sales orders and activated quotes in [!INCLUDE[crm_md](includes/crm_md.md)] and then view and process them in [!INCLUDE[prod_short](includes/prod_short.md)]. This setting integrates the process in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Enable sales order processing integration](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration). |
| **Automatically Create Sales Orders** | Create a sales order in [!INCLUDE[prod_short](includes/prod_short.md)] when a user creates and submits one in [!INCLUDE[crm_md](includes/crm_md.md)]. |
| **Automatically Process Sales Quotes** | Process a sales quote in [!INCLUDE[prod_short](includes/prod_short.md)] when a user creates and activates one in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Handling Sales Quotes Data](/dynamics365/business-central/marketing-integrate-dynamicscrm?tabs=new-experience#handling-sales-quotes-data). |
|**Bidirectional Synch of Sales Orders**|Synchronize sales orders in both directions. To learn more, go to [Single and bi-directional synchronization of sales orders](#single-and-bi-directional-synchronization-of-sales-orders).|
<!--
### User Account Settings
Integration with Business Central through [!INCLUDE [cds_long_md](includes/cds_long_md.md)] requires an administrator user account and an account that is used only for the connection between the apps. This account is called the "integration user." When you install the CDS Base Integration Solution, permissions for the integration user account are configured in [!INCLUDE[crm_md](includes/crm_md.md)]. If those permissions are changed you might need to reset them. You can do that by reinstalling the Integration Solution or by manually resetting them. The following tables list the minimum permissions for the user accounts in [!INCLUDE[crm_md](includes/crm_md.md)].  -->
### Single and bi-directional synchronization of sales orders

When you set up your integration, there are options that control the direction in which you synchronize sales orders, and how you submit them.

The **Bidirectional Synch of Sales Orders** option lets you synchronize sales orders from Sales to [!INCLUDE [prod_short](includes/prod_short.md)], and vice versa. For example, if a customer changes their mind about the product or quantity in [!INCLUDE[crm_md](includes/crm_md.md)], you can archive the sales document and create a new document in [!INCLUDE[prod_short](includes/prod_short.md)]. The same is true for changes in [!INCLUDE[prod_short](includes/prod_short.md)]. For example, when prices, tax amounts, or expected shipment dates change, the changes synchronize to [!INCLUDE[crm_md](includes/crm_md.md)]. Bidirectional synchronization helps keep your sellers up to date with the latest changes and the status of sales orders.

For bidirectional synchronization, you make sales orders available for synchronization when you change their status to **Submitted** in Sales. When you set that status, you can no longer change information on the order's lines. When you synchronize, the order is transferred to [!INCLUDE [prod_short](includes/prod_short.md)] with the status **Released**. If there's a mistake, you can revert the order to **Open** (in [!INCLUDE [prod_short](includes/prod_short.md)]) or **Active** (in Sales), and then add or delete lines to correct the mistake, and submit the order again.

> [!TIP]
> When you enable the **Bidirectional Synch of Sales Orders** option, [!INCLUDE [prod_short](includes/prod_short.md)] creates a record on the **Sales Order Archives** page when you post or change information on an order. For example, the archived versions can be useful for exploring an order's history.

The **Enable Legacy Sales Order Integration** option synchronizes only from Sales to [!INCLUDE [prod_short](includes/prod_short.md)]. For this option, you use the **Submit** action in Sales to make orders available for synchronization. When you do, you can no longer change any information on the order. When you synchronize, the order is transferred to [!INCLUDE [prod_short](includes/prod_short.md)] with the status **Released**.

To use this option, you must provide credentials for an administrator user account in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Handle Sales Order Data](marketing-integrate-dynamicscrm.md#handle-sales-order-data).

> [!NOTE]
> The **Bidirectional Synch of Sales Orders** and **Enable Legacy Sales Order Integration** options are mutually exclusive. You can't use both options at the same time.

For both options, [!INCLUDE [prod_short](includes/prod_short.md)] shows all sales orders with the **Submitted** status on the **Orders - Microsoft Dynamics 365 Sales** page.

### Standard Sales entity mapping for synchronization

Entities in [!INCLUDE[crm_md](includes/crm_md.md)], such as orders, are integrated with equivalent types of tables in [!INCLUDE[prod_short](includes/prod_short.md)], such as sales orders. To work with [!INCLUDE[crm_md](includes/crm_md.md)] data you set up links, called couplings, between tables in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)].

The following table lists the standard mapping between tables in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] that [!INCLUDE[prod_short](includes/prod_short.md)] provides.

| [!INCLUDE[prod_short](includes/prod_short.md)] | [!INCLUDE[crm_md](includes/crm_md.md)] | Synchronization Direction | Default Filter |
|--|--|--|--|
| Unit of Measure | Unit Group | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Item | Product | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] | Sales contact filter: **Product Type** is **Sales Inventory** |
| Resource | Product | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] | Sales contact filter: **Product Type** is **Services** |
| Item Unit of Measure | CRM UOM |[!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)]| |
| Resource Unit of Measure | CRM UOM |[!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)]||
| Unit Group | CRM Uomschedule | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] ||
| Customer Price Group | Price List | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Sales Price | Product Price List | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] | [!INCLUDE[prod_short](includes/prod_short.md)] contact filter: **Sales Code** isn't blank, **Sales Type** is **Customer Price Group** |
| Opportunity | Opportunity | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[prod_short](includes/cds_long_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] |  |
| Sales Invoice Header | Invoice | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Sales Invoice Line | Invoice Product | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Sales Order Header | Sales Order | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] <br><br> To synchronize in both directions, you must turn on the **Bidirectional Synch of Sales Orders** toggle on the **Dynamics 365 Connection Setup** page.| [!INCLUDE[prod_short](includes/prod_short.md)] Sales Header filter: **Document Type** is **Order** and **Status** is **Released** |
| Sales Order Notes | Sales Order Notes | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] |  |

> [!NOTE]
> The mappings for the **Item Unit of Measure**, **Resource Unit of Measure**, and **Unit Group** tables are available only if your administrator turns on the **Unit Group Mapping** toggle on the **Microsoft Dynamics 365 Connection Setup** page. To learn more, go to [Synchronizing Items and Resources with Products in Different Units of Measure](admin-prepare-dynamics-365-for-sales-for-integration.md#synchronize-items-and-resources-with-products-with-different-units-of-measure).

## Synchronize items and resources with products with different units of measure

Businesses often produce or purchase the items in one unit of measure, and then sell them in another. To synchronize items that use multiple units of measure, you must turn on the **Unit Group Mapping** toggle on the **Microsoft Dynamics 365 Connection Setup** page.

When you turn on the feature update, a new Unit Group table is created and assigned to each item and resource in [!INCLUDE[prod_short](includes/prod_short.md)]. The tables let you map the Unit Group, Item Unit of Measure, and Resource Unit of Measure tables in [!INCLUDE[prod_short](includes/prod_short.md)] to the Dynamics 365 Sales Unit Group in [!INCLUDE[crm_md](includes/crm_md.md)]. The following image shows the mappings.

:::image type="content" source="media/unit group 1.png" alt-text="Table mappings for unit groups":::

You can create multiple units of measure for each unit group, and assign the groups to products in [!INCLUDE[crm_md](includes/crm_md.md)]. Afterward, you can synchronize the products with items and resources in [!INCLUDE[prod_short](includes/prod_short.md)]. You can manually couple item units of measure or resource units of measure with a unit group. When you do, if the unit group for the item or resource isn't coupled to a unit group in [!INCLUDE[crm_md](includes/crm_md.md)], [!INCLUDE[prod_short](includes/prod_short.md)] automatically creates the unit group in [!INCLUDE[crm_md](includes/crm_md.md)].

### Map items and resources to products

When you turn on the **Unit Group Mapping** toggle on the **Microsoft Dynamics 365 Connection Setup** page, the following happens:

* New mappings are created for items and resources.
* Existing mappings are deleted.
* A data upgrade creates unit groups for items and resources.

To use the new mappings, you must synchronize unit groups, item unit of measure, and resource unit of measures. You must also resynchronize items and resources.

> [!NOTE]
> [!INCLUDE[crm_md](includes/crm_md.md)] doesn't allow you to change a unit group for a product. Therefore, you must retire your products and uncouple the items and resources, and then synchronize by creating new products in [!INCLUDE[crm_md](includes/crm_md.md)]. 

The following steps describe the steps to start mapping unit groups:

1. Be sure that products in [!INCLUDE[crm_md](includes/crm_md.md)] aren't coupled with items or resources in [!INCLUDE[prod_short](includes/prod_short.md)]. If they are, go to the **Items** and/or **Resources** pages and use the filter options to select the coupled records. Then choose the **Dynamics 365 Sales** action, and select **Uncouple**. This action schedules a background job to uncouple the records. While the job is running, you can check its status by using the **Synchronization Log** action. To learn more, go to [Coupling and Synchronizing](admin-how-to-couple-and-synchronize-records-manually.md).
2. Because new products are created in [!INCLUDE[crm_md](includes/crm_md.md)] with new unit groups, to avoid duplicate names, do one of the following steps:

  * Rename your products, and then retire them in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Retire products (Sales Hub)](/dynamics365/sales-enterprise/retire-product). To bulk edit your products in Microsoft Excel, sign in to Power Apps, choose your environment, go to the **Product** table, and then choose the **Data** tab. Clear any filters that are applied. In the **Data** group, choose the **Edit Data in Excel** action. Add a prefix or suffix to the coupled products, and then retire them.
    * Retire your products and delete them. 

3. Follow these steps to synchronize **Unit Groups**, **Unit of Measures**, **Items**, and **Resources**:
    1. In [!INCLUDE[prod_short](includes/prod_short.md)], open the **Dynamics 365 Sales Connection Setup** page.
    2. Use the **Run Full Synchronization** action to open the **Dataverse Full Synch. Review** page.
    3. For the **ITEM UOM**, **RESOURCE UOM**, AND **UNIT GROUP** mappings, choose the **Recommend Full Synchronization** action.
    4. Choose the **Sync All** action.

    > [!NOTE]
    > This action fully synchronizes all mappings. To prevent mappings from synchronizing, delete the mappings from the page. Deleting the mappings only removes them from the current full synchronization, and doesn't delete the mappings.
4. Choose the **ITEM-PRODUCT** mapping, and then choose the **Restart** action. Restarting creates new products from the items in [!INCLUDE[crm_md](includes/crm_md.md)], and assigns a new unit group that is specific to the item.
5. Choose the **RESOURCE-PRODUCT** mapping, and then choose the **Restart** action. Restarting creates new products from the resources in [!INCLUDE[crm_md](includes/crm_md.md)], and assigns a new unit group that is specific to the resources.

### Synchronization rules

The following table lists the rules that control the synchronization between [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)]. These rules are in addition to rules defined for [!INCLUDE [cds_long_md](includes/cds_long_md.md)], which also apply. To learn more, go to [Standard Entity Mapping](admin-synchronizing-business-central-and-sales.md#standard-table-mapping-for-synchronization).

> [!NOTE]  
> Changes to data that were made by the integration user account aren't synchronized. Therefore, we recommended that you don't change data while using that account. To learn more, go to [Setting Up User Accounts for Integrating with Dynamics 365 Sales](admin-setting-up-integration-with-dynamics-sales.md).

|Table|Rule|
|-----|----|
|Units of Measure|Units of measure are synchronized with unit groups in [!INCLUDE[crm_md](includes/crm_md.md)]. There can only be one unit of measure defined in the unit group.|
|Items|When it synchronizes items with [!INCLUDE[crm_md](includes/crm_md.md)] products, [!INCLUDE[prod_short](includes/prod_short.md)] automatically creates a price list in [!INCLUDE[crm_md](includes/crm_md.md)]. To avoid synchronization errors, you shouldn't modify this price list manually.|
|Resources|Resources are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] products that have product type Service.|
|Customer Price Groups|Customer price groups are synchronized with Sales price lists.|
|Sales Prices|Sales prices that have sales type Customer Price Group and have a sales code defined are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] price list lines|
|Opportunities|Opportunities are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] opportunities. The Salesperson Code value defines the owner of the coupled table in [!INCLUDE[crm_md](includes/crm_md.md)].|
|Posted Sales Invoices|Posted sales invoices are synchronized with sales invoices. Before an invoice can be synchronized, it's better to synchronize all other tables that can participate in the invoice, from salespersons to price lists. The Salesperson Code value in the invoice header defines the owner of the coupled table in Sales.|
|Sales Orders|When you enable sales order integration, when you release sales orders in [!INCLUDE[prod_short](includes/prod_short.md)] that were created from submitted sales orders in [!INCLUDE[crm_md](includes/crm_md.md)], they synchronize with sales orders in [!INCLUDE[crm_md](includes/crm_md.md)]. Before you synchronize orders, we recommend that you first synchronize all tables involved with the order. For example, sales persons and price lists. The Salesperson Code field in the order header defines the owner of the coupled table in [!INCLUDE[crm_md](includes/crm_md.md)].|

### Synchronization jobs for a Sales integration

The jobs are run in the following order to avoid coupling dependencies between tables. There are more jobs available from [!INCLUDE [cds_long_md](includes/cds_long_md.md)]. To learn more, go to [Use Job Queues to Schedule Tasks](./admin-job-queues-schedule-tasks.md).

1. UNITOFMEASURE - Dynamics 365 Sales synchronization job  
2. RESOURCE-PRODUCT - Dynamics 365 Sales synchronization job  
3. ITEM-PRODUCT - Dynamics 365 Sales synchronization job  
4. CUSTPRCGRP-PRICE - Dynamics 365 Sales synchronization job.
5. SALESPRC-PRODPRICE - Dynamics 365 Sales synchronization job.
6. POSTEDSALESINV-INV - Dynamics 365 Sales synchronization job.

### Default synchronization job queue entries

The following table describes the default synchronization jobs for [!INCLUDE[crm_md](includes/crm_md.md)].  

|Job Queue Entry|Description|Direction|Integration Table Mapping|Default Synchronization Frequency (mins)|Default inactivity sleep time (mins)|  
|---------------------|---------------------------------------|---------------|-------------------------------|-----|-----|  
|UNITOFMEASURE - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] unit groups with [!INCLUDE[prod_short](includes/prod_short.md)] units of measure.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|UNIT OF MEASURE|30|720<br> (12 hrs)|
|RESOURCE-PRODUCT - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] products with [!INCLUDE[prod_short](includes/prod_short.md)] resources.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|RESOURCE-PRODUCT|30|720<br> (12 hrs)|
|ITEM - PRODUCT - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] products with [!INCLUDE[prod_short](includes/prod_short.md)] items.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|ITEM-PRODUCT|30|1440<br> (24 hrs)|
|CUSTPRCGRP-PRICE - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] sales price lists with [!INCLUDE[prod_short](includes/prod_short.md)] customer price groups.| |CUSTOMER PRICE GROUPS-SALES PRICE LISTS|30|1440<br> (24 hrs)|
|SALESPRC-PRODUCTPRICE - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] product prices with [!INCLUDE[prod_short](includes/prod_short.md)] sales prices.||PRODUCT PRICE-SALES PRICE|30|1440<br> (24 hrs)|
|POSTEDSALESINV-INV - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] invoices with [!INCLUDE[prod_short](includes/prod_short.md)] posted sales invoices.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|INVOICES-POSTED SALES INVOICES|30|1440<br> (24 hrs)|
|Customer Statistics - Dynamics 365 Sales synchronization|Updates [!INCLUDE[crm_md](includes/crm_md.md)] accounts with the latest [!INCLUDE[prod_short](includes/prod_short.md)] customer data. In [!INCLUDE[crm_md](includes/crm_md.md)], this information appears in **Business Central Account Statistics** quick view form of accounts that are coupled to [!INCLUDE[prod_short](includes/prod_short.md)] customers.<br /><br /> This data can also be updated manually from each customer record. To learn more, go to [Couple and Synchronize Records Manually](admin-how-to-couple-and-synchronize-records-manually.md). </BR></BR>**Note:**  This job queue entry is relevant only if the [!INCLUDE[prod_short](includes/prod_short.md)] integration solution is installed in [!INCLUDE[crm_md](includes/crm_md.md)]. |Not applicable|Not applicable|30|Not applicable|

## Connect to on-premises versions of Business Central 2019 release wave 1 and Microsoft Dynamics NAV 2018

The Microsoft Power Platform team [announced](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse) that it's deprecating the Office 365 authentication type. If you're using a version of [!INCLUDE[prod_short](includes/prod_short.md)] on-premises that's earlier than [!INCLUDE [prod_short](includes/prod_short.md)] 2019 release wave 1, you must use the OAuth authentication type to connect to [!INCLUDE[crm_md](includes/crm_md.md)] online. The steps in this section describe how to connect the following product versions:

* Business Central 2019 release wave 1
* Microsoft Dynamics NAV 2018

### Prerequisites

* You must have a Microsoft Azure subscription. A trial account works for application registration.
* [!INCLUDE[crm_md](includes/crm_md.md)] is configured to use one of the following authentication types:

   * Office 365 (legacy)

     > [!IMPORTANT]
     > Effective April 2022, Office365 (legacy) is no longer supported. To learn more, go to [Important changes (deprecations) coming in Power Apps, Power Automate and customer engagement apps](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).

   * OAuth

### Connect Business Central 2019 release wave 1 and Dynamics NAV 2018

1. Import the Microsoft Dynamics 365 Business Central Integration Solution into your [!INCLUDE[crm_md](includes/crm_md.md)] environment. The integration solution is available in the CrmCustomization folder on your [!INCLUDE[prod_short](includes/prod_short.md)] or Dynamics NAV 2018 installation DVD. Depending on your product version, import one of the following solutions:

   * For [!INCLUDE[prod_short](includes/prod_short.md)], the folder contains the DynamicsNAVIntegrationSolution_v9 and DynamicsNAVIntegrationSolution_v91. solutions. The solution you should import depends on the version of [!INCLUDE[crm_md](includes/crm_md.md)] you're connecting to. [!INCLUDE[crm_md](includes/crm_md.md)] online requires the DynamicsNAVIntegrationSolution_v91 integration solution.
   * For Dynamics NAV 2018, install the DynamicsNAVIntegrationSolution solution.

2. Create a non-interactive integration user in your [!INCLUDE[crm_md](includes/crm_md.md)] environment, and assign the user the following security roles. To learn more, go to [Create a non-interactive user account](/power-platform/admin/create-users-assign-online-security-roles#create-a-non-interactive-user-account).

   * Dynamics 365 Business Central Integration Administrator
   * Dynamics 365 Business Central Integration User

   > [!Important]
   > This user must not have the System Administrator security role. Also, you cannot use the system administrator account as the integration user.

3. In the Azure portal, create an app registration for [!INCLUDE[prod_short](includes/prod_short.md)]. To learn more, go to [Register an application in Microsoft Entra ID](/powerapps/developer/data-platform/walkthrough-register-app-azure-active-directory).
  
   > [!NOTE]
   > We recommend that you register the app in the same tenant as your [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment so that you don't have to consent to giving access to the environment. If you register the app in another environment, you must sign in to Microsoft Entra ID using the administrator account for your [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment and give consent.
   >
   > Additionally, the app that you register must not have a secret. Connecting an app with a secret to [!INCLUDE [cds_long_md](includes/cds_long_md.md)] is available only in [!INCLUDE [prod_short](includes/prod_short.md)] 2020 release wave 1 and later.
  
4. Depending on your product version, do one of the following steps:

    * In [!INCLUDE[prod_short](includes/prod_short.md)], search for **Microsoft Dynamics 365 Connection Setup**, and then choose the related link.
    * In Dynamics NAV 2018, search for **Microsoft Dynamics 365 for Sales Connection Setup**, and then choose the related link.

5. In the **Authentication Type** field, choose the option for OAuth.
6. Choose the CRM SDK version that matches solution version you imported in step 1.

   > [!NOTE]
   > This step is only relevant for [!INCLUDE[prod_short](includes/prod_short.md)].

7. Enter the URL of your [!INCLUDE[crm_md](includes/crm_md.md)] environment, and then enter the user name and password for the integration user. 

   * In [!INCLUDE[prod_short](includes/prod_short.md)], use the **Server Address** field.
   * In Dynamics NAV 2018, use the **Dynamics 365 Sales URL** field.

8. In the **Connection String** field, specify the ID of the app registration. This field has two tokens in which the ID of your application should be specified.

   |Token           |Description  |
   |----------------|-------------|
   |**AppId**       |Set to the application ID.      |
   |**RedirectUri** |Set to the application ID, but add the **app://** prefix.         |

    **Example**
    To review an example of the connection string, go to [Create a connection string](/power-apps/developer/data-platform/xrm-tooling/use-connection-strings-xrm-tooling-connect#create-a-connection-string) in the [!INCLUDE [cds_long_md](includes/cds_long_md.md)] documentation.
9. Enable the connection.

   > [!Note]
   > If you want to configure a connection to a [!INCLUDE[crm_md](includes/crm_md.md)] instance with a specific authentication type, fill in the fields on the **Authentication Type Details** FastTab. To learn more, go to [Authentication with Microsoft Dataverse web services](/powerapps/developer/data-platform/authentication). This step is not required when connecting an online version of [!INCLUDE[prod_short](includes/prod_short.md)].

## Related information

[Setting Up User Accounts for Integrating with [!INCLUDE[crm_md](includes/crm_md.md)]](admin-setting-up-integration-with-dynamics-sales.md)  
[Set Up a Connection to [!INCLUDE[crm_md](includes/crm_md.md)]](admin-how-to-set-up-a-dynamics-crm-connection.md)  
[Synchronizing Business Central and [!INCLUDE[crm_md](includes/crm_md.md)]](admin-synchronizing-business-central-and-sales.md)  
[Preparing Dynamics 365 Sales for Integration on-premises](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/reports-built-in-analytics
---
title: Built-in analytics
description: Provides an overview of all the features that support analytics tasks in the Business Central product.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: feature overview
ms.date: 04/30/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Built-in analytics

[!INCLUDE[prod_short](includes/prod_short.md)] comes with features that enable you to analyze data in an aggregated form. For example, you can use these features to track key performance indicators (KPIs) for your finances or analyze financial statements in Microsoft Excel. The following table provides links to articles that can help you learn how to use the built-in analytics.

| To | See |
| --- | --- |
|Analyze data with built-in Power BI reports. | [Work with Power BI Reports](across-working-with-powerbi.md) |
|Get insight into which reports users use| [Report usage telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-reports-trace)|

## Related information

[Analytics overview](reports-bi-reporting.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-order-agent-setup
---
title: Set up Sales Order Agent
description: Learn how to activate Sales Order Agent and manage user access.
ms.date: 04/01/2025
ms.topic: how-to
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.collection:
  - bap-ai-copilot
ms.search.form: 4400_Primary, 4410
---
# Set up Sales Order Agent (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

Sales Order Agent in Business Central automates processing sales orders from customer email requests. This article explains how to set up, activate, configure Sales Order Agent, and manage user access.

Learn more about the agent in [Sales Order Agent overview](sales-order-agent.md).

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

<!--[!INCLUDE [limited-public-preview](includes/limited-public-preview.md)]-->

## Prerequisites

Before configuring and activating Sales Order Agent, ensure the following prerequisites are met:

- The Business Central environment is one of these country/region versions: AU (Australia), CA (Canada), GB (Great Britain), NZ (New Zealand), or US (United States).

  Sales Order Agent is currently unavailable in other country/region versions. Learn more about geographic and language availability at [Copilot international availability](https://aka.ms/bapcopilot-intl-report-external).
- Set up the email account for receiving incoming requests for sales quotes and orders.

   Sales Order Agent monitors incoming emails to this mailbox. The email account must be a **Microsoft 365** type (user mailbox or shared mailbox) in your organization. Learn more at [Set up email](admin-how-setup-email.md).

   > [!IMPORTANT]
   > To activate and configure the agent, you need **Read and manage (Full Access)** and **Send as** permission on the mailbox, unless it's your personal mailbox. As an Exchange admin, delegate these permissions to all users who need to activate and configure the agent. Learn more in [Use the Exchange admin center to edit shared mailbox delegation](/microsoft-365/admin/email/create-a-shared-mailbox#use-the-eac-to-edit-shared-mailbox-delegation).
   >
   > When a user activates the agent, it runs as a background task in the context of that user and needs access to the shared mailbox to process emails. It might take a few hours for Exchange to propagate the permissions to the selected users.
- Set up the Business Central environment for billing agent capabilities (preview version 26.0 sandbox environments in the United Kingdom and United States only).

   Agents use Microsoft Copilot Studio messages when a user runs it, which your company is charged for. Learn more in [Manage consumption-based billing](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-consumption-billing).

- Turn on the **Allow HttpClient Requests** toggle in the **Sales Order Agent** extension settings (sandbox environments only).

   Open the [Extension management](https://businesscentral.dynamics.com/?page=2500) page, select **Sales Order Agent**, and then turn on the **Allow HttpClient Requests** toggle.

## Turn on the Sales Order Agent capability for the environment

The agent capability is on if the ![Shows the Sales Order Agent icon](media/soa-icon.png) **Sales Order Agent** icon appears in the top navigation menu of the role center.

![Shows the Sales Order Agent icon on a role center](media/soa-in-role-center.svg "Shows the Sales Order Agent icon on a role center")

If the icon isn't present, turn it on from the **Copilot & agent capabilities** page, like other Copilot features in Business Central. Sales Order Agent is listed under **Production ready previews**. Learn more in [Configure Copilot and AI agent capabilities](enable-ai.md).

Next, configure and activate the agent so it can process customer sales orders.

## Configure and activate Sales Order Agent

Configure and activate Sales Order Agent for your company. Only one Sales Order Agent is allowed per company, but you can give access to many users.

1. In the navigation bar at the upper right of the role center, select ![Shows the Sales Order Agent icon](media/soa-icon.png) **Sales Order Agent**   > **Activate**.

1. On the **Configure the Copilot agent** page, turn on the **Monitor incoming information** toggle, select the **Mailbox** checkbox, and then set the **Mailbox** field to the email account you want the agent to monitor.

   ![Shows the Sales Order Agent configuration page](media/soa-configuration.png "Shows the Sales Order Agent configuration page")

1. Select **Manage user access** to specify the users who can manage or interact with the agent. You can add more users now or later. Learn more in [Manage user access to the Sales Order Agent](#manage-agent-permissions-and-user-access).
1. Turn on the **Active** toggle.
1. On the right side of the page, select the **Go to next card** arrow to choose how the agent helps with inquiries, quotes, and orders.

    The following table describes several options:

    |Option|Description|Default|
    |-|-|-|
    |Select only available items|Specifies whether the agent considers item availability when searching for the customer's requested items.<br><br>When on, the agent checks inventory to determine whether the customer's requested item quantity is available based on their requested delivery date and location code. If there aren't enough items, the agent prepares the reply to the user that the requested items aren't available, even in situations when fewer items are available. <br><br>When off, the agent includes the customer's requested item quantity regardless of availability. That is, quotes can be created for the items that aren't available and their availability can become negative.<br><br>Learn more about item availability in [Get an availability overview](inventory-how-availability-overview.md) or open the [Item Availability page](https://businesscentral.dynamics.com?page=4410).|On|
    |Create sales documents|When on, the agent can create sales quotes and orders from email inquiries based on the remaining options in this table.<br><br>When off, the agent handles only email communication and doesn't create quotes or orders. The remaining options are irrelevant and canâ€™t be set.|On|
    |Review quotes when created and updated|When on, the agent adds a review step for a Business Central user to review and confirm the sales quote before creating an outgoing email with the quote details and attachment. <br><br>When off, the agent creates or modifies sales quotes as requested and then automatically proceeds with creating an outgoing email with the quote as an attachment. The user must review and confirm the email before the agent sends it to the customer. |Off|
    |Make orders from quotes|When on, the agent converts confirmed sales quotes into orders after the customer agrees to the quote via email and the Business Central user confirms the email.<br><br>When off, you have to create the order manually.|On|
    |Review orders when created and updated|When on, the agent adds a review step for a Business Central user to review and confirm the sales order before creating an outgoing email with the order details and attachment. <br><br>When off, the agent creates the sales order as requested and then automatically proceeds with creating an outgoing email with the order as an attachment. The user must review and confirm the order before the agent sends it to the customer. |Off|

1. Select **Update** to complete the setup.
1. Ensure Sales Order Agent's language is set to a supported language.

   When you configure the agent, it uses the same language as the display language of your workspace. [Learn how to change the agent's language](#change-language-and-regional-settings).

The **Sales Order Agent** icon changes to ![Shows the Sales Order Agent icon after configured](media/soa-activated-icon.png), indicating the agent is active and ready to handle incoming quote requests to the mailbox.

When Sales Order Agent is active, a scheduled task added to job queue runs every 20 seconds on the mailbox. This task monitors new unread messages in the mailbox. If a new unread message is found, Sales Order Agent imports the message into Business Central and verifies whether there's already a task for the mail thread. If a task for the thread already exists, Sales Order Agent incorporates the new message into the existing task. Otherwise, it creates a new task for the message.

> [!NOTE]
> The ![Shows the Sales Order Agent icon when the agent is configured but not active](media/soa-not-activated-icon.png) icon indicates the agent is configured with the mailbox, but it's not active. To activate, select the icon, then select ![Shows the configuration icon for Sales Order Agent](media/soa-configure-icon.png) **Configure Sales Order Agent** to reopen the configuration page. From there, turn on the **Active** toggle.

## Manage agent permissions and user access

### Add agent users

As an administrator, you can specify which users have permission to use or configure Sales Order Agent. There are two ways to add and configure agent users: 

#### [From Configure Sales Order Agent](#tab/soaconfig)

1. Open the **Configure Sales Order Agent** page by selecting ![Shows the Sales Order Agent icon after configured](media/soa-activated-icon.png) **Sales Order Agent** > ![Shows the configuration icon for Sales Order Agent](media/soa-configure-icon.png) **Configure**.
1. Turn off the **Active** toggle.
1. Select **Manage user access**.
1. On the **Select users that can manage or interact with the Agent** page, you can do the following steps:

   - To add a user, select an empty line, select the **User Name** field, then select the user from the list.
   - To give a user permission to configure Sales Order Agent, select the **Can configure** checkbox. <br><br> The **Can configure** setting defines whether a user has access to update the agent configuration (for example, updating the designated mailbox, activating and deactivating the agent, and other settings) or only to work with the agent tasks (for example, reviewing and confirming agent steps).
   - To remove a user's access to the agent, select ![Shows the icon to show more option on a field](media/show-more-options-icon.png) **Show more options** next to the user name, and then select **Delete**.

#### [From Sales Order Agent card page](#tab/soapage)

1. To open the **Sales Order Agent** card page, search (<kbd>Alt</kbd>+<kbd>Q</kbd>) for **Agents**, and then select **SALES ORDER AGENT - [COMPANY]**.
1. Set **Status** to **Disabled** to deactivate the agent.
1. In the **User access** section, you can do the following steps:

   - To add a user, select an empty line, select the **User Name** field, and then select the user from the list.
   - To give a user permission to configure Sales Order Agent, select the **Can configure** checkbox.
   - To remove a user's access to the agent, select ![Shows the icon to show more option on a field](media/show-more-options-icon.png) **Show more options** next to the user name, and then select **Delete**.

---

### Manage agent permissions to objects, data, and UI elements

Sales Order Agent has a user account in Business Central, similar to other users. To access this account, search for and open the **Agents** page, and then select **SALES ORDER AGENT - [COMPANY]** to open the agent card page.

The **Agent Permission Sets** section lists all the permission sets currently assigned to the agent. By default, Sales Order Agent has the **SOA AGENT â€“ EDIT** permission set. This set restricts access to only the objects, data, and UI elements (such as pages, fields, and actions) necessary for handling sales quote requests.

You can't modify the **SOA AGENT â€“ EDIT** permission set directly, because it's a system permissions set. However, you can create a copy of **SOA AGENT â€“ EDIT** permission set, modify the copy to suit your needs, and then add it to the **Agent Permission Sets** section, along with any other permission sets.

Before you can add or delete permission sets applied to the agent, change the **State** to disabled. When you're done making changes, set it back to **Enabled**.

The following system permissions are available for controlling user access to the agent's functionality:

- **Configure All Agents** (ID 9665): Grants a user access to manage the configuration settings of Sales Order Agent.
- **Manage Agent Tasks** (ID 9670): Allows a user to work with agent tasks displayed in the Copilot pane.

These system permissions are also included in the following permission sets, entitlements, and license types:

- The **SECURITY** permission set includes the **Configure All Agents** permission.
- The **System Execute - Basic** permission set includes the **Manage Agent Tasks** permission.
- The **System Tables - Basic** permission set includes all virtual tables used by the agent (labeled as "Agent *" tables).
- Essential and Premium license entitlements now include **Manage Agent Tasks** permissions.
- All license types include **Configure All Agents** permissions.

Users can configure Sales Order Agent if they have the **Configure All Agents** permission or are listed as an agent user with the **Can Configure** field selected.

Users can work with agent tasks in the Copilot pane if they have the **Manage Agent Tasks** permission (either explicitly or as part of their Essential or Premium license permissions) and are listed as an agent user.

## Change language and regional settings

[!INCLUDE[soa-language-support](includes/soa-language-support.md)]

1. To open the **Sales Order Agent** card page, search (<kbd>Alt</kbd>+<kbd>Q</kbd>) for **Agents**, and then select **SALES ORDER AGENT - [COMPANY]**.
1. Select **User Settings**.
1. Set **Language** to a supported English locale.

## Next steps

[Process sales quotes and orders with Sales Order Agent](sales-order-agent-process.md)

## Related information

[Sales Order Agent overview](sales-order-agent.md)  
[FAQ for Sales Order Agent](faqs-sales-order-taker-agent.md)  
[Configure Copilot and agent capabilities](enable-ai.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-set-up-basic-warehouses-with-operations-areas
---
title: Set up basic warehouses with operations areas
description: Set up warehouse operations areas and use inventory movements, picks, and put-aways to move goods between them.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.form: 6774, 6775, 6776
ms.date: 03/04/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Set up basic warehouses with operations areas

If you have internal operation areas, such as production or assembly areas, you can use the following basic warehouse documents to record your warehouse activities:  

- **Inventory Movement** page.  
- **Inventory Pick** page.  
- **Inventory Put-away** page.

To use these documents, you must set up one or more of the following fields on the the **Location Card** page for the location:

- The **Bin Mandatory** field.
- The **Inventory Pick/Movement** option in the **Prod. Consumption Whse. Handling** field.
- The **Inventory Movement** option in the **Asm. Consumption Whse. Handling** field.
- The **Inventory Put-Away** in the **Prod. Output Whse. Handling** field.

> [!NOTE]
> You can still post output and consumption directly from the source documents and journals.  

To use these pages with internal operations such as to pick and move components to production, depending on how much control you need you must do some or all the following steps:  

- Enable the inventory pick, move, and put-away documents.  
- Define default bin structures for components and end items flowing to and from operation resources.  
- Make to- and from- bins that are dedicated to specific operation resources. Dedicated bins prevent the items from being picked for outbound documents.

Bin codes that are set up on location cards define a default warehouse flow for certain activities, such as components in an assembly department. Other functionality exists to make sure that when items are placed in a certain bin, they can't be moved or picked to other activities. To learn more, go to [To create dedicated component bins](warehouse-how-to-set-up-basic-warehouses-with-operations-areas.md#to-create-dedicated-component-bins).

The following procedures are based on setting up basic warehouse activities around a production area. The steps are similar for other operation areas, such as assembly, service management, and jobs.  

> [!NOTE]  
> The following procedures assume that the **Bin Mandatory** toggle is turned on for the location.  

## To enable inventory documents for internal operation activities

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.
2. Open the location card you want to set up.  
3. On the **Warehouse** FastTab, select **Inventory Put-Away** in the **Prod. Output Whse. Handling** field to indicate that when someone releases an internal source document with a bin code, an inventory put-away or movement document can be created.  
4. To require that an inventory pick or an inventory movement document when you create an outbound or internal source document with a bin code, fill in the following fields:

   - In the **Prod. Consumption Whse. Handling field**, choose **Inventory Pick/Movement**.
   - In the **Asm. Consumption Whse. Handling** field, choose **Inventory Movement**.  

## To define a default bin structure in the production area

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.
2. Open the Location you want to set up.  
3. On the **Bins** FastTab, in the **Open Shop Floor Bin Code** field, enter the code of the bin in the production area with plenty of components that the machine operator can consume from without requesting a warehouse activity to bring them to the bin. Items that are placed in this bin are typically set up for automatic posting, or flushing. This setup means that the **Flushing Method** field contains **Forward**, **Backward**, or **Manual**.  

   > [!TIP]
   > You can also record flushing without requiring a pick. For example, skipping the pick might be useful for components which, due to their nature, you store in the shop floor zone so there's no need to pick. However, you might still have to manually post consumption, for example, because the consumed quantity can vary or require item tracking. To flush without picking, the item must use the **Pick + Manual** flushing method. To learn more, go to [Flushing methods](production-how-to-flush-components-according-to-operation-output.md#flushing-methods).

4. In the **To-Production Bin Code** field, enter the code of the bin in the production area where components that are picked for production at this location are placed by default before they can be consumed. Items that are placed in this bin are typically set up for manual picking. The **Flushing Method** field contains **Pick + Forward**, **Pick + Backward**, or **Pick + Manual** for warehouse picks and inventory movements.  

    > [!NOTE]  
    > When you use inventory picks, the **Bin Code** field on a production order component line defines the *take* bin from where components are decreased when posting consumption. When you use inventory movements, the **Bin Code** field on production order component lines defines the *place* bin in the operation area where the warehouse worker must place the components.  

5. On the **Bins** FastTab, in the **From-Production Bin Code** field, enter the code of the bin in the production area where finished end items are taken from by default when the process involves a warehouse activity. In basic warehouse configurations, the activity is recorded as an inventory put-away or an inventory movement.  

Now, production order component lines with the default bin code require that forward-flushed components are placed there. However, until the components are consumed from that bin, other component demands might pick or consume from that bin because they're still considered available bin contents. To make sure that bin content is only available to component demand that uses that to-production bin, you must select the **Dedicated** field on the line for that bin code on the **Bins** page that you open from the location card.

This flow chart shows how the **Bin Code** field on production order component lines is filled according to your setup.  

![Bin flow chart.](media/binflow.png "BinFlow")

## To define a default bin structure in the assembly area

Components for assembly orders can't be picked or posted with inventory picks. Instead, use the **Inventory Movement** page. To learn more, go to [Pick or move for Production, Assembly, or Jobs in Basic Warehouse](warehouse-how-to-pick-for-production.md).

When picking and shipping sales line quantities that are assembled to the order, you must follow certain rules when creating the inventory pick lines. To learn more, go to [Handling assemble-to-order items with inventory picks](warehouse-how-to-pick-items-with-inventory-picks.md#handling-assemble-to-order-items-with-inventory-picks).

To learn more, go to [Assembly Management](assembly-assemble-items.md).

### To set up that an inventory movement is automatically created when the inventory pick for the assembly item is created

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assembly Setup**, and then choose the related link.
2. Select the **Create Movements Automatically** checkbox.

### To set up the bin in the assembly area where components are placed by default before they can be consumed in assembly

The value in this field is automatically inserted in the **Bin Code** field on assembly order lines when this location is entered in the **Location Code** field on the assembly order line.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.
2. Open the Location you want to set up.
3. Fill in the **To-Assembly Bin Code** field.

### To set up the bin in the assembly area where finished assembly items are posted to when they're assembled to stock

The value in this field is automatically inserted in the **Bin Code** field on assembly order headers when this location code is filled into the **Location Code** field on the assembly order header.

Bin codes that are set up on location cards define a default warehouse flow for specific warehouse activities, such as consumption of components in an assembly area. Other functionality exists to make sure that when items are placed in a default bin, they can't be moved or picked to other activities.

> [!NOTE]
> This setup is only possible for locations where the **Bin Mandatory** field is selected.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.
2. Open the Location you want to set up.
3. Fill in the **From-Assembly Bin Code** field.

### To set up the bin where finished assembly items are posted to when they're assembled to a linked sales order

From this bin, the assembly items are shipped immediately, via an inventory pick, to fulfill the sales order.

> [!NOTE]
> You can't use this field if the location is set up to use directed pick and put-away.

The bin code is copied from the sales order line to the assembly order header to communicate to assembly workers where to place the output to ready it for shipping. It's also copied to the inventory pick line to communicate to warehouse workers where to take it from to ship it.

> [!NOTE]
> The Assemble-to-Order Shipment bin is always empty. When you post an assemble-to-order sales line, then the bin content is first positively adjusted with the assembly output. Immediately after, it's negatively adjusted with the shipped quantity.

The value in this field is automatically inserted in the Bin Code field on sales order lines that contain a quantity in the **Qty. to Assemble to Order** field or if the item to be sold has **Assemble-to-Order** in the **Replenishment System** field.

If the **Asm.-to-Order Shpt. Bin Code** is blank, then the **From-Assembly Bin Code** field is used instead. If both setup fields are blank, then the last used bin with content is used in the **Bin Code** field on sales order lines.

The same bin code is in turn copied to the **Bin Code** field on the inventory pick line that manages the shipment of the assemble-to-order quantity. To learn more, go to [Handling assemble-to-order items with inventory picks](warehouse-how-to-pick-items-with-inventory-picks.md#handling-assemble-to-order-items-with-inventory-picks).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.
2. Open the Location you want to set up.
3. Fill in the **Asm.-to-Order Shpt. Bin Code** field.

## To create dedicated component bins

You can specify that quantities in a bin are protected from being picked for other demands than demand from their current purpose.

Quantities in dedicated bins can still be reserved. Accordingly, the quantities in dedicated bins are included in the **Total Available Quantity** field on the **Reservation** page.

For example, is a work center is set up with a bin code in the **To-Production Bin Code** field. Production order component lines with that bin code require that forward-flushed components are placed there. However, until the components are consumed from that bin, other component demands might pick or consume from that bin because they're still considered available bin contents. To make sure that bin content is only available to component demand that uses that to-production bin, you must select the **Dedicated** field on the line for that bin code on the **Bins** page that you open from the location card.

Making a bin dedicated provides similar functionality to using bin types, which is only available in advanced warehousing. To learn more, go to [Set Up Bin Types](warehouse-how-to-set-up-bin-types.md).

> [!CAUTION]
> Items in dedicated bins are not protected when they are picked and consumed as production components with the Inventory Pick page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link. Select the location that you want to update.  
2. Choose the **Bins** action.  
3. Select the **Dedicated** field for each bin that you want to use exclusively for certain internal operations and where you want quantities to be reserved for that internal operation once placed there.  

> [!NOTE]  
> The bin must be empty before you can select or clear the **Dedicated** field.

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)  
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-conducting-a-sales-campaign
---
title: Walkthrough conducting a sales campaign
description: This walkthrough gives a detailed overview of all the tasks involved in conducting a sales campaign in Business Central.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 01/31/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough conducting a sales campaign

A campaign is any kind of activity that involves several contacts. An important part of setting up a campaign involves selecting the target audience for your campaign. For this purpose, in [!INCLUDE[prod_short](includes/prod_short.md)], you create a segment, or a group of contacts using filters.  

 You use these features in Sales & Marketing to carefully plan your marketing activities and to manage your interactions with contacts and customers. You can create campaigns and set up segments of your contacts for mailings and other types of interactions with your contacts and prospective customers.  

 The Campaign and Segment features with their automated processes enable you to plan, organize, and keep track of your marketing activities. This increases the chances of winning new customers and retaining existing customers.  

## About this walkthrough

 This walkthrough demonstrates the process for following up on a trade show and targeting potential customers (contacts) in a follow-up campaign.  

 The walkthrough introduces the campaign and segment management feature in the Sales & Marketing department. This walkthrough illustrates the following tasks:  

- Preparing the data.
- Setting up a campaign.  
- Selecting the target audience.  
- Mining data.  
- Sending letters to contacts.  
- Registering campaign responses.  

## Roles

 This walkthrough demonstrates tasks that are performed by the following user roles:  

- Marketing Manager or Sales Manager  
- Marketing Staffer  

## Prerequisites

 Before you can perform the tasks in the walkthrough, you must install the [!INCLUDE[prod_short](includes/prod_short.md)].  

## Story

 The marketing manager in the Sales department of CRONUS is responsible for planning campaigns and for executing them. The marketing manager also makes decisions about which trade shows to participate in and evaluates campaign progress.  

 The marketing staffer in the Marketing department handles producing, distributing, and placing marketing material.  

 The company has launched a new product called the Rome Guest Chair. The product was recently promoted at a trade show, Office Futurus. Many customers expressed great interest in the product, and as part of a promotional effort, customers who bought Rome Guest Chair during a campaign period were offered a special campaign price.  

 One of the marketing stafferâ€™s tasks after the trade show is to enter all the potential customers as contacts.  

 The marketing manager sets up a campaign, creates a segment that contains all the new contacts and then mines the contact data to select the target audience for the campaign.  

 The staffer helps send out thank you letters to all the contacts who left their cards with the staff at the stand, and finally, the manager records all the responses they receive from the prospective customers.  

## Setting up a campaign

 As soon as the staffer has entered the business cards received at the trade show, the marketing manager sets up a campaign card to manage the activities involved in the campaign.  

### To set up a campaign  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Campaigns**, and then choose the related link.  
2. Choose the **New** action to create a new campaign. On the campaign card, select <kbd>Enter</kbd> to have a campaign number automatically inserted.  
3. In the **Description** field, enter a description for the campaign, for example, **Office Futurus trade show**.  
4. Choose the **Status Code** field, and select the status code "1-PLAN". 
5. Fill in the **Starting Date** and **Ending Date** fields of the campaign as appropriate.  

## Selecting the target audience

 The marketing manager creates a segment to select the contacts that they want to interact with.  
 
 When you create a segment, you can use various criteria to select the contacts that must be targets for the segment. For example, you can select contact persons who work at a customer site or a prospective customer site who are responsible for purchases at their company. You use filters to add contacts according to the criteria that best fit your purposes. For example, you can choose to filter by the job responsibility of the contact person or the business relation or industry of the contact company. For this walkthrough, we'll choose the **Job Responsibility** filter to select contacts.

### To create a segment with the relevant contacts  

1. Choose the **Navigate** action, and then choose **Segments**.  
2. Choose the **New** action to create a new segment. On the segment card, select **Enter** to have a segment number automatically inserted.  
3. On the **General** FastTab, in the **Description** field, enter, for example, *Visitors at the Office Futurus trade show*.
4. Choose the **Add Contacts** action to open the **Add Contacts** filter.  
5. Scroll down to the **Contact Job Responsibility** FastTab, select the **Purchase** filter as the **Job Responsibility Code** and choose the **OK** button.  

The **Segment** page now contains a list of contacts based on the filter you entered. On the **General** FastTab, in the **No. of Lines** field, you can see at a glance the number of contacts that meet these criteria.  

> [!NOTE]  
> You can save your segmentation criteria to be reused at a later stage.

### To save your segmentation criteria

1. On the **Segment** page, choose **Actions**.
2. Choose **Functions**, then **Segment**, and then choose the **Save Criteria** action.  
3. On the **Save Segment Criteria** page, enter a code for the segment. In the **Description** field, enter a description of the segment criteria.
4. Choose the **OK** button.  

## Mining the data

 The marketing manager takes a closer look at the segmented list of contacts and realizes that the list is much too large. The manager decides to reduce the list based on actual, prospective customers to focus on the correct target group. This process of refining and reducing the data is also referred to as data mining.  

### To remove contacts from the segment  

1. On the **Segment** page, choose **Actions**.
2. In the menu bar below, choose **Functions**, choose **Contacts**, and the choose **Reduce Contacts**.  

  This opens the **Remove Contacts â€“ Reduce** dialog.  
4. On the **Contact Business Relation** FastTab, select the **CUST** filter as the **Business Relation Code**, and choose the **OK** button.

 The **Segment** page now contains a reduced list of contacts, and in the **No. of Lines** field, you can see the number of contacts that now meet these new criteria.  

 > [!NOTE]  
 > If you have to reverse this removal of a group of contacts, you can do this using the **Go Back** function. In other words, you can undo your last segmentation.  

### To bring back the removed contacts

1. On the **Segment** page, choose the **Segment** action.
2. Choose the **Go Back** action.

The contacts that you removed are added back to the list of contacts.

## Linking a segment to a campaign

The marketing manager decides that the reduced list is the final list of contacts that they want to be part of the campaign. They therefore link this segment to the campaign FUTURUS trade show.  

### To link a segment to the campaign  

1. On the **Segment** page, on the **Campaign** FastTab, choose the **Campaign No.** field to select the campaign that you want the segment to be attached to, for example, **CP0001**.
2. Select **Yes**.  
3. Since this segment is the target of the campaign, select the **Campaign Target** check box and choose **Yes**.  

## Sending letters and email messages to contacts

 The marketing staffer helps the marketing manager send out correspondence to the prospective customers, in which they thank them for visiting the trade show.

### To use a segment to send a letter to a contact  

> [!NOTE]  
> In this procedure you have to attach a Word document. You can add attachments in any language.

> [!NOTE]  
> If needed click on the **Edit Pencil** icon to open the page in edit mode.

1. Open the **Segment** card for the **Visitors at the FUTURUS trade show**.  
2. On the **Interaction** FastTab, in the **Interaction Template Code** field, select the Business Letter template code **BUS** and select **Yes**.
3. Choose the **Language Code (Default)** field to open the **Segment Interaction Languages** page. Select a **Language Code** and then choose the **OK** button.
4. Make sure that the **Correspondence Type (Default)** is set to **Hard Copy**.
5. In the **Attachment** field, select the **Ellipsis** box. This opens the Import Attachment dialog.
    1. Select the **Choose** button to choose your file.
    1. Find the file and select the **Open** button to attach it.
6. In the **Subject (Default)** field, enter the following example text: **Thank you for visiting the trade show**. Select the <kbd>Tab</kbd> key to leave the field, and select the **Yes** button.
7. Slide the **Send Word Docs as Attmt** to on and select the **Yes** button.
8. Choose the action **Log**. In the Log Segment pop-up window enable:
 **Create Follow-up Segment**
9. Choose the **OK** button to start the **Log Segment batch job**.  

The attachments are sent. When the process is done, choose the **OK** button for the message that states that the segment has been logged.  

 The letters are automatically printed and the segment is logged. Because the segment has been logged, it's no longer in the list of segments but is moved to the list of logged segments. To see that list, Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Logged Segments**, and then choose the related link.  

After the segment is logged, each letter that is sent is recorded as an interaction, which you can view in the log.  

Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Interaction Log Entries**, and then choose the related link. There's an entry for each sent letter.  

### To send an email message to a contact  

1. On the **Interaction** FastTab, in the **Interaction Template Code** field, select the Business Letter template, code **BUS**.  
2. In the **Subject (Default)** field, enter the following example text: **Thank you for visiting the trade show**.  
3. In the **Correspondence Type** field, choose **E-Mail**.  
4. Specify language settings, and attach a Word document, as in the previous procedure.  
5. Choose the **Log** action. The **Log Segment** page opens.  
6. Select the **Send Attachments** check box to have the attachments sent by email.  
7. Select the **Create Follow-up Segment** check box.  
8. Choose the **OK** button.  

 The letters are automatically sent by email, and the segment is logged. Because the segment has been logged, it's no longer in the list of segments but is saved in the list of logged segments. To see that list, Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Logged Segments**, and then choose the related link.  

## Register campaign responses

 During the next couple of weeks, the prospective customers respond to the letter. The marketing manager wants to keep track of the responses and records these interactions.  

 For this purpose, set up a segment for the contacts who have responded to the letter.  

### To register campaign responses  

1. On the **Segment** page, on the **Interaction** FastTab, choose the **Interaction Template Code** field.  

 There's no interaction template for recording responses to campaigns. Therefore, create a new template.  

2. On the **Interaction Templates** dropdown, choose the **New** action.  
3. In the **Code** field, enter **RESP**, and in the **Description** field, enter **Campaign Responses**.  
4. Choose the **OK** button.
5. Choose **Yes** to confirm that you want to apply this interaction template code to all segment lines.
6. On the **Campaign** FastTab, select the **Campaign Response** field. Choose **Yes** to confirm the message *You have modified Campaign Response*.  
7. On the **Segment** page, choose the **Log** action.  
8. On the **Log Segment** page, clear the **Send Attachments** check box. Then choose the **OK** button to confirm the message that the segment has been logged.  
  
## Related information  
[Relationship Management](marketing-relationship-management.md)  
 [Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ad-hoc-data-analysis-by-functional-area
---
title: Ad-hoc data analysis by functional area
description: Provides an overview of functional area specific landing pages for ad-hoc data analysis in Business Central.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: get-started
ms.search.keywords: feature overview
ms.date: 05/01/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Ad-hoc data analysis by functional area

The general content about ad-hoc data analysis is also available in special versions for many of the functional areas in [!INCLUDE[prod_short](includes/prod_short.md)]. 

[!INCLUDE[ad-hoc-analysis-scenarios-table](includes/ad-hoc-analysis-scenarios-table.md)]


## Related information

[Ad-hoc data analysis overview](reports-adhoc-analysis.md)   
[Analytics overview](reports-bi-reporting.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-planning-supplies-automatically
---
title: Walkthrough - Planning supplies automatically
description: This walkthrough demonstrates how to use the supply planning system to automatically plan purchase and production orders on different sales orders. 
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 12/06/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: Planning supplies automatically

<!-- [!INCLUDE[complete_sample_data](includes/complete_sample_data.md)]   -->

Phrases like "run planning" and "run MRP" refer to the calculation of the master production schedule (MPS) and the material requirements plan (MRP) based on actual and forecasted demand.  

-   MPS is the calculation of a master production schedule based on actual demand and the demand forecast. The MPS calculation is used for end items that have a forecast or a sales order line. These items are called "MPS items" and are identified dynamically when the calculation starts.  
-   MRP is the calculation of material requirements based on actual demand for components and the demand forecast on the component level. MRP is calculated only for items that aren't MPS items. The overall purpose of MRP is to provide time-phased formal plans, by item, to supply the right item at the right time, in the right place, in the right quantity.  

 The planning algorithms used for both MPS and MRP are identical. The planning algorithms use netting, reuse of existing supply orders, and action messages. The planning system process examines what is needed or will be needed (demand) and what is available or expected (supply). When these quantities are netted against each other, action messages are displayed in the planning worksheet. Action messages are suggestions to create a new supply order, change a supply order (quantity or date), or cancel an existing supply order. Supply orders can be production orders, purchase orders, and transfer orders. For more information, see [Design Details: Supply Planning](design-details-supply-planning.md).  

 The planning result is calculated partly from the demand-supply sets in the database and partly by the setup of stockkeeping unit cards or item cards, production BOMs, and routings.  

## About this walkthrough  
 This walkthrough demonstrates how to use the supply planning system to automatically plan all the purchase and production orders required to produce 15 touring bicycles demanded on different sales orders. To provide a clear and realistic walkthrough, the number of planning lines is delimited by filtering out all other demand-supply sets in the CRONUS demonstration company except the sales demand at location EAST.  

 This walkthrough illustrates the following tasks:  

-   Creating the sales order and calculating a complete supply plan.  
-   Viewing planning parameters and order tracking entries behind the planning lines.  
-   Automatically creating the suggested supply orders.  
-   Creating new sales demand and replanning accordingly.  

## Roles  

-   Production Planner  
-   Purchasing Agent  

## Prerequisites  
 To complete this walkthrough, you need:  

-   The CRONUS International Ltd. demonstration company.  
-   To change various item setup values by following the steps in the "Preparing Sample Data" section, later in this walkthrough.  

## Story  
 The customer, Cannon Group PLC, orders five touring bikes for shipment on 02-05-2021 (February 5).  

 Eduardo, the production planner, performs the routine supply planning for the first week of February 2021. Eduardo filters on their own location, EAST, and enters a planning interval of the work date (01-23-2021) to 02-07-2021 before calculating an initial supply plan.  

 The only demand that week is for the Cannon Group sales order. Eduardo sees that none of the planning lines have warnings, and proceeds to create supply orders without changes for the suggested planning lines.  

 The next day, before any of the initial supply orders are started or posted, Eduardo is notified when another customer orders ten touring bikes for shipment on 02-12-2021. Eduardo recalculates to adjust the supply plan according to the change of demand. The recalculation gives you a net change plan that suggests changes to both time and quantity of some of the supply orders created in the first run.  

 During the various planning steps, Eduardo looks up the involved orders, and uses the Order Tracking feature to see which demand is covered by which supply.  

## Preparing sample data  
 Create stockkeeping units (SKUs) for the touring bike and a selection of its components, item numbers 1001 to 1300. (Some components are excluded to simplify the procedures.) Adjust the planning parameters of the selected components to provide a more transparent planning result.  

### To create stockkeeping units  

1.  Open the item card for item 1001, Touring Bicycle.  
2.  Choose the **Create Stockkeeping Unit** action.  
3.  On the **Create Stockkeeping Unit** page, leave all options and filters unchanged, and then choose the **OK** button.  
4.  Repeat steps 1 through 3 for all items in the number range between 1100 and 1300.  

### To change selected planning parameters  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Stockkeeping Units**, and then choose the related link.  
2.  Open the EAST stockkeeping unit card for item 1100, Front Wheel.  
3.  On the **Planning** FastTab, fill in the fields as described in the following table.  

    |Reordering Policy|Safety Stock Quantity|Lot Accumulation Period|Rescheduling Period|  
    |-------------------------------------------|-----------------------------------------------|-------------------------------------------------|---------------------------------------------|  
    |Lot-for-Lot|Blank|2W|2W|  

4.  Repeat steps 2 and 3 for all SKUs in the number range between 1100 and 1300.  

 This completes the preparation of sample data for the walkthrough.  

## Creating a regenerative supply plan  
 In reaction to a new sales order for five touring bikes, Ricardo begins the planning process by setting options, filters, and planning interval to exclude all other demand except that of the first week of February at location EAST. Ricardo begins by calculating a master production schedule (MPS), and then proceeds to calculate a complete supply plan for all lower-level demand (MRP).  

### To create the sales order  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2.  Choose the **New** action.  
3.  On the **Sales Order** page, fill in the fields as described in the following table.  

    |Sell-to Customer Name|Shipment Date|Item No.|Location|Quantity|  
    |----------------------------|-------------------|--------------|--------------|--------------|  
    |Cannon Group|02-05-2014|1001|EAST|5|  

4.  Accept the availability warning and choose the **Yes** button to record the new demand quantity.  

### To create a regenerative plan to fulfill demand at location EAST  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
2.  Choose the **Calculate Regenerative Plan** action.  
3.  On the **Calculate Plan - Plan. Wksh.** page, fill in the fields as described in the following table.  

    |Calculate Plan|Starting Date|Ending Date|Show results:|Limit totals to|  
    |--------------------|-------------------|-----------------|-------------------|---------------------|  
    |**MPS** = Yes<br /><br /> **MRP** = No|01-23-2021<br /><br /> (work date)|02-07-2021|1001..1300|Location Filter = EAST|  

4.  Choose the **OK** button to start the planning run.  

     One planning line is created suggesting that a planned production order is issued to produce the ten touring bikes, item 1001, by 02-05-2021, the shipment date of the sales order.  

     Next, verify that this planning line relates to the Cannon Group sales order by using the **Order Tracking** function, which dynamically links demand with its planned supply.  

5.  Select the new planning line, and then choose the **Order Tracking** action.  
6.  On the **Order Tracking** page, choose the **Show** action.  

     The sales order for five touring bikes shipping to customer number 10000 on 02-05-2021 is shown.  

7.  Close the **Sales Order** and **Order Tracking** pages.  

### To calculate MRP to include underlying component needs  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
2.  Choose the **Calculate Regenerative Plan** action.  
3.  On the **Calculate Plan - Plan. Wksh.** page, fill in the fields as described in the following table.  

    |Calculate|Starting Date|Ending Date|Show results:|Limit totals to:|  
    |---------------|-------------------|-----------------|-------------------|----------------------|  
    |**MPS** = Yes<br /><br /> **MRP** = Yes|01-23-2021|02-07-2021|1001..1300|Location Filter = EAST|  

4.  Choose the **OK** button to start the planning run.  

     A total of 14 planning lines are created suggesting supply orders for all the demand that the touring bike sales order at EAST location represents.  

## Analyze the planning result  
 To analyze the suggested quantities, Eduardo drills down on selected planning lines to view order tracking entries and planning parameters.  

 On the **Planning Worksheet** page, note in the **Due Date** column that the suggested supply orders are scheduled backward from the due date of the sales order, 02-05-2021. The timeline begins on the top planning line with the production order to produce the finished touring bikes. The timeline ends on the bottom planning line with the purchase order for one of the lowest-level items, 1255, Socket Back, due on 01-30-2021. Like the planning line for item 1251, Axle Back Wheel, this line represents a purchase order for components that are due on the starting date of its produced parent, subassembly item 1250, which in turn is due on 02-03-2014. Throughout the worksheet, you can see that all underlying items are due on the starting date of their parents.  

 The planning line for item 1300, Chain Assy, suggests ten pieces. This deviates from the five pieces that we expect to need to fulfill the sales order. Proceed to view the order tracking entries.  

### To view order tracking entries for item 1300  

1.  Select the planning line for item 1300, and then choose the **Order Tracking** action.  

     The two lines on the **Order Tracking** page show that five pieces are tracked from the planning line (first order tracking line) to sales order 1001 (second order tracking line). The last five pieces suggested on the planning line aren't related to any document lines, but to a planning parameter, forecast entry, or blanket order entry. Such untracked quantities are summed in the **Untracked Quantity** field in the header of the **Order Tracking** page.  

2.  Choose the **Untracked Quantity** field.  

     The **Untracked Planning Elements** page shows that item 1300 uses a planning parameter, Minimum Order Quantity, of 10.00. Therefore, the planning line is for ten pieces in total, of which only five can be tracked to a demand. The last five pieces are an untracked quantity to satisfy the planning parameter. Proceed to review the planning parameter.  

### To check the planning parameter  

1.  On the **Untracked Planning Elements** page, select the order tracking line for item 1300.  
2.  Choose the **Item No.** field, and then choose the **Advanced** action.  
3.  On the **Item List** page, choose the **Stockkeeping Units** action.  
4.  On the **Stockkeeping Unit List** page, open the EAST stockkeeping unit card.  
5.  On the **Planning** FastTab, note that the **Minimum Order Quantity** field contains 10.  
6.  Close all pages except the **Planning Worksheet** page.  

### To view more order tracking entries  

1.  Select the planning line for item 1110, Rim, and then choose the **Order Tracking** action.  

     The **Order Tracking** page shows that five rims are needed for each production order for front and back wheels respectively.  

     The same order tracking applies to the planning lines for items 1120, 1160, and 1170. For item 1120, the **Quantity per** field on the production BOM of each wheel item is 50 PCS, which results in a total need of 100.  

     The planning line for item 1150 for six pieces looks irregular. Proceed to analyze.  

2.  Select the planning line for item 1150, and then, on then choose the **Order Tracking** action.  

     The **Order Tracking** page shows that five units are tracked to the front wheel, and one unit is untracked. Proceed to view the untracked quantity.  

3.  Choose the **Untracked Quantity** field.  

     The **Untracked Planning Elements** page shows that item 1150 uses a planning parameter, Order Multiple, of 2.00, which specifies that when the item is ordered, it must be in a quantity that is divisible by 2. The closest number to 5 that is divisible by 2 is 6.  

     The same order tracking applies to the planning lines for the Front Hub components, items 1151 and 1155, except that each need is multiplied by the scrap percentage that is defined for item 1150 in the **Scrap Percentage** field on the item card.  

 This completes the analysis of the initial supply plan. Notice that the **Accept Action Message** check box is selected in all planning lines indicating that they're ready to be converted to supply orders.  

## Carrying out action messages  
 Next, Eduardo converts the suggested planning lines to supply orders by using the **Carry Out Action Msg.** function.  

### To automatically create the suggested supply orders  

1.  Select the **Accept Action Message** check box on all planning lines with a warning of type Exception.  
2.  Choose the **Carry Out Action Message** action.  
3.  On the **Carry Out Action Msg.-Plan.** page, fill in the fields as described in the following table.  

    |Production Order|Purchase Order|Transfer Order|  
    |----------------------|--------------------|--------------------|  
    |Firm Planned|Make Purch. Orders|Make Trans. Orders|  

4.  Choose the **OK** button to automatically create all the suggested supply orders.  
5.  Close the empty **Planning Worksheet** page.  

 This completes the initial calculation, analysis, and creation of a supply plan for demand at location EAST in the first week of February. In the following section, another customer orders ten touring bikes, and Eduardo must replan.  

## Creating a net change plan  
 The next day, before any supply orders are started or posted, a new sales order arrives from Libros S.A. for ten touring bikes to be shipped on 02-12-2021. Eduardo is notified of the new demand, and proceeds to replan in order to adjust the current supply plan. Eduardo uses the Net Change Plan function to calculate only the changes that are made to demand or supply since the last planning run. In addition, Eduardo expands the planning period to 02-14-2021 to include the new sales demand on 02-12-2014.  

 The planning system calculates the best way to cover the demand for these two identical products, such as to consolidate some purchase and production orders, reschedule other orders, and create new orders where it's required.  

### To create the new sales, demand and replan accordingly  

1.  Choose the **New** action.  
2.  On the **Sales Order** page, fill in the fields as described in the following table.  

    |Sell-to Customer Name|Shipment Date|Item No.|Location|Quantity|  
    |----------------------------|-------------------|--------------|--------------|--------------|  
    |Libros S.A.|02-12-2021|1001|EAST|10|  

3.  Accept the availability warning and choose the **Yes** button to record the demand quantity.  
4.  Proceed to replan to adjust the current supply plan.  
5.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
6.  Choose the **Calculate Net Change Plan** action.  
7.  On the **Calculate Plan - Plan. Wksh.** page, fill in the fields as described in the following table.  

    |Calculate Plan|Starting Date|Ending Date|Show results:|Limit totals to|  
    |--------------------|-------------------|-----------------|-------------------|---------------------|  
    |**MPS** = Yes<br /><br /> **MRP** = Yes|01-23-2021|02-14-2021|1001..1300|Location Filter = EAST|  

8.  Choose the **OK** button to start the planning run.  

 A total of 14 planning lines are created. Notice in the first planning line that the **Action Message** field contains **New**, the **Quantity** field 10, and the **Due Date** field 02-12-21. This new line for the top parent item, 1001, Touring Bike, is created because the item uses a reordering policy of **Order**, which means that it must be supplied in a one-to-one relationship to its demand, the sales order of ten pieces.  

 The next two planning lines are the production orders for touring bike wheels. Each existing order of five, in the **Original Quantity** field, is increased to 15, in the **Quantity** field. Both production orders have unchanged due dates, as indicated in the **Action Message** field that contains **Change Qty.** This is also the case for the planning line for item 1300, except its order multiple of 10.00 rounds the tracked demand for 15 pieces up to the 20.  

 All other planning lines have an action message of **Resched. & Chg. Qty.**. This means that apart from being increased in quantity, the due dates are moved in relation to the supply plan to include the extra quantity in the available production time (capacity). Purchased components are rescheduled and increased to supply the production orders. Proceed to analyze the new plan.  

## Analyze the changed planning result  
 Because all lot-for-lot-planned items within the filter, 1100 to 1300, have a rescheduling period of two weeks, their existing supply orders are all modified to meet the new demand, which occurs within the specified two weeks.  

 Several planning lines are multiplied by three to provide 15 touring bikes instead of 5, and the due dates are moved back in time to provide the increased quantities by the shipment date of the sales order to the Cannon Group. For these planning lines, all quantities can be tracked. The remaining planning lines are increased by ten pieces in addition to moving their due dates. For these planning lines, a part of the quantities are untracked due to different planning parameters. Proceed to view some of these order tracking entries.  

### To view order tracking entries for item 1250  

1.  Select the planning line for item 1250, and then choose the **Order Tracking** action.  

     The seven lines on the **Order Tracking** page show that five and ten pieces are tracked through the back wheel to the touring bikes on the two sales orders respectively.  

     The last five pieces are untracked. Proceed to analyze.  

2.  Choose the **Untracked Quantity** field.  

     The **Untracked Planning Elements** page shows that item 1250 uses a planning parameter, Order Multiple, of 10.00. Therefore, the planning line is for 20 pieces in total to round the actual need up to the nearest number divisible by 10. The last five pieces are an untracked quantity to satisfy the planning parameter.  

3.  Close all pages except the **Planning Worksheet** page.  

### To view an existing order  

1.  In the planning line for item 1250, choose the **Ref. Order No.** field.  
2.  On the **Firm Planned Prod. Order** page for the Back Hub. The existing order for ten pieces, which you created in the first planning run, opens.  
3.  Close the firm planned production order.  

 This completes the walkthrough of how the planning system is used to automatically detect demand, calculate the appropriate supply orders according to demand and planning parameters, and then automatically create different types of supply orders with the appropriate dates and quantities.  

## Related information  
 [Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)   
<!--  [Walkthrough: Planning Supplies Manually](walkthrough-planning-supplies-manually.md)    -->
 [Design Details: Supply Planning](design-details-supply-planning.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-accounting
---
title: Accountant experiences in Business Central
description: Learn about the Accountant Role Center and the Company Hub that support internal and external accountants in the client company.
author: brentholtorf
ms.topic: how-to
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 100, 1156, 1157, 1314, 1315, 1316, 9027
ms.date: 06/12/2025
ms.author: bholtorf
ms.reviewer: bholtorf
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Accountant experiences in Business Central

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Any business must do its books and sign off on the accounting. Some businesses employ an external accountant, and others have an accountant on staff. No matter what type of accountant you are, you can use the **Accountant** Role Center as your Home in [!INCLUDE[prod_short](includes/prod_short.md)]. From here, you can access all pages that you need in your work.  

## Accountant Role Center

The Role Center is a dashboard with activity tiles that show you real-time key figures and give you quick access to data. The ribbon at the top of the page gives you access to more actions. For example, to open financial reports and statements in Excel. In the navigation bar at the top, you can quickly switch between the lists you use most often. Here, there are other areas, such as **Posted Documents** with the various types of documents that the company posted.  

If you're new to [!INCLUDE[prod_short](includes/prod_short.md)], select **Product Videos** to watch videos or **Get Started** for a tour of key areas in the Role Center.

## Company Hub

If you work in multiple [!INCLUDE [prod_short](includes/prod_short.md)] companies, use the **Company Hub** page to keep track of work. For more information, see [Manage Work across Multiple Companies in the Company Hub](company-hub.md).  

## <a name="inviteaccountant"></a>Inviting a third-party accountant to your [!INCLUDE[prod_short](includes/prod_short.md)]

If a third-party accountant manages your books and financial reporting, your administrator can invite them to your [!INCLUDE[prod_short](includes/prod_short.md)] so they can work with you on your fiscal data. Both the Premium and Essentials [!INCLUDE[prod_short](includes/prod_short.md)] licenses let you procure up to three **External Accountant** licenses per customer tenant. The licenses are free, but you do need to procure them like you would other licenses. To learn more about licensing, download the [Microsoft Dynamics 365 Business Central Licensing Guide](https://go.microsoft.com/fwlink/?LinkId=866544).

After your accountant can access your [!INCLUDE[prod_short](includes/prod_short.md)], they can use the **Accountant** Role Center for easy access to the pages for their work. They can also use the company hub in their own [!INCLUDE [prod_short](includes/prod_short.md)] to manage their work. Learn more in [Manage Work across Multiple Companies in the Company Hub](company-hub.md).  

> [!Video https://learn-video.azurefd.net/vod/player?id=7ba6427f-cdf0-480d-8c98-b51f65437146]

It's easy to invite your external accountant. In [!INCLUDE [prod_short](includes/prod_short.md)], open the **Users** page, and then select the **Invite external accountant** action. [!INCLUDE [prod_short](includes/prod_short.md)] prepares an email for you. Just add your accountant's work email, and send the invitation.  

> [!Note]  
> This action requires that you set up email in your [!INCLUDE [prod_short](includes/prod_short.md)] to use SMTP. Learn more in [Set Up Email](admin-how-setup-email.md).  

> [!IMPORTANT]  
> The accountant's email address must be a work address based on Microsoft Entra ID. If the accountant uses another type of email, the invitation can't be sent.
>
> This task requires access to managing users and licenses in Microsoft Entra ID. The user who sends this invitation must be assigned at least the [User Administrator](/entra/identity/role-based-access-control/permissions-reference#user-administrator) role in the Microsoft 365 admin center. Learn more in [About admin roles](/microsoft-365/admin/add-users/about-admin-roles) in the Microsoft 365 admin content.  

### Add your accountant to your Microsoft 365 tenant

If your admin or reselling partner prefers not to use the **Invite External Accountant** guide, you can add an external user to the Microsoft Entra tenant used by [!INCLUDE [prod_short](includes/prod_short.md)] and assign them the *External Accountant* license. You can add a user using the Microsoft 365 admin center, Microsoft Entra admin center, or Azure portal. The following procedure uses the Microsoft admin center. Learn about using the Microsoft Entra admin center at [Quickstart: Add a guest user and send an invitation](/azure/active-directory/b2b/b2b-quickstart-add-guest-users-portal).

#### Add your accountant as a guest user

1. Sign in to [Microsoft 365 admin center](https://admin.microsoft.com) as at least a [User Administrator](/entra/identity/role-based-access-control/permissions-reference#user-administrator).
1. In the navigation pane, select **Users**.
1. On the **Users** page, select **New user**, and then **Invite external user**.
1. On the **Invite external user** page, add the accountant's email address and other information about them.  

   Optionally, include a personal welcome message to let the accountant know that you're adding them to your [!INCLUDE[prod_short](includes/prod_short.md)].

1. When you're finished, select **Review + Invite**.
1. Review the information, and then choose **Invite**.

After you send the invitation, the external user receives an email invitation to join your organization. After they accept the invitation, the user account is added as a guest.

Next, assign the guest user a license to [!INCLUDE[prod_short](includes/prod_short.md)].

#### Give your accountant access to your [!INCLUDE[prod_short](includes/prod_short.md)]

1. In the [Microsoft admin center](https://admin.microsoft.com), **Users** > **Guest users**.
1. Select the accountant's guest user account in the list, then select **Manage product licenses** to open the guest user profile pane.
1. Under **Licenses and apps**, select **Dynamics 365 Business Central External Accountant** license.  

   If this license isn't available, contact your reselling partner to add the license to your subscription.

   Specifically for evaluation purposes in a trial tenant, you can use an available **Dynamics 365 Business Central for IWs** license instead. However, you can't use this type of license if you already purchased [!INCLUDE[prod_short](includes/prod_short.md)].
1. Select **Save changes**.

If successful, the license is assigned to the guest user, and the guest account is created.

### Import the new user into [!INCLUDE[prod_short](includes/prod_short.md)]

The accountant receives an email notifying them that they have access to your Microsoft Entra ID. Next, give them access to the correct company in [!INCLUDE[prod_short](includes/prod_short.md)].

#### Add the accountant to the correct company

1. Sign in to [Business Central](https://businesscentral.dynamics.com).
1. Open company that you want to give the accountant access to. Learn more in [Switching to Another Company or Environment](ui-organization-switch.md).
1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then select the related link.  
1. Select the **Get New Users from Microsoft 365** action.

This action imports the user account that you created in the Azure portal to the company. Learn more in [To add a user in Business Central](ui-how-users-permissions.md#adduser).  

If you want to give access to multiple companies, then you must sign in to each company and repeat this process. Alternatively, you can update the permission groups for the accountant's user profile in [!INCLUDE[prod_short](includes/prod_short.md)], such as assigning them the *D365 Bus Premium* user group. Learn more in [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).  

### Inform your external accountant how to sign in to Business Central

Unlike internal users who access Business Central using the common URL `https://businesscentral.dynamics.com`, guest users must use the fully qualified domain name. The fully qualified domain name has the format `https://businesscentral.dynamics.com/<tenant ID or domain name>`, such as `https://businesscentral.dynamics.com/aaaabbbb-0000-cccc-1111-dddd2222eeee` or `https://businesscentral.dynamics.com/contoso.com`.

Guest users can sign in using two methods. They can open their browser, enter the fully qualified domain name in the address bar, and sign in using their username and password. Alternatively, they can:

1. Enter `https://businesscentral.dynamics.com` in the browser address bar.
1. Select **Sign in options**.
1. Select **Sign in to an organization**.
1. Enter the domain name of your organization, for example `contoso.com`, and then select **Next**.
1. Sign in using their username and password.

Learn more in [B2B collaboration invitation redemption](/entra/external-id/redemption-experience).

## Related information

[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[The General Ledger and the Chart of Accounts](finance-general-ledger.md)  
[Closing Years and Periods](year-close-years-periods.md)  
[Work with Dimensions](finance-dimensions.md)  
[Analyzing Financial Statements in Excel](finance-analyze-excel.md)  
[Manage Work across Multiple Companies in the Company Hub](company-hub.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Setting Up Cash Flow Analysis](finance-setup-cash-flow-analyses.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-record-purchase-price-discount-payment-agreements
---
title: Record Special Purchase Prices and Discounts
description: You can define different or alternate prices and discount agreements and apply them to purchase documents for vendors.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: special price, alternate price, pricing
ms.search.form: 26, 1346, 7012, 7014, 7017, 7018, 7189, 7190, 9307
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Record Special Purchase Prices and Discounts

> [!NOTE]
> In 2020 release wave 2 we released streamlined processes for setting up and managing prices and discounts. If you're a new customer using that version, you're using the new experience. If you're an existing customer, whether you are using the new experience depends on whether your administrator has enabled the **New sales pricing experience** feature update in **Feature Management**. For more information, see [Enabling Upcoming Features Ahead of Time](/dynamics365/business-central/dev-itpro/administration/feature-management).

The different price and discount agreements that apply when you buy from different vendors must be defined so that the agreed rules and values are applied to purchase documents that you create for the vendors.

When you have recorded special prices and line discounts for sales and purchases, [!INCLUDE[prod_short](includes/prod_short.md)] ensures that your profit on item trade is always optimal by automatically calculating the best price on sales and purchase documents and on project and item journal lines. For more information, see [Best Price Calculation](purchasing-how-record-purchase-price-discount-payment-agreements.md#best-price-calculation).

Concerning prices, you can have a special purchase price inserted on purchase lines if a certain combination of vendor, item, minimum quantity, unit of measure, or starting/ending date exists.

Concerning discounts, you can set up and use two types of purchase discounts:

| Discount Type | Description |
| --- | --- |
| **Purchase Line Discount** |An amount discount that is inserted on purchase lines if a certain combination of vendor, item, minimum quantity, unit of measure, or starting/ending date exists. This type works in the same way as for purchase prices. |
| **Invoice Discount** |A percentage discount that is subtracted from the document total if the value amount of all lines on a purchase document exceeds a certain minimum. |

Because purchase line discounts and purchase prices are based on a combination of item and vendor, you can also enter this configuration from the item card, where the rules and values are defined. For more information, see [Register New Items](inventory-how-register-new-items.md).

## To set up a special purchase price for a vendor

#### [Current Experience](#tab/current-experience)

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the relevant vendor card, and then choose the **Prices** action.
3. Fill in the fields on the line as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Fill a line for each combination for which the vendor grants you a purchase line discount.

#### [New Experience](#tab/new-experience)

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Choose the vendor, and then choose the **Sales Price Lists** action.
3. Choose **New** to create a new purchase price list.
4. On the **General** and **Tax** FastTabs, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
5. To add items to the list, do one of the following:
   * To add many items, choose **Suggest Lines**, and then enter filter criteria to specify the types of items to add. Optionally, you can also enter some additional settings for the items that are specific to the price list. You can change these later, if needed.
   * To copy items from another price list, choose **Copy Lines**, and then choose the price list to copy.
   * To add items manually, in the grid, in the **Product Type** field, choose the type of product that the price list is for. Depending on your selection, fill in the remaining fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
6. To start using the price list, in the **Status** field, choose **Active**.

---

## To set up a line discount for a vendor

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the relevant vendor card, and then choose the **Line Discounts** action.

   The **Vendor No.** field is prefilled with the vendor number.
3. Fill in the fields on the line as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Fill a line for each combination for which the vendor grants you a purchase line discount.

## To set up an invoice discount for a vendor

When your vendors have informed you which invoice discounts they grant, enter the invoice discount code on the vendor cards and set up the terms for each code.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the vendor card for a vendor that will be eligible for invoice discounts.
3. In the **Invoice Disc. Code** field, select a code for the relevant invoice discount terms to use to calculate invoice discounts for the vendor.

    > [!NOTE]  
    > Invoice discount codes are represented by existing vendor cards. This enables you to quickly assign invoice discount terms to vendors by picking the name of another vendors who will have the same terms.

    Proceed to set up new the purchase invoice discount terms.
4. On the **Vendor Card** page, choose the **Invoice Discounts** action. The **Vend. Invoice Discounts** page opens.
5. In the **Currency Code** field, enter the code for a currency that the invoice discount terms on the line applies to. Leave the field blank to set up invoice discount terms in USD.
6. In the **Minimum Amount** field, enter the minimum amount that an invoice must have to be eligible for the discount.
7. In the **Discount %** field, enter the invoice discount as a percentage of the invoice amount.
8. Repeat steps 5 through 7 for each currency that the vendor will receive a different invoice discount for.

The invoice discount is now set up and assigned to the vendor in question. When you select the vendor code in the **Invoice Disc. Code** field on other vendor cards, the same invoice discount is assigned to those vendors.

## To choose a principle for posting purchase discounts

When you post a purchase invoice that includes one or more discounts, you can choose between two principles for posting discount amounts. You can post discounts separately or you can subtract discounts from invoice discounts.  

Before you can do this, you must have already set up the necessary accounts for posting discount amounts in the chart of accounts. You must also check that you have entered the correct account numbers in the general posting setup in the **Purch. Line Disc. Account** and **Purch. Inv. Disc. Account** fields.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchases & Payables Setup**, and then choose the related link.
2. In the **Discount Posting** field, choose one of the following principles for posting discounts.

|**Discount Posting Principle**|**Invoice Discount**|**Line Discount**|  
|------------------------------------|--------------------------|-----------------------|  
|**All Discounts**|Posted separately|Posted separately|  
|**Invoice Discounts**|Posted separately|Subtracted|  
|**Line Discounts**|Subtracted|Posted separately|  
|**No Discounts**|Subtracted|Subtracted|  

## Purchase invoice discounts and service charges

If you have fixed terms for invoice discounts with any vendors, you can enter them for those vendors. Then the discount will be calculated when you fill in a purchase invoice.  

Before you can use invoice discounts with purchases, you must specify the vendors that offer you the discounts.  

You link discount percentages to specific invoice amounts in **Vend. Invoice Discounts** pages. You can enter any number of percentages in each page. Each vendor can have its own page, or you can link several vendors to the same page.  

In addition to a discount percentage, you can link a service charge amount to a specific invoice amount.  

You can define the terms of the invoice discount in LCY for domestic vendors and in foreign currency for foreign vendors.  

You can choose to have [!INCLUDE[prod_short](includes/prod_short.md)] automatically calculate the invoice discounts for quotes, blanket orders, orders, invoices, or credit memos.  

> [!TIP]  
> Before you enter this information, it is a good idea to prepare an outline of the discount structure that you want to use. This makes it easier to see which vendors can be linked to the same invoice discount page. The fewer pages that you have to set up, the faster that you can enter the basic information.

## Best price calculation

When you have recorded special prices and line discounts for sales and purchases, [!INCLUDE[prod_short](includes/prod_short.md)] ensures that your profit on item trade is always optimal by automatically calculating the best price on sales and purchase documents and on project and item journal lines.

The best price is the lowest permissible price with the highest permissible line discount on a given date. [!INCLUDE[prod_short](includes/prod_short.md)] automatically calculates this price when it inserts the unit price and the line discount percentage for items on new document and journal lines.

> [!NOTE]  
> The following describes how the best price is calculated for sales. The calculation is the same for purchases.

1. [!INCLUDE[prod_short](includes/prod_short.md)] checks the combination of the bill-to customer and the item and then calculates the applicable unit price and line discount percentage, using the following criteria:

    - Does the customer have a price/discount agreement, or does the customer belong to a group that does?
    - Is the item or the item discount group on the line included in any of these price/discount agreements?
    - Is the order date (or the posting date for the invoice and credit memo) within the starting and ending date of the price/discount agreement?
    - Is a unit of measure code specified? If so, [!INCLUDE[prod_short](includes/prod_short.md)] checks for prices/discounts with the same unit of measure code, and prices/discounts with no unit of measure code.

2. [!INCLUDE[prod_short](includes/prod_short.md)] checks if any price/discount agreements apply to information on the document or journal line, and then inserts the applicable unit price and line discount percentage, using the following criteria:

    - Is there a minimum quantity requirement in the price/discount agreement that is fulfilled?
    - Is there a currency requirement in the price/discount agreement that is fulfilled? If so, the lowest price and the highest line discount for that currency are inserted, even if LCY would provide a better price. If there is no price/discount agreement for the specified currency code, [!INCLUDE[prod_short](includes/prod_short.md)] inserts the lowest price and the highest line discount in LCY.

If no special price can be calculated for the item on the line, then either the last direct cost or the unit price from the item card is inserted.

## Related information

[Setting Up Purchasing](purchasing-setup-purchasing.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/intercompany-how-work-documents-journals
---
title: Post intercompany documents and journals
description: This article explains how you use intercompany documents or journals to post transactions with your intercompany partners.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/19/2024
ms.custom: bap-template
ms.search.keywords: IC, group, consolidation, affiliate, subsidiary, bank-to-bank
ms.search.form: 600, 610
ms.service: dynamics-365-business-central
---
# Work with intercompany documents and journals

Use intercompany documents or journals to post transactions with your intercompany partners. You can post transactions to G/L accounts, and if you set up intercompany bank accounts you can also post bank-to-bank transactions. To learn more about setting up intercompany bank accounts, go to [Specify the bank accounts to use for intercompany partners](intercompany-how-setup.md#specify-bank-accounts-for-intercompany-partners).  

When you post an intercompany document or journal line in your company, a corresponding document or journal line is created in your intercompany outbox. You transfer the line from your outbox to your partner. Your partner can then post the corresponding transaction in their company, without having to reenter the data.

For sales and purchase documents, the intercompany partner code on the customer or vendor ensures that all orders and invoices for transactions between the partners produce corresponding documents in the partner companies. The company accounts balance correctly.

The same is true for intercompany general journal lines. You don't need to specify accounts, you just choose the partner company. Corresponding intercompany general journal lines are then created in the partner company.

## Fill in and send an intercompany sales order

You can send sales and purchase orders and return orders before posting. Invoices and credit memos can't be sent until they're posted.

The following procedure describes how to create and send an intercompany sales order. The same steps apply to intercompany purchase orders and return orders, and to posted intercompany invoices and credit memos.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Choose **New** to create a new sales order. For more information, see [Sell Products](sales-how-sell-products.md).  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Make sure the customer is an intercompany partner.
5. To send the sales order before you post it, choose the **Send IC Sales Order** action.

> [!NOTE]
> If you do step 5, the sales order goes to your intercompany outbox, where you can send it later. To learn more about the intercompany inbox and outbox, go to [Manage the Intercompany Inbox and Outbox](intercompany-how-manage-intercompany-inbox.md).

## Fill in and post an intercompany journal

When you post an intercompany general journal line in your company, a corresponding journal line is created in your intercompany outbox that you can transfer to your partner. With 2022 release wave 1, you can also set up the company to automatically create received intercompany transactions that partners posted in intercompany general journals. Your partner can then post the corresponding transaction in their company, without having to reenter the data.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany General Journals**, and then choose the related link.  
2. Open the journal batch. For more information, see [Work with General Journals](ui-work-general-journals.md).
3. Fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](../archive/invoicing/includes/tooltip-inline-tip_md.md)]
4. In the **IC Partner G/L Acc. No.** field, enter the intercompany general ledger account that the amount posts to in your partner's company.

    > [!NOTE]
    > This field must be filled in on a line with a bank account or general ledger account in either the **Account No.** field or the **Bal. Account No.** field.  
5. Choose the **Post** action.

The entries are posted in your company and a journal with corresponding entries is created in your intercompany outbox. From there, you can send them to your partner.

## Related information

[Managing Intercompany Transactions](intercompany-manage.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with General Journals](ui-work-general-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-work-family
---
title: Work with Production Families in Manufacturing 
description: The main task in customizing a base calendar for your company, or one of its business partners, is to enter any changes to working and nonworking day status.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 99000790, 99000791, 99000792, 99000793
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Work with Production Families

A production family is a group of individual items whose relationship is based on the similarity of their manufacturing processes. By forming production families, some items can be manufactured twice or more in one production, which will optimize material consumption.

In the **Quantity** field on the **Family** page, you enter the quantity that will be produced when the whole family has been manufactured once.

## Example

In punching processes, four pieces of the same item can be produced from one sheet and 10 pieces of another, different, item at the same time. The punching machine will punch all 14 pieces in one step.

Forming production families reduces the scrap quantity because what would normally be leftover scrap, when producing big pieces, will be used instead to produce small items.

## To set up a production family

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Families**, and then choose the related link.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## To produce based on a production family

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Firm Planned Prod. Orders**, and then choose the related link.
2. Create a new production order. For more information, see [Create Production orders](production-how-to-create-production-orders.md).
3. In the **Source Type** field, select **Family**.  
4. In the **Source No.** field, select the relevant production family.

## Related information

[Create Production BOMs](production-how-to-create-production-boms.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Manufacturing](production-manage-manufacturing.md)
[Planning](production-planning.md)   
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-set-up-currencies
---
title: Set up currencies
description: You must set up each currency if you buy or sell in currencies other than your local currency (LCY), or if you record G/L transactions in different currencies.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: multiple currencies
ms.search.form: 5, 118
ms.date: 06/10/2024
ms.service: dynamics-365-business-central

---
# Set up currencies

[!INCLUDE [finance-currencies-def](includes/finance-currencies-def.md)]

Use an external service to get the latest currency exchange rates into the **Currencies** list. For more information, see [To set up a currency exchange rate service](finance-how-update-currencies.md#set-up-a-currency-exchange-rate-service).  

[!INCLUDE [finance-currencies-lcy](includes/finance-currencies-lcy-note.md)]

## <a name="curr"></a>Currencies

The following table describes the fields in the **Currencies** list.

|Field|Description|  
|---------------------------------|---------------------------------------|  
|**Code**|The identifier for the currency.|
|**Description**|A free text description of the currency.|
|**ISO Code**|The international three letter code to the currency defined in ISO 4217.|
|**ISO Numeric code**|The international numeric reference to the currency defined in ISO 4217.|
|**Exchange Rate Date**|The latest actual exchange rate date.|
|**EMU Currency**|Specifies if the currency is an EMU (Economic and Monetary Union) currency, such as EUR.|
|**Realized Gains Account**|The account where the actual gain is posted when you receive payments for receivables or register the actual currency rate on payments to payables. For an example of a receivable currency transaction, see the example below this table. |
|**Realized Losses Account**|The account where the actual loss is posted when you receive payments for receivables or register the actual currency rate on payments to payables. For an example of a receivable currency transaction, see the example below this table. |
|**Unrealized Gains Account**|The account where the theoretical gain is posted when you perform a currency adjustment.|
|**Unrealized Losses Account**|The account where the theoretical loss is posted when you perform a currency adjustment.|
|**Amount Rounding Precision**|Some currencies have other formats for invoice amounts than are defined in the **General Ledger Setup** page. If you change the amount rounding precision for a currency, all invoice amounts in that currency are rounded with the updated precision.|
|**Amount Decimal Places**|Some currencies have other formats for invoice amounts than are defined in the **General Ledger Setup** page. If you change the amount decimal places for a currency, all invoice amounts in the currency are rounded with the updated decimals|
|**Invoice Rounding Type**|Specifies the method to use if the amounts must be rounded. The options are **Nearest**, **Up**, and **Down**.|
|**Unit-Amount Rounding Precision**|Some currencies have other formats for unit amounts than are defined in the **General Ledger Setup** page. if you change the unit amount rounding precision for a currency, all unit amounts in the currency are rounded with the updated precision.|
|**Unit-Amount Decimal Places**|Some currencies have other formats for unit amounts than are defined in the **General Ledger Setup** page. If you change the unit amount decimal places for a currency, all unit amounts in the currency are rounded with the updated decimals.|
|**Application Rounding Precision**|Specifies the size of the interval that is allowed as a rounding difference when you apply entries in different currencies to one another.|
|**Conversion LCY Rounding. Debit Account**|Specifies conversion information that must also contain a debit account if you want to insert correction lines for rounding differences in the general journals using the **Insert Conv. LCY Rndg. Lines** action.|
|**Conversion LCY Rounding Credit Account**|Specifies conversion information that must also contain a credit account if you wish to insert correction lines for rounding differences in the general journals using the **Insert Conv. LCY Rndg. Lines** action.|
|**Last Date Adjusted**|The date of the last currency adjustment.|
|**Last Date Modified**|The date of the change to the setup of the currency.|
|**Payment Tolerance %**|The maximum payment tolerance % set for this currency. For more information, see [Payment Tolerance and Payment Discount Tolerance](finance-payment-tolerance-and-payment-discount-tolerance.md). |
|**Max. Payment Tolerance Amount**|The maximum payment tolerance amount set for this currency. For more information, see [Payment Tolerance and Payment Discount Tolerance](finance-payment-tolerance-and-payment-discount-tolerance.md). |
|**Currency Factor**|Specifies the relationship between the currency and the local currency using the actual currency rate.|
|**Realized G/L Gains Account**|Specifies the G/L account that is used to post exchange rate gains for currency adjustments between the local currency (LCY) and the additional reporting currency. The exchange rate gains are calculated when the Adjust Exchange Rates batch job is run to adjust general ledger accounts. This field might not be visible by default. It can be retrieved by personalizing the page.|
|**Realized G/L Losses Account**|Specifies the G/L account that is used to post exchange rate losses for currency adjustments between the local currency (LCY) and the additional reporting currency. The exchange rate gains are calculated when the Adjust Exchange Rates batch job is run to adjust general ledger accounts. This field might not be visible by default. It can be retrieved by personalizing the page.|
|**Residual Gains Account**|Specifies the G/L account that is used to post residual gain amounts (rounding differences) when an additional reporting currency is used in the general ledger application area. This field might not be visible by default. It can be retrieved by personalizing the page.|
|**Residual Losses Account**|Specifies the G/L account that is used to post residual loss amounts (rounding differences) when an additional reporting currency is used in the general ledger application area. This field might not be visible by default. It can be retrieved by personalizing the page.|
|**Max. VAT Difference Allowed**|The maximum amount allowed for VAT differences in this currency. For more information, see [Correcting VAT amounts manually on sales and purchase documents](finance-work-with-vat.md#correcting-vat-amounts-manually-on-sales-and-purchase-documents). This field might not be visible by default. It can be retrieved by personalizing the page.|
|**VAT Rounding Type**|Specifies the rounding method for correcting VAT amounts manually in sales and purchase documents. This field might not be visible by default. It can be retrieved by personalizing the page.|

### Available currency functions

The following table outlines key actions on the **Currencies** page.  

|Menu|Action|Description|
|-------------|--------------|------------------------------|
|**Process**|**Suggest Accounts**|Use accounts from the other currencies. The most frequently used accounts are inserted.|
||**Change Payment Tolerance**|Change either or both the maximum payment tolerance and the payment tolerance percentage, and filter by currency. For more information, see [Payment Tolerance and Payment Discount Tolerance](finance-payment-tolerance-and-payment-discount-tolerance.md)|
||**Exchange Rates**|View updated exchange rates for the currencies that you use.|
||**Adjust Exchange Rates**|Update balances for general ledger, customer, vendor, and bank account entries. The update is useful if the exchange rate changed after the entries were posted.|
||**Exchange Rate Adjustment Register**|View the results of running the **Adjust Exchange Rates** batch job. One line is created for each currency or each combination of currency and posting group that is included in the adjustment.|
|**Exchange Rate Service**|**Exchange Rate Services**|View or edit the setup of the services that are set up to fetch updated currency exchange rates when you choose the **Update Exchange Rates** action.|
||**Update Exchange Rates**|Get the latest currency exchange rates from a service provider.|
|**Reports**|**Foreign Currency Balance**|View the balances for all customers and vendors in both foreign currencies and in local currency (LCY). The report displays two LCY balances. One is the foreign currency balance converted to LCY by using the exchange rate at the time of the transaction. The other is the foreign currency balance converted to LCY by using the exchange rate of the work date.|

## LCY and other currencies

[!INCLUDE [finance-currencies-lcy-def](includes/finance-currencies-lcy-def.md)]

## Rounding currencies

To manage currencies that don't use decimals and to avoid unnecessary decimals in foreign currency, you can use two different rounding features:

- Unit-amount rounding  

- Amount rounding  

These features can operate independently or in combination. In addition, the features can operate with invoice rounding.

As opposed to the invoice rounding features, the amount rounding and unit-amount rounding features affect only amounts in foreign currency-not the corresponding amounts in LCY. These two features don't post anything to general ledger accounts. So, no general ledger account needs to be specified on posting groups or elsewhere.

### Unit-amount rounding

The unit-amount rounding feature controls how sales prices for items and resources in foreign currencies are rounded on sales and purchase lines. You must specify the rules for each currency separately, in the **Unit-Amount Rounding Precision** field in the **Currencies** list.

The unit-amount rounding feature is used automatically every time you enter an item or resource number on a sales line. If the invoice is for a customer with a currency code, the item or resource price is converted into the customer's currency. The price is rounded according to the unit-amount rounding precision for the currency.

### Amount rounding

The amount rounding feature controls how amounts in foreign currencies are rounded on general journal lines, sales lines, and purchase lines. You must specify the rules for each currency separately, in the **Amount Rounding Precision** field in the **Currencies** list.

Amounts in foreign currencies are rounded when you fill in and post general journal lines, sales lines, and purchase lines.

## Exchange rates

You can register exchange rates for each foreign currency and specify from which dates the exchange rates are valid. For example, you can enter daily exchange rates, monthly exchange rates, or quarterly exchange rates for each foreign currency.

You can retain historical exchange rates in the **Currency Exchange Rates** page for reference purposes. When you need to update exchange rates, you can use the **Update Exchange Rates** button to get the latest exchange rates from an external service provider.

## General ledger accounts

You can't link currency codes to general ledger accounts because amounts on general ledger accounts are in LCY. If you have a bank loan in USD and place deposits in a bank account in SEK, you can keep track of these accounts by setting up bank accounts in USD and SEK. With posting groups, you can link the accounts to the relevant general ledger accounts. In the general ledger, the value of the amounts is shown in LCY.

You can enter a currency code on a general journal line and post the line to a general ledger account. The relevant exchange rate is used to convert the amount to LCY before it posts to the general ledger account.  

## Example of a receivable currency transaction

[!INCLUDE [finance-currencies-example](includes/finance-currencies-example.md)]

## Related information

[Update Currency Exchange Rates](finance-how-update-currencies.md)  
[Set Up an Additional Reporting Currency](finance-how-setup-additional-currencies.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-create-reports-with-xbrl
---
title: How to Create Reports with XBRL
description: XBRL is an XML-based language for tagging financial data, and enabling businesses to efficiently and accurately process and share their data.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 09/14/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Create Reports with XBRL

> [!NOTE]
> We're in the process of removing the features for XBRL reporting from [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more at [Changes in 2022 release wave 1](/dynamics365/business-central/dev-itpro/upgrade/deprecated-features-w1).

XBRL (e**X**tensible **B**usiness **R**eporting **L**anguage) is a language, based on eXtensible Markup Language (XML), for tagging financial data, which enables businesses to efficiently and accurately process and share their data. The XBRL initiative enables global financial reporting by numerous enterprise resource planning (ERP) software companies and international accounting organizations. The goal of the initiative is to provide a standard for uniform reporting of financial information for banks, investors, and government authorities. Such business reporting can include:  

* Financial statements  
* Financial information  
* Non-financial information  
* Regulatory filings, such as annual and quarterly financial statements  

> [!NOTE]
> You can import general ledger-related schemas and create XBRL instance documents by mapping general ledger (G/L) data from the chart of accounts to elements in taxonomies designed for financial reports, such as balance sheets, income statements, and so on.
>
> The XBRL capabilities in Business Central support taxonomies for specification 2.1. However, taxonomies may contain unsupported elements such as formula linkbases or iXBRL (inline XBRL), or have other structural differences. We recommend you validate the XBRL capability before using it for reporting.
>
> Full support for taxonomies may require third-party XBRL tagging and tools. The XBRL International organization has a list of tools and services; depending on the XBRL reporting requirements for a given taxonomy, you may want to explore those resources. Learn more at [Getting Started for Business](https://go.microsoft.com/fwlink/?linkid=2153466) and [Tools and Services](https://go.microsoft.com/fwlink/?linkid=2153356).

## eXtensible Business Reporting Language

The XBRL taxonomies are maintained by www.xbrl.org. You can download taxonomies and read more detailed information on the XBRL website.  

Let's say someone wants financial information from you. They provide you with a taxonomy (an XML document) containing one or more schemas, each with one or more lines to fill out. The lines correspond to the individual financial facts required by the sender. You import this taxonomy, then fill out the schema(s) by entering the account(s) that corresponds with each line and which calculation is desired, such as net change or balance at date. In some cases you can enter a constant instead, for example, the number of employees. You are now ready to send the instance document (an XML document) to the requester. The idea is that this might be a recurring event, so unless changes have been made to the taxonomy, you just export new instance documents for new periods on request.

## XBRL comprises the following components

The XBRL **Specification** explains what XBRL is and how to build XBRL instance documents and taxonomies. The XBRL specification explains XBRL in technical terms and is intended for a technical audience.  

The XBRL **Schema** are the core low-level components of XBRL. The schema is the physical XSD (also called an XML schema definition) file that expresses how XBRL instance documents and taxonomies are to be built.

The XBRL **Linkbases** are the physical XML files that contain information about the elements defined in the XBRL Schema, such as labels in one or more languages, how they relate to each other, how to sum up elements, and so on.  

An XBRL **Taxonomy** is a "vocabulary" or "dictionary" created by a group, compliant with the XBRL specification, that enables the exchange of business information.  

An XBRL **Instance document** is a business report, such as a financial statement prepared to the XBRL specification. The meaning of the values in the instance document is explained by the taxonomy. In fact, an instance document is somewhat useless unless you know the taxonomy for which it is prepared.  

## Layered taxonomies

A taxonomy can consist of a base taxonomy, for example US GAAP (United States generally accepted accounting principles) or IAS (international accounting standards), and then have one or more extensions. To reflect this, a taxonomy refers to one or more schemas, each of which are separate taxonomies themselves. When the additional taxonomies are loaded into the database, the new elements are simply added to the end of the existing elements.  

## Linkbases

In XBRL Spec. 2, the taxonomy is described in several XML files. The primary XML file is the taxonomy schema file itself (.xsd file) which only contains an unordered list of elements or facts to be reported. In addition to this, there are usually some linkbase files (.xml). The linkbase files contain data that is complementary to the raw taxonomy (.xsd file). There are six types of linkbases files of which four have relevance for [!INCLUDE[prod_short](includes/prod_short.md)]. These are:

* Label linkbase: This linkbase contains labels or names for the elements. The file may contain labels in different languages which are identified with an XML property called 'lang'. The XML language identifier usually contains a two-letter abbreviation, and although it should be easy to guess what the abbreviation means, there is no connection to Microsoft Windows language code or the language codes defined in the demo data. Therefore, when you look up the languages for a specific taxonomy, you see all the labels for the first element in the taxonomy, meaning you can see an example of each language. A taxonomy can have several label linkbases attached to it as long as those linkbases contain different languages.  
* Presentation linkbase: This linkbase contains information about the structure of the elements or, more precisely, how the issuer of the taxonomy suggests the application presents the taxonomy to you. The linkbase contains a series of links that each connect two elements in a parent-child relationship. When applying all these links, the elements can be shown in a hierarchical way. Note that the presentation linkbase deals with just that: the presentation of elements to you.
* Calculation linkbase: This linkbase contains information about how the elements roll up. The structure is quite similar to the presentation linkbase, except that each link, or 'arc' as they are called, has a weight property. The weight can be either 1 or â€“1, indicating whether the element should be added to or subtracted from its parent. Note that the rollups do not necessarily align with the visual presentation.  
* Reference linkbase: This linkbase is an xml file containing supplementary information about the data required by the taxonomy issuer.

## Set up XBRL lines

After you import or update the taxonomy, the lines of the schemas must filled out with all information required to satisfy the particular financial reporting requirements. This information includes basic company information, the actual financial statements, notes to the financial statements, supplemental schedules, and so on.  

You set up XBRL lines by mapping the data in the taxonomy to the data in your general ledger.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **XBRL Taxonomies**, then choose the related link.  
2. On the **XBRL Taxonomies** page, select a taxonomy from the list.  
3. Choose the **Lines** action.  
4. Select a line and fill in the fields.  
5. To read detailed information about what to fill in, choose the **Information** action.  
6. To set up mapping the G/L accounts in the chart of accounts to the XBRL lines, choose the **G/L Map Lines** action.  
7. To add notes to the financial statement, choose the **Notes** action.  

   > [!TIP]
   > To exclude lines from the exported data, choose **NOT APPLICABLE** as the source type.

   > [!NOTE]  
   > You can only export data that corresponds to the selection in the **Source Type** field. This includes descriptions and notes.  

   > [!NOTE]  
   > Taxonomies might contain elements that [!INCLUDE[prod_short](includes/prod_short.md)] doesn't support. If an element is not supported, the **Source Type** field will display **Not Applicable** and the **Description** field will show an error message, such as **Unexpected type: "specific type not recognized"**. If you must export the element, choose a matching source type. Typically, this is a constant or a description. Doing this enables you to enter and export data, however, such elements might have validation rules that cannot be checked before exporting.

## Import an XBRL taxonomy

The first step in working with the XBRL functionality is to import a taxonomy into your company database. A taxonomy consists of one or more schemas and some linkbases. After you have completed the import of both schemas and linkbases and have applied the linkbases to the schema, you can set up the lines and map the general ledger accounts in the chart of accounts to the appropriate taxonomy lines.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **XBRL Taxonomies**, then choose the related link.  
2. On the **XBRL Taxonomies** page, create a new line and enter the name and description of the taxonomy.  
3. Choose the **Schemas** action, then insert the description of the schema.  
4. To import the schema, on the **XBRL Schemas** page, choose the **Import** action, then do one of the following steps to upload the file:

   [!INCLUDE[file-upload](includes/file-upload.md)]
5. To import the linkbase, on the **XBRL Schemas** page, choose the **Linkbases** action, then do one of the following steps to upload the file:

   [!INCLUDE[file-upload](includes/file-upload.md)] 
6. You can now choose to apply the linkbase to the schema. Repeat until you have imported all linkbases.  
7. Choose the **Apply to Taxonomy** action to apply the linkbase to the schema.  

> [!IMPORTANT]  
> Instead of individually applying the linkbases after the import, you can wait until you have imported all linkbases and then apply them at the same time. To do this, choose **NO** when you are prompted to apply the newly imported linkbase to the schema. Then select the lines with the linkbases that you want to apply.  

## Update an XBRL taxonomy

When a taxonomy changes you need to update the current taxonomy accordingly. The reason for the update can be an altered schema, an altered linkbase, or a new linkbase. After updating the taxonomy, you only need to map the lines for the changed or new lines.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **XBRL Taxonomies**, then choose the related link.  
2. On the **XBRL Taxonomies** page, choose the **Schemas** action.  
3. To update a schema, select the schema you want to update, then choose the **Import** action.  
4. To update or add a new linkbase, choose the **Linkbases** action.  
5. Select the relevant linkbase or select <kbd>Ctrl</kbd>+<kbd>N</kbd> for a new line, select the type of linkbase, then insert a description.  
6. To import the linkbase, choose the **Import** action.  
7. Choose **Yes** to apply the linkbase to the schema.  

## Related information

[Financial Business Intelligence](bi.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/quick-start-financial-information
---
title: Financial Information Quick Start
description: Get your company ready for business by setting up the financial information in Business Central.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: quickstart
ms.search.form: 
ms.date: 08/25/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Financial Information Quick Start

After entering basic company information in [!INCLUDE[prod_short](includes/prod_short.md)], one of the next steps is completing the financial section. You do this not only to receive or make payments, but also to properly manage and report your business' numbers.

## The chart of accounts

The chart of accounts (COA) offers an overview of the company's finances, listing accounts in structured groups such as assets, liabilities, income, cost of goods sold, and expenses. [!INCLUDE[prod_short](includes/prod_short.md)] includes a standard chart of accounts you can customize to your business' accounting practices.

## Set up the chart of accounts

The following video shows how to set up the chart of accounts in [!INCLUDE[prod_short](includes/prod_short.md)].

<br /><br />

> [!Video https://learn-video.azurefd.net/vod/player?id=944c65b0-9b0f-4d35-b330-de2fad57143a]

### Add an account to the chart of accounts

To add an account not included by default in [!INCLUDE[prod_short](includes/prod_short.md)]â€”for example, gardening servicesâ€”just follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, then choose the related link.
2. Choose the **New** action to open the **G/L Account Card** page.
3. Enter the following data in the corresponding fields on the **General** FastTab. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

   | Field | Data |
   | --- | --- |
   | **No.** | 61250 |
   | **Name** | Gardening services |
   | **Income/Balance** | Income Statement |
   | **Account Category** | Expense |
   | **Account Subcategory** | Repairs and Maintenance Expense |
   | **Debit/Credit** | Both |
   | **Account Type** | Posting |

4. On the **Posting** FastTab, enter the following data:

   | Field | Data |
   | --- | --- |
   | **Gen. Posting Type** | Purchase |
   | **Gen. Bus. Posting Group** | Domestic |
   | **Gen. Prod. Posting Group** | Services |

5. Fill in the remaining fields on the **G/L Account Card** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

### Get an overview of the chart of accounts

If you need a more compact view of the chart of accounts, without columns for posting groups, posting type, or cost type, for example, the **Chart of Accounts Overview** lists the main information for each account in a smaller table. Additionally, you can collapse or expand groups to hide the accounts inside them.

To display the overview, choose the **Chart of Accounts Overview** action on the **Chart of Accounts** page, or search for the feature using ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do").

Learn more about the chart of accounts and the general ledger at [Understanding the General Ledger and the Chart of Accounts](finance-general-ledger.md).

## Set up bank accounts

Bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] register banking transactions and are associated with entries in the chart of accounts. The following video shows how to set up bank accounts.

<br /><br />

> [!Video https://learn-video.azurefd.net/vod/player?id=047a5a25-1f7d-423d-b96d-c4ea45042779]

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, then choose the related link.
2. On the **Bank Accounts** page, choose the **New** action.
3. In the **No.** field, an identifier such as *B010* will be entered automatically if there's a numbered series list set for bank accounts. If not, enter a unique combination.

   The field is different from the **Bank Account No.** field also available in the **General** FastTab.
4. Fill in the fields on the **Bank Account Card** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Related information

[Set Up the Chart of Accounts](finance-setup-chart-accounts.md)  
[Set Up Bank Accounts](bank-how-setup-bank-accounts.md)  
[Run and Print Reports](ui-work-report.md)  
[Business Central Quick Starts](quick-start-business-central.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/quick-start-sell-products-and-services
---
title: Sales Quick Start
description: Learn how to fill in the first critical fields about products and customers in Business Central so that you can start your sales processes.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: quickstart
ms.date: 09/29/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Sales Quick Start

To be able to sell products and services, you must first set up items and customers. Once that is done, you can start registering sales orders and sending out invoices.

## Set up items to sell

This video shows how to set up an item to sell in [!INCLUDE[prod_short](includes/prod_short.md)].

<br>

> [!Video https://learn-video.azurefd.net/vod/player?id=a5e825b2-e309-4753-bdff-a6947dc314e6]

### Set up a new item

[!INCLUDE[create_new_item](includes/create_new_item.md)]

For more information and additional things you can do when setting up items, see [Register New Items](inventory-how-register-new-items.md).  

## Set up customers

This video shows how to set up a new customer in [!INCLUDE[prod_short](includes/prod_short.md)].  

<br>

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=37d3ec2a-71c2-4f0d-9a94-62c83805fbfa]

### Set up a new customer

[!INCLUDE[create_new_customer](includes/create_new_customer.md)]

For more information and additional things you can do when setting up customers, see [Register New Customers](sales-how-register-new-customers.md)

## Create a sales order  

When you sell something to a customer, you have two options. The first, and simplest, is to just create a sales invoice. However, if your sales process is more complex, for example if you have situations where you only ship parts of an order quantity, you use a sales order.

### To create a sales order  

1. Choose the ![Lightbulb that opens the Tell Me feature 10.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Select **New** to create a new entry.
3. In the **Customer** field, enter the name of an existing customer.

    Other fields on the **Sales Order** page are now filled with the standard information of the selected customer.  

4. Fill in the remaining fields on the **Sales Order** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

5. On the **Lines** FastTab, in the **Type** field, select what type of product, charge, or transaction that you will post for the customer with the sales line.

6. In the **No.** field, enter the number of an inventory item or service.

7. In the **Quantity** field, enter the number of items to be sold.

8. In the **Line Discount %** field, enter a percentage if you want to grant the customer a discount on the product.

9. To add a comment about the order line that the customer can see on the printed sales order, write a comment in the **Description** field on an empty line.

10. Repeat steps 5 through 9 for every item that you want to sell to the customer.

11. To only ship a part of the order quantity, enter that quantity in the **Qty. to Ship** field. The value is copied to the **Qty. to Invoice** field.

12. To only invoice a part of the shipped quantity, enter that quantity in the **Qty. to Invoice** field. The quantity must be lower than the value in the **Qty. to Ship** field.

13. When the sales order lines are completed, choose the **Post and Send** action.

For more information and additional things you can do when creating customer sales orders, see [Sell Products with a Customer Sales Order](sales-how-sell-products.md).  

## Create a sales invoice

When you create and post a sales invoice, you not only create the invoice document you send to the customer, you also create the related quantity and value entries in [!INCLUDE[prod_short](includes/prod_short.md)].

### To create and post a sales invoice  

1. Choose the ![Lightbulb that opens the Tell Me feature 20.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, and then choose the related link.  

2. Select **New** to create a new entry.

3. In the **Customer** field, enter the name of an existing customer.

4. Fill in the remaining fields on the **Sales Invoice** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

5. On the **Lines** FastTab, in the **Type** field, select what type of product, charge, or transaction that you will post for the customer with the sales line.

6. In the **No.** field, select a record to post according to the value in the **Type** field.

7. In the **Quantity** field, enter how many units of the product, charge, or transaction that the line will record for the customer.  

8. If you want to give a discount, enter a percentage in the **Line Discount %** field. The value in the **Line Amount** field updates accordingly.  

9. Repeat steps 5 through 8 for every product or charge that you want to invoice the customer for.  

10. In the **Invoice Discount Amount** field, enter an amount that should be deducted from the value shown in the **Total Incl. Tax** field.

11. When the sales invoice lines are completed, choose the **Post and Send** action.  

For more information and additional things you can do when creating customer sales invoices, see [Invoice Sales](sales-how-invoice-sales.md)

## Related information

[Business Central Quick Starts](quick-start-business-central.md)  
[Sales Overview](sales-manage-sales.md)  
[Sell Products with a Customer Sales Order](sales-how-sell-products.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-setup-service-offerings
---
title: Set Up Service Offerings
description: When you set up service management, you must decide what services to offer customers and the schedule for those services.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: components, service item, service
ms.date: 06/23/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Set Up Service Offerings
When you set up service management, you must decide what services to offer customers and the schedule for those services. A service is a type of work performed by one or more resources and provided to a customer. For example, a service could be a type of computer repair. A service item is the equipment or item that needs servicing, for example, the computer that needs repair, installed at a specific customer. You can set up services as part of a group of related repair or maintenance items.  
  
The following table describes a sequence of tasks, with links to the topics that describe them.  
  
|**To**|**See**|  
|------------|-------------|  
|Enter information about the service items that your service organization is tracking.|[Create Service Items](service-how-to-create-service-items.md)|  
|Establish a workflow for service when the service items consists of several components. The component list is always connected to a service item, but these components can also be based on bill of materials (BOMs).|[Set Up Service Items and Service Item Components](service-how-setup-service-items.md)|  
  
## Related information  
[Setting Up Service Management](service-setup-service.md)   

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-manage-data-encryption
---
title: Manage data encryption | Microsoft Docs
description: You can encrypt data on the Business Central server by generating new or importing existing encryption keys that you enable on the server.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.keywords:
ms.date: 12/12/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Managing data encryption
You can encrypt data on the [!INCLUDE[prod_short](includes/prod_short.md)] server by generating new or importing existing encryption keys that you enable on the [!INCLUDE[prod_short](includes/prod_short.md)] server instance that connects to the database.

For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in Developer and IT-Pro help.

> [!Note]
> You can turn on or turn off encryption only if you are using an on-premises version of [!INCLUDE[prod_short](includes/prod_short.md)]. Encryption is always turned on for online versions, and you cannot turn it off.

## Related information  
[Administration](admin-setup-and-administration.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-customizing-overview
---
title: Customizing Business Central
description: Read about the different ways of customizing Business Central to improve access to functionality and features you need most as suits your daily work.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: personalize, add-in, extend, customize
ms.search.form: 2500, 2502
ms.date: 06/23/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Customize Business Central

There are different ways to customize the application to give you and your colleagues access to the features, functionality, and data that you need most, in a manner that bests suits your daily work. Those who see the changes will depend on what you do, as described in this table.

> [!NOTE]
> In addition to what administrators can customize, users can personalize their pages by adding, moving, or removing fields, freeze panes, parts, and more. For more information, see [Personalize Your Workspace](ui-personalization-user.md).

| What you can do    |  Description  |  Who sees the changes  |  More information  |
|-----|---------------|---------|-------|
|Change users' workspace by customizing their assigned role.|Change the user interface for a profile (role) so that all users of that role see a customized workspace. Control and manage users' personalization by disabling the ability to personalize pages and clearing any page personalization.|All users in a specific company.|[Customize Pages for Profiles](ui-personalization-manage.md)|
|Change which UI elements are visible.|The **Experience** setting determines how much of the functionality is displayed in the user interface. Choose between Essential and Premium.|All users in a specific company.|[Change Which Features are Displayed](ui-experiences.md)|
|Enable colors on Role Centers to signal importance.|Set up Cues that appear on users' Role Centers to include an indicator that changes color based on the values in the Cues.|All users in a specific company.|[Set Up a Colored Indicator on Cues](admin-how-set-up-colored-indicator-on-cues.md)|
|Install an app|Install apps that add functionality, change behavior, provide access to new online services, and more. For example, Microsoft provides an app that provides integration with PayPal Payments Standard.|All users in all companies.|[Customizing with Apps](ui-extensions.md)|

> [!NOTE]
> All feature descriptions in user documentation for [!INCLUDE[prod_short](includes/prod_short.md)] assume the **Premium** experience, meaning the descriptions cover the full scope of UI elements. Therefore, users with the **Essentials** experience may in some topics read about functionality and UI elements that are not visible in their user interface. For more information, see [Change Which Features are Displayed](ui-experiences.md).

## Related information

[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/receivables-how-reconcile-payments-auto-application
---
title: Reconcile payments using automatic application
description: Describes how to reconcile payments using automatic application to apply payments or cash receipts to related open entries.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: payment process, direct payment posting, reconcile payment, expenses, cash receipts
ms.search.form: 389, 1290, 1294, 1287
ms.date: 06/03/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Reconcile payments using automatic application

The **Payment Reconciliation Journal** page specifies payments, either incoming or outgoing, that have been recorded as transactions on your online bank account or on a payment service. You can apply the payments to related open customer, vendor, and bank account ledger entries. Fill in the journal by importing a bank statement as a bank feed or file or by manually entering transactions that you make through your payment service.

> [!NOTE]
> The page offers automatic matching functionality that applies payments to their related open entries based on a matching of data on a bank statement line (journal line) with data on one or more open entries. Note that you can overwrite the suggested automatic applications, and you can choose to not use automatic application at all. For more information, see step 7.

A payment reconciliation journal is related to one bank account in [!INCLUDE[prod_short](includes/prod_short.md)]. The bank account represents the online bank account where the payment transactions are recorded. Any open bank account ledger entries related to the applied customer or vendor ledger entries will be closed when you choose the **Post Payments and Reconcile Bank Account** action. The bank account will be automatically reconciled for payments that you post with the journal.

If you use the **Payment Reconciliation Journal** page to register and apply customer payments, you can set up the journal to use a specific number series. Afterward, you can specify the number series in the **Payment Reconciliation No. Series** field on a bank account. Using a dedicated number series can make it easier to identify any entries that were posted through the journal.

Similar to other journals, when you correct posted entries you can reverse entries that were posted through the payment reconciliation journal from the **G/L Register** page. For example, you might want to reverse entries for payments you applied to the wrong customer. You must first un-apply the posted customer ledger entries. Then you can use the **Reverse Register** action in the **G/L Register** page to reverse the journal that posted the payments. Alternatively, on the **Posted General Journals** page, you can use the **Copy Selected Lines to Journal** action to reverse specific lines from the posted payment reconciliaiton journal. 

When you use automatic application, [!INCLUDE[prod_short](includes/prod_short.md)] recognizes bank ledger entries that have already been posted, which helps prevent double-posting.

You can import bank transactions as .csv bank files or other format that your bank provides. If you want to import bank statements as bank feeds, you must first enable a dedicated bank integration service, and then link the bank account to its related online bank account. The payment reconciliation journal will then automatically detect bank feeds when you choose the **Import Bank Transactions** action. In addition, you can set a bank account up to automatically import new bank statement feeds every hour. Transactions for payments that have already been posted as applied and/or reconciled won't be imported. You can use the Envestnet Yodlee Bank Feeds service for to get those transactions, which is preinstalled in some country versions of [!INCLUDE[d365fin](includes/d365fin_md.md)]. For more information, see [Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md). Alternatively, a Microsoft partner can help you meet your business or country requirements.

The **Map Text to Account** action lets you set up mappings between text on payments and specific debit, credit, and balancing accounts so that such payments are posted to the specified accounts when you post the payment reconciliation journal. Mapping is useful, for example, for recurring cash receipts or expenses, such as frequent purchases of car fuel or bank fees and interest, that regularly occur on the bank statement and don't need a related business document. (See step 10) For more information, see [Map text on recurring payments to accounts for automatic reconciliation](receivables-how-map-text-recurring-payments-accounts-auto-reconcilliation.md).

Journal lines might have no suggested application, which can happen for various reason. For example, because a document is missing, or a customer overpaid and there's an excess amount after applying the payment on another journal line. For such cases, you can use the **Transfer Difference to Account** action to create and post the missing general ledger entry, for example for a refund, that is needed to apply the payment to. (See step 11) For more information, see [Reconcile payments that can't be applied](receivables-how-reconcile-payments-cannot-apply-auto.md).

You use the **Apply Automatically** function either automatically when you import a bank file or feed with payment transactions or when you activate it, to apply payments to their related open entries based on a matching of text on a bank statement line (journal line) with text on one or more open entries. This automation is based on rules that you define on the **Payment Application Rules** page, where you also define whether an application suggestion requires review. For more information, see [Set up rules for automatic application of payments](receivables-how-set-up-payment-application-rules.md).

On journal lines where a payment has been applied automatically to one or more open entries, the **Match Confidence** field has a value of **Low**, **Medium**, or **High** to indicate the quality of the data matching that the suggested payment application is based on.

Some payment applications require your review as defined by the used matching rule, such as lines with **Low** match confidence. Other lines require your review and manual change because there's a value in the **Difference** field. To review one or more payment applications, choose the **Lines to Review** or **Lines with Difference** field at the bottom. The **Payment Application Review** page opens showing all relevant information about the customer or vendor that the payment is applied to, the matching details, and actions to process the line, such as the **Accept Application** action. (See steps 7 and 8)

For each journal line on the **Payment Reconciliation Journal** page, you can open the **Payment Application** page to see all candidate open entries for the payment and view detailed information for each entry about the data matching that a payment application is based on. Here, you can manually apply payments or reapply payments that were applied automatically to a wrong entry. (See step 10) For more information, see [Review, or apply payments after automatic application](receivables-how-review-apply-payments-auto-application.md).

> [!NOTE]  
> You can start the bank transactions import at the same time as you open the **Payment Reconciliation Journal** page for an existing journal. The following procedure describes how to import bank transactions into the **Payment Reconciliation Journal** page after you have created a new journal.

## To reconcile payments using automatic application
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Reconciliation Journals**, and then choose the related link.
2. To work in a new payment reconciliation journal, choose the **New Journal** action.
3. On the **Payment Bank Account List** page, select the bank account that you want to reconcile payments for, and then choose the **OK** button.
   The **Payment Reconciliation Journal** page opens prepared for the selected bank account.
4. Choose the **Import Bank Transactions** action.
   If the bank account for the selected journal isn't set up for importing bank transactions, [!INCLUDE[d365fin](includes/d365fin_md.md)] will help you do that.
5. On the **Select a file to import** page, select the file that contains the bank transactions for payments that you want to reconcile, and then choose the **Open** button.  
6. If the Envestnet Yodlee Bank Feeds service is enabled, on the **Bank Statement Filter** page that opens automatically, specify the date interval for the bank statements to be imported.

    The **Payment Reconciliation Journal** page is filled with lines for payments representing bank transactions in the imported bank statement.

     On lines for payments that have been automatically applied to related open entries, the **Match Confidence** field indicates the quality of the data matching on which the suggested payment application is based. Also, the **Account Name**, **Account Type**, and **Account No.** fields show information about the customer or vendor that the payment is applied to.

    The automatic applications, the matching qualities, and whether lines require review are controlled by rules. You can edit the rules to adjust the results. For more information, see [Set Up Rules for Automatic Application of Payments](receivables-how-set-up-payment-application-rules.md).

7. To review, accept/remove, or manually change multiple payment applications that have a value in the **Difference** field, choose the **Lines with Difference** action at the bottom.

    The **Payment Application Review** page opens and shows the first application to review. The next application to review will be shown on the page as you process the preceding one. The review includes information about the customer or vendor that the payment is applied to, the matching details, and actions to process the line, such as the **Accept Application** and **Apply Manually** actions.

8. To review, accept or remove, or manually change multiple payment applications that the rule has set to be reviewed, choose the **Lines to Review** action. 

9. To change an automatic application, select a journal line, and then choose the **Apply Manually** action to reapply or apply the payment manually on the **Payment Application** page. For more information, see [Review or apply payments after automatic application](receivables-how-review-apply-payments-auto-application.md).

10. Select an unapplied journal line for a recurring cash receipt or expense, such as a car gasoline purchase, and then choose the **Map Text to Account** action. For more information, see [Map text on recurring payments to accounts for automatic reconciliation](receivables-how-map-text-recurring-payments-accounts-auto-reconcilliation.md).

    When you've finished your mapping of payment text to accounts, choose the **Apply Manually** action.

    When text-to-account mapping is set up, the resulting automatic payment application will contain **High - Text-to-Account Mapping** in the **Match Confidence** field.

11. For a journal line has no suggested application because no ledger entry exists that it can be applied to, choose the **Transfer Difference to Account** action to create and post the missing general ledger entry that is needed to apply the payment to. For more information, see [Reconcile payments that can't be applied.](receivables-how-reconcile-payments-cannot-apply-auto.md)

12. When no more lines require review and the **Difference** field is blank on all lines, choose the **Post** action, and then choose one of the following options:

    - **Post Payments and Reconcile Bank Accounts** - To post the payments as applied and also close the related bank account ledger entries as reconciled.
    - **Post Payments Only** - To only post the payments as applied, but leave the related bank account ledger entries open. Required that you reconcile the bank account separately,  for example: For more information, see [Reconcile bank accounts](bank-how-reconcile-bank-accounts-separately.md).
    - **Test Report** - To review the result of posting before you post. The **Bank Account Statement** report opens and shows the same fields as at the bottom of the **Payment Reconciliation Journal** page.

When you post the payment reconciliation journal, the applied open entries are closed. The customer, vendor, or general ledger accounts are updated. For payments on journal lines based on text-to-account mapping, the specified customer, vendor, and general ledger accounts are updated. For all journal lines, bank account ledger entries are created. If you choose the **Post Payments and Reconcile Bank Account** action, any open bank account ledger entries related to the applied customer or vendor ledger entries will be closed. This means that the bank account is automatically reconciled for payments that you post with the journal.

You can compare the value in the **Balance on Bank Account After Posting** field together with the value in the **Statement Ending Balance** field to track when the bank account is reconciled based on payments that you post.

> [!NOTE]  
>   If you do not want to reconcile the bank account from the **Payment Reconciliation Journal** page, then you must use the **Bank Account Reconciliation** page. For more information, see [Reconcile bank accounts](bank-how-reconcile-bank-accounts-separately.md).

## Related information

[Managing Receivables](receivables-manage-receivables.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-central-concepts-of-the-planning-system
---
title: Design Details Central Concepts of the Planning System
description: Planning suggests actions for the user to take based on the demand/supply situation and the items' planning parameters.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: concept-article
ms.date: 01/25/2023
ms.custom: bap-template

---
# Design Details: Central Concepts of the Planning System

The planning functions are contained in a batch project that first selects the relevant items and period to plan for. Then, according to each item's low-level code (BOM position), the batch job calls a code unit that calculates a supply plan. The code unit balances supply-demand sets and suggests actions for the user to take. The suggested actions appear as lines in the planning worksheet or the requisition worksheet.  

![Contents of the Planning Worksheets page.](media/design_details_central_concepts_of_the_planning_system_planning_worksheets.png "Contents of the Planning Worksheets page")  

The planner of a company, such as a purchaser or a production planner, is presumed to be the user of the planning system. The planning system assists the user by performing the extensive but rather straightforward calculations of a plan. The user can then concentrate on solving the more difficult problems, such as when things differ from normal.  

The planning system is driven by anticipated and actual customer demand, such as forecast and sales orders. Planning calculations suggest actions you can take regarding supply from vendors, assembly or production, or transfers from other warehouses. An example of a suggested action could be to create new supply orders, such as purchase or production orders. If supply orders already exist, the suggested actions could be to increase or expedite orders to meet changes in demand.  

Another goal of the planning system is to ensure that the inventory does not grow unnecessarily. If demand decreases, the planning system will suggest that the user postpones, decreases quantity, or cancels existing supply orders.  

A code unit contains the planning logic and the following functions:

* MRP and MPS
* Calculate Net Change Plan
* Calculate Regenerative Plan

However, the supply plan calculation involves different sub-systems.  

The planning system doesn't include dedicated logic for capacity leveling or fine scheduling. Those types of scheduling work are done separately. The lack of direct integration between the two areas also means that substantial capacity or schedule changes will require you to rerun planning.  

## Planning parameters

The planning parameters that you set for an item or a group of items control which actions the planning system will suggest in various situations. Define planning parameters for each item to control when, how much, and how to replenish.  

You can also define planning parameters for any combination of item, variant, and location by setting up a stock-keeping unit (SKU) for each combination, and then specifying individual parameters. Learn more at [Design Details: Handling Reordering Policies](design-details-handling-reordering-policies.md) and [Design Details: Planning Parameters](design-details-planning-parameters.md).  

## Planning starting date

The planning system helps you avoid having open orders in the past and suggested actions that aren't possible. Planning treats all dates before the starting date as a frozen zone. The following rule applies to the frozen zone:  

* All supply and demand before the starting date of the planning period is considered part of inventory or shipped. In other words, it assumes that the plan for the past runs according to the given plan. Learn more at [Process orders before the planning start date](design-details-balancing-demand-and-supply.md#process-orders-before-the-planning-start-date).  

## Dynamic order tracking (pegging)

Dynamic order tracking and its simultaneous creation of action messages in the planning worksheet isn't a part of the supply planning system. When a demand or supply is created or changed, dynamic order tracking links the demand and the quantities to cover it in real time.  

For example, if you enter or change a sales order, dynamic order tracking instantly searches for supply to cover the demand. The supply could be from inventory or from an expected supply order (such as a purchase order or a production order). When it finds a supply source, [!INCLUDE [prod_short](includes/prod_short.md)] links the demand and supply. You access the link on view-only pages from the document lines. When supply can't be found, the dynamic order tracking system creates action messages in the planning worksheet with supply plan suggestions.  

Dynamic order tracking helps you assess whether to accept supply order suggestions. From the supply side, it shows the demand that created the supply. From the demand side, it identifies the supply that should cover the demand.  

:::image type="content" source="media/nav_app_supply_planning_1_dynamic_order_tracking.png" alt-text="Example of dynamic order tracking.":::

Learn more at [Design Details: Reservation, Order Tracking, and Action Messaging](design-details-reservation-order-tracking-and-action-messaging.md).  

In companies with a low item flow and less advanced product structures, it might be enough to use dynamic order tracking for supply planning. However, in busier environments, the planning system should be used to ensure a properly balanced supply plan.  

### Dynamic order tracking versus the planning system

It might be hard to differentiate between the planning system and dynamic order tracking. Both features display output in the planning worksheet by suggesting actions that the planner should take. However, the way this output is produced differs.  

The planning system deals with the entire supply and demand pattern of an item. It considers all levels of the BOM hierarchy along the timeline. Dynamic order tracking only addresses the situation of the order that activated it. When balancing demand and supply, the planning system creates links in a user-activated batch mode. Dynamic order tracking creates the links automatically when you enter a demand or a supply. For example, when you create a sales or purchase order.  

Dynamic order tracking links demand and supply on a first-come-first-served basis when you enter data. This basis can lead to disorder in priorities. For example, a sales order entered first with a due date next month might be linked to the supply in inventory. The next sales order due tomorrow may cause an action message to create a new purchase order to cover it. The following image shows this scenario.  

:::image type="content" source="media/nav_app_supply_planning_1_dynamic_order_tracking_graph.png" alt-text="Example of order tracking in supply planning 1.":::

The planning system deals with demand and supply for items in a prioritized order. The order is prioritized according to due dates and order types. That is, on a first-needed-first-served basis. It deletes all order tracking links that were created dynamically and re-establishes them according to due date priority. When the planning system has run, it has solved all imbalances between demand and supply, as illustrated below for the same data.

:::image type="content" source="media/nav_app_supply_planning_1_planning_graph.png" alt-text="Example of order tracking in supply planning 2.":::  

After you run planning, the Action Message Entry table doesn't contain any action messages. Those messages are replaced by the actions suggested in the planning worksheet. Learn more at [Order Tracking Links during Planning](design-details-balancing-demand-and-supply.md#serial-and-lot-numbers-are-loaded-by-specification-level).  

## Sequence and priority in planning

The sequence of the calculations in your plan is important for getting the project done in a reasonable amount of time. The prioritization of requirements and resources also plays an important role in getting the best results.  

The planning system is demand-driven. High-level items should be planned before low-level items because they might generate demand for lower-level items. For example, plan retail locations before distribution centers because the retail location might include demand from the distribution center. On a detailed balancing level, if a released supply order can cover a sales order the system shouldn't create a new supply order. A supply with a specific lot number shouldn't be allocated to cover a generic demand if another demand requires this specific lot.  

### Item priority / low-level code

In a manufacturing environment, the demand for a finished, sellable item will result in derived demand for components that comprise the finished item. The bill-of-material structure controls the component structure and can cover several levels of semi-finished items. Planning an item at one level will cause derived demand for components at the next level. This hierarchy will eventually result in derived demand for purchased items. The planning system plans for items in order of their ranking in the total BOM hierarchy. The system starts with finished sellable items at the top level and continues down the product structure to the lower-level items (according to the low-level code).  

The following image shows the sequence in which [!INCLUDE [prod_short](includes/prod_short.md)] suggests supply orders at the top level. It assumes the suggestions were accepted and shows lower-level items as well.

:::image type="content" source="media/nav_app_supply_planning_1_bom_planning.png" alt-text="Planning for bills of material.":::

To learn more about manufacturing considerations, go to [Load inventory profiles](design-details-balancing-demand-and-supply.md#load-inventory-profiles).  

#### Optimizing performance for low-level calculations

Low-level code calculations can affect system performance. To reduce the effect, you can turn off the **Dynamic low-level code calculation** toggle on the **Manufacturing Setup** page. When you do, [!INCLUDE[prod_short](includes/prod_short.md)] suggests that you create a recurrent job queue entry to update low-level codes daily. You can ensure that the job will run outside working hours by specifying a start time in the **Earliest Start Date/Time** field.

You can also speed up low-level code calculations by turning on the **Optimize low-level code calculation** toggle on the **Manufacturing Setup** page.

> [!IMPORTANT]
> If you choose to optimize performance, [!INCLUDE[prod_short](includes/prod_short.md)] will use new calculation methods to determine low-level codes. If you have an extension that relies on the events used by the old calculations, the extension might stop working.

### Locations / transfer-level priority

Companies with more than one location might need to plan for each location individually. For example, an item's safety stock level and its reordering policy might differ from one location to another. You must specify the planning parameters per item and location.  

You can use SKUs to specify individual planning parameters. An SKU can be regarded as an item at a specific location. If you haven't defined a SKU for that location, [!INCLUDE [prod_short](includes/prod_short.md)] will use the parameters set on the item card. [!INCLUDE [prod_short](includes/prod_short.md)] calculates a plan for active locations only, where there's demand or supply for a given item.  

Any item can be handled at any location, but [!INCLUDE [prod_short](includes/prod_short.md)] has a strict approach to the concept of locations. For example, a sales order for an item at one location can't be fulfilled by stock from another location. The quantity on stock must first be transferred to the location specified on the sales order.

:::image type="content" source="media/nav_app_supply_planning_1_sku_planning.png" alt-text="Planning for stock-keeping units.":::

Learn more at [Design Details: Transfers in Planning](design-details-transfers-in-planning.md).  

### Order priority

Within a given SKU, the requested or available date represents the highest priority; the demand of today should be dealt with before the demand of the coming days. But apart from this kind of priority, the different demand and supply types are sorted according to business importance to decide which demand should be satisfied first. On the supply side, the order priority determines the source of supply to apply first. Learn more at [Prioritize orders](design-details-balancing-demand-and-supply.md#prioritize-orders).  

## Demand forecasts and blanket orders

Forecasts and blanket orders both represent anticipated demand. The blanket order, which covers a customer's intended purchases over a specific period of time, acts to lessen the uncertainty of the overall forecast. The blanket order is a customer-specific forecast on top of the unspecified forecast, as illustrated in the following image.  

:::image type="content" source="media/nav_app_supply_planning_1_forecast_and_blanket.png" alt-text="Planning with forecasts.":::

Learn more at [Forecast Demand is Reduced by Sales Orders](design-details-balancing-demand-and-supply.md#forecast-demand-is-reduced-by-sales-orders).  

## Planning assignment

All items should be replanned for when the demand or supply pattern has changed since the last time a plan was calculated. For example, if you enter a new sales order or change an existing one, recalculate the plan. Other reasons for replanning include a change in forecast or safety stock quantity. Changing a bill-of-material by adding or removing a component would most likely also indicate a change, but for the component item only.  

The planning system monitors such events and assigns the appropriate items for planning.  

For multiple locations, the assignment happens at the item level per location combination. If a sales order has been created at only one location, [!INCLUDE [prod_short](includes/prod_short.md)] assigns the item at that location for planning.  

The reason for selecting items for planning is a matter of system performance. If an item's demand-supply pattern hasn't changed, the planning system won't suggest any actions to take. Without the planning assignment, the system would have to perform the calculations for all items to find out what to plan for. To learn more about the reasons to assign items for planning, go to [Design Details: Planning Assignment Table](design-details-planning-assignment-table.md).  

The following are the planning options that are available:  

* **Calculate Regenerative Plan** calculates all selected items, whether it's necessary or not.  
* **Calculate Net Change Plan** calculates only the items that have had a change in their demand and supply pattern and, therefore, have been assigned for planning.  

Some people believe that net change planning should be performed on the fly, for example, when sales orders are entered. However, planning on the fly could be confusing because dynamic order tracking and action messaging are also calculated on the fly. [!INCLUDE[prod_short](includes/prod_short.md)] offers real-time available-to-promise control. It provides popâ€“up warnings when you enter sales orders and the current supply plan can't fulfill the demand.  

The planning system only plans for the items that you've prepared with appropriate planning parameters. Otherwise, it assumes that you'll plan the items manually or semi-automatically by using the Order Planning feature. To learn more about the automatic planning procedures, go to [Design Details: Balancing Demand and Supply](design-details-balancing-demand-and-supply.md).  

## Item dimensions

Demand and supply can carry variant codes and location codes that must be respected when the planning system balances demand and supply.  

[!INCLUDE [prod_short](includes/prod_short.md)] treats variant and location codes as item dimensions on a sales order line, inventory ledger entry, and so on. Accordingly, it calculates a plan for each combination of variant and location as if the combination were a separate item number.  

Instead of calculating theoretical combinations of variant and location, [!INCLUDE [prod_short](includes/prod_short.md)] calculates only the combinations that actually exist in the database. To learn more about how the planning system deals with location codes on demand, go to [Design Details: Demand at Blank Location](design-details-balancing-demand-and-supply.md).  

## Item attributes

Items often have general attributes, such as an item number, variant code, location code, and type of order. However, each demand and supply event can have other specifications, such as serial or lot numbers. The planning system plans these attributes in certain ways depending on their level of specification.  

An order-to-order link between demand and supply is another type of attribute that affects the planning system. Learn more at [Order-to-order links](#order-to-order-links).

### Specific attributes

Some demand attributes are specific and a supply must match them exactly.

* Serial or lot numbers that require specific application (These attributes are required if you turn on the **SN Specific Tracking** or **Lot Specific Tracking** toggle on the **Item Tracking Code Card** page for the item tracking code that is used by the item.)  
* Links to supply orders created manually or automatically for a specific demand (order-to-order links).  

The planning system applies the following rules to these attributes:  

* Demand with specific attributes can only be fulfilled by supply with matching attributes.  
* Supply with specific attributes can also satisfy demand that doesn't specifically require those attributes.  

If inventory or projected supplies can't meet a demand for specific attributes, the planning system suggests a new supply order without regarding planning parameters.  

### Non-specific attributes

Serial or lot-numbered items without a specific item tracking setup might have non-specific serial or lot numbers. These types of numbers can be applied to any serial or lot number. The planning system has more freedom to match, for example, a serialized demand with a serialized supply, typically in inventory.  

Demand-supply with serial or lot numbers, specific or non-specific, are high priority and are exempt from the frozen zone. They'll be part of planning even if they're due before the planning starting date. Learn more at [Serial and lot numbers are loaded by specification level](design-details-balancing-demand-and-supply.md#serial-and-lot-numbers-are-loaded-by-specification-level).

To learn more about how the planning system balances attributes, go to [Serial and lot numbers and order-to-order links are exempt from the previous period](design-details-balancing-demand-and-supply.md#serial-and-lot-numbers-and-order-to-order-links-are-exempt-from-the-previous-period).  

## Order-to-order links

Order-to-order means that you purchase, assemble, or produce an item for a specific demand. There are several reasons to choose this policy:

* The demand is infrequent.
* The lead-time is insignificant.
* The required attributes vary.  

Another case that uses order-to-order links is when an assembly order is linked to a sales order in an assemble-to-order scenario.  

Order-to-order links are applied between demand and supply in four ways:  

* When the planned item uses the **Order** reordering policy  
* When you use the make-to-order manufacturing policy to create multi-level or project-type production orders (producing components on the same production order)  
* When you create production orders for sales orders with the sales order planning feature  
* When you assemble an item to a sales order (**Assembly Policy** is set to **Assemble-to-Order**)  

The planning system suggests that you only order the required quantity. The purchase, production, or assembly order continues to match the demand. For example, if a sales order is changed in time or quantity, the planning system suggests that you change the supply order accordingly.  

When order-to-order links exist, the planning system doesn't involve linked supply or inventory in the balancing procedure. Planners can decide whether to use the linked supply or a new demand. In the latter case, they can delete the supply order or manually reserve the linked supply.  

Reservations and order tracking links break if a situation becomes impossible. For example, when moving the demand to a date that's earlier than the supply. Order-to-order links adapt to changes in the demand or supply and never break.  

## Reservations

The planning system doesn't include reserved quantities in calculations. For example, if a quantity for a sales order is fully or partially reserved, you can't use the quantity to cover other demand.

The planning system does include reserved quantities in the projected inventory profile. It must consider all quantities to determine when the reorder point has passed and how many to reorder to reach the maximum inventory level. Unnecessary reservations can increase the risk that inventory levels run low because the planning logic doesn't detect reserved quantities.  

The following image shows how reservations can hinder planning.  

:::image type="content" source="media/nav_app_supply_planning_1_reservations.png" alt-text="Planning with reservations.":::

Learn more at [Design Details: Reservation, Order Tracking, and Action Messaging](design-details-reservation-order-tracking-and-action-messaging.md).  

## Warnings

The first column in the planning worksheet is for the warning fields. A warning icon displays when you create a planning line for an unusual situation.  

Supply on planning lines with warnings typically won't be modified according to planning parameters. Instead, the planning system suggests a supply to cover the exact quantity of the demand. However, the system can be set up to respect planning parameters for planning lines with certain warnings. The warning information is shown on the **Untracked Planning Elements** page, which also shows order tracking links to non-order network entities. There are three types of warnings:  

* Emergency  
* Exception  
* Attention  

:::image type="content" source="media/nav_app_supply_planning_1_warnings.png" alt-text="Warnings in the planning worksheet.":::

### Emergency

The emergency warning displays in two situations:  

* When the inventory is negative on the planning starting date  
* When back-dated supply or demand events exist  

If an item's inventory is negative on the planning starting date, the planning system suggests an emergency supply for the negative quantity to arrive on the planning starting date. The warning text states the starting date and the quantity of the emergency order. Learn more at [Handling Projected Negative Inventory](design-details-handling-reordering-policies.md#handling-projected-negative-inventory).  

Document lines with due dates before the planning starting date are consolidated into an emergency supply order. The order is planned to arrive on the planning starting date.  

### Exception

The exception warning is displayed if the projected available inventory drops below the safety stock quantity. The planning system will suggest a supply order to meet the demand on its due date. The warning text states the item's safety stock quantity and the date on which it is violated.  

Violating the safety stock level is an exception. It shouldn't happen if the reorder point is set correctly. Learn more at [The Role of the Reorder Point](design-details-handling-reordering-policies.md#the-role-of-the-reorder-point).  

Exception order proposals help ensure that the projected available inventory is never lower than the safety stock level. The proposed quantity covers the safety stock, without considering planning parameters. However, in some scenarios, order modifiers will be considered.  

> [!NOTE]  
> The planning system may have consumed the safety stock intentionally and will then replenish it straight away. Learn more at [Consume safety stock](design-details-balancing-demand-and-supply.md#consume-safety-stock).

### Attention

The attention warning is displayed in three situations:  

* The planning starting date is earlier than the work date.  
* The planning line suggests changing a released purchase or production order.  
* The projected inventory exceeds the overflow level on the due date. Learn more at [Stay below the overflow level](design-details-handling-reordering-policies.md#stay-below-the-overflow-level).  

> [!NOTE]  
> In planning lines with warnings, the **Accept Action Message** field is not selected because the planner is expected to investigate the lines before carrying out the plan.  

## Error logs

On the **Calculate Plan** request page, you can select the **Stop and Show First Error** field to have the planning run stop when it encounters the first error. A message is displayed with information about the error. If an error exists, the planning worksheet will show only the planning lines that were successfully made before the error happened.  

If the field isn't selected, the **Calculate Plan** batch job will continue until it has completed. Errors won't interrupt the batch job. If there are errors, a message states how many items were affected. The **Planning Error Log** page provides more details about the error and links to the affected documents or setups.  

:::image type="content" source="media/nav_app_supply_planning_1_error_log.png" alt-text="Error messages in the planning worksheet.":::

## Planning flexibility

It isn't always practical to plan an existing supply order. For example, when production has started or you hire extra people on a specific day to do the project. To indicate whether the planning system can change an order, all supply order lines have a **Planning Flexibility** field with two options: **Unlimited** or **None**. If the field is set to **None**, the planning system won't try to change the supply order line.  

You can manually choose an option in the field, however, in some cases it'll be set automatically by [!INCLUDE [prod_short](includes/prod_short.md)]. The fact that you can manually set planning flexibility is important because it makes it easy to adapt the use of the feature to different workflows and business cases. To learn more about how this field is used, go to [Design Details: Transfers in Planning](design-details-transfers-in-planning.md).  

## Order planning

The basic supply planning tool represented by the **Order Planning** page is designed for manual decision making. It doesn't consider any planning parameters and is therefore not discussed further in this article. Learn more at [Plan for New Demand Order by Order](production-how-to-plan-for-new-demand.md).  

> [!NOTE]  
> We recommend that you don't use order planning if your company already uses the planning or requisition worksheets. Supply orders created through the **Order Planning** page may be changed or deleted during the automated planning runs. These changes happen because the automated planning run uses planning parameters that you might not have considered when you manually made the plan in the Order Planning page.  

## Finite loading

[!INCLUDE[prod_short](includes/prod_short.md)] provides a rough-cut schedule to plan reasonable use of resources. It doesn't automatically create and maintain detailed schedules based on priorities or optimization rules.  

The intended use of the capacity-constrained resource feature is as follows:

* To avoid overloading resources
* To ensure that capacity isn't left unallocated if it could decrease the turn-around time of a production order

When planning with capacity-constrained resources, [!INCLUDE [prod_short](includes/prod_short.md)] ensures that resources aren't loaded above their capacity (critical load). It assigns each operation to the nearest available time slot. If the time slot isn't large enough to complete the operation, it splits the operation into two or more parts in the nearest available time slots.  

> [!NOTE]  
> In case of operation splitting, the set-up time is only assigned one time because it's assumed that some manual adjustment is done to optimize the schedule.  

You can add dampener time to resources to minimize operation splitting. This time lets [!INCLUDE [prod_short](includes/prod_short.md)] schedule the load on the last possible day by slightly exceeding the critical load percent.  

## Related information

[Design Details: Transfers in Planning](design-details-transfers-in-planning.md)  
[Design Details: Planning Parameters](design-details-planning-parameters.md)  
[Design Details: Planning Assignment Table](design-details-planning-assignment-table.md)  
[Design Details: Handling Reordering Policies](design-details-handling-reordering-policies.md)  
[Design Details: Balancing Demand and Supply](design-details-balancing-demand-and-supply.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-flow-troubleshoot
---
title: Troubleshoot your automated workflows
description: Learn how to troubleshoot the connection between Business Central and Power Automate when you build an automated workflow.
author: jswymer
ms.topic: troubleshooting-general
ms.search.keywords: workflow, OData, Power App, SOAP, Entity set not found, workflowWebhookSubscriptions, Power Automate, 
ms.date: 12/13/2023
ms.author: jswymer
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
---

# Troubleshoot your [!INCLUDE[prod_short](includes/prod_short.md)] automated workflows

When you connect [!INCLUDE [prod_short](includes/prod_short.md)] with Power Automate to create automated workflows, you might run into error messages. This article provides suggested solutions to recurring problems.

## Flow doesn't run on all records created or changed

### Problem

If an event creates or changes many records, the flow doesn't run on some or all records.

### Possible cause

Currently, there's a limit on how many records a flow can process. If more than 1000 records are created or changed within 30 seconds, the flow isn't triggered.

> [!NOTE]
> For developers, the flow triggering is done via webhook notifications, and this limitation is due to the way the Business Central connector handles `collection` notifications. Learn more at [Working with Webhooks in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/api-reference/v2.0/dynamics-subscriptions#notes-for-power-automate-flows) in the Developer and Admin help.

## "The response from the Business Central service is too large" error

### Problem

When using an action that interacts with records (such as *Create record (V3)* and *Get record (V3)*), Power Automate might display an error similar to this one:

`The response from the Business Central service is too large`

### Possible cause

Even though Business Central has no set limit on the size of records returned by APIs, the Dynamics 365 Business Central connector for Power Automate can handle only records up to 8 MB.

All the Business Central APIs provided by Microsoft return records under this limit, but APIs provided by partners might not. If you see an error "The response from the Business Central service is too large," reach out to the partner who created the API you're using.

## "Entity set not found" error

### Problem

When you create a new Power Automate flow using a [!INCLUDE[prod_short](includes/prod_short.md)] approval trigger, such as *When a purchase document approval is requested*, you might get an error message similar to this one:

`Entity set not found: \<name\>`

The placeholder, `\<name\>`, is the service name of the missing web service, such as *workflowWebhookSubscriptions* or *workflowPurchaseDocumentLines*.

### Possible cause

Using Power Automate for approvals requires certain page and codeunit objects to be published as web services. By default, most of the required objects are published as web services. But in some cases, your environment might have been customized so these objects are no longer published.

### Fix

Go to the **Web Services** page and make sure the following objects are published as web services. There should be an entry in the list for each object, with the **Published** check box selected.  

| Object Type | Object ID | Object Name | Service Name |
|--|--|--|--|
| Codeunit | 1544 | WorkflowWebhookSubscription | WorkflowActionResponse |
| Page | 6408 | workflowCustomers | workflowCustomers |
| Page | 6406 | workflowGenJournalBatches | workflowGenJournalBatches |
| Page | 6407 | workflowGenJournalLines | workflowGenJournalLines |
| Page | 6409 | workflowItems | workflowItems |
| Page | 6405 | Purchase Document Line Entity | workflowPurchaseDocumentLines |
| Page | 6404 | workflowPurchaseDocuments | workflowPurchaseDocuments |
| Page | 6403 | Sales Document Line Entity | workflowSalesDocumentLines |
| Page | 6402 | workflowSalesDocuments | workflowSalesDocuments |
| Page | 6410 | workflowVendors | workflowVendors |
| Page | 831 | workflowWebhookSubscriptions | workflowWebhookSubscriptions |

> [!NOTE]
> The **Service Name** value must be exactly as shown in the table. Don't change or translate the service name.

Learn more about publishing web services at [Publish a Web Service](across-how-publish-web-service.md).

## Related information

[Use Power Automate Flows in [!INCLUDE[prod_short](includes/prod_short.md)]](across-how-use-financials-data-source-flow.md)  
[Workflow](across-workflow.md)  
[Set Up Automated Workflows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows)  
[Switch on Instant Flows](/dynamics365/business-central/dev-itpro/powerplatform/instant-flows)  
[Manage Power Automate Flows](/dynamics365/business-central/dev-itpro/powerplatform/manage-power-automate-flows)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-find-your-warehouse-assignments
---
title: Find Your Warehouse Assignments
description: This topic explains how to find the warehouse assignments assigned to you on the Item Card page when instructions have been created for you.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 9000
ms.date: 06/24/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Find Your Warehouse Assignments

To find your warehouse assignments, open the card page for a selected item. If warehouse instructions have been created, Take and Place lines are visible, and you can begin working on an assignment. In some warehouses, the manager may have assigned specific instructions to each employee. For more information, see [Set Up Warehouse Employees](warehouse-how-to-set-up-warehouse-employees.md).

## To find an instruction assigned to you

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Put-aways**, **Warehouse Picks**, or **Warehouse Movement**, and then choose the related link.

    All three pages show assignments for all warehouse locations.  

2. Sort the items by location. You can now see the instructions that have been assigned to you.  
3. Select one of the lines with your initials in the **Assigned User ID** field and then choose the **OK** button. The put-away assignment then appears on the page, with your initials in the **Assigned User ID** field on the **General** FastTab.  

You can use the **Assigned User ID** field on the header to claim work assignments, if the warehouse manager does not assign particular instructions to individuals. Simply enter your user ID in the header of the warehouse before you begin work on an instruction. Your co-workers can then choose to work on other instructions, and the warehouse will avoid a duplication of effort.  

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md) 
[Assembly Management](assembly-assemble-items.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md) 


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-post-sales
---
title: Posting sales documents
description: Learn about the different posting functions to post sales documents, and how you can update posted documents.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.reviewer: bholtorf
ms.search.form: 130, 142, 1350
ms.date: 02/13/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
---
# Posting sales

Under the **Posting** menu in a sales document, you can choose between the following posting functions:

* **Post**
* **Post and New**
* **Post and Send**
* **Preview Posting**
* **Post Batch**
* **Test Report**

> [!NOTE]
> For sales orders, you can also see options related to the prepayments functionality. For more information, see [Invoicing Prepayments](finance-invoice-prepayments.md).

When you have completed all the lines and entered all the information on the sales order, you can post it. This creates a shipment and an invoice.

When a sales order is posted, the customer's account, the general ledger, and the item ledger entries are updated.

For each sales order, a sales entry is created in the **G/L Entry** table. An entry is also created in the customer's account in the **Cust. Ledger Entry** table and a general ledger entry is created in the relevant receivables account. In addition, posting the order might result in a VAT entry and a general ledger entry for the discount amount. Whether an entry for the discount is posted depends on the contents of the **Discount Posting** field on the **Sales & Receivables Setup** page.

For each sales order line, an item ledger entry will be created in the **Item Ledger Entry** table (if the sales lines contain item numbers) or a general ledger entry will be created in the **G/L Entry** table (if the sales lines contain a general ledger account). In addition to this, sales orders are always recorded in the **Sales Shipment Header** and **Sales Invoice Header** tables.

[!INCLUDE [order-ship-invoice](includes/order-ship-invoice.md)]

You can either post, or post and send. If you choose to post and send, a PDF file is generated that you can then send. You can also choose the **Post Batch** function, which lets you post several orders at the same time. For more information, see [Post Multiple Documents at the Same Time](ui-batch-posting.md).

## Viewing ledger entries

When the posting is completed, the posted sales lines are removed from the order. A message tells you when the posting is completed. After this, you'll be able to see the posted entries in the various pages that contain posted entries, such as the **Cust. Ledger Entries**, **G/L Entries**, **Item Ledger Entries**, **Posted Sales Shipments**, and **Posted Sales Invoices** pages.  

In most cases, you can open ledger entries from the affected card or document. For example, on the **Customer Card** page, choose the **Ledger Entries** action.

## Editing ledger entries

You can edit certain fields on posted purchase documents, such as the **Package Tracking No.** field. For more information, see [Edit Posted Documents](across-edit-posted-document.md). For more critical fields that affect the auditing trail, you must reverse or undo posting. For more information, see [Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md).

## Related information

[Sales](sales-manage-sales.md)  
[Post Multiple Documents at the Same Time](ui-batch-posting.md)  
[Edit Posted Documents](across-edit-posted-document.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Correct or Cancel Unpaid Sales Invoices](sales-how-correct-cancel-sales-invoice.md)  
[Finding Pages and Information with Tell Me](ui-search.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/receivables-how-map-text-recurring-payments-accounts-auto-reconcilliation
---
title: Setting up Text-to-Account mapping for recurring payments
description: Link text on payments with specific accounts, so that payments are posted to the accounts when you post the payment reconciliation journal.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: account linking, direct payment posting, automatic payment processing, reconcile payment, recurring expense, recurring cash receipt
ms.search.form: 1290, 1294, 1287
ms.date: 03/06/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Map text on recurring payments to accounts for automatic reconciliation

On the **Text-to-Account Mapping** page, which you open from the **Payment Reconciliation Journal** page, you can set up mappings between text on payments and specific debit, credit, and balancing accounts so that such payments are posted to the specified accounts when you post the payment reconciliation journal.

Similar functionality exists to reconcile excess amounts on payment reconciliation journal lines on an ad-hoc basis. For more information, see [Reconcile Payments that Can't be Applied Automatically](receivables-how-reconcile-payments-cannot-apply-auto.md).

Payments posted based on text-to-account mapping are not applied to open entries, but are merely posted to the specified accounts in addition to creating bank account ledger entries. Accordingly, text-to-account mapping is suited for recurring cash receipts or expenses, such as frequent purchases of car fuel or bank fees and interest, that regularly occur on the bank statement and don't need a related business document. For more information, see the "Example - Text-to-Account Mapping for Fuel Expense" section in this article.

> [!NOTE]  
>   Payments on reconciliation journal lines are only set to posting according to text-to-account mapping if the automatic application function can only provide a match confidence of **Low** or **Medium**. If the automatic application function provides a match confidence of High, then the payment is automatically applied to one or more open entries, and the payment is not posted to the accounts specified on the **Text-to-Account Mapping** page. In other words, a match confidence of **High** overrules a text-to-account mapping.

On a payment reconciliation journal line where the payment has been set to posting according to text-to-account mapping, the **Match Confidence** field contains **High - Text-to-Account Mapping**, and the **Account Type** and **Account No.** fields contain the mapped accounts.

## To map text on recurring payments to accounts for automatic reconciliation

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Reconciliation Journals**, and then choose the related link.
2. Open a payment reconciliation journal. For more information, see [Reconcile Payments Using Automatic Application](receivables-how-reconcile-payments-auto-application.md).
3. Choose the **Map Text to Account** action. The **Text-to-Account Mapping** page opens.
4. In the **Mapping Text** field, enter any text that occurs on payments that you want to post to specified accounts without applying to an open entry. You can enter up to 50 characters.

    > [!NOTE]  
    >   If no other payments exist with the mapping text in question, then the text-to-account mapping will occur even when only a part of the text on the payment exists as a mapping text.
5. In the **Vendor No.** field, enter the vendor that the payments will be posted to.
6. In the **Bal. Source Type** field, specify if the payment will be posted to a general ledger account or to a customer or vendor account.
7. In the **Bal. Source No.** field, specify the account that the payment will be posted to, depending on your selection in the **Bal. Source Type** field.

    > [!NOTE]
    > Do not use the **Debit Acc. No.** and **Credit Acc. No.** fields in connection with payment reconciliation. They are used for incoming documents only. For more information, see [Use OCR to Turn PDF and Image Files into Electronic Documents](across-how-use-ocr-pdf-images-files.md).

8. Repeat steps 3 through 7 for all text on payments that you want to map to accounts for direct posting without application.

Next time you import a bank statement file or choose the **Apply Automatically** action on the **Payment Reconciliation Journal** page, journal lines for the payments that contain the specified mapping text will contain the mapped accounts in the **Account Type** and **Account No.** fields. The **Match Confidence** field will contain **High - Text-to-Account Mapping**. This is on the condition that the automatic application function can only provide a match confidence of **Low** or **Medium**.

## Example: Text-to-Account mapping for bank fees

To always post expenses that are related to fees from a specific bank, MyBank, to the general ledger account for bank charges and fees (account 60400), fill a line on the **Text-to-Account Mapping** page as follows.

| Mapping Text | Debit Acc. No. | Credit Acc. No. | Bal. Source Type | Bal. Source No. |
| --- | --- | --- | --- | --- |
| MyBank |BLANK |60400|G/L Account |BLANK |

## Related information

[Managing Receivables](receivables-manage-receivables.md)  
[Sales](sales-manage-sales.md)  
[Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-setup-service-coding
---
title: Set Up Codes for Standard Services
description: Learn how to set up codes for regularly performed service activities with a predefined set of service lines.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: service, service item, service order, repairs, maintenance
ms.date: 06/23/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Set Up Standard Service Codes

When you perform typical service, you often have to create service documents that use service lines that contain similar information. To make it easy to create these lines, you can set up standard service codes that have a predefined set of service lines. When you choose the code on a service document, the lines are entered automatically. You can set up any number of standard service codes, and each code can have an unlimited number of service lines of different types, including item, resource, cost, or standard text linked to it. You create service lines of each standard service code on the **Standard Service Code** card. You then assign standard service codes to service item groups on the **Standard Serv. Item Gr. Codes** page. Later, when you create a service document, you can use the **Get Standard Service Codes** action to add service lines.  
  
> [!Tip]
> You can use the same concept to create lines on sales and purchase documents. For more information, see [Create Recurring Sales and Purchase Lines](sales-how-work-standard-lines.md).  
  
## To set up a standard service code

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Standard Service Codes**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
3. Fill in the service lines linked to this service code.  

## To assign a standard service code to a service item group

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service item Groups**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
3. Fill in the service lines linked to this service code.  

## Related information

[Service Management](service-service.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-assign-default-bins-to-items
---
title: Assign Default Bins to Items
description: If you are using bins at a location, assigning default bins to your items can make the process of shipping, receiving, and moving your items much easier.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.form: 7371, 7374, 7379
ms.date: 06/25/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Assign Default Bins to Items
If you are using bins at a location, assigning default bins to your items can make the process of shipping, receiving, and moving your items much easier. When a default bin is assigned to an item, this bin is suggested every time you initiate a transaction for this item. Default bins are defined on the **Bin Content** page.  

## To assign a default bin to an item
1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bin Content Creation Worksheet**, and choose the related link.  
2.  Fill in the bin code and item information for each bin that you would like to set up as a default for an item. Make sure to select the **Default** field.  
3.  Choose the **Create Bin Content** action. Default bins are now assigned for your item.  

> [!NOTE]  
>  When an item is put away, if the item does not have a default bin assigned, the bin where the item is put away is assigned as the default.  

## To change the default bin for an item  
You may need to change the default bin assignment for an item or assign a default bin to a new item.
1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bin Contents**, and then choose the related link.  
2.  In the **Location Filter** field, select the appropriate location code.  
3.  Find the current default bin content entry for the item and clear the **Default Bin** check box.  
4.  Find the bin content line for the bin that you would like as the new default bin. Select the **Default Bin** check box.  

> [!NOTE]  
>  When an item is put away for the first time, and the item does not have a default bin assigned, the system will assign the bin where the item is put away as the default bin for the item.  

## Related information  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md) 
[Assembly Management](assembly-assemble-items.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-inbound-warehouse-flow
---
title: Design Details - Inbound Warehouse Flow
description: Learn how to receive items at your warehouse, and register and match them to inbound source documents.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: warehouse
ms.date: 09/18/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design details: Inbound warehouse flow

The inbound flow in a warehouse begins when items arrive in the warehouse of the company location, either received from external sources or from another company location. You can receive physical and non-inventory items. To learn more about receiving non-inventory items, go to [Post non-inventory items](#post-non-inventory-items).

In principle, the process of receiving inbound orders consists of two activities:

* Receive items at the dock, identify them, match them to a source document, and record the received quantity.
* Put away items in stock, and record the place you put them.

The source documents for inbound warehouse flow are:

* Purchase orders  
* Inbound transfer orders  
* Sales return orders  

> [!NOTE]
> Production and assembly output also represent inbound source documents. Learn more about handling production and assembly output for internal processes at [Design Details: Internal Warehouse Flows](design-details-internal-warehouse-flows.md).  

In [!INCLUDE[prod_short](includes/prod_short.md)], you receive items and put them away using one of four methods, as described in the following table.

|Method|Inbound Process|Require Receipts|Require Put-aways|Complexity Level (Learn more at [Warehouse Management Overview](design-details-warehouse-management.md))|  
|------------|---------------------|--------------|----------------|------------|  
|A|Post receipt and put-away from the order line|||No dedicated warehouse activity.|  
|B|Post receipt and put-away from an inventory put-away document||Turned on|Basic: Order-by-order.|  
|C|Post receipt and put-away from a warehouse receipt document|Turned on||Basic: Consolidated receive/ship posting for multiple orders.|  
|D|Post receipt from a warehouse receipt document and post put-away from a warehouse put-away document|Turned on|Turned on|Advanced|  

Selecting an approach depends on your company's practices and level of organizational complexity. The following are some examples that might help you decide.

* In an order-by-order warehouse environment, where most of the warehouse staff works directly with order documents, you might decide to use method A. 
* An order-by-order warehouse that has a more complex put-away process, or where warehouse staff separates their put-away activities from the order document, might use method B.
* Companies that need to plan the handling of multiple orders may find it helpful to use warehouse receipt documents, methods C and D.  

In methods A, B, and C, receiving and putting away are combined in one step when posting documents as received. In method D, the receipt is posted first to record the increase of inventory and that items are available for sale. The warehouse worker then registers the put-away to make the items available to pick for outbound orders. 

> [!NOTE]
> While warehouse put-aways and inventory put-aways sound similar, they're different documents and are used in different processes.
> * The inventory put-away used in method B, together with registering put-away information, also posts the receipt of the source document.
> * The warehouse put-away used in method D can't be posted and only registers the put-away. The registration makes the items available for the further processing but doesn't post the receipt. In the inbound flow, the warehouse put-away requires a warehouse receipt.

## No dedicated warehouse activity

The following articles provide information about how to process receipts for source documents if you don't have dedicated warehouse activities.

* [Record Purchases](purchasing-how-record-purchases.md)
* [Transfer Orders](inventory-how-transfer-between-locations.md)
* [Process Sales Return Orders](sales-how-process-sales-returns-orders.md)

## Basic warehouse configurations  

In a basic warehouse configuration, the **Require Put-away** toggle is turned on, but the **Require Receipt** toggle is turned off on the **Location Card** page for the location.

The following diagram illustrates the inbound warehouse flows by document type in basic warehouse configurations. The numbers in the diagram correspond with the steps in the sections following the diagram.  

:::image type="content" source="media/design_details_warehouse_management_inbound_basic_flow.png" alt-text="The basic inbound flow in a warehouse.":::

### 1: Release a source document to create a request for an inventory put-away  

When you receive items, release the source document, such as a purchase order or an inbound transfer order. Releasing the document makes the items available to be put away. You can also create inventory put-away documents for individual order lines, in a push fashion, based on bins and quantities to handle.  

### 2: Create an inventory put-away  

On the **Inventory Put-away** page, in a pull fashion, you can get the pending source document lines based on inbound warehouse requests. In a push fashion, you can also create inventory put-away lines when you create the source document.  

### 3: Post an inventory put-away  

On each line for items that have been put away, partially or fully, fill in the **Quantity** field and then post the inventory put-away. Source documents that are related to the inventory put-away are posted as received.  

* Positive item ledger entries are created.
* Warehouse entries are created for locations that require a bin code on all item transactions.
* The put-away request is deleted, if it's fully handled. For example, the **Quantity Received** field on the inbound source document line is updated.
* A posted receipt document is created that reflects the purchase order, for example, and the received items.  

## Advanced warehouse configurations  

To use an advanced warehouse configuration, turn on the **Require Receipt** toggle on the Location Card page for the location. The **Require Put-away** toggle is optional.

The following diagram illustrates the inbound warehouse flow by document type. The numbers in the diagram correspond with the steps in the sections following the diagram.  

:::image type="content" source="media/design_details_warehouse_management_inbound_advanced_flow.png" alt-text="The advanced inbound flow in a warehouse.":::

### 1: Release the source document  

When you receive items, release the source document, such as the purchase order or an inbound transfer order. Releasing the document makes the items available to be put away. The put away will contain references to the source document type and number.

### 2: Create a warehouse receipt  

On the **Warehouse Receipt** page, get the inbound source document lines. You can combine several source document lines in one warehouse receipt document. Fill in the **Qty. to Handle** field and select the receiving zone and bin, if necessary.  

### 3: Post the warehouse receipt  

Post the warehouse receipt to create positive item ledger entries. The **Quantity Received** field on the inbound source document line is updated.  

If the **Require Put-away** toggle is not turned on on the location card, this is where the process stops. Otherwise, posting the inbound source document makes the items available to be put away. The put away contains references the source document type and number.  

### 4: (Optional) Generate put-away worksheet lines

Get warehouse put-away lines in the **Put-away Worksheet** based on posted warehouse receipts or operations that produce output. On the lines you'll put-away, specify the following information:

* The bins to take items from.
* The bins to put items in.
* How many units to handle.

The bins can be predefined by the setup of the warehouse location or the resource that performed the operation.  

When all put-aways are planned and assigned to warehouse workers, generate the warehouse put-away documents. Fully assigned put-away lines are deleted from the **Put-away Worksheet**.  

> [!NOTE]  
> If the **Use Put-away Worksheet** toggle is not turned on on the location card, warehouse put-away documents are created directly based on posted warehouse receipts. In that case, this step isn't needed.  

### 5: Create a warehouse put-away document

Create a warehouse put-away document in a pull fashion, based on the posted warehouse receipt. Alternatively, create the warehouse put-away document and assign it to a warehouse worker in a push fashion.  

### 6: Register a warehouse put-away

On each line for items that have been put away, partially or fully, fill in the **Quantity** field on the **Warehouse Put-away** page, and then register the warehouse put-away.  

* Warehouse entries are created for locations that require a bin code on all item transactions.
* The warehouse put-away lines are deleted, if they're fully handled.
* The warehouse put-away document remains open until you register the full quantity of the related posted warehouse receipt.
* The **Qty. Put Away** field on posted warehouse receipt order lines is updated.

## Related tasks

The following table describes a sequence of tasks, with links to the articles that describe them.

|**To**|**See**|  
|------------|-------------|  
|Receive items at warehouse locations with a warehouse receipt for fully or partially automated warehouse processing.|[Receive Items](warehouse-how-receive-items.md)|
|Put away items on an order-by-order basis and post the receipt in one activity in basic warehouse configurations.|[Put Items Away with Inventory Put-aways](warehouse-how-to-put-items-away-with-inventory-put-aways.md)|  
|Put away items received from multiple purchases, sales returns, transfers orders in an advanced warehouse configuration.|[Put Items Away with Warehouse Put-aways](warehouse-how-to-put-items-away-with-warehouse-put-aways.md)|  

## Post non-inventory items

[!INCLUDE [post-non-inventory-items](includes/post-non-inventory-items.md)]

## Related information

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/faqs-chat-with-copilot
---
title: Responsible AI FAQ for Chat with Copilot (preview)
description: This FAQ provides information about the AI technology used for chatting with Copilot in Business Central. It includes key considerations and details about how AI is used, how it was tested and evaluated, and any specific limitations.
ms.date: 07/04/2025
ms.custom: 
  - responsible-ai-faqs
ms.topic: faq
author: jswymer
ms.author: jswymer
ms.reviewer: solsen
ms.search.keywords: copilot, AI, chat 
ms.collection:
  - bap-ai-copilot
---
# Responsible AI FAQ for Chat with Copilot (preview)

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

These frequently asked questions (FAQ) describe the AI impact of Chat with Copilot in [!INCLUDE[prod_short](includes/prod_short.md)]. If you're interested in general questions about using the feature, see [FAQ for chat with Copilot](chat-with-copilot-faq.md).

## What is Chat with Copilot?

Microsoft Copilot is an AI-powered assistant that helps you be more creative, productive, and efficient. You can chat with Copilot in Business Central to get answers and insights about [!INCLUDE[prod_short](includes/prod_short.md)] and your business data by typing what you want to know in natural language.

Chat with Copilot, also called chat, is an interactive feature that answers your questions without requiring you to navigate the user interface or the product documentation. The Copilot pane is available from anywhere in the [!INCLUDE[prod_short](includes/prod_short.md)] client.

You can ask questions in natural language, like "How do I deliver goods to my customers directly from my vendors?" or "Do we have any office chairs in stock for under $600?" In response, Copilot provides answers in natural language. Depending on the questions, answers can include plain text, links to records or pages in [!INCLUDE[prod_short](includes/prod_short.md)], and links to [!INCLUDE[prod_short](includes/prod_short.md)] help articles on Microsoft Learn.

## What are the capabilities of Chat with Copilot?

You can chat with Copilot to get answers to the following classes of questions:

### Explain and guide

You can ask Copilot to explain a specific concept related to [!INCLUDE[prod_short](includes/prod_short.md)], like what are dimensions, or provide guidance on how to complete a task, like how to post a sales order. Copilot searches the official [!INCLUDE[prod_short](includes/prod_short.md)] documentation published by Microsoft, and provides an answer based on the documentation.

- Copilot uses the knowledge on Microsoft Learn (not a broad web search) to semantically search only Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)] documentation on Microsoft Learn. This includes product documentation, release plans, local functionality content, and troubleshooting content.
- Copilot can also use knowledge from the 3rd party apps that your administrator has installed to [!INCLUDE[prod_short](includes/prod_short.md)]. This knowledge source is provided by the app publisher as part of the app, so Copilot doesn't do a broad web search here either. 
- Copilot doesn't take action, create new data, or modify any configuration. It simply summarizes any paragraphs it finds on in online documentation that match the question or prompt in chat.

### Find business data and related pages

You can ask Copilot to locate pages by name or request records based on specific fields and constraints. If Copilot finds a match, it responds with a link to the relevant record or page, which you can then select to open. Chat with Copilot works closely with analysis assist to generate data analysis tabs directly from the Chat pane, helping you gain insights into your data. This approach is used whenever you ask questions best illustrated by grouped records or simple calculations, such as totals or averages.

- Copilot converts the natural language input into a query consisting of a table search, sort, and filter criteria.

  The capability uses [!INCLUDE[prod_short](includes/prod_short.md)]'s native data search capabilities to find matching data from tables within the companies database. The search runs under your own identity for security and compliance. It doesn't search outside of the [!INCLUDE[prod_short](includes/prod_short.md)] database.

- Copilot doesn't take action, create new data, or modify any configuration. It only summarizes the records received from the [!INCLUDE[prod_short](includes/prod_short.md)] native data search.

## What is the intended use of Chat with Copilot?

Chat is designed for enterprise use and answering questions that relate to [!INCLUDE[prod_short](includes/prod_short.md)] and the business data it contains. The feature helps you solve common tasks such as finding records or getting guidance. You can express yourself in your own words, making your work easier and more accessible when working with [!INCLUDE[prod_short](includes/prod_short.md)].

## How was Chat with Copilot evaluated? What metrics are used to measure performance?

- The feature underwent extensive testing during which numerous English language texts covering a broad range of topics and styles of expressing intent were given to Copilot. The outcomes were evaluated against accuracy, relevance, and safety.
  
- The feature is built in accordance with Microsoft's Responsible AI Standard. [Learn more about responsible AI from Microsoft](https://aka.ms/RAI).

## How does Microsoft monitor the quality of generated content?

Microsoft has various systems in place to ensure that content generated by Copilot is of the highest quality, detect abuse, and ensure safety for our customers and their data.

You can provide feedback to every Copilot response and report inaccurate or inappropriate content to help Microsoft improve this feature. 

- You can provide feedback by using the like (thumbs up) or dislike (thumbs down) icon on the **Copilot** pane in [!INCLUDE[prod_short](includes/prod_short.md)].
  
- We analyze and utilize your feedback on the feature to help us improve responses.
  
- If you encounter inappropriate generated content, report it to Microsoft by using this feedback form: [Report abuse](https://go.microsoft.com/fwlink/?linkid=2249810).
  
- Microsoft might disable the Copilot features for selected customers if abuse of the functionality is detected.

## What are the limitations of Chat with Copilot? How can users minimize the impact of the Chat with Copilot limitations when using the system?

- General limitations of AI

  AI systems are valuable tools but they're nondeterministic. The content they generate might not be accurate. So, it's important to use your judgment to review and verify responses Copilot before making decisions that could affect stakeholders like customers and partners. For most responses, Copilot also includes citations or reference links that you can use to quickly verify whether Copilot gives a correct answer. For example, when asked how to perform some task, Copilot includes links to the source article. When asked to find a record based on specific criteria, Copilot includes links that describe the list page it identified as the topic of conversation. It also provides information about any filters or sorting that was applied to reach an answer.

- Language limitations

  - [!INCLUDE[copilot-language-support-en-only](includes/copilot-language-support-en-only.md)]

    If you chat with Copilot in a language other than English, Copilot might either respond in the same language, in English, or not at all. While in preview, chat is intended for use with the English language only.

  - The quality of answers can be lower under the following conditions:
    - The language of chat messages to Copilot is something other than en-US.
    - The language setting for the user in [!INCLUDE[prod_short](includes/prod_short.md)] differs from the primary language of the data in the [!INCLUDE[prod_short](includes/prod_short.md)] database.

- Specific industry, product, and topic limitations

   Chat includes built-in safety mechanisms that prevent the undesirable generation of harmful content, such as sexually explicit content or incitement of violence. Sometimes, customers operate in industries, sell products and services, or work with processes that naturally overlap with what might be considered inappropriate in other contexts, or work with data that might trigger these safeguards. Chat might not perform as well in these cases.

## What data does Chat with Copilot collect and how is it used

Microsoft doesn't use your company data, including the text you send to Copilot, to train the foundational AI models for the benefit of others. Company administrators have full control to govern this data that is part of their Azure subscription. Because administrators or others in your company might have access to this data as determined by your employer, we recommend you don't enter sensitive data such as passwords or other secrets.

## What does Chat with Copilot offer for security

Chat is designed to be secure and executes under the user's identity, inheriting all security permissions and other restrictions and never operating outside of [!INCLUDE[prod_short](includes/prod_short.md)]'s platform security. This design means that Copilot can only access data that you have access to.

For users with SUPER permission, chat can more easily locate unsecured data that's typically harder to get to for other users. Organizations that don't apply [!INCLUDE[prod_short](includes/prod_short.md)]'s security model to restrict which tables and objects each user or user role has access to, might be at elevated risk when using chat. Therefore, we recommend that your organization either implements [!INCLUDE[prod_short](includes/prod_short.md)]'s security model or deactivates chat.

When Copilot needs to answer questions about 3rd party apps, it searches the online help content associated with those apps, powered by Bing Search. To ensure security and safety;

- Copilot only searches these specific URLs and doesn't perform a broad web search
- [!INCLUDE[prod_short](includes/prod_short.md)] applies various mechanisms such as content filtering and malicious site detection to reduce risk from these websites.

Learn more about how Copilot searches the web in [Searching the web with Copilot (preview)](ai-search-web-copilot.md).

## Related information

[Chat with Copilot (preview)](chat-with-copilot.md)  
[Analyze data in lists with help from Copilot (preview)](analysis-assist.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-paypal-payments-standard
---
title: Using the PayPal Payments Standard Extension
description: This article describes how to use the standard extension to enable customers to make payments with PayPal.
author: brentholtorf
ms.author: bholtorf
ms.topic: concept-article
ms.search.keywords: app, add-in, manifest, customize
ms.search.form: 1070, 1071, 1073, 1074
ms.date: 07/09/2024
ms.custom: bap-template

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# The PayPal Payments Standard extension

The PayPal Payments Standard extension can help you increase your customer service levels by making it easier for your customers to pay their bills.

As an alternative to collecting payments through bank transfer or credit cards, customers can pay through their PayPal account. When you send a sales invoice by email, there's a PayPal link in the email body and in the attached PDF document. If the customer chooses the link, the service page for their PayPal account opens and shows the payment details. The customer can then pay the invoice as any other PayPal payment.

The PayPal Payments Standard service provides the following benefits:

* Customer payments arrive faster in your bank account.
* Customers have more ways to pay invoices.
* PayPal offers a trustworthy payment service, which customers prefer to entering credit card information on web sites.
* PayPal offers multiple ways of handling payments, including credit card processing, PayPal accounts, and other sources.
* The PayPal link can be added automatically to sales documents or manually by the user.
* The PayPal Payments Standard service doesn't involve monthly fees or setup fees.
* Because it's an extension, you can easily enable the PayPal Payment Standard service when and if your business requires it.  

To learn more about how to set up the extension, go to [Enable Customer Payment Through PayPal](sales-how-enable-payment-service-extensions.md).

## Register payments automatically for business accounts

[!INCLUDE [prod_short](includes/prod_short.md)] can register payments automatically if you have a Business Merchant account for the PayPal Commerce Platform. When your customers use the PayPal link to pay an invoice, [!INCLUDE [prod_short](includes/prod_short.md)] posts the entries and close the document.

To use this capability, on the **Payment Registration Setup** page in [!INCLUDE [prod_short](includes/prod_short.md)], turn on the **Register payments automatically** toggle and verify the accounts you'll use for the payments. If you decide that you don't want to register payments automatically, you can turn it off again.

> [!TIP]
> Developers can use sandbox accounts to test the setup. To do that, change the PayPal URL to **sandbox.paypal.com**. [!INCLUDE [prod_short](includes/prod_short.md)] uses the PayPals Instant Payment Notification (IPN) through notify_url.

## Related information

[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-to-create-special-orders
---
title: How to Create special orders
description: Learn how to create a special order for a specific catalog item to be shipped to a specific customer.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 02/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Create special orders

You can create a special order for a specific catalog item to be shipped to a specific customer. Your vendor ships the item to your warehouse and you can then ship the item on to your customer either independently or together with other items on another order.  

Special orders imply that the purchase and sales order are linked to ensure that the specific catalog item is picked and delivered to the customer.  

Before you can use this feature, you must first set up the customer, vendor, and item cards necessary for the order.  

## To create a special order

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Order**, and then choose the related link.  
2. Choose the **New** action. Create and fill in a  sales order for the item. For more information, see [Sell Products](sales-how-sell-products.md).
3.  On the **Lines** FastTab, fill in the sales line. In the **Purchasing Code** field, select a purchasing code that has the **Special Order** field selected.

    You must now create a purchase order from a requisition worksheet.  
4. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Requisition Worksheets**, and then choose the related link.  
5. Choose the **Special Order** action, and then choose the **Get Sales Orders** action.  
6.  On the **Get Sales Orders** page, show results where the **Document No.** is the sales order number. Choose the **OK** button. A requisition worksheet line is created for the item.  
7.  On the requisition worksheet line, in the **Action Message** field, select **New**.  
8.  On the **Requisition Worksheets** page, choose the **Carry Out Action Message** action. The **Carry Out Action Msg. - Req.** page opens. Choose the **OK** button.  

    A message appears telling you that the purchase orders have been created. Choose the **OK** button.  

A purchase order created as a special order for a sales order is respected by the planning system as it balances demand and supply. That is, the purchase order (supply) remains linked to the sales order (demand), even if that purchase order could supply another earlier demand. For more information, see [Design Details: Reordering Policies](design-details-reservation-order-tracking-and-action-messaging.md).  

> [!NOTE]  
>  You cannot use the special order functionality if the item is already reserved. Therefore, for items that are sold on special orders, make sure the **Reserve** field on the item card is not set to **Always**.  

## Related information

[Work with Catalog Items](inventory-how-work-nonstock-items.md)  
[Sales](sales-manage-sales.md)  
[Make Drop Shipments](sales-how-drop-shipment.md)   
[Design Details: Reordering Policies](design-details-reservation-order-tracking-and-action-messaging.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-put-away-production-output
---
title: Put away production output
description: This article describes how to put away your production output.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 03/12/2025
ms.custom: bap-template
ms.search.forms: 9326, 99000831, 9315, 7375
---
# Put away production or assembly output

How you put away your output from production depends on how your warehouse is set up as a location. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).  

In a basic warehouse configuration for the inbound flow (put-away), on the **Location Card** page for the location, activate following settings:

* For production, in the **Prod. Output Whse. Handling** field, select **Inventory Put-away**.
* Assembly processes don't support inventory put-aways. You post an assembly order to register output. If you use bins, you can move items between the bins later. Learn more at [Move Items Ad Hoc in Basic Warehouse Configurations](warehouse-how-to-move-items-ad-hoc-in-basic-warehousing.md).  
* For projects, put-away isn't applicable.

In advanced warehouse configurations where a location requires put-away, create an internal put-away, a movement, or a warehouse put-away to put away the output.  

## Put away production output with an inventory put-away

The first step to put away output is to create the inbound warehouse request. This request informs the warehouse that the production or assembly order output is ready to be put away.

### To create the inbound warehouse request  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Released Production Order**, and then choose the related link.  
2. Choose the production order that's ready for put-away, and then choose the **Create Inbound Whse. Request** action.  

> [!NOTE]  
> You can also create the inbound warehouse request by choosing the **Create Inbound Request** field when you refresh the production order. Learn more at [Refresh or Replan Production Orders](production-how-to-replan-refresh-production-orders.md).  

### To put away output with an inventory put-away  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Inventory Put-away**, and then choose the related link.  
2. Create a new inventory put-away. Learn more at [Put Items Away with Inventory Put-aways](warehouse-how-to-put-items-away-with-inventory-put-aways.md).
3. To access the production order output, choose the **Get Source Documents** action, and then select the released production order.  
4. Fill in the put-away lines as needed.
5. When the lines are ready for posting, choose the **Post** action. Posting creates the warehouse entries and posts the output of the items.  

    [!INCLUDE [preview-posting-warehouse](includes/preview-posting-warehouse.md)]

You can also create an **Inventory Put-away** directly from the released production order. Learn more at [Put Items Away with Inventory Put-aways](warehouse-how-to-put-items-away-with-inventory-put-aways.md).  

When you post an inventory put-away, [!INCLUDE [prod_short](includes/prod_short.md)] assumes that all the operations are posted according to the standard routing. That is, the output quantity is posted according to the last operation. You can use the output journal to post variances in the output quantity and the setup and run times. If you must post partially after you created the inventory put-away, you can do so on set-up times and quantities for all operations except the last one. The inventory put-away controls the last operation.  

If you only need to post the set-up or run time on the last operation, set the output quantity on the last operation to 0. You can choose not to post the last line at all by deleting it.

## To put away assembly and production output in advanced warehouse configurations

When you post output for a production or assembly order in advanced warehouse configurations, the output goes to the bin defined in the production or assembly order. To learn more about different ways to move items in the warehouse with advanced configurations, go to [Move Items in Advanced Warehouse Configurations](warehouse-how-to-move-items-in-advanced-warehousing.md#to-move-items-with-the-warehouse-movement-worksheet).

> [!NOTE]  
> You can't enter the number of the source document, such as the production order number, in internal put-away or movement documents for assembly or production output.  

You can also use warehouse put-aways for production outputs, which means you can use the same warehouse process for production outputs as you use for other receipts. Using the same process makes things easier because you don't have to switch between different types of document. Also, it's especially valuable for advanced configurations where Directed Put-Away and Pick is enabled because inventory put-away documents aren't available.

To use warehouse put-aways, on the **Location Card** page, in the **Prod. Output Whse. Handling** field, choose **Warehouse Put-away**.

> [!NOTE]
> For locations where Directed Put-away and Pick is enabled, make the field editable and allow the selection of **No warehouse handling** or **Warehouse put-away**. You can't select the **Inventory Put-away** option.
>
> You can't activate warehouse put-away if there are released production orders for the selected location.

When you post production output for a location where the **Prod. Output Whse. Handling** field is set to **Warehouse Put-away** on the **Location Card** page, the warehouse put-away document is either created automatically or you must use the **Warehouse Put-Away Worksheet** page.

If you delete a warehouse put-away, you can manually create a new one using the **Create warehouse put-away** action on the **Release Production Order** or **Finished Prod Order** pages.

> [!NOTE]
> You can't have production order lines with different locations with **Prod. Output Whse. Handling** set to **Warehouse Put-away**. To resolve this issue, use different production orders.
>
> You can't cancel output if there are outstanding or completed put-aways.

## Related information  

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-assemble-to-project
---
title: Assemble to Project
description: Learn how to use assemble-to-order for project.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: project management, task
ms.search.form: 88, 275, 276, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1020
ms.date: 08/03/2022
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Assemble to project

Assemble to project helps you improve inventory management by assembling to order only when it's required.

When you choose an assemble-to-order item on a project planning line, [!INCLUDE [prod_short](includes/prod_short.md)] creates an assembly order. The assembly order is based on the project planning line, and its lines are based on the item's assembly bill of materials (BOM). To learn more about assembly BOMs, go to [Work with Assembly BOMs](assembly-how-work-assembly-boms.md). The quantity of components on the assembly BOM is multiplied by the order quantity. The **Assemble-to-Order Lines** page shows details about the linked assembly order lines. The details can help you customize the assembly item. As in sales, you can't directly post linked assembly orders. To learn more about assembly orders, go to [Selling Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-inventory-items-in-assemble-to-order-flows.md).

Assembly orders are reserved for projects, and [!INCLUDE [prod_short](includes/prod_short.md)] synchronizes item tracking between project planning lines and assembly order.

## Integrate with warehouse management

Assemble to project integrates with warehouse management features to make assembly and shipping easier. The process also helps ensure that the flow from project assembly to delivery runs smoothly in internal warehouse processes. To learn more about internal warehouse flows for projects, go to [Flows for Production, Assembly, and Jobs](design-details-internal-warehouse-flows.md#flows-to-and-from-assembly-in-a-basic-warehouse-configuration).

The following table describes the warehouse configurations that assemble to order supports.

|Configuration  |Description  |
|---------|---------|
|**No warehouse handling**|Use a project journal to post full or partial usage. The output and consumption of components post automatically for the assembly order.         |
|**Inventory pick**|Use an inventory pick to post full or partial usage. The output and consumption of components post automatically for the assembly order.          |
|**Warehouse pick**|Create and register warehouse picks for components, and then use a project journal to post usage. [!INCLUDE [prod_short](includes/prod_short.md)] verifies whether the consumed assembly components were picked. The output and consumption of components post automatically for the assembly order.         |

## Known limitations

This section describes known limitations for assemble to project.

* The **Quantity to Assemble to Order** field isn't available for projects that are closed.
* For warehouse pick scenarios, the **Quantity to Assemble to Order** can be either zero or equal to the quantity. You can't mix assemble to order and assemble to stock on a project planning line. You must create separate project planning lines.
* Assemble to order doesn't affect billable parts of a project. An assembly is included on sales invoices, but not its components. You can't edit the **Quantity to Assemble to Order** field for billable lines.
* Order planning and the planning worksheet aren't affected because the project is the input for planning. The planning engine considers the assembly as demand.
* You can't enter a negative quantity in the **Quantity to Assemble to Order** field.
* You can't undo an assembly.

## Related information

[Project Management](projects-manage-projects.md)  
[Assembly Management](assembly-assemble-items.md)  
[Create Jobs](projects-how-create-jobs.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-record-reimburse-employee-expenses
---
title: Record and reimburse employees' expenses
description: Post employees' expenses with the general journal to the employee's account  then post a payment to their bank account to reimburse the business-related expense.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: reimbursement
ms.search.form: 63, 234, 625, 5224, 5237, 5238, 5239, 5240
ms.date: 08/07/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Record and reimburse employees' expenses

[!INCLUDE[prod_short](includes/prod_short.md)] supports transactions for employees in a similar way as for vendors. Accordingly, employee posting groups exist to make sure that employee ledger entries are posted to the relevant accounts in the general ledger.

> [!NOTE]  
> Reimbursement payments to employees do not support discounts and payment tolerances.

If employees spend their own money during business activities, you can post the expense to the employee's account. Then you can reimburse the employee by making a payment to the employee's bank account, similarly to how you pay vendors.  

This article explains how to record the expense in the books and how to reimburse the employee. Your organization might have a portal or app where employees can submit their expense reports.

[!INCLUDE [prod_short](includes/prod_short.md)] is flexible enough to suit many different practices. The exact account numbers to use depend on your organization's configuration and processes.  

You can use general journals for employee accounts to register employee expenses and reimbursement transactions in foreign currencies, and then easily track the amounts and compare them to receipts. Leave your calculator in your desk drawerâ€”Business Central can adjust the exchange rate for you. When you use general journals to post transactions for employee accounts, such as when you reimburse expenses, you can use the **Currency Code** field to specify the currency for the transactions. Specifying a currency lets you use the same features as when you register transactions in the customer and vendor ledgers. For example, employees can register an expense in euros but get paid in dollars.

To ensure that the exchange rate for the amounts is up to date, you can adjust employee balances when you run the currency exchange rate batch job. If you want to use the exchange rate table, but settle employee balances in your local currency, you can exclude employee accounts when you adjust exchange rates.

## To record an employee's expense

You post employees' expenses on the **General Journal** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.  
2. Open the relevant general journal batch. For more information, see [Work with General Journals](ui-work-general-journals.md).
3. On a new journal line, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

    > [!NOTE]
    > [!INCLUDE[journal-showhide-columns-inline-tip](includes/journal-showhide-columns-inline-tip.md)]
4. Repeat step 3 for all the expenses that the employee has incurred.

    > [!TIP]  
    > If you want to enter multiple expense lines above one balance-account line for the employee's bank account, then select the **Suggest Balancing Amount** check box on the line for your batch on the **General Journal Batches** page. Then the **Amount** field on the balance-account line is automatically prefilled with the value that is required to balance the expenses.
5. Choose the **Post** action to record the expenses on the employee's account.

## To reimburse an employee

You reimburse employees by posting payments to their bank account on the **Payment Journal** page.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Journals**, and then choose the related link.
2. Open the relevant payment journal batch. For more information, see [Work with General Journals](ui-work-general-journals.md).
3. Fill in the fields as necessary. For more information, see [Making Payments](payables-make-payments.md).
4. Alternatively, choose the **Suggest Employee Payment** action to automatically insert journal lines for pending employee reimbursements.
5. Choose the **Post** action to register the reimbursement.  

## To reconcile reimbursements with employee ledger entries

You apply employee payments to their related open employee ledger entries in the same way as you do for vendor payments, for example on the **Payment Reconciliation Journals** page, based on the related bank statement entries. For more information, see [Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md). Alternatively, you can apply manually on the **Employee Ledger Entries** page. For more information, see the related [Reconcile Vendor Payments with the Payment Journal or from Vendor Ledger Entries](payables-how-apply-purchase-transactions-manually.md).  

## Related information

[Post Transactions Directly to the General Ledger](finance-how-post-transactions-directly.md)    
[Work with General Journals](ui-work-general-journals.md)    
[Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md)    
[Finance](finance.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/keyboard-shortcuts-cheatsheet
---
title: Keyboard quick reference - PC only
description: A print-friendly reference sheet containing the most popular keyboard shortcuts for PC users.
author: jswymer
ms.topic: article
ms.search.keywords: accessibility, shortcuts, keyboarding, keys
ms.date: 06/13/2024
ms.author: jswymer
ms.review: jswymer
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.reviewer: jswymer
---

# Keyboard quick reference - PC only

#### General

|Select these keys|To do this|  
|-|-|
|<kbd>Alt</kbd>|Show access keys to navigate the action bar or navigation menu|
|<kbd>Alt</kbd>+<kbd>F2</kbd>|Show and hide the FactBox pane|
|<kbd>Alt</kbd>+<kbd>N</kbd>|Create a new record|
|<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>N</kbd>|Close a newly created record and create a new one|
|<kbd>Alt</kbd>+<kbd>O</kbd>|Add a new note for the selected record|
|<kbd>Alt</kbd>+<kbd>Q</kbd>|Open **Tell me**|
|<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Q</kbd>|Open **Find Entries**|
|<kbd>Alt</kbd>+<kbd>Up</kbd>|Open tooltip or validation error|
|<kbd>Alt</kbd>+<kbd>Down Arrow</kbd>|Open a drop-down or look up|
|<kbd>Ctrl</kbd>+<kbd>Alt</kbd><kbd>Down Arrow</kbd>|Open a related record's card or list page filtered to the value in the lookup or assist edit field|
|<kbd>Alt</kbd>+<kbd>T</kbd>|Open the **My Settings** page|
|<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>W</kbd>|Open the current card or document in a new window|
|<kbd>Ctrl</kbd>+<kbd>Insert</kbd>|Insert a new line on a document|
|<kbd>Ctrl</kbd>-<kbd>Delete</kbd>|Delete the line on a document, journal, or worksheet|
|<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F12</kbd>|Maximize the line items part on a document page|
|<kbd>Ctrl</kbd>+<kbd>F1</kbd>|Open the help pane or a help article|
|<kbd>Ctrl</kbd>+Click|Navigate when personalizing and customizing|
|<kbd>Ctrl</kbd>+<kbd>O</kbd>|Switch company or environment|
|<kbd>Shift</kbd>+<kbd>F12</kbd>|Open the role explorer, a feature overview|
|<kbd>F5</kbd>/<kbd>Ctrl</kbd>+<kbd>F5</kbd>|Refresh/reload page|
|<kbd>Tab</kbd>/<kbd>Shift</kbd>+<kbd>Tab</kbd>|Move focus to the next/previous element|
|<kbd>F6</kbd>/<kbd>Shift</kbd>+<kbd>F6</kbd>|Move to next FastTab/part|

#### Navigate & select rows

|Select these keys|To do this|
|-|-|
|<kbd>Home/End|Go to first/last field|
|<kbd>Ctrl</kbd>+<kbd>Home</kbd>/<kbd>End</kbd>|Go to first/last row|
|<kbd>Ctrl</kbd>+<kbd>Up</kbd>/<kbd>Down</kbd>|Navigate without losing selection|
|<kbd>Ctrl</kbd>+<kbd>A</kbd>|Select all|
|<kbd>Ctrl</kbd>+<kbd>Space</kbd>|Toggle row selection|
|<kbd>Ctrl</kbd>/<kbd>Shift</kbd>+Click|Add the row/rows to the selection|
|<kbd>Shift</kbd>+<kbd>Up</kbd>/<kbd>Down</kbd>|Add row above/below to selection|
|<kbd>Shift</kbd>+<kbd>Page Up</kbd>/<kbd>Down</kbd>|Select visible rows above/below|
|<kbd>Ctrl</kbd>+<kbd>Enter</kbd>|Focus out of the list|

#### Copy & paste

|Select these keys|To do this|
|-|-|
|<kbd>Ctrl</kbd>+<kbd>C</kbd>/<kbd>V</kbd>|Copy/paste rows|
|<kbd>F8</kbd>|Copy field above into current row|

#### Search, filter, & sort

|Select these keys|To do this|
|-|-|
|<kbd>Alt</kbd>+<kbd>F7</kbd>|Sort column in ascending/descending order|
|<kbd>F3</kbd>|Toggle search|
|<kbd>Shift</kbd>+<kbd>F3</kbd>|Toggle filter pane; focus on field filters|
|<kbd>Alt</kbd>+<kbd>F3</kbd>|Filter on selected cell value|
|<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>F3</kbd>|Add filter on selected field|
|<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>F3</kbd>|Reset filters|

#### Quick entry

|Select these keys|To do this|
|-|-|
|<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>|Go to next Quick Entry field outside a list|
|<kbd>Enter</kbd>/<kbd>Shift</kbd>+<kbd>Enter</kbd>|Go to next/previous Quick Entry field|

##### Report preview

|Select these keys|To do this|
|-|-|
|<kbd>Ctrl</kbd>+<kbd>Home</kbd>/<kbd>End</kbd>|Go to the first/last page|

#### Numeric keypad

|Select these keys|To do this|  
|-|-|
|<kbd>Alt</kbd>+<kbd>Decimal Separator</kbd>|Toggle output of decimal separator key on numeric keypad|

> [!TIP]
> For a graphical, print-friendly version, choose the following image and download the PDF file.
>
> [![Icon that opens a PDF.](media/keyboard_shortcut_inline.png)](media/keyboard-shortcuts-2023.pdf)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-valuation-powerbi-kpis
---
title: Inventory Valuation KPIs and measures (Power BI)
description: The Inventory Valuation App KPIs provides a page to clearly identify all KPIs and Measures used in the Inventory Valuation Report.
author: kennienp
ms.author: kepontop
ms.reviewer: 
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 
ms.date: 11/08/2024
ms.service: dynamics-365-business-central
---

# Power BI Inventory Valuation app KPIs and measures

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

This page provides a list of all Key Performance Indicators (KPIs) included in the semantic model for the Power BI Inventory Valuation report. 

Explore the list of KPIs below to learn more about how they can help you achieve your business goals. 

Each KPI is described, including how it is calculated and what data was used in the calculations.

## Value Entries Table   
- [Beginning Balance G/L](#beginning-balance-gl)
- [Beginning Balance G/L (Expected)](#beginning-balance-gl-expected)
- [Beginning Balance Qty](#beginning-balance-qty)
- [Beginning Balance Value](#beginning-balance-value)  
- [Beginning Balance Value (Expected)](#beginning-balance-value-expected)
- [Beginning Balance Value Expected Cost Included](#beginning-balance-value-expected-cost-included)
- [Beginning Cost Posted to G/L (Expected)](#beginning-cost-posted-to-gl-expected)
- [Cost Amount (Actual)](#cost-amount-actual)
- [Cost Amount (Expected)](#cost-amount-expected)
- [Cost Posted to G/L](#cost-posted-to-gl)
- [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected)
- [Decrease Qty.](#decrease-qty)
- [Decrease Value](#decreases-value)  
- [Decrease Value (Expected)](#decreases-value-expected)
- [Decrease Value Expected Cost Included](#decrease-value-expected-cost-included)
- [Ending Balance Expected Cost Included](#ending-balance-expected-cost-included) 
- [Ending Balance Posted to G/L](#ending-balance-posted-to-gl)  
- [Ending Balance Posted to G/L (Expected)](#ending-balance-posted-to-gl-expected)
- [Ending Balance Qty.](#ending-balance-qty)  
- [Ending Balance Value](#ending-balance-value)
- [Ending Balance Value (Expected)](#ending-balance-value-expected)
- [Ending Cost Posted to G/L (Expected)](#ending-cost-posted-to-gl-expected)
- [Ending Cost Posted to G/L Expected Cost Included](#ending-cost-posted-to-gl-expected-cost-included)
- [Increase Value Expected Cost Included](#increase-value-expected-cost-included)
- [Increases Qty.](#increases-qty)  
- [Increases Value](#increases-value)  
- [Increases Value (Expected)](#increases-value-expected)
- [Invoiced Quantity](#invoiced-quantity)   
- [Net Balance G/L](#net-balance-gl)
- [Net Balance G/L (Expected)](#net-balance-gl-expected)
- [Net Balance Qty](#net-balance-qty)
- [Net Balance Value](#net-balance-value)
- [Net Balance Value (Expected Included)](#net-balance-value-expected-included)
- [Net Balance Value (Expected)](#net-balance-value-expected)
- [Variance](#variance)  
- [Variance Exp](#variance-exp)

### Beginning Balance G/L
**Formula**
- This measure calculates the cumulative [Cost Posted to G/L](#cost-posted-to-gl) for dates before the earliest date in the current context, allowing visibility into costs posted up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance G/L (Expected)
**Formula**
- This measure calculates the cumulative [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected) for dates before the earliest date in the current context, allowing visibility into costs posted up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Qty
**Formula**
- This measure calculates the cumulative [Invoiced Qty](#invoiced-quantity) for dates before the earliest date in the current context, allowing visibility into quantities posted up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Value
**Formula**  
- This measure calculates the cumulative [Cost Amount (Actual)](#cost-amount-actual) for dates before the earliest date in the current context, providing the total value up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Value (Expected)
**Formula**  
- This measure calculates the cumulative [Cost Amount (Expected)](#cost-amount-expected) for dates before the earliest date in the current context, providing the total expected value up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Value Expected Cost Included
**Formula**  
[Beginning Balance Value](#beginning-balance-value) + [Beginning Balance Value (Expected)](#beginning-balance-value-expected)

**Data Sources**
- Value Entry

### Beginning Cost Posted to G/L (Expected)
**Formula**  
- This measure calculates the cumulative [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected) for dates before the earliest date in the current context, providing the total expected cost posted to G/L up to the start of the selected period.

**Data Sources**
- Value Entry

### Cost Amount (Actual)
**Formula**
- This measure calculates the total sum of the Cost Amt. (Actual) column in the Value Entries table.

**Data Sources**
- Value Entry

### Cost Amount (Expected)
**Formula**
- This measure calculates the total sum of the Cost Amt. (Expected) column in the Value Entries table.

**Data Sources**
- Value Entry

### Cost Posted to G/L
**Formula**
- This measure calculates the total sum of the Cost Posted to G/L column in the Value Entries table.

**Data Sources**
- Value Entry

### Cost Posted to G/L (Expected)
**Formula**
- This measure calculates the total sum of the Expected Cost Posted to G/L column in the Value Entries table.

**Data Sources**
- Value Entry

### Decrease Qty.
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Sale, Negative Adjustment, Consumption, or Assembly Consumption. This measure captures quantities associated with these specific entry types that represent decreases in inventory.

**Data Sources**
- Value Entry

### Decreases Value
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Actual) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Sale, Negative Adjustment, Consumption, or Assembly Consumption. This measure reflects the cost associated with these specific entry types that represent decreases in inventory.

**Data Sources**
- Value Entry

### Decreases Value (Expected)
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Expected) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Sale, Negative Adjustment, Consumption, or Assembly Consumption. This measure reflects the expected cost associated with these specific entry types that represent decreases in inventory.

**Data Sources**
- Value Entry

### Decrease Value Expected Cost Included
**Formula**  
[Decrease Value](#decreases-value) + [Decrease Value (Expected)](#decreases-value-expected)

**Data Sources**
- Value Entry

### Ending Balance Expected Cost Included
**Formula**
[Ending Balance Value](#ending-balance-value) + [Ending Balance Value (Expected)](#ending-balance-value-expected)

**Data Sources**
- Value Entry

### Ending Balance Qty.
**Formula**  
[Beginning Balance Qty.](#beginning-balance-qty) + [Net Balance Qty.](#net-balance-qty)

**Data Sources**
- Value Entry 

### Ending Balance Value
**Formula**  
[Beginning Balance Value](#beginning-balance-value) + Net Balance Value

**Data Sources**
- Value Entry

### Ending Balance Value (Expected)
**Formula**  
[Beginning Balance Value (Expected)](#beginning-balance-value-expected) + [Net Balance Value](#net-balance-value)

**Data Sources**
- Value Entry

### Ending Cost Posted to G/L (Expected)
**Formula**
[Beginning Cost Posted to G/L (Expected)](#beginning-cost-posted-to-gl-expected) + [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected)

**Data Sources**
- Value Entry

### Ending Cost Posted to G/L Expected Cost Included
**Formula**
[Ending Balance Posted to G/L (Expected)](#ending-balance-posted-to-gl-expected) + [Ending Balance Posted to G/L](#ending-balance-posted-to-gl)

**Data Sources**
- Value Entry

### Increase Value Expected Cost Included
**Formula**
[Increases Value](#increases-value) + [Increases Value (Expected)](#increases-value-expected)

**Data Sources**
- Value Entry

### Increases Qty.
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Purchase, Positive Adjustment, Output, or Assembly Output. This measure reflects the quantity associated with these entry types that represent increases in inventory.

**Data Sources**
- Value Entry

### Increases Value
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Actual) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Purchase, Positive Adjustment, Output, or Assembly Output. This measure reflects the value associated with these entry types that represent increases in inventory value.

**Data Sources**
- Value Entry

### Increases Value (Expected)
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Expected) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Purchase, Positive Adjustment, Output, or Assembly Output. This measure reflects the expected value associated with these entry types that represent increases in inventory value.

**Data Sources**
- Value Entry


### Ending Balance Posted to G/L
**Formula**  
[Beginning Balance G/L](#beginning-balance-gl) + [Net Balance G/L](#net-balance-gl)

**Data Sources**
- Value Entry

### Ending Balance Posted to G/L (Expected)
**Formula**
[Beginning Balance G/L (Expected)](#beginning-balance-gl-expected) + [Net Balance G/L (Expected)](#net-balance-gl-expected)

**Data Sources**

### Invoiced Quantity
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance G/L 
**Formula**  
- This measure calculates the total sum of the Cost Posted to G/L column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance G/L (Expected)
**Formula**  
- This measure calculates the total sum of the Expected Cost Posted to G/L column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance Qty
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance Value
**Formula**  
- This measure calculates the total sum of the Cost Amount (Actual) column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance Value (Expected Included)
**Formula**  
[Ending Balance Expected Cost Included](#ending-balance-expected-cost-included) - [Beginning Balance Value Expected Cost Included](#beginning-balance-value-expected-cost-included)

**Data Sources**
- Value Entry

### Net Balance Value (Expected)
**Formula**  
- This measure calculates the total sum of the Cost Amount (Expected) column from the Value Entries table.

**Data Sources**
- Value Entry

### Variance
**Formula**  
[Ending Balance Posted to G/L](#ending-balance-posted-to-gl) - [Ending Balance Value](#ending-balance-value)

**Data Sources**
- Value Entry

### Variance Exp
**Formula**  
[Ending Cost Posted to G/L Expected Cost Included](#ending-cost-posted-to-gl-expected-cost-included) - [Ending Balance Expected Cost Included](#ending-balance-expected-cost-included)

**Data Sources**
- Value Entry

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]


## Related information

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory Valuation app](inventory-valuation-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-share-data-features
---
title: Sharing Data
description: Learn about the different ways to share business data from Business Central. 
author: jswymer
ms.topic: concept-article
ms.search.keywords:
ms.date: 09/21/2022
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Sharing Business Data from Business Central

Collaboration among people inside and outside an organization is integral part of most businesses. [!INCLUDE[prod_short](includes/prod_short.md)] offers several features for sharing business data, like a list of records, specific records, or documents. <!--, with others&mdash;even those people who don't have a Business Central license in some cases.-->

With all these features, access to data is protected by the license and permissions of Business Central.

## Copying a link

![Supported](media/check.png) Business Central Online ![Supported](media/check.png) Business Central On-premises

From any page, you can copy the page's URL, then paste and distribute it in other forms of media like emails, Teams chats, or text messages. The easiest way to copy a link is by selecting **Share** > **Copy Link** from the top of the page. Another way is to copy the URL directly from the browser's address box.

When you paste the URL into a rich text editor like Word, Outlook, or Teams, instead of displaying the full URL, the link is given a more readable name that clearly indicates context of the target. The name and pattern vary depending on what page you're linking to. Consider the following examples:

|Pattern|Page example|Link name|
|-|-|-|
|List pages|**Items** list page | **Items**|
|List view|	**Open** filtered view on **Sales Orders** list|**Sales Orders - Open**|
| Single record|Item card showing single record|"Item Card - 1896 âˆ™ ATHENS Desk"|
|Draft records|	New customer card|**New - Customer card**|
|Company that uses badge|**Items** list page for company with badge **CRONUS**| **Items (CRONUS)**|

> [!TIP]
> A similar naming convention is used on browser tabs.

### Share data analysis
If you're viewing a page or query in the data analysis mode, you can share a specific analysis tab by selecting the down arrowhead on the tab, and then selecting **Copy link**. [Learn more about data analysis mode](analysis-mode.md). 

### Modify the page link

After you copy a link, before you send it, you can modify the URL to manipulate what shows when the page opens. You can, for example, add filters or specify a different company.

[Learn more about the web client URL](/dynamics365/business-central/dev-itpro/developer/devenv-web-client-urls).

### About filtered lists

Using the filter pane on list pages, you can apply filters to narrow-down the records shown in the list. If you use the **Copy Link** action or copy the URL from the browser, the page link won't include your filter changes. Users that open the link see the full collection. The way to keep the filtering on a collection page link is to save the filtered page as a **View** first. Then, open the view and copy the link from there.

[Learn more about sorting, searching, and filtering](ui-enter-criteria-filters.md).

## Sharing to Teams

![Supported](media/check.png) Business Central Online ![Not Supported](media/x-icon.png) Business Central On-premises

Directly from most collection pages and details pages, you can send a link to the page to people, group chats or channels. For example, share a link to a filtered view of your records. If you've installed the [!INCLUDE[prod_short](includes/prod_short.md)] app for Teams, the link will automatically expand into a compact card for you to include with your message. Recipients then select the link or card to open the page in Business Central.

[Learn more about sharing records and page links in Teams](across-working-with-teams.md).

## Sharing Through OneDrive

![Supported](media/check.png) Business Central Online ![Supported](media/check.png) Business Central On-premises

Business Central makes it easy to store, manage, and share files with other people through OneDrive for Business. On most pages where files are available, such as the Report Inbox or files that are attached to records, you find the **Open in OneDrive** and **Share** actions. Both actions save a copy of a file to OneDrive. Once in OneDrive, you can use its sharing and contribution features on the file. The difference in the actions is that **Open in OneDrive** opens the file in OneDrive. **Share** opens a page the let's you select who you want to share the file with. Recipients get a notification email to access the file from your OneDrive.

[Learn more about sharing files in OneDrive](across-share-onedrive.md).

## Opening in Excel

![Supported](media/check.png) Business Central Online ![Supported](media/check.png) Business Central On-premises

For list pages and lists embedded on a page, you can use the **Open in Excel** action. This action exports the list of records to an Excel workbook (.xlsx file), which you can share with others. In the workbook, you can also use the Share feature that's part of Excel.

[Learn more about viewing and editing in Excel](across-work-with-excel.md).

## Sharing rows or tables

![Supported](media/check.png) Business Central Online ![Supported](media/check.png) Business Central On-premises

You can share one or more records in a list. Just select the <kbd>Ctrl</kbd>+<kbd>C</kbd> keyboard shortcut to copy to your clipboard. Then paste what you copied into another application by pressing <kbd>Ctrl</kbd>+<kbd>V</kbd>. For example, copying three sales orders and pasting that into an email will display the orders in a nicely formatted table.

[Learn more about copy and paste in theFAQ](faq-copy-paste.yml).

## Related information

[Business Central and OneDrive Integration](across-onedrive-overview.md)  
[Managing OneDrive Integration with Business Central](admin-onedrive-integration.md)  
[OneDrive FAQ](admin-onedrive-faq.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-setting-up-and-using-a-purchase-approval-workflow
---
title: Set up and use a purchase approval workflow
description: This walkthrough takes you through all the stages involved in setting up and using a purchase approval workflow in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Walkthrough: Set up and use a purchase approval workflow

You can automate the process of approving new or changed records, such as documents, journal lines, and customer cards, by creating workflows with steps for the approvals in question.

Before you create approval workflows, you must set up an approver and substitute approver for each approval user. To define which sales and purchase records they're qualified to approve, you can also set amount limits for approvers. Approval requests and other notifications can be sent as emails or internal notes. For each approval user setup, you can also set up when they receive notifications.

> [!NOTE]
> In addition to the workflow functionality in [!INCLUDE[prod_short](includes/prod_short.md)], you can use Power Automate to define workflows for events in [!INCLUDE[prod_short](includes/prod_short.md)]. Note that although they're two separate workflow systems, any flow template that you create with Power Automate is added to the list of workflow templates in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more at [Use Business Central in an Automated Workflow](across-how-use-financials-data-source-flow.md).  

You can set up and use workflows that connect business-process tasks performed by different users. System tasks, such as automatic posting, can be included as steps in workflows, preceded or followed by user tasks. Requesting and granting approval to create new records are typical workflow steps. Learn more at [Workflow](across-workflow.md).  

## About this walkthrough

This walkthrough is a scenario illustrating the following tasks:  

- Setting up approval users  
- Setting up notifications for approval users  
- Modifying and enabling an approval workflow  
- Requesting approval of a purchase order (as Alicia)  
- Receiving a notification and then approving the request (as Sean)  

## Story

Sean is a super user at CRONUS and creates two approval users. One is Alicia who represents a purchasing agent. The other is Sean themself, representing Alicia's approver. Sean then gives themself unlimited purchase approval rights and specifies that they'll receive notifications by internal note as soon as a relevant event occurs. Finally, Sean creates the required approval workflow as a copy of the existing *Purchase Order Approval Workflow* template, leaves all existing event conditions and response options unchanged, and then enables the workflow.  

To test the approval workflow, Sean signs in to [!INCLUDE[prod_short](includes/prod_short.md)] as Alicia and then requests approval of a purchase order. Sean then signs in as themself, finds the note in the Role Center, follows the link to the approval request for the purchase order, and approves the request.  

## Users

Before you can set up approval users and their notification method, you must make sure that those users exist in [!INCLUDE[prod_short](includes/prod_short.md)]: One user will represent Alicia. The other user, yourself, will represent Sean. Learn more at [Create Users According to Licenses](ui-how-users-permissions.md).

### Set up approval users

When signed in as yourself, set up Alicia as an approval user whose approver is yourself. Set up your approval rights and specify how and when you're notified of approval requests.  

#### To set up yourself and Alicia as approval users

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Approval User Setup**, and then choose the related link.  
2. On the **Approval User Setup** page, choose the **New** action.  

    > [!NOTE]  
    > You must set up an approver before you can set up users who require that approver's approval. That means you must set yourself up before you can set Alicia up.  

3. Set up the two approval users by filling the fields as described in the following table.  

    |User ID|Approver ID|Unlimited Purchase Approval|  
    |-------|-----------|---------------------------|  
    |YOU||Selected|
    |ALICIA|YOU||

### Set up notifications

In this walkthrough, the user is notified by an internal note about requests to approve. Approval notifications can also be sent by email, and you can add a workflow response step that notifies the sender when a request is approved or rejected. Learn more at [Specify When and How to Receive Notifications](across-how-to-specify-when-and-how-to-receive-notifications.md).

#### To set up how and when you're notified

1. On the **Approval User Setup** page, select the line for yourself, and then choose the **Notification Setup** action.  
2. On the **Notification Setup** page, in the **Notification Type** field, choose **Approval**.  
3. In the **Notification Method** field, choose **Note**.  
4. On the **Notification Setup** page, choose the **Notification Schedule** action.  
5. On the **Notification Schedule** page, in the **Recurrence** field, select **Instantly**.  

## Create the approval workflow

Create the purchase order approval workflow by copying the steps from the **Purchase Order Approval Workflow** template. Leave the existing workflow steps unchanged, and then enable the workflow.  

> [!TIP]
> Optionally, add a workflow response step to notify the sender when their request is approved or rejected. Learn more at [Specify When and How to Receive Notifications](across-how-to-specify-when-and-how-to-receive-notifications.md).

### To create and enable a purchase order approval workflow

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, then choose the related link.  
2. On the **Workflows** page, select **Actions**, then select **New**, and then choose the **New Workflow from Template** action.  
3. On the **Workflow Templates** page, select the workflow template named **Purchase Order Approval Workflow**.  

   The **Workflow** page opens for a new workflow containing all the information of the selected template. The value in the **Code** field is extended with *-01* to indicate this is the first workflow created from the **Purchase Order Approval Workflow** template.  
4. On the header of the **Workflow** page, turn on the **Enabled** toggle.  

## Use the approval workflow

Use the new Purchase Order Approval Workflow by first signing in to [!INCLUDE[prod_short](includes/prod_short.md)] as Alicia to request approval of a purchase order. Then sign in as yourself, view the note on the Role Center, follow the link to the approval request, then approve the request.  

### To request approval of a purchase order, as Alicia

1. Sign in as Alicia.
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, then choose the related link.  
3. Select the line to open *Purchase Order 106001*.  
4. On the **Purchase Order** page, choose **Actions**, then **Request Approval**, and then choose the **Send Approval Request** action.  

Notice that the value in the **Status** field has changed to **Pending Approval**.  

### To approve the purchase order, as Sean

1. Sign in as Sean.
2. On the Role Center, in the **Self Service** area, choose **Requests to Approve**.
3. On the **Requests to Approve** page, select the line about the purchase order from Alicia, then choose the **Approve** action.  

The value in the **Status** field on Alicia's purchase order changes to **Released**.  

You have now set up and tested a simple approval workflow based on the first two steps of the **Purchase Order Approval Workflow**. You can easily extend this workflow to automatically post Alicia's purchase order when Sean approves it. To do this, you must enable the **Purchase Invoice Workflow**, so the response to a released purchase invoice is to post it. First you must change the event condition on the first workflow step from (purchase) **Invoice** to **Order**.  

The generic version of [!INCLUDE[prod_short](includes/prod_short.md)] includes many workflow templates for scenarios that are supported by the application code. Most of these templates are for approval workflows.  

You define variations of workflows by filling in fields on workflow lines using fixed lists of event and response values representing scenarios that are supported by the application code. Learn more at [Create Workflows](across-how-to-create-workflows.md).  

[!INCLUDE[workflow](includes/workflow.md)]

## Related information

[Set Up Approval Users](across-how-to-set-up-approval-users.md)  
[Setting Up Workflow Notifications](across-setting-up-workflow-notifications.md)  
[Create Approval Workflows](across-how-to-create-workflows.md)  
[Use Approval Workflows](across-how-use-approval-workflows.md)  
[Workflow](across-workflow.md)  
[Use Business Central in an Automated Workflow](across-how-use-financials-data-source-flow.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-change-basic-settings
---
title: Change basic settings for the current user
description: Learn how to change some basic settings in Business Central, for example, your role and Role Center, company, work date, and time zones.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: change Role Center, notification, change company, change work date, decimal separator
ms.search.form: 9022, 9019, 9027, 9020, 9026, 9030, 9000, 9009, 9004, 9005, 9006, 9007, 9010, 9016, 9017, 3563_Primary, 9024_Primary
ms.date: 03/26/2025
ms.service: dynamics-365-business-central
---
# Change basic settings

Use the **My Settings** page to manage basic settings for your [!INCLUDE[prod_short](includes/prod_short.md)]. The changes you make only affect your workspace, not the workspaces of other users.  

[!INCLUDE [about-ui-learn](includes/about-ui-learn.md)]

## <a name="role-center"></a>Role

The role determines the home page, a starting screen that is designed for the needs of a specific role in an organization. Depending on your role, the home page, or Role Center, gives you an overview of the business, your department, or your personal tasks. It also helps you go to your daily tasks and find work that's assigned to you.

* At the top of your home page, you can switch between customers, vendors, items, and other important lists of information. Similarly, actions allow you to initiate tasks, such as creating a new sales invoice, directly from the home page.

* In the center, you find the **Activities** area, which shows current data and can be selected to view more detailed information. Key performance indicators (KPIs) can be set up to display a selected chart for a visual representation of, for example, cash flow or income and expenses. You can also build up a list of favorite customers on the home page for business accounts that you do business with often or need to pay special attention to.

### Change the role

The default role is **Business Manager**, but you can select another role to use a role center that fits your needs better.  

1. In the top right corner, choose the **Settings** icon ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center"), and then choose the **My Settings** action.
2. On the **My Settings** page, in the **Role** field, select the role that you want to use by default. For example, select **Accountant**.
3. Choose **OK**.

## <a name="company"></a>Company

A company functions as a container for data in [!INCLUDE[prod_short](includes/prod_short.md)]. There can be multiple companies in a database, but only one can be selected at a time. The default company is called CRONUS and contains demonstration data only.

The **Company** field shows the company you're currently working in, and you can use it to switch to another company. The company name is always displayed at the upper-left corner and works as an action that you can choose to go back to the Role Center.

> [!TIP]
> You can also change the company by using the company switcher (Crtl+O). For more information about about this feature and other ways to change company or environment, see [Switching to Another Company or Environment](ui-organization-switch.md).

The default company is called CRONUS and contains demonstration data only. You can create a new company with custom data. For more information, see [Creating New Companies](about-new-company.md).

<!--
### To change the company name

The company name is always displayed at the top left corner and works as an action that you can choose to go back to the Role Center. You can change this name on the **Company Information** page.

1. Choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) icon, and then choose the **Company Information** action.
2. In the **Name** field, enter the new company name.
3. Leave the page. The system restarts and displays the new company in the top-left corner.

### <a name="badge"></a>To display a company badge for quick access to company information

You can add a customized badge in the top-right corner, which you can choose to quickly view company name and tenant information in a pop-up box. The company badge is also useful when [!INCLUDE[prod_short](includes/prod_short.md)] is embedded in another application, like Microsoft Teams or in some other web application. In these cases, because the [!INCLUDE[web_client](includes/web_client.md)] displays less surrounding contextual information, the company badge serves as the only way to determine which company or environment a record belongs to.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Company Information**, and then choose the related link.
2. On the **Company Badge** FastTab, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)].

> [!NOTE]
> If a company badge is defined, then you cannot change the company name as described in [To change the company name](ui-change-basic-settings.md#to-change-the-company-name)-->

## <a name="work-date"></a>Work date

The most commonly used work date is today's date. You might have to temporarily change the work date to be able to perform tasks, such as completing transactions for a date that isn't today.

> [!TIP]  
> In all date fields, type **t** to quickly enter today's date, and type **w** to quickly enter the work date, which is the value in the **Work Date** field on the **My Settings** page.

> [!IMPORTANT]  
> After you change the work date, if you sign out or switch to another company, the work data reverts to the default work date. So the next time you sign in or switch back to the original company, you may have to set the work date again.

### Work date indication

The work date is critical on pages that can be edited. Whenever the work date isn't set to today's date on an editable page, then two types of indicators appear on the page:

* A reminder appears at the top of the page that tells you what the work date is set to. The reminder provides a direct link to the work date setting on the **My Settings** page so you change the date if you want. From the reminder, you can also choose to dismiss the reminder for the rest of your session. Unless you change the work date to "today," the reminder will appear the next time you sign in.

* If you dismiss the reminder, the work date appears in the title of the page.  

If the work date isn't set to the current day (today), then on all pages where you can edit data, the current work date appears in the upper-left corner.

## <a name="region"></a> Region

The **Region** setting determines how dates, times, numbers, and currencies are shown or formatted. It also determines what character is used as the decimal separator when using a numeric keyboard to enter data. Learn more at [Entering Data](ui-enter-data.md#decimal).

## <a name="language"></a> Language

Changes the display language. This field appears only when there's more than one language to choose from.

When you sign up for [!INCLUDE[prod_short](includes/prod_short.md)], your administrator or your browser settings determine the initial language. The language that you set is used on all devices that you sign in from, such as a phone or tablet.

You can install more languages for [!INCLUDE[prod_short](includes/prod_short.md)] from AppSource. While all supported display languages are shown in the list, the administrator must install the relevant language app to the tenant before users can switch to the new language in [!INCLUDE[prod_short](includes/prod_short.md)].  

> [!NOTE]
> On the **Allowed Languages** page, administrators can modify the list of languages that shows when people select their language and region. Administrators can show only the languages for which they know a language app is installed. Keeping the list of languages short and accurate makes it easier for people to choose a supported language. To learn more about allowed languages, go to [Specify the languages that are available in your Business Central environment](admin-allowed-languages.md).

## Time zone

Defines the time zone where you're located. When you first sign into [!INCLUDE [prod_short](includes/prod_short.md)], the time zone is set based on your company's address. Change it if it doesn't fit your physical location.  

## Notifications

Choose the **Change when I receive notifications** link to manage the notifications that you get about certain events or status changes. For example, such as when you're about to invoice a customer who has an overdue balance, or the available inventory is lower than the quantity you're about to sell. Learn more at [Managing Notifications](ui-smart-notifications.md).

## Teaching tips

[!INCLUDE [ua-teachingtips](includes/ua-teachingtips.md)]

## Related information

[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Which Features are Displayed](ui-experiences.md)  
[Creating New Companies](about-new-company.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-archive-documents
---
title: Archive sales, purchase, project, and service documents
description: You can archive orders, quotes, return orders, and blanket orders.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 12/09/2024
ms.custom: bap-template
ms.search.form: 42, 49, 50, 459, 460, 5159, 5162, 5164, 5167, 6627, 6630, 6644, 9305, 9306, 9346, 9347, 9348, 9349
ms.service: dynamics-365-business-central
---
# Archive documents

You can archive sales, purchase, and service orders, quotes, return orders, and blanket orders. If you're using Project Management features, you can also archive your projects. You can archive documents and projects several times. A different archived version saves each time.

For sales documents, if the original still exists and isn't posted, you can use the **Restore** action to overwrite it with an archived version.

> [!NOTE]
> You can only restore sales documents and projects. The action isn't available for archived purchase documents.

For archived documents where the original is deleted, you can reuse the content by copying the data, for example, by using the **Copy from Document** action.  

To explore archived documents, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Archive**, and then choose the related link. If the archive you're interested in doesn't display right away in the **Go to Reports and Analysis** section, you might need to choose **Show more**.

## To set up automatic document archiving

You can automate archiving to create a new version of the archived document when someone does the following things:

* Changes the status or deletes a document or project.
* Prints, downloads, or sends a document by email.
* Converts a quote to an order or invoice.
* Posts an order.

The following steps describe how to set up automatic archiving of sales documents from the **Sales & Receivables Setup** page. The steps are similar for purchase documents and projects.

* For purchase documents, use the **Purchase & Payables** page.
* For projects, use the **Project Setup** page.
* For services, use the **Service Management Setup** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.
2. On the **Archiving** FastTab, specify whether to turn on automatic archiving for the various types of sales documents. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

The following table describes the options for the **Archive Quotes** field.

|Option|Description|
|------|-----------|
|**Never**| Don't archive sales quotes when they're deleted.|
|**Question**|Prompt the user to choose whether to archive sales quotes when they're deleted.|
|**Always**|Archive a sales quote automatically when you delete it.|

## To manually archive a sales order

The following procedure describes how to manually archive a sales order. The steps are similar for all documents and projects that you can archive.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Open a sales order that you want to archive.  
3. Choose the **Archive Document** action.

The sales order is archived. You can view it on the **Archived Sales Orders** page.

## To restore a nonposted sales document or a project from the archive

You can restore documents only if the original document isn't posted.

The following procedure describes how to restore an archived sales order to the original sales order. The steps are similar for all orders, blanket orders, return orders, and quotes.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Order Archives**, and then choose the related link.
2. Select the archived sales order, or version of it, that you want to restore, and then choose the **Restore** action.  

The contents of the original sales order or project are replaced with the archived version.

## To delete archived versions

Use a retention policy to clean up archived versions that you no longer need. Retention policies let administrators define how long they want to store data. For example, they can set up a policy that deletes data after an expiration date. To learn more, go to [Define Retention Policies](admin-data-retention-policies.md).

There are a few things to note about creating retention policies for archived documents and projects:

* If the original document isnâ€™t deleted, [!INCLUDE [prod_short](includes/prod_short.md)] you canâ€™t delete the archived versions. Archived versions donâ€™t expire as long as the original exists.
* When you set up the retention policy, you can specify that you want the policy to delete all archived versions except the most recent. For example, you might have 10 versions and want to keep a copy of the latest. 
* [!INCLUDE [prod_short](includes/prod_short.md)] calculates the expiration date for documents based on the date of the most recent archived version.

## Related information

[Track Document Lines](across-how-to-track-document-lines.md)  
[Sales](sales-manage-sales.md)  
[General Business Functionality](ui-across-business-areas.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-automate-reminders
---
title: Automate reminders in collections
description: Save time in collections by automating the processes of creating, issuing, and sending reminders to customers.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: collection, remindes
ms.search.form: 
ms.date: 03/12/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Automate reminders in collections

Make your collections more effective by automating the process of creating, issuing, and sending reminders to your customers. Automation can significantly reduce the time you spend on collections, provide a better overview of the process, and give you full control over each step.

On the **Reminder Automation** page, you define the individual actions (steps). You can combine the steps to create, issue, and send reminders, or you can create a separate automation for each step if that's better for your collection processes. Automations are based on reminder terms and reminder levels. To learn more, go to [Set Up Reminder Terms and Levels](finance-setup-reminders.md). You can set filters for reminder terms for an automation as a whole, and set filters for each action in the automation. You can also attach outstanding invoices to emails as PDF files.

Automation happens through a job queue entry. When you set up an automation, use the **Cadence** field to specify how and when it runs. If you choose **Manual**, the automation runs one time when you use the **Start** action. You can also choose **Weekly**, **Monthly**, or choose **Custom** to set up a more detailed cadence. If you choose **Custom**, you must enter a date formula. To learn more about entering a date formula, go to [Use Date Formulas](ui-enter-date-ranges.md#use-date-formulas). When you choose an option other than **Manual**, the automation runs until you pause it to put it on hold. If you want to be even more specific about when it runs, use the **Job queue entries** action to open the **Job Queue Entries** page and adjust the recurrence, for example to daily or a specific weekday.

## Automate the reminders flow

The following sections describe how to set up reminders to create, issue, and send automatically.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Reminders Automation**, and then choose the related link.
1. Choose **New**, and then fill in the fields on the **General** FastTab.
1. In the **Reminder Terms Filter** field, choose the reminder term or terms to use this automation for.
1. In the **Cadence** field, choose how often the automation runs.
1. On the **Actions** FastTab, choose **New**, and then choose whether the automation creates, issues, or sends reminders. Choose **OK**.
1. Depending on the type of action the automation performs, fill in the fields as necessary on the setup page. To learn more about the settings, go to [Settings for reminder actions](#settings-for-reminder-actions).
1. After you set up the actions for the automation, you can use the **Move up** and **Move down** actions to adjust the order in which they run.

## Settings for reminder actions

The setup settings differ for the Create, Issue, and Send reminder actions. The following sections describe how to use them.

### Create

* Set the highest level on all reminder lines.  
* Create reminders for entries that are on hold. For example, this setting is useful if you're in an ongoing dispute with a customer and want them to see the big picture.
* Create reminders for all unpaid invoices, and not just invoices that are overdue. The report displays overdue invoices and invoices that are unpaid but not overdue in separate sections.
* Set filters to make the reminder more specific.

### Issue

When you issue a reminder, you create entries in the customer ledger that contain the posting date and tax date. Use the settings on the **Issue Reminders Setup** page to specify whether to replace that information on the issued reminder with the information from the created reminder. For example, if you created the reminder yesterday, and issue it today, the due date moves one day.

### Send

> [!NOTE]
> The Send automation requires that you've set up email in [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more about setting up email, go to [Set up email](admin-how-setup-email.md).

The content of the emails, such as attachment texts, email body texts, and language come from the setup for the reminder term. To learn more about email settings, go to [Set Up Reminder Terms and Levels](finance-setup-reminders.md).

Use the settings on the **Send Reminders Setup** page control the following:

* General settings, such as the description, and how many times you send the same reminder.
* Settings for what to include in the reminder.
* Settings for tracking the reminders you send by creating interactions, whether you print or send the reminder by email, and whether you want to attach overdue invoices only, all invoices, or no invoices. 

## Access the history of a reminder

[!INCLUDE [prod_short](includes/prod_short.md)] keeps track of each time an automation runs. You can access the history by choosing the **Log entries** action. You can also use the **Issued Reminders** action to access a list of the reminders you've issued.

## Handle errors

On the **Actions** FastTab, for each action you can specify whether you want the automation to stop if the action has an error. If you do, the automation won't process the actions that come afterward. To turn this feature on or off, use the **Set stop on error** or **Clear stop on error** actions.

## Change action settings for an automation

You can change settings for an automation at any time. On the **Actions** FastTab, choose **Setup**, and then make your changes.

## Related information

[Set Up Reminder Terms and Levels](finance-setup-reminders.md)  
[Send Reminders of Outstanding Balances](receivables-send-reminders.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-processing-sales-opportunities
---
title: Process Sales Opportunities in Sales Cycles
description: This topic describes the different ways you can process sales opportunities in sales cycles and move an opportunity through the stages of a sales cycle.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: how-to
ms.search.keywords: relationship, prospect
ms.date: 12/28/2023
ms.custom: bap-template

ms.service: dynamics-365-business-central
---
# Process Sales Opportunities

After you create an opportunity, there are several features for managing the opportunity and moving it through to completion.

## View opportunities

Existing sale opportunities are available on the **Opportunity List** page. The following table describes ways to access the page to process sales opportunities.

| To view opportunities for | Then |
| --- | --- |
| All salespeople and contacts |Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Opportunity List**, and then choose the related link. |
| A specific sales person |Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Salespeople**, and then choose the related link. Select the salesperson, choose the **Opportunities** action, and then choose the **List** action. |
| A specific contact |Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Contacts**, and then choose the related link. Select the contact from the list, and then choose the **Opportunities** action. |

Each of these tasks opens the **Opportunity List** page.

## Close opportunities

You can close opportunities when the negotiations are over. When you close an opportunity, you can specify whether it was won or lost, and the reasons for closing it. To specify a reason, you must set up closed opportunity codes.

1. On the **Opportunity List** page, select the opportunity, and the choose the **Close** action. The **Close Opportunity** page opens.
2. Fill in the relevant fields, and then choose the **OK** button.

   The **Close Opportunity Code** and **Date Closed** fields are required fields and must be filled in before you can choose the **OK** button.

   In the **Close Opportunity Code** field, you can choose from one of the existing close opportunity codes or add a new code. To add a new code, from the drop-down list, choose **Select from full list**, and then choose **new**. On the new blank line, fill in the **Code**, **Type**, and **Description** fields, and then choose the **OK** button.

## Create quotes for opportunities

> [!NOTE]
> You can only create sales quotes from opportunities where the contact type is Company.

1. On the **Opportunity List** page, select the opportunity, and then choose the **Assign Sales Quote** action. The **Sales Quote** page opens.
2. Fill in the relevant fields.

## Create sales orders for opportunities

You can make sales orders from the sales quotes that you have created for your opportunities. Before you can create sales orders for your contacts, you must create the contact as a customer. For more information, see [Create Contacts](marketing-create-contact-companies.md).

1. On the **Opportunity List** page, find the opportunity that you have created a sales quote for.
2. Choose the **Assign Sales Quote** action. The **Sales Quote** page opens to show the sales quote that you have assigned to the opportunity.
3. Fill in the additional fields, and then choose the **Make Order** action.

When handling sales opportunities, you may need to create a quote for the contact that the opportunity is linked to.

## Delete opportunities

You can delete opportunities, for example, after you conclude a deal. However, you can only delete closed opportunities. There are two ways to delete closed opportunities. You can delete individual closed opportunities from the **Opportunity List** page or you can run the **Delete Opportunities** batch job to delete multiple opportunities based on specified criteria.

To delete closed opportunities from the **Opportunity List** page, select the opportunity, and then choose the **Delete** action.

To delete closed opportunities by using the **Delete Opportunities** batch job, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Data Administration**, and then choose the related link.
2. Choose the **Delete Opportunities** action, and then set the filters that specify the closed opportunities to delete.
3. Choose the **OK** button.

After you delete an opportunity, it's removed it from the **Opportunity List** page.

## Move an opportunity through sales cycle stages

If an opportunity follows a sales cycle, you can move it to the next or previous stage, and even skip a stage.

1. On the **Opportunity List** page, choose the **Update** action. The **Update Opportunity** opens,
2. Use the **Action Type** field to move the opportunity through the sales cycle stages:
   * **Next** moves the opportunity forward one stage.
   * **Skip** moves the opportunity forward one or several stages in the sales cycle, which you specify in the **Presentation** field. You can only skip stages that have been set up to allow skipping.
   * **Previous** moves the opportunity back one stage.
   * **Jump** moves the opportunity back one or several stages in the sales cycle, which you specify in the **Presentation** field.
   * **Update** enables you to change information (such as to modify your evaluation of their chances of success and estimated values) without moving to another stage.
3. Fill in the other fields as needed, and then choose the **OK** button.

## Related information

[Sales](sales-manage-sales.md)  
[Creating and Managing Contacts](marketing-contacts.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-responsibility-centers
---
title: How to work with responsibility centers
description: Responsibility center as administrative centers help companies set up user-specific views of sales and purchase documents related exclusively to each center.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.forms: 5714, 5715
ms.date: 05/16/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Work with responsibility centers

Responsibility centers provide the ability to handle administrative centers. A responsibility center can be a cost center, a profit center, an investment center, or other company-defined administrative center. Examples of responsibility centers are a sales office, a purchasing department for several locations, and a plant planning office. For example, companies can set up user-specific views of sales and purchase documents related to a particular responsibility center.  

Using multiple locations together with responsibility centers provides the ability to manage business operations in flexible, optimal ways.

Multiple locations allow companies to manage their inventory in multiple locations using one database. Two concepts, locations and stockkeeping units, are the cornerstones of this granule. A location is defined as a place that handles physical placement and quantities of items. The concept is broad enough to include locations such as plants or production facilities and distribution centers, warehouses, showrooms, and service vehicles. A stockkeeping unit is defined as an item at a specific location and/or as a variant. Using stockkeeping units, companies with multiple locations can add replenishment information, addresses, and some financial posting information at the location level. As a result, they can replenish variants of the same item for each location and order items based on location-specific replenishment information.  

## To set up a responsibility center

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Responsibility Centers**, and then choose the related link.  
2. Choose the **New** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

    If you're using responsibility centers to administer your company, it can be useful to have a default responsibility center.
4. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Company Information**, and then choose the related link.
5. On the **Shipping** FastTab, in the **Responsibility Center** field, enter a responsibility center code.

This code is used on all purchase, sales, or service documents, if the user, customer, or vendor has no default responsibility center. On sales, purchase, or service documents, you can enter another responsibility center than the default.

> [!NOTE]  
> When you enter a responsibility center code on a document, it affects the address, dimensions, and prices on the document.  

## To assign responsibility centers to users

You can set up users so that [!INCLUDE [prod_short](includes/prod_short.md)] retrieves only the documents relevant for their particular work areas. Users are associated with one responsibility center and work only with documents related to specific application areas at that particular center.  

To set this up, you assign responsibility centers to users in three functional areas: Purchases, Sales, and Service Management.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then choose the related link.  
2. On the **User Setup** page, select the user you want to assign a responsibility center to. If the user not is on the list, you must enter a user ID in the **User ID** field.  
3. In the **Sales Resp. Ctr. Filter** field, enter the responsibility center where the user will have tasks related to sales.  
4. In the **Purchase Resp. Ctr. Filter** field, enter the responsibility center where the user will have tasks related to purchasing.  
5. In the **Service Resp. Ctr. Filter** field, enter the responsibility center where the user will have tasks related to service management.  

> [!NOTE]  
> Users can view only those posted documents that related to their own responsibility center. However, they can view all ledger entries and navigate to other posted documents from the ledger entries.

## Related information

[Setting Up Inventory](inventory-setup-inventory.md)    
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)    
[Inventory](inventory-manage-inventory.md)    
[Warehouse Management Overview](design-details-warehouse-management.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    
[Define an invoice posting policy for users](admin-setup-invoice-posting-policy.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/manufacturing-powerbi-work-center-load
---
title: Work Center Load
description: The Work Center Load report shows the load and the allocated capacity of each work center.
author: kennienp
ms.author: kepontop
ms.reviewer:
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 37042_Primary
ms.date: 11/01/2024
ms.service: dynamics-365-business-central
---

# Work Center Load (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Work Center Load** report measures the load and the allocated capacity of each work center. Use this report to ensure that work centers aren't overloaded.

:::image type="content" source="media/manufacturing/work-center-load-v26.png" alt-text="Screenshot of the Work Center Load Power BI Report" lightbox="media/manufacturing/work-center-load-v26.png":::

## Use the report

The report is meant for manufacturing managers and supervisors.

Manufacturing managers use this report to ensure that loads on work centers don't exceed their available capacity. By analyzing the load percentage and allocated time, you can identify overloaded work centers and take steps to reduce the workload. For example, you might adjust the production schedule or allocate more resources to a particular work center. Additionally, by monitoring the work center load, you can ensure room for contingencies in cases where a work center is loaded to 100%.

Production supervisors use this report to analyze the load percentage and allocated time for work center loads and report them to the manufacturing manager. This information helps ensure that the workload is distributed evenly across all work centers so production runs smoothly.

## Key Performance Indicators (KPIs)

The *Work Center Load* report includes the following KPIs and measures:

- [Work Center Capacity Total](manufacturing-powerbi-kpis.md#work-center-capacity-total)
- [Work Center Capacity Effective](manufacturing-powerbi-kpis.md#work-center-capacity-effective)
- [Work Center Allocated Time](manufacturing-powerbi-kpis.md#work-center-allocated-time)
- [Work Center Load](manufacturing-powerbi-kpis.md#work-center-load)
- [Work Center Availability After Orders](manufacturing-powerbi-kpis.md#work-center-availability-after-orders)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)]

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Calendar Entry
- Prod Order Capacity Need
- Production Order
- Work Center
  
## Try the report

Try the report here: [Work Center Load](https://businesscentral.dynamics.com?page=37042)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Manufacturing app](manufacturing-powerbi-app.md)  
[Built-in production reports](production-reports.md)  
[Manufacturing overview](production-manage-manufacturing.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-item-tracking-availability
---
title: Design Details - Item Tracking Availability
description: The Item Tracking Lines and Item Tracking Summary pages provide dynamic availability information for serial or lot numbers, increasing transparency for users.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/15/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Item Tracking Availability
The **Item Tracking Lines** and **Item Tracking Summary** pages provide dynamic availability information for serial or lot numbers. The purpose of this is to increase transparency for users on outbound documents, such as sales orders, by showing them which serial numbers or how many units of a lot number are currently assigned on other open documents. This reduces uncertainty that is caused by double allocation and instills confidence in order processors that the item tracking numbers and dates that they are promising on unposted sales orders can be fulfilled. For more information, see [Design Details: Item Tracking Lines Page](design-details-item-tracking-lines-window.md).  

 When you open the **Item Tracking Lines** page, availability data is retrieved from the **Item Ledger Entry** table and the **Reservation Entry** table, with no date filter. When you choose the **Serial No.** field or the **Lot No.** field, the **Item Tracking Summary** page opens and shows a summary of the item tracking information in the **Reservation Entry** table. The summary contains the following information about each serial or lot number on the item tracking line:  

|Field|Description|  
|---------------------------------|---------------------------------------|  
|**Total Quantity**|The total quantity of the serial or lot number that is currently in inventory.|  
|**Total Requested Quantity**|The total quantity of the serial or lot number that is currently requested in all documents.|  
|**Current Pending Quantity**|The quantity that is entered in the current instance of the **Item Tracking Lines** page but is not yet committed to the database.|  
|**Total Available Quantity**|The quantity of the serial or lot number that is available for the user to request.<br /><br /> This quantity is calculated from other fields on the page as follows:<br /><br /> total quantity â€“ (total requested quantity + current pending quantity).|  

> [!NOTE]  
>  You can also see the information in the preceding table by using the **Select Entries** function on the **Item Tracking Lines** page.  

 To preserve database performance, availability data is only retrieved once from the database when you open the **Item Tracking Lines** page and when you use the **Refresh Availability** function on the page.  

## Calculation Formula  
 As described in the preceding table, the availability of a given serial or lot number is calculated as follows.  

 total available quantity = quantity in inventory â€“ (all demands + quantity not yet committed to the database)  

> [!IMPORTANT]  
>  This formula implies that the serial or lot number availability calculation considers only inventory and ignores projected receipts. Accordingly, supply that is not yet posted to inventory does not affect item tracking availability, as opposed to regular item availability where projected receipts are included.  

## Related information  
 [Design Details: Item Tracking](design-details-item-tracking.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-access-with-m365-license-faq
---
title: Access with Microsoft 365 Licenses FAQ
description: Get answers to common questions about accessing Business Central with Microsoft 365 licenses. 
author: mikebc
ms.author: mikebc
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: faq
ms.date: 09/28/2023
ms.custom: bap-template 
---
# Access with Microsoft 365 Licenses FAQ

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

Users can access Business Central data in Microsoft Teams using their Microsoft 365 license. This article answers frequently asked questions from administrators, consultants and others. Developers should refer to the Developer FAQ. For questions about integrating Business Central with Microsoft Teams, go to [Teams FAQ](teams-faq.md).

## [Permissions](#tab/permissions) 

### Can I proactively configure different starting permissions for different groups of users?

Not at this time. Business Central only allows configuring one group of permissions that are assigned to all Microsoft 365 users when they sign into Business Central for the first time.

### Can I proactively configure permissions, profiles, and settings for individual users before they sign in?

Yes. It can be achieved through security groups. By applying a security group to an environment, you define the total set of users that have access to that environment. This security group can include users with a Business Central license and users with a Microsoft 365 license. When you next update users from Microsoft 365 in the **Users** list, the Microsoft 365 user records will be created. You can then assign user groups, permissions, profiles, and other settings before they've signed in.

### After a user signs in, can I change which objects they have access to?

Yes. After a user has signed in for the first time and their user record has been provisioned, administrators manage those users just like any other Business Central user. For example, they can add or remove permissions to different objects. If you change the permission sets assigned to the Microsoft 365 license in the License Configuration page, the change will only affect the next users that sign in for the first time.

### How do I prevent access to sensitive tables?

Business Central offers a powerful and flexible permission model where administrators can define permission sets that grant access to specific objects, business processes or entire roles. To prevent access to sensitive tables, you can create custom permission sets that exclude permission to sensitive objects. For more information about exclude permissions, see [Create a permission set](ui-define-granular-permissions.md).  

### Instead of customizing the License Configuration, can I customize a user group?

Yes. Adding permission sets to the Microsoft Teams Internal Users user group in Business Central, has the same net effect as adding permission sets to the Microsoft 365 license, as long as the Microsoft 365 license continues to map to this user group. This approach has the added benefit that permission sets are always synchronized with members of the group whenever you modify the user group.

### When a Business Central user shares a record in Teams, do they grant new permissions?

No. This action isn't the same as sharing a link to a SharePoint document where the person sharing the document can choose to grant permission to others. In Business Central, only administrators can configure and assign permissions. When compared to sharing SharePoint documents, it's the equivalent of choosing the option to â€œShare to people with existing accessâ€.

### Does this feature support row-level security?

Yes. Even though a person accessing a record in Teams with their Microsoft 365 license may have the correct table and page object permissions, row-level permissions will be enforced if it' been implemented for that table.  

### If I configure permissions that include write access, will users be able to write in Teams?

If you configure Business Central to assign a permission set that includes insert, modify, or delete access to one or more objects, users with that permission set will still not be able to write in Teams when they only have a Microsoft 365 license. The Business Central service enforces read-only access no matter what insert, modify, or delete permission you assign.  

Even though Business Central provides this level of protection, we still recommend that you avoid permission sets with write access. Doing so prevents issues further downstream when users change role or acquire new licenses.  

## [Setup and Configuration](#tab/setup)

### Why is the setting to enable access not available for my environment?

Enabling access with Microsoft 365 licenses is only available for Business Central environments of platform version 21.1 or later. When your environment is upgraded to this minimum version, the setting automatically becomes available. To check the version of your environment, go to the environment details page for the environment in the Business Central admin center. Or, sign in to the environment, and go to the **Help & Support** page from the **Help** menu.

### Can I access Business Central on premises with Microsoft 365 licenses?

No, it's not supported. Business Central displays an error when users try to access Business Central on premises records in Teams.

### What is the Employee profile?

The **Employee** profile displayed in the **Profiles (Roles)** list page was introduced with Update 21.1. It's the default profile assigned to users that access Business Central with their Microsoft 365 license. This profile's intended for people in an organization who don't have a specific role in Business Central and only need to view data that was shared with them.

### What is the Teams Users user group?

The **Microsoft Teams Internal Users** group displayed in the **User Groups** page was introduced with Update 21.1. This group is the default user group assigned to users that access Business Central with their Microsoft 365 license. The user group's intended for people within the same organization where Business Central is hosted that collaborate in Microsoft Teams.  

### Do users that only have a Microsoft 365 license show up in the Users list in Business Central?

Yes. If you apply security groups to environments, those users will show up in the Users list after you use the Update Users from Microsoft 365 action from the **Users** list. If you don't apply security groups, user records appear in the Users list after the first time they access a Business Central record.

### Does this feature work for embed ISV solutions?

Yes. Users with only a Microsoft 365 license can also access records in environments that run under the *.bc.dynamics.com domain.

## [Licensing](#tab/license)

### Can a customer use this feature if they don't have Business Central?

Accessing Business Central with a Microsoft 365 license is intended for organizations that already subscribe to Business Central and operate one or more Business Central environments with licensed Business Central users. It provides no new functionality or use rights to Microsoft 365 customers that don't have a Business Central plan.

### How does this help me manage subscription costs in my organization?

To maximize productivity and streamline their operations, SMBs often purchase Dynamics 365 Business Central together with Microsoft 365. In which case, most people receive a Microsoft 365 license, but only specific roles or people receive a Business Central license. Business Central provides licensing flexibility so that customers pay only for what they need:

- Users requiring full access to Business Central are typically assigned a Business Central Essentials or Business Central Premium license. 
- Users requiring limited write access are typically assigned a Business Central Team Member license.
- All other employees across the organization that only need to occasionally read business data that is shared with them, can do so if they have a Microsoft 365 license. They don't have to be assigned a Team Member license. Other licensing options are available. For more information, download and read the [Dynamics 365 licensing guide](https://go.microsoft.com/fwlink/?LinkId=866544).

### Is this 100% free of charge?
 
No. Accessing Business Central data in Microsoft Teams requires each user to have either a Business Central license or a Microsoft 365 license from the list of supported plans.

### Does this work with Microsoft 365 trials and Business Central trials?

Yes. If a user is assigned a Microsoft 365 license from a trial of a supported plan, they can also access Business Central records in Teams. It's then possible for customers to try Microsoft productivity and business apps working together, and allows partner salespeople and consultants to easily demonstrate this feature. For example, partners can provision their own Microsoft Entra tenants from [https://aka.ms/CDX](https://aka.ms/CDX) that include Microsoft 365 trials and Business Central trials for demonstrating Business Central.

### The list of licenses in Business Central shows a Microsoft 365 license. What's that?

The **License Configuration** page in Business Central displays the different types of licenses that can provide access to the Business Central service. In version 21, Microsoft added Microsoft 365 to this list as a new way to access Business Central. This list of licenses doesn't imply that your organization has purchased subscriptions to any of these licenses or your organization has enabled access through those licenses.

### Do I need to acquire a new type of Microsoft 365 license for this feature to work?  

Microsoft hasn't created new licenses or new plans to power this feature. This feature relies entirely on existing Microsoft 365 plans and licenses. If you already subscribe to one of the supported Microsoft 365 plans, then you already have this new use right. Learn more about the supported plans in [Business Central access with Microsoft 365 licenses](admin-access-with-m365-license.md#requirements-for-individual-users-to-access-data-in-teams). Otherwise, if you don't subscribe to Microsoft 365 today, you can sign up for Microsoft 365 Business Premium or similar plan. Learn more in [Try or buy a Microsoft 365 for business subscription](/microsoft-365/commerce/try-or-buy-microsoft-365).

### How do I find out which users have only a Microsoft 365 license?

There are multiple ways. In the Microsoft 365 admin center, go to the **Active Users** list and refer to the **Licenses** column. In Business Central, go to the **Users** list, choose any of the users and view the **Licenses** FactBox.  

### How do I filter the Users list in Business Central to see users that only have a Microsoft 365 license?

This task is currently not possible using a filter or list view. However, you can select a user in the list and view the Licenses FactBox that will include only Microsoft 365, if the user only has a Microsoft 365 license.

### What about users that have both a Microsoft 365 license and a Business Central license?

When multiple licenses are assigned to a user, the greater license use rights win over lesser license use rights when accessing Business Central. In this case, Business Central license entitles the user to more user rights. So, users can read and write Business Central records in Teams and access the Business Central web client in the browser, just like any other Business Central license-holder. If specific permission sets have been configured for the Microsoft 365 license, the user gets the configured permission sets combined with the permission sets from the Business Central license or that have already been assigned to the user.

### Is this licensing related to the Business Central Team Member license?

There's no relation between Business Central Team Member licenses and accessing Business Central in Microsoft Teams using Microsoft 365 licenses. Although Microsoft Teams and its documentation refer to people in a team as *team members*, it's a collective term for a group of Microsoft Teams users. It doesn't refer to Business Central licenses.

### Does Business Central enforce any of the constraints?

Yes, all of the platform constraints and minimum requirements, including licensing requirements, are enforced by the Business Central platform. This guides users with specific error messages to help them troubleshoot their setup, and prevent abuse. For example, if a user that only has a Microsoft 365 license attempts to access the Business Central web client in the browser, access will be denied and a guiding error message will be displayed. 

## [Usage](#tab/usage)
 
### Can I access records on Teams for iOS and Teams for Android? 

Currently, it isn't possible to access Business Central data on the Teams mobile using only a Microsoft 365 license. Microsoft is working on enabling this capability shortly. 

### How do users change their personal settings in My Settings? 

When a user accesses Business Central for the first time using only their Microsoft 365 license, their user settings such as language, time zone and regional settings are automatically set based on their operating system or browser settings. Administrators can modify these settings from Business Central for each user. 

### What determines the choice of language when you sign in for the first time? 

The language with which you experience Business Central is set based on various factors, including the Teams client through which you accessed Business Central the first time. For Teams desktop app, Teams for iOS and Teams for Android, the operating system language is applied. For Teams for the web, the browser language is applied. In all cases, the Teams language isn't considered. 

### Why canâ€™t I activate some of the colored links in tabs and card details?

Actionable links on Business Central pages are often shown as a bold hyperlinks that can be activated to go elsewhere or run some operation. At a technical level, these links are typically implemented as field values with no caption that trigger some code and where the choice of style often reflects state. When users access Business Central pages with their Microsoft 365 license, the links are styled as if they're actionable. But they can't be activated because this license doesn't offer use rights to run actions.  

### Why canâ€™t I activate page notification actions?

Contextual notifications shown on pages are often accompanied by actionable links. When users access Business Central pages with their Microsoft 365 license, these links are displayed, but can't be activated because this license doesn't offer use rights to run actions. At a technical level, these links are implemented as actions.

### Can Microsoft 365 users remove tabs?

Yes. Anyone in the chat or channel can remove tabs created by others. Removing a tab doesn't remove or affect data in Business Central, but the tab will be removed for all users in the chat or channel.

### If I can't filter, will I still see a filtered list that was created by others?

Users accessing Business Central with their Microsoft 365 license don't have the use rights to filter using the filter pane or apply list views. But, if another user has created a tab containing a filtered list page, Microsoft 365 users will also view those filters applied to the tab.

---

## Related information

[Overview of Business Central Access with Microsoft 365 licenses](admin-access-with-m365-license.md#minimum-requirements)  
[Set Up Access with Microsoft 365 Licenses](admin-access-with-m365-license-setup.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-work-item-attributes
---
title: Set up item attributes and assign them to items
description: Describes how to set up item attribute values, for example, that can be used as search words, and assign them to items and item categories.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: categories, search words, facets
ms.search.forms: 7507, 7509, 7506, 7505, 7503, 7502, 7510, 7504, 7501, 7500, 9110, 5734, 7508
ms.date: 06/10/2024
ms.service: dynamics-365-business-central

---
# Work with item attributes

When customers inquire about an item, either in correspondence or in an integrated web shop, they might ask or search according to characteristics, such as height and model year. To provide this customer service, you can assign item attribute values of different types to your items, which can then be used when searching for items.

You can also assign item attributes to item categories, which then apply to the items that use the item categories. For more information, see [Categorize Item](inventory-how-categorize-items.md).

> [!TIP]  
> If you attach pictures to items, the Image Analyzer extension can detect attributes in the image, and suggest the attributes so you can decide whether to assign them. The extension is ready to go. You just need to enable it. For more information, see [The Image Analyzer Extension](ui-extensions-image-analyzer.md).

## Create item attributes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Attributes**, and then choose the related link.
2. On the **Item Attributes** page, choose the **New** action.
3. On the **Item Attribute** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!NOTE]  
> If you select **Option** in the **Type** field, you can choose the **Item Attribute Values** action to create values for the item attribute. For more information, see [To create values for item attributes of type Option](inventory-how-work-item-attributes.md#create-values-for-item-attributes-of-type-option).  

## Create values for item attributes of type Option

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Attributes**, and then choose the related link.
2. On the **Item Attributes** page, select an item attribute of type **Option** that you want to create values for, and then choose the **Item Attribute Values** action.
3. On the **Item Attribute Values** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Assign item attributes to items

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. On the **Items** page, select the item that you want to assign item attributes to, and then choose the **Attributes** action.
3. On the **Item Attribute Values** page, choose the **New** action.
4. Choose the lookup button in the **Attribute** field and select an existing item attribute. Alternatively, choose the **New** action to first create a new item attribute as explained in [To create item attributes](inventory-how-work-item-attributes.md#create-item-attributes).
5. In the **Value** field, enter the item attribute value, such as "2010" for the **Model Year** attribute.
6. For item attributes of type **Option**, choose the lookup button in the **Value** field and select an item attribute value. Alternatively, choose the **New** action to first create a new item attribute value as explained in [To create values for item attributes of type Option](inventory-how-work-item-attributes.md#assign-item-attributes-to-items).
7. Repeat steps 4 through 6 for all item attributes that you want to assign to the item.

## Assign item attributes to item categories

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Categories**, and then choose the related link.
2. On the **Item Categories** page, select the item category that you want to assign item attributes to, and then choose the **Edit** action.
3. On the **Item Category Card** page, on the **Attributes** FastTab, choose the **New** action.
4. Choose the lookup button in the **Attribute** field and select an existing item attribute. Alternatively, choose the **New** action to first create a new item attribute as explained in [To create item attributes](inventory-how-work-item-attributes.md#create-item-attributes).
5. In the **Default Value** field, choose the lookup button and select an item attribute value.
6. Repeat steps 4 and 5 for all item attributes that you want to assign to the item category.

> [!NOTE]  
> Item attributes for parent item categories will be inherited to child item categories. This is indicated by the **Inherited From** field on the **Attributes** FastTab. For more information, see [Categorize Items](inventory-how-categorize-items.md).

## Filter by item attributes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. On the **Items** page, choose the **Filter by Attributes** action.
3. On the **Filter Items by Attribute** page, choose the lookup button in the **Attribute** field and select an item attribute.
4. In the **Value** field, choose the lookup button and select an attribute value to filter items by.

    > [!NOTE]  
    > You can only select values directly for item attributes that have fixed values, such as Color. For item attributes that have variable values, such as Width, you must specify the item attribute value by first selecting a condition. See step 5.
5. In the **Value** field for a variable item attribute, choose the lookup button.
6. On the **Specify Filter Value** page, in the **Condition** field, choose the drop-down arrow and select a condition.
7. In the **Value** field, enter an attribute value to filter items by.

    **Example**: To filter on items where the material description begins with "blue," fill in the fields as follows: **Attribute** field: Material Description, **Condition** field: Begins With, **Value** field: blue.
8. Choose the **OK** button.

The items on the **Items** page are filtered by the specified item attribute values.

## Related information

[Categorize Items](inventory-how-categorize-items.md)    
[Register New Items](inventory-how-register-new-items.md)    
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-publish-web-service
---
title: Expose objects as web services
description: Publish objects as web services to make them immediately available for your Business Central solution.
author: brentholtorf
ms.topic: how-to
ms.search.form: 810_Primary
ms.date: 01/31/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Publish a web service

Web services are a lightweight way to make application functionality available to different kinds of external systems and users. By default, [!INCLUDE[prod_short](includes/prod_short.md)] exposes several objects as web services for better integration with other Microsoft services. You can add other web services as your business requires.  

Set up a web service in [!INCLUDE[prod_short](includes/prod_short.md)], and then publish the web service so that it's available to authenticated users. All authorized users can access metadata for web services, but only users who have sufficient permissions can access actual data.  

## Creating and Publishing a Web Service

The following steps explain how to create and publish a web service.  

### To create and publish a web service  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Web Services**, and then choose the related link.  
2. On the **Web Services** page, choose **New**. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

    > [!NOTE]  
    > **Codeunit** and **Page** are valid types for SOAP web services. **Page** and **Query** are valid types for OData web services. Starting with version 16.3, **Codeunit** is also a valid type for OData v4 web services, but then no URL is shown in the user interface. 
    > Also, if the database contains multiple companies, you can choose an object ID that is specific to one of the companies.  
    > Finally, the service name is visible to consumers of your web service and is the basis for identifying and distinguishing web services, so you should make the name meaningful.

3. Select the check box in the **Published** column.  

When you publish the web service, the **OData URL** and **SOAP URL** fields show the new URLs. However, for codeunits that are exposed as OData v4 unbound actions, the URL fields aren't shown.  

You can test the web service immediately by choosing the links in the **OData URL** and **SOAP URL** fields. Optionally, copy the value of the field and save it for later use. To test codeunits that are exposed as OData v4 unbound actions, follow the instructions in the [Verifying web service availability](/dynamics365/business-central/dev-itpro/developer/devenv-creating-and-interacting-with-odatav4-unbound-action#verifying-web-service-availability) section in the developer content.

> [!NOTE]
> If the objects that you expose as web services must not be accessible from [!INCLUDE[prod_short](includes/prod_short.md)] online, you must mark the methods exposed in the code as `[Scope('OnPrem')]`. For more information, see [Scope Attribute](/dynamics365/business-central/dev-itpro/developer/methods/devenv-scope-attribute).

After you publish a web service, it's available to external parties. You can verify the availability of that web service by using a browser, or choose the link in the **OData URL** and **SOAP URL** fields on the **Web Services** page. The following procedure illustrates how you can verify the availability of the web service for later use.  

### To verify the availability of a web service  

1. In your browser, enter the relevant URL. The following table illustrates the types of URLs that you can enter for different web service types.  

    > [!div class="mx-tdBreakAll"]
    > |Type|Syntax|Example|
    > |----------------|------|-------|
    > |SOAP|`https://api.businesscentral.dynamics.com/*version*/*tenant*/Production/WS/*CompanyName*/*entity*/` |`https://api.businesscentral.dynamics.com/v2.0/7acc9d3d-d354-4616-8bbd-c4fc9f2b15b3/Production/WS/CRONUS%20USA%2C%20Inc./Page/InvoiceDocument`|
    > |OData V4|`https://api.businesscentral.dynamics.com/*version*/*tenant*/Production/ODataV4/Company('*CompanyName*')/*entity*`|`https://api.businesscentral.dynamics.com/v2.0/7acc9d3d-d354-4616-8bbd-c4fc9f2b15b3/Production/ODataV4/Company('CRONUS%20USA%2C%20Inc.')/InvoiceDocument`<br/>    The company name is case-sensitive.|

2. Review the information that is displayed in the browser. Verify that you can see the name of the web service that you created.  

When you access a web service, and you want to write data back to [!INCLUDE[prod_short](includes/prod_short.md)], you must specify the company name. You can specify the company as part of the URI as shown in the examples; alternatively, specify the company as part of the query parameters. For example, the following URIs point to the same OData web service and are both valid URIs.  

```
https://api.businesscentral.dynamics.com/v1.0/OData/Company('CRONUS International Ltd.')/Customer  
```

```
https://api.businesscentral.dynamics.com/v1.0/OData/Customer?company='CRONUS International Ltd.'  
```

## Related information

[Administration](admin-setup-and-administration.md)  
[Business Central Web Services for developers](/dynamics365/business-central/dev-itpro/webservices/web-services)  
[OData request limits](/dynamics365/business-central/dev-itpro/administration/operational-limits-online#ODataServices)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-general-ledger-entries
---
title: General Ledger Entries
description: The General Ledger Entries report provides a detailed view of individual transactions within the general ledger.
author: kennienp
ms.author: kepontop
ms.reviewer:
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36995_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# General Ledger Entries (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **General Ledger Entries** report provides a detailed view of individual entries from the general ledger, so you can quickly filter and locate specific entries. This report is a valuable tool for tracking financial transactions, reconciliation, and facilitating efficient audits by giving easy access to detailed entry information.

:::image type="content" source="media/finance/general-ledger-entries-report.png" alt-text="Screenshot of the General Ledger Entries report" lightbox="media/finance/general-ledger-entries-report.png":::

## Use the report

The audiences for the report are:

- Finance managers
- Finance staff

Finance managers use the report to reconcile transactions for a specific fiscal period. By filtering the report to display only entries from that period, you can systematically review all recorded transactions. This process helps you find discrepancies, such as missing entries or erroneous amounts, and ensure that the general ledger accurately reflects the company's activities. Once reconciled, you can confidently prepare financial statements and provide insights into the organization's financial health for that period.

<!-- ## Key Performance Indicators (KPIs)

The *General Ledger Entries* report includes the following KPIs and measures: 

- [**Amount**](####) -->

## Data used in the report

The report uses data from the following table in [!INCLUDE[prod_short](includes/prod_short.md)]:

- General Ledger Entries

## Try the report

Try the report here: [General Ledger Entries](https://businesscentral.dynamics.com?page=36995)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-valuation-powerbi-inventory-valuation-overview
---
title: Inventory Valuation Overview (Power BI report)
description: The Inventory Valuation Overview report shows item values on a location by location basis.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords: reporting
ms.search.form: 37056_Primary
ms.date: 10/30/2024
ms.service: dynamics-365-business-central
---

# Inventory Valuation Overview (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Inventory Valuation by Overview** report provides a high-level view of key valuation data for your organization. Use the report to identify key values across the organization and get a clear understanding on valuation movements.

:::image type="content" source="media/inventory-valuation/inventory-valuation-by-location.png" alt-text="Screenshot of the Inventory Valuation by Location Power BI Report" lightbox="media/inventory-valuation/inventory-valuation-by-Location.png":::

## Use the report

The report gives executives and managers key information about the value of their inventory.

Executives use the report to get a high-level view of the company's inventory value. This information helps you make quick, informed strategic decisions.

Managers use the report to get a clear picture of the total value of on-hand inventory. You can also use this report to see key movements.

## Key Performance Indicators (KPIs)

The *Inventory Valuation Overview* report includes the following KPIs:

- [**Ending Balance Value**](inventory-valuation-powerbi-kpis.md#ending-balance-value)
- [**Ending Balance Posted to G/L**](inventory-valuation-powerbi-kpis.md#ending-balance-posted-to-gl)
- [**Variance**](inventory-valuation-powerbi-kpis.md#variance)
- [**Invoiced Quantity**](inventory-valuation-powerbi-kpis.md#invoiced-quantity)
- [**Increases Quantity**](inventory-valuation-powerbi-kpis.md#increases-qty)
- [**Decrease Qty.**](inventory-valuation-powerbi-kpis.md#decrease-qty)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the Inventory Valuation Overview report

The report uses data from the following tables in [!INCLUDE [prod_short](includes/prod_short.md)]:

- Location
- Value Entries

## Try the report

Try the report here: [Inventory Valuation Overview](https://businesscentral.dynamics.com?page=37056)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory Valuation app](inventory-valuation-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-to-allocate-resources
---
title: How to Allocate Resources | Microsoft Docs
description: You can change the annual amount of the service contract or contract quote to correct the amount that will be invoiced annually.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Allocate Resources
The key element to service management is the people who supply service. You can set up [!INCLUDE[prod_short](includes/prod_short.md)] to assign the appropriate people to the appropriate projects. Assignments can be based on service zones where the people are located or where the service occurs. In addition, you can group resources together when responding to service requests. For more information, see [Set Up Resource Allocation](service-how-setup-resource-allocation.md).

You can allocate resources, for example, technicians, by using the **Dispatch Board**, or from a service order. You can use resource availability to allocate resources to perform the service tasks in the orders or quotes.

You can allocate the same resource, for example, a technician, or resource group to all the service items in a service order. Allocation entries are created for the other service items in the order with the same resource number and allocation date as the line you allocated. The allocated hours are the hours you allocated divided by the number of service items in the order. The **Status** field is automatically set to **Active** for all the entries that were created.

## To see an overview of service orders and service quotes  
You may often need to see the list of service orders or service quotes that meet certain requirements to be able to perform specific actions with them one by one. For example,you may need to allocate resources to service orders that belong to a specific customer.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dispatch Board**, and then choose the related link.  
2. In the **Document Filter** field, choose the type of the documents you want to see.
3. To get a list of documents that contain service tasks a certain resource or resource group is allocated to, fill in the **Resource Filter** and **Resource Group Filter** fields and select <kbd>Enter</kbd>.  
4. To get a list of documents with a certain response date or response dates within a certain date period, fill in the **Response Date Filter** field and select <kbd>Enter</kbd>.  
5. To get a list of documents with a specified allocation state or document status, fill in the **Allocation Filter/Status Filter** field and select <kbd>Enter</kbd>.  
6. To get a list of documents that belong to a certain contract, customer, or zone, fill in the **Contract Filter/Customer Filter/Zone Filter** field and select <kbd>Enter</kbd>.  
7. Choose a line that corresponds to a service order or service quote, and then choose the **Show Document** action.  

    The **Service Order** or **Service Quote** page opens, and you can work with the document. To return to the **Dispatch Board** page, choose **OK**.

## To allocate a resource using resource or resource group availability    
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dispatch Board**, and choose the related link.  
2. Choose the service order, and then choose the **Resource Allocations** action.  
3. Choose the entry with the service task to which you want to allocate a resource.  
4. Choose either the **Resource Availability** or **Res. Group Availability** action.  
5. On the **Res. Availability (Service)** page, choose **Show Matrix**.  
6. Choose a resource to allocate. You can base your selection on whether the resource is skilled for the task, whether it is located in the customer zone, and/or whether it is preferred by the customer.  
7. Specify a date on which the resource has enough available hours for the task, and which is close to the response date of the service order.  
8. In the **Qty. to Allocate** field, enter the number of hours you want to allocate the resource to the service task for.  
9. Choose the **Allocate** action to allocate the selected resource on the selected date.  

     The **Status** field is automatically set to **Active**.  

 Repeat these steps for each date that you want to allocate the resource to the service task.  

> [!NOTE]  
>  For a service item in a service order, there can only be **Active** allocation entries with one resource or resource group at a time.  

## To allocate a resource using a service order  
After you have created and filled in a service order or service quote, you can allocate resources, for example, technicians, to perform service tasks registered as service item lines in the document.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Choose the service order, and then choose **Edit**.  
3. Choose the service item line corresponding to the service task you want to allocate a resource to.  
4. Choose **Resource Allocations**.
5. On the **Resource Allocations** page, choose a nonactive allocation entry with the service task you want to allocate the resource to. If the allocation entry does not exist, you can create a new one by choosing **New**.  
7. Specify the service task by filling in the **Service Item No.** field on the same line.  
8. In the **Resource No.** field, choose the resource. If the resource is a member of a resource group, the number of the resource group is entered automatically into the **Resource Group No.** field.  
9. Fill in the **Allocation Date** and **Allocated Hours** fields. The **Status** field is set to **Active**. This means that the resource is allocated to the service task.  
10. Optionally, to assign the resource to all items, choose **Allocate to All Service Items**.

> [!NOTE]  
>  For a service item in a service order, there can only be active allocation entries with one resource or resource group at a time.

## To reallocate resources on a service order  
You can reallocate resources directly from a service order or service quote when you are working with it. The original entry will still exist, but its status is updated as follows:  

* If service was started while the allocation was **Active**, that is, if the repair status of the service item in the entry was changed to **In Process**, the allocation status changes from **Reallocation Needed** to **Finished**.  
* If service was not started while the allocation was **Active**, allocation status changes from **Reallocation Needed** to **Canceled**.  
* If you are reallocating a service order that you have converted from a quote, the status of the allocation entries registered for the quote always changes to **Finished** when you reallocate the service items in the service order.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the relevant service order.  
3. Select the service item line corresponding to the service task you want to allocate a resource to, and then choose the **Resource Allocations** action.  
4. On the **Resource Allocations** page, select an allocation entry with the service task you want to reallocate the resource to. In the **Resource No.** field, select the relevant resource. This overwrites the resource number already in the field.  
5. Select <kbd>Enter</kbd>. A dialog box opens, asking whether you want to reallocate this entry. Fill in the **Reason Code** field if appropriate and choose the **Yes** button to confirm the reallocation.  
6. Fill in the **Allocation Date** and **Allocated Hours** fields. The entry now contains the new resource and its status is **Active**.

## To reallocate a resource using the dispatch board  
If the resource allocated to a service task cannot accomplish the work, it means that this service task needs reallocation. Usually you reallocate resources to a service task by using the **Dispatch Board**.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dispatch Board**, and then choose the related link.  
2. In the **Allocation Filter** field, select **Reallocation Needed**. The **Dispatch Board** page now shows the list of service orders that include service tasks that need reallocation.  
3. Select the relevant service order, and then choose the **Resource Allocations** action. The **Resource Allocations** page opens.  
4. Select the allocation entry with the service task you want to reallocate a resource to.  
5. In the **Resource No.** field, select the relevant resource. It overwrites the resource number already in the field.  
6. Select <kbd>Enter</kbd>. The **Reallocation Entry Reasons** dialog box opens, asking whether you want to reallocate this entry. Fill in the **Reason Code** field if appropriate and choose the **Yes** button to confirm the reallocation.  
7.  Fill in the **Allocation Date** and **Allocated Hours** fields. The entry now contains the new resource and its status is **Active**.  

    > [!NOTE]  
    >  The old entry still exists but the status is updated in the following ways:  
    >   
    >  * If service was started while the allocation was **Active**, that is, if the repair status of the service item in the entry was changed to **In Process**, the allocation status changes from **Reallocation Needed** to **Finished**.  
    > * If service was not started while the allocation was **Active**, the allocation status changes from **Reallocation Needed** to **Canceled**.  
    > * If you are reallocating a service order that you have converted from a quote, the status of the allocation entries registered for the quote always changes to **Finished** when you reallocate the service items in the service order.  

## To register resource hours  
When working on service items in service orders, you need to register the resource hours used for the service. The following procedure shows how to register the resource hours on the **Service Item Worksheet** page.  

You can use the same procedure to register the hours on the **Service Lines** page, which you can open from the Service Order page. Open the relevant service card, and then choose the **Service Lines** action.  

If the same resource works on all the service items in the service order, you can register the total resource hours for one service item only and then split the resource line to assign the resource hours to the other service items.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Tasks**, and then choose the related link.
2. Select the line that includes the relevant service item, and then choose the **Item Worksheet** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## To assign a resource to all service items in an order
If the same resource, for example a technician, works on all the service items in the service order, you can register the total resource hours for one service item only and then split the resource line to divide the resource hours onto the resource lines for the other service items.  

The following procedure shows how to split resource lines on the **Service Invoice Lines** page.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the relevant service order.  
3. On the **Lines** FastTab, choose the **Service Lines** action. The **Service Lines** page opens.  
4. Select the resource line you want to split. The contents of the **Quantity** field is divided between all the service items in the order.  
5. Choose the **Split Resource Line** action. Choose **Yes** to confirm.  

    Resource lines for the other service items in the order are created with the same resource number as the line you split. The quantity is the quantity for the line you split divided by the number of service items in the order.  

## To cancel an allocation  
You can cancel resource allocations for service tasks without reallocating the tasks.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dispatch Board**, and then choose the related link.  
2. Choose the service order, and then choose the **Resource Allocations** action.  
3. Choose the allocation entry with the service task that you want to cancel allocation for.  
4. Choose the **Cancel Allocation** action.  
5. In the **Reason Code** field, select the appropriate reason code.  
6. Choose **Yes** to confirm the cancellation.  

    > [!NOTE]  
    > In the **Status** field, the **Reallocation Needed** option is automatically selected. If the repair status of the service item in the entry is **Initial**, the repair status is changed to **Referred**, that is, no service has been started. If the repair status is **In Process**, it is changed to **Partly Serviced**, that is, some service has been completed.

## Related information
[Set Up Resource Allocation](service-how-setup-resource-allocation.md)  
[Allocation Status and Repair Status](service-allocation-status-and-repair-status.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/powerbi-back-links
---
title: Use back links to explore aggregated data in visuals  
description: When you're analyzing a visual in Power BI, back links let you go to the data behind the graphic.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: overview
ms.service: dynamics-365-business-central
ms.search.keywords: privacy, trial, Microsoft services
ms.date: 06/11/2025
ms.custom: bap-template
---

# Use back links to explore the data behind visuals

Back links make it easy to go from the aggregated data in reports in Power BI to the transactional data or source documents behind it in [!INCLUDE [prod_short](includes/prod_short.md)]. The connection between the visuals and the backstory lets you quickly validate, audit, and reconcile figures.

## Where you can expect to find back links

Back links are added to tables and matrices that display aggregated values or detail entries in Power BI. Some examples include:

- [**Daily Sales by Date**](sales-powerbi-daily-sales.md): Quickly go to detailed sales transactions for a specific day.
- [**Income Statement by Month**](finance-powerbi-income-statement.md): View the underlying G/L entries for monthly financial summaries.
- [**Moving Annual Total Details**](purchases-powerbi-moving-annual-total.md): Drill down to transaction-level details for moving annual totals.

## How back links work

Back links use custom Data Analysis Expressions (DAX) measures to dynamically generate web URLs that link to the [!INCLUDE [prod_short](includes/prod_short.md)] instance connected to the Power BI report.

The DAX measure retrieves and concatenates the **Tenant ID**, **Environment Name**, and **Company Name** from the report parameters and queries.

The filter context in Power BI, such as the **Date** filter, and other key fields construct the URL. The URL filters the relevant transactions or documents in [!INCLUDE [prod_short](includes/prod_short.md)] that correspond to the data displayed in the Power BI report.

## Example

This example uses the [**Income Statement by Month**](finance-powerbi-income-statement.md) matrix in the Power BI Finance App to illustrate the advantages that back links provide.

The **Income Statement by Month** matrix in Power BI shows aggregated financial figures by G/L accounts and months.

Without back links, you typically need to:

1. Drill through the numbers in Power BI.
2. Manually note the entry numbers.
3. Reconcile and locate the entries in [!INCLUDE [prod_short](includes/prod_short.md)].

However, with back links:

- Links are added to both Level 1 accounts and sublevel accounts in the matrix.
- Clicking a back link takes you to the detailed entries in [!INCLUDE [prod_short](includes/prod_short.md)] that make up the aggregated figure.
- If a **Date Filter** is applied in Power BI, the URL includes it to filter the transactions in [!INCLUDE [prod_short](includes/prod_short.md)].

For example, to show the transactions that make up the figure of the "5460 Cost of Capacities" account for January 2021, the URL displays the filtered G/L entries in [!INCLUDE [prod_short](includes/prod_short.md)].

:::image type="content" source="media/powerbi-back-links-income-statement-by-month.png" alt-text="Screenshot of the Income Statement by Month Power BI report with back links." lightbox="media/powerbi-back-links-income-statement-by-month.png":::

:::image type="content" source="media/powerbi-back-links-filtered-gl-entries.png" alt-text="Screenshot of the General Ledger Entries that make up the aggregated figure in Power BI" lightbox="media/powerbi-back-links-filtered-gl-entries.png":::

## Limitations

Currently, back links don't consider all visual and page filters applied in the Power BI report. The URL includes only **Date Filters**.

## Related information

[Install [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps for [!INCLUDE [prod_short](includes/prod_short.md)]](across-powerbi-install-business-central-apps.md)  
[Power BI apps/reports for functional areas](across-powerbi-apps-by-functional-area.md)  
[Frequently asked questions about the Power BI apps in Business Central](across-powerbi-apps-faq.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/manufacturing-powerbi-prod-order-wip
---
title: Production Order WIP    
description: Learn how to benefit from using the Production Order WIP report.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
# TODO correct page id must be added
# ms.search.form: 37042_Primary 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Production Order WIP (Power BI Report)

[!INCLUDE[applies-to-2025w1](includes/applies-to-2025w1.md)]

 The **Production Order WIP** report provides insights into the work-in-progress (WIP) inventory across production orders, displaying both trends and detailed valuation data.

:::image type="content" source="media/manufacturing/production-order-wip-v26.png" alt-text="Screenshot of the Production Order WIP Power BI Report" lightbox="media/manufacturing/production-order-wip-v26.png":::

The **Production Order WIP Report** consists of two key visuals that give insights into work-in-progress (WIP) inventory. The top visual is a timeline chart that showcases the **Ending Balance Value of WIP** inventory over time. The visual plots the **Ending Balance Value** as the Y-axis and the **Month Year** as the X-axis to offer a clear trend analysis and lets you find fluctuations and patterns in WIP inventory.

The **Inventory Valuation - WIP** table gives you a detailed breakdown of production order-related inventory valuation. The table includes essential columns, such as:

- Production Order
- Description
- Source Type
- Source No.
- Starting and Ending Dates
- Beginning Balance
- Consumption
- Capacity
- Output
- Ending Balance Value

Together, these visuals provide both high-level and detailed perspectives on WIP inventory.

## Use the report

## Key performance indicators (KPIs)

The Production Order WIP report includes the following KPIs and measures:

- [Beginning Balance Value](manufacturing-powerbi-kpis.md#beginning-balance-value)
- [Consumption Value](manufacturing-powerbi-kpis.md#consumption-value)
- [Output Value](manufacturing-powerbi-kpis.md#output-value)
- [Capacity Value](manufacturing-powerbi-kpis.md#capacity-value)
- [Ending Balance Value](manufacturing-powerbi-kpis.md#ending-balance-value)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)]

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Value Entry
- Production Order
  
## Try the report

Try the report here: [Production Order WIP](https://businesscentral.dynamics.com?page=)<!-- TODO Set page ID for link -->

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Manufacturing app](manufacturing-powerbi-app.md)  
[Built-in production reports](production-reports.md)  
[Manufacturing overview](production-manage-manufacturing.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-setup-report-intrastat-v20
---
title: Set up and report Intrastat
description: Learn how to set up Intrastat reporting features, and how to report trade with companies in other EU countries/regions.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: electronic document, Intrastat, trade, EU, European Union
ms.search.form: 308, 309, 310, 311, 325, 326, 327, 328, 405, 406, 8451, 12202, 31077
ms.date: 08/26/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Set up and report Intrastat

All companies in the European Union must report their trade with other EU countries/regions. You must report the movement of goods to the statistics authorities in your country/region every month, and the report must be delivered to the tax authorities. This is referred to as Intrastat Reporting. You use the **Intrastat Journal** page to complete periodic Intrastat reports.

[!INCLUDE[intrastat-2022w2](includes/intrastat-2022w2.md)]

## Required and optional Setups

> [!IMPORTANT]
> Customer cards and Vendor cards include a field, **Intrastat Partner Type**, that has the same option values as the **Partner Type** field: *"" (blank)*, *Company*, and *Person*. The **Intrastat Partner Type** field has replaced the **Partner Type** field in Intrastat reporting. **Partner Type** is used in SEPA to define the SEPA Direct Debit Scheme (Core or B2B). **Intrastat Partner Type** is used for Intrastat reporting only. This way, you can specify different values for the two fields, if you need to.
>
> However, note that if the **Intrastat Partner Type** field is left blank, the value from the **Partner Type** field is used for Intrastat reporting.

Before you can use the Intrastat journal to report Intrastat information, there are several things you must set up:  

* **Intrastat Setup**: Intrastat Setup page is used to enable intrastat reporting and set defaults for it. You can specify whether you need to report Intrastat from shipments (dispatches), receipts (arrivals) or both depending on thresholds set by your local regulations. You can also set default transaction types for regular and return documents, used for nature of transaction reporting.
* **Intrastat journal templates**: You must set up the Intrastat journal templates and batches you will use. Because Intrastat is reported monthly, you must create 12 Intrastat journal batches based on the same template.  
* **Commodity codes**: Customs and tax authorities have established numerical codes that classify items and services. You specify these codes on items.
* **Transaction nature codes**: Countries and regions have different codes for types of Intrastat transactions, such as ordinary purchase and sale, exchange of returned goods, and exchange of non-returned goods. Set up all of the codes that apply to your country/region. You use these codes on the **Foreign Trade** FastTab on sales and purchase documents, and when you process returns.

    > [!NOTE]
    > Starting in January 2022, Intrastat requires different transaction nature code for dispatches to private individuals or non-VAT registered businesses and VAT registered businesses. To comply with this requirement, we recommend that you review and/or add new transaction nature codes in the **Transaction Types** page according to the requirements in your country. You should also review and update the **Intrastat Partner Type** field to *Person* for private individual or non-VAT registered businesses customers in the relevant **Customer** page. If you are unsure about the correct intrastat partner type or transaction type to use, we recommend that you ask an expert in your country or region.

* **Transport methods**: There are seven, one-digit codes for Intrastat transport methods. **1** for sea, **2** for rail, **3** for road, **4** for air, **5** for post, **7** for fixed installations, and **9** for own propulsion (for example, transporting a car by driving it). [!INCLUDE[prod_short](includes/prod_short.md)] does not require these codes, however, we recommend that the descriptions provide a similar meaning.  
* **Transaction specifications**: Use these to supplement the descriptions from the transaction types.  
* **Country of origin**: Use the two-letter ISO Alpha Codes for the country/region where the good was obtained or produced. If the good was produced in more than one country/region, the country/region of origin is the last country where it was significantly processed.
* **VAT identification number of the partner operator in the Member State of import**: This is the VAT-ID number of the partner operator in the Member State of import. The VAT-ID is also used in the exchange of intra-EU-export data among Member States, and allows Member States to allocate the received data to the importing company in their own country/region. Reporting units must report the VAT-ID of the company that declared the intra-Union acquisition of goods in the Member State of import.

> [!NOTE]
> The business partner VAT-ID to use can differ, depending on the business circumstance. For example, the ID to use differs for scenarios such as chain sales, where a supplier sells a product to another country, and then that company resells the item to another business in the same country, triangular trade, and so on. If you are unsure about the correct VAT-ID to use, we recommend that you ask an expert in your country or region.

Optionally, you can also set up:

* **Areas**: Use these to supplement information about countries and regions.  
* **Entry/exit points**: Use these to specify the locations where you ship or receive items to or from other countries/regions. Heathrow Airport is an example of an entry or exit point. You enter entry or exit points on sales and purchase documents on the **Foreign Trade** FastTab. This information will also be copied from the item entries when you create the Intrastat journal.  

### To set up Intrastat templates and batches

The Intrastat batch jobs include only item entries, and not general ledger entries. If you have general ledger entries that qualify for Intrastat reporting, you must enter them manually. For example, if you purchase a computer from another EU country or region, the computer is not placed in inventory, but is posted to a general ledger account. You must manually enter this type of entry in the Intrastat journal.  

You can export the entries to a file that you can send to your Intrastat authorities. You can also print a report, manually enter the information on the forms from your authorities, and then submit the information.

> [!NOTE]
> We recommended that you set up an Intrastat journal batch for each month.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Journal Templates**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)] Create a template for each Intrastat form you use.  
3. To create batches, choose the **Batches** action.  
4. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]. Create a template for each Intrastat form you use.

> [!NOTE]
> In the **Statistics Period** field, enter the statistics period as a four-digit number, where the first two digits represent the year and the next two digits represent the month. For example, enter 1706 for June, 2017.

### To set up transport methods

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Transport Methods**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

### To set up which Intrastat report fields are mandatory

In some countries/regions, such as Spain and UK, the authorities require that Intrastat reports include, for example, the shipment method for purchases or some other values when sales are over a certain threshold. On the **Intrastat Setup** page, you can select to make **Intrastat Checklist Setup** to set mandatory fields on the **Intrastat Journal** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Setup**, and then choose the related link.
2. Choose the **Intrastat Checklist Setup** action.
3. On the **Intrastat Checklist Setup** page, select in the **Field Name** to pick Intrastat report field you want to make mandatory.

### Czechia

Specifically for Czech businesses, you must also set up commodity codes and transaction nature codes.  

#### To set up commodity codes

All items that you buy or sell must have a commodity code.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Commodity Codes**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
3. To assign a commodity code to an item, go to the **Item Card** page, expand the **Costs & Posting** FastTab, and then enter the code in the **Commodity Code** field.

### Italy

Specifically for Italian businesses, you must also set up commodity codes and transaction nature codes.  

#### To set up transaction nature codes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Transaction Nature Codes**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

> [!TIP]
> If you frequently use a particular transaction nature code, you can make it the default. To do this, go to the **Intrastat Setup** page, and choose the code.

## To report Intrastat

After you fill in the Intrastat journal, you can run the **Checklist report** action to make sure that all information in the journal is correct. Mandatory fields you have set in **Intrastat Checklist Setup** page that are missing values will be shown in Errors and warning fact box on the **Intrastat Journal** page. Afterward, you can print an Intrastat report as a form, or create a file to submit to the tax authority in your country/region.  

### To fill in Intrastat journals

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Journal** and then choose the related link.  
2. On the **Intrastat Journal** page, in the **Batch Name** field, choose the relevant journal batch, and then choose **OK**.  
3. Choose the **Suggest Lines** action. The **Starting Date** and **Ending Date** fields will already contain the dates specified for the statistics period on the journal batch.  
4. In the **Cost Regulation %** field, you can enter a percentage to cover transport and insurance. If you enter a percentage, the content of the **Statistical Value** field in the journal is proportionally higher.  
5. Choose **OK** to start the batch job.  

The batch job retrieves all the item entries in the statistics period and inserts them as lines in the Intrastat journal. You can edit the lines if needed.  

> [!IMPORTANT]  
> The batch job retrieves only the entries that contain a country/region code for which an Intrastat code has been entered on the **Countries/Regions** page. Therefore, you must enter Intrastat codes for the country/region codes for which you will run the batch job. The batch job sets the **Partner VAT ID** field to *QV999999999999* for private individuals or non-VAT registered businesses (customers with the **Intrastat Partner Type** field set to *Person*), and it uses the value of the **Transaction Type** field on the posted item ledger entry or job ledger entry.

### To modify Intrastat journals lines

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Journal**, and then choose the related link.  
2. On the **Intrastat Journal** page, in the **Batch Name** field, choose the relevant journal batch, and then choose **OK**.  
3. User filter pane to filter Intrastat Journal lines based on some criteria. For example, filter on **Partner VAT ID** fields with the value *QV999999999999*.
4. Choose **Share** icon ![Share a page in another app.](media/share-icon.png) and select **Edit in Excel**
5. In Excel, modify the Intrastat journal lines that you filtered out. For example, modify **Transaction Type** field values.  
6. Publish the changes that you have made in Excel back to [!INCLUDE[prod_short](includes/prod_short.md)]

> [!NOTE]
> In [!INCLUDE[prod_short](includes/prod_short.md)] versions that do not support [**Edit in Excel**](across-work-with-excel.md#edit-in-excel) for journals, you can create configuration packages to export and import Intrastat journal lines to Excel. For more information, see [Migrate On-Premises Data to Business Central Online](/dynamics365/business-central/dev-itpro/administration/migrate-data) in the administration content.

### Report Intrastat on a form or a file

To get the information that is required on the Intrastat form from the statistical authorities, you must print the **Intrastat â€“ Form** report. Before you can do this, you must prepare the Intrastat journal and fill it in. If you have both sales and purchase transactions, you must complete a separate form for each type, so that you must print the report two times.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Journals**, and then choose the related link.  
2. On the **Intrastat Journal** page, choose the relevant journal batch in the **Batch Name** field.  
3. If you have not already done this, fill in the journal manually or choose **Suggest Lines** action.  
4. Choose the **Prints Intrastat Journal** action.  
5. On the **Intrastat Jnl. Line** FastTab, add a **Type** filter and then specify whether this is a **Receipt** or a **Shipment**.  
6. Choose **Send to** to print the report.  

### Report Intrastat in a file

You can submit the Intrastat report as a file. Before creating the file, you can print a checklist that contains the same information that will be in the file.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Journal**, and then choose the related link.  
2. On the **Intrastat Journal** page, select the relevant journal batch in the **Batch Name** field.  
3. If you have not already done this, fill in the journal manually or by choosing the **Suggest Lines** action.  
4. Choose the **Create File** action.  
5. On the batch job page, choose the **OK** button.  
6. Choose **Save**.  
7. Browse to the location where you want to save the file, enter the file name, and then choose **Save**.

> [!NOTE]
> When a line in the Intrastat report has a supplementary unit of measure, the weight of the item will not be shown, since this value is not required.

## Reorganize Intrastat journals

Because you must submit an Intrastat report every month, and you create a new journal batch for each report, you will eventually have many journal batches. The journal lines are not deleted automatically. You may want to reorganize the journal batch names periodically. You do this by deleting the journal batches that you no longer need. The journal lines in these batches are also deleted.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Journals**, and then choose the related link.  
2. To view the options, choose the **Batch Name** field.  
3. Choose the journal batches to be deleted, and then choose the **Delete** button.  

## Tariff numbers

In many countries/regions, the customs and tax authorities establish 8-digit item codes for various items. In order for item entries to contain the necessary information when the program imports them to the Intrastat journal line, you must have entered the information about the tariff number in the **Tariff Numbers** page. Find the codes for the items that your company deals with and enter them in the **Tariff Numbers** page.

In the **Tariff Numbers** page, add all the codes that you use. You must enter the codes on the item card before you begin to post. When you have set up the codes, enter them in the **Tariff No.** field on the item card. You must also fill in the **Net Weight** field on the item card.

## Related information

[Financial Management](finance.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-work-nonstock-items
---
title: Create and manage catalog items
description: Learn how to sell items that you don't keep in your list of items.
author: brentholtorf 
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 11/21/2024
ms.custom: bap-template
ms.search.keywords: non-inventoriable
ms.search.forms: 5725, 5726, 5732
ms.service: dynamics-365-business-central
---

# Work with catalog items

Catalog items are items that you don't manage in [!INCLUDE[prod_short](includes/prod_short.md)] until you sell them. When you use the **Select Catalog Item** action to add a catalog item to a line on a sales order, quote, or blanket sales order, the catalog item is converted to a regular item.

> [!NOTE]  
> You can't select a catalog item from the **Sales Invoice** page.

A catalog item typically has the item number of the vendor who supplies it. Before you can convert a catalog item to a normal item, you must specify how to convert vendor item numbers to your item numbering. To learn more about item numbering, go to [Specify how catalog item numbers are converted to your own numbering](#specify-how-catalog-item-numbers-are-converted-to-your-own-numbering).  

> [!IMPORTANT]
> Catalog items are not to be mistaken with non-inventory items, which are regular items that are given the type **Non-Inventory** to keep them out of availability and costing calculations, for example, because they are only used internally and have a low cost. To learn move about non-inventory items, go to [About Item Types](inventory-about-item-types.md).

## Create a catalog item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Catalog Items**, and then choose the related link.
2. On the **Catalog Items** page, choose the **New** action.
3. On the **Catalog Item Card** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Specify how catalog item numbers are converted to your own numbering

Before you can convert a catalog item to a regular item, you must specify how to convert vendor item numbers to the structure you use for item numbers.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Catalog Item Setup**, and then choose the related link.
2. In the **No. Format** field, choose the option you prefer.

## Convert a catalog item to a normal item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Catalog Items**, and then choose the related link.
2. Open the card for a catalog item that you want to convert to a normal item.
3. On the **Catalog Item Card** page, choose the **Create Item** action.

A new item card prefilled with information from the catalog item and an item template is created. You can edit the information about the new item if needed. To learn more about creating items, go to [Register New Items](inventory-how-register-new-items.md).

> [!NOTE]  
> An item reference is automatically created between the vendor's item number and your new item number. To learn more about item references, go to [Use Item References](inventory-how-use-item-cross-refs.md).

## To sell a catalog item and convert it to a normal item

The following process uses a sales order, but the steps are the same for blanket sales orders and quotes.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Choose the **New** action. Fill in the fields on the **General** FastTab as for any sales order. For more information, see [Sell Products](sales-how-sell-products.md).
3. On a new sales line, in the **Type** field, select **Item**, but leave the **No.** field empty.
4. Choose the **Line** action, and then choose the **Select Catalog Items** action.
5. On the **Catalog Items** page, select the catalog item that you want to sell, and then choose the **OK** button.
   The catalog item automatically converts to a normal item, and the new normal item is selected on the sales line.
6. When the sales order is complete, choose the **Post** action.

> [!IMPORTANT]
> If you change you mind and delete the sales line, the automatically created item is also deleted. Deleting the item helps reduce clutter in you list of items.
>
> The item is also deleted if you convert the item manually, or make changes such as adding new units of measure or updating prices or cost. However, the item won't be deleted if it's already used in sales or purchase lines, assembly BOMs, or has ledger entries.

## Related information

[Register New Items](inventory-how-register-new-items.md)  
[Create Special Orders](sales-how-to-create-special-orders.md)  
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-find-posted-documents-without-income-document-records
---
title: Find Posted Documents without Incoming Documents
description: You can search for general ledger entries for posted purchase and sales documents that don't have incoming electronic documents, such as imported invoices.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: electronic document, e-invoice, incoming document, OCR, ecommerce, document exchange, import invoice
ms.date: 06/14/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Find Posted Documents without Incoming Document Records

From the **Chart of Accounts** and **General Ledger Entries** pages, you can use a search function to find general ledger entries for posted purchase and sales documents that don't have incoming document records and then centrally link to existing records or create new ones with attached document files.

## To find posted documents without incoming document records

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.
2. Select a line for a G/L account for whose general ledger entries you want to see posted purchase and sales documents without incoming document records, and then choose the **Posted Documents without Incoming Document** action.
3. Alternatively, choose the **Ledger Entries** action.
4. On the **General Ledger Entries** page, choose the **Posted Documents without Incoming Documents** action.

The **Posted Documents without Incoming Document** page opens showing posted purchase and sales documents without incoming document records represented by general ledger entries on the G/L account that you opened the page for. The page can show a maximum of 1000 lines. By default, the **Date Filter** field therefore contains a filter that limits the lines to entries with posting dates from the beginning of the accounting period to the work date.

## To connect found documents to existing incoming document records

1. On the **Posted Documents without Incoming Document** page, select the line for a posted document that you want to connect to an existing incoming document record, and then choose the **Select Incoming Document** action.
2. On the **Incoming Documents** page, select the incoming document record that you want to connect to posted document found, and then choose the **OK** button.
3. On the **Posted Documents without Incoming Document** page, the selected incoming document record is now connected to the posted document, as you can see in the **Incoming Document Files** FactBox.

If a relevant incoming document record doesn't exist on the **Incoming Documents** page, then you can create it. For more information, see [Create Incoming Document Records](across-how-create-income-document-records.md).

## Related information

[Create Incoming Document Records](across-how-create-income-document-records.md)
[Use OCR to Turn PDF and Image Files into Electronic Documents](across-how-use-ocr-pdf-images-files.md)
[Create Incoming Document Records Directly from Documents and Entries](across-how-connect-disconnect-income-document-records.md)
[Incoming Documents](across-income-documents.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-set-up-data-exchange-definitions
---
title: Define how data is exchanged electronically
description: Define how Business Central exchange data with external files like electronic documents, bank data, item catalogs and more.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.search.form: 1210, 1211, 1213, 1214, 1215, 1216, 1217
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Set up data exchange definitions

You can set up [!INCLUDE[prod_short](includes/prod_short.md)] to exchange data in specific tables with data on external files. For example to send and receive electronic documents, import and export bank data or other data, such as payroll, and item catalogs. Learn more at [Exchanging Data Electronically](across-data-exchange.md).  

To create a data exchange definition for a data file or stream, you can use the related XML schema to define which data elements to include on the **Column Definitions** FastTab. Refer to step 6 in [To describe the formatting of lines and columns in the file](across-how-to-set-up-data-exchange-definitions.md#to-describe-the-formatting-of-lines-and-columns-in-the-file). Learn more at [Use XML Schemas to Prepare Data Exchange Definitions](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md).  

Normally, you set up data exchange definitions on the **Data Exchange Definition** page. However, for updating currency exchange rates, it's faster to use a currency exchange rate service. Learn more at [Update Currency Exchange Rates](finance-how-update-currencies.md#set-up-a-currency-exchange-rate-service).

> [!NOTE]  
> If the file that is being converted is in the XML format, the term *"column"* in this article should be interpreted as an *"XML element containing data"*.  

This article includes the following procedures:  

* Create a data exchange definition.
* Export a data exchange definition as an XML file for use by others.
* Import an XML file for an existing data exchange definition.

## Create a data exchange definition

Creating a data exchange definition involves two tasks:  

1. On the **Data Exchange Definition** page, describe the formatting of lines and columns in the file. Learn more in the [To describe the formatting of lines and columns in the file](#formatlinescolumns) section.  
2. On the **Data Exchange Mapping** page, map columns in the data file to fields in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more in the [To map columns in the data file to fields in [!INCLUDE[prod_short](includes/prod_short.md)]](#mapfields) section.  

### <a name=formatlinescolumns></a>To describe the formatting of lines and columns in the file

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Data Exchange Definitions**, then choose the related link.  
2. Choose the **New** action.  
3. On the **General** FastTab, describe the data exchange definition and the data file type by filling the fields as described in the following table.  

    |Field|Definition|  
    |---------------------------------|---------------------------------------|  
    |**Code**|Enter a code to identify the data exchange definition.|  
    |**Name**|Enter a name for the data exchange definition.|  
    |**File Type**|Specify what type of file the data exchange definition is used for. You can select between four file types:<br /><br /> -   **XML**: Layered strings of content and markup surrounded by tags indicating function.<br />-   **Variable Text**: Records have variable length and are separated by a character, such as a comma or semi\-colon, also known as *delimited file*.<br />-   **Fixed Text**: Records have the same length, using pad characters, and each record is on a separate line, also known as *fixed-width file*.<br />- **Json**: Layered strings of content in JavaScript.|  
    |**Type**|Specify what type of business activity the data exchange definition is used for, such as **Payment Export**.|  
    |**Data Handling Codeunit**|Specify the codeunit that transfers data in and out of tables in [!INCLUDE[prod_short](includes/prod_short.md)].|  
    |**Validation Codeunit**|Specify the codeunit that is used to validate data against predefined business rules.|  
    |**Reading/Writing Codeunit**|Specify the codeunit that processes imported data before mapping and the exported data afterward.|  
    |**Reading/Writing XMLport**|Specify the XMLport through which an imported data file or service enters before mapping, and through which exported data is written to a data file or service afterward.|  
    |**Ext. Data Handling Codeunit**|Specify the codeunit that transfers external data in and out of the data exchange framework.|  
    |**User Feedback Codeunit**|Specify the codeunit that does various clean-up after mapping, such as marks the lines as exported and deletes temporary records.|  
    |**File Encoding**|Specify the encoding of the file. **Note:** This field is only relevant for import.|  
    |**Column Separator**|Specify how columns in the data file are separated, if the file is of type **Variable Text**.|  
    |**Header Lines**|Specify how many header lines exist in the file.<br /><br /> This setting makes sure that the header data isn't imported. **Note:** This field is only relevant for import.|  
    |**Header Tag**|If a header line exists in several positions in the file, enter the text of the first column on the header line.<br /><br /> This option makes sure that the header data isn't imported. **Note:** This field is only relevant for import.|  
    |**Footer Tag**|If a footer line exists in several positions in the file, enter the text of the first column on the footer line.<br /><br /> This option makes sure that the footer data isn't imported. **Note:** This field is only relevant for import.|  

   > [!TIP]
   > To review which codeunits Microsoft uses in existing definitions in the standard product, explore the three **Codeunit** fields on the **Field Mapping** page for each definition.  

4. On the **Line Definitions** FastTab, describe the formatting of lines in the data file by filling the fields as described in the following table.  

    > [!NOTE]  
    > For import of bank statements, you only create one line for the single format of the bank statement file that you want to import.  
    >
    > For export of payments, you can create a line for each payment type that you want to export. In that case, the **Column Definitions** FastTab shows different columns for each payment type.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Line Type**|Specifies the type of the line in the file.|  
    |**Code**|Enter a code to identify the line in the file.|  
    |**Name**|Enter a name that describes the line in the file.|  
    |**Column Count**|Specify how many columns the line in the data file has. **Note:** This field is only relevant for import.|  
    |**Data Line Tag**|Specify the position in the related XML schema of the element that represents the main entry of the data file. **Note:** This field is only relevant for import.|  
    |**Namespace**|Specify the namespace that's expected in the file to enable namespace validation. You can leave this field blank if you don't want to enable namespace validation.|  
    |**Parent Code**|Specify the line's parent, as displayed in the **Code** field in cases where the data exchange setup is for files with parent and children entries, such as a document header and lines.

5. Repeat step 4 to create a line for every type of file data that you want to export.  

     Proceed to describe the formatting of columns in the data file by filling the fields on the **Column Definitions** FastTab as described in the table in step 8. You can use a structure file, such as an .xsd file, for the data file to prefill the FastTab with the relevant elements. Learn more at [Use XML Schemas to Prepare Data Exchange Definitions](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md).

6. On the **Column Definitions** FastTab, choose the **Get File Structure** action.  
7. On the **Get File Structure** page, select the related structure file, then choose **OK**. The lines on the **Column Definitions** FastTab are filled according to the structure of the data file.  
8. On the **Column Definitions** FastTab, edit or fill the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Column No.**|Specify the number that reflects the column's position on the line in the file.<br /><br /> For XML files, specify the number that reflects the type of element in the file that contains the data.|  
    |**Name**|Specify the name of the column.<br /><br /> For XML files, specify the markup that marks the data to be exchanged.|  
    |**Data Type**|Specify if the data to be exchanged is of type **Text**, **Date**, or **Decimal**.|  
    |**Data Format**|Specify the format of the data, if any. For example, **MM-dd-yyyy** if the data type is **Date**. **Note:** For export, specify the data format according to [!INCLUDE[prod_short](includes/prod_short.md)]. For import, specify the data format according to the .NET Framework. Learn more at [Standard Date and Time Format Strings](/dotnet/standard/base-types/standard-date-and-time-format-strings).|  
    |**Data Formatting Culture**|Specify the regional data format, if any. For example, **en-US** if the data type is **Decimal** to make sure that comma is used as the 0.000 separator, according to the US format. Learn more at [Standard Date and Time Format Strings](/dotnet/standard/base-types/standard-date-and-time-format-strings). **Note:** This field is only relevant for import.|  
    |**Length**|Specify the length of the fixed-width line that holds the column if the data file is of type **Fixed Text**.|  
    |**Description**|Specifies a description of the column, for informational purposes.|  
    |**Path**|Specify the position of the element in the related XML schema.|  
    |**Negative-Sign Identifier**|Enter the value that is used in the data file to identify negative amounts, in data files that can't contain negative signs. This identifier is then used to reverse the identified amounts to negative signs during import. **Note:** This field is only relevant for import.|  
    |**Constant**|Specify any data that you want to export in this column, such as extra information about the payment type. **Note:** This field is only relevant for export.|  
    |**Text Padding Required**|Specify that the data must include text padding.|  
    |**Pad Character**|Specify the text padding character.|  
    |**Justification**|Specify if the column justification is left or right.|  

9. Repeat step 8 for every column or XML element in the data file that has data that you want to exchange with [!INCLUDE[prod_short](includes/prod_short.md)].  

The next step in creating a data exchange definition is to decide which columns or XML elements in the data file map to which fields in [!INCLUDE[prod_short](includes/prod_short.md)].  

> [!NOTE]  
> The specific mapping depends on the business purpose of the data file to be exchanged and on local variations. Even the SEPA bank standard has local variations. [!INCLUDE[prod_short](includes/prod_short.md)] supports import of SEPA CAMT bank statement files out\-of\-the\-box. This is represented by the **SEPA CAMT** data exchange definition record code on the **Data Exchange Definitions** page. To learn more about the specific field mapping of this SEPA CAMT support, go to [Field Mapping When Importing SEPA CAMT Files](across-field-mapping-when-importing-sepa-camt-files.md).  

### <a name=mapfields></a>To map columns in the data file to fields in [!INCLUDE[prod_short](includes/prod_short.md)]

> [!TIP]
> Sometimes the values in the fields that you want to map are different. For example, in one business app the language code for the United States is "U.S.," but in another it's "US." That means you must transform the value when you exchange data. This happens through transformation rules that you define for the fields. Learn more at [Transformation Rules](across-how-to-set-up-data-exchange-definitions.md#transformation-rules).

You can also group by any field, use the key index to sort results, and the new transformation types **Rounding** and **Field Lookup**.

1. On the **Line Definitions** FastTab, select the line for which you want to map columns to fields, then choose **Field Mapping**. The **Data Exchange Mapping** page opens.  
2. On the **General** FastTab, specify the mapping setup by filling the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Table ID**|Specify the table that holds the fields to or from which data is exchanged according to the mapping.|  
    |**Use as Intermediate Table**|Specify if the table that you select in the **Table ID** field is an intermediate table where the imported data is stored before it's mapped to the target table.<br/><br/> You typically use an intermediate table when the data exchange definition imports and converts electronic documents in [!INCLUDE[prod_short](includes/prod_short.md)]. For example, documents such as vendor invoices into purchase invoices. Learn more at [Exchanging Data Electronically](across-data-exchange.md).|  
    |**Name**|Enter a name for the mapping setup.|  
    |**Key Index**|Specify the key index to sort the source records before exporting.|
    |**Pre-Mapping Codeunit**|Specify the codeunit that prepares the mapping between fields in [!INCLUDE[prod_short](includes/prod_short.md)] and external data.|  
    |**Mapping Codeunit**|Specify the codeunit that is used to map the specified columns or XML data elements to fields in [!INCLUDE[prod_short](includes/prod_short.md)].|  
    |**Post-Mapping Codeunit**|Specify the codeunit that completes the mapping between fields in [!INCLUDE[prod_short](includes/prod_short.md)] and external data. **Note:** When you use the AMC Banking 365 Fundamentals extension, the codeunit converts exported data from [!INCLUDE[prod_short](includes/prod_short.md)] to a generic format that's ready for export. For import, the codeunit converts external data to a format that is ready for import into [!INCLUDE[prod_short](includes/prod_short.md)].|

3. On the **Field Mapping** FastTab, specify which columns map to which fields in [!INCLUDE[prod_short](includes/prod_short.md)] by filling the fields as described in the following tables, depending on whether the **Use as Intermediate Table** field is enabled.  
   * With the **Use as Intermediate Table** toggle off:

     |Field|Description|  
     |--------------------------------- |---------------------------------------|  
     |**Column No.**|Specify which column in the data file that you want to define a map for.<br /><br /> You can only select columns that are represented by lines on the **Column Definitions** FastTab on the **Data Exchange Definition** page.|
     |**Column Caption**|Specify the caption of the column in the external file that is mapped to the field in the **Target Table ID** field when you're using an intermediate table for data import.|
     |**Field ID**|Specify which field the column in the **Column No.** field maps to.<br /><br /> You can only select from fields that exist in the table that you specified in the **Table ID** field on the **General** FastTab.|
     |**Field Caption**|Specify the caption of the field in the external file that is mapped to the field in the **Target Table ID** field, when you're using an intermediate table for data import.|
     |**Optional**|Specify if the map should be skipped if the field is empty. If you don't select this option, then an export error occurs if the field is empty.|  
     |**Transformation Rule**|Specify the rule that transforms imported text to a supported value before it can be mapped to a specified field. When you choose a value in this field, the same value is entered in the **Transformation Rule** field in the **Data Exch. Field Mapping Buf.** table and vice versa. To learn more about how to apply transformation rules, go to [Transformation Rules](#transformation-rules).|
     |**Overwrite Value**|Specify that the new value can overwrite the current value.|
     |**Priority**|Specify the order that the field mappings must be processed. The field mapping with the highest priority number is processed first.|
     |**Multiplier**|Specify a multiplier to be applied on numeric data, including negative values.|

   * With the **Use as Intermediate Table** toggle enabled:

     |Field|Description|  
     |---------------------------------|---------------------------------------|  
     |**Column No.**|Specify which column in the data file that you want to define a map for.<br /><br /> You can only select columns that are represented by lines on the **Column Definitions** FastTab on the **Data Exchange Definition** page.|
     |**Column Caption**|Specify the caption of the column in the external file that is mapped to the field in the **Target Table ID** field when you're using an intermediate table for data import.|
     |**Target Table ID**|Specify the table that the value in the **Column Caption** field is mapped to, when you're using an intermediate table for data import.|
     |**Table Caption**|Specify the name of the table in the **Target Table ID** field, which is the table that the value in the **Column Caption** field is mapped to, when you're using an intermediate table for data import.|
     |**Target Field ID**|Specify the field in the target table that the value in the **Column Caption** field is mapped to, when you're using an intermediate table for data import.|
     |**Field Caption**|Specify the name of the field in the target table that the value in the **Column Caption** field is mapped to, when you're using an intermediate table for data import.|
     |**Validate Only**|Specify that the element-to-field map isn't used to convert data, but only to validate data.|
     |**Transformation Rule**|Specify the rule that transforms imported text to a supported value before it can be mapped to a specified field. When you choose a value in this field, the same value is entered in the **Transformation Rule** field in the **Data Exch. Field Mapping Buf.** table and vice versa. To learn more about transformation rules, go to [Transformation Rules](#transformation-rules).|
     |**Priority**|Specify the order that the field mappings must be processed. The field mapping with the highest priority number is processed first.|

4. On the **Field Grouping** FastTab, specify rules you want to use to group your fields when you create the file by filling the fields as described in the following table.  

     |Field|Description|  
     |--------------------------------- |---------------------------------------|  
     |**Field ID**|Specify the number of the field in the external file that is used for grouping, and that the user must set this field.|
     |**Field Caption**|Specify the caption of the field in the external file that is used for grouping.|

## Transformation Rules

If the values in the fields you're mapping differ, you must use transformation rules for data exchange definitions to make them the same. You define transformation rules for data exchange definitions by opening an existing definition, or creating a new definition, and then on the **Line Definitions** FastTab, choosing **Manage**, and then **Field Mapping**. Predefined rules are provided, but you can also create your own. The following table describes the types of transformations that you can perform.

|Option|Description|
|---------|---------|
|**Uppercase**|Capitalize all letters.|
|**Lowercase**|Make all letters lowercase.|
|**Title Case**|Capitalize the first letter of each word.|
|**Trim**|Remove empty spaces before and after the value.|
|**Substring**|Transform a specific portion of a value. To specify where to start the transformation, choose either a **Start Position** or **Starting Text**. The starting position is a number that represents the first character to transform. The starting text is the letter immediately before the letter to replace. If you want to start with the first letter in the value, use a starting position instead. To specify where to stop the transformation, you choose either **Length**, which is the number of characters to replace, or the **Ending Text**, which is the character that is immediately after the last character to transform.|
|**Replace**|Find a value and replace it with another. This transformation is useful for replacing simple values, such as a particular word.|
|**Regular Expression - Replace**|Use a regular expression as part of a find and replace operation. This transformation is useful for replacing multiple, or more complex, values.|
|**Remove Non-Alphanumeric Characters**|Delete characters that aren't letters or numbers, such as symbols or special characters.|
|**Date Formatting**|Specify how to display dates. For example, you can transform DD-MM-YYYY to YYYY-MM-DD.|
|**Decimal Formatting**|Define rules for decimal placement and rounding precision.|
|**Regular Expression - Match**|Use a regular expression to find one or more values. This rule is similar to the **Substring** and **Regular Expression - Replace** options.|
|**Custom**|This transformation rule is an advanced option that requires assistance from a developer. It enables an integration event that you can subscribe to if you want to use your own transformation code. If you're a developer and want to use this option, go to [Tip for developers: Example of the custom option](#tip-for-developers-example-of-the-custom-option).|
|**Date and Time Formatting**|Define how to display the current date and the time of day.|
|**Field Lookup**|Use fields from different tables. To use it, you need to follow some rules. First, use **Table ID** to specify the ID of the table that contains the record for the field lookup. Then, in the **Source Field ID** field, specify the ID of the field that contains the record for the field lookup. Finally, in the **Target Field ID** field, specify the ID of the field to find the record for the field lookup. Optionally, use the **Field Lookup Rule** field to specify the type of the field lookup. For the **Target** field, the value from the **Target Field ID** is used, even if it's blank. For the **Original If Target Is Blank** field, the original value is used if the target is blank.|
|**Round**|Round the value in this field using some extra rules. First, in the **Precision** field, specify a rounding precision. Then, in the **Direction** field, specify the rounding direction.|

> [!NOTE]  
> TO learn more about date and time formatting, go to [Standard Date and Time Format Strings](/dotnet/standard/base-types/standard-date-and-time-format-strings).

### Tip for developers: Example of the custom option

The following example shows how to implement your own transformation code.

```AL
codeunit 60100 "Hello World"
{
    [EventSubscriber(ObjectType::Table, Database::"Transformation Rule", 'OnTransformation', '', false, false)]
    procedure OnTransformation(TransformationCode: Code[20]; InputText: Text; var OutputText: Text)
    begin
        if TransformationCode = 'CUST' then
            OutputText := InputText + ' testing';
    end;
}
```

After you define your rules, you can test them. In the **Test** FastTab, enter an example of a value that you want to transform, then check the results by choosing **Update**.

## Export a data exchange definition as an XML file for use by others

After you create the data exchange definition for a specific data file, you can export the data exchange definition as an XML file that you can import. This task is described in the following procedure.  

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Data Exchange Definitions**, then choose the related link.  
2. Select the data exchange definition that you want to export.  
3. Choose the **Export Data Exchange Definition** action.  
4. Save the XML file that represents the data exchange definition in an appropriate location.  

    If a data exchange definition was already created, you just have to import the XML file into the Data Exchange Framework. This task is described in the following procedure.  

## Import an existing data exchange definition

1. Save the XML file that represents the data exchange definition in an appropriate location.  
2. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Data Exchange Definitions**, then choose the related link.  
3. Choose the **Import Data Exchange Definition** action.  
4. Choose the file that you saved in step 1.  

## Related information

[Set Up Data Exchange](across-set-up-data-exchange.md)  
[Set Up Electronic Document Sending and Receiving](across-how-to-set-up-electronic-document-sending-and-receiving.md)  
[Collect Payments with SEPA Direct Debit](finance-collect-payments-with-sepa-direct-debit.md)  
[Make Payments with AMC Banking 365 Fundamentals extension or SEPA Credit Transfer](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md)  
[Incoming Documents](across-income-documents.md)  
[General Business Functionality](ui-across-business-areas.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-powerbi-project-invoiced-sales-by-customer
---
title: Project Invoiced Sales by Customer (Power BI report)
description: The Project Invoiced Sales by Customer report describes your sales activities based on each project for specific customers.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 37039_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Project Invoiced Sales by Customer (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Project Invoiced Sales by Customer** report breaks down your sales values for each project and highlights customer sales.

This report can show you key information about the customers you sell to the most, and which projects generate the sales.

:::image type="content" source="media/projects/project-invoiced-sales-by-customer.png" alt-text="Screenshot of the Project Invoiced Sales by Customer Power BI Report" lightbox="media/projects/project-invoiced-sales-by-customer.png":::

## Use the report

The report is typically used by project managers, but leadership can also use it to view your high-volume customers.

Project managers use the report to track sales to each customer for each individual project. The report helps you monitor the performance of each project and identify potential issues if you aren't meeting quota for a customer or you're over spending.

People in leadership teams want to a high-level view of your project sales and which customers you sell to. The report can give you a clear understanding of this data to help you make informed business decisions.

## Key Performance Indicators (KPIs)

The *Project Invoiced Sales by Customer* report includes the following KPIs:

- [**% Invoiced**](projects-powerbi-kpis.md#-invoiced)
- [**Quantity**](projects-powerbi-kpis.md#quantity)
- [**Billable (Invoiced Price)**](projects-powerbi-kpis.md#billable-invoiced-price)
- [**Billable (Total Price)**](projects-powerbi-kpis.md#billable-total-price)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]


## Data used in the report

The report uses data from the following tables in [!INCLUDE [prod_short](includes/prod_short.md)]:

- Project
- Project Ledger Entries
- Project Planning Lines

## Try the report

Try the report here: [Project Invoiced Sales by Customer](https://businesscentral.dynamics.com?page=37039)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Projects app](projects-powerbi-app.md)  
[Built-in Projects reports](project-reports.md)  
[Project management analytics overview](projects-analytics-overview.md)  
[Project management overview](projects-manage-projects.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-emissions-by-category-and-scope
---
title: Emissions by Category and Scope
description: The Emission by Scope report organizes emission types based on the account category and scope to show how they're tracking.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Emissions by Category and Scope (Power BI Report)

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

The Emission by Category and Scope report gives an overview of values for individual emissions. The report organizes emissions values by account category, subcategory, and then the different scopes. With this breakdown, you can identify key account categories that are tracking high emissions and make an informed decision on where to make changes.

:::image type="content" source="media\sustainability\emissions-by-category-and-scope.png" alt-text="Screenshot of the Emissions by Category and Scope Power BI report" lightbox="media\sustainability\emissions-by-category-and-scope.png":::

## Use the report

Sustainability Managers use the report to get clear, concise information about the organization's emissions. The report can help identify irregularities based on a specific scope or a category.

Procurement Managers use this report to analyze the impacts of Scope 3 emissions related to the purchase of goods and services. This analysis can help to identify key suppliers and prioritize partnerships with more sustainable vendors.

## Key performance indicators (KPIs)

The Emission by Category and Scope report includes the following KPIs and measures:

- [CO2 Emissions](sustainability-powerbi-kpis.md#co2-emissions)
- [CH4 Emissions](sustainability-powerbi-kpis.md#ch4-emissions)
- [N2O Emissions](sustainability-powerbi-kpis.md#n2o-emissions)

Choose the link for a KPI to learn more about what it means, its calculation, and what data is used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The Emission by Category and Scope report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sustainability Ledger Entry
- Sustainability Account Category

## Try the report

Try the report here: [Emissions by Category and Scope](https://businesscentral.dynamics.com?page=37088)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  
end of article

