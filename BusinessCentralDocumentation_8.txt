Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-item-application
---
title: Design Details - Item Application | Microsoft Docs
description: This topic describes where inventory quantity and value are recorded when you post an inventory transaction.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: design, items, ledger entries, posting, inventory
ms.date: 06/08/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Item Application

When you post an inventory transaction, the quantity posting is recorded in the item ledger entries, the value posting in the value entries. For more information, see [Design Details: Inventory Posting](design-details-inventory-posting.md).  

In addition, an item application is made to link the cost recipient to its cost source to provide cost forwarding according to the costing method. For more information, see [Design Details: Costing Methods](design-details-costing-methods.md).  

[!INCLUDE[prod_short](includes/prod_short.md)] makes two types of item application.  

|Application type|Description|  
|----------------------|---------------------------------------|  
|Quantity application|Created for all inventory transactions|  
|Cost application|Created for inbound entries together with a quantity application as a result of user interaction in special processes.|  

Item applications can be made in the following ways.  

|Method|Description|Application type|  
|------------|---------------------------------------|----------------------|  
|Automatic|Occurs as general cost forwarding according to the costing method|Quantity application|  
|Fixed|Made by the user when:<br /><br /> -   Processing returns<br />-   Posting corrections<br />-   Undoing quantity postings<br />-   Creating drop shipments **Note:**  The fixed application can be  made either manually by entering an entry number in the **Appl.-from Item Entry** field or by using a function, such as the **Get Posted Document Lines to Reverse**.|Quantity application<br /><br /> Cost application **Note:**  Cost application only occurs in inbound transactions where the **Appl.-from Item Entry** field is filled to create a fixed application. See the next table.|  

Whether quantity applications or cost applications are made depends on the direction of the inventory transaction and whether the item application is made automatically or fixed, in connection with special processes.  

The following table shows, based on the central application fields on inventory transaction lines, how costs flow depending on the transaction direction. It also indicates when and why the item application is of type quantity or cost.  

|-|Appl.-to Item Entry field|Appl.-from Item Entry field|  
|-|--------------------------------|----------------------------------|  
|Application for outbound entry|The outbound entry pulls the cost from the open inbound entry.<br /><br /> **Quantity application**|Not supported|  
|Application for inbound entry|The inbound entry pushes the cost onto the open outbound entry.<br /><br /> The inbound entry is the cost source.<br /><br /> **Quantity application**|The inbound entry pulls the cost from the outbound entry. **Note:**  When making this fixed application, the inbound transaction is treated as a sales return. Therefore, the applied outbound entry remains open. <br /><br /> The inbound entry is NOT the cost source.<br /><br /> **Cost application**|  

> [!IMPORTANT]  
> A sales return is NOT considered a cost source when fixed applied.  
>
> The sales entry remains open until the real source is posted.  

An item application entry records the following information.  

|Field|Description|  
|---------------------------------|---------------------------------------|  
|**Item Ledger Entry No.**|The number of the item ledger entry for the transaction that this application entry is created for.|  
|**Inbound Item Entry No.**|The item ledger entry number of the inventory increase to which the transaction should be linked, if applicable.|  
|**Outbound Item Entry No.**|The item ledger entry number of the inventory decrease to which the transaction should be linked, if applicable.|  
|**Quantity**|The quantity being applied.|  
|**Posting Date**|The posting date of the transaction.|  

## Inventory Increase  
When you post an inventory increase, then a simple item application entry is recorded without an application to an outbound entry.  

### Example  
The following table shows the item application entry that is created when you post a purchase receipt of 10 units.  

|Posting Date|Inbound Item Entry No.|Outbound Item Entry No.|Quantity|Item Ledger Entry No.|  
|------------------|----------------------------------------------|-----------------------------------------------|--------------|---------------------------------------------|  
|01-01-20|1|0|10|1|  

## Inventory Decrease  
When you post an inventory decrease, an item application entry is created that links the inventory decrease to an inventory increase. This link is created by using the item's costing method as a guideline. For items using FIFO, Standard, and Average costing methods, the linking is based on the first-in-first-out principle. The inventory decrease is applied to the inventory increase with the earliest posting date. For items using the LIFO costing method, the linking is based on the last-in-first-out principle. The inventory decrease is applied to the inventory increase with the most recent posting date.  

In the  **Item Ledger Entry** table, the **Remaining Quantity** field shows the quantity that has not yet been applied. If the remaining quantity is more than 0, then the **Open** check box is selected.  

### Example  
The following example shows the item application entry that is created when you post a sales shipment of 5 units of the items that were received in the previous example. The first item application entry is the purchase receipt. The second application entry is the sales shipment.  

The following table shows the two item application entries that result from the inventory increase and the inventory decrease, respectively.  

|Posting Date|Inbound Item Entry No.|Outbound Item Entry No.|Quantity|Item Ledger Entry No.|  
|------------------|----------------------------------------------|-----------------------------------------------|--------------|---------------------------------------------|  
|01-01-20|1|0|10|1|  
|01-03-20|1|2|-5|2|  

## Fixed Application  
You make a fixed application when you specify that the cost of an inventory increase should apply to a specific inventory decrease, or vice versa. The fixed application affects the remaining quantities of the entries, but the fixed application also reverses the exact cost of the original entry that you are applying to, or from.  

To make a fixed application, you use the **Appl.-to Item Entry** field or the **Appl.-from Item Entry** field in the document lines to specify the item ledger entry that you want the transaction line to apply to, or from. For example, you might make a fixed application when you want to create a cost application that specifies that a sales return should apply to a specific sales shipment to reverse the cost of the sales shipment. In this case, [!INCLUDE[prod_short](includes/prod_short.md)] ignores the costing method and applies the inventory decrease, or increase, for a sales return, to the item ledger entry that you specify. The advantage of making a fixed application is that the cost of the original transaction is passed to the new transaction.  

### Example – Fixed Application in Purchase Return  
The following example, which illustrates the effect of fixed application of a purchase return of an item using the FIFO costing method, is based on the following scenario:  

1. In entry 1, the user posts a purchase at a cost of LCY 10.00.  
2. In entry 2, the user posts a purchase at a cost of LCY 20.00.  
3. In entry 3, the user posts a purchase return. The user makes a fixed application to the second purchase by entering the item ledger entry number in the **Appl.-to Item Entry** field on the purchase return order line.  

The following table shows item ledger entries resulting from the scenario.  

|**Posting Date**|**Item Ledger Entry Type**|**Quantity**|**Cost Amount (Actual)**|**Item Ledger Entry No.**|  
|----------------------|---------------------------------------------------|------------------|----------------------------------------------------|---------------------------------------------------|  
|01-04-20|Purchase|10|10.00|1|  
|01-05-20|Purchase|10|20.00|2|  
|01-06-20|Purchase (Return)|-10|-20.00|3|  

Because a fixed application is made from the purchase return to the second purchase entry, the items are returned at the correct cost. If the user had not performed the fixed application, then the returned item would be incorrectly valued at LCY 10.00 because the return would have been applied to the first purchase entry according to the FIFO principle.  

The following table shows the item application entry that results from the fixed application.  

|Posting Date|Inbound Item Entry No.|Outbound Item Entry No.|Quantity|Item Ledger Entry No.|  
|------------------|----------------------------------------------|-----------------------------------------------|--------------|---------------------------------------------|  
|01-06-20|2|3|10|3|  

The cost of the second purchase, LCY 20.00, is passed correctly to the purchase return.  

### Example – Fixed Application with Average Cost  
The following example, which illustrates the effect of fixed application, is based on the following scenario for an item that uses the Average costing method:  

1. In entry numbers 1 and 2, the user posts two purchase invoices. The second invoice has the incorrect direct unit cost of LCY 1000.00.  
2. In entry number 3, the user posts a purchase credit memo with a fixed application applied to the purchase entry with the wrong direct unit cost. The sum of the **Cost Amount (Actual)** field for the two fixed applied value entries becomes 0.00  
3. In entry number 4, the user posts another purchase invoice with the correct direct unit cost of LCY 100.00  
4. In entry number 5, the user posts a sales invoice.  
5. The inventory quantity is 0, and the inventory value is also 0.00  

The following table shows the result of the scenario on the item's value entries.  

The following table shows the result of the scenario on the item's value entries after posting is complete and cost adjustment has been run.

|Posting Date|Item Ledger Entry Type|Valued Quantity|Cost Amount (Actual)|Appl.-to Item Entry|Valued by Average Cost|Item Ledger Entry No.|Entry No.|  
|-------------------------------------|-----------------------------------------------|-----------------------------------------|------------------------------------------------|--------------------------------------------|-------------------------------------------------|-----------------------------------------------|----------------------------------|  
|01-01-20|Purchase|1|200.00||No|1|1|  
|01-01-20|Purchase|1|1000.00||No|2|2|  
|01-01-20|Purchase|-1|-1000|2|No|3|3|  
|01-01-20|Purchase|1|100.00||No|4|4|  
|01-01-20|Sale|-2|-300.00||Yes|5|5|  

If the user had not made the fixed application between the purchase credit memo and the purchase with the incorrect direct unit cost (step 2 in the previous scenario), then the cost would have been adjusted differently.  

The following table shows the result on the item's value entries if step 2 in the previous scenario is performed without a fixed application.  

|Posting Date|Item Ledger Entry Type|Valued Quantity|Cost Amount (Actual)|Valued by Average Cost|Item Ledger Entry No.|Entry No.|  
|-------------------------------------|-----------------------------------------------|-----------------------------------------|------------------------------------------------|--------------------------------------------|-------------------------------------------------|-----------------------------------------------|----------------------------------|  
|01-01-20|Purchase|1|200.00|No|1|1|  
|01-01-20|Purchase|1|1000.00|No|2|2|  
|01-01-20|Purchase|-1|433,33|Yes|3|3|  
|01-01-20|Purchase|1|100.00|No|4|4|  
|01-01-20|Sale|-2|866,67|Yes|5|5|  

In entry number 3, the value in the **Cost Amount (Actual)** field is valued by average and therefore includes the erroneous posting of 1000.00. Accordingly, it becomes -433,33, which is an inflated cost amount. The calculation is 1300 / 3 = .-433,33.  

In entry number 5, the value of the **Cost Amount (Actual)** field for this entry is also inaccurate for the same reason.  

> [!NOTE]  
>  If you create a fixed application for an inventory decrease for an item that uses the Average costing method, then the decrease will not receive the average cost for the item as usual, but will instead receive the cost of the inventory increase that you specified. That inventory decrease is then no longer part of the average cost calculation.  

### Example – Fixed Application in Sales Return  
Fixed applications are also a very good means of reversing cost exactly, such as with sales returns.  

The following example, which illustrates how a fixed application ensures exact cost reversal, is based on the following scenario:  

1.  The user posts a purchase invoice.  
2.  The user posts a sales invoice.  
3.  The user posts a sales credit memo for the returned item, which applies to the sales entry, to reverse the cost correctly.  
4.  A freight cost, related to the purchase order that was posted earlier, arrives. The user posts it as an item charge.  

The following table shows the result of scenario steps 1 through 3 on the item's value entries.  

|Posting Date|Item Ledger Entry Type|Valued Quantity|Cost Amount (Actual)|Appl.-from Item Entry|Item Ledger Entry No.|Entry No.|  
|-------------------------------------|-----------------------------------------------|-----------------------------------------|------------------------------------------------|------------------------------------------------|-----------------------------------------------|----------------------------------|  
|01-01-20|Purchase|1|1000.00||1|1|  
|02-01-20|Sale|-1|1000.00||2|2|  
|03-01-20|Sale (Credit Memo)|1|1000|2|3|3|  

The following table shows the value entry resulting from scenario step 4, posting the item charge.  

|Posting Date|Item Ledger Entry Type|Valued Quantity|Cost Amount (Actual)|Appl.-from Item Entry|Item Ledger Entry No.|Entry No.|  
|-------------------------------------|-----------------------------------------------|-----------------------------------------|------------------------------------------------|------------------------------------------------|-----------------------------------------------|----------------------------------|  
|04-01-20|(Item Charge)|1|100.00||1|4|  

The following table shows the effect of the exact cost reversal on the item's value entries.  

|Posting Date|Item Ledger Entry Type|Valued Quantity|Cost Amount (Actual)|Appl.-from Item Entry|Item Ledger Entry No.|Entry No.|  
|-------------------------------------|-----------------------------------------------|-----------------------------------------|------------------------------------------------|------------------------------------------------|-----------------------------------------------|----------------------------------|  
|01-01-20|Purchase|1|1000.00||1|1|  
|02-01-20|Sale|-1|1100.00||2|2|  
|03-01-20|Sale (Credit Memo)|1|1100.00|2|3|3|  
|04-01-20|(Item Charge)|1|100.00||1|4|  

When you run the **Adjust Cost - Item Entries** batch job, the increased cost of the purchase entry, due to the item charge, is forwarded to the sales entry (entry number 2). The sales entry then forwards this increased cost to the sales credit entry (entry number 3). The final result is that the cost is correctly reversed.  

> [!NOTE]  
>  If you are working with returns or credit memos and you have set up the **Exact Cost Reversing Mandatory** field in either the **Purchases & Payables Setup** page or the **Sales & Receivables Setup** page, as appropriate for your situation, then [!INCLUDE[prod_short](includes/prod_short.md)] automatically fills the various application entry fields when you use the **Copy from Document** function. If you use the **Get Posted Document Lines to Reverse** function, then the fields are always filled automatically.  

> [!NOTE]  
>  If you post a transaction with a fixed application, and the item ledger entry that you are applying to is closed, meaning that the remaining quantity is zero, then the old application is automatically undone and reapplies the item ledger entry using the fixed application that you specified.  

## Transfer Application  
When an item is transferred from one location to another, inside the company inventory, then an application is created between the two transfer entries. Valuing a transfer entry depends on the costing method. For items using the Average costing method, valuation is made using the average cost in the average cost period in which the valuation date of the transfer occurs. For items using other costing methods, valuation is made by tracing back to the cost of the original inventory increase.  

### Example – Average Costing Method  
The following example, which illustrates how transfer entries are applied, is based on the following scenario for an item using Average costing method and an average cost period of Day.  

1. The user purchases the item at a cost of LCY 10.00.  
2. The user purchases the item again at a cost of LCY 20.00.  
3. The user transfers the item from EAST to WEST location.  

The following table shows the effect of the transfer on the item's value entries.  

|Posting Date|Item Ledger Entry Type|Location Code|Valued Quantity|Cost Amount (Actual)|Entry No.|  
|-------------------------------------|-----------------------------------------------|--------------------------------------|-----------------------------------------|------------------------------------------------|----------------------------------|  
|01-01-20|Purchase|EAST|1|10.00|1|  
|01-01-20|Purchase|EAST|1|20.00|2|  
|02-01-20|Transfer|EAST|-1|15.00|3|  
|02-01-20|Transfer|WEST|1|15.00|4|  

### Example – Standard Costing Method  
The following example, which illustrates how transfer entries are applied, is based on the following scenario for an item using Standard costing method and an average cost period of Day.  

1. The user purchases the item at a standard cost of LCY 10.00.  
2. The user transfers the item from EAST to WEST location at a standard cost of LCY 12.00.  

The following table shows the effect of the transfer on the item's value entries.  

|Posting Date|Item Ledger Entry Type|Location Code|Valued Quantity|Cost Amount (Actual)|Entry No.|  
|-------------------------------------|-----------------------------------------------|--------------------------------------|-----------------------------------------|------------------------------------------------|----------------------------------|  
|01-01-20|Purchase|EAST|1|10.00|1|  
|02-01-20|Transfer|EAST|-1|10.00|2|  
|02-01-20|Transfer|WEST|1|10.00|3|  

Since the value of the original inventory increase is LCY 10.00, the transfer is valued at that cost, not at LCY 12.00.  

## Reapplication  
Because of the way an item's unit cost is calculated, an incorrect item application could lead to a skewed average cost and unit cost. The following scenarios may cause incorrect item applications, which require that you undo item applications and reapply item ledger entries:  

* You have forgotten to make a fixed application.  
* You have made an incorrect fixed application.  
* You want to overrule the application created automatically when posting, according to the item's costing method.  
* You have to return an item to which a sale has already been manually applied, without using the **Get Posted Document Lines to Reverse** function, and you must therefore undo the application.  

[!INCLUDE[prod_short](includes/prod_short.md)] offers a feature for analyzing and correcting item applications. This work is performed on the **Application Worksheet** page.  

## See Also  
[Design Details: Known Item Application Issue](design-details-inventory-zero-level-open-item-ledger-entries.md)  
[Design Details: Inventory Costing](design-details-inventory-costing.md)  
[Design Details: Costing Methods](design-details-costing-methods.md)  
[Design Details: Average Cost](design-details-average-cost.md)   
[Design Details: Cost Adjustment](design-details-cost-adjustment.md)  
[Managing Inventory Costs](finance-manage-inventory-costs.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-enter-external-document-numbers
---
title: Enter external document numbers
description: You can enter external document numbers for customers and vendors in all sales and purchase orders, invoices, and credit memos. You can use these numbers to search for posted sales and purchase lines later.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 03/21/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Enter external document numbers

You can enter external document numbers for customers and vendors in all sales and purchase orders, invoices, and credit memos. You can use these numbers to search for posted sales and purchase lines later.  

> [!NOTE]
> Specify the document number that your customer or vendor has specified. [!INCLUDE [prod_short](includes/prod_short.md)] does not check if these external document numbers are unique or duplicates.

The following procedure explains how to specify an external document number on a sales order, but similar steps apply to other sales and purchase documents.

## To enter external document numbers in a sales order  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Select the relevant sales order, and then choose the **Edit** action.  
3. On the **General** FastTab, in the **External Document No.** field, enter the invoice number.  

    On purchase documents, the relevant field is the **Vendor Invoice No.** field.
4. Fill in any other required fields.  

## See also

[External Document Numbers on Purchase Documents](purchasing-ext-doc-no.md)  
[External Document Numbers on Sales Documents](sales-how-invoice-sales.md#external-document-numbers)  
[Sell Products](sales-how-sell-products.md)  
[Purchasing](purchasing-manage-purchasing.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/value-chain-howto-purchase
---
title: Sustainability value chain in purchasing
description: Learn about understanding how value chain process starts with the purchase process.
author: altotovi
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Sustainability, scope 3, emission, GHG, CSRD, carbon, CO2, value chain
ms.search.form: 50, 51
ms.date: 01/22/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Sustainability value chain in purchasing

The requirement for enabling the us of the sustainability value chain in the purchase process is to enable the following fields on the **Sustainability Setup** page:

- **Enable Value Chain tracking** to enable value chain capabilities in all processes.  
- **Use Emissions In Purchase Documents** to enable emission fields in the purchase document lines.

To do so, follow next steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Setup**, and then select the related link.
2. Check whether the basic setup already exists. If it doesn't, follow [these instructions](finance-sustainability-setup.md) to set it up.  
3. On the **Procurement** FastTab, fill in the fields that are related to the sustainability value chain features.  
   1. Select the **Use Emissions In Purchase Documents** field.
   2. Select the **Enable Value Chain tracking** field.
4. Close the page.

## Work with purchase documents

To learn how to work with purchase documents in sustainability, go to [How to record emissions with purchase documents](finance-sustainability-journal.md#purchase-documents).  

If you enabled the value chain on the **Sustainability Setup** page, and created a purchase document with the **Sustainability Accounts** and emissions (minimum one emission), [!INCLUDE [prod_short](includes/prod_short.md)] automatically starts the sustainability value chain and posts details to the **Sustainability Value Entries** page.  

> [!NOTE]
> [!INCLUDE [prod_short](includes/prod_short.md)] only creates sustainability value entries for items. [!INCLUDE [prod_short](includes/prod_short.md)] doesn't support emissions from item charges.

> [!IMPORTANT]
> Because the sustainability value chain works only with the carbon equivalent (CO2e), before you start, configure carbon equivalent factors on the Emission Fees page. To learn more, go to [Emission fees](value-chain-howto-setup.md#emission-fees).  

After you post the purchase documents, the results display on the **Posted Purchase Invoice** or **Posted Purchase Credit Memo** pages. To review the results, use the **Find entries** action. In the list of entries, find the sustainability value entry. To open a list of value chain transactions related to your purchase documents, select the entry.  

When you post the document, [!INCLUDE [prod_short](includes/prod_short.md)] also updates the **CO2e per Unit** field for all items in your purchase document. If the purchase document was the first for this item, [!INCLUDE [prod_short](includes/prod_short.md)] uses the value from document. If you already had documents, [!INCLUDE [prod_short](includes/prod_short.md)] uses the average model to calculate the **CO2e per Unit** value for your item.

## Related information

[Sustainability Value Chain Overview](value-chain-howto-overview.md)  
[Sustainability Management overview](finance-manage-sustainability.md)  
[Sustainability setup](finance-sustainability-setup.md)  
[Record sustainability entries](finance-sustainability-journal.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-month-to-date
---
title: Sales Month-to-Date (MTD) (Power BI Report)
description: The *Month-to-Date (MTD)* report allows you to monitor the progress of their sales revenue for the current month
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37003_Primary
ms.date: 10/26/2024
ms.service: dynamics-365-business-central
---

# Month-to-Date (MTD) (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Month-to-Date (MTD)** report is a must-have report for executives and managers. The report helps them monitor the progress of their sales revenue for the current month. This report provides a detailed overview of the total revenue generated from sales activities from the start of the month up until the current date.

> [!NOTE]
> The month to date (MTD) figure doesn't include revenue generated on the current date because sales activities might still be ongoing.

:::image type="content" source="media/powerbi/sales/sales-month-to-date.png" alt-text="Screenshot of the Month-to-Date (MTD) Power BI report" lightbox="media/powerbi/sales/sales-month-to-date.png":::

## Use the report

Leadership and management teams use the report to monitor sales growth per month.  

Business leaders use the report to view the organization's sales performance for the current month. This report offers an easy way to monitor sales revenue progress from the beginning of the month up until the current day. By analyzing the sales figures for the current month and previous months, you can identify trends and make strategic decisions for your organization. With this information at your fingertips, you can make data-driven decisions that help you optimize your sales strategy and drive revenue growth for your business.  

Sales managers can use the report to analyze and compare the organization's current sales performance with previous years. The gross profit figures can provide a broader context for the current sales performance. The report also shows a breakdown of sales contributions from top customers. The breakdown lets you identify which customers your team should focus on and maintain good relationships with to improve their sales performance. With these insights, you can guide your team better and take actions to improve their sales.

## Key performance indicators

The report includes the following key performance indicators (KPI) and measures:

- [**Sales Amount**](sales-powerbi-sales-kpis.md#sales-amount)  
- [**Sales Amount MTD (Fiscal)**](sales-powerbi-sales-kpis.md#sales-amount-mtd-fiscal)
- [**Gross Profit MTD (Fiscal)**](sales-powerbi-sales-kpis.md#gross-profit-mtd-fiscal)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Value Entry
- Sales Line
- Customer

## Try the report

Try the report here: [Month-to-Date](https://businesscentral.dynamics.com?page=37003)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-consolidate-customer-vendor-balances
---
title: Consolidate Balances for a Company that is a Customer and a Vendor
description: Describes how to consolidate balances for a customer that is also a vendor.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: payment process, cash receipt
ms.search.form: 5052, 21, 5050 
ms.date: 06/27/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Consolidate Balances for a Company that is a Customer and a Vendor
A company that you do business with might be both a customer and a vendor. When that's the case, you can avoid making unnecessary payments or receipts, and perhaps save on transaction fees, by consolidating the company's customer and vendor balances. Consolidation compares the company's balances as a vendor and as a customer, and then nets the amount so that that either the customer or vendor balance remains, depending on which amount was higher. 

To consolidate the balances, you must first link the customer and vendor companies through a contact that has the type **Company**. A customer or vendor can only have one contact of the type **Company**. For more information, see [Create Contacts](marketing-create-contact-companies.md).

After you link the companies, the **Customer Card** page offers the **Balance as Vendor** field, and the **Vendor Card** page includes the **Balance as Customer** field.

Though it's not a requirement, the customer and vendor companies are typically the same legal entity. 

## Before you start
Before you consolidate balances, specify a few settings on the **Marketing Setup** page. 

* On the **Interactions** FastTab, you must specify business relation codes in the **Customers** and **Vendors** fields. [!INCLUDE[prod_short](includes/prod_short.md)] uses this information to determine the type of relation to display for contacts. 
* Optional: On the **Duplicates** FastTab, turn duplicate search on or off. By default, duplicate search is turned on. For more information, see [Handling duplicates](#handling-duplicates). 

## Link an existing customer and vendor company through a contact
The following steps describe how to link a customer and a vendor through a contact.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer** or **Vendor**, and then choose the related link.
2. Choose the customer or vendor, and then choose the **Contact** action.   
3. Choose the contact, and then choose the **Link with existing** action.
4. Choose the type of entity to create a business relation with.
5. Fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

## Create a vendor from a customer, or vice versa
You can create a new vendor from an existing customer, or a new customer from a vendor. From the **Customer** or **Vendor** pages, open the **Contact** page. Choose the **Create as** action, and then either the **Customer** or **Vendor** options. 

## Create a new customer or vendor and link them through a vendor or customer contact
1. Create a new customer or vendor. For more information, see [Register New Customers](sales-how-register-new-customers.md).
2. After you set up the customer or vendor, choose the **Create** action, and then choose either the **Customer** or **Vendor** options. 

## To consolidate the customer and vendor balances for a contact company
On the **Payment Journal** page, use the **Net Customer/Vendor Balances** action to consolidate the customer and vendor balances into a single net amount. The action creates, but doesn't post, payment journal lines that contain the net balances.

> [!NOTE]
> If the customer or vendor balances contain amounts that are in different currencies, a line is created for the amount in each currency.

## Handling duplicates
If you turn on duplicate search on the **Duplicates** FastTab on the **Marketing Setup** page, a warning will display when you change the values of fields that are part of the setup for duplicate search strings. When a duplicate is found, you can take the following actions:

* Combine the duplicate contacts into a single contact that is the same for both the customer and vendor by using the **Merge With** capability on the **Contact Card** page. Typically, merging contacts is done only when the customer and vendor are the same legal entity. For more information, see [Merge Duplicate Records](sales-how-merge-duplicate-records.md). 
* Delete the vendor business relation for the vendor or customer contact, and then use the **Link to Existing** action to link to a different contact.    

## See Also
[Sales](sales-manage-sales.md)  
[Register New Customers](sales-how-register-new-customers.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/value-chain-howto-sales
---
title: Sustainability value chain in sales
description: Learn about working with items and their embedded carbon footprints during the sales process.
author: altotovi
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Sustainability, scope 3, emission, GHG, CSRD, carbon, CO2, value chain, sales, invoice
ms.search.form: 42, 43
ms.date: 01/22/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap-template
---
# Sustainability value chain in sales

When you sell items, [!INCLUDE [prod_short](includes/prod_short.md)] updates the **CO2e per Unit** field from the **Item** card for each sales line that contains emission values. It uses the average calculation method to calculate the value.  

When you post all sales documents, the posted documents keep the **CO2e per Unit** and **Total CO2e** values for each line.

The result of posting shows as a new sustainability value entry for each line that has **Sale** as its **Item Ledger Entry Type**.

> [!NOTE]
> The **CO2e per Unit** and **Total CO2e** values aren't used in default report layouts. However, if you want to show these details when you print reports, you can create a new document report to show this data.  

## Related information  

[Sustainability Value Chain Overview](value-chain-howto-overview.md)  
[Sustainability Management overview](finance-manage-sustainability.md)  
[Sustainability setup](finance-sustainability-setup.md)  
[Record sustainability entries](finance-sustainability-journal.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/azure-openai-data
---
title: Azure OpenAI Service and Business Central data
description: Understand how Azure OpenAI Service processes Business Central data when using Copilot. Learn security, privacy, and compliance aspects.
author: mikebcmsft
ms.author: mikebc
ms.reviewer: jswymer
ms.topic: conceptual 
ms.collection: bap-ai-copilot
ms.date: 04/01/2025
ms.custom: bap-template 
---
# Azure OpenAI Service and Business Central data 

Copilot in Business Central uses AI from the Azure OpenAI Service, hosted and operated by Microsoft and built with enterprise-grade security, privacy, and compliance controls. This article explains the data that the service processes when you use Copilot.

## How Business Central communicates with Azure OpenAI Service

Each time you use Copilot, your inputs (prompts) and outputs (results), including any data needed for Copilot to perform the task, are sent to the Azure OpenAI Service endpoint.

- Each request to Copilot, such as a chat message or a request to match records, is converted to one or more service calls to the endpoint.
- Prompts, results, and data from any one call is never shared or accessible to other calls by other users of the service. Including business data with prompts improves the quality of Copilot responses by grounding them in the latest information from the Business Central database. Business Central selects this data and retrieves it using Business Central's standard mechanisms for data access, ensuring that Copilot can only access the same data as the user operating Copilot. Copilot has no way to circumvent Business Central’s security, privacy, and compliance controls.  
- User input and business data might include personal information, depending on the task.
- Prompt and output data might be stored for up to 24 hours to monitor for abuse, but Microsoft only reviews the data if the automated systems flag it for review.
- Microsoft doesn't use your data to train, retrain, or improve Azure OpenAI Service foundation models.

> [!NOTE]
> When administrators activate a Copilot feature or enable data movement to Azure OpenAI Service, the entire company database remains in its location:
>
> - It isn't transferred to the Azure OpenAI Service.
> - It isn't moved to another geographic region.
> - AI isn't trained on that data.  

## Example Copilot features and their data flow

For a high-level understanding of the data sent to Azure OpenAI Service, the following table provides three examples of how Business Central sends prompts and data to the service.

The table isn't an exhaustive list of features and doesn't provide a complete and accurate picture of every data point sent to the service.

|Copilot feature|Example of user interaction|Example of data sent to Azure OpenAI Service|
|-|-|-|
|Chat|User asks Copilot to "show customer Adatum" |<ul><li>System instructions to interpret and act on the user's message, including system-defined constraints and AI safeguards.</li><li>The list of most likely table and page names, the list of available field names for those objects, along with descriptive information such as teaching tips and tooltips.</li></ul>| 
|Analysis assist|While viewing the Items list, the user asks Copilot to display "items by category" |<ul><li>System instructions to generate an analysis tab, constraints, and AI safeguards.</li><li>The list of column captions from the Items list, along with tooltips and similar descriptive information.</li><li>If the list includes option fields with predefined values, the possible values are included</li></ul>|
|Bank account reconciliation assist|User activates the **Reconcile** Copilot action on the details page |<ul><li>System instructions to compare records, constraints, and AI safeguards.</li><li>The list of bank statement lines (transaction descriptions, dates, and amounts) that the user requested Copilot to process. Additionally, the minimal list of bank account ledger entry records or G/L account names they're compared with.</li></ul>|

## Related information

[Copilot data movement across geographies](ai-copilot-data-movement.md)  
[Copilot international availability](https://aka.ms/bapcopilot-intl-report-external)  
[Configure Copilot and agent capabilities](enable-ai.md)  
[FAQ for Copilot data security and privacy for Dynamics 365 and Power Platform](/dynamics365/faqs-copilot-data-security-privacy?toc=/dynamics365/business-central/toc.json)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-setup-salespeople
---
title: Set Up a Salesperson | Microsoft Docs'
description: You can set up a identifier for each of your salespeople, so you can track an individual's performance or assign a salesperson to a contact.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: sales rep
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Salespeople

Many companies want to follow an individual employee's performance as a basis for calculating the sales commission or bonus. See, for example, the **Salesperson Commissions** report. A company may also want to assign a salesperson to each of their contacts.

When you have set up a salesperson on the **Salespeople** page, you can select it in the **Salesperson Code** field on all relevant records, such as G/L account, customer, vendor, contacts, and campaign cards. Then, when you post or set up invoices, credit memos, journal lines, finance charge activities, and so on, the salesperson code is carried to the resulting ledger entries.
<br><br>  
> [!Video https://learn-video.azurefd.net/vod/player?id=a6cbce42-6a16-4e85-83bc-ee4519ad4afc]

## To set up a salesperson code

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Salespeople**, and then choose the related link.
2. On the **Salespeople** page, choose the **New** action.

You can use salespeople in various relationship management and marketing work. For example, you can assign tasks to salespeople, so that the tasks are incorporated in sales opportunities that the salesperson are assigned to. For more information, see [Set Up Opportunity Sales Cycles and Cycle Stages](marketing-how-setup-opportunity-sales-cycles-stages.md).

## See also

[Setting Up Sales](sales-setup-sales.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-how-setup-bank-accounts
---
title: Set up bank accounts
description: Learn how bank accounts are used in Business Central, and how you can reconcile amounts with your bank.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: Yodlee, feed, stream
ms.search.form: 370, 371, 372, 373, 375, 423, 424, 425, 426, 1240, 1280
ms.date: 05/24/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Set up bank accounts

Use bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] to keep track of your banking transactions. Accounts can be denominated in your local currency or a foreign currency. After you set up bank accounts, you can also print checks. Bank accounts also offer features for [payment reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md), [bank reconciliation](bank-how-reconcile-bank-accounts-separately.md), and the import and export of bank files.

You can include bank accounts in transactions in general journal. Each bank account links to an account in the chart of accounts through the assigned bank account posting group. Using a bank account in a payment transaction automatically creates an entry in both the bank account and the connected general ledger (G/L) account.  

Bank accounts work differently depending on whether a currency code is specified:

- If a currency code isn't specified, all transactions in the bank account are in the local currency (LCY) for the current company. If you make a transaction for the account in another currency, the amounts post to the account in LCY based on the currency exchange rate. Any checks issued from this account must be in LCY. If the bank account is used in a journal, the journal line automatically uses the blank currency code.  
  
- If a currency code is specified, all transactions made to this account, and all checks issued from it, must use the same currency as the account.

You can save time on data entry by making a bank account the default account to use for the currency specified for the account. If you do, the account is assigned to sales and service documents that use the currency. To make the account the default for sales and service documents, on the **Bank Account Card** page, turn on the **Use as Default for Currency** toggle. If needed, you can choose a different account when you're working on a document.

A bank account is an integral part of [!INCLUDE[prod_short](includes/prod_short.md)] and plays a role in many other capabilities. The following illustration shows the most important relations:

![Illustration of bank account relations.](media/Set-Up-Bank-Accounts/Bank_Account_Relations.png)

Creating a bank account makes it available in all the places shown in the illustration, and are mirrored in the G/L account and on the **Company Information** page.

Bank accounts are often monitored daily to ensure new payments from customers are registered as quickly as possible. Registering payments quickly helps ensure a customer's actual status is reflected in [!INCLUDE[prod_short](includes/prod_short.md)]. Keeping the status of customer payments current helps sales people, accountants, and other employees making unnecessary calls regarding overdue invoices or delays in shipments.  

![Illustration of bank payment.](media/Set-Up-Bank-Accounts/Bank-payment-flow.png)

Another task is to import vendor currency payments with the realized currency rates to make sure that the actual status of the vendors is up-to-date. Using the [payment reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md) capability is the easiest way to do that. In the **Payment Reconciliation Journal**, you can import bank transactions directly from an online bank application and post them more or less automatically. The journal automatically identifies and posts the following transactions:  

- Direct debit payments from customers.  
- Customer payments of single invoices.  
- Lump-sum payments from customers.  
- Customer payments in foreign currencies.  
- Vendor payments.  
- Vendor payments in foreign currency.  
- Vendor payments and subscriptions that are recurring.  
- Bank charges and interests.  

Payment reconciliation provides significant time savings in posting incoming and outgoing payments. However, the transactions on the bank account in [!INCLUDE[prod_short](includes/prod_short.md)] aren't considered 100% correct until you run a bank reconciliation.  

Bank reconciliation is how you make sure that the bank account in [!INCLUDE[prod_short](includes/prod_short.md)] matches the external account at the bank.  

 ![Illustration of bank account reconciliation.](media/Set-Up-Bank-Accounts/BankReconciliation.png)

In the illustration, the left side represents the bank account in [!INCLUDE[prod_short](includes/prod_short.md)], and the rightmost side represents transactions imported from the bank through the online bank application. The diagram in the middle shows the transactions from both sides that make up the bank reconciliation.

From the bank account in [!INCLUDE[prod_short](includes/prod_short.md)], most transactions should be known to the physical bank. The few exceptions include the following cases:  

- Corrections posted in [!INCLUDE[prod_short](includes/prod_short.md)].  
- Checks issued that aren't cashed.
- Vendor payments not yet approved by the bank.  

From the physical account at the bank, transactions not identified in the payment reconciliation journal arrive all the time, such as the following transactions:  

- New vendor subscriptions  
- Customer payments without description
- Bank interest
- Bank charges
- Credit card charges not yet reported

The better you are at mapping information in the payment reconciliation journal, the more transactions are posted automatically and the easier periodic bank reconciliation becomes.

The following video shows the basic steps to set up a bank account in [!INCLUDE[prod_short](includes/prod_short.md)].

<br /><br />

> [!Video https://learn-video.azurefd.net/vod/player?id=047a5a25-1f7d-423d-b96d-c4ea45042779]

> [!WARNING]
> Some fields may contain sensitive data, such as the **Bank Branch No.**, **Bank Account No.**, **SWIFT Code**, and **IBAN Code** fields. Learn more at [Monitor Sensitive Fields](across-log-changes.md#monitor-sensitive-fields).

## To set up bank accounts

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, then choose the related link.
2. On the **Bank Accounts** page, choose the **New** action.
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    An example would be the **Bank Acc. Posting Group** field that connects the bank account to the underlying G/L account in the balance sheet. Learn more at [Set Up Posting Groups](finance-posting-groups.md).

> [!TIP]
> Some fields are hidden until you choose the **Show more** action, typically because they are rarely used. Others must be added through personalization. Learn more at [Personalize Your Workspace](ui-personalization-user.md).

You can create as many bank accounts as you need for your business. For each bank account, you must specify information that makes the bank account uniquely identifiable. This information includes the bank's geographical address; number series for different types of transactions, such as direct debit and credit transfers; the currency amounts are specified in; and information used for importing bank statements. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
<!--
The following table explains key fields.

|Field|Description|  
|---------------------------------|---------------------------------------|  
|**General FastTab**||
|No.|Specifies the number of the bank account, according to the specified number series. If the number series allow manual numbering, any alphanumeric code up to 20 characters can be used.|
|Name|The Name of the bank holding the account.|
|Bank Branch No.|Typically used to identify the bank branch in domestic payments, it's very often considered a sensitive field. Learn more at [Monitoring Sensitive Fields](across-log-changes.md#monitoring-sensitive-fields).|
|Bank Account No.|Typically used to identify the bank account number in domestic payments, it's very often considered a sensitive field. Learn more at [Monitoring Sensitive Fields](across-log-changes.md#monitoring-sensitive-fields).|
|Balance|Shows the bank account balance in the account currency.|
|Balance (LCY)|Shows the bank account balance in the local currency (LCY).|
|Our Contact Code|Specifies a code to identify the employee responsible for this bank account. The employee must be created in the **Salesperson/Purchaser** table.|
|Blocked|Specifies the related record is blocked from being posted in transactions, for example the account is obsolete after a bank change.|
|SEPA Direct Debit Exp. Format|Specifies the single euro payments area (SEPA) format of the bank file to be exported when you choose **Create Direct Debit File** on the **Direct Debit Collect. Entries** page. Learn more at [SEPA Direct Debit in Business Central](finance-collect-payments-with-sepa-direct-debit.md).|
|Credit Transfer Msg. Nos.|Specifies the number series for bank instruction messages created with the export file you create from the **Direct Debit Collect. Entries** page. Learn more at [SEPA Direct Debit in Business Central](finance-collect-payments-with-sepa-direct-debit.md).|
|Direct Debit Msg. Nos.|Specifies the number series to be used on the direct debit file you export for a direct debit collection entry on the **Direct Debit Collect. Entries** page. Learn more at [SEPA Direct Debit in Business Central](finance-collect-payments-with-sepa-direct-debit.md).|
|Creditor No.|Specifies your company as the creditor in connection with payment collection from customers using SEPA direct debit. Learn more at [SEPA Direct Debit in Business Central](finance-collect-payments-with-sepa-direct-debit.md).|
|Bank Clearing Standard|The national bank names register used for the sender bank account.|
|Bank Clearing Code|Specifies the code for bank clearing required according to the format standard you selected in the **Bank Clearing Standard** field. The bank clearing code can be used as an alternative to SWIFT and IBAN to identify your bank as the sender of a bank transfer.|
|Last Date Modified|Date of the latest modification of the bank account.|
|**Payment Matching**||
|Disable Automatic Payment Matching|Specifies whether or not to disable automatic payment matching after importing bank transactions for this bank account. Learn more at [Payment Reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md).|
|**Payment Match Tolerance**||
|Match Tolerance Type|Specifies the tolerance the automatic payment application function will use to apply the *Amount Incl. Tolerance Matched* rule for this bank account. Read more in [Payment Reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md).|
|Match Tolerance Value|Specifies if the automatic payment application function will apply the *Amount Incl. Tolerance Matched* rule by percentage or amount. Learn more at [Payment Reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md).|
|**Hidden Fields**||
|Search Name|Specifies an alternate name you can use to search for the record in question when you can't remember the value in the **Name** field.|
|Min. Balance|Specifies a minimum balance for the bank account. This field is for information purposes only.|
|Positive Pay Export Code|Specifies a code for the data exchange definition managing the export of positive-pay files. Learn more at [Export Positive Pay Files](finance-how-positive-pay.md).|
|**Communication FastTab**||
|Address|The address of the bank branch.|
|Address 2|An additional address field for the bank branch.|
|Post Code|The post code of the bank branch.|
|City|The city of the bank branch.|
|Country/Region Code|The country/region code of the bank branch.|
|Phone No.|The phone number of the bank branch.|
|Mobile Phone No.|The mobile phone number of the bank branch.|
|Contact|The main contact in the bank branch. Additional contacts can be created in the **Contacts** module.|
|Fax No.|The fax number of the bank branch.|
|Email|The email address of the bank branch.|
|Home Page|The home page address of the bank branch website.|
|**Posting FastTab**||
|Currency Code|Specifies the relevant currency code for the bank account. Applying a currency code to a bank account limits all transactions to only using the applied currency code. Leaving the currency code blank allows transactions in all currencies, however, the amount will eventually be converted to the LCY using the applied currency rate. Checks issued from this account follow the same rules.|
|Last Check No.|The number of the latest check issued from this account.|
|Transit No.|Specifies a bank identification number of your own choice.|
|Last Statement No.|The number of the latest bank reconciliation posted to this account. Learn more at [Reconcile Bank Accounts](bank-how-reconcile-bank-accounts-separately.md).|
|Last Payment Statement No.|The number of the latest payment reconciliation posted to this account. Learn more at [Payment Reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md).|
|Last Bank Statement|The ending balance of the last bank statement. Learn more at [Reconcile Bank Accounts](bank-how-reconcile-bank-accounts-separately.md).|
|Bank Acc. Posting Group|Specifies a code for the bank account's posting group. The **Bank Acc. Posting Group** connects the bank account to the G/L account in the balance sheet.|
|**Transfer**||
|Transit No.|Specifies a bank identification number of your own choice.|
|SWIFT Code|Specifies the international bank identifier (SWIFT) code of the bank in which you have account. The SWIFT code is very often considered a sensitive field. Learn more at [Monitoring Sensitive Fields](across-log-changes.md#monitoring-sensitive-fields).|
|IBAN|Specifies the bank account's international bank account number (IBAN). The IBAN code is very often considered a sensitive field. Learn more at [Monitoring Sensitive Fields](across-log-changes.md#monitoring-sensitive-fields).|
|Bank Statement Import Format|Specifies the format of the bank statement file imported into this bank account. This format is used in both the payment reconciliation journals and bank account reconciliations.|
|Payment Export Format|Specifies the format of the bank file that is exported when you choose **Export Payments to File** on the **Payment Journal** page.|
-->

## To enter an opening balance

To fill in the **Balance** field with an opening balance, you must post a bank account ledger entry with the amount in question. You post the entry through a bank account reconciliation. Learn more at [Reconcile Bank Accounts](bank-how-reconcile-bank-accounts-separately.md).  
>
> Alternatively, you can implement the opening balance as part of general data creation in new companies using the **Migrate Business Data** assisted setup guide. Learn more at [Getting Ready for Doing Business](ui-get-ready-business.md).  

> [!IMPORTANT]
> Don't post the opening balance directly to the general ledger. Entries in the G/L account that were posted directly to it typically prevent you from reconciling the bank account. With foreign currency bank accounts, direct posting results in differences that accumulate as you post more bank reconciliations. Usually, you post the opening bank balance directly to the bank account, and the amount ends up in the G/L account. Alternatively, later you can reverse it out of the G/L account you use to balance the opening general ledger balance. In either case, you must balance any direct posting to the G/L account before you start your first bank reconciliation&mdash;especially if the bank account is in a foreign currency.

## To set up your bank account for import or export of bank files

The fields related to the import and export of bank feeds and files are on the **Transfer** FastTab on the **Bank Account Card** page. Learn more at [Using the AMC Banking 365 Fundamentals Extension](ui-extensions-amc-banking.md) and [Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md).

1. Choose the ![Lightbulb that opens the Tell Me feature 2.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, then choose the related link.
2. Open the card for the bank account to export or import bank files for.
3. On the **Transfer** FastTab, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!NOTE]  
> Different file export services and their formats require different setup values on the **Bank Account Card** page. You'll be informed of wrong or missing setup values when you export the file. Read the short descriptions of the fields carefully or refer to the related procedure topics. For example, exporting a payment file for North American electronic funds transfer (EFT) requires that both the **Last Remittance Advice No.** and the **Transit No.** fields be filled in. Learn more at [Export Payments to a Bank File](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md#exporting-payments-to-a-bank-file).

The fields on the **Transit** FastTab on the bank account serve different purposes, depending on whether the payment is inbound or outbound.

The following illustration shows the route of inbound payments. The numbers in the description correspond with the numbers in the illustration.

:::row:::
    :::column:::

1. The transactions are exported from the bank account in either a human-readable .csv format or the bank's own format.
2. The data exchange definition maps the information in the file to the fields in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more at [Set Up Data Exchange](across-set-up-data-exchange.md)
3. The data export/import setup defines the export or import, and links to the data exchange definition.
4. The bank statements import format links the import setup to the bank account.
5. The payments are imported through the **Payment Reconciliation Journal** or the **Bank Account Reconciliation** page.

  :::column-end:::
  :::column:::

        ![Illustration of payments received from the bank into bank accounts.](media/Set-Up-Bank-Accounts/payments-in-and-out-1.png)

  :::column-end:::
:::row-end:::

Incoming payments are always imported through the **Payment Reconciliation Journal** or directly into the **Bank Account Reconciliation** page. In contrast, outgoing payments can originate from any payment journal. The only prerequisite is that the **Allow Payment Export** field in the relevant payment journal batch must be selected.

The following illustration shows the route of outbound payments. The numbers in the description correspond with the numbers in the illustration.

:::row:::
    :::column:::

6. The transactions populate in a payment journal that was prepared for exporting payments to file.
7. The bank statements import format links the import setup to the bank account.
8. The data export/import setup defines the export or import, and links to the data exchange definition.
9. The data exchange definition maps the information in the file to the fields in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more at see [Set Up Data Exchange](across-set-up-data-exchange.md)
10. The payments are exported from the payment journal and imported into the bank account.

  :::column-end:::
  :::column:::

        ![Illustration of payments from bank accounts that are sent to the bank.](media/Set-Up-Bank-Accounts/payments-in-and-out-2.png)

  :::column-end:::
:::row-end:::

## To set up vendor bank accounts for export of bank files

Fields on the **Transfer** FastTab on the **Vendor Bank Account Card** page are related to the export of bank feeds and files. Learn more at [Use the AMC Banking 365 Fundamentals extension](ui-extensions-amc-banking.md) and [Export Payments to a Bank File](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md#exporting-payments-to-a-bank-file).

[!INCLUDE[purchase-vendor-bank-account](includes/purchase-vendor-bank-account.md)]

## Changing your bank account

To use a different bank account for your business, you must create the new bank account in [!INCLUDE[prod_short](includes/prod_short.md)]. We recommend that you don't just replace the information about the account you're currently using because that can cause incorrect data. For example, your opening balance might be incorrect or your bank feed might stop working correctly. It's important that you keep the current and new accounts separate.

After you create the new bank account, you should also create a new bank posting group and assign it to a new general ledger account. You can reuse an existing bank posting group, and bank transactions are posted to the same general ledger accounts as other bank accounts sharing that bank posting group. However, we recommend that you create a new bank posting group and general ledger account so that reconciliations are easier to do.

> [!NOTE]
> Remember that the bank account information on open sales invoices still shows the original bank account. Accordingly, payments are likely to still be posted to that account. We recommend that you keep both accounts active for a period of time after the change.

To get a more condensed view of your cash accounts in financial reporting, use the **Begin-Total** and **End-Total** accounts in your chart of accounts, the **Totaling** rows in financial reports, or G/L account categories. Learn more at [Business Intelligence and Financial Reporting](bi.md) section.

## See also

[Setting Up Banking](bank-setup-banking.md)  
[Setting Up Posting Groups](finance-posting-groups.md)  
[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md)  
[SEPA Direct Debit in Business Central](finance-collect-payments-with-sepa-direct-debit.md)  
[To set up your bank account for SEPA direct debit](finance-collect-payments-with-sepa-direct-debit.md#to-set-up-your-bank-account-for-sepa-direct-debit)  
[To set up a bank account for SEPA Credit Transfer](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md#to-set-up-a-bank-account-for-sepa-credit-transfer)  
[Make Payments with the AMC Banking 365 Fundamentals Extension or SEPA Credit Transfer](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md)  
[Payment Reconciliation](receivables-apply-payments-auto-reconcile-bank-accounts.md)  
[Understanding the General Ledger and the COA](finance-general-ledger.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-warehouse-management
---
title: Manage warehouse activities
description: In addition to receipts and shipments, Business Central supports a series of internal warehouse activities.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: conceptual
ms.date: 12/13/2023
ms.custom: bap-template
---

# Warehouse management overview

There are two things that are important to all businesses that physically move goods in and out of their warehouse:

* They have an overview of inventory levels and item placement in the warehouse.
* They can quickly and accurately receive, pick, and ship items.

To help businesses achieve those things, warehouse features in [!INCLUDE[prod_short](includes/prod_short.md)] add the following capabilities to inventory management:

* Bins
* Warehouse shipments
* Inventory picks
* Movement worksheet

Implement these features in different combinations to tailor your warehouse processes for your business. Allow for increasing complexity as your company grows and your processes change.

## Overview of different configuration options

You can configure warehouse features in various ways. It's important to choose options that improve your processes without causing overhead. The following table gives an overview of typical configurations for dealing with physical goods.

|Complexity Level|Description|Settings|Bin Code|Example of Inbound Flow|Example of Outbound Flow|Example of Internal Flow|  
|---|----------------|----------|---------|------------------|------------------|------------------|
|No dedicated warehouse activity.|Posting from orders and journals.||Optional. Controlled by the **Bin Code is Mandatory** toggle.|Purchase order|Sales order| Production order -> Consumption journal|  
|Basic|Consolidated receive/ship posting for multiple orders.|**Require Receipt**<br>**Require Ship**.|Optional. Controlled by the Bin Code is Mandatory toggle|Purchase Order(s) -> Warehouse Receipt|Sales Order -> Warehouse Shipment|Same as above.|
|Basic|Order-by-order.|Purchase, Sales, Service & Transfer: Require Put-away or Require Pick. </br><br/> Production, Assembly, Projects: Inventory Pick, Inventory Movement, Inventory Put-Away </br></br>**NOTE**: You can still post receipts, shipments, consumption, output directly from the source documents at locations where you activated these settings.|Optional. Controlled by the **Bin Code is Mandatory** toggle.|Purchase Order -> Inventory Put-away|Sales Order -> Inventory Pick|Production Order -> Inventory Pick|
|Advanced|Consolidated receive/ship posting for multiple orders.<br /><br />Consolidated pick/put-away activities for multiple source documents.|Purchase, Sales, Service & Transfer: Require Receive + Require Put-away,</br> Require Ship + Require Pick</br></br> Production, Assembly, Projects: Warehouse Pick |Optional. Controlled by the Bin Code is Mandatory toggle|Purchase Order(s) -> Warehouse Receipt -> Warehouse Put-away|Sales Order(s) -> Warehouse Shipment(s) -> Pick Worksheet -> Warehouse Pick(s)| Production order -> Pick Worksheet -> Warehouse Pick(s) -> Consumption journal|
|Advanced|Same as above + Directed pick/put-away activities|Directed Pick and Put-away (dependent toggles are enabled automatically)|Mandatory|Same as above.|Same as above.| Production order -> Pick Worksheet -> Warehouse Pick(s) Consumption journal|

Complexity increases with the size of your organization and how many departments and people are involved. A process can be simple, for example, when the same person creates and posts a sales document. Processes can also be more complex, and involve several steps and people. The following steps are an example of a more complex process:

1. An order processor creates a sales order.
1. A warehouse manager creates pick instructions.
1. A warehouse employee finishes the flow by posting the warehouse shipment.

The level of complexity is also affected by the types of documents you use in your warehouse activities. For example, you can use warehouse receipt and warehouse put-away documents for your inbound flow, but use inventory pick documents for your outbound flow.

Another factor that impacts complexity is how your physical warehouse is represented in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more at [Modeling the physical warehouse](#modeling-the-physical-warehouse).

## Modeling the physical warehouse

You have several options for representing the real-world setup of your warehouse in [!INCLUDE[prod_short](includes/prod_short.md)]. Your choices determine how you work with warehouse features.

The placement of items can be shelves, locations, or bins, and there are pros and cons for each option.

### Locations and bins

To handle physical goods, you must have at least one location. You can use multiple locations or use bins to model your warehouse and organizational structure.

Typically, locations are the preferred way to organize operations that are distributed across geographic areas. In some cases, however, you might want to create several locations that are located at the same place. Using locations has the following advantages:

* Grant access by using the **Warehouse Employee** and **Responsibility Centers** pages.
* Define calendars, routings, and inbound and outbound handling times for date calculation and planning. Learn more at [About Planning Functionality](production-about-planning-functionality.md).
* Specify default dimensions and use different inventory posting setups.
* Set up planning parameters. Learn more at [Planning parameters](production-about-planning-functionality.md#planning-parameters).  
* Use different warehouse features for each location.

### Shelves and bins

If you always store an item in the same place, you can use the **Shelf No.** field on the **Item Card** or **Stock-keeping Unit Card** pages. This field can be a basic manual storage system in environments without bins. The field's value is copied from the item card to document lines and reports, but it's only informational. The value isn't used in warehouse activities or availability calculations.

Bins represent the basic warehouse structure, and are used to make suggestions about the placement of items:

* One or more fixed bins for an item.
* Bins for specific operations, such as a shipping bin or a production output bin.
* Bin capacity and weight restrictions (for directed put-away and pick only).
* Bin rating (for directed put-away and pick only).

## Typical warehouse workflow

The following table describes a sequence of tasks, with links to the articles that describe them.

|**To**|**See**|  
|------------|-------------|  
|In a basic flow on an order-by-order basis, use an inventory put-away to record the receipt of items at locations, including any over-receipt. Or, if you're consolidating multiple orders in the receipt, use a warehouse receipt.|[Inbound flow](design-details-inbound-warehouse-flow.md)|
|Record the shipment of items from warehouse locations. On an order-by-order basis, use an inventory pick. Or, if you're consolidating multiple orders in the shipment, use a warehouse shipment.|[Outbound flow](design-details-outbound-warehouse-flow.md)|
|Handle items within the warehouse location. For example, when you move components to production or do a physical inventory count.|[Internal flow](design-details-internal-warehouse-flows.md)|

Set up the warehouse processes that are right for your business. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).

## Terminology related to warehouse management

### Complexity levels

We use the terms "basic" and "advanced" to differentiate between levels of complexity. This simple differentiation covers several levels of complexity in location setups, each supported by different warehouse documents. The most advanced level of warehousing is referred to as "Directed put-away and pick." To use directed put-away and pick for a location, turn on the **directed put-away and pick** toggle on the **Location Card** page.

### Warehouse flows

* Inbound flow - Move items into the warehouse location and make them available, such as purchases and inbound transfers.
* Outbound flow - Pick and ship items to customers or other locations.
* Internal flow - Handle items within a location. For example, move components to production or count physical inventory.

### Basic documents  

The following documents are used in basic warehouse flows.

* Inventory Put-away
* Inventory Pick
* Inventory Movement
* Item Journal
* Item Reclassification Journal

### Advanced documents  

The following documents are used in advanced warehouse flows.

* Warehouse Receipt
* Put-away Worksheet
* Warehouse Put-away
* Pick Worksheet
* Warehouse Pick
* Movement Worksheet
* Warehouse Movement
* Internal Warehouse Pick
* Internal Warehouse Put-away
* Bin Creation Worksheet
* Bin Content Creation Worksheet
* Warehouse Item Journal
* Warehouse Item Reclassification Journal

### Pages and settings

This section describes the concepts behind the key pages and settings for warehousing.

#### Bins and bin content

A bin is a storage device designed to contain discrete parts. It's the smallest container unit in [!INCLUDE[prod_short](includes/prod_short.md)]. Item quantities in bins are referred to as *bin contents*. A lookup from the **Item** field or **Bin Code** field on any warehouse-related document line displays the calculated availability of the item in the bin.  

Bin contents can be **Fixed**, **Dedicated**, or **Default** to define how to use the bin content. Bins with none of these properties are referred to as *floating* bins.  

A fixed bin holds items that are assigned to the bin code. The fixed bin property ensures that even if the bin is emptied, the bin content doesn't disappear. You can select the bin again as soon as its contents are replenished.  

A dedicated bin holds bin content that can only be picked for the dedicated resource that uses the bin. For example, a machine center. Other non-pick content, such as outbound quantities on a shipment posting, can be consumed from a dedicated bin. Only bin content considered by the **Create Pick** algorithm is protected in a dedicated bin.  

[!INCLUDE [prod_short](includes/prod_short.md)] uses the **Default** bin property to suggest bins for warehouse activities. At locations that use directed put-away and pick, the default bin property isn't used. At locations where bins are required, the property specifies where to place items in inbound flows. In outbound flows, the property specifies where to take items from.  

> [!NOTE]  
> If outbound items are placed in several bins, items are taken from the non-default bins first, to empty that bin content, and the remaining items are taken from the default bin.  

You can have one default bin per item per location.  

#### Bin type

Locations that use directed put-away and pick can use bin types. Bin types control the activities that you allow for a bin. 

The following types of bins are available:  

|Bin Type|Description|  
|------------------|---------------------------------------|  
|RECEIVE|Items that are received but aren't put away.|  
|SHIP|Items that are picked for warehouse shipment lines but aren't posted as shipped.|  
|PUT AWAY|Typically, items to store in large units of measure but that you don't want to access for picking purposes. These bins aren't used for picking, either for production orders or shipments, so their use might be limited. This type of bin is useful when you purchase a large quantity of items. The bins should always have a low bin-ranking, so that items with higher-ranking PUTPICK bins are put away first. Regularly replenish this type of bin so that their items are available in PUTPICK or PICK type bins.|  
|PICK|Items to be used for picking only. You can only use movements to replenishment of these bins, not put-aways.|  
|PUTPICK|Items in bins that are suggested for both put-aways and picks. Bins of this type probably have different bin rankings. Set up your bulk storage bins with lower bin rankings than ordinary pick bins or bins in your forward picking area.|  
|QC|This bin is used for inventory adjustments if you specify this bin on the location card in the **Adjustment Bin Code** field. You can also set up bins of this type for defective items and items being inspected. You can move items to this type of bin if you want to make them inaccessible to the usual item flow. **Note:**  Unlike all other bin types, the **QC** bin type has none of the item handling checkboxes selected by default. Content you place in a QC bin is excluded from item flows.|  

You can operate your warehouse with all of the eight possible bin types, or you can choose to operate with just the RECEIVE, PUTPICK, SHIP and QC bin types. These four bin types enable suggestions to be made that support the flow of items and allow you to record inventory discrepancies.
With the exceptions of the PICK, PUTPICK, and PUTAWAY types of bins, the bin type defines the activity allowed for a bin. For example, you can only use a RECEIVE type of bin to receive items or pick items from.  

> [!NOTE]  
> You must use movements to move items to RECEIVE and QC bins. Similarly, use movements to move items from SHIP and QC bins.  

#### Bin ranking

In advanced warehousing, you can automate and optimize how to collect items in put-away and pick worksheets by ranking bins. Items are suggested for picks and put-aways based on the bin ranks.

Put-away processes are optimized according to bin ranking by suggesting higher-ranking bins before lower-ranking bins. Pick processes suggest items with the highest bin ranking from bin content first. Bin replenishment suggests lower-ranking bins before higher-ranking bins.  

Bin ranking and bin contents are the basic properties that guide warehouse employees in the warehouse.  

#### Bin setup

In advanced warehousing, you can specify the following capacity values to control how, and in which, bins you store items:

* Quantity
* Total cubage
* Weight  

You can assign a base unit of measure (UOM) to items. A base UOM might be pieces, pallets, liters, grams, or boxes. You can also create larger UOMs based on your base UOM. For example, if pieces are your base UOM, a pallet might equal 16 pieces.  

If an item has more than one UOM, set the maximum quantity for every UOM on the item card. If you handle an item in pieces and pallets, the **Max. Qty.** field on the **Bin Content** page for that item must also be in pieces and pallets. Otherwise, the allowed quantity for that bin isn't calculated correctly.  

Before you set capacity restrictions for bin contents on a bin, make sure that the UOM and dimensions of the item are set up on the item.  

> [!NOTE]  
> You can only use multiple UOMs at locations that use directed put-away and pick. In all other configurations, you can only use bin contents in the base UOM. In transactions with a UOM that's larger than the item's base UOM, the quantity is converted to the base UOM.  

#### Zone

In advanced warehousing, bins can be grouped in zones to manage how the workflow of warehouse activities is directed for locations.  

A zone could be a receiving zone or a stocking zone, and each zone can consist of one or more bins.  

Most properties assigned to a zone are assigned to the bins that are created for the zone.  

#### Warehouse class

In advanced warehousing, you can assign warehouse class codes to the following entities: 

* Items
* Bins
* Zones

Warehouse classes control where to store items. You can divide a zone into several warehouse classes. For example, you might store items in the receiving zone as frozen, hazardous, or another class.

When you work with warehouse classes and a default receiving/shipping bin, you must manually choose the appropriate bins in the warehouse receipt and shipment lines.  

In inbound flows, the class code is only highlighted on inbound lines where the item class code doesn't match the default receiving bin. If the correct default bins aren't assigned, then the quantity can't be received.  

#### Location

A location is a physical structure or place where inventory is received, stored, and shipped. A location can be a warehouse, service car, showroom, plant, or an area in a plant. Inventory is often organized in bins and zones.

#### First expired first out

If you select the **Pick According to FEFO** checkbox on the **Bin Policies** FastTab on the **Location Card** page, item-tracked items are picked at the location according to their expiration date. Items with the earliest expiration dates are picked first.  

Warehouse activities in all pick and movement documents are sorted according to FEFO, unless the items have serial or lot numbers assigned. If some, but not all, of the quantity on the line has serial or lot numbers assigned, the remaining quantity is sorted according to FEFO.  

When picking by FEFO, items that expire first are gathered in a temporary item tracking list based on the expiration date. If two items have the same expiration date, the item with the lowest lot or serial number is picked first. If the lot or serial numbers are the same, the item that was registered first is selected first. Standard criteria for selecting items in pick bins, such as Bin Ranking and Break Bulk, are applied to the temporary FEFO item tracking list.  

Learn more at [Enable Picking Items by FEFO](warehouse-picking-by-fefo.md).

#### Put-away template

Put-away templates specify a set of prioritized rules that apply when you create put-aways. For example, a put-away template can require you to place items in a bin with bin content that has the same UOM. If a similar bin with enough capacity can't be found, the item must be placed in an empty bin. You assign a put-away template to an item and a location.  


## See also

[Inventory and warehouse reports](inventory-WMS-reports.md)   
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-personalization-user
---
title: Personalize your workspace
description: Learn how to customize the user interface and personalize your workspace to suit your way of working and personal preferences in Business Central.
author: jswymer
ms.topic: conceptual
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.reviewer: jswymer
ms.search.keywords: customize, personalize, personalization, hide columns, remove fields, move fields, resize column, change column width
ms.search.form: 9020, 9022, 9026, 9027, 9030, 9000, 9009, 9004, 9005, 9024, 9006, 9007, 9010, 9016, 9017
ms.date: 02/14/2025
ms.author: jswymer
---

# Personalize your workspace

You can personalize your workspace to suit your work and preferences. Change pages so that they display only the information you need, where you need it. Personalization affects only your workspace. It doesn't change how others work. You can personalize all types of pages, including the [role center](ui-change-basic-settings.md#role-center) page.

The adjustments outlined in this article are applied universally across all your devices and browsers. There are other modifications, not detailed here, that only affect the specific device and browser on which they're made. Learn more about the differences in [Where is personalization stored?](ui-personalization-stored.md).

## Video and training

The following video shows some of the ways in which you can personalize your Role Center.

> [!Video https://learn-video.azurefd.net/vod/player?id=d76e5d60-ecc2-462b-bba2-18d6deee3534]

For online training, go to [Personalize the Microsoft Dynamics 365 Business Central user interface](/training/modules/personalize-ui-dynamics-365-business-central/).

## About personalization

You can make various adjustments, such as move or hide fields, columns, actions, and entire parts, and add new fields. You do most adjustments by first activating the **Personalizing** banner using the [personalization mode](#start-personalizing-by-using-the-personalization-mode). You can also readily make the following adjustments on any list page without using the personalization mode:

- [Resize a column](#resize-a-column)
- [Create, rename, or edit a view](ui-views.md)
- [Bookmark the page](ui-bookmarks.md)
- [Hide or resize a FactBox](#hide-or-resize-a-factbox)
- Expand/collapse hierarchical list

### Resize a column

There are two ways to change the width of a column in any list, including in dropdown lists for looking up field values:

- Select and drag the boundary between two columns in the header of a list.
- Double-click the boundary between two columns to autofit the width of the column. The width adjusts to the optimal size for readability.

### Hide or resize a FactBox

A FactBox is a pane along the right side of a page that displays more information related to the record on the page.

:::image type="content" source="media/factbox.png" alt-text="Shows the FactBox position in the web client":::

- To hide or show the FactBox, select the ![Shows the collapse or expand FactBox icon in Business Central](media/collapse-expand-factbox.png) **Collapse/Expand the FactBox pane** icon at the top of the FactBox pane.
- To resize the FactBox, drag the vertical divider between the FactBox and main content. Double-click the divider to reset the width to default.

   If you can't resize the FactBox, you're either using Business Central version earlier than 26.0, or **Feature: Optimize screen estate usage for web** isn't turned on in **Feature Management**. Contact your admin, or learn more in [Enabling Upcoming Features Ahead of Time](/dynamics365/business-central/dev-itpro/administration/feature-management).

## Start personalizing by using the personalization mode

1. Open any page that you want to personalize.
1. In the upper-right corner, select **Settings** ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center") and then choose the **Personalize** action.

    The **Personalizing** banner appears at the top to indicate that you can start making changes.

    > [!NOTE]
    > To navigate during personalization, use <kbd>Ctrl</kbd>+<kbd>Click</kbd> on an action if it is highlighted by the arrowhead.

    If you see **Personalize lock** ![Personalize Lock](media/personalization-lock-icon.png "Personalize lock") or **Personalization blocked** ![Personalization blocked](media/personalization-blocked-icon.png "Personalization blocked") on the banner, you can't personalize the page. For more information, see [Why a Page is Locked from Personalization](ui-personalization-locked.md).

1. To change a user interface (UI) element, point to the element, such as an action, a field, or a part. The element is immediately highlighted with an arrowhead or border. Choose the element, and then choose either **Move**, **Remove**, **Hide**, **Show**, **Show under "Show more"**, **Show when collapsed**, **Show always**, **Set/Clear Freeze Pane**, or **Include/Exclude from Quick Entry**, depending on the type and state of the UI element.
1. To add a field, choose the **+ Field** action. From the **Add Field to Page** pane, drag and drop a field into the desired position on the page.
1. When you finish changing the layout of one or more pages, choose **Done** on the **Personalizing** banner.

For more information, see [What You Can Personalize](#What).

## <a name="What"></a>What you can personalize

|What you want to do|How to do it|Remarks|
|----|------------|-------|
|Move something, like a field, column in list, tile, action, or part to another place on the page.|Point anywhere on what you want to move, and drag it to its new position. A thick horizontal or vertical line indicates the position.<br /><br />![Cannot move here icon](media/personalization-cannot-move-here.png "Personalizing mode - Cannot move here icon") indicates that you can't move the element to the selected position.|Parts are subdivisions or areas on a page that contain things like multiple fields, another page, a chart, or tiles.<br /><br />[Learn more about personalizing actions](#Actions)<br>[Learn more about personalizing parts](#Parts)|
|Hide an element currently shown, like a field, column in list, tile, action, or part.|Select the element, select the arrowhead, and then select <b>Hide</b>.|In the personalization mode, hidden actions are grayed with italic text, and hidden parts are shaded with diagonal lines. Hidden fields and columns aren't indicated directly on the page, but you can locate them by using the <b>Add Field to Page</b> pane. ([Learn more about working fields.](#fields))<br><br>When you exit personalization mode, all elements disappear from view. If the field you hide is also shown on the FastTab heading when the FastTab is collapsed, the field no longer appears there.|
|Show an action or part that is currently hidden.|For a grayed (hidden) element, choose the arrowhead, and then choose <b>Show</b>.|The hidden element is visible again.|
|Add a hidden field|In the <b>Personalizing</b> banner, choose the <b>+ Field</b> action.<br /></br>The <b>Add Field to Page</b> pane opens on the right side of the page. If you select a field in the pane, its hidden location appears on the page.<br /><br />To add a field, drag it from the pane, or from its hidden location, to the position that you want it. A thick horizontal or vertical line indicates the position.<br><br> Another way is to select the arrowhead in the field's hidden location and select **Show**. |Each page includes a predefined set of fields that you can choose to display.<br /><br />[Learn more about working fields.](#fields) |
|Display a field in the heading of a collapsed FastTab.|Choose the arrowhead, and then choose <b>Show when collapsed</b>. <br /> <br />If you don't see this option, it's set already. In this case, to stop displaying the field on the FastTab heading, choose <b>Show always</b>.|*FastTab* is the term used for a group of fields that appear under a common heading. Use the <b>Show when collapsed</b> option to display the most important fields. If you select a field in the heading, the FastTab opens and focuses on the selected field.<br /><br />This option is only applicable if a page has more than one FastTab. If there's only one FastTab, it can't be collapsed, so the <b>Show when collapsed</b> option isn't available.|
|Make a field display only when you select **Show more**.|Choose the arrowhead, and then choose <b>Show under "Show More"</b>.|If you don't see the <b>Show More</b> option, it's set already. In this case, to make a field display always, not just when you select **Show more**, choose <b>Show always</b>.|
|Change whether a field can be edited.|Select the field, select the arrowhead on the field, and then select <b>Lock editing</b> to prevent changing the field's value or <b>Unlock editing</b> to allow changing the field's value.|You can only unlock fields that you previously locked yourself. Some fields are locked by default, either by design or by a profile admin who [customized the page](ui-personalization-manage.md). These fields can't be unlocked.|
|Change the freeze pane in a list to another column. |Choose the arrowhead of the column that you want as the last column of the freeze pane, and then choose <b>Set Freeze Pane</b>.<br /><br/>If you want to set the freeze pane back to its original position, choose the arrowhead for the current freeze pane column, and choose <b>Clear Freeze Pane</b>. Note: You can't remove this freeze pane.|The freeze pane specifies the columns that always appear on the left side of the list, even as you scroll horizontally.|  
|Skip over a field when pressing Enter.|Choose the arrowhead next to the field, or column heading in a list, and choose **Exclude from Quick Entry**.  | If you don't see **Exclude from Quick Entry**, then the field is already skipped. In this case, to stop skipping the field, choose **Include in Quick Entry**.<br><br>[Learn more about Quick Entry.](ui-enter-data.md#QuickEntry)|
|Reorder and remove views representing filtered lists.|Choose the arrowhead next to a view, and then choose **Move**, **Remove**, or **Hide**.|[Learn more about saving and personalizing list views.](ui-views.md)|  
|Add a new action to a page or report on your Role Center.|From the target page, report request page, or Tell Me window, choose the bookmark icon.|[Learn more about bookmarking pages and reports.](ui-bookmarks.md)|
|Always start a list as expanded or collapsed.|Choose the **Expand All** or **Collapse All** button in the upper-left corner of the list. Alternatively, choose the **Expand All** or **Collapse All** action in the menu of the first column. |Applies to collapsible hierarchy lists.|

## <a name="Actions"></a>Personalize action bar and menus

Personalization lets you decide which actions to show on the navigation and action bars and on Role Centers, and where to show them. You can show, hide, or move individual actions or action groups.

The following video shows how you can personalize actions on pages and Role Centers.

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=88d1055a-6b3d-4767-bbf7-98a78170e394]

Personalizing the navigation and action bars is done basically the same as with other UI elements. However, what you can do with an action or group depends on where the action or group is located. The best way to find out is to enter personalizing mode and then let the arrowheads guide you.

There are a couple of terms that you should be familiar with to better understand action personalization: *action group* and *promoted category*.  

An *action group* is an element that expands to display other actions or groups. For example, on the **Sales Orders** page, one action group is the **Functions** action that appears when you choose the **Actions** action.

A *promoted category* is an action group that appears before the vertical line `|` on the action bar. The categories typically include the most commonly used actions, so that you can quickly find them. For example, on the **Sales Orders** page, the **Order**, **Release**, and **Posting** actions are promoted categories.

> [!NOTE]  
> To clear personalization, select the arrowhead around the part's designer menu, and then choose **Clear personalization**.

### Remove, hide, and show actions and action groups

When you want to show or hide an action, the options under the arrowhead define what you can do depending on the action's state. 

1. Choose the arrowhead for an action or action group.
2. Choose from one of the following options:

   |Option|What it does|
   |------|------------|
   |**Remove**|This option appears if the selected action is also shown somewhere else on the navigation bar or action bar. Choosing this option deletes the action from the selected location so that it no longer appears. The action or action group remains in the other locations. |
   |**Hide**|This option appears if the action or action group isn't located anywhere else on the navigation bar or action bar. Like **Remove**, choosing this option makes the action or action group disappear from the navigation bar or action bar. However, in personalizing mode, the action, or action group is still shown in the current position, except that it appears dimmed.|
   |**Show**|This option appears if the action or action group is hidden (dimmed). Choosing this option makes the action or action group appear on the navigation bar or action bar.|

### Move actions and action groups

A horizontal line between two actions or a border around an action group indicates where you can drop actions or actions groups. There are the following limitations:

- You can move individual actions into the promoted categories, but you can't rearrange the order of the actions in the category.
- You can't move an action group into a promoted category.

To move an action or action group, drag and drop it into the desired position, like you do with fields and columns.

To move an action or action group into another action group that is empty, drag the action or action group to the new group and drop it in the **Drop an action here** box.

### About the Automate menu

- You can't hide or move the **Automate** menu or the **Power Automate** submenu and its actions.
- You can move flows included under the **Automate** item, but you can't hide them using personalization. Moving the flow makes a copy the flow in the destination, it doesn't remove it from the **Automate** item.

> [!TIP]
> As an administrator, you can hide the **Automation** item from users. Learn more at [Set Up Power Automate Integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-setup).

## <a name="Parts"></a>Personalize parts

Hover over or select <kbd>Alt</kbd>+<kbd>Up Arrow</kbd> to get information about a field.

Parts are areas on a page that are typically composed of multiple fields, charts, or other content. A part shows a colored border when you focus on the part. For example, a Role Center home screen has multiple parts. Because of their well-defined boundary, you can personalize the entire part and its contents.

- To move a part, drag and drop it into the desired position. A colored line indicates valid positions on the screen. For example, FactBoxes can only be moved next to other FactBoxes in the FactBox pane.
- You can hide a part by choosing the **Hide** option under the arrowhead.
- When you start personalizing or navigate to a new page, any parts that are currently hidden appear on the page with distinctive visuals to indicate they're hidden. You can unhide that part by choosing the **Show** option under the arrowhead.

You can clear all personalization changes that you made within a single part by choosing the **Clear personalization** option under the part's arrowhead. Clearing personalization of a part only affects changes to the contents of the part. It doesn't affect the placement or visibility of the part on the page.  

## <a name="fields"></a> Work with fields and columns

When personalizing a page, you use the **Add field to page** pane to include fields or columns on the page that are currently hidden from view. To open this pane, select the **+ Field** action near the top of the page. Unlike other hidden elements, hidden fields aren't indicated on the page itself in personalization mode. However, you can identify hidden fields by using the **Add field to page** pane.

Here are some general guidelines to follow when using the **Add field to page** pane:

- By default, the pane lists all hidden fields. To find hidden fields, look for the ![Shows the hidden field icon](media/hidden-icon.png "Shows the hidden field icon") icon.
- You can filter the list to show other fields, for example, those fields currently shown on the page, by selecting the **Recommended fields** button above the list and choosing a filter option. The name of the button changes based on the filter option you choose.
  
   :::image type="content" source="media/personlaization-filter.svg" alt-text="Shows the filter button in the Add a field pane in the personalization mode.":::
- Selecting a field in the list highlights its location on the page. If the field is hidden, its location shows in a shaded state.
- To get more details about a field in the list, hover over it or select <kbd>Alt</kbd>+<kbd>Up Arrow</kbd> to display a tooltip.
- The fields available in the **Add field to page** pane are determined by the developer of the page and its source table or by a profile admin who [customized the page](ui-personalization-manage.md). You can't create new ones.
- Some pages have multiple page fields that map to the same source table. The pane shows both/all of those page fields independently. Showing/hiding/moving those fields is also independent without one affecting the other.

### Add a field so it's visible on the page

From the **Add field to page** pane, there are two ways to include a hidden field on the page:

- Drag the field to the desired position. A thick horizontal or vertical line indicates the target location.
- Select the field in the list, then go to the shaded field on the page and select the **Show** option.

> [!NOTE]
> Some fields that you add won't be editable on the page when you're done with personalization. These fields are either originally designed this way or an administrator [customized](ui-personalization-manage.md) the page to prevent you from editing them.

## Clear personalization

At some point, you might want to undo some or all of the personalization changes that you made to a page over time.

1. On the **Personalizing** banner, choose the **Clear personalization** action.
2. Choose one of the following options.  

   > [!CAUTION]
   > Clearing personalization can't be undone.

   |Option|What it does|
   |------|------------|
   |**Only Navigation Menu**|Clears any personalization changes that you made to the navigation menu that is shared across the Role Center and other pages. Such changes include any new actions that were added as bookmarks, and any changes to links and groups in the menu.|  
   |**Only Actions**|Clears any personalization changes that you made on the navigation or action bars on the page.|
   |**Only Fields and Columns**|Clears any personalization changes that you made to the page except changes on the navigation or action bars. Such changes include changes to fields, columns, parts, and tiles. |
   |**All**|Clears all personalization changes that you made to the page so it looks like it did originally. Such changes include changes to navigation and action bars, fields, columns, parts, and tiles.|

## Tips and other points of interest

To help you better understand personalization, here are some pointers:

- When you make changes to a card page that you open from a list, the changes take effect on all records that you open from that list. For example, let's say you open a specific customer from the Customers list page, and then personalize the page by adding a field. When you open other customers from the list, the field that you added is also shown.
- Changes that you make affect all your Role Centers. For example, if you make a change to the Customer list when the Role Center is set to Business Manager, you also see the change on the **Customers** page when the Role Center is set to Sales Order Processor.
- Changes to a page in a pane take effect on the page wherever it appears.  
- You can't personalize a page that's in [analysis mode](analysis-mode.md). The **Analyze** switch is deactivated. If you happen to switch to personalization mode while the page is in analysis mode, then analysis mode is automatically switched off.
- Some pages have multiple page fields that map to the same source table. The pane shows both/all of those page fields independently. Showing/hiding/moving those fields is also independent without one affecting the other.
- If a part or group is hidden, ghosted fields still show inside it, but you can't drag-and-drop or add/show that field until you make the group/part visible.

> [!NOTE]
> Due to restrictions on design capabilities in the web client, it's currently not possible to customize or personalize the controls within the `grid` and `fixed` syntax. It applies to all design modes, not just personalization.
>
> Administrators can make the same layout changes as users by customizing a profile (role), which can be assigned to multiple users. To learn more about pages for Roles, go to [Customize Pages for Roles](ui-personalization-manage.md)<br /><br />
Administrators can also override or disable users' personalization, and they can define which features are even available for users to see in all or specific companies. For more information, see [Customize Business Central](ui-customizing-overview.md).

## See also

[Customize Pages for Profiles](ui-personalization-manage.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Change Which Features are Displayed](ui-experiences.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-scheduled-synchronization-using-the-synchronization-job-queue-entries
---
title: Synchronizing Business Central and Dataverse
description: Learn about synchronizing data between Business Central and Dataverse.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.date: 03/31/2023
ms.custom: bap-template
ms.search.keywords: sales, crm, integration, sync, synchronize
ms.service: dynamics-365-business-central
---

# Scheduling a Synchronization between Business Central and Dataverse

You can synchronize [!INCLUDE[prod_short](includes/prod_short.md)] with [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on scheduled intervals by setting up jobs in the job queue. The synchronization jobs synchronize data in [!INCLUDE[prod_short](includes/prod_short.md)] records and [!INCLUDE[cds_long_md](includes/cds_long_md.md)] records that are coupled. For records that are not already coupled, depending on the synchronization direction and rules, the synchronization jobs can create and couple new records in the destination system.

There are several synchronization jobs that are available out-of-the-box. The jobs are run in the following order to avoid coupling dependencies between tables. For more information, see [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

1. CURRENCY - Common Data Service synchronization job.
2. VENDOR - Common Data Service synchronization job.
3. CONTACT - Common Data Service synchronization job.
4. CUSTOMER - Common Data Service synchronization job.
5. SALESPEOPLE - Common Data Service synchronization job.

You can view the jobs on the **Job Queue Entries** page. For more information, see [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

## Default synchronization job queue entries

The following table describes the default synchronization jobs for [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  

| Job Queue Entry | Description | Direction | Integration Table Mapping | Default Synchronization Frequency (mins) | Default inactivity sleep time (mins) |
|--|--|--|--|--|--|--|
| CONTACT - Common Data Service synchronization job | Synchronizes [!INCLUDE[cds_long_md](includes/cds_long_md.md)] contacts with [!INCLUDE[prod_short](includes/prod_short.md)] contacts. | Bidirectional | CONTACT | 30 | 720 <br>(12 hours) |
| CURRENCY - Common Data Service synchronization job | Synchronizes [!INCLUDE[cds_long_md](includes/cds_long_md.md)] transaction currencies with [!INCLUDE[prod_short](includes/prod_short.md)] currencies. | From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] | CURRENCY | 30 | 720 <br> (12 hrs) |
| CUSTOMER - Common Data Service synchronization job | Synchronizes [!INCLUDE[cds_long_md](includes/cds_long_md.md)] accounts with [!INCLUDE[prod_short](includes/prod_short.md)] customers. | Bidirectional | CUSTOMER | 30 | 720<br> (12 hrs) |
| VENDOR - Common Data Service synchronization job | Synchronizes [!INCLUDE[cds_long_md](includes/cds_long_md.md)] accounts with [!INCLUDE[prod_short](includes/prod_short.md)] customers. | Bidirectional | VENDOR | 30 | 720<br> (12 hrs) |
| SALESPEOPLE - Common Data Service synchronization job | Synchronizes [!INCLUDE[prod_short](includes/prod_short.md)] salespeople with [!INCLUDE[cds_long_md](includes/cds_long_md.md)] users. | From [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to [!INCLUDE[prod_short](includes/prod_short.md)] | SALESPEOPLE | 30 | 1440<br> (24 hrs) |

## Synchronization process

Each synchronization job queue entry uses a specific integration table mapping that specifies which [!INCLUDE[prod_short](includes/prod_short.md)] table and [!INCLUDE[cds_long_md](includes/cds_long_md.md)] table to synchronize. The table mappings also include some settings that control which records in the [!INCLUDE[prod_short](includes/prod_short.md)] table and [!INCLUDE[cds_long_md](includes/cds_long_md.md)] table to synchronize.  

To synchronize data, [!INCLUDE[cds_long_md](includes/cds_long_md.md)] table records must be coupled to [!INCLUDE[prod_short](includes/prod_short.md)] records. For example, a [!INCLUDE[prod_short](includes/prod_short.md)] customer must be coupled to a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] account. You can set up couplings manually, before running the synchronization jobs, or let the synchronization jobs set up couplings automatically. The following list describes how data is synchronized between [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)] when you are using the synchronization job queue entries. For more information, see [Couple and Synchronize Records Manually](admin-how-to-couple-and-synchronize-records-manually.md).

- The **Sync. Only Coupled Records** check box controls whether new records are created when you synchronize. By default, the check box is selected, which means that only records that are coupled will be synchronized. In the integration table mapping, you can change the table mapping between a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] table and a [!INCLUDE[prod_short](includes/prod_short.md)] table so that the integration synchronization jobs will create new records in the destination database for each row in the source database that is not coupled. For more information, see [Creating New Records](admin-how-to-modify-table-mappings-for-synchronization.md#create-new-records).

    **Example**
    If you clear the **Sync. Only Coupled Records** check box, when you synchronize customers in [!INCLUDE[prod_short](includes/prod_short.md)] with accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], a new account is created for each customer in [!INCLUDE[prod_short](includes/prod_short.md)] and automatically coupled. Additionally, because the synchronization is bidirectional in this case, a new customer is created and coupled for each [!INCLUDE[cds_long_md](includes/cds_long_md.md)] account that is not already coupled.  

    > [!NOTE]  
    > There are rules and filters that determine what data is synchronized. For more information, go to [Synchronization Rules](admin-synchronizing-business-central-and-sales.md).

- When new records are created in [!INCLUDE[prod_short](includes/prod_short.md)], the records use the either the template that is defined for the integration table mapping or the default template that is available for the row type. Fields are populated with data from [!INCLUDE[prod_short](includes/prod_short.md)] or [!INCLUDE[cds_long_md](includes/cds_long_md.md)] depending on the synchronization direction. For more information, see [Modify Table Mappings for Synchronization](admin-how-to-modify-table-mappings-for-synchronization.md).  

- With subsequent synchronizations, only records that have been modified or added after the last successful synchronization job for the table will be updated.  

     New records in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] are added in [!INCLUDE[prod_short](includes/prod_short.md)]. If data in fields in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] records has changed, the data is copied to the corresponding field in [!INCLUDE[prod_short](includes/prod_short.md)].  

- With bidirectional synchronization, the job synchronizes from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], and then from [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to [!INCLUDE[prod_short](includes/prod_short.md)].

## About inactivity timeouts

Some job queue entries, such as those that schedule synchronization between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)], use the **Inactivity Timeout** field on the **Job Queue Entry** page to prevent the job queue entry from running unnecessarily.  

:::image type="content" source="media/on-hold-with-inactivity-timeout.png" alt-text="Flowchart for when job queue entries are put on hold due to inactivity.":::

When the value in this field is not zero, and the job queue did not find any changes during the last run, [!INCLUDE[prod_short](includes/prod_short.md)] puts the job queue entry on hold. When that happens, the **Status of Job Queue** field will show **On Hold Due to Inactivity**, and [!INCLUDE[prod_short](includes/prod_short.md)] will wait for the period of time specified in **Inactivity Timeout** field before it runs the job queue entry again.  

For example, by default, the CURRENCY job queue entry, which synchronizes currencies in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] with exchange rates in [!INCLUDE[prod_short](includes/prod_short.md)], will look for changes to exchange rates every 30 minutes. If no changes are found, [!INCLUDE[prod_short](includes/prod_short.md)] puts the CURRENCY job queue entry on hold for 720 minutes (twelve hours). If an exchange rate is changed in [!INCLUDE[prod_short](includes/prod_short.md)] while the job queue entry is on hold, [!INCLUDE[prod_short](includes/prod_short.md)] will automatically reactivate the job queue entry and restart the job queue. 

> [!Note]
> [!INCLUDE[prod_short](includes/prod_short.md)] will automatically activate job queue entries that are on hold only when changes happen in [!INCLUDE[prod_short](includes/prod_short.md)]. Changes in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] will not activate job queue entries.

## To view the synchronization job log

1. Choose the :::image type="icon" source="media/ui-search/search_small.png" border="false"::: icon, enter **Integration Synchronization Log**, and then choose the related link.
2. If one or more error occurred for a synchronization job, the number of errors appears in the **Failed** column. To view the errors for the job, choose the number.  

    > [!TIP]  
    > You can view all synchronization job errors by opening the synchronization job error log directly.

## To view the synchronization job log from the table mappings

1. Choose the :::image type="icon" source="media/ui-search/search_small.png" border="false"::: icon, enter **Integration Table Mappings**, and then choose the related link.
2. In the **Integration Table Mappings** page, select an entry, and then choose **Integration Synch. Job Log**.  

## To view the synchronization error log

- Choose the :::image type="icon" source="media/ui-search/search_small.png" border="false"::: icon, enter **Integration Synchronization Errors**, and then choose the related link.

## See also

[Synchronizing Data in Business Central and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]](admin-synchronizing-business-central-and-sales.md)  
[Manually Synchronize Table Mappings](admin-manual-synchronization-of-table-mappings.md)  
[Scheduling a Synchronization between Business Central and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md)  
[About Integrating Dynamics 365 Business Central with [!INCLUDE[cds_long_md](includes/cds_long_md.md)]](admin-prepare-dynamics-365-for-sales-for-integration.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-powerbi-gross-requirement
---
title: Gross Requirement (Power BI report)
description: The Gross Requirement report looks at all outbound transactions within the system to identify the quantity required per item. 
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37027_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Gross Requirement (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Gross Requirement** report looks at all outbound transactions to determine the quantity required per item.

The report shows the gross requirement for an item and the different documents that include it. This information is coupled with the **Project Available Balance** that calculates the balance at any point in time.

:::image type="content" source="media/inventory/gross-requirement.png" alt-text="Screenshot of the Gross Requirement Power BI Report" lightbox="media/inventory/gross-requirement.png":::

## Use the report

The report helps management and procurement officers to determine whether the organization is keeping up with demand.

Managers can use the report to ensure that stock levels are high enough to maintain the production schedule and sales demand for each item. The report helps identify bottlenecks in production by showing items where the available inventory doesn't meet the gross requirement.

Procurement officers can view sales and production volumes and ensure your available balance meets the requirements for each item. With this information, you can make informed decisions on the items you should replenish.

## Key Performance Indicators (KPIs)

The *Gross Requirement* report includes the following KPIs:

- [**Gross Requirement**](inventory-powerbi-kpis.md#gross-requirement)
- [**Project Available Balance**](inventory-powerbi-kpis.md#projected-available-balance)
- [**Qty. on Sales Order**](inventory-powerbi-kpis.md#qty-on-sales-order)
- [**Qty. on Purch. Return**](inventory-powerbi-kpis.md#qty-on-purch-return)
- [**Qty. on Service Order**](inventory-powerbi-kpis.md#qty-on-service-order)
- [**Qty. on Projects**](inventory-powerbi-kpis.md#qty-on-projects)
- [**Qty. on Prod. Order Comp Lines**](inventory-powerbi-kpis.md#qty-on-prod-order-comp-lines)
- [**Trans. Order Shipment (Qty)**](inventory-powerbi-kpis.md#trans-order-shipment-qty)
- [**Planning Issues (Qty)**](inventory-powerbi-kpis.md#planning-issues-qty)
- [**Qty. on Asm. Component**](inventory-powerbi-kpis.md#qty-on-asm-component)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)] 


## Data used in the report

The report uses data from the following tables in [!INCLUDE [prod_short](includes/prod_short.md)]:

- Item
- Item Ledger Entries
- Assembly Lines
- Job Planning Lines
- Prod Order Component Line
- Production Order Lines
- Purchase Lines
- Sales Lines
- Service Lines
- Transfer Lines

## Try the report

Try the report here: [Gross Requirement](https://businesscentral.dynamics.com?page=37027)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory app](inventory-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-archive-data
---
title: The Data Archive Extension
description: Archiving data creates a low-cost backup of your records.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.date: 01/30/2023
ms.custom: bap-template
ms.search.form: 630
ms.service: dynamics-365-business-central
---

# The Data Archive Extension

Over time, your business will accumulate a substantial amount of data, and as an administrator, it's probably a good idea to have a strategy for archiving data. Having lots of data can slow things down, for example, it might take slightly longer to generate reports, or even lock records. Additionally, large amounts of data can lead to increased storage costs.

The Data Archive extension provides a basic framework for archiving and backing up data as part of date compression. Date compression consolidates related entries into a single entry and deletes the originals. Learn more at [Compress Data with Date Compression](admin-manage-documents.md#compress-data-with-date-compression). However, there might be value in keeping that data, so rather than deleting it, you can archive it for later use.

## Start Archiving Data

The extension is pre-installed and available on the **Extension Management**, so you don't need to do anything to get started. The extension is also available on AppSource.

Your data archives are listed on the **Data Archive List** page. Each archive can contain data from multiple tables, and can hold up to 10,000 records. If there are more than 10,000 records in a table, a second archive will be created for the next 10,000 records, and so on. For example, if you archive 10,100 G/L entries, Business Central creates one "G/L Entry" archive for the first 10,000 entries, and then a second archive for the remaining 100 entries.

After you archive data, you can explore it using Microsoft Excel or as a CSV file.

* If you use the Excel option, the workbook will contain one worksheet for each data archive table.
* If you use the CSV option, you'll get a ZIP file that contains one CSV file for each data archive table.

> [!TIP]
> The Excel and CSV options make it easier to use another app or service to move the data to another location, such as Azure Blob storage, or an analysis tool, such as Microsoft Power BI.

The Data Archive extension is used by the following batch jobs for date compression.

|Batch jobs  |
|---------|
|Date Comp. Item Budget Entries |
|Date Compress Bank Acc. Ledger |
|Date Compress Customer Ledger |
|Date Compress FA Ledger |
|Date Compress General Ledger |
|Date Compress Insurance Ledger |
|Date Compress Maint. Ledger |
|Date Compress Maint. Ledger |
|Date Compress Resource Ledger |
|Date Compress VAT Entries |
|Date Compress Vendor Ledger |
|Date Compress Whse. Entries |
|Date Compr. G/L Budget Entries |

To start archiving data when you run one of the batch jobs, turn on the **Archive Deleted Entries** toggle.

## Storage Considerations

The archived data is stored in the **Tenant Media** table. We recommend that you export old archives to, for example, a CSV file and then delete the old archive records.

## See Also

[Manage Storage by Deleting Documents or Compressing Data](admin-manage-documents.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-outlook
---
title: Get the Business Central Add-in for Outlook
description: Learn how to install the Business Central add-in for Outlook for your organization or for your own use. 
author: jswymer
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: SMTP, mail, Microsoft 365, Outlook
ms.search.form: 1831, 1832
ms.date: 10/21/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Get the Business Central add-in for Outlook

With [!INCLUDE[prod_short](includes/prod_short.md)], you can manage business interactions with your customers and vendors, directly in [!INCLUDE [outlook-name](includes/outlook-name.md)]. With the [!INCLUDE[prod_short](includes/prod_short.md)] [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)] add-in, you can view financial data related to customers and vendors. You can also create and send financial documents, such as quotes and invoices.  

There are two ways to get the Business Central add-in for Outlook installed, depending on your role in the organization:

- As a Microsoft 365 administrator, use *Centralized Deployment* to install the add-in automatically for the entire organization, groups, or specific users.

- As any user, install the add-in for your own use if not already done by your admin.

## About the Business Central add-in for Outlook

The Business Central add-in for Outlook consists of two smaller add-ins:

- Contact insights

    This add-in provides users with [!INCLUDE[prod_short](includes/prod_short.md)] customer or vendor information in Outlook emails and calendar appointments. It also enables you to create and send [!INCLUDE[prod_short](includes/prod_short.md)] business documents, such sales quotes and invoices to a contact. <!--To support these task, the add-in adds actions to the Outlook ribbon, in the **Business Central** group. --> 

- Document view

    When an email refers to a business document number in the email body, this add-in provides a direct, in-line link from email body to the actual business document in [!INCLUDE[prod_short](includes/prod_short.md)].

For more information about what you do with the add-ins, see [Use Business Central as your Business Inbox in Outlook](work-outlook-addin.md).

Each add-in is provided as an XML file, called a *manifest*, which must be installed in Outlook of anyone who wants this functionality. These files describe how to activate the add-ins and connect to Business Central when they're used in Outlook. Working with these files is typically done by an admin. As a user, in most cases, you won't have to handle with these files directly. Either your admin will set up the add-in to install automatically for you or you'll use the built-in assisted setup to handle the installation.

> [!IMPORTANT]
> Working with multiple environments? The Business Central add-in for Outlook is designed to work with a single Business Central environment. When the add-in is installed, the name of the environment is included in the add-in's manifest. This configuration means that the add-in will only connect to the environment that it was installed from. To use the add-in with a different environment, you'll open the environment and install the add-in again.

## Deploy the add-in by using Centralized Deployment as an admin

Centralized Deployment is a feature in Microsoft 365 admin center that you use to automatically install add-ins in users' Office apps, like Outlook. It's the recommended way for admins to deploy for Office add-ins to users and groups within your organization.

> [!NOTE]
> For Business Central on-premises, see [Setting Up the Add-In for Outlook Integration with Business Central On-Premises](/dynamics365/business-central/dev-itpro/administration/setting-up-office-add-ins-outlook-inbox) in the administration content (English only).

### Prerequisites

- A Microsoft 365 subscription  
- Users are assigned a Microsoft 365 license  
- Your Microsoft 365 account has at least the [Exchange Administrator](/entra/identity/role-based-access-control/permissions-reference#exchange-administrator) role

### Deploy the add-in

1. In Business Central, select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then select the related link.
1. Select **Outlook Add-in Centralized Deployment** to start the assisted setup guide.
1. Review the first page and select **Next** to open the page for downloading the add-ins.
1. In the **Deploy** column, select the check box for the add-ins that you want to deploy, then select **Download and Continue**.

    A file with the name *OutlookAddins.zip* is downloaded to your device.

1. At this point, you're finished with the work you need to do in Business Central, so you can select **Done**.

   >[!TIP]
   > Before you select **Next**, select the **Go to Microsoft 365 (opens in a new window)** link to open and sign in to the Microsoft 365 admin center in a new browser window. You'll have to go to the Microsoft 365 admin center in a later step anyways.

1. Go the folder where the OutlookAddins.zip was downloaded, and extract the **Contact Insights.xml** and **Document View.xml** files from the .zip to a folder of your choice.

    For more information, see [Zip and Unzip files and folders](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5).
1. Sign in to the Microsoft 365 admin center, then go to [Integrated Apps](https://go.microsoft.com/fwlink/?linkid=2163967).

1. Select **Upload custom apps**.
1. On the **Upload Apps to deploy** page, set **App type** to **Office Add-in**.
1. Select **Upload manifest file (.xml) from device** > **Choose file**.
1. Choose one of the add-in files **Context Insights.xml** or **Documents.xml** that you extracted earlier.
1. Follow the instructions to assign users and deploy the add-in.
1. Repeat step 9 through 11 for the other add-in file if you want.

> [!IMPORTANT]
> A green check mark appears when the add-in is deployed to the admin center. However, it can take up to 24 hours before users see the add-in in the [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)] app. Users might have to restart Outlook as well.

When finished, you can always change the deployment in Microsoft 365 admin center, like assigning more users. For more information about deploying add-ins in the admin center, see [Deploy add-ins in the admin center](/microsoft-365/admin/manage/centralized-deployment-faq?view=o365-worldwide#how-do-you-target-add-in-user-assignments-with-centralized-deployment-&preserve-view=true).

## <a name="install"></a>Install the add-in for your own use

If your organization allows it, you can install the Business Central add-in for just yourself. Contact your administrator if you're not sure.

1. In Business Central, go to the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Outlook Add-in**, and then select the related link.
2. Read the page and select **Next** when ready.
3. If you want to receive a welcome email message from Business Central with overview of using the add-in, turn on **Send sample email message**.
4. Select **Finish** to complete the installation.

Business Central now connects to your email server and installs the add-in in your [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)]. This operation doesn't take long. You're now ready to start using the add-in in [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)].

### <a name="onprem"></a>For Business Central on-premises

If you're using Business Central on-premises, installing the add-in might be slightly different.

1. In Business Central, go to the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Outlook Add-in**, then select the related link.
1. Read the page and select **Next** when ready.
1. Do one of the following steps, depending on the page you see:

    - If you see the **Install to my Outlook** button, select it and you're all done.
    - If you see the **Next** button, select it. On the next page, if you want to receive a welcome email message from Business Central with overview of using the add-in, turn on **Send sample email message**. Then, select **Finish** and you're all done.
    - If you see the **Download Add-in** button, select it, then continue to the next step.
1. When you select **Download Add-in**, a file with the name *OutlookAddins.zip* is downloaded to your device. You should find the file at the top of the browser.

   Go the folder where the OutlookAddins.zip was downloaded, and extract the **Contact Insights.xml** and **Document View.xml** file from the .zip to a folder of your choice. For more information about how to extract files, see [Zip and Unzip files and folders](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5).

1. In your browser, visit [https://aka.ms/olksideload](https://aka.ms/olksideload). This link opens Outlook on the web, and then loads the **Add-Ins for Outlook** dialog.
1. Select **My add-ins** > **Add a custom add-in** > **Add from a file**.
1. Select one of the .xml files that you extracted, like **Contact Insights.xml**, then select **Open** > **Install**.
1. Repeat step 6 and 7 for the other .xml file, if you downloaded one.

You're now ready to start using the add-in in Outlook.

Learn more about installing add-ins in Outlook at [Use add-ins in Outlook](https://support.microsoft.com/en-us/office/use-add-ins-in-outlook-1ee261f9-49bf-4ba6-b3e2-2ba7bcab64c8).

## See also

[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Getting Business Central on my Mobile Device](install-mobile-app.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Finance](finance.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Minimum Requirements for Outlook](product-requirements.md#outlook)  
[Use add-ins in Outlook on the web](https://support.office.com/article/Using-Add-ins-in-Outlook-on-the-web-8f2ce816-5df4-44a5-958c-f7f9d6dabdce?appver=OWB150)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-payment-methods
---
title: Set up payment methods
description: You use payment methods, for example, check, bank transfer, cash, or PayPal, to define how sales and purchase invoices are paid.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: check, bank transfer, cash, PayPal
ms.search.form: 427,
ms.date: 06/10/2024
ms.service: dynamics-365-business-central

---
# Set up payment methods

Payment methods define the way you prefer for customers to pay you, and how you like to pay your vendors. The method can vary for each customer or vendor. Examples of typical payment methods are **bank**, **cash**, **check**, or **account**.

You can assign a payment method to customers and vendors so that the same method is always used on the sales and purchase documents you create for them. If needed, you can change the method on the sales or purchase document. For example, if you want to pay a particular purchase invoice in cash rather than by check. The default payment method assigned to the vendor doesn't change.

The same payment methods are used for sales and purchase documents. For example, a _cash_ payment method is used to make payments and to receive them. [!INCLUDE[prod_short](includes/prod_short.md)] knows that when you're creating a sales invoice you expect to receive payment, and the opposite for purchase invoices.

Credit memos for returns, however, are exceptions because money is flowing in the opposite directions, from you to your customer and from your vendor to you. Therefore, a default payment method isn't assigned to credit memos. There is, however, a workaround. You can specify terms of payment for the customer or vendor. Though the **Calc. Pmt. Disc. on Cr. Memos** field isn't intended for this workaround, if you choose the checkbox on the **Payment Terms** page a default payment method is added when you create a credit memo. <br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=34d91385-2010-4135-b47d-2062660ede80]

## To set up a payment method

[!INCLUDE[prod_short](includes/prod_short.md)] provides a few payment methods that businesses often use. You can, however, add as many as you need.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Methods**, and then choose the related link.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

Optionally, add payment terms to your payment method. For more information, see [Set Up Payment Terms](finance-payment-terms.md).  

## To assign a payment method to a customer or vendor

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer** or **Vendor**, and then choose the related link.
2. In the **Payment Method Code** field, choose the method to use by default for the customer or vendor.

## Audit changes to payment methods

You can use the Change Log feature to capture changes users make to your payment method setup. [!INCLUDE [include-audit-what-who-when](includes/include-audit-what-who-when.md)] 

The following table lists the table for payment methods and its ID.

| Table | Table ID |
| ----- | -------- |
| Payment Method | 289 |

[!INCLUDE [include-audit-changes-to-setup-learn-more-link](includes/include-audit-changes-to-setup-learn-more-link.md)]


## See also

[Register New Customers](sales-how-register-new-customers.md)  
[Set Up Payment Terms](finance-payment-terms.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-powerbi-scheduled-receipt
---
title: Scheduled Receipt (Power BI report)
description: The Scheduled Receipt report lets you view inbound inventory per document type. 
author: kennienp
ms.author: kepontop
ms.reviewer: 
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37028_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Scheduled Receipt (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Scheduled Receipt** report shows inbound inventory for items or item categories for different types of documents types or processes. The information also includes internal assembly or production accounting for when the finished good becomes available along with purchase and sales return documents.

:::image type="content" source="media/inventory/scheduled-receipt.png" alt-text="Screenshot of the Scheduled Receipt Power BI Report" lightbox="media/inventory/scheduled-receipt.png":::

## Use the report

Managers and warehousing staff use the report to know when to expect to receive inventory.

Managers use the report to track inventory levels and ensure that stock levels keep up with the requirements shown in the [Gross Requirement (Power BI Report)](inventory-powerbi-gross-requirement.md) report. Use this information to optimize your inventory and ensure you aren't over buying or over producing a specific item.

For warehouse receipt workers, this report offers detailed information about inbound stock from internal and external sources. This information can help you coordinate future purchasing and production levels.

## Key Performance Indicators (KPIs)

The *Scheduled Receipt* report includes the following KPIs:

- [**Scheduled Receipt**](inventory-powerbi-kpis.md#scheduled-receipt)
- [**Projected Available Balance**](inventory-powerbi-kpis.md#projected-available-balance)
- [**FP Order Receipt (Qty.)**](inventory-powerbi-kpis.md#fp-order-receipt-qty)
- [**Rel. Order Receipt (Qty.)**](inventory-powerbi-kpis.md#rel-order-receipt-qty)
- [**Qty. On Purchase Order**](inventory-powerbi-kpis.md#qty-on-purch-order)
- [**Qty. in Transit**](inventory-powerbi-kpis.md#qty-in-transit)
- [**Trans. Order Receipt (Qty.)**](inventory-powerbi-kpis.md#trans-order-receipt-qty)
- [**Qty. on Assembly Order**](inventory-powerbi-kpis.md#qty-on-assembly-order)
- [**Qty. on Sales Return Order**](inventory-powerbi-kpis.md#qty-on-sales-return-order)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)] 


## Data used in the report

The report uses data from the following tables in [!INCLUDE [prod_short](includes/prod_short.md)]:

- Item
- Purchase Line
- Sales Line
- Assembly Header
- Production Order Lines
- Transfer Lines

## Try the report

Try the report here: [Scheduled Receipt](https://businesscentral.dynamics.com?page=37028)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory app](inventory-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-move-items-ad-hoc-in-basic-warehousing
---
title: Move Items Unplanned in Basic Warehouse Configurations
description: This article explains unplanned internal movements between bins without a demand from a source document. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 12/16/2022
ms.custom: bap-template
ms.search.form: 393, 7382
---
# Move Items Internally in Basic Warehouse Configurations

You might want to move items between bins without a demand from a source document. For example, as part of the following activities:

* Reorganize your warehouse.
* Bring items to an inspection area.
* Move extra items to and from a production area. 

How you move items depends on how your warehouse is set up as a location. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).

In warehouse configurations where the **Bin Mandatory** setup toggle is turned on, but not **Directed Pick and Put-away** you can register unplanned movements on the following pages:  

* On the **Internal Movement** page.
* On the **Item Reclassification Journal** page.  

## Internal movements

The **Internal Movements** page lets you specify Take and Place lines when there isn't a demand from a source document. The Internal Movement page is like a worksheet for organizing things. You can't process the actual movement directly from it. When a line is filled in, use the **Create Inventory Movement** action to send the line to the **Inventory Movement** page, which is where you process and register the movement.

### To move items as an internal movement

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Internal Movements**, and then choose the related link.  
2. Choose **New** action. Make sure that the **No.** field on the **General** FastTab is filled in.
3. In the **Location Code** field, enter the location where the movement takes place.  

    If the location is your default location as a warehouse employee, the location code is added automatically.  
4. In the **To Bin Code** field, enter the code for the bin that you want to move the items to.

    For example, in production, the bin could be the open shop floor bin defined on the location card or work center.  
5. In the **Due Date** field, enter the date by which to complete the movement.  
6. On each line, fill in the fields as necessary. Internal movement documents have one line per movement. The line contains both the take and the place actions.
7. Choose the **Item No.** field to open the **Bin Contents List** page. Select the item to move based on its availability in bins. You can also choose the **Get Bin Contents** action to fill the internal movement lines based on your filters.  

    After you select the item, the **From Bin Code** field is automatically filled in according to the selected bin content. You can choose any bin where the item is available. The **Item No.** and **From Bin Code** fields are related. Changing the value in one field might change the value in the other.  

    The **To Bin Code** field is filled in with the value you entered on the header. You can change it on the line to any other bin code that isn’t blocked or dedicated for special purposes. Learn more at [The Dedicated field](warehouse-how-to-create-individual-bins.md#the-dedicated-field).  

8. After you define which bins you want to move the items from and to, enter the quantity to move in the **Quantity** field.  

    > [!NOTE]  
    > The quantity must be available in the bin specified in the **From Bin Code** field.  

9. When you're ready to process the movement, choose the **Create Inventory Movement** action.  

    > [!NOTE]  
    >  After you create the movement, the internal movement lines are deleted.  

Perform the rest of the unplanned movement on the **Inventory Movement** page in the same way as you would for a movement based on source documents.

### To record the inventory movement

1. On the **Inventory Movement** page, open the document to record the movement for.  
2. In the **Bin Code** field on the movement lines, the bin where the items must be picked from is where the item is available. You can change the bin if needed.
3. Perform the move and enter the information for the moved quantity in the **Qty. to Handle** field. The value on the Take and the Place lines must be the same. Otherwise, you can't register the movement.

    If you must take the items for a line from more than one bin, for example because the full quantity isn't in the bin, use the **Split Line** action on the **Lines** FastTab. The action creates a line for the remaining quantity to handle.  
4. Choose the **Register Invt. Movement** action.  

The following happens during the posting process:

* Warehouse entries indicate that the quantity is transferred from the take bins to the place bins.

## To move items with the item reclassification journal

Instead of using movement documents, you can record movements by reclassifying bin codes on items. Learn more at [Count, Adjust, and Reclassify Inventory Using Journals](inventory-how-count-adjust-reclassify.md).

> [!NOTE]  
> Movements posted with reclassification journals don't make the movement documents ready to move.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Reclass. Journal**, and then choose the related link.  
2. On each journal line, define the bins to move the items from and to by filling in the **Bin Code** and the **New Bin Code** fields.  

    1. To move a bin's entire contents to another bin, choose the **Get Bin Contents** action.  
    2. Use the filters to find the bin that contains the items you'd like to move, and then choose **OK**. The journal lines are filled with the contents of the bin.  
3. Fill in the remaining fields on each journal line.
4. Post the reclassification journal.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

## See also

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-how-setup-time-sheets
---
title: Set up time sheets and their approval
description: Learn how to use time sheets to track time for projects and resources.
ms.reviewer: bholtorf
author: brentholtorf
ms.author: bholtorf
mw.reviewer: ivkoleti
ms.topic: conceptual
ms.search.keywords: project management, capacity, staff, resource, time sheet
ms.search.form: 977, 462, 76, 77, 462, 946_Primary, 949_Primary
ms.date: 07/27/2023
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Set up time sheets

Time sheets in [!INCLUDE[prod_short](includes/prod_short.md)] handle time registration in weekly increments of seven days. You can use them to track the time used on projects, and you can use them to record simple resource time registration. Before you use time sheets, you must specify which users will submit time sheets and how you want to configure time sheets.  

> [!TIP]
> The people who use time sheets are *resources*. For example, that lets you use time sheets to track the work of non-employees. To track the work of employees, or to use time sheets to track employee absence, you must associate employees with resources. There's an assisted setup guide that can help you do that. To learn about the guide, go to [Set up time sheets with the assisted setup guide](#set-up-time-sheets-with-the-assisted-setup-guide).  

Optionally, specify whether and how time sheets are approved. Depending on the needs of your organization, you can designate:

* One or more users as the time sheet administrator and approver for all time sheets.
* A time sheet approver for each resource.

When you have set up time sheets, you can create time sheets for resources, and the resources can post time sheet lines. Optionally, assign time sheets to project planning lines. To learn more, go to [Use Time Sheets](projects-how-use-time-sheets.md).  

## Set up time sheets with the assisted setup guide

An assisted setup guide can help you set up time sheets.  

> [!TIP]
> If you're a version earlier than 2023 release wave 1 (v22), you must enable the **Feature Update: New time sheet experience** feature in the [Feature Management](https://businesscentral.dynamics.com/?page=2610) page to use this capability.
>
> This setting also lets you use time sheets on mobile devices.

Open the **Set Up Time Sheets** assisted setup guide from the [Assisted Setup](https://businesscentral.dynamics.com/?page=1801) page.

The assisted setup guide takes you through the following steps:

1. Set up the participants in the time sheet processes.

    The first page in the guide shows you the number of users in your [!INCLUDE [prod_short](includes/prod_short.md)]. It also shows other required and optional information.  
2. Specify the first day of a work week in this organization.

    The first day of a work week is the default first day for all time sheets.
3. Specify the person who administers time sheets.

    This person can edit and delete all time sheets. Optionally, add the same role to other people in the **User Setup** page.
4. Set up the resources who will use time sheets, and the people who will approve time sheets.

At the end of the setup guide, you can choose to let [!INCLUDE [prod_short](includes/prod_short.md)] create time sheets based on your configuration. View the new time sheets in the **Time Sheets** page, which you can open [here](https://businesscentral.dynamics.com/?page=951). Alternatively, run the assisted setup guide again, or complete the setup manually.

> [!IMPORTANT]
> If you're using 2023 release wave 1 (v22) or later, to ensure that you can manage time sheets on mobile devices, you must manually turn on the **Use New Time Sheet Experience** option for the time sheet setup, as described in the next procedure.

## Set up time sheets manually

The following sections describe how to set up time sheets if you don't use the **Set Up Time Sheets** assisted setup guide.  

### Set up general information for time sheets manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resources Setup**, and then choose the related link.  
1. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

   > [!IMPORTANT]
   > If you're using 2023 release wave 1 (v22) or later, to ensure that you can manage time sheets on mobile devices, turn on the **Use New Time Sheet Experience** option.
1. For the **Time Sheet by Job Approval** field, select one of the following options.

| Option | Description |
| --- | --- |
| **Never** |The user in the **Time Sheet Approver User ID** field on the resource card approves the time sheet. |
| **Always** |The user in the **Person Responsible** field on the Project Card approves the time sheet. |
| **Machine Only** |If the machine time sheet is linked with a job, then the user in the **Person Responsible** field on the Project Card approves the time sheet. If the machine time sheet is linked with a resource, then the user in the **Time Sheet Approver User ID** field on the resource card approves the time sheet. |

### Assign a time sheet administrator manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then choose the related link.  
2. Select the user who will be the time sheet administrator, and then select the **Time Sheet Admin.** checkbox.  

> [!TIP]  
> We recommend that you designate only one user as the time sheet administrator for a company. In the following procedure, you set up a time sheet owner and approver where the time sheet approver is assigned for each resource.  

### Assign a time sheets owner and approver manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resources**, and then choose the related link.
2. Select the resource for which you want to set up the ability to use time sheets, and then select the **Use Time Sheet** checkbox.  
3. In the **Time Sheet Owner User ID** field, enter the ID of the owner of the time sheet. The owner can enter time usage on a time sheet and submit it for approval. Typically, when the resource is a person, that person is also the owner.  
4. In the **Time Sheet Approver User ID** field, enter the ID of the approver of the time sheet. The approver can approve, reject, or reopen a time sheet.  

> [!NOTE]  
> You can't change the ID of the time sheet approver if there are time sheets that haven't been processed and have the status of **Submitted** or **Open**.

## See also

[Use Time Sheets for Projects](projects-how-use-time-sheets.md)  
[How To Create Time Sheets](projects-how-use-time-sheets.md#create-time-sheets)  
[Record Consumption or Usage for Projects](projects-how-record-job-usage.md)  
[Setting Up Project Management](projects-setup-projects.md)  
[Project Management](projects-manage-projects.md)  
[Finance](finance.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-how-setup-insurance
---
title: Set Up FA Insurance
description: You set up an insurance card and general insurance policy information to manage fixed asset insurance coverage.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: policy, coverage
ms.search.form: 5607, 5648, 5644, 5651
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Fixed Asset Insurance

To manage fixed asset insurance coverage, you must first set up some general insurance information and an insurance card per policy.

## To set up general insurance information

To use the insurance features in [!INCLUDE[prod_short](includes/prod_short.md)], you must set up some general insurance information.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **FA Setups**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

## To set up insurance types

You can group your insurance policies into categories, such as insurance against theft or fire insurance. The insurance types are used on the insurance card.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Insurance Types**, and then choose the related link.  
2. Fill in the fields as necessary.

## To set up insurance cards

You may accumulate information about each insurance policy on the insurance card.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Insurance**, and then choose the related link.  
2. On the **Insurance** page, choose the **New** action to create a  new insurance card.  
3. Fill in the fields as necessary.

## To set up insurance journal templates

[!INCLUDE[prod_short](includes/prod_short.md)] automatically creates an insurance journal template the first time that you open the **Insurance Journal** page, but you can set up additional journal templates. For more information, see [Work with General Journals](ui-work-general-journals.md).  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Insurance Journal Templates**, and then choose the related link.  
2. Fill in the fields as necessary.

## To set up insurance journal batches

You can set up batches in an insurance journal template. The values in the journal batch are used as default values if the fields are not filled in on the journal lines. For more information, see [Work with General Journals](ui-work-general-journals.md)  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Insurance Journal Templates**, and then choose the related link.  
2. Select an insurance journal template, and then choose the **Batches** action.
3. On the **Insurance Journal Batches** page, fill in the fields as necessary.

> [!NOTE]  
>   Numbers have a special function in journal names. If a journal template name or journal batch name contains a number, the number automatically advances by one every time that the journal is posted. For example, if HH1 is entered in the **Name** field, the journal name will change to HH2 after the journal named HH1 has been posted.

## See also

[Setting Up Fixed Assets](fa-setup.md)  
[Fixed Assets](fa-manage.md)  
[Finance](finance.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/receivables-reports
---
title: Accounts receivable analytics
description: Explore the reports and analytics in the standard version of Business Central that can help you track your accounts receivable.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: Report_33, Report_101, Report_104, Report_109, Report_112, Report_120, Report_121, Report_129, Report_211, Report_1316, 36992, 36993
ms.date: 12/16/2024
ms.service: dynamics-365-business-central
---
# Accounts receivable analytics

To help you manage accounts receivable, [!INCLUDE [prod_short](includes/prod_short.md)] offers standard reports and analytics tools. You can also design various types of reports yourself, such as Power BI, Data Analysis, or Excel.  

## Analyze accounts receivable with Power BI

The [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] has multiple reports for accounts receivable.

:::image type="content" source="media/finance/average-collection-period-report.png" alt-text="Screenshot of the Average Collection Period report" lightbox="media/finance/average-collection-period-report.png":::

| To... | Open in Business Central (CTRL+select) | Learn more |
| ----- | ---------------------------------------- | ---------- |
| [!INCLUDE [pbireport-average-collection-period-scenario-include](includes/pbireport-average-collection-period-scenario-include.md)]  | [Average Collection Period](https://businesscentral.dynamics.com?page=36992) | [About Average Collection Period](finance-powerbi-average-collection-period.md) |
| [!INCLUDE [pbireport-aged-receivables-back-dating-include](includes/pbireport-aged-receivables-back-dating-include.md)] | [Aged Receivables (Back Dating)](https://businesscentral.dynamics.com?page=36993) | [About Aged Receivables (Back Dating)](finance-powerbi-aged-receivables-back-dating.md) |

To learn more, go to [Power BI finance app](finance-powerbi-app.md).

## Analyze accounts receivable with Data Analysis

You can use Data Analysis on the **Customer Ledger Entries** page to explore what your customers owe you. You can break down the information into time intervals for when amounts are due.

:::image type="content" source="media/data-analysis-customer-ledger-entries-ar-example.png" alt-text="Example of how to do an AR data analysis on the Customer Ledger Entries page." lightbox="media/data-analysis-customer-ledger-entries-ar-example.png":::

To learn more, go to [Using data analysis to analyze accounts receivable](ad-hoc-analysis-finance.md#example-finance-accounts-receivable).

## Explore finance reports with Report Explorer

[!INCLUDE [finance_reports_report_explorer](includes/finance-reports-report-explorer-include.md)]

## Accounts receivable report overview

[!INCLUDE [receivable_reports](includes/receivable-reports-include.md)]

## Related information

[Using data analysis to analyze accounts receivable](ad-hoc-analysis-finance.md#example-finance-accounts-receivable)  
[Power BI finance app](finance-powerbi-app.md)  
[Financial analytics](bi.md)  
[Sales analytics](sales-analytics-overview.md)  
[Accountant Experiences in [!INCLUDE[prod_long](includes/prod_long.md)]](finance-accounting.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-setup-loaner-program
---
title: How to Set Up Loaners | Microsoft Docs
description: You can set up loaners that you can lend to customers to replace service items while they are in service.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up a Loaner Program
Sometimes you must provide a customer a loaner item for use when your customer service team makes a repair. In [!INCLUDE[prod_short](includes/prod_short.md)], you can set up a loaner program, loan items to your customers, and track receipts when customers return the items. Additionally, you can add comments about loaners in one of two ways:  
  
* Enter a note or comment about the loaner itself.  
* Enter a note on a service item about the need for a loaner.  

## To set up a loaner  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Loaners**, and then choose the related link.  
2. Create a new loaner card. 
3. In the **No.** field, enter a number for the loaner. Alternatively, if you have set up number series for loaners on the **Service Mgt. Setup** page, you can select the <kbd>Enter</kbd> key to enter the next available loaner number.  
4. Fill in the **Description**, **Description 2**, and **Serial No.** fields.  
5. In the **Unit of Measure Code** field, choose the relevant unit of measure.  
  
## See Also
[Lend and Receive Loaners](service-how-to-lend-receive-loaners.md)  
[Setting Up Service Management](service-setup-service.md)  
[Delivering Service](service-deliver-service.md)  



[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-interactions
---
title: Manage interactions with your contacts
description: You can manage all types of communication or interactions between your company and your contacts; for example, letters, phone calls, meetings, and so on.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: conceptual
ms.search.keywords: relationship, prospect
ms.search.forms: 5082,
ms.date: 04/01/2021
ms.custom: bap-template

ms.service: dynamics-365-business-central
---
# Record interactions with contacts

Recording interactions with business contacts consists of these tasks:

* Setting up interaction templates  
* Creating interactions on contacts or segments  
* View and manage recorded interactions  

## Set up interaction templates

Before you can record interactions, you must set up interaction templates. An interaction template is a model that defines the basic characteristics of an interaction. When you record an interaction, you specify the interaction templates it's based on. Settings such as the mode of communication that was used, who initiated the interaction, and its cost, transfer to the interaction.

You set up an interaction template on the **Interaction Templates** page.

When you set up an interaction template, you can add an attachment. For example, you might attach a Microsoft Word document that contains notes from a meeting. To learn more about attachments, go to [Attachments for interactions](marketing-interaction-attachments.md). Repeat the steps to set up as many interaction templates as you want.  

## Create interactions

There are two ways to record interactions:

* You can manually create interactions that are linked to a single contact or to a segment. For more information, see [Create Interactions on Contacts and Segments](marketing-how-create-interactions.md).  
* You can automatically record interactions when you perform actions in the application—for example, when you print an invoice or quote. For more information, see [Automatically Record Interactions with Contacts](marketing-auto-record-interactions.md).

## View and manage recorded interactions

You can view all the recorded interactions that have not been deleted on the **Interaction Log Entries** page. You can open this page by:

* Using the **Search for Page or Report** icon to search on **Interaction Log Entries**.
* Choosing the **Interaction Log Entries** action on a contact or segment.

  The **Interaction Log Entry** page contains the interactions you create manually and the interactions that [!INCLUDE [prod_short](includes/prod_short.md)] records automatically.

Use the Interaction Log Entries page to view the status of interactions and cancel interactions.

You can delete interaction log entries that have been canceled. To delete interaction log entries, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Delete Canceled Interaction Log Entries**, choose the related link, and then fill in the information.

## See Also

[Managing Contacts](marketing-contacts.md)  
[Managing Sales Opportunities](marketing-manage-sales-opportunities.md)  
[Work with Business Central](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-quickbooks-data-migration
---
title: QuickBooks Data Migration Extension
description: Describes how to use the extension to import customers, vendors, items, and accounts from QuickBooks Desktop to Business Central.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: app, add-in, manifest, customize, import, implement
ms.search.form: 1911, 1912, 1913, 1914, 1915, 1916, 1918, 1919
ms.date: 06/24/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# The QuickBooks Data Migration Extension

This extension makes it easy to migrate customers, vendors, items, and accounts from QuickBooks to [!INCLUDE[prod_short](includes/prod_short.md)]. If your business uses QuickBooks today, you can export the relevant information and then open an assisted setup guide to upload the data to [!INCLUDE[prod_short](includes/prod_short.md)].  
For more information, see [Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md).

## Data from QuickBooks desktop

You can import the following data from QuickBooks Online to Business Central:

- Customers  
- Vendors  
- Items  
- Chart of Accounts  
- Beginning Balance transactions in General Ledger  
- On-hand Quantities for Inventory Items  
- Open documents for customers and vendors, such as invoices, credit memos and payments  

We migrate only full amounts on sales and purchase documents. We do not update partially paid amounts. For example, if a customer has paid 300 of a total of 500 dollars on a sales invoice, we migrate the full 500. If you have received partial payments, you must update these manually, either before or after you migrate data. We recommend that you apply outstanding transactions before you migrate, just to make things easier afterward.

> [!NOTE]
> We do not migrate purchase orders or sales orders.

## Before you start

An important part of the migration process is to specify the accounts to migrate transactions to. It's a good idea to plan this mapping before you migrate data. For example, the accounts where you post transactions for:

- The sale of items or services to customers  
- The purchase of items or services from vendors  
- Adjustments in the general ledger  

Business Central requires that general ledger accounts have account numbers assigned to them. Make sure that account numbers are assigned to your accounts in QuickBooks.
If transactions in QuickBooks have tax amounts, you must set up a tax account for your tax jurisdictions in Business Central before you can post transactions.

In order to get your data out of the QuickBooks desktop application you will need to download the Microsoft Data Exporter Tool.  The instructions for the tool are in the Data Migration Wizard in [!INCLUDE[prod_short](includes/prod_short.md)]. The tool will connect to your QuickBooks application and export the applicable data to a .zip file.  

> [!NOTE]
> Currently the data exporter tool only works with QuickBooks 2017 and 2018.

## Finding the QuickBooks data migration extension

The QuickBooks Data Migration extension is installed and ready to go as an integrated part of the Data Migration assisted setup guide. If you are ready to get started now, and have exported your data from QuickBooks, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link. Choose **Migrate business data**, and then follow the steps in the guide.  

## What do I do after I migrate data?

After you migrate data, transactions have the status Unposted, so you can review them and make adjustments. To review the transactions, go to the page where you would normally find them. For example, to review unposted sales invoices, go to the Sales Invoices page. To review payment journals, go to the Payment Journals page.
There are a few things in particular that you should do:
If the transactions in QuickBooks had markup or discount amounts, you must manually add the amounts to the related transactions in Business Central before you post them.
If you are using value added tax (VAT), you may need to add a business posting group and a product posting group to the posting setup so that you can post VAT amounts.
Verify the beginning balances for accounts in the general ledger. QuickBooks does not store the current balance for all accounts, so you might need to correct beginning balances.

## See also

[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-subcontract-manufacturing
---
title: Subcontract manufacturing
description: This article gives an extended overview of the extended functionality of subcontracting, including work center fields and routing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: 99000886,
ms.date: 06/22/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Subcontract manufacturing

Subcontracting selected operations to vendor is common in many manufacturing companies. Subcontracting can be a rare occurrence or can be an integral part of all production processes.

[!INCLUDE[prod_short](includes/prod_short.md)] provides several tools for managing subcontract work:  

- Work Centers with assigned vendor: This feature enables you to set up a work center that is associated with a vendor (subcontractor). This work center is called a subcontract work center. You can specify a subcontract work center on a routing operation, which allows you to easily process the subcontracted activity. In addition, the cost of the operation can be designated at the routing or the work center level.  
- Work Center cost based on units or time: This feature enables you to specify whether costs associated with the work center are based on the production time or a flat charge per unit. Although subcontractors commonly use a flat charge per unit to charge for their services, the application can handle both options (production time and flat charge per unit).  
- Subcontracting Worksheet: This feature allows you to find the production orders with material ready to send to a subcontractor and to automatically create purchase orders for subcontract operations from production order routings. The application automatically posts the purchase order charges to the production order during the posting of the purchase order. Only production orders with a status of released can be accessed and used from a subcontracting worksheet.  

## Subcontract work centers  

Subcontract Work Centers are set up the same as regular work centers with additional information. They're assigned to routings in the same manner as other work centers.  

### Subcontract work center fields  

This **Subcontractor No.** field designates the work center as a subcontract work center. You can enter the number of a subcontractor who supplies the work center. This field can be used to administer work centers, which aren't in-house but perform processing under contract.  

If you subcontract with the vendor for a different rate for each process, then select the **Specific Unit Cost** field. This setting lets you set up a cost on each routing line and saves the time of reentering each purchase order. The cost on the routing line is used in processing instead of the cost on the work center cost fields. Selecting the **Specific Unit Cost** field calculates costs for the vendor by the routing operation.  

If you subcontract at a single rate per vendor, leave the **Specific Unit Cost** field blank. The costs are set up by filling in **Direct Unit Cost**, **Indirect Cost %**, and **Overhead Rate** fields.  

### Routings that use subcontract work centers

Subcontract work centers can be used for operations on routings in the same way as regular work centers.  

You can set up a routing that uses an outside work center as a standard operational step. Alternatively, you can modify the routing for a particular production order to include an outside operation. This might be needed in an emergency such as a server not working correctly, or during a temporary period of higher demand where work you normally do in-house must be sent to a subcontractor.  

For more information, see [Create Routings](production-how-to-create-routings.md).  

## Calculate subcontracting worksheets and create subcontract purchase orders  

After you calculate the subcontracting worksheet, the relevant document is created. In this case, a purchase order.  

The **Subcontracting Worksheet** page functions like the **Planning Worksheet** by calculating the needed supply, in this case purchase orders, which you review in the worksheet and then create with the **Carry Out Action Message** function.  

> [!NOTE]  
> Only production orders with status **Released** can be accessed and used from a subcontracting worksheet.  

### To calculate the subcontracting worksheet  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Subcontracting Worksheet**, and then choose the related link.  
2. To calculate the worksheet, choose the **Calculate Subcontracts** action.  
3. On the **Calculate Subcontracts** page, set filters for the subcontracted operations, or the work centers where they're performed, to calculate only the relevant production orders.  
4. Choose the **OK** button.  

    Review the lines on the **Subcontracting Worksheet** page. The information in this worksheet comes from the production order and production order routing lines and flows to the purchase order when that document is created. You can delete a row from the worksheet without affecting the original information, just as you can with the other worksheets. The information will reappear the next time you run the **Calculate Subcontracts** function.  

### To create the subcontract purchase order  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Subcontracting Worksheet**, and then choose the related link.  
2. Choose the **Carry Out Action Message** action.  
3. Select the **Print Orders** field to print the purchase order as it is created.  
4. Choose the **OK** button.  

If all subcontracted operations are sent to the same vendor location, then only one purchase order is created.  

The worksheet line that was turned into a purchase order is deleted from the worksheet. After a purchase order is created, it won't appear in the worksheet again.  

## Posting subcontract purchase orders  

After the Subcontractor Purchase Orders are created, they can be posted. Receiving the order posts a Capacity Ledger Entry to the production order and invoicing the order posts the direct cost of the purchase order to the production order.  

## To post a subcontract purchase order
 
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, and then select the related link.  
2. Open a purchase order that is created from the subcontracting worksheet.  

    On the purchase order lines, you see the same information that was in the worksheet. The **Prod. Order No.**, **Prod. Order Line No.**, **Operation No.**, and **Work Center No.** fields are filled in with the information from the source production order.  

3. Choose the **Post** action.  

When the purchase is posted as received, an output journal entry is automatically posted for the production order if the subcontract operation is the last operation on the production order routing.  

> [!CAUTION]  
> Posting output automatically for an ongoing production order when subcontracted items are received may not be desired. Reasons for this could be that the expected output quantity that is posted may be different from the actual quantity and that the posting date of the automatic output is misleading.  
>
> To avoid that the expected output of a production order is posted when subcontract purchases are received, make sure the subcontracted operation is not the last one. Alternatively, insert a new last operation for the final output quantity.  

When the purchase order is posted as invoiced, then the direct cost of the purchase order is posted to the production.  

> [!NOTE]  
> Expected costs are only managed for item transactions. Expected costs are not for immaterial transaction types, such as capacity posted via subcontract purchase orders. Don't be confused by the fact that posting a receipt might trigger posting of output. These transactions are separate and the expected cost of output is calculated independently.  

## See also  

[Manufacturing](production-manage-manufacturing.md)    
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)      
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-personalization-manage
---
title: Customizing Pages for Roles
description: Learn how to customize the user interface for a profile (role) so that all users assigned that role see a customized workspace.
author: jswymer
ms.topic: conceptual
ms.search.keywords: customize, personalize, personalization, hide columns, remove fields, move fields
ms.search.form: 9171
ms.date: 06/13/2024
ms.author: jswymer
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Customize pages for profiles

Business Central provides both [personalization](ui-personalization-user.md) for users and customization for administrators. Personalization allows users to tailor their workspace by adjusting page layouts to suit their own preferences. Administrators can customize page layouts for a specific profile, based on business roles or departments, so that all assigned users see the same customized page. While personalization allows users to show, hide, and move fields and actions on a page, customization offers extra capabilities. For example, customization allows you to show fields that are in the page's source table or extension tables but aren't defined on the page object&mdash;this isn't possible personalization.  <!--For more information, see [Personalize Your Workspace](ui-personalization-user.md).-->

<!--Similarly, administrators can customize pages for a profile, according to the related business role or department, so that all users assigned the profile see the customized page layout. As an administrator, you customize pages by using the same functionality as users do when they personalize pages, except with few extra capabilities. Like personalization, you can show, hide, and move fields, actions, or parts on a page. But while personalization only allows you to work with fields that are defined on the page object, customization allows you add fields that are in the source table or table extension, but not defined on the page object. -->

> [!NOTE]
> The typical business use of a profile is a role. A profile is therefore named *Profile (Role)* in the UI.

Page customization starts from the **Profiles (Roles)** page, the administrator's starting point for managing users' profiles on individual profile cards. In addition to customizing the page layout, you control various other settings for profiles on the **Profile (Role)** page for each profile. For more information, see [Manage Profiles](admin-users-profiles-roles.md).

## Prerequisites

- Your Business Central account must have the **D365 Profile Mgt.** permission set or equivalent permissions. 

   The **D365 Profile Mgt.** permission set includes the execute permission on the system object **9026 Add Field to Table**. If you don't have this permission, you're not allowed to add fields on the page unless they're defined on the page object. 

## Customize pages for a profile

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Profiles (Roles)**, and then choose the related link.
2. Select the line for the profile that you want to customize pages for, and then choose the **Edit** action.
3. Choose the **Customize pages** action.

    [!INCLUDE[prod_short](includes/prod_short.md)] opens on a new browser tab for the selected profile with the **Customizing** banner activated. The **Customizing** banner offers the same functionality as the **Personalizing** banner that is available to users.

4. Customize pages according to the needs of the role or department in question in the same way as a user would do when personalizing. For more information, see [Personalize Your Workspace](ui-personalization-user.md).

    > [!NOTE]
    > To navigate during personalization, use <kbd>Ctrl</kbd>+<kbd>Click</kbd> on an action if it is highlighted by the arrowhead.

5. When you have finished changing the layout on one or more pages, choose the **Done** button on the **Customizing** banner.
6. Close the browser tab.

The customization of pages is now recorded for the profile.

## View all customized pages for a profile

You can get an overview of which pages are customized for a profile, for example to plan which pages to customize further or delete.

- On the **Profile (Role)** page, choose the **Manage customized pages** action.

On the **Customized Pages** page, you can delete customizations, and you can troubleshoot by scanning for potential issues.  

## Delete all customizations for a profile

You can cancel all customizations that you have made for a profile. Customizations introduced with an extension and personalizations made by a user aren't deleted. You can delete all personalizations with another action. For more information, see [To delete all personalizations made by a user](admin-users-profiles-roles.md#delete-all-personalizations-made-by-a-specific-user).

- On the **Profile (Role)** page for a customized profile, choose the **Clear customized pages** action.

The layout on pages for the profile is reset to the default layout.  

## Delete customization for specific pages for a profile

You can delete individual page customizations that you have made for a profile. Customizations introduced with an extension and personalizations made by a user aren't deleted. You can delete specific page personalizations with another action. For more information, see [To delete personalizations for specific pages](admin-users-profiles-roles.md#delete-personalizations-for-specific-pages).

1. On the **Profile (Role)** page, choose the **Manage customized pages** action.
2. On the **Customized Pages** page, select one or more lines for page customizations that you want to delete, and then choose the **Delete** action.

The layout on the selected pages is adjusted to the changes you made.

## Add a field

You add fields to the page from the **Add field to page** pane, which you open by selecting the **+ Field** action when in the customization mode. It's important to understand that the **Add field to page**  pane is used to show fields that already exist&mdash;either on the page and its source tables,&mdash;but are currently hidden from view. You can't create new fields.

The **Add field to page** pane presents all fields that can be shown on the page. Fields are divided into the following categories, as determined by the underlying design of the page itself, its source table, and extensions:

|Category|Description|
|-|-|
|Table fields not on the page object|Includes fields that are defined in the base table or extension tables, but aren't defined on the page. The tooltip for these fields includes the label **Defined by the table**.<br><br>|
|Page fields bound to a table|Includes fields that are defined in the base table or table extensions and are also defined on the page as either shown or hidden. The tooltip for these fields includes the label **Defined by the page**.|
|Page fields that aren't bound to a table| Fields that are only defined on the page, not in the base table or extension tables. These fields typically used for variable or calculation. The tooltip for these fields includes the label **Defined by the page**.|

<!--
- Table fields not on the page object. Includes fields that are defined in the base table or extension tables, but aren't defined on the page, either as shown or hidden.   
- Page fields bound to a table. Includes fields that are defined in the base table or table extensions and are also defined on the page as either shown or hidden. 
 - Page fields that are not bound to a table. Fields that are Includes fields that are only defined on the page, not in base table or extension table. These fields typically used for variable or calculation. -->

Use the filter button above the list to change what category of fields are presented the **Add field to page** pane.  

:::image type="content" source="media/customization-filter.svg" alt-text="Shows the filter button in the Add a field pane in the customization mode.":::
 
### Add table field that's not on the page object

If you want to make a table-only field available on a page to users, you must first add it to the page. Once you've added the field, users can choose to show or hide the field by using personalization. There are couple ways to add a field.

- One way is to drag it from  **Add field to page** pane to the desired position.
- Another way is to select the field in the pane to display the recommended location on the page. Then go to the field location on the pages, select the arrowhead, then select **Add**. 

Once the field has been added, the tooltip for the field in the  **Add field to page** pane switches to **Defined by the page**.

> [!NOTE]
> The added field is locked from editing and can't be unlocked.

## Remove a field

If you've added a table field that originally wasn't on the page object, you can remove it again. Removing a field is different that hiding it. When you hide a field, users can still show it on their workspace through personalization. However, if you remove a field, the field is no longer available for users to show, or hide for that matter. If the field is currently displayed on a user's workspace, it disappears from their workspace when you remove it. 

To remove a field, select the arrowhead on the field in the page and then **Remove**. If you can't find the field, select it in the **Add field to page** pane to indicate its hidden location. 

> [!IMPORTANT]
> Removing a field doesn't delete data that's stored in the field or it's source tables. It just removes the field from view. 

## Lock and unlock editing

Customization allows you to lock (allow editing) or unlock editing (prevent editing) of most fields on a page. To lock or unlock editing, select the field on the page, select the arrowhead, and then select **Lock editing** or **Unlock editing**. It's important to keep in mind a few rules about locking and unlocking fields:

- Field's that were originally not on the page object but were added to the page by customization are always locked, and can't be unlocked using customization or personalization.
- The design of the field can also prevent it from being edited. If the AL developer set the field's [Editable property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-editable-property) to `false`, it's always locked and can't be unlocked.
- It's important to note that the lock editing feature is intended to aid in the accuracy, consistency, and reliability of data. It's not intended to secure data integrity.


<!--However, whatever option you choose for a field, users can always change the setting on their own workspace using personalization. For this reason, it's important to consider locking as a deterrence measure and not a preventative measure.--> 
## Important information and tips

- Not all table fields may be available for customization from the **Add field to page** pane. The developer of a table can choose to prevent a field from appearing in customization by setting the field's [AllowInCustomization property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-allowincustomizations-property) to `Never`.
- You can't customize a page that's in [analysis mode](analysis-mode.md). The **Analyze** switch is deactivated. If you switch to customization mode while the page is in analysis mode, then analyze mode is automatically switched off. 
- Some pages have multiple page fields that map to the same source table. The **Add field to page** pane shows all of these page fields independently. You can show, hide, or move these fields independently without affecting the others.
- If a part or group is hidden, you can still identify hidden fields inside the part or group, but you can't add, move or show fields in the part or group until they're made visible. 
## See also

[Personalize Your Workspace](ui-personalization-user.md)  
[Manage Profiles](admin-users-profiles-roles.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Change Which Features are Displayed](ui-experiences.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-setup-vat
---
title: Set up value-added tax
description: Make sure that you correctly calculate, post, and report on VAT for sales and purchases. We recommend that you use the assisted setup guide to set up VAT.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: VAT, posting, tax, value-added tax
ms.search.form: 10, 118, 391, 470, 471, 472, 575, 734, 747, 748, 1877, 
ms.date: 08/12/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Set up calculations and posting methods for value-added tax

Consumers and businesses pay value-added tax (VAT) when they purchase goods or services. The amount of VAT to pay can vary, depending on several factors. In [!INCLUDE[prod_short](includes/prod_short.md)], you set up VAT to specify the rates used to calculate tax amounts based on the following parameters:

* Who you sell to  
* Who you buy from  
* What you sell  
* What you buy  

You can set up VAT calculations manually, but that can be tricky and time-consuming. It's easy to use different VAT rates by mistake and create inaccurate VAT-related reports. To make VAT set up easier, we recommend you use the **VAT Setup** assisted setup guide.

However, if you want to set up the VAT calculations yourself, or just want to learn about each step, this article contains descriptions of each step.  

[!INCLUDE [finance-vat](includes/finance-vat.md)]

## Set up VAT using the assisted setup guide (recommended)

> [!NOTE]
> You can use the **VAT Setup** guide only if you have created a *My Company* and haven't posted transactions that include VAT. To learn more about a My Company, go to [Create new companies in [!INCLUDE[prod_short](includes/prod_short.md)]](about-new-company.md).

To start the assisted setup guide, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon and enter **Assisted Setup**. 
2. Choose **Set up Value-Added Tax (VAT)** and complete the steps.
3. After you complete the assisted setup, go to the **VAT Posting Setup** page to check whether you need to fill in more fields according to the local requirements in your version of [!INCLUDE [prod_short](includes/prod_short.md)]. Learn more at [Local functionality in Business Central](about-localization.md).  

### Check the VAT posting setup

To support your fast start, [!INCLUDE [prod_short](includes/prod_short.md)] notifies you of missing general ledger (G/L) accounts in posting groups or posting setups, such as on the **VAT Posting Setup** page. You can turn this type of notification on or off using the **G/L Account is missing in posting group or setup** notification in the **My Notifications** page. Just go to the **My settings** page, and then choose the **Change when I receive notifications** link.  

If you choose the notification, [!INCLUDE [prod_short](includes/prod_short.md)] creates posting setups based on the posting groups in the document or journal you're currently working on.  

At this point, you can just fill in the missing G/L accounts. But, when you further refine your setup later, you might realize your initial setup is wrong. [!INCLUDE [prod_short](includes/prod_short.md)] doesn't allow you to delete a VAT posting setup and general posting setup after they're used to create entries. To prevent people from mistakenly using a setup that's no longer relevant for new postings, you can use the **Blocked** field on the **General Posting Setup** page.

## Set up a default VAT date for documents and journals

VAT reporting in [!INCLUDE [prod_short](includes/prod_short.md)] is based on the **VAT Date** to include VAT entries on VAT reports in a VAT period. The VAT date can be changed on all documents and journals, but you must specify a default value for VAT date.

> [!NOTE]
> After posting the document or journal, the **VAT Date** will appear on **VAT Entries** and **G/L Entries** as well as on the posted document if exists.

To set up a default value for a VAT date, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon and enter **General Ledger Setup**, and then choose the related link.  
2. On the **General** FastTab, in the **Default VAT Date** field, choose either **Posting Date** or **Document Date**.
3. Close the page.  

> [!NOTE]
> By default, the **Default VAT Date** is the **Posting Date**.

### Enable or disable the VAT Date feature

Some countries/regions require that businesses use a specific VAT date, but other countries/regions don't. Some countries/regions also require businesses to change the VAT date in specific situations after they post documents, but other countries/regions don't allow changes to VAT dates. To allow for different contexts, you can choose whether you want to use this functionality and, if so, to what degree.

To set up the level of VAT date usage, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon and enter **General Ledger Setup**, and then choose the related link.  
2. On the **General** FastTab, in the **VAT Date Usage** field, specify the degree to which you want to use the VAT date feature. You can choose one of the following options:

   | Type | Description |
   |--------------------|-----------------------------------------|
   | **Use full VAT Date functionality** | Everything related to **VAT Date** works by default, giving you the maximum **VAT Date** functionality. You can set up the date, change it in documents, report based on it, and modify the date after posting as long as the period isn't closed or protected with allowed dates for posting. |
   | **Use but do not allow modifications** | Everything related to **VAT Date** works by default with one exception. You can't modify the **VAT Date** in **VAT Entries**. |
   | **Not using VAT Date functionality** | [!INCLUDE [prod_short](includes/prod_short.md)] hides and makes the **VAT Date** fields unavailable on documents, journals, and entries. The **Default VAT Date** is configured as the **Posting Date**. |

3. Close the page.

> [!IMPORTANT]
> Even if you choose the **Not using VAT Date functionality** option, [!INCLUDE [prod_short](includes/prod_short.md)] will use the **VAT Date** in the background. Because the **Default VAT Date** is configured as the **Posting Date**, and you can't change it in this case, you'll get the same experience as without this feature. **VAT Date** fields will be removed from all pages, but this field will still exist in tables and reports will work based on it.

### Limiting periods for posting and changing the VAT date

You can prevent people from posting or changing VAT entries in specific date ranges. You set the restriction using two settings:

* Based on closed **VAT Return Period**
* Based on the **Allow Posting From** and **Allow Posting To** fields.

#### To limit posting based on VAT return period

1. Choose the ![Lightbulb that opens the TellF Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup**, and then choose the related link.  
2. On the **General** FastTab, in the **Control VAT Period** field, specify the degree of VAT Return Period control. The following table describes the options.

| Type | Description |
|--------------------|-----------------------------------------|
| **Block posting within closed and warn for released period** | Prevent people from posting a document or journal, or changing VAT entries that have a VAT date within a closed **VAT Return Period**. [!INCLUDE [prod_short](includes/prod_short.md)] also shows a warning if your **VAT Return Period** is open, but the status of **VAT Return** is **Released** or **Submitted**. |
| **Block posting within closed period** | Prevent people from posting a document or journal, or changing vat entries that have a VAT date within the closed **VAT Return Period**. |
| **Warn when posting in closed period** | Show a warning, but don't block posting, if you want to post a document or journal that has a VAT date within a closed **VAT Return Period**. |
| **Disabled** | Take no action based on a closed **VAT Return Period**. |

#### Limit posting based on Allow from/to period

> [!NOTE]
> As of Business Central version 23.1, this control is changed. In earlier versions, there was only one control on the **General Ledger Setup** page for both Posting Date and VAT Date. Now, these controls are split, so control in the **General Ledger Setup** page is for the **Posting Date** only and control in the **VAT Setup** page is for the **VAT Date** only. There are also new date controls in the **User Setup** page.  

##### Version 23.1 or newer

> [!IMPORTANT]
> When you upgrade to a newversion, be aware that values are upgraded in the new **Allow VAT Date From/To** in the **VAT Setup** page based on the values in **Allow Posting From/To** in the **General Ledger Setup**. If you want to use different date controls, open the **VAT Setup** page and make changes.  

You can set up limitations on the company or at specific user levels.

To limit all postings for the whole company:

1. Select the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Setup**, and then select the related link.  
2. On the **VAT Date** FastTab, in the **Allow VAT Date From** field, specify the VAT date from which you allow posting. Posting a document or journal with a VAT date before this date isn't allowed.  
3. On the **VAT Date** FastTab, in the **Allow VAT Date To** field, specify the VAT date until which you allow posting. Posting a document or journal with a VAT date after this date isn't allowed. 

To limit postings for the specific user:  

1. Select the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then select the related link.  
2. In the **User ID** field, specify the user allowed to post in a specific period.  
3. In the **Allow VAT Date From** field, specify the VAT date from which you allow posting. Posting a document or journal with a VAT date before this date isn't allowed. 
4. In the **Allow VAT Date To** field, specify the VAT date until which you allow posting. Posting a document or journal with a VAT date after this date isn't allowed.  

##### Versions before 23.1 

You can set up limitation on the company or specific user levels.

To limit all postings for the whole company:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup**, and then choose the related link.  
2. On the **General** FastTab, in the **Allow Posting From** field, specify the VAT date from which you allow posting. Posting a document or journal with a VAT date before this date isn't allowed.  
3. On the **General** FastTab, in the **Allow Posting To** field, specify the VAT date until which you allow posting. Posting a document or journal with a VAT date after this date isn't allowed.

To limit postings for the specific user:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then choose the related link.  
2. In the **User ID** field, specify the user allowed to post in specific period.  
3. In the **Allow Posting From** field, specify the VAT date from which you allow posting. Posting a document or journal with a VAT date before this date isn't allowed.
4. In the **Allow Posting To** field, specify the VAT date until which you allow posting. Posting a document or journal with a VAT date after this date isn't allowed.

## Set up VAT registration numbers for your country/region

To help ensure people enter valid VAT registration numbers, you can define formats for the VAT registration numbers that are used in the countries/regions in which you do business. [!INCLUDE[prod_short](includes/prod_short.md)] displays an error message if someone makes a mistake or uses a format that is incorrect for the country/region.

To set up VAT registration numbers, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 2.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Countries/Regions**.
2. Choose the country or region, and then choose the **VAT Reg. No. Formats** action.
3. In the **Formats** field, define the format by entering one or more of the following characters:  

* **#** Requires a single-digit number.  
* **@** Requires a letter. This format isn't case-sensitive.  
* **?** Allows any character.  

    > [!TIP]
    > You can use other characters as long as they are always present in the country or region format. So, if you need to include a period or a hyphen between sets of numbers, you can define the format as ##.####.### or @@-###-###.  

## Set up VAT business posting groups

VAT business posting groups should represent the markets in which you do business with customers and vendors, and define how to calculate and post VAT in each market. Examples of VAT business posting groups are **Domestic** and **European Union (EU)**.  

Use codes that are easy to remember and describe the business posting group, such as **EU**, **Non-EU**, or **Domestic**. Each code must be unique, meaning you can set up as many codes as you need, but you can't have the same code more than once in a table.

To set up a VAT business posting group, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Business Posting Groups**, and then choose the related link.  
2. Fill in the fields as necessary.

You can set up default VAT business posting groups by linking them to general business posting groups. [!INCLUDE[prod_short](includes/prod_short.md)] automatically assigns the VAT business posting group when you assign the business posting group to a customer, vendor, or general ledger account.

## Set up VAT product posting groups

VAT product posting groups represent the items and resources you buy or sell, and determine how to calculate and post VAT according to the type of item or resource.

It's a good idea to use codes that are easy to remember and describe the rate, such as **NO-VAT** or **Zero**, **VAT10** or **Reduced** for 10 percent VAT, and **VAT25** or **Standard** for 25 percent.

To set up a VAT business posting group, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Product Posting Groups**, and then choose the related link.  
2. Fill in the fields as necessary.

## Combine VAT posting groups in VAT posting setups

[!INCLUDE[prod_short](includes/prod_short.md)] calculates VAT amounts on sales and purchases based on VAT posting setups, which are combinations of VAT business and product posting groups. For each combination, you can specify the VAT percent, VAT calculation type, and general ledger accounts for posting VAT for sales, purchases, and reverse charges. You can also specify whether to recalculate VAT when a payment discount is applied or received.  

Set up as many combinations as you need. To group VAT posting setup combinations with similar attributes, define a **VAT Identifier** for each group, and assign the identifier to the group members.  

> [!NOTE]
> A **VAT Identifier** is a code you can use to group similar attributes. We recommend you use different VAT identifiers for different VAT percentages.  

To combine VAT posting setups, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 5.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Posting Setup**, and then choose the related link.
2. Fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

## Assign VAT posting groups by default to multiple entities

If you want to apply the same VAT posting groups to multiple entities, you can set up [!INCLUDE[prod_short](includes/prod_short.md)] to do so by default.

* You can assign VAT business posting groups to general business posting groups, or customer or vendor templates.
* You can assign VAT product posting groups on general product posting groups.  

The VAT business or product posting group is assigned when you choose a business or product posting group for a customer, vendor, item, or resource.

## Assign VAT posting groups to accounts, customers, vendors, items, and resources

The following sections describe how to assign VAT posting groups to individual entities.

### To assign VAT posting groups to individual general ledger accounts

1. Choose the ![Lightbulb that opens the Tell Me feature 6.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. Open the **G/L Account Card** for the account.  
3. On the **Posting** FastTab, in the **Gen. Posting Type** field, choose either **Sale** or **Purchase**.  
4. Choose the VAT posting groups to use for the sales or purchase account.  

### To assign VAT business posting groups to customers and vendors

1. Choose the ![Lightbulb that opens the Tell Me feature 7.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer** or **Vendor**, and then choose the related link.  
2. On the **Customer** or **Vendor** card, expand the **Invoicing** FastTab.  
3. Choose the **VAT Bus. Posting Group**.  

### To assign VAT product posting groups to individual items and resources

1. Choose the ![Lightbulb that opens the Tell Me feature 8.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item** or **Resource**, and then choose the related link.  
2. Do one of the following steps:  

    * On the **Item** card, expand the **Price & Posting** FastTab, and then choose **Show more** to display the **VAT Prod. Posting Group** field.  
    * On the **Resource** card, expand the **Invoicing** FastTab.  
3. Choose the VAT product posting group.  

## Set up clauses to explain VAT exemption or nonstandard VAT rates

You set up a VAT clause to describe information about the type of VAT that is being applied. Government regulations might require this information. After you set up a VAT clause and associate it with a VAT posting setup, the VAT clause displays on printed sales documents that use the VAT posting group setup.

If needed, you can also specify how to translate VAT clauses to other languages. When you create and print a sales document that contains a VAT identifier, the document includes the translated VAT clause. The language code specified on the customer card determines the language.

When you use nonstandard VAT rates in different types of documents, such as invoices or credit memos, you might have to include an exemption text (VAT clause). The exemption text states why you calculated a reduced VAT or zero VAT rate. You can define different VAT clauses to include on business documents for each type of document on the **VAT Clauses by Document Type** page.

You can modify or delete a VAT clause, and your modifications are reflected in a generated report. However, [!INCLUDE[prod_short](includes/prod_short.md)] doesn't keep a history of the change. On the report, the VAT clause descriptions are printed and displayed for all lines in the report alongside the VAT amount and the VAT base amount. If a VAT clause isn't defined for any lines on the sales document, the whole section is omitted when you print the report.

### To set up VAT clauses

1. Choose the ![Lightbulb that opens the Tell Me feature 9.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Clauses**, and then choose the related link.  
2. On the **VAT Clauses** page, create a new line.  
3. In the **Code** field, enter an identifier for the clause. You use this code to assign the clause to VAT posting groups.  
4. In the **Description** field, enter the VAT exemption text that you want to display on documents that can include VAT. In the **Description 2** field, enter more text, if needed. The text is displayed on new document lines.
5. Choose the **Description by document type** action.
6. On the **VAT Clauses by Document Type** page, fill in the fields to set up which VAT exemption text to display for which document type.  
7. Optional: To assign the VAT clause to a VAT posting setup right away, choose **Setup**, and then choose the clause. If you want to wait, you can assign the clause later on the **VAT Posting Setup** page.  
8. Optional: To specify how to translate the VAT clause, choose the **Translations** action.

### To assign a VAT clause to a VAT posting setup

1. Choose the ![Lightbulb that opens the Tell Me feature 10.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Posting Setup**, and then choose the related link.  
2. In the **VAT Clause Code** column, choose the clause to use for each VAT posting setup it applies to.  

### To specify translations for VAT clauses

1. Choose the ![Lightbulb that opens the Tell Me feature 11.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Clauses**, and then choose the related link.  
2. Choose the **Translations** action.  
3. In the **Language Code** field, choose the language you're translating to.  
4. In the **Description** and **Description 2** fields, enter the translations of the descriptions. This text displays in the translated VAT report documents.  

### To specify extended text for VAT clauses

> [!NOTE]  
> If your country or region requires longer text for the VAT clauses than the default version supports, you can specify the longer text for the VAT clauses as *extended text* so that it prints on the sales and purchase reports.  

1. Choose the ![Lightbulb that opens the Tell Me feature 11.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Clauses**, and then choose the related link.  
2. Choose the **Extended Texts** action.  
3. Choose the **New** action.  
4. Fill in the **Language Code** and **Description** fields.  
5. Optionally, select the **All Language Codes** field, or specify the relevant language in the **Language Code** field if you use language codes.  
6. Fill in the **Starting Date** and **Ending Date** fields if you want to limit the dates on which the extended text is used.  
7. In the **Text** lines, write the extended text for your VAT clauses.  
8. Select the relevant fields for the document types where you want the extended text printed.  
9. Close the page.  

## Create a VAT posting setup to handle Import VAT

Use the *Import VAT* feature when you need to post a document where the entire amount is VAT. You use this feature if you receive an invoice from the tax authorities for VAT for imported goods.  

To set up codes for import VAT, follow these steps:  

1. Choose the ![Lightbulb that opens the Tell Me feature 12.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Product Posting Groups**, and then choose the related link.  
2. On the VAT Product Posting Groups page, set up a new VAT product posting group for import VAT.  
3. Choose the ![Lightbulb that opens the Tell Me feature 13.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Posting Setup**, and then choose the related link.  
4. On the VAT Posting Setup page, create a new line, or use an existing VAT business posting groups in combination with the new VAT product posting group for import VAT.  
5. In the **VAT Calculation Type** field, choose **Full VAT**.  
6. In the **Purchase VAT Account** field, enter the general ledger account to use for posting import VAT. All other accounts are optional.  

## Use reverse charge VAT for trade between EU countries/regions

Some companies must use reverse charge VAT when trading with other companies. For example, this rule applies to purchases from EU countries/regions and sales to EU countries/regions.  

> [!NOTE]  
> This rule applies when trading with companies that are registered as VAT liable in another EU country/region. If you do business directly with consumers in other EU countries/regions, then you should contact your tax authority for applicable VAT rules.  

> [!TIP]  
> You can verify that a company is registered as VAT liable in another EU country/region by using the EU VAT Registration Number Validation service. The service is available for free in [!INCLUDE[prod_short](includes/prod_short.md)]. For more information, see [Verify VAT registration numbers](finance-how-validate-vat-registration-number.md).

### Sales to EU countries/regions

VAT isn't calculated on sales to VAT-liable companies in other EU countries/regions. You must report the value of these sales to EU countries/regions separately on your VAT statement.  

To correctly calculate VAT on sales to EU countries/regions, you should:  

* Set up a line for sales with the same information for purchases. If you set up lines on the **VAT Posting Setup** page for purchases from EU countries/regions, you can also use these lines for sales.  
* Assign the VAT business posting groups in the **VAT Bus. Posting Group** field on the **Invoicing** FastTab of the customer card of each EU customer. You should also enter the customer's VAT registration number in the **VAT Registration No.** field on the **Foreign Trade** FastTab.  

When you post a sale to a customer in another EU country/region, [!INCLUDE [prod_short](includes/prod_short.md)] calculates the VAT amount and creates a VAT entry based on information about the reverse charge VAT and the VAT base. This amount is used to calculate the VAT amount. No entries are posted to the VAT accounts in the general ledger.

If you want to use combination of VAT business posting group and VAT product posting group for reporting as services in the periodic VAT reports, mark the **EU Service** field.

> [!NOTE]  
> The **EU Service** field is only applicable for VAT reports. The field isn't related to the **Service Declaration** or **Intrastat for Services** features.

## VAT rounding for documents

Amounts in documents that aren't posted are rounded and displayed to correspond with the final rounding of amounts that are posted. [!INCLUDE [prod_short](includes/prod_short.md)] calculates VAT for a complete document. The VAT calculation is based on the sum of all lines with the same VAT identifier in the document.  

## Set up VAT reporting

You must set up information about how the tax authorities in your country or region require you to submit VAT reports. The following steps illustrate the most commonly used information. However, your country or region might require other steps. For more information, see the relevant article in the *Local functionality* section in the panel to the left.

[!INCLUDE [vat-report-setup](includes/vat-report-setup.md)]

## See also

[Set Up VAT Statement Templates and VAT Statement Names](finance-how-setup-vat-statement.md)    
[Set Up Unrealized Value Added Tax](finance-setup-unrealized-vat.md)    
[Report VAT to a Tax Authority](finance-how-report-vat.md)    
[Work with VAT on Sales and Purchases](finance-work-with-vat.md)    
[Work with the VAT Rate Change Tool](finance-how-use-vat-rate-change-tool.md)    
[Verify VAT registration numbers](finance-how-validate-vat-registration-number.md)    
[Local functionality in Business Central](about-localization.md)    
[VAT Reporting in the German version](LocalFunctionality/Germany/vat-reporting.md)    
[Belgian VAT](LocalFunctionality/Belgium/belgian-vat.md)    
[Italian VAT](LocalFunctionality/Italy/italian-vat.md)    
[Set Up Electronic VAT and ICP Declarations in the Dutch Version](LocalFunctionality/Netherlands/how-to-set-up-electronic-vat-and-icp-declarations.md)    
[VAT Reports in the Spanish Version](LocalFunctionality/Spain/vat-reports.md)    
[Set Up Goods and Services Tax Posting in the Australian Version](LocalFunctionality/Australia/how-to-set-up-goods-and-service-tax-posting.md)    
[VAT in the Czech Version](LocalFunctionality/Czech/finance-vat.md)    
[VAT Reporting in the Norwegian Version](LocalFunctionality/Norway/norwegian-vat-reporting.md)    
[Reporting Goods/Services Tax and Harmonized Sales Tax in Canada](LocalFunctionality/Canada/sales-tax-goods-services.md)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-receiving-and-putting-away-in-advanced-warehousing
---
title: Receiving and Putting Away in Advanced Warehousing
description: The inbound processes for receiving and putting away can be performed in four ways using different functionalities depending on the warehouse complexity level.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 06/24/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: Receiving and Putting Away in Advanced Warehouse Configurations

<!-- [!INCLUDE[complete_sample_data](includes/complete_sample_data.md)]   -->

In [!INCLUDE[prod_short](includes/prod_short.md)], receiving and putting away occurs using one of four methods, as described in the following table.

|Method|Inbound Process|Require Receipts|Require Put-aways|Complexity Level (Learn more at [Warehouse Management Overview](design-details-warehouse-management.md))|  
|------------|---------------------|--------------|----------------|------------|  
|A|Post receipt and put-away from the order line|||No dedicated warehouse activity.|  
|B|Post receipt and put-away from an inventory put-away document||Turned on|Basic: Order-by-order.|  
|C|Post receipt and put-away from a warehouse receipt document|Turned on||Basic: Consolidated receive/ship posting for multiple orders.|  
|D|Post receipt from a warehouse receipt document and post put-away from a warehouse put-away document|Turned on|Turned on|Advanced|  

Learn more at [Inbound Warehouse Flow](design-details-inbound-warehouse-flow.md).

The following walkthrough demonstrates method D in the previous table.  

## About This Walkthrough

In advanced warehouse configurations where your location is set up to require receiving processing in addition to put-away processing, you use the **Warehouse Receipt** page to record and post the receipt of items on multiple inbound orders. When the warehouse receipt is posted, one or more warehouse put-away documents are created to instruct warehouse workers to take the received items and place them in designated places according to bin setup or in other bins. The specific placement of the items is recorded when the warehouse put-away is registered. The inbound source document can be a purchase order, sales return order, inbound transfer order, or assembly or production order with output that is ready to be put away. If the receipt is created from an inbound order, more than one inbound source document can be retrieved for the receipt. By using this method you can register many items arriving from different inbound orders with one receipt.  

This walkthrough demonstrates the following tasks:  

-   Setting up WHITE location for receiving and putting away.  
-   Creating and releasing two purchase orders for full warehouse handling.  
-   Creating and posting a warehouse receipt document for multiple purchase order lines from specific vendors.  
-   Registering a warehouse put-away for the received items.  

## Roles

This walkthrough demonstrates tasks that are performed by the following user roles:  

-   Warehouse Manager  
-   Purchasing Agent  
-   Receiving Staff  
-   Warehouse Worker  

## Prerequisites

To complete this walkthrough, you will need:  

-   CRONUS installed.  
-   To make yourself a warehouse employee at WHITE location by following these steps:  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Employees**, and then choose the related link.  
2.  Choose the **User ID** field, and select your own user account on the **Users** page.  
3.  In the **Location Code** field, enter WHITE.  
4.  Select the **Default** field.  

## Story

Ellen, the warehouse manager at CRONUS, creates two purchase orders for accessory items from vendors 10000 and 20000 to be delivered to WHITE warehouse. When the deliveries arrive at the warehouse, Sammy, who is responsible for receiving items from vendors 10000 and 20000, uses a filter to create receipt lines for purchase orders arriving from the two vendors. Sammy posts the items as received into inventory in one warehouse receipt and makes the items available for sale or other demand. John, the warehouse worker, takes the items from the receiving bin and puts them away. John puts all units away in their default bins, except 40 out of 100 received hinges are put away in the assembly department by splitting the put-away line. When John registers the put-away, the bin contents are updated and the items are made available for picking from the warehouse.  

## Reviewing the WHITE Location Setup

The setup of the **Location Card** page defines the company's warehouse flows.  

### To review the location setup  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.  
2.  Open the WHITE location card.  
3.  Note on the **Warehouse** FastTab that the **Directed Put-away and Pick** check box is selected.  

    This means that the location is set up for the highest complexity level, reflected by the fact that all warehouse handling check boxes on the FastTab are selected.  

4.  Note on the **Bins** FastTab that bins are specified in the **Receipt Bin Code** and the **Shipment Bin Code** fields.  

This means that when you create a warehouse receipt, this bin code is copied to the header of the warehouse receipt document by default and to the lines of the resulting warehouse put-aways.  

## Creating the Purchase Orders

Purchase orders are the most common type of inbound source document.  

### To create the purchase orders  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, and then choose the related link.  
2.  Choose the **New** action.  
3.  Create a purchase order for vendor 10000 on the work date (January 23) with the following purchase order lines.  

    |Item|Location code|Quantity|  
    |----------|-------------------|--------------|  
    |70200|WHITE|100 PCS|  
    |70201|WHITE|50 PCS|  

    Proceed to notify the warehouse that the purchase order is ready for warehouse handling when the delivery arrives.  

4.  Choose the **Release** action. The status changes from Open to Released.

    Proceed to create the second purchase order.  

5.  Choose the **New** action.  
6.  Create a purchase order for vendor 20000 on the work date (January 23) with the following purchase order lines.  

    |Item|Location code|Quantity|  
    |----------|-------------------|--------------|  
    |70100|WHITE|10 CAN|  
    |70101|WHITE|12 CAN|  

    Choose the **Release** action. The status changes from Open to Released.

    The deliveries of items from vendors 10000 and 20000 have arrived at WHITE warehouse, and Sammy starts to process the purchase receipts.  

## Receiving the Items

On the **Warehouse Receipt** page, you can manage multiple inbound orders for source documents, such as a purchase order.  

### To receive the items  
1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Receipts**, and then choose the related link.  
2.  Choose the **New** action.  
3.  In the **Location Code** field, enter WHITE.  
4.  Select **Actions** then **Functions** then choose the **Use Filters to Get Src. Docs.** action.  
5.  In the **Code** field, enter **ACCESSORY**.  
6.  In the **Description** field, enter **Vendors 10000 and 20000**.  
7.  Choose the **Modify** action.  
8.  On the **Purchase** FastTab, in the **Buy-from Vendor No. Filter** field, enter **10000&#124;20000**.  
9. Choose the **Run** action. The warehouse receipt is filled with four lines representing purchase order lines for the specified vendors. The **Qty. to Receive** field is filled because you did not select the **Do not Fill Qty. to Handle** check box on the **Filters to Get Source Docs.** page.  
10. Optionally, if you want to use a filter as described earlier in this section, choose the **Get Source Document** action, and then select purchase orders from the vendors in question.  
11. Choose **Posting** then the **Post Receipt** action, and then choose the **Yes** button.  

    Positive item ledger entries are created reflecting the posted purchase receipts of accessories from vendors 10000 and 20000, and the items are ready to be put away in the warehouse from the receiving bin.  

## Putting the Items Away

On the **Warehouse Put-away** page, you can manage put-aways for a specific warehouse receipt document covering multiple source documents. Like all warehouse activity documents, each item on the warehouse put-away is represented by a Take line and a Place line. In the following procedure, the bin code on the Take lines is the default receiving bin at WHITE location, W-08-0001.  


### To put the items away  
1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Put-Aways**, and then choose the related link.  
2.  Select the only warehouse put-away document in the list, and then choose the **Edit** action.  

    The warehouse put-away document opens with a total of eight Take or Place lines for the four purchase order lines.

    The warehouse worker is told that 40 hinges are needed in the assembly department, and proceeds to split the single Place line to specify a second Place line for bin W-02-0001 in the assembly department where the warehouse worker places that part of the received hinges.  

3.  Select the second line on the **Warehouse Put-away** page, the Place line for item 70200.  
4.  In the **Qty. to Handle** field, change the value from 100 to 60.  
5.  On the **Lines** FastTab, choose **Functions**, and then choose **Split Line**. A new line is inserted for item 70200 with 40 in **Qty. to Handle** field.  
6.  In the **Bin Code** field, enter W-02-0001. The **Zone Code** field is automatically filled.  

    By default, the **Zone Code** field on the sales lines are hidden, so you must display it. To do this you need to personalize the page. For more information, see [To start personalizing a page through the Personalizing banner](ui-personalization-user.md#start-personalizing-by-using-the-personalization-mode).

    Proceed to register the put-away.  

7.  Choose the **Register Put-Away** action, and then choose the **Yes** button.  

    The received accessories are now put-away in the items' default bins, and 40 hinges are placed in the assembly department. The received items are now available for picking to internal demand, such as assembly orders, or to external demand, such as sales shipments.  

## See Also  
 [Put Items Away with Warehouse Put-aways](warehouse-how-to-put-items-away-with-warehouse-put-aways.md)   
 [Move Items in advanced warehouse configurations](warehouse-how-to-move-items-in-advanced-warehousing.md)   
 [Design Details: Inbound Warehouse Flow](design-details-inbound-warehouse-flow.md)   
 <!-- [Walkthrough: Receiving and Putting Away in Basic Warehouse Configurations](walkthrough-receiving-and-putting-away-in-basic-warehousing.md)    -->
 [Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-powerbi-project-invoiced-sales-by-type
---
title: Project Invoiced Sales by Type (Power BI report)
description: The Project Invoiced Sales by Type report describes your sales activities based on each project and each type of sales line.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37038_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Project Invoiced Sales by Type (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Project Invoiced Sales by Type** report breaks down your sales by each type of sales line, covering resources, items, and general ledger accounts. Use this report to track each different type and see how they're performing.

:::image type="content" source="media/projects/project-invoiced-sales-by-type.png" alt-text="Screenshot of the Project Invoiced Sales by Type Power BI Report" lightbox="media/projects/project-invoiced-sales-by-type.png":::

## Use the report

Project managers use the report to track the different type of sales entries. You can see how you charge for the different resources per project. Additionally, you can measure values for items and G/L accounts related to the project.

## Key Performance Indicators (KPIs)

The *Project Invoiced Sales by Type* report includes the following KPIs:

- [**% Invoiced**](projects-powerbi-kpis.md#-invoiced)
- [**Quantity**](projects-powerbi-kpis.md#quantity)
- [**Billable (Invoiced Price)**](projects-powerbi-kpis.md#billable-invoiced-price)
- [**Billable (Total Price)**](projects-powerbi-kpis.md#billable-total-price)
- [**Actual (Total Price)**](projects-powerbi-kpis.md#actual-total-price)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]


## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Project
- Project Ledger Entries

## Try the report

Try the report here: [Project Invoiced Sales by Type](https://businesscentral.dynamics.com?page=37038)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Projects app](projects-powerbi-app.md)  
[Built-in Projects reports](project-reports.md)  
[Project management analytics overview](projects-analytics-overview.md)  
[Project management overview](projects-manage-projects.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/autofill-fields-with-copilot
---
title: Autofill fields with Copilot (preview)
description: Learn how to use Copilot's autofill feature to assist you in filling in fields on card and document pages.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: how-to
ms.date: 04/01/2025
ms.service: dynamics-365-business-central
ms.collection: bap-ai-copilot
ms.custom: bap-template
---

# Autofill fields with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

Copilot's autofill feature assists you by automatically filling in editable blank fields on your page. Use autofill when creating or modifying a record. It suggests field values that you can choose to keep or discard. These suggestions are based on your Business Central data, such as frequently or recently used values, or they can be AI-generated based on option values, lookup values, or page context.

When Copilot generates suggestions, it only accesses the business data you can access. Copilot never saves suggestions automatically but presents them for you to decide what to keep. Copilot uses AI, and suggestions might not be correct.

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/preview-note-d365.md)]

<!--[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]-->

<!--Suggestions are based on Business Central that only you have access to.-->

## Prerequisites

Autofill is activated, and you have the required permissions to use it. Learn more in [Configure Copilot and agent capabilities](enable-ai.md).

## Supported languages

[!INCLUDE[copilot-language-support-en-only](includes/copilot-language-support-en-only.md)]

## Availability

### Where the autofill feature is available

The autofill feature is available on card and document pages, like a **Customer card** or a **Sales Order**. It's available on editable fields within FastTabs on these pages, except those listed in the following section.

### Where the autofill feature isn't available

The autofill feature isn't available on these types of pages:

- List pages like **Customers** and **Sales Orders**.
- Worksheet pages like the **Put-away Worksheet**.
- Setup pages, like **Company information** and **General Ledger Setup**, and assisted setup pages, like **Set up sales tax** and **Set up outgoing email**.
- Task dialogs.

The autofill feature isn't available on these fields regardless of the page type:

- Noneditable fields.
- Fields in the FactBox pane.
- Fields in rows and columns.
- Multiline text fields.
- Masked fields like passwords and secrets.
- Date and time fields.
- Toggle switches.
- Fields that uniquely identify a record like IDs and numbers from a series.
- Certain fields depending on your country/region. For example, Copilot can't make suggestions for address fields until web search powered by Bing is available in your country/region.

## Use autofill on fields

Open the page for editing, select a field, and then select the ![Shows the Copilot icon for generating suggestions for field values.](media/copilot-star-unfilled.png) **Suggest a value for this field and related fields** icon or press <kbd>Alt</kbd>+<kbd>i</kbd>. If the icon doesn't appear, autofill isn't available for the field, so try another field.

![Shows a card page with a Copilot icon for generating suggestions for field values.](media/autofill-field.svg)

Suggestions are generated only for fields in the FastTab that you are on. When Copilot finds suggestions, they're automatically entered in the fields in italics along with the ![Shows the details icon for a suggestion](media/autofill-info.png) **Show details** icon. Fields remain unchanged if suggestions aren't found or they don't support the autofill feature.

![Shows a suggested field with the accept and discard buttons.](media/autofill-suggested-value-field.svg)

When you hover over or select a field that includes a suggestion, the ![Shows the accept button for a Copilot suggestion](media/autofill-accept.png) **Accept the suggestion** and ![Shows the discard button for a Copilot suggestion](media/autofill-discard.png) **Discard the suggestion** buttons appear.

### Review suggestions

Review the suggestion for each field and take appropriate action. Suggestions aren't saved until you accept them.

- To learn more about a suggestion, select the ![Shows the details icon for a suggestion](media/autofill-info.png) **Show details** icon next to the field, or press <kbd>Alt</kbd>+<kbd>i</kbd>. The details include the source of the suggestion, like the most frequently or recently used value. Use the thumbs-up and thumbs-down icons to give feedback.
- To keep a suggestion, select ![Shows the accept button for a Copilot suggestion](media/autofill-accept.png) **Accept the suggestion** or press <kbd>Enter</kbd>.
- To reject a suggestion and keep the original value, select ![Shows the discard button for a Copilot suggestion](media/autofill-discard.png) **Discard the suggestion** or press <kbd>Delete</kbd>.
- To change a suggestion, select **Change** in the details or press <kbd>F2</kbd>.

You can also use the **Keep all** button in the upper right corner of the page to accept or discard suggestions on all fields.

When you leave the page while there are unaccepted suggestions, Copilot asks you to accept or discard suggestions first.

<!--The first time you use Copilot, you're asked to accept the terms to continue.-->

## Autofill behavior with other data-entry features

Business Central offers many other features that reduce data entry, such as customer templates and business process settings that default values. On some pages, for example, when you specify the value for a field, Business Central validates and automatically sets related fields, like zip code and country. Unlike Copilot, these features don't use AI, and values are saved immediately.

When Copilot suggests a field value and you use any feature that saves a value to the same field, Copilot's suggestion is always discarded in favor of the value set by Business Central.

## Related information

[Responsible AI FAQ for autofill (preview)](faqs-autofill.md)  
[Configure Copilot and agent capabilities](enable-ai.md)  
[Troubleshoot Copilot and agent capabilities](ai-copilot-troubleshooting.md)  
[Keyboard shortcuts](keyboard-shortcuts.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-set-up-warehouse-employees
---
title: Set Up Warehouse Employees
description: Each user who performs warehouse activities must be set up as a warehouse employee assigned to one default location and potentially more non-default locations.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/25/2023
ms.custom: bap-template
ms.search.form: 7328, 7348
ms.service: dynamics-365-business-central
---
# Set Up Warehouse Employees

You must set up each user who performs warehouse activities as a warehouse employee and assign them to a default location. [!INCLUDE [prod_short](includes/prod_short.md)] filters warehouse activities to the employee's default location. They can only perform the warehouse activities at the location. You can also assign a user to other locations. They can access but not perform activities at those locations.

## To set up warehouse employees  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Employees**, and then choose the related link.  
2. Choose the **New** action.  
3. Select the **User ID** field, and then select the user to be added as a warehouse employee. Choose the **OK** button.  
4. In the **Location Code** field, enter the code of the location where the user will be working.  
5. Turn on the **Default** toggle to specify that this is the only location where the employee can perform warehouse activities.  
6. Repeat these steps to assign other employees to locations or assign other locations to existing warehouse employees.  

> [!TIP]
> You can also use the **Add me as warehouse employee** action to quickly add yourself to the list of warehouse employees. For example, this is useful when you're testing the capabilities.

## See related [Microsoft training](/training/modules/get-started-warehouse-management/)

## See also

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Define an invoice posting policy for users](admin-setup-invoice-posting-policy.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-selling-assembling-and-shipping-kits
---
title: Selling, Assembling, and Shipping Kits
description: To support just-in-time inventory, assembly orders can be automatically created and linked as soon as the sales order line is created. 
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 06/24/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: Selling, Assembling, and Shipping Kits

<!-- [!INCLUDE[complete_sample_data](includes/complete_sample_data.md)]   -->

To support just-in-time inventory and the ability to customize products to customer requests, assembly orders can be automatically created and linked as soon as the sales order line is created. The link between the sales demand and the assembly supply enables sales order processors to customize the assembly item and promise delivery dates according to component availability. In addition, assembly consumption and output are posted automatically with the shipment of the linked sales order.  

Special functionality exists to govern the shipping of assemble-to-order quantities, both in basic and in advanced warehouse configurations. When workers in charge of assembly finish assembling parts or all of the assemble-to-order quantity, they record it in the **Qty. to Ship** field on the warehouse shipment line, in advanced configurations, and then choose **Post Shipment**. The result is that the corresponding assembly output is posted, including the related component consumption, and a sales shipment for the quantity is posted for the linked sales order. This walkthrough illustrates the advanced warehouse process.  

In basic warehouse configurations, when an assemble-to-order quantity is ready to be shipped, the warehouse worker in charge posts an inventory pick for the sales order lines. This creates an inventory movement for the components, posts the assembly output, and the sales order shipment. For more information, see [Handling Assemble-to-Order Items in Inventory Picks](warehouse-how-to-pick-items-with-inventory-picks.md#handling-assemble-to-order-items-with-inventory-picks).  

## About This Walkthrough

This walkthrough demonstrates the following tasks:  

### Setting up Assembly Items

Assembly items are characterized by their replenishment system and the assembly BOM. The item's assembly policy can be either assemble-to-order (ATO) or assemble-to-stock (ATS). This section covers the following tasks:  

-   Setting the appropriate replenishment system and assembly policy on a new assembly item card.  
-   Creating an assembly BOM that lists the assembly components and the resource that go into the assembly item.  

### Selling Customized Assembly Items

[!INCLUDE[prod_short](includes/prod_short.md)] provides the flexibility to enter both an inventory quantity and an assemble-to-order quantity on one sales order line. This section covers the following tasks:  

-   Creating a pure ATO sales order line where the full quantity is unavailable and must be assembled before shipment.  
-   Customizing ATO items.  
-   Recalculating the unit price of a customized assembly item.  
-   Creating a mixed sales order line where parts of the sales quantity is provided from inventory and the remaining part must be assembled before shipment.  
-   Understanding ATO availability warnings.  

### Planning for Assembly Items

Assembly demand and supply are handled by the planning system, just like for purchase, transfer, and production. This section covers the following tasks:  

-   Running a regenerative plan for items with sales demand for assembled supply.  
-   Generating an assembly order to fulfill a sales line quantity by the demanded shipment date.  

### Assembling Items

Assembly orders function in a similar way as production orders, expect the consumption and output is recorded and posted directly from the order. When the items are assembled to inventory, the assembly worker has full access to all header and line fields. When the items are assembled to an order where the quantity and date are promised to the customer, then certain fields on the assembly order are not editable. In that case, the assembly posting is performed from the warehouse shipment for the linked sales order. This section covers the following tasks.  

-   Recording and posting assembly consumption and output to inventory.  
-   Accessing a warehouse shipment line from an ATO assembly order to record assembly work.  
-   Accessing an ATO assembly order from a warehouse shipment line to review the automatically entered data.  

### Shipping Assembly Items, from Stock and Assembled to Order

Special functionality exists to govern the shipping of assemble-to-order quantities. This section covers the following tasks:  

-   Creating a warehouse pick for inventory assembly items and for assembly components to be assembled before shipment.  
-   Registering warehouse picks for assembly components and then for assembly items.  
-   Accessing an assembly order from a warehouse shipment to review picked or consumed components.  
-   Shipping assemble-to-order quantities.  
-   Shipping inventory assembly items.  

## Roles

This walkthrough demonstrates tasks that are performed by the following user roles:  

-   Sales Order Processor  
-   Planner  
-   Assembly Worker  
-   Picker  
-   Shipping Responsible  

## Prerequisites

Before you can perform the tasks in the walkthrough, you must do the following:  

-   Install [!INCLUDE[prod_short](includes/prod_short.md)].  
-   Make yourself a warehouse employee at WHITE location by following these steps:  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Employees**, and then choose the related link.  
2.  Choose the **User ID** field, and select your own user account on the **Users** page.  
3.  In the **Location Code** field, enter WHITE.  
4.  Select the **Default** field.  

> [!NOTE]
> [!INCLUDE [locations-cronus](includes/locations-cronus.md)]

Prepare WHITE location for assembly processing by following these steps:  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.  
2.  Open the location card for WHITE location.  
3.  On the **Bins** FastTab, enter **W-10-0001** in the **To-Assembly Bin Code** field.  

    By entering this non-pick bin code, all assembly order lines are ready to receive their components in the bin.  

4.  In the **From-Assembly Bin Code** field, enter **W-01-0001**.  

    By entering this pick bin code, finished assembly items will be output to the bin.  

Remove the default lead time for internal processes by following these steps:  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Manufacturing Setup**, and then choose the related link.  
2.  On the **Manufacturing Setup** page, on the **Planning** FastTab, remove the value in the **Default Safety Lead Time** field.  

<!-- Create inventory for assembly components by following [Prepare Sample Data](walkthrough-selling-assembling-and-shipping-kits.md#prepare-sample-data).   -->

## Story

On January 23, Susan, the sales order processor takes an order from The Device Shop for three units of Kit B, which is an ATO item. All three units are customized and must contain the strong graphics card and an extra RAM block. The disc drives are upgraded to DWD because the CD drives are unavailable. Susan knows that the units can be assembled immediately, and leaves the suggested shipment date of January 23.  

At the same time, the customer orders fifteen units of Kit A with a special request that five units be customized to contain the strong graphics card. Although Kit A is typically an assemble-to-stock item, the order processor combines the sales line quantities to sell ten units from stock and assemble five customized units to the order. The ten units of Kit A are unavailable and must first be supplied to inventory by an assembly order according to the item's assembly policy. Susan learns from the assembly department that Kit A units cannot be completed in the current week. Susan sets the shipment date of the second sales order line, for the mixed ATO and inventory quantity, to January 27 and informs the customer that the 15 units of Kit A will be shipped four days later than the three units of Kit B. To signal to the shipping department that this sales order requires assembly processing, Susan creates the warehouse shipment document from the sales order.  

Eduardo, the planner, runs the planning worksheet and generates an assembly order for ten standard units of Kit A with an internal due date of January 27.  

Sammy, who is responsible for shipping, gets three warehouse shipment lines for the sales order: One line for the three pure ATO units, one line for the five ATO units on the mixed sales order line, and one line for the ten ATS units on the mixed sale order line. Sammy creates a warehouse pick document for all the assembly components that are needed to assemble the total of eight ATO units on the warehouse shipment document.  

John, the picker, retrieves components for all the ATO quantities on the warehouse shipment document and brings them to the assembly area. John enters the quantity to handle and registers the warehouse pick.  

Linda assembles the three ATO units of Kit B. The components are already picked, and Linda does not record output and consumption quantities or post the order, because both of these actions are performed automatically through the related warehouse shipment lines.  

Sammy records the assembled quantity on the warehouse shipment line and posts the shipment of the three units of Kit B. The first line on the sales order is updated as shipped. The linked assembly order remains open until the sales order is fully invoiced. The two warehouse shipment lines, one ATO and one ATS, for Kit A with due dates on January 27 remain open.  

On January 27, Linda processes two assembly orders for Kit A. The first order is the ATO order for five units, which Linda processes differently than the ATO order for Kit B processed on January 23. On this order, Linda is authorized to access the warehouse shipment line herself to record the completed assembly work. The needed components are ready in the assembly department, as they were picked together with components for Kit B.  

The second assembly order is the ATS order for ten units that were created by the planning system. On this ATS order, Linda performs all involved actions from the assembly order. Linda creates a warehouse pick document for the assembly components that are needed to assemble the ten units. When the PCs are assembled, Linda posts the assembly order and thereby signals that the items are available in inventory and can be picked for shipment.  

Sammy creates a warehouse pick document for any quantities that remain before the warehouse shipment can be posted. A pick document is created for the ten units of Kit A that have just finished. The components needed to assemble the five units of Kit A to order where picked on January 23.  

John brings the ten units of Kit A from the warehouse to the specified shipping area, records the quantity to handle, and then registers the pick.  

Sammy packs the ten ATS units with the five ATO units that Linda assembled earlier in the day. Sammy fills in the quantity to ship on both lines and then posts the last shipment for The Device Shop. The related assembly order for five units of Kit A is automatically posted. The second line on the sales order is updated as shipped. Two linked assembly order remains open until the sales order is invoiced and closed.  

When the sales order is later posted as fully invoiced, the sales order and the linked assembly orders are removed.  

## Prepare Sample Data

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Whse. Item Journals**, and then choose the related link.  
2.  Choose the **Batch Name** field, and then select the default journal.  
3.  Create positive inventory adjustments at WHITE location on the work date, January 23, by entering the following information.  

    |**Item No.**|**Zone Code**|**Bin Code**|**Quantity**|  
    |-----------------------------------|---------------------------------------|--------------------------------------|------------------------------------|  
    |80001|PICK|W-01-0001|20|  
    |80005|PICK|W-01-0001|20|  
    |80011|PICK|W-01-0001|20|  
    |80014|PICK|W-01-0001|20|  
    |80203|PICK|W-01-0001|20|  
    |80209|PICK|W-01-0001|20|  

4.  Choose the **Register** action, and then choose the **Yes** button.  

    Next, synchronize the new warehouse entries with inventory.  

5.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Journals**, and then choose the related link. The **Item Journal** page opens.  
6.  Choose the **Calculate Whse. Adjustment** action.  
7.  On the **Calculate Whse. Adjustment** page, choose the **OK** button.  
8.  On the **Item Journal** page, choose the **Post** action, and then choose the **Yes** button.  

### Creating the Assembly Items  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2.  Choose the **New** action.  
3.  Create the first assembly item based on the following information.  

    |Field|Value|  
    |---------------------------------|-----------|  
    |**Description**|Kit A – Basic PC|  
    |**Base Unit of Measure**|PCS|  
    |**Item Category Code**|Misc.|  
    |**Replenishment System**|Assembly|  
    |**Assembly Policy**|Assemble-to-Stock|  
    |**Reordering Policy**|Lot-for-Lot|  

    > [!NOTE]  
    >  Kit A is typically supplied by assembly to stock and therefore has a reordering policy to make it part of general supply planning.  

4.  Choose the **Assembly** action, and then choose **Assembly BOM**.  
5.  Define an assembly BOM for Kit A with the following information.  

    |**Type**|**No.**|**Quantity per**|  
    |-------------------------------|------------------------------|---------------------------------------|  
    |Item|80001|1|  
    |Item|80011|1|  
    |Item|80209|1|  
    |Resource|Linda|1|  

6.  Create the second assembly item based on the following information.  

    |Field|Value|  
    |---------------------------------|-----------|  
    |**Description**|Kit B – Pro PC|  
    |**Base Unit of Measure**|PCS|  
    |**Item Category Code**|Misc.|  
    |**Replenishment System**|Assembly|  
    |**Assembly Policy**|Assemble-to-Order|  

    > [!NOTE]  
    >  Kit B is usually supplied by assembly to order and therefore does not have a reordering policy, because it should not be part of general supply planning.  

7.  Choose the **Assembly** action, and then choose **Assembly BOM**.  
8.  Define an assembly BOM for Kit B with the following information.  

    |**Type**|**No.**|**Quantity per**|  
    |-------------------------------|------------------------------|---------------------------------------|  
    |Item|80005|1|  
    |Item|80014|1|  
    |Item|80210|1|  
    |Resource|Linda|1|  

### Selling the Assembly Items  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2.  Choose the **New** action.  
3.  Create two sales order lines for customer 62000, The Device Shop, on the work date with the following information.  

    |**Type**|**Description**|**Quantity**|Qty. to Assemble to Order|Shipment Date|  
    |--------------|---------------------|------------------|-------------------------------|-------------------|  
    |Item|Kit B – Pro PC|3|3|January 23|  
    |Item|Kit A – Basic PC|15|5|January 27|  

    > [!NOTE]  
    >  The following availability issue exists for the sales order line for Kit B:  
    >   
    >  -   Assembly component 80210 is not available. This means that the three specified units of Kit B cannot be assembled, indicated by **0** in the **Able to Assemble** field on the **Assembly Availability** page.  
    >   
    >  The following availability issue exists for the sales order line for Kit A:  
    >   
    >  -   The ten units of Kit A are not available. This indicates to the planning system that the quantity must be assembled to inventory.  

    Next, customize the sales order.  

4.  Select the sales order line for three units of Kit B.  
5.  On the **Lines** FastTab, choose **Line**, choose **Assemble to Order**, and then choose **Assemble-to-Order Lines**.  
6.  On the **Assemble-to-Order Lines** page, on the assembly order line for item 80014, enter **2** in the **Quantity per** field.  
7.  On the assembly order line for item 80210, choose the **No.** field, and then select item 80209 instead.  
8.  Create a new assembly order line with the following information.  

    |Type|No.|Quantity per|  
    |----------|---------|------------------|  
    |Item|80203|1|  

9. Close the **Assemble-to-Order Lines** page.  

    Next, update the unit price of Kit B according to the customization that you just performed. Notice the current value in the **Unit Price Excl. VAT** field.  

10. On the **Lines** FastTab, choose **Line**, choose **Assemble to Order**, and then choose **Roll Up Price**.  
11. Choose the **Yes** button. Notice the increased value in the **Unit Price Excl. VAT** field.  
12. Select the sales order line for 15 units of Kit A.  
13. On the **Lines** FastTab, choose **Line**, choose **Assemble to Order**, and then choose **Assemble-to-Order Lines**.  
14. On the **Assemble-to-Order Lines** page, create a new assembly order line with the following information.  

    |Type|No.|Quantity per|  
    |----------|---------|------------------|  
    |Item|80203|1|  

     Next, change the shipment date of the second sales order line according to the assembly schedule.  

15. On the sales order line for 15 units of Kit A, enter **01-27-2014** in the **Shipment Date** field.  
16. Choose the **Release** action.  
17. Choose the **Create Whse. Shipment** action.  
18. Close the sales order.  

### Planning for the Unavailable ATS Items  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
2.  Choose the **Calculate Regenerative Plan** action.  
3.  On the **Calculate Plan** page, set the following filters.  

    |Starting Date|Ending Date|No.|  
    |-------------------|-----------------|---------|  
    |01-23-2014|01-27-2014|Kit A – Basic PC|  

4.  Choose the **OK** button.  

    A new planning line is created for the needed assembly order of ten units, due on January 27. It needs no changes, so now you can create the order.  

5.  Choose the **Carry Out Action Message** action.  
6.  On the **Carry Out Action Msg.** page, choose the **Assembly Order** field, and then select **Make Assembly Orders**.  
7.  Choose the **OK** button.  

### Assembling and Shipping the First ATO Quantity  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Shipment**, and then choose the related link.  

    > [!NOTE]  
    >  In this section, the person who is responsible for shipping is in charge of recording the completed ATO assembly work on the warehouse shipment line. This workflow may occur in environments where the assembly work is performed by the person who is responsible for shipping or by assembly workers in the shipping area.  
    >   
    >  In this section, actions on the assembly order are performed indirectly from the warehouse shipment line. For more information about how to process an assembly order directly, see the "Assemble Items to Inventory" section in this walkthrough.  

2.  Open the most recent warehouse shipment that is created at WHITE location.  

    Notice the three warehouse shipment lines: One line for the ATO quantity of Kit B, due on January 23. One line for the ATO quantity of Kit A, due on January 27. One line for the inventory quantity of Kit A, due on January 27.  

    The **Assemble to Order** field specifies the assembly method.

    Next, create a pick document for all the ATO assembly components that are needed on the warehouse shipment.  

3.  Choose the **Create Pick** action, and then choose the **OK** button.  

    Next, perform the picker's task.  

4.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Picks**, and then choose the related link.  
5.  Open the warehouse pick document that you created in step 3 in this section.  

    Notice the value in the **Source Document** field and that all the pick lines are for assembly components.  

    Next.register the pick without changing the default information.  

6.  Choose the **Autofill Qty. to Handle** action.  
7.  Choose the **Register Pick** action.  

    Return to performing the shipping tasks.  

8.  Reopen the **Warehouse Shipment** page.  

    Notice that the **Qty. Picked** field is still empty on all lines. This is because you still have not picked the items to be shipped, but only the components needed to assemble the ATO quantities.  

    Proceed to review the related assembly order.  

9. Select the shipment line for three units of Kit B.  
10. On the **Lines** FastTab, choose **Line**, and then choose **Assemble to Order**. The **Assembly Order** page opens.  

    Notice that several fields on the assembly order are unavailable because the order is linked to a sales order.  

    Notice on the assembly order lines that the **Qty. Picked** field is filled. This is due to the pick that you registered in step 7 in this section.  

11. In the **Quantity to Assemble** field, try to enter any value lower than **3**.  

    Read the error message explaining why this field can only be filled through the **Qty. to Ship** field on the related shipment.  

    The **Quantity to Assemble** field is editable is to support situations where you want to partially ship an inventory quantity instead of assembling more units to the order. For more information, see the "Combination Scenarios" section in [Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md).  

12. Close the **Assembly Order** page to return to the **Warehouse Shipment** page.  
13. On the shipment line for three units of Kit B, in the **Qty. to Ship** field, enter **3**.  
14. Choose the **Post Shipment** action, and then select the **Ship** button.  

    Along with this warehouse shipment posting, the full consumption and output quantities of the related assembly order are posted, and the **Remaining Quantity** field is empty. The sales order line for Kit B is updated to show that the three units are shipped.  

    Warehouse activities to fulfill the first sales order line by January 23 are completed. Next, fulfill the sales order lines that are shipping on January 27  

### Assembling and Recording the Second ATO Quantity  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assembly Orders**, and then choose the related link.  

    Notice that the ATO order for shipped units of Kit B is still in the list, although the **Remaining Quantity** is empty. This is because the linked sales order is still not fully invoiced.  

    > [!NOTE]  
    >  In this section, the assembly worker is responsible for recording the completed ATO assembly work on the warehouse shipment line. This workflow may occur in environments where the assembly work is performed in a separate assembly department and assembly workers are authorized to change the warehouse shipment line.  

2.  Open the ATO assembly order for five units of Kit A.  

    Notice that the **Quantity to Assemble** and the **Quantity to Consume** fields are empty because no work is recorded yet.  

    Notice on the assembly order lines that the **Qty. Picked** field is filled. This is due to the pick that was registered on January 23.  

    Next, record that the assembly order is completed.  

3.  Choose the **Asm.-to-Order Whse. Shpt. Line** action.  
4.  On the **Asm.-to-Order Whse. Shpt. Line** page, in the **Qty. to Ship** field, enter **5**, and then close the page.  

    Notice on the **Assembly Order** page that the **Quantity to Assemble** and the **Quantity to Consume** fields are now filled with the output and consumption quantities that will be posted with the shipment.  

5.  Close the **Assembly Order** page.  

### Assembling the ATS Quantity  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assembly Orders**, and then choose the related link.  
2.  Open the assembly order for ten units of Kit A.  

    Notice that the **Quantity to Assemble** field is filled with the expected quantity.  

    Next, create a pick document to retrieve the needed components.  

3.  Choose the **Release** action.  
4.  Choose the **Create Whse. Pick** action, and choose the **OK** button.  

    Next, perform the picker's task.  

5.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Picks**, and then choose the related link.  
6.  Open the warehouse pick document that you created in step 4 in this section.  

     Proceed to register the pick without changing the default information.  

7.  Choose the **Autofill Qty. to Handle** action.  
8.  Choose the **Register Pick** action.  

    Return to the assembly order to perform the last assembly task.  

9. In the **Assembly Order**, choose the **Post** action, and then choose the **Yes** button.  

    Notice that the assembly order is removed from the list of open orders.  

### Shipping the Remaining Items, Partly from Stock and Partly Assembled to the Order  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Warehouse Shipment**, and then choose the related link.  
2.  Open the most recent warehouse shipment that is created at WHITE location.  

    Notice on the line for ten units of Kit A that the **Qty. to Ship** and **Qty. Picked** field are empty.  

    Next, pick any remaining items.  

3.  Choose the **Create Pick** action, and then choose the **OK** button.  

    Next, perform the picker's last task for this warehouse shipment.  

4.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Picks**, and then choose the related link.  
5.  Open the warehouse pick document that you created in step 3 in this section.  

    Notice that this pick document is for assembly item, not for assembly components.  

    Next, register the pick without changing the default information.  

6.  Choose the **Autofill Qty. to Handle** action.  
7.  Choose the **Register Pick** action, and then choose the **Yes** button.  

    Return to the warehouse shipment to perform the last task.  

8.  Reopen the **Warehouse Shipment** page.  

    On the **Warehouse Shipment** page, on the line for ten units of Kit A, notice that the **Qty. to Ship** and **Qty. Picked** fields now contain **10**.  

9. Choose the **Post Shipment** action, and the choose **Ship**.  

    The warehouse shipment document is removed, which indicates that the involved warehouse activities are completed. Next, verify that the sales order has been processed.  

10. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link  
11. Open the sales order for The Device Shop.  

    Notice that the **Quantity Shipped** field contains the full quantity on both lines.  

    When the Device Shop pays for their receipt of the 18 PCs from CRONUS, the sales order and its linked assembly orders are removed.  

## See also

 [Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md)   
 [Assemble Items](assembly-how-to-assemble-items.md)   
 [Pick Items for Warehouse Shipment](warehouse-how-to-pick-items-for-warehouse-shipment.md)   
 [Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md)   
 [Assemble Items](assembly-how-to-assemble-items.md)   
 [Design Details: Assembly Order Posting](design-details-assembly-order-posting.md)   
 [Design Details: Internal Warehouse Flows](design-details-internal-warehouse-flows.md)   
 [Design Details: Outbound Warehouse Flow](design-details-outbound-warehouse-flow.md)   
<!--  [Walkthrough: Planning Supplies Automatically](walkthrough-planning-supplies-automatically.md) -->


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-allowed-languages
---
title: Specify available languages in your environment
description: Learn how to build a list of the languages that are available in your Business Central environment. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 
ms.date: 02/19/2025
ms.custom: bap-template
---

# Specify the languages that are available in your Business Central environment

To let people work in their preferred language, the user interface (UI) in [!INCLUDE [prod_short](includes/prod_short.md)] is translated by apps that Microsoft provides, or by language apps that our partners provide on AppSource. Administrators install the language apps in their [!INCLUDE [prod_short](includes/prod_short.md)] environment. Afterward, on the **My Settings** page, people can choose the language in which they want to use [!INCLUDE [prod_short](includes/prod_short.md)].

The **Languages** page lists all languages that [!INCLUDE [prod_short](includes/prod_short.md)] supports. However, to use [!INCLUDE [prod_short](includes/prod_short.md)] in a selected language, the language app must be installed in the environment. If someone chooses a language that a language app isn't installed for, they might be confused when the UI doesn't change.

To avoid confusion and make it easier for people to select a language they can use, administrators can use the **Allowed Languages** page to list the languages that they installed language apps for. [!INCLUDE [prod_short](includes/prod_short.md)] filters the list of languages on the **My Settings** page to show only the allowed languages.

## Create a list of allowed languages

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Allowed Languages**, and choose the related link.
1. In the **Language ID** field, choose the language to allow.
1. Repeat step 2 for each language that you installed a language app for.

## Related information

[Administration Tasks](admin-setup-and-administration.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-consolidated-company-reporting-setup
---
title: Set up company consolidation
description: Learn how you can configure how data from different companies in Business Central is reported into a consolidation company.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.date: 06/12/2024
ms.custom: bap-template
ms.search.keywords: consolidation, subsidiaries, consolidate
ms.search.form: 240, 1826, 1827
ms.service: dynamics-365-business-central
---

# Set up company consolidation

Before you can consolidate the general ledger entries of two or more companies (subsidiaries) into a consolidated company, you must prepare the charts of accounts and the consolidation company.  

Depending on the complexity of your businesses, there are two ways to set up consolidation:

* If you don't need advanced settings, such as including a company that you only own part of, you can use the **Company Consolidation** setup guide to quickly set-up a consolidation. The guide helps you through the basic steps.
* If you need more advanced settings, you can set up the consolidated company and business units yourself.
  * In each business unit, specify the general ledger accounts to include in the consolidation and the translation method for each account.
  * In the consolidated company, set up a business unit card for each company to include in the consolidation. The business unit card includes information such as the dates of the business unit's fiscal year, and the percentage of each account to include in the consolidation.

## Simple consolidation setup

If your consolidation is straightforward, for example because you wholly own the business units to consolidate, the **Company Consolidation** guide helps you through the following steps:

* Create a new consolidated company, or consolidate a company you already created. The company shouldn't contain transactions.
* Preview the results. [!INCLUDE[prod_short](includes/prod_short.md)] verifies that you can successfully transfer the master data and transactions to the consolidated company.

To use the assisted setup guide, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.
2. Choose **Process Consolidations**, and then complete each step in the Company Consolidation assisted setup guide.

## Advanced consolidation setup

If you need more advanced settings for your consolidation, you can set up consolidation manually. For example, if you have companies that you partially own, or you have companies that you don't want to include.  

### Set up the consolidated company

First, you must set up the consolidated company. You set up the consolidated company in the same way that you set up other companies. To learn more about setting up a company, go to [Getting Ready for Doing Business](ui-get-ready-business.md).  

The following list illustrates key aspects of the consolidated company.

1. Set up the chart of accounts.

    To learn more about setting up a chart of accounts, go to [Setting Up or Changing the Chart of Accounts](finance-setup-chart-accounts.md).  

    The charts of accounts can be identical across a business unit and the consolidated company, or the consolidated company can have a different chart of account. If a business unit's chart of accounts differs from the consolidated company's, you must map the accounts to the accounts in the business unit. To learn more, go to the [Prepare general ledger accounts for consolidation](#glacc) section.

2. Add business units.

    To consolidate several companies' data, you must set up the subsidiaries as business units and specify how much of their balances to include. To learn more about business units, to go the [Add business units](#busunit) section.

3. Specify exchange rates, if needed.

    Specify exchange rates if you consolidate data for business units that use different currencies. The three exchange rates you can use are **Average Rate (Manual)**, **Closing Rate**, and **Last Closing Rate**. To learn more about exchange rates, go to [Specify exchange rates for consolidations](#exchrates).

4. Consolidate dimension information and general ledger accounts.

    To learn more, go to the [Include or exclude dimensions](#dim) section.

### <a name="busunit"></a>Add business units

In the consolidated company, set up each company that you want to consolidate data from as a business unit. Before you run a consolidation and generate your consolidation report, it's a good idea to verify the financial data in each business unit.

A significant part of setting up the business unit is to specify how the unit shares it's financial data with the consolidated company. There are manual and automated options:

* To use a manual process, for [!INCLUDE [prod_short](includes/prod_short.md)] online and on-premises, you can export an .xml file that contains the unit's general ledger entries. Then import the file in the consolidated company.
* To automate the data exchange, for [!INCLUDE [prod_short](includes/prod_short.md)] online you can use an API that [!INCLUDE [prod_short](includes/prod_short.md)] provides to share data across environments. If your companies are in the same environment, you can use the **Database** option.

> [!NOTE]
> The API option also lets you share general ledger entries from other [!INCLUDE [prod_short](includes/prod_short.md)] environments. To use the API option, the user who configures the consolidation must have permission to access G/L entries. For example, the D365 Basic and D365 Read permission sets provide access.

#### Set up business unit currencies

When you run consolidation for business units in a foreign currency, pay attention to the exchange rates that various parts of the process use. This is especially true when you rerun consolidation. Use the **Set Up Business Unit Currencies** page to easily keep track of the rates.

The **Set Up Business Unit Currencies** page gives you the last rates for average, closing, and last closing rate. You can look up the exchange rates in the currency exchange rate table, which makes it easier to validate rates. You can change the rates for the current run by entering the values or copying them from previous runs. To copy rates, choose **Select from previous consolidation**. This page is valuable when you want to rerun a previous consolidation and use a previous closing rate. This step helps to correctly revaluate your balance sheet items. The **Select from previous consolidation** page is also useful if you just want to view the rates that were used, for example, when you're troubleshooting. The page is filtered to runs that included the selected business unit.

You start the **Run Consolidation** batch job from the **Business Units** list page. You can also find the **Set Up Business Unit Currencies** page by choosing the **Exchange Rates** action.

> [!NOTE]
> The exchange rate setup pages for average, closing, and last closing rate that are currently available on the **Business Unit** card will be deprecated in a future version. However, you can still maintain these rates if you have business units that you import through files.

#### Create a business unit

1. Sign in to the consolidated company.
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Business Units**, and then choose the related link.  
3. Choose **New**, and then fill in the required fields on the **General** and **G/L Accounts** FastTabs. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!IMPORTANT]
    > When you fill in the **Starting Date** and **Ending Date** fields, make sure you comply with GAAP rules concerning the fiscal periods of the business unit versus the parent company.
4. On the **Data Import** FastTab, in the **Default Data Import** field, specify how you share general ledger entries with the consolidated company:

   * To share data between companies in the same environment, choose **Database**.
   * To share data between companies in different environments, choose **API**, and then fill in the **API's Endpoint** field.
        
        To get the endpoint URL, in the business unit company's [!INCLUDE [prod_short](includes/prod_short.md)], open the **Consolidation Setup Page** and check the Current environment's API Endpoint field value. 
   * To export an .xml file and manually share it, choose **File Format**.

### <a name="glacc"></a>Prepare general ledger accounts for consolidation

The chart of accounts for a company that you will consolidate must specify accounts for consolidation. For each posting general ledger account in each company, you must specify the general ledger account in the consolidated company to transfer the balance to. This mapping lets you consolidate companies that have different charts of accounts.

If the chart of accounts in the business unit differs from the consolidated company, you must prepare general ledger accounts for consolidation. You can specify the accounts to post debits and credits to, and the method to use to translate currencies in the consolidated company.

1. In each business unit's [!INCLUDE [prod_short](includes/prod_short.md)], choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. Open the card for the account, and then fill in the fields on the **Consolidation** FastTab. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

> [!NOTE]
> If you don't fill in the **Consol. Debit Acc.** and **Consol. Credit Acc.** fields, [!INCLUDE [prod_short](includes/prod_short.md)] assumes they're mapped to the same accounts in the consolidated company.

> [!TIP]
> There might be scenarios where you don't want to include an account in a consolidation. For example, if you want your consolidation company to reflect only the balance sheets from the subsidiary companies. To exclude an account from consolidation, turn on the **Exclude from Consolidation** toggle for the account.

### <a name="exchrates"></a>Specify exchange rates for consolidations

If a business unit uses a different currency than the consolidated company, you must specify exchange rate methods for each account before you consolidate. For each account, the content of the **Consol. Translation Method** field determines the exchange rate. In the consolidated company, on each business unit card, in the **Currency Exchange Rate Table** field you specify whether consolidation uses exchange rates from the business unit or the consolidated company. If you use exchange rates from the consolidated company, you can change the exchange rates for a business unit. For business units, if the **Currency Exchange Rate Table** field on the business unit card contains **Local**, you can change the exchange rate from the business unit card. The exchange rates are copied from the **Currency Exchange Rate** table, but you can change them before consolidating.

The following table describes the exchange rate methods you can use for accounts.

|Exchange rate | Typical use |
|---|---|
|Average Rate (Manual) | You manually calculate the average rate for the period to consolidate. Calculate the average either as an arithmetic average or as a best estimate, and specify the result for each business unit. Use for income statement accounts.|
|Closing Rate | Used for balance sheet accounts.|
|Last Closing Rate | The rate that was valid in the foreign exchange market on the date for which the balance sheet or income statement is being prepared. You enter this rate for each business unit. Use for balance sheet accounts.|
|Historical Rate | The exchange rate that was valid when the transaction occurred.|
|Composite Rate | The current period amounts are translated at the average rate and added to the previously recorded balance in the consolidated company. You typically use this method for retained earnings accounts. Those accounts include amounts from different periods, so they contain amounts translated with different exchange rates.|
|Equity Rate | This option is similar to **Composite**. Differences post to separate general ledger accounts.|

To specify exchange rates for a business unit, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Business Units**, and then choose the related link.  
2. On the **Business Unit List** page, choose the business unit, and then choose the **Exchange Rates** action.  
3. On the **Setup Business Unit Currencies** page, fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

### <a name="dim"></a>Include or exclude dimensions

You can consolidate dimension information and general ledger accounts.

* On the dimensions, specify the **Consolidation Code** field, or leave it blank.
  * To exclude a dimension in the consolidation, leave the **Consolidation Code** field blank on the dimension, and don't choose dimensions in the **Copy Dimensions** fields in any consolidation functions or reports.
  * To include dimension information in the consolidation, leave the **Consolidation Code** field blank. However, the consolidation works only if the dimension values in the business unit are the same as the consolidated company.
  * To consolidate the dimension value code in the business unit with a different dimension value code in the consolidated company, fill in the **Consolidation Code** field on the dimensions.  
* Add the dimensions to the general ledger accounts.

### <a name="exclude"></a>Exclude a company from consolidation

If you don't want to include a business unit in the consolidation, you can exclude it. To do that, go to the business unit card, and clear the **Consolidate** checkbox.

### <a name="include"></a>Include a partially owned company in consolidation

If you own only part of a company, you can include a percentage of each transaction that reflects the percentage you own. For example, if you own 70% of the company, consolidation includes $70 of an invoice for $100. To specify the percentage of the company you own, go to the business unit card and enter the percentage in the **Consolidation %** field.  

## See Also

[Consolidating Financial Data from Multiple Companies](finance-consolidated-company-reporting.md)  
[Managing Intercompany Transactions](intercompany-manage.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Exporting Your Business Data to Excel](about-export-data.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchases-powerbi-purchases-by-item
---
title: Purchases by Item (Power BI Report)
description: The Purchases by Item report gives a clear picture of your organization's item purchases.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37016_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Purchases by Item (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Purchases by Item** report gives a clear picture of your item purchases. It showcases key metrics for each item or item category, such as purchase amount and quantities along with the cost amounts.

:::image type="content" source="media/purchases/purchases-by-item.png" alt-text="Screenshot of the Purchases by Item Power BI report" lightbox="media/purchases/purchases-by-item.png":::

## Use the report

The report helps purchasing departments who want to closely monitor the organization's purchasing activities.

Purchasing managers want a clear understanding of purchasing activities and how they align with business goals. Use the report to track purchase amounts and quantities for each item or item category. You can also use this report to find discrepancies in purchasing data, optimize the purchasing process, and reduce costs.

Purchasers make purchasing decisions for specific items or categories. You want to ensure that you make informed decisions and get the best value for the organization. Use this report to track purchase amounts and quantities for items or categories.

## Key Performance Indicators (KPIs)

The *Purchases by Item* report includes the following KPIs and measures: 

- [**Purchase Amount**](purchases-powerbi-kpis.md#purchase-amount)
- [**Purchase Quantity**](purchases-powerbi-kpis.md#purchase-quantity)
- [**% GT Purchase Amount**](purchases-powerbi-kpis.md#-gt-purchase-amount)
- [**% GT Purchase Quantity**](purchases-powerbi-kpis.md#-gt-purchase-quantity)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Value Entry
- Purchase Line
- Item

## Try the report

Try the report here: [Purchases by Item](https://businesscentral.dynamics.com?page=37016)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Purchasing app](purchases-powerbi-app.md)  
[Ad hoc analysis of purchasing data](ad-hoc-analysis-purchasing.md)  
[Built-in purchasing reports](purchase-reports.md)  
[Purchasing analytics overview](purchasing-analytics-overview.md)  
[Purchasing overview](purchasing-manage-purchasing.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-service-statistics
---
title: Service Statistics
description: Get a quick overview of the contents and statistics of service documents such as orders, quotes, invoices, credit memos, service lines, and more.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 06/23/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Viewing Service Statistics
You can use statistics to analyze service documents and determine how well you are managing your service processes. You can analyze service contracts, items, quotes, orders, invoices, and credit memos by choosing the **Statistics** action. For service items and contracts, you can also use the **Service Item Trendscape** or **Contract Trendscape** to view a summary of service ledger entries for a specific service item.   

## Viewing Statistics for Service Orders
The service order statistics feature gives you a quick overview of the contents of the entire service order, the details on the specific service lines, and information related to invoicing, shipping and consuming, and the customer's balance.  

The statistical data is displayed for a service order on the **Service Order Statistics** page for the relevant order. You can open the relevant statistics page from a service order. On the **Service Orders** page, choose **Statistics**. The FastTabs in this page show information such as quantity, amount, VAT, cost, profit, and customer credit limit. The amounts on the page are in the currency of the service order, unless otherwise indicated.  

### View totals for a service order  
You can view the total amount on the service lines, including and excluding VAT, VAT part, cost, and profit on the service lines. The page also displays item-specific information, such as weight, volume, and the quantity of parcels.  

### View shipping information  
You can see information about the items, resources, or costs to be shipped. To provide the information, the values specified in the **Qty. to Ship** field are used on each service line in the order.  

### View order details  
You can view information about the items, resource hours, and costs to be invoiced and consumed. The following table describes this information.  

|Column | Description|  
|------------|---------------------------------------|  
|**Invoicing**|Displays amounts that are to be posted as invoiced from the service order.|  
|**Consuming**|Displays the quantity and cost of items, or resources that will be posted as consumed.|  
|**Total**|Displays the total amounts on the service order that result from adding the invoicing amounts to the consuming amounts.|  

### Analyze service order lines  
You can analyze the information by the types of service lines included in the service order. The amounts are shown separately for:  

* Items  
* Resources  
* Costs and general ledger accounts  

### View customer information  
See the balance on the customer's account, in addition to the maximum credit that can be endued to the customer who you created the service document for.

## Viewing Service Item Statistics
On the **Service Item Statistics** page, you can see up-to-date information about a service item based the following service ledger entry types:  

* Resources  
* Items  
* Service cost  
* Service contracts  
* Total  

For each entry type, you can see the invoiced amount, usage (amount), cost amount, quantity, quantity invoiced and quantity consumed, profit amount and profit percentage. The profit percentage is calculated according to the following formula:  

* (Invoiced Amount - Usage (Cost)) x 100 / Invoiced Amount  

## Use Trendscapes
For service items and service contracts, the **Service Item Trendscape** or **Service Contract Trendscape** pages provides a scrollable summary of service ledger entries in a period of time for a specific service item or contract. To view the trendscape, open the service item or service contract, choose the **Statistics** action, and then choose **Trendscape**.

When you scroll the list, the amounts are calculated in the local currency according to the specified time interval. All amounts are calculated from service ledger entries, which are entries that are created when you post service orders or service invoices.

You can filter the list by specifing the service items to include.  

> [!Tip]  
>  If you have set the time interval to **Day** and you want to scroll over a long period, you can do it faster by shifting to a larger interval such as **Quarter**. When you have found the desired period, you can shift back to the original interval to see the data in more detail.   

## Viewing Gains and Losses on Contracts  
A contract gain or loss entry is generated when a contract quote is converted to a service contract, when contract lines are added or removed from a service contract, or when a contract is canceled. You can view contract gains or losses on the following pages.  

|Page | Description|  
|----------------|---------------------------------------|  
|**Contract Gain/Loss (Contracts)**|To view the contract gain/loss by service contract.|  
|**Contract Gain/Loss (Groups)**|To view the contract gain/loss by service contract group.|  
|**Contract Gain/Loss (Customers)**|To view the contract gain/loss by customer.|  
|**Contract Gain/Loss (Reasons)**|To view the contract gain/loss by reason code.|  
|**Contract Gain/Loss (Resp.Ctr)**|To view the contract gain/loss by responsibility center.|  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter the name of the page to display, and then choose the related link.  
2. Fill in the filter criteria you want to apply. For example, on the **Contract Gain/Loss (Reasons)** page, choose a value for **Reason Code Filter**.  
3. Choose the **Show Matrix** action.

## Viewing Statistics for Posted Service Documents
The service statistics feature lets you gain a statistical overview of the contents of posted service documents, such as a posted shipment, posted invoice, and posted credit memo.  

The statistical information is displayed in the statistics page for the corresponding posted service document. You can open the relevant statistics page from posted service shipment, posted service invoice, or posted service credit memo documents. For each of these document types, choose the **Statistics** action. For example, from the **Posted Service Invoices** page, choose the **Statistics** action.  

### Posted Service Shipment Statistics  
The **Service Shipment Statistics** page provides an overview of a posted service shipment. This includes information about the physical contents of the shipment, such as quantity of the shipped items, resource hours or costs, and weight and volume of the shipped items.  

### Posted Service Invoice Statistics  
You can see a statistical summary on a posted service invoice on the **Service Invoice Statistics** page. You can view the totals of the posted service invoice. The data includes total amount on the service lines (including and excluding VAT) that has been posted as invoiced, VAT part, cost, and profit on the posted invoice. The page also displays information about the following:  

* The items on the service invoice lines, such as weight, volume, and the quantity of parcels.  
* The balance on the customer's account, and the maximum credit that you can extend the customer.  

### Posted Service Credit Memo Statistics  
You can use the **Service Credit Memo Statistics** page to get a statistical overview of the lines in a posted service credit memo. The overview can include:

* The total amounts on the posted credit memo, displayed as quantity, amount, VAT, cost and profit. There is also information about the items on the service lines of the posted credit memo, such as quantity, weight, and volume.  
* General information about the customer, such as the customer's credit limit and balance on the account.  

## See Also  
[Create Service Orders](service-how-to-create-service-orders.md)   
[Create Service Items](service-how-to-create-service-items.md)   
[Planning Service](service-plan-service.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-deploy-excel-addin
---
title: Getting the Business Central add-in for Excel
description: Learn how to get users the Business Central Add-in for Excel. 
author: jswymer
ms.topic: conceptual
ms.devlang: al
ms.search.form: 1480
ms.search.keywords: Excel, add-in, centralized deployment, M365 admin center, individual acquisition, appsource
ms.date: 12/16/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Get the Business Central add-in for Excel

[!INCLUDE[prod_short](includes/prod_short.md)] includes an add-in for Excel that lets users select the **Edit in Excel** action on certain pages to open the data in an Excel worksheet. This action is different than the **Open in Excel** action because it lets users make changes in Excel, then publish the changes back to [!INCLUDE[prod_short](includes/prod_short.md)]

## Overview

### About the add-in

The add-in is called **Microsoft Dynamics Office Add-in** and it's available for installation from the [Office Store (AppSource)](https://appsource.microsoft.com/). With the add-in installed, the **Edit in Excel** action is available on most list and list part pages from the **Share** icon ![Share a page in another app.](media/share-icon.png). For more information about using the add-in, see [View and Edit in Excel From Business Central](across-work-with-excel.md).

> [!NOTE]
> The add-in works on Windows only.

### About deployment as an admin

With [!INCLUDE[prod_short](includes/prod_short.md)] online, there are a few deployment options for getting the add-in to users. One option is *individual acquisition*, where users install the add-in themselves. With this option, users must have access to downloading files from the Office Store. Another option is to set up *Centralized Deployment* in the Microsoft 365 admin center to automatically deploy the add-in to your entire organization, groups, or specific users. Centralized Deployment provides a way to get the add-in to users if your organization doesn't give users access to the Office Store.

For the user, the installation experience is different for the two deployment scenarios:

- With individual acquisition, the first time users choose the **Edit in Excel** action, the **New Office Add-in** pane opens in Excel. To install the add-in, the user chooses **Trust this add-in**, which in turn installs the add-in directly from the Office Store. Users then sign in to [!INCLUDE[prod_short](includes/prod_short.md)] using their user name and password.

- With Centralized Deployment, the first time users choose the **Edit in Excel** action, the add-in is automatically installed in Excel from Centralized Deployment; not the Office Store. The only thing users have to do is sign in to [!INCLUDE[prod_short](includes/prod_short.md)].

With both these deployment options, the add-in is automatically configured to connect to [!INCLUDE[prod_short](includes/prod_short.md)]. A third deployment option is a manual installation of the add-in directly from Excel. With this option, users need to configure the add-in to connect to [!INCLUDE[prod_short](includes/prod_short.md)].

### <a name="switch"></a>Switching from individual acquisition to Centralized Deployment or the other way around

When you change from individual acquisition of the add-in to Centralized Deployment, or vice versa, it affects Excel files that users created before the transition. After the transition, users can still open any Excel worksheets previously created using the **Edit in Excel** action or created manually by configuring the Excel add-in. But they can't update the data in the file from Business Central or push updates to Business Central.

This situation happens because each Excel file gets assigned an "add-in" identifier. In the transition to or from Centralized Deployment, a different ID is assigned, so the earlier ID becomes blocked.

## Preparation (on-premises only)

[!INCLUDE[prod_short](includes/prod_short.md)] on-premises requires that your environment is configured for the add-in. If not, the **Edit in Excel** action isn't available to users. Learn more in [Setting up the Business Central add-in for Excel in Business Central on-premises](/dynamics365/business-central/dev-itpro/administration/configuring-excel-addin) in the Developer and IT Pro help.

## Deploy the add-in by using Centralized Deployment

Centralized Deployment is a feature in the Microsoft 365 admin center that you use to automatically install add-ins in users' Office apps, like Excel. To help you with Centralized Deployment, [!INCLUDE[prod_short](includes/prod_short.md)] includes the **Excel Add-in Centralized Deployment** assisted setup.

### Before you begin

- Learn more about preventing users from downloading from the Office store at [Manage add-ins in the admin center](/microsoft-365/admin/manage/manage-addins-in-the-admin-center).
- Verify that Centralized Deployment works for your organization. Learn more at [Determine if Centralized Deployment of add-ins works for your organization](/microsoft-365/admin/manage/centralized-deployment-of-add-ins).
- Learn more about transitioning from individual acquisition at [Switching from individual acquisition to Centralized Deployment](#switch).

> [!NOTE]
> Enabling Centralized Deployment affects features that use the Excel add-in, such as the **Edit in Excel** action. It has no effect on other Excel-related features or permissions assigned to users in [!INCLUDE[prod_short](includes/prod_short.md)].

### Set up Centralized Deployment of the add-in

In this task, you work in both [!INCLUDE[prod_short](includes/prod_short.md)] and the Microsoft 365 admin center.

1. In [!INCLUDE[prod_short](includes/prod_short.md)], choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Excel Add-in Centralized Deployment**, and then choose the related link.
2. Read the information on the **Business Central Excel add-in setup** page and choose **Next**.
3. Sign in to the [Microsoft 365 admin center](https://go.microsoft.com/fwlink/?linkid=2163967) and go to **Integrated Apps**<!--**Add-ins**-->.

    Complete the following steps to configure the add-in to deploy from the Office Store: 
    1. Choose **Get apps** to open Office Store (AppSource). <!--**Deploy Add-in** 5. In the **Deploy a new add-in**, select **Choose from the store**.-->
    2. Search for **Microsoft Dynamics Office Add-in**, then select **Get it now**. <!--On the **Select add-in** page, search for and select **Microsoft Dynamics Office Add-in** > **Add** > **Continue**.-->
    3. On the **Add Users** page, specify the users that you want to deploy the add-in for, then choose **Next**.<!--On the **Configure add-in**, specify the users that you want to deploy the add-in for.-->
    4. Review the **Accept permissions requests**, then choose **Next** > **Finish Deployment**.
    5. Wait for the green check mark next to **Deployed** appears for the add-in, then choose **Done**. <!--Select **Deploy** and wait til successful, then **Next** > **Continue**.-->

       The add-in appears on the **Add-ins** page. For more information about deploying add-ins in the Microsoft 365 admin center, see [Deploy add-ins in the admin center](/power-platform/admin/use-service-admin-role-manage-tenant?azure-portal=true).
4. Go back to **Excel Add-in Centralized Deployment** assisted setup in [!INCLUDE[prod_short](includes/prod_short.md)], and choose **Next**.
5. Turn on **Use Centralized Deployment**, and choose **Finish**.

    If you don't turn on this switch, [!INCLUDE[prod_short](includes/prod_short.md)] gets the add-in directly from the Office Store.

When finished, you can always change the deployment in the Microsoft 365 admin center, like assigning more users. For more information about deploying add-ins in the admin center, see [Deploy add-ins in the admin center](/power-platform/admin/use-service-admin-role-manage-tenant?azure-portal=true).

> [!IMPORTANT]
> If you have more than one environment, you must run the **Excel Add-in Centralized Deployment** assisted setup on each environment that you want to use Centralized Deployment. However, you don't have to configure the Centralized Deployment in Microsoft 365 again. The only thing you have to do is turn on the **Use Centralized Deployment** switch in the assisted setup. 

> [!NOTE]
> It can take up to 24 hours before the add-in deploys automatically in Excel for users.

## <a name="install"></a>Individual acquisition: Install the add-in manually for your own use

In most cases, when you open Excel from Business Central, the add-in is either installed automatically for you or you're prompted to install it. There might be cases, however, where you have to manually install the add-in.

1. Open Excel, then open any Excel workbook.
1. On the **Home** tab, select **Add-ins** > **More Add-ins**.
1. Go to **Admin managed** and look for **Microsoft Dynamics Office Add-In**. If you see it there, select it, and then choose **Add**. If you don't see it, go to **Store**, and then search for *Microsoft Dynamics Office add-In* and follow the instructions to add it.

When the add-in is installed, it shows up as a panel in Excel. Next, configure the connection.

### Configure the Business Central connection

If a user can't connect automatically, you can unblock them by asking them to follow these steps:

1. In the **Microsoft Dynamics** add-in pane in Excel, choose **Add server information**. If you don't see it, choose the ![More option button in Excel.](media/cogwheel.png) icon at the top to open the options dialog. 
2. For [!INCLUDE[prod_short](includes/prod_short.md)] online, set **Server URL** to `https://exceladdinprovider.smb.dynamics.com`. For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, set it to the URL of the web client, like `https://myBCserver/240`.
3. Choose **OK**, and then confirm that the app reloads.
4. When prompted, sign in with your Business Central user name and password.
5. Optionally, choose the environment and company that you want to connect to.

The add-in is now connected to [!INCLUDE [prod_short](includes/prod_short.md)], and you can edit data and publish the changes to [!INCLUDE [prod_short](includes/prod_short.md)].  

## Prepare devices and network for the Excel add-in

Network services such as proxies or firewalls must allow routing between each client device on which the add-in is installed and many service endpoints. For a list of endpoints, go to [Preparing your network for the Excel add-In](/dynamics365/business-central/dev-itpro/administration/configuring-network-for-addins).

## Troubleshooting

Sometimes, users run into problems with the Excel add-in. This section gives tips for how to unblock users in certain circumstances.

|Problem  |Solution or workaround  |Comments  |
|---------|---------|---------|
|The add-in doesn't start. <br><br>For example, the user gets the message "Add-in Warning: This add-in is no longer available" when trying to use the add-in. This particular problem can happen if Centralized Deployment is configured correctly, but the user wasn't assigned access.|Check whether the add-in is deployed centrally. Or, check whether the user is blocked from installing it locally. | The admin can configure Office so that users can't acquire add-ins. In that case, the admin must deploy the add-in centrally. For more information, see [Deploy add-ins in the admin center](/microsoft-365/admin/manage/manage-deployment-of-add-ins?view=o365-worldwide&preserve-view=true).|
|Data doesn't load into Excel.|Test the connection by opening another list in Excel from [!INCLUDE [prod_short](includes/prod_short.md)]. Or, open the workbook in Excel in a browser.|If the user specified a company name that contains special characters, the add-in can't connect. |
|Data can't publish back to [!INCLUDE [prod_short](includes/prod_short.md)].|Test the connection by opening the workbook in Excel in a browser. |Sometimes an extension can block the publishing job. If the page is extended or customized, remove the extensions, and then try again.|
|The dates are wrong.  |Excel might show times and dates in a different format than [!INCLUDE [prod_short](includes/prod_short.md)]. This condition doesn't make them wrong, and the data in [!INCLUDE [prod_short](includes/prod_short.md)] doesn't get messed up.|         |
|For some list pages, editing multiple lines in Excel consistently causes errors. This condition can occur if OData calls include FlowFields and fields outside of the repeater control.|On the **Web Services** page, select the **Exclude Non-Editable FlowFields** and **Exclude Fields Outside of the Repeater** checkboxes for the published page. Selecting these checkboxes excludes noneditable FlowFields and fields from the eTag calculation. |These checkboxes are hidden by default. To show them on the **Web Services** page, use [personalization](/dynamics365/business-central/ui-personalization-user). |
|Users can no longer sign in to the add-in. When they try to sign in, the process stops without completing.| This problem might happen because of an update that we made to the add-in, sometime in July 2022. For more information and a fix, see [Modify the Excel Add-in Configuration to Support July 2022 Update](/dynamics365/business-central/dev-itpro/administration/update-excel-addin-configuration).|Applies to [!INCLUDE [prod_short](includes/prod_short.md)] on-premises only.|
| The add-in communicates using the API v2.0 for Dynamics 365 Business Central, and any limitations of this API are automatically inherited. An example limitation is if you try to edit a list and the underlying card uses a confirmation dialog in its AL logic, for example, as its validation logic. | Sometimes there's nothing to do because it's a design choice that the user must explicitly confirm the change. If the confirmation is negligible when using **Edit in Excel**, then you can wrap the confirmation dialog call in an if-conditional statement that checks whether the client type is different from ODataV4, for example, `if SESSION.CurrentClientType() <> ClientType::ODataV4 then`. | There might be other clients that you want to remove the confirmation dialog from, such as OData and SOAP. |

## Known limitations in business logic

|Page  |Limitation| Comments  |
|-------|---------|---------|
|Sales Orders|Error message: 'Microsoft Dynamics 365 Business Central Data Services attempted to issue a client callback to run page 301 Ship-to Address List as modal.' Client callbacks aren't supported on Microsoft Dynamics 365 Business Central Data Services. | The **Ship-to Code** on the **Sales Order** page is editable only with specific Ship-to options. Setting **Alternate Shipping Address** to **Ship-to** opens the **Ship-to Address List** modal dialog, which isn't compatible with Edit in Excel.|  
|Project Journal|Update of the **Unit Price** field doesn't trigger an update of the **Line Amount**. Instead, it updates **Line Discount**.| Using the web client, you can update fields in any order—price, amount, line discount. Other fields are updated automatically. To avoid cascade updates, the fields have advanced logic that relies on xRec, which behaves differently when called via APIs.|

## Known limitations in metadata generation

When using **Edit in Excel** in [!INCLUDE [prod_short](includes/prod_short.md)], either by selecting the **Edit in Excel** action on a page or when the Excel add-in loads after opening an Excel workbook, you might encounter the following error: _Metadata was unable to be retrieved for entity \<entity name\> as it was not found_.

This error occurs when the page you're attempting to modify becomes too complex for **Edit in Excel** to process effectively. The primary cause is the installation of multiple extensions that add fields with identical field names to the same parent page, leading to conflicts. It's also possible for a single extension to block the metadata generation.

### Single extension blocking metadata creation

Consider the following scenario involving extension _A_, which includes the page extension _CustomerCardExtA_ and the page _WebViewerA_ where _PageType = CardPart_.

When metadata is generated for the _Customer Card_ page, the algorithm evaluates each individual field, including those fields added by extensions. However, if extension _A_ is installed, this process fails because _WebViewerA_ doesn't share the same source table as the _Customer Card_ page.

To resolve this issue, you should add a _Customer_ `SourceTable` property to the _WebViewerA_ page. An example of this modification can be observed in the code snippets containing _CustomerCardExtB_ and _WebViewerB_.

In some cases, you might need to embed the `CardPart` on multiple pages without referencing a specific source table. For such scenarios, we recommend creating a separate `CardPart` for each page where you also need to generate metadata and refactoring the shared logic into a codeunit.

```AL
pageextension 50120 CustomerCardExtA extends "Customer Card"
{
    layout
    {
        addlast(content)
        {
            part("Bing WebViewer"; "WebViewer")
            {
                ApplicationArea = All;
            }
        }
    }
}
```

```AL
page 50120 "WebViewerA"
{
    ApplicationArea = All;
    Caption = 'WebViewer', Locked = true;
    PageType = CardPart;

    layout
    {
        area(Content)
        {
            usercontrol(WebViewer; WebPageViewer)
            {
                #region ControlAddInReady
                trigger ControlAddInReady(callbackUrl: Text)
                begin
                    CurrPage.WebViewer.Navigate('https://www.bing.com')
                end;
                #endregion ControlAddInReady
            }
        }
    }
}
```

```AL
pageextension 50120 CustomerCardExtB extends "Customer Card"
{
    layout
    {
        addlast(content)
        {
            part("Bing WebViewer"; "WebViewer")
            {
                ApplicationArea = All;
            }
        }
    }
}
```

```AL
page 50120 "WebViewerB"
{
    ApplicationArea = All;
    Caption = 'WebViewer', Locked = true;
    PageType = CardPart;
    SourceTable = Customer;

    layout
    {
        area(Content)
        {
            usercontrol(WebViewer; WebPageViewer)
            {
                #region ControlAddInReady
                trigger ControlAddInReady(callbackUrl: Text)
                begin
                    CurrPage.WebViewer.Navigate('https://www.bing.com')
                end;
                #endregion ControlAddInReady
            }
        }
    }
}
```

### Multiple extensions causing collisions

To resolve this issue, there are two potential solutions:

1. **Disable extensions**: To identify which extension is causing the conflict, you can disable extensions that affect the page one at a time. However, this approach might not be ideal if the extensions in question are necessary for your business processes.

2. **Modify extension code**: This solution involves analyzing the root cause of the issue and addressing it by modifying the code of the conflicting extensions.

To better understand this issue, consider the following example involving the **Customer Card** page (ID 21). When you are on the **Customer List** page (ID 22) and select **Edit in Excel**, a web service is generated in the background that exposes the fields from the **Customer Card** page. This web service includes all page fields defined on the **Customer Card** page, while table fields are only exposed if they correspond to a page field or are part of the primary key.

When an extension is installed that extends the **Customer Card** page, the fields added by the extension are also exposed in the web service. While extensions can't create page fields with the same names as those fields already existing on the **Customer Card** page, conflicts can still arise when multiple extensions add fields with identical names.

For example, suppose the following extension, referred to as _A_, is installed:

```AL
using Microsoft.Sales.Customer;

// Extension A
pageextension 50101 CustomerCardExtA extends "Customer Card"
{
    layout
    {
        addLast(General)
        {
            field("ShoeSize"; Rec.ShoeSize)
            {
                ApplicationArea = ALL;
                Caption = 'ShoeSize';
            }
        }
    }
}

tableextension 50101 CustomerTableExtension extends Customer
{
    fields
    {
        field(50100; ShoeSize; Integer) { }
    }
}
```

Now, consider that another extension, referred to as _B_, is installed, which also modifies the **Customer Card** page:

```AL
using Microsoft.Sales.Customer;

// Extension B
pageextension 50102 CustomerCardExtB extends "Customer Card"
{
    layout
    {
        addLast(General)
        {
            field("ShoeSize"; Rec.ShoeSizeField)
            {
                ApplicationArea = ALL;
                Caption = 'ShoeSize';
            }
        }
    }
}

tableextension 50102 CustomerTableExtension extends Customer
{
    fields
    {
        field(50105; ShoeSizeField; Integer) { }
    }
}
```

In this scenario, both extensions A and B add a page field named `ShoeSize` to the **Customer Card** page. This condition results in a conflict, which leads to a metadata generation failure for the **Customer Card** page.

To resolve this issue, you need access to the code of at least one of the extensions, and then to modify the conflicting page field names to avoid collisions.

<!--
## Deploy the Excel add-in for Business Central online

For [!INCLUDE [prod_short](includes/prod_short.md)] online, the administrator can deploy the add-in for all users. But users can also install the add-in themselves, provided they have permission to configure their Office experience.  

> [!TIP]
> In some organizations, administrators cannot deploy add-ins centrally. For more information, see [Determine if Centralized Deployment of add-ins works for your organization](/microsoft-365/admin/manage/centralized-deployment-of-add-ins?view=o365-worldwide&preserve-view=true).

### To deploy the Excel add-in for all users

1. As the administrator, sign in to the Microsoft commercial website and find the add-in at [https://appsource.microsoft.com/product/office/WA104379629](https://appsource.microsoft.com/product/office/WA104379629).
2. Choose the **Get it now** button.

    You'll be redirected to the Microsoft 365 admin center.
3. In the left panel, go to **Settings**, and then choose **Add-ins**.
4. In the **Configure add-in** pane, specify which users to grant access to the add-in.
5. Save your changes.


### To add the Excel add-in locally

1. Open Excel, and then open any Excel workbook.
2. On the **Insert** menu, choose **Office Add-ins**, and then choose **Admin managed** or **Store** as appropriate.
3. Search for *Dynamics Office Add-In*, and then install the add-in.

When the add-in is installed, it shows up as a panel in Excel. Next, you must configure the connection.

> [!TIP]
> If the workbook is not automatically saved to the user's OneDrive, then recommend them to save all workbooks that they export from [!INCLUDE [prod_short](includes/prod_short.md)].When they open the workbook again, the connection is still available, so they do not have to configure the connection again.

> [!NOTE]
> In certain deployments, the administrator must configure network access to unblock the Excel add-in. For more information, see [Preparing Your Network for the Excel Add-In](configuring-network-for-addins.md).-->

## See also

[Analyzing Financial Statements in Microsoft Excel](finance-analyze-excel.md)  
[Work with Business Central](ui-work-product.md)  
[Enhancements to Excel integration in 2019 release wave 2](/dynamics365-release-plan/2019wave2/dynamics365-business-central/enhancements-excel-integration)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/year-prepare-preclose-reports
---
title: Overview of pre-closing reports to verify account accuracy
description: Provides an overview of the reports you can use to verify the accuracy of accounts before closing the books at the end of a year or period.
author: jswymer
ms.topic: overview
ms.devlang: al
ms.search.form: 1393, 1394
ms.date: 08/05/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Use pre-closing reports

There are many standard reports that you can use to verify the accuracy of the accounts before closing the books at the end of a year or period. For example, you can use the **Customer - Trial Balance** report to verify that the balance for a customer posting group is equal to the balance on the corresponding general ledger account on a certain date.

The following table describes a number of reports that might be useful in this process.

| To | See this report |
| --- | --- |
| Print a detailed trial balance report for one or more bank accounts with additional information about individual entries. |Bank Acc. - Detail Trial Bal. |
| Print a detail trial balance for selected customers. |Customer - Trial Balance |
| Print a detail trial balance with detailed information about individual entries, for selected customers during a selected period. |Customer - Detail Trial Bal. |
| Print a detail trial balance for selected vendors. |Vendor - Trial Balance |
| Print a detail trial balance with detailed information about individual entries, for selected vendors during a selected period. |Vendor - Detail Trial Balance |
| Print a trial balance with the current year's and the previous year's figures. | Closing Trial Balance |
| Print a detailed trial balance report for general ledger account balances. |Detail Trial Balance |
| Print a trial balance report with balances and net changes for general ledger accounts. |Trial Balance |
| Print a trial balance for a consolidated company. |Consolidated Trial Balance |

To see a report, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, type the name as it appears in the table, and then choose the related link.

## See also

[Closing Years and Periods](year-close-years-periods.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)



[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-manage-sales
---
title: Overview of tasks to manage sales
description: Read all about how to use Business Central's services to manage your customers' sales activities with sales invoices, orders, quotes, and more.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: overview
ms.search.keywords: trade, sell
ms.search.form: 253,
ms.date: 11/11/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Sales

You create a sales invoice or sales order to record your agreement with a customer to sell certain products on certain delivery and payment terms.

You must use sales orders if your sales process requires you to ship parts of an order quantity, for example, because the full quantity isn't available right away. If you sell items by delivering directly from your vendor to your customer, as a drop shipment, then you must also use sales orders. In all other respects, sales orders work the same way as sales invoices. With sales orders, you can also use the order promising functionality to communicate certain delivery dates to your customers.  

You can negotiate with the customer by first creating a sales quote, which you can convert to a sales invoice or sales order when you agree on the sale. After the customer confirms the agreement, you can send an order confirmation to record your obligation to deliver the products as agreed.

You can easily correct or cancel a posted sales invoice before the customer pays it. For example, to correct a typing mistake or if the customer requests a change early in the order process. If the posted sales invoice is paid, then you must create a sales credit memo or a sales return order to reverse the sale.

Good sales and marketing practices are all about how to make the best decisions at the right time. Marketing functionality in [!INCLUDE[prod_short](includes/prod_short.md)] provides a precise and timely overview of your contact information so you can serve your prospective customers more efficiently and increase customer satisfaction. Learn more at [Relationship Management](marketing-relationship-management.md).

If you use Microsoft Dynamics 365 Sales for customer engagement, you can enjoy seamless integration in the lead-to-cash process by using [!INCLUDE [prod_short](includes/prod_short.md)] for backend activities. For example, to process orders, manage inventory, and do your finances. Learn more at [Use Dynamics 365 Sales from Business Central](marketing-integrate-dynamicscrm.md).

In business environments where the customer must pay before products are delivered, such as in retail, you must wait for the receipt of payment before you deliver the products. In most cases, you process incoming payments some weeks after delivery by applying the payments to their related posted, unpaid sales invoices. Learn more at [Reconcile Payments Using Automatic Application](receivables-how-reconcile-payments-auto-application.md).

Sales documents can be sent as PDF files attached to email. The email body contains an extract of the sales document, such as products, total amount, and a link to the PayPal site. Learn more at [Send Documents by Email](ui-how-send-documents-email.md).

For all sales processes, you can incorporate an approval workflow. For example, an approval workflow can require that a manager approves large sales to certain customers. Learn more at [Use Workflows](across-use-workflows.md).

The following sections describe a sequence of tasks, with links to the articles that cover them.

## Get started with sales capabilities

Before you to sell, specify how you want to manage your company's sales processes.

|To...| Go to... |
|---|---|
| Create a customer card for each customer you sell to.|[Register New Customers](sales-how-register-new-customers.md) |
| Set up how you do sales, such as prices and discounts, customer price and discount groups, salespeople, shipment methods and agents. | [Set up sales](sales-setup-sales.md) |

## Sales analytics

This section describes the analytical tools you can use to get insights into your sales data.

| To... | Go to... |
| --- | --- |
| Get an overview of the capabilities for analyzing sales data. | [Sales analytics overview](sales-analytics-overview.md) |
| Analyze and monitor your sales KPIs with the Power BI Sales app. | [Power BI sales app](sales-powerbi-app.md) |
| Do ad-hoc analysis of sales data directly on list pages and queries. | [Ad-hoc analysis of sales data](ad-hoc-analysis-sales.md) |
| Explore built-in sales reports. | [Built-in sales reports](sales-reports.md) |

## Quote to order to sales invoice

The following table describes how to use simple sales processes.

|To...| Go to... |
|---|---|
| Create a sales quote to offer products on negotiable terms before converting the quote to a sales invoice. |[Make Sales Quotes](sales-how-make-offers.md) |
| Process a sales order (maybe with a partial shipment, or using a drop shipment.) |[Sell Products](sales-how-sell-products.md) |
| Create a sales invoice to record your agreement with a customer to sell them certain products on certain delivery and payment terms. |[Invoice Sales](sales-how-invoice-sales.md) |
|Understand what happens when you post sales documents.|[Posting Sales](ui-post-sales.md)|

If you need more complex sales processes, the following table lists articles that explain what you can do with [!INCLUDE[prod_short](includes/prod_short.md)].

|To...| Go to... |
|---|---|
| Fulfill a sales order with multiple partial shipments. | [Process Partial Shipments](sales-how-send-partial-shipments.md) |
| Set up standard sales or purchase lines you can quickly insert on documents, for example, for recurring replenishment orders.|[Create Recurring Sales and Purchase Lines](sales-how-work-standard-lines.md)|  
|Manage your customer's commitment to purchase large quantities delivered in several shipments over time.|[Work with Blanket Sales Orders](sales-how-to-create-blanket-sales-orders.md)|
|Invoice a customer once for multiple shipments by combining the shipments on one invoice.|[Combine Shipments on a Single Invoice](sales-how-to-combine-shipments-on-a-single-invoice.md)|
|Sell assembly items that aren't currently available by creating a linked assembly order. The assembly order can supply the full or partial quantity on the sales order.|[Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md)|

## Pick and ship

The following table describes how to pick items for a sales order and ship them to the customer.

| To... | Go to... |
| --- | --- |
|Prepare to pick items for shipment.|[Print the Picking List](sales-how-print-picking-list.md)|
| Link a sales order to a purchase order to sell a drop-shipment item to be delivered directly from your vendor to your customer. |[Make Drop Shipments](sales-how-drop-shipment.md) |
|Have a catalog item shipped from a vendor to your warehouse so you can ship the item on to your customer.|[Create Special Orders](sales-how-to-create-special-orders.md)|
|Inform your customers of order delivery dates by calculating either the capable-to-promise date or the available-to-promise date.|[Calculate Order Promising Dates](sales-how-to-calculate-order-promising-dates.md)|
| Learn how to track a package from a posted sales shipment. | [Track packages](sales-how-track-packages.md) |

## Canceled orders, refunds, and returns

The following table describes how to deal with canceled orders, refunds, and returns of goods.

| To... | Go to... |
| --- | --- |
| Perform an action on an unpaid posted sales invoice to automatically create a credit memo and either cancel the sales invoice or recreate it so you can make corrections. |[Correct or Cancel Unpaid Sales Invoices](sales-how-correct-cancel-sales-invoice.md) |
| Create a sales credit memo to revert a specific posted sales invoice to reflect the products the customer returns and the refund amount. |[Process Sales Returns or Cancellations](sales-how-process-sales-returns-cancellations.md) |

## Other processes in sales

The following table describes how to deal with other sales processes.

| To... | Go to... |
| --- | --- |
|Resolve confusion when two or more records exist for the same customer.|[Merge Duplicate Records](sales-how-merge-duplicate-records.md)|

## See also

[Setting Up Sales](sales-setup-sales.md)  
[Register New Customers](sales-how-register-new-customers.md)  
[Sales analytics overview](sales-analytics-overview.md)   
[Managing Receivables](receivables-manage-receivables.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[General Business Functionality](ui-across-business-areas.md)

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/company-hub
---
title: Manage Work across Multiple Companies in the Company Hub
description: Learn about the company hub in Dynamics 365 Business Central that you use to manage your work across multiple companies.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 1151, 1154, 1165, 1166
ms.date: 09/28/2023
ms.author: bholtorf
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Manage Work across Multiple Companies in the Company Hub

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Some people work in multiple companies in [!INCLUDE [prod_short](includes/prod_short.md)], and some also work in more than one organization, such as external accountants, or employees and managers of corporations with multiple subsidiaries. For these users, and many others, the company hub serves as a landing page that gives a financial overview across companies and environments. It provides users with a tool for managing work across the various environments that they work in, across companies, environments, and regions.  

You can access the company hub by switching to the **Company Hub** role in My Settings, or by opening the **Company Hub** page directly. You can do the same work in both places, but actions are placed slightly different in menus.  

[![Shows the company hub page that lists all companies.](media/company-hub.png)](media/company-hub.png#lightbox)  

> [!NOTE]
> You can connect the company hub to as many companies as you need. However, you can only connect the company hub to companies that are hosted in [!INCLUDE [prod_short](includes/prod_short.md)] online.

## Company hub home page

If you use the **Company Hub** role, your home page shows a list of companies that you have access to, including information about key point of interest (KPI) data, and links to open each company. <!--You can customize the dashboard to show the data points that you want to see by adding or removing columns. For example, you might want to see taxes that are due, how many open sales documents each company has, or the number of purchase invoices that are due next week. You can configure the view to suit your needs. If you have added many companies, you can use filters to sort your view.--> Choose the **Company Hub** action to open the company hub, where you can work more closely with each company.  

> [!TIP]
> To access a specific company in [!INCLUDE [prod_short](includes/prod_short.md)], choose the name of the company, or choose the **Go To Company** menu item - you are logged in automatically in a new browser tab.

:::image type="content" source="media/company-hub-company-list-actions.png" alt-text="Actions for a company that is listed in the company hub.":::

You can add new companies, such as when you get a new client, or when your corporation adds a new subsidiary. For more information, see [Add Companies to Your Company Hub](company-hub-add-company.md).  

> [!TIP]
> In order to refresh the data in the company hub, you must have access to the data in the companies that the data comes from.

<!--## Company details

In the **Company Hub** page, you can see more information about each company by choosing the name of the company that you want to learn more about. This opens the **Company Details** pane, where you can see additional information, such as the following:  

* Cash account balances  
* Cash flow forecast  
* Overdue purchase invoices  
* Overdue sales invoices  

> [!TIP]
> You can launch predefined Excel workbooks from the **Reports** tab in the ribbon. These Excel workbooks are designed as ready-to-print key financial statements and reports, but you can also modify them to fit your needs. For more information, see [Analyzing Financial Statements in Microsoft Excel](finance-analyze-excel.md).  

Otherwise, close the details pane and continue to the next company.  -->

## Assigned tasks

In [!INCLUDE [prod_short](includes/prod_short.md)], you can assign tasks to yourself and others, and others can assign tasks to you. The company hub gives you an overview of assigned tasks for each company, and you can also access a list of all assigned tasks by choosing **My User Tasks** on the **Home** page.  

<!--In the client company, you also have cues that call out tasks assigned to you in this particular client.  -->

### My user tasks

The **My User Tasks** list helps you prioritize your day by showing more information about tasks assigned to you across all your companies.  

You can sort by due date, for example, or any other type of data that helps you prioritize your day. By default, the list shows all tasks that are assigned to you, but you can set up filters to only show tasks that are marked as high priority, for example.  

To pick up a task, choose it from the list of pending user tasks. In the ribbon, the link **Go to Task Item** opens the page where you can do the work.  

When you have completed a task, mark it as completed.  

For more information about companies and environments, see [Environment links](company-hub-add-company.md#environment-links).  

## Access the company hub

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

In order to access the company hub, you must have access through either the *D365 COMPANY HUB* user group or through the *D365 COMPANY HUB*  permission set. You must also have access to the companies that are listed in your company hub, which means that you must be a user in those companies. For more information, see [Create Users According to Licenses](ui-how-users-permissions.md).  

> [!IMPORTANT]
> The company hub is a company-wide list, so any user who is granted access to the company hub will be able to see all companies in their own [!INCLUDE [prod_short](includes/prod_short.md)] tenant, and all KPIs for the companies that they have access to.

If you cannot find the company hub, and you know that you have been granted access to it, then check with your administrator if the company hub is listed in the **Extension Management** page. For more information, see [Customizing Business Central Using Extensions](ui-extensions.md).  

## Set up the company hub

To start using the company hub, you must add one or more companies to your dashboard. For more information, see [Add Companies to Your Company Hub](company-hub-add-company.md).  

But to add a company, you must have been given access to one or more instances of [!INCLUDE [prod_short](includes/prod_short.md)] in addition to the company that you use the company hub in.  

For example, if you are an accountant, your clients can invite you to their [!INCLUDE [prod_short](includes/prod_short.md)]. For more information, see [Inviting Your External Accountant to Your Business Central](finance-accounting.md#inviteaccountant).  

Administrators can use the same assisted setup guide to add you to their [!INCLUDE [prod_short](includes/prod_short.md)], or they can add you to the relevant Microsoft Entra account in the Microsoft 365 admin center. For more information, see [Manage users and groups](/microsoft-365/admin/add-users/?view=o365-worldwide&preserve-view=true).  

## See also

[Add companies to your company hub](company-hub-add-company.md)  
[Accountant Experiences in Business Central](finance-accounting.md)  
[The Company Hub for Business Central Extension](ui-extensions-company-hub.md)  
[Change Basic Settings](ui-change-basic-settings.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-use-allocation-keys-general-journals
---
title: Use Allocation Keys in General Journals
description: You can allocate an entry in a general journal to several different accounts when you post the journal.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: cost accounting
ms.search.form: 283, 284
ms.date: 06/29/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Use Allocation Keys in General Journals
You can allocate an entry in a general journal to several different accounts when you post the journal. The allocation can be made by quantity, percentage, or amount.

## To set up allocation keys
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Recurring General Journal**, and then choose the related link.
2. Choose the **Batch Name** field to open the **General Journal Batches** page.
3. You can either modify allocations on an existing batch in the list or create a new batch with allocations.
   * To create a new batch, choose the **New** action, and go to the next step.
   * To change the allocations of an existing journal, select the journal and go to step 7.    
4. In the **Name** field, enter a name for the batch, such as CLEANING. In the **Description** field, enter a description, such as Cleaning Expenses Journal.
5. When you are done, close the page. A new, empty recurring journal opens.
6. Fill in the fields on the line.
7. Choose the **Allocations** action.
8. Add a line for each allocation. You must fill in either the **Allocation %**, **Allocation Quantity**, or **Amount** field. You must also fill in the **Account No.** field and, if you are allocating the transaction among global dimensions, the global dimension fields.
9. If you enter a percentage on a line, the amount in the **Amount** field is calculated automatically. These amounts have the opposite sign from the total amount in the **Amount** field in the recurring journal.
10. After entering the allocations lines, choose **OK** to return to the **Recurring General Journal** page. The **Allocated Amt. (USD)** field is filled in and matches the **Amount** field.
11. Post the journal.

## To change an allocation key that has already been set up
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Recurring General Journal**, and then choose the related link.
2. On the **Recurring General Journal** page, select the journal with the allocation.
3. Choose the line with the allocation, and then choose **Allocations** action.
4. Change the relevant fields, and then choose the **OK** button.

## See Also
[Work with General Journals](ui-work-general-journals.md)  
[Posting Documents and Journals](ui-post-documents-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-liabilities
---
title: Liabilities
description: The Liabilities report provides an overview of all liabilities broken down by current liabilities, payroll liabilities, and long-term liabilities. 
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 36990_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Liabilities (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Liabilities** report provides an overview of your company's financial obligations, highlighting total liabilities, current liabilities, payroll liabilities, and long-term liabilities. It also shows key performance indicators such as debt ratio and dept-to-equity ratio, along with total assets.

These key performance indicators can help you understand the balance between debt and equity while monitoring liabilities that affect future cash flow and operational flexibility.

Drill through into the **Liabilities Drill-Through** page to explore the underlying ledger entries that make up the balance.

:::image type="content" source="media/finance/liabilities-report.png" alt-text="Screenshot of the Liabilities report" lightbox="media/finance/liabilities-report.png":::

## Use the report

The audiences for the report are:

- Executives
- Directors
- Other high-level decision makers

Executives can use the report to evaluate your company's financial position before engaging in a new expansive initiative. By first analyzing current liabilities, you can gauge your immediate debt burden. This analysis helps you determine whether there are enough liquid assets to meet short term obligations, and ensure you have cash-flow to support existing operations and new development.

Next, you could assess the debt ratio and debt-to-equity ratios. These key performance indicators provide insight into the company's leverage and risk profile. For example, a high debt-to-equity ratio could indicate that the company has a high reliance on borrowed funds. This type of data can help inform how you decide to finance the expansion project.  

## Key Performance Indicators (KPIs)

The *Liabilities* report includes the following KPIs and measures: 

- [**Liabilities**](finance-powerbi-kpis.md#liabilities)
- [**Current Liabilities**](finance-powerbi-kpis.md#current-liabilities)
- [**Payroll Liabilities**](finance-powerbi-kpis.md#payroll-liabilities)
- [**Longterm Liabilities**](finance-powerbi-kpis.md#longterm-liabilities)
- [**Debt Ratio**](finance-powerbi-kpis.md#debt-ratio)
- [**Debt/Equity Ratio**](finance-powerbi-kpis.md#debtequity-ratio)
- [**Assets**](finance-powerbi-kpis.md#assets)
- [**Balance at Date (Neg)**](finance-powerbi-kpis.md#balance-at-date-neg)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- G/L Entry
- G/L Accounts
- G/L Account Categories

## Try the report

Try the report here: [Liabilities](https://businesscentral.dynamics.com?page=36990)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-to-set-up-shipping-agents
---
title: How to Set Up Shipping Agents
description: Learn how to set up a code for each of your shipping agents and enter descriptive information about each of them and the services they provide.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 06/23/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Shipping Agents
You can set up a code for each of your shipping agents and enter information about them.  

If you enter an Internet address for the shipping agent, and the agent provides package tracking services on the Internet, you can use the automatic package tracking feature. For more information, see [Track Packages](sales-how-track-packages.md).

When you set up shipping agents on your sales orders, you can also specify the services that each shipping agent offers.  
For each shipping agent, you can set up an unlimited number of services, and you can specify a shipping time for each service.  

When you have assigned a shipping agent service to a sales order line, the shipping time of the service will be included in the order promising calculation, for that line. For more information, see [Calculate Order Promising Dates](sales-how-to-calculate-order-promising-dates.md).

## To set up a shipping agent  
1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Shipping Agents**, and then choose the related link.  
2.  Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)].  
3.  Choose the **Shipping Agent Services** action.
4. In the **Shipping Agent Services**, fill in the fields as necessary.

> [!NOTE]  
>  If you delete the shipping agent on the order line, the shipping agent service code is also deleted. The contents of fields that were based in part on the shipping agent service are recalculated.  

## See Also
[Set Up Shipment Methods](sales-how-set-up-shipment-methods.md)  
[Track Packages](sales-how-track-packages.md)    
[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)     
[Assembly Management](assembly-assemble-items.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-setup-edocuments-external
---
title: Set up the E-Documents connector with external endpoints
description: This article explains how to set up E-Documents functionality when connected to external endpoints.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: electronic document, electronic invoice, e-document, e-invoice, access-point, endpoint
ms.search.form: 359, 360, 6103, 6133
ms.date: 04/07/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---

# Set up the E-Documents connector with external endpoints

This article explains how to set up E-Documents functionality when connected to external endpoints.

Before you use the functionality that this article describes, you must install the **E-Document Core** app and one of the E-Documents connectors with external endpoints apps. You can use these apps for default integration with the external, non-Microsoft, access points to automate the e-document flow. Because these apps represent only some of the selected connectors, you aren't limited to existing integrations.

## Install an E-Documents connector  

To install an E-Documents connector, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Document Services**, and then select the related link.
2. Choose the **Install E-Documents integration from AppSource** action to open the **Microsoft AppSource apps** page.
3. Choose the connector you want, and then select the **View on AppSource** action.
4. Install the app from the AppSource.

## Set up the connection

[!INCLUDE[e-documents connectors](includes/edocuments-connectors-include.md)]

Based on the endpoint service provider, the next steps might be different. You can find details about set up parameters for all available service providers [here](finance-edocuments-connectors.md).

## Set up company information

Before you start using e-documents, update your **Company Information** page by completing the following steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Company Information**, and then select the related link.
2. In addition to filling in the usual fields, you must also fill in the following fields:

    | Field name | Description |
    |---|---|
    | SWIFT Code | Specify the SWIFT code (international bank identifier code) of your primary bank. |
    | Bank Branch No. | Specify the bank's four-digit branch number. |
    | VAT Registration No. | Specify the company's value-added tax (VAT) registration number. |

3. Close the page.

## Set up customers to receive e-documents

To enable customers to receive your e-documents, complete the following steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then select the related link.
2. Open the **Customer** card.
3. In addition to filling in the usual fields, in the **GLN** field, specify the customer you send electronic documents to.
4. Turn on the **Use GLN in Electronic Documents** toggle to indicate whether to use the global location number (GLN) as an identification number in electronic documents.
5. Close the page.

## Other setup

Before you start to work with e-documents, set up the e-document **workflows** and **document sending profiles** to use your workflows. After the service connection is established, you can start to use your e-document solution.

## Available service providers

Microsoft wants to encourage access point providers to add their connectors on top of our **E-Document Core** app.

The following list of access point providers are covered by default:  

- Avalara
- B2BRouter
- Logiq
- Pagero
- SignUp

Microsoft has no contractual obligations with these providers. Therefore, you must make a contract with them to get the necessary credentials. The services might require extra licensing or payments for their services.

## Related information

[How to set up e-documents in Business Central](finance-how-setup-edocuments.md)  
[How to use e-documents in Business Central](finance-how-use-edocuments.md)  
[How to extend e-documents in Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-extend-edocuments)  
[Financial Management](finance.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
[Record Purchases with Purchase Invoices and Orders](purchasing-how-record-purchases.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/reports-adhoc-analysis
---
title: Ad-hoc data analysis
description: Provides an overview of features that support ad-hoc data analyses in Business Central.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: get-started
ms.search.keywords: feature overview
ms.date: 04/30/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Ad-hoc data analysis

Sometimes you need to analyze data in [!INCLUDE[prod_short](includes/prod_short.md)] in a way that the standard reports don't support. These analyses are often called "ad-hoc." The following table provides links to articles that can help you learn how to do ad-hoc analyses.

| To | See |
| --- | --- |
| Analyze data on a list by sorting, searching, and filtering it. | [Sorting, Searching, and Filtering](ui-enter-criteria-filters.md) and [Searching and Filtering FAQ](ui-search-filter-faq.yml) |
| Save the settings you use frequently on a list as a view | [Save and personalize list views](ui-views.md)|
| View and analyze data from a page in Microsoft Excel | [View and Edit in Excel](across-work-with-excel.md) |
| Analyze list data directly from a page |[Analyze list data using data analysis mode](analysis-mode.md)|
| View and analyze data from a report dataset in Excel | [ Analyzing Report Data with Excel and XML](report-analyze-excel.md) |

## Ad-hoc data analysis by functional area

The general content about ad-hoc data analysis is also available in special versions for many of the functional areas in [!INCLUDE[prod_short](includes/prod_short.md)]. 

[!INCLUDE[ad-hoc-analysis-scenarios-table](includes/ad-hoc-analysis-scenarios-table.md)]

## See also

[Analytics overview](reports-bi-reporting.md)   

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/controlling
---
title: Controlling
description: You can use controlling in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Controlling

## Dimension value for customer contracts

In the [General setup](setup/general.md), **Autom. Insert Cust. Contr. Dimension Value** controls whether the Customer Contract No. is automatically created as a new dimension value for each new Customer Contract. This is then automatically assigned to the respective contract.


## Dimension Value for Customers

In the **Sales & Receivables Setup** it is controlled via **Autom. Insert Cust. Dimension Value** whether the customer number is automatically created as a new dimension value for each new customer. This is then automatically assigned to the respective customer.


## Other dimensions
* **Customer Contract** <br/>
    The **Dimensions from Project No.** field can be used to fetch the dimensions from the specified Project into the respective Customer Contract via lookup.
* **Customer Contract Line** <br/>
    * Dimensions are basically stored at the Service Commitments, but are accessible via the contract lines. When assigning Services Commitments to a Customer Contract, the dimensions of the Customer Contract header are passed to the Service Commitments. Additional dimensions are added and Dimension Values of existing dimensions are overwritten. However, no dimensions are deleted.
    * In addition, when assigning services to a Customer Contract and updating the dimensions at the Service Commitments a check is performed whether there are any vendor Service Commitments that refer to the same Service Commitment Template. If such a vendor Service Commitment is found, the dimensions of the Customer Contract Header are also passed to the vendor Service Commitment(s).
    * When deleting a contract line, the dimensions of the Customer Contract Header are removed in the related Service Commitments.
    * When changing a dimension in the Customer Contract Header (changing a Dimension Value, adding a Dimension, removing a Dimension), this change will be transferred to the Service Commitments on request. Here the system behaves in the same way as for sales documents.
* **Vendor Contract Line** <br/>
    * When assigning Services Commitments to a Vendor Contract, the dimensions of the Vendor Contract header are transferred to the Service Commitments. Additional dimensions are added and Dimension Values of existing dimensions are overwritten. However, no dimensions are deleted.
    * When deleting a contract line, the dimensions of the Vendor Contract Header are removed in the related Service Commitments.
    * When changing a dimension in the Vendor Contract Header (changing a Dimension Value, adding a Dimension, removing a Dimension), this change will be passed to the Service Commitments on demand.
* **Service Object** <br/>
    * The item to be used for billing (i.e. the Service Commitment Item itself or an Invoicing Item) is stored in the Service Commitment. The dimensions that this item brings are transferred to the Service Commitment.
    * Since the Service Commitment is kept in sync with the contract line, changes to the Service Commitment are also made to the contract line.
* **Sales Service Commitments** <br/>
    * The item to be used for billing (i.e. the Service Commitment Item itself or an Invoicing Item) is stored in the Sales Service Commitment. The dimensions that this item brings are transferred to the Sales Service Commitment on shipment.
    * The remaining dimensions are copied from the Sales Line to the Service Commitments on shipment. If there is a dimension conflict, the dimensions of the item in the Service Commitment have higher priority.
* **Recurring Billing** <br/>
    * There are no dimensions on the lines in **Recurring Billing**. However, the **Contract Line Dimensions** call can be used to access the dimensions of the related contract line.
    * When Posting Documents are created, the dimensions of the respective contract line are transferred to the corresponding document line.
* **Contract Deferrals** <br/>
    * When posting the document line, the dimensions are transferred from the document line to the deferrals.
    * It is possible via the action **Update Dimensions in Deferrals** to update the dimensions in all Contract Deferrals for a contract that have not yet been released, e.g. if the dimensions of a contract line has been changed.
* **Archived Billing Lines** <br/>
    * There are no dimensions in the Archived Billing Lines.
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchases
---
title: Purchasing in subscription billing
description: Learn about purchasing in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Purchasing in subscription billing

In subscription billing, you purchase items with service commitments in the same way as purchasing features in [!INCLUDE [prod_short](../includes/prod_short.md)]. To learn more, go to [Purchasing](../purchasing-manage-purchasing.md). You map recurring purchases, such as rentals, maintenance, or subscription, with service commitments. Service commitments have **Vendor** specified in the **Partner** field on the service commitment package lines. A service commitment package can have lines for both customer and vendor service commitments.

## Sales quotes and orders

For purchases, service commitments work in the same way as sales service commitments. You can either extend a vendor contract with a new item, or create a sales document with service commitments that have **Vendor** specified in the **Partner** field on the **Assign Service Commitments** page. To learn more, go to [Sales process](sales/sales-service-commitments.md). Depending on the selection in the **Calculation Base Type** field, the value in the **Calculation Base Amount** field is determined from the **Unit Cost** field on the sales lines or the **Last Direct Cost** field on the item. To learn more, go to [Price determination of service commitments](sales/price-calculation.md).

## Service objects

When the item is delivered for an order, [!INCLUDE [prod_short](../includes/prod_short.md)] creates the service object and its service commitments. You can specify both customer and vendor service commitments for the service object.

## Assign a vendor contract

Unlike customer service commitments, you can assign vendor service commitments to any vendor contract.

> [!TIP]
> The **Subscription & Recurring Billing** Role Center shows whether there are vendor service commitments that aren't assigned to a contract.

## See also

[Service commitments](masterdata/service-commitments.md)  
[Termination of contract components](working-with-contracts/service-commitment-cancellation.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-service-commitments
---
title: Sales with service commitments
description: You can use sales with service commitments in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Sales with service commitments

Create a sales quote or sales order with service commitments to record your monetary agreements with the customer. Service commitments are printed on the documents and can be delivered from the order to be billed on a recurring basis.

## Assign service commitments

[Service commitments in subscription billing](../masterdata/service-commitments.md) describe the monetary content of agreements with customers and vendors, as well as ending dates.

If an item is used in a sales document that has one or more service commitment packages defined in the master data, the services from the service commitments marked as **Standard** are automatically created for the sales transaction. All service commitments from the corresponding service commitment packages are transferred to the sales item in the document. The service commitments can then be accessed and viewed or edited via the lookup in the **Services** field in the sales document line. To learn more, go to [View, Edit and Delete service commitments](#view-edit-and-delete-service-commitments).

All service commitments not marked as **Standard** can be assigned in the **Assign Service Commitments** dialog. The dialog opens automatically when an item is entered in the sales document if an optional service commitment package (not marked as **Standard**) is stored on the item. Because standard service commitment packages are always accepted, only optional service commitment packages display.
If you open the dialog by using the **Add Service Commitment** action on a line, all available service commitment packages for the item in the current sales item display.

By selecting the service commitment package and confirming with **OK**, the service commitments of the service commitment package transfer to the selected sales item. You can't select individual lines of a service commitment package. To learn more about price calculation of the sales service commitments, go to [Price determination of Service Commitments](price-calculation.md#price-determination-of-service-commitments).

Service commitments can be used in sales quotes, sales orders, and blanket sales orders.

## Print service commitments

Customer service commitments are automatically printed below the respective sales item. For each service commitment, the description, the discount %, and the sales price are printed. The formatting from the corresponding sales item regarding **Print Line** is taken into account (as the only formatting) when printing service commitments.

The amounts of service commitments and service commitment items aren't used to calculate the line and total amounts. The total amounts of service commitments are calculated depending on the billing rhythm and print below the sales items. For each billing rhythm used in the sales document, the recurring total amount is output (if it's greater than 0). The output of the total amounts is sorted by the duration of the billing rhythm. The total of the sales service commitment that was created for a contract renewal is printed separately and labeled with **Contract Renewal**. To learn more, go to [Contract renewal](../working-with-contracts/contract-renewal.md).

## View, edit and delete service commitments

You can check whether service commitments are entered for the sales item in the **Service Commitments** field on a line in the sales document. You can select the field to view, edit, or delete the service commitments.

## Shipping service commitments

When you ship an item on an order, a service object is automatically created if **Sales with Service Commitments** or **Service Commitment Item** are selected in the **Service Commitment Option** field on the item. To learn more, go to [Service commitments for items](../masterdata/items.md). The sales service commitments for the sales item automatically transfer as service commitments. A new service object is created for each shipment. Delivered service commitment items automatically display as invoiced, because the service commitments are invoiced only through contracts.

> [!NOTE]
> In sales orders, the behavior of service commitment items differs significantly from that of *normal* items in [!INCLUDE [prod_short](../../includes/prod_short.md)]. During an audit, the differences should be noted and explained to the auditor.

If service commitment items were shipped in a sales order, they automatically display as invoiced. By clicking on the **Invoiced Quantity** field, the lookup won't find a posted sales invoice. To avoid invoices with amount equals to 0 and to be able to delete the sales order, a sales invoice isn't created when you ship service commitments items.

Service commitment items also display as invoiced in posted sales shipments, although there isn't a corresponding posted sales invoice and both the item and value ledger entry show the **Quantity invoiced** as **0**.

The item and value ledger entries for the service commitment items from sales orders are created with **Sale Amount** and **Cost Amount** equal to **0**. The item and value ledger entries for the service commitment items from sales orders are created without an **Invoiced Quantity**.

When invoiced by a contract, item and value ledger entries are created with the **Invoiced Quantity** and **Sales Amount**.

The item and its description, as well as the customer and the delivery address, transfer to the service object. The quantity on the service object corresponds to the quantity in the shipment. All values from the service commitments in the order transfer to the service commitments in the service object. The **Shipment Date** corresponds to the **Provision Start Date** in the service object.

A **Agreed Serv. Comm. Start Date** can be entered in the sales service commitment for a sales item. If a **Agreed Serv. Comm. Start Date** is maintained in the sales service commitment, it's used as the **Service Start Date** and **Next Billing Date** in the service. If the field is blank, the **Service Start Date** and **Next Billing Date** are determined from the **Shipment Date** and **Service Commitment Start Formula** (the field is on the service commitment package line).

Here's an example. If delivery is on the 15th of a month, and the **Service Commitment Start Formula** defines the first of the following month as the service start date, the first of the following month is used. If the **Service Commitment Start Formula** field is empty, the delivery date is used.

> [!TIP]
> **-CM+1M** calculates the first day of the following month. To learn more about formulas, go to [Work with Calendar Dates and Times](../../ui-enter-date-ranges.md).

The **Cancellation Period** fields calculate based on the **Service Start Date**. The **Cancellation possible until** field specifies the date on which a service commitment can be cancelled in due time. The caculation is as follows:

* **Service Start Date** + **Initial Term** - **Notice Period**.

The **Term until** field indicates the next potential end date of a service commitment upon regular termination. It's calculation is **Service Start Date** plus **Notice Period**. If you use an **Initial Term**, it corresponds to **Service Start Date** plus **Initial Term**.

> [!IMPORTANT]
> The service commitment isn't automatically ended when the **Term until** date is reached.

If there is an agreed end date for a service commitment, specify an **Initial Term** date and leave the **Subsequent Term** empty. This way, upon delivery, the **Service End Date** is automatically determined based on the **Service Start Date**.

To learn more about service objects and service commitments, go to [Managing contracts, service objects, and services commitments](../working-with-contracts/contracts-services-mgmt.md).

## Inventory picks

When an item is delivered using an inventory pick, either the posting date or the shipment date are used to calculate the service start date. The **Service Start Date for Inventory Pick** field on the Service & Contract Setup page determines which of the two options comes into play. To learn more, go to .

## Calculate orders

You can't charge service commitments through a sales order. Although the item is billed once via the sales order, the service commitments aren't billed via the sales order, but through a contract.

Service commitment items can't be billed at all. Service commitment items can be rentals, support, and so on, that are offered and sold. They're automatically set to invoiced on delivery. Invoicing is also done on a recurring basis through a contract.

## Archive documents

Depending on the setting in **Sales & Receivables Setup**, sales quotes are automatically archived when converted to a sales order or sales orders are automatically archived when deleted (fast tab *Archive*). Sales quotes and orders can also be archived manually using the **Archive Document** action. The sales service commitments belonging to the lines are also archived.

## See also

[Service commitments](../masterdata/service-commitments.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/dealing-with-currencies
---
title: Currencies
description: You can use currencies in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Currencies

In [!INCLUDE [prod_short](../../includes/prod_short.md)], you can make transactions in foreign currencies by entering a currency code. For example, on a sales order or the customer or vendor contract. To learn more about using foreign currencies, go to [Update currency exchange rates](../../finance-how-update-currencies.md).

## Foreign currencies in service commitments

If you enter a currency code on a sales order, for example, or if you specify a currency for a customer, the price on the order is converted to that currency. This conversion is the same for sales service commitments in subscription billing. In the service commitments for the service object, the **Currency Code** field also indicates the currency to which the **Service Amount** field refers.

When you manually create a service object with service commitments, the **Currency Code** field and the corresponding fields in the service are initially empty, even if a currency code is specified for the customer. The currency code can remain blank because the contract that's used to bill the service determines which currency to use.

When you create the service object and service commitments by using a sales shipment, the currency code from the sales order automatically transfers to the service.

## Convert service amounts

When assigning service commitments to a contract, [!INCLUDE [prod_short](../../includes/prod_short.md)] checks whether to convert the amounts. If the currency code in the contract is the same as the currency code in the service commitments, no conversion is required. Otherwise, the conversion is done by a query in which the last conversion factor is suggested based on the work date. If you choose **OK**, [!INCLUDE [prod_short](../../includes/prod_short.md)] recalculates the fields for the currency, update the service commitment, and then add it to the contract. The dialog also displays when you change the currency code in the contract.

> [!NOTE]
> When you assign service commitments to a contract that requires currency conversion, all services must have the same currency code.

## Update exchange rates on service objects

The method described in this section ensures that prices for service commitments in a foreign currency don't automatically change as a result of a change in the exchange rate. However, you might need to use the **Update exchange rates** action to adjust the exchange rate manually. The action is available on the **Service Object**, **Customer Contract**, and **Vendor Contract** pages.

> [!NOTE]
> If you manually change some fields, other fields also update.
>
> Changes to these fields update other fields:
>
> * Calculation Base Amount
> * Calculation Base %
> * Price
> * Discount %
> * Discount Amount
> * Service Amount
>
> These are the fields that your changes update based on the specified exchange rate:
>
> * Price (LCY)
> * Discount Amount (LCY)
> * Service Amount (LCY)

## Update exchange rates for currencies automatically

You can automatically update exchange rates using the job queue. To learn more, go to [Update currency exchange rates](../../finance-how-update-currencies.md) and [Use job queues to schedule tasks](../../admin-job-queues-schedule-tasks.md).

## See also

[Price determination of service commitments](price-calculation.md)  
[Customer contracts](../working-with-contracts/customer-contracts.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/credit-memo-cancellation
---
title: Credit memos and cancellation
description: You can use credit memos in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Credit memos

If a contract invoice contains a mistake, such as incorrect customer information due to a name change, you can credit the invoice. Once credited, you can correct the information in the contract and recreate the invoice.

If a customer cancels a service, you can terminate a contract line and it won't be billed.

If deferrals were created by a contract invoice, they're automatically fully released on the **Posting Date of Credit Memo** when you credit the contract invoice. To learn more, go to [Contract deferrals](../working-with-contracts/contract-deferrals.md).

## Delete unposted invoices

You can delete an invoice as long as it isn't posted. The billing lines are still in **Recurring Billing** page where you can edit, update, or delete them.

To avoid discrepancy between contract and posting documents, the ability to edit unposted contract invoices or credit memos ([Posting documents](../posting-documents.md) is limited. The same applies to processing billing and contract lines if there's a posting document.

If the posting document was deleted, you can edit the billing and contract lines normally. After editing a contract line, the billing line must be updated before a new posting document is created. To learn more, go to [Need to update](../recurring-billing.md#need-to-update).

## Credit memos for contract invoices

After an invoice is posted, it must be credited in order to make changes. The credit memo can be created in the posted invoice using the **Create Corrective Credit Memo** action. A credit memo and corresponding billing lines are created automatically for the entire invoice.

> [!CAUTION]
> The credit memo can't be created if there are new billing lines for the same contract line. Delete the billing lines on the **Recurring Billing** page so that you can create the credit memo.
>
> You can only credit the last contract invoice. If a subsequent bill was already created for a contract, you must credit it first.

The credit memo is opened on creation. In the Credit Memo, positions can be deleted. In this way, individual positions of an invoice can be credited. When the positions are deleted, the billing lines are also deleted. The same applies if the entire Credit Memo is deleted.

You can't create a new billing line for a contract line if a posting document already exists for it. Delete or post the posting document first.

> [!NOTE]
> If the billing lines for the credit memo don't appear in the billing proposal, you might need to refresh the page or change the billing template changed.

On the contract lines, the **Next Billing Date** reset when the credit memo was created. After posting the credit memo, the contract lines can be edited and calculated with the new values.

## See also

[Customer contracts](../working-with-contracts/customer-contracts.md)  
[Vendor contracts](../working-with-contracts/vendor-contracts.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/price-calculation
---
title: Sales price calculation
description: You can use sales price calculation in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Price determination of service commitments

The price of a service commitment is automatically determined based on their setup. To learn more, go to [Service commitments](../masterdata/service-commitments.md). To change a price manually, you can edit the **Calculation Base Amount** and **Calculation Base %** fields.

* **Calculation Base Amount**

   * **Item Price**

   The **Calculation Base Amount** of the service commitments is determined from the item. Customer-side service commitments use the **Unit Price** field. Vendor-side service commitments use the **Last Direct Cost** field. Changes to the sales price and cost price in the sales document have no effect.

   * **Document Price**

   The **Calculation Base Amount** is determined from the **Unit Price** for customer service commitments and from the **Unit Cost** of the sales document line for vendor service commitments. A change to the prices on the document line automatically applies to all service commitments for the sales item.

   * **Document Price And Discount**

   **Calculation Base Amount** is determined in the same way as the Document Price Type (see above). In addition, a discount entered in the sales item for the service commitments is transferred and taken into account when determining the Service Amount. This option is not available for vendor-side service commitments.

   * **Calculation Base Amount**

   **Calculation Base Amount** is the basis for calculating the service amount. When selling a good with an additional recurring service commitment, the calculation base amount is equal to the value of the good.

   * **Calculation Base %**

   **Calculation Base %** is the percentage from the **Calculation Base Amount** which is used to determine the price of the service commitment.

   * **Price**

   The price is calculated from the **Calculation Base Amount** and the **Calculation Base %**. The price is always valid for the entire **Calculation Base Amount**. For it's an annual price if a year (or 12 months) is entered in **Calculation Base Amount** and a monthly price if a month is entered in **Calculation Base Period**.

## See also

[Service commitments](../masterdata/service-commitments.md)  
[Sales process](sales-service-commitments.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/so-service-commitments
---
title: Service commitments in service objects
description: You can use service commitments with service objects in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Service commitments in service objects

Service commitments describe the monetary content of agreements with customers and suppliers as well as termination dates. In order for a service commitment to be billed recurrently, it must be assigned to a contract.

A service commitment is valid if the **Invoicing via** field is set to **Contract** and the **Service End Date** field is either blank or the date in the **Next Billing Date** field hasn't reached the date in the **Service End Date**. Service commitments with invoicing via sales are used to store information and aren't billed on a recurring basis.

If a service commitments is assigned to a contract, almost all changes can be made in the contract. The quantity of service commitments cannot be changed in the contract.

> [!NOTE]
> * If the **Next Billing Date** reaches the **Service End Date**, it isn't available. These service commitments are considered ended and can no longer be billed.
> * An example of a service that should not be billed recurringly but store information about the sale is a warranty extension. It is billed once through the sales order. The information about how long the extension is valid is stored in the service commitments.

## Editing service commitments

### Log changes to service commitments

Service commitments can be edited as lines in the service objects. To learn more, go to [Service objects](service-objects.md) and contracts.

If any of the following fields are edited, the service commitment is archived before the change is made:

* Calculation Base Amount
* Calculation Base %
* Price
* Discount %
* Discount Amount
* Service Amount
* Billing Base Period
* Billing Rhythm

If the service amount changes due to quantity changes, the service commitment is also archived. In addition, changing the serial number will result in archiving, because the serial number is also present in the **Archived Service Commitments**.

If archived service commitments exist, the **Archived Service Commitments** checkbox on the service object is selected. Choose **Yes** to display the archived service commitments, including the corresponding quantity of the service object. The timestamp and user who made the change can be viewed via the Page Inspector.

> [!NOTE]
> If several changes are made in quick succession to the same service commitment, only the original version is archived.

### Delete service commitments

You can delete service commitments if they aren't invoiced and aren't assigned to a contract. If they're assigned to a contract, the contract line can be deleted to remove the assignment. If the service commitments are already invoiced, they must first be ended by chosing a date in the **Service End Date** field.

> [!NOTE]
> Contract lines and service commitments are always identical. If a contract line is edited, the change is automatically applied to the service commitments.

## See also

[Managing contracts, service objects, and services commitments](contracts-services-mgmt.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/price-update
---
title: Update prices
description: You can update prices in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---


# Update prices

Regular price updates for contractually agreed, recurring service commitments are typical in subscription models. With subscription billing, you can easily plan and apply price updates for contractual service commitments.

You can update contract prices in the following ways:

* Increase (or decrease) the price to a percentage.
* Increase or decrease the **Calculation Base %** field by a percentage.
* Update the prices of recurring service commitments with the list prices of the items.

You can filter the contract lines to update to all fields on the contract, service commitment, and service objects. You can use templates to:

* Save the filters and price update methods.
* Define when the price update is to take effect, until when contract lines are to be included.
* Define how long the price isn't to change after the update (price binding agreement).

On the **Contract Price Update** page, a price update proposal is created with the selected template. There, you can check all proposed price updates. Group the proposal lines by contract or customer to make the easier to review. Afterwared, you can apply all price updates.

Future planned price updates don't take effect immediately. A price increase on 01.01. should not change the price in December. Planned service commitments are created specifically for this purpose. The planned price update can be displayed, but it doesn't require any manual action. The price update takes effect automatically when the contract line is invoiced to the cut-off date.

If a period in which a price update was applied is credited, the price  automatically resets to the original price. At the same time, a planned service commitment is created, which saves the reset price update. If the period is invoiced again, the price update is re-applied. In this way, the prices of the periods are retained. Invoices and credit notes can be created with the original amounts.

## Templates

Use the **Contract Price Update** page to create price update proposals. To create a proposal, you must use a price update template. To access the list of templates, use the **Price Update Template** field.

### Filters

You can use templates to filter service commitments. The **Partner** specified in the template determines whether vendor contracts or customer contracts are included in the price update. Use the **Contract filter**, **Service filter**, and **Service Object filter** fields. Choose a field to opens the filter page.

> [!NOTE]
> When you create price update proposals, some filters are applied automatically:
>
> * Service commitments where the **Usage Based Billing** toggle is on aren't included.
> * Only service commitments with the **Invoicing via** field set to **Contract** are included.
> * Contract lines that are **Closed** aren't included.
> * Contract lines marked with **Exclude from Price Update** aren't included.

In addition to these automatic filters, we recommended that you enter `<>''` (not equal to empty) in the **Contract** service commitment filter. This settings prevents service commitments that aren't assigned to a contract, or have been deleted from the contract after being invoiced completely, from being included in the price update. The **Closed** field only exists in the contract lines. Accordingly, the automatic filter doesn't apply in these cases.

We also recommend that you exclude service commitments with the **Discount** toggle on in the service commitment filter. Discounts can be changed with the price update, if needed. However, this procedure is rather unusual.

If you want to exclude service commitments with a limited term that could potentially be the subject of contract renewal, filter service commitments for an empty **Service End Date**.

You might need to change filters after you change the template. For example, if a customer contract is filtered and the partner is changed to **Vendor**, the filter remains on the customer contract. When you create a proposal is created, no services are found as there are no services with partner **Vendor** in a customer contract.

### Price update method

There are three **Price Update Methods**:

* **Price by %**

   Increases or decreases the price of the contract lines by the percentage in **Update Value %**. The use of negative values is possible. A price update of 2% for a contract line with a price of 100,-, will increase the price to 102,-.
* **Calculation Base by %**

   Sets the **Calculation Base %** field to the value in **Update Value %**. A price update to 20% sets the **Calculation Base %** field to **20%**. With a filter on the old **Calculation Base %** field value, you can increase the percentages of all service commitments to the new value with just a few clicks.
**Recent Item Price**

   Updates the **Calculation Base %** field in the service commitments with prices from the **Sales Price List** page. The prices for the service commitments are determined for the items in the service objects and the date in **Perform Update on** field. Price updates planned for the future get the prices planned in the sales price list. The discount percentage in the sales price list is not taken into account in the query, because they're are often agreed on individually with customers.

> [!IMPORTANT]
> If a price would be set to zero or become negative due to a price update, a proposal line isn't created for the service commitment.

### Perform update on (Dateformula)

The dateformula presets **Perform Update on** field on the **Contract Price Update** page. The date in the **Perform Update on** field determines when the price update should take effect. However, price updates can't take effect on any date. The price for periods already invoiced can't, and shouldn't be changed. Accordingly, the price change won't take effect until a later date. The price update takes effect on the last day of the last invoiced period. This means that the old price applies to the period already invoiced and the new price applies to the subsequent period that hasn't been invoiced. This avoids unnecessary discrepancies in billing and credit notes.

The same applies to periods that you haven't invoiced. For example if the date in the **Perform Update on** field is 15.01., then all days up to 15.01. must be charged at the old price. To learn more, go to [Update contract price](#update-contract-price).

> [!NOTE]
> If the date in the **Perform Update on** field is the same as the date in the **Next Billing Date** and **Next Price Update** fields, the price update applies immediately. In the archived service commitments, **Perform Update on** is saved as **Next Billing Date** minus one day. By placing the price update in the previous period, you can invoice and credit the current period with the new prices without resetting the price update.

### Include contract lines up to date (Dateformula)

The dateformula presets the date in the **Include Contract Lines Up To Date** field on the **Contract Price Update** page. The date in the **Include Contract Lines Up To Date** field is compared with the date in the **Next Price Update** field in the service commitments to determine whether the service commitment is eligible for a price update.

In each service commitment and contract line, the **Next Price Update** field indicates when you can apply the next price update. This displays the end of the price binding periods and prevents the price from being changed several times in succession by mistake.

The **Next Price Update** field is calculated from the **Service Start Date** and the **Price Binding Period** on the service commitment package line when the service commitment is created. In the event of a price update, the **Next Price Update** date recalculates with the **Price Binding Period** from the template and changed in the service commitment.

> [!NOTE]
> You can change the **Next Price Update** date manually at any time. The price of a service commitment can be changed at any time, regardless of the **Next Price Update** date.
> If a service commitment isn't eligible for a price update according to **Next Price Update**, a proposal line isn't created.

### Price binding period

The **Price Binding Period** determines how long the service commitment shouldn't be taken into account after a price update. If the price is only to increase one time within the a year, enter the Dateformula *1Y*. When the price update happens, the **Next Price Update** field is automatically changed in the service commitment. The new date in the **Next Price Update** field is calculated from from the **Perform Update on** plus **Price Binding period** fields. For example, 31.12.2023 + 1Y = 31.12.2024.

### Grouping

The **Grouping** determines how lines display on the **Contract Price Update** page. The price update proposals can display ungrouped, grouped by contract. or grouped by customer.

## Update contract price

Proposals for price updates can be created, checked, and carried out on the **Contract Price Update** page. To create a proposal, fill in the **Price Update Template**, **Include Contract Lines Up To Date** and **Execute update on** fields.

### Create proposal

The **Create proposal** action creates proposal lines for all service commitments in the filter. Each line contains the current price, amount, calculation base percentage, and the new values and the difference between the two. You can personalize the page to add fields such as **Calculation Base %**, **Quantity**, **Discount %**. When created, **Perform update on** and **Next Price Update** are entered in each proposal line. This means that you can extend the proposal with further templates before the price updates are applied.

If filtering the service commitments in a template is too complex or not possible, we recommend using several templates. The templates can be selected one after the other in order to add the additional service commitments to the proposal in the new template. For example, to specify that prices in service commitments younger then xx.xx. increase by 2%, but older service commitments only increase by 1%.

> [!IMPORTANT]
> A maximum of one proposal line is created per service commitments and it is not updated when the **Create proposal** action is used again. If the service commitment is the subject of several templates, the proposal for the price update from the first template is retained and is not overwritten by subsequent templates. This also applies to the **Perform Update on** and **Next Price Update** fields.

Proposal lines are proposals for a price update. No update of the service commitments or contract lines has been done at this point. Based on the data, the proposal might differ from the actual update in regards to the **Perform Update on** date. You can set a date in the past for **Perform Update on**. However, the price in periods already invoiced won't change.

If a planned service commitment has **Price update** or **Contract extension** selected in the **Type of update** field, a proposal line isn't created for the service commitment. The planned service commitments would overwrite the price update in any case. It would come down to the sequence of execution, which is avoided at this point of time. A price update and contract renewal are potentially binding agreements, which is why the combination is currently avoided when you run the **Create Proposal** action.

### Delete proposal lines

The template used to create the proposal line is saved in the line. you can delete the selected or all proposal lines, and the lines that were created with a specific template. This is particularly helpful if, for example, the **Perform Update on** date was set incorrectly.

Use the **Delete Line** action to delete all selected lines. The **Delete Proposal** action opens a page that asks whether the entire proposal or only the lines belonging to the current template should be deleted.

Heading lines are automatically deleted if there are no more related proposal lines.

### Perform price update

Use the **Perform price update** action to apply the price update and delete all proposal lines afterwards. If the price update can apply immediately, the following fields are updated in the service commitment and contract lines:

* Calculation Base %
* Calculation Base
* Discount %
* Price (is recalculated from Calculation Base Amount and Calculation Base %)
* Service Amounts (recalculated from price and quantity)
* Next Price Update
* Price Binding Period

Changes that were made to these fields in the meantime are overwritten. Changes made to other fields are retained.

If the price update can't apply immediately, planned service commitments are created. The price update can potentially not be applied immediately for the following reasons:

* There are billing lines for a contract line.

   The price update never intervenes in the current invoice run.
* There is an unposted invoice or credit note.

   The price update does not change any documents.
* **Next Billing Date** is before **Next Price Update**.

   If the **Next Billing Date** is before **Next Price Update** (for example, 22.11.2023 is before 31.12.2023), there is a period that must be invoiced with the old price.

The planned service commitment is a copy of the service commitment with a few differences. The fields that are overwritten immediately are taken from the proposal line. In addition, the dates in the **Perform update on**, **Perform update on**, and **Price Binding Period** fields are copied from the proposal line. The planned service commitment is created with **Price update** in the **Type of update** field.

> [!NOTE]
> In the **Planned Service Commitments** list, use the **Type of Update** field to filter to get a list of price updates that were created or performed but aren't yet in effect.

The price update of the planned service commitments is automatically applied as soon as possible. When contract invoices are posted, [!INCLUDE [prod_short](../../includes/prod_short.md)] checks whether there are planned service commitments for the contract lines invoiced and whether it can apply their price updates. If an invoice is posted, there can no longer be any billing lines or unposted documents.
The only remaining condition is that you must invoice the service commitments until the date in the **Next Price Update** field. The date in the **Next Billing Date** field must not be before the date in the **Next Price Update** field. If this condition is met, the same fields are updated in the service commitment as when the price update is applied immediately.

An archived service commitment is created for every applied price update.
The archived service commitment is a copy of the service commitment before the price update with some differences worth mentioning.

The date in the **Perform update on** field corresponds to the date in the **Next Billing Date** field minus one day. Regardless of the original **Perform update on** date, the update was performed at the end of the last invoiced period and is valid with the new period. Archiving exactly when the price update actually came into effect is essential for maintaining period-accurate prices. If the last period is credited, the price update must be canceled in order to be able to use the prices of the last period. The **Type of update** is set to **Price update** on the archived service commitment.

> [!IMPORTANT]
> If the date in the **Perform Update on** field is before the date in the **Next Price Update** field, the price update can still be applied if the service commitment has been invoiced until or beyond **Next Price Update**. The **Perform Update on** date is changed to **Next Billing Date** - 1D in the archived service commitment because the price update only came into effect at the end of the last period. In this case, the decisive factor as to whether the price update can be applied is that the complete period for which the old price applies is invoiced.

If the price update wasn't applied, due to existing billing lines or unposted invoices (planned service commitments created), the price update won't be applied if the invoice or billing lines are deleted. The price update in the planned service commitments is only applied when an invoice is posted.

**Example 1**

The price update can take effect immediately.

|Type|Next Billing Date|Next Price Update|Perform Update on|Price Binding Period|Price|
|:--|:--|:--|:--|:--|:--|
|Service commitment before price update|01.01.2024|31.12.2023|-|1Y|Old|
|Proposal Price update|-|31.12.2024|31.12.2023|1Y|Neu|
|`Immediate execution`|||31.12.2023 equal to or after 31.12.2023||
|Service commitment after price update|01.01.2024|31.12.2024|-|1Y|New|
|Archived service commitments|01.01.2024|31.12.2023|31.12.2023|1Y|Old|

> [!IMPORTANT]
> The price update wouldn't have happened if the **Perform update on** date was 02.01.2024. The **Next Billing Date** field describes the next day that can be calculated, which includes this day. This means that 01.01.2024 would have to be invoiced at the old price before the price update can take effect.

**Example 2**

The price update can't take effect immediately. A planned service commitment is created to save the price update and apply it later automatically (when posting an invoice as soon as the conditions are met).

|Type|Next Billing Date|Next Price Update|Perform Update on|Price Binding Period|Price|
|:--|:--|:--|:--|:--|:--|
|service commitment before price update|01.01.2024|31.12.2023|-|1Y|Old|
|Proposal Price update|-|31.12.2024|15.01.2024|1Y|Neu|
|`Planned service commitments necessary`|||01.01.2024 is before 15.01.2024||
|`Planned service commitment|01.01.2024|31.12.2024|15.01.2024|1Y|New|
|`Invoice 01.01.2024 - 31.12.2024`||||Old|
|Service commitment after price update|01.01.2025|31.12.2024|-|1Y|New|
|Archived service commitments|01.01.2025|31.12.2024|31.12.2024|1Y|Old|

> [!IMPORTANT]
> Price updates and the date in the **Perform Update on** field in planned service commitments don't affect the invoicing of service commitment. The price update applies automatically after invoicing as soon as this is possible.

The **Next Price Update** date won't adjust to the changed date when the price update actually came into effect.

## Reset price update / credit memo

Regardless of price updates, a credit memo is always created with the same amount as the invoice. In addition, price updates reset to ensure that prices stay correct in each period.

When a contract invoice is credited, [!INCLUDE [prod_short](../../includes/prod_short.md)] checks whether a price update happened in the credited period. If a price update happened, it resets.

Price updates never take effect in the middle of invoiced periods. A service commitment is calculated at exactly one price. If a price update falls within the invoice period, it won't take effect until after the invoiced period.

**Example**

The date in the **Perform Update on** field is 15.01.2024.
Invoice 01.01.2024 - 31.01.2024.
The period 01.01. - 14.01.2024 must be invoiced at the old price. Because price updates don't affect invoicing, the entire period is invoiced at the old price.
The price update take effect at the end of the invoiced period (31.01.2024).

When this invoice is credited again, the date in the **Next Billing Date** field will again be 01.01.2024. On this date, the old price was originally valid and the price update hadn't come into effect. The price update is canceled and the original prices as of 01.01.2024 are restored. The contract invoices can be issued with the original prices.

When the price update is withdrawn, a planned service commitment is created at the same time, which reapplies the price update (31.01.2024) when the period is invoiced again.

The planned service commitment that is created together with a credit memo has the date 31.01.2024 in **Perform update on** in the example above. The reason for this is that the price update did not actually come into effect until 31.01.2024 and only applies to the next period. For **Perform Update on**, the **Next Billing Date** after the invoice is never used, as otherwise the price update would be incorrectly canceled in the following period.

**Example**

The date in the **Perform Update on** field is 15.01.2024.
Invoice 01.01.2024 - 31.01.2024
Archived service commitment **Perform Update on** 01.02.2024
Invoice 01.02.2024 - 29.02.2024 (new price applies without restriction for the period)
Credit Memo --> The price update shouldn't be canceled.

If prices were edited manually, they're used when the price update is canceled and re-applied. In this case, however, it's more difficult to trace the steps using archived and planned service commitments.

If the prices were changed after the credit memo, the price update overwrites them.

The price update can be canceled/deleted after the credit memo by deleting the planned service commitments.

## See also

[Currencies](../sales/dealing-with-currencies.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/period-calculation
---
title: Period calculation
description: Learn about calculating periods in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Period calculation

**Period calculation** controls how a period is determined for invoicing. Billing for a period length of one month works smoothly with subscription billing. However, if the start of the billing period is within the last three days of a month, the length of the month and the following month are not considered.

A contract invoice issued for one month from February 28th (no leap year) ends with the standard calculation in [!INCLUDE [prod_short](../../includes/prod_short.md)] on March 27th (+ 1M - 1D). However, a recurring billing from the last day of a month should extend to the final day of the following month to represent a full month.

To accommodate this, there is a choice to calculate periods using the standard method in [!INCLUDE [prod_short](../../includes/prod_short.md)] or the subscription billing method. The period calculation with the **Align to Start of Month** option uses the standard method in [!INCLUDE [prod_short](../../includes/prod_short.md)], whereas **Align to End of Month** uses a different method.

For all recurring billings, the **Align to End of Month** is generally recommended. It can be set as a default on the **Service & Contracts Setup** page.

## Align to Start of Month​

The calculation of a month with the **Align to Start of Month** option as the period calculation in the contract line uses the standard date calculation in [!INCLUDE [prod_short](../../includes/prod_short.md)].

## Calculation of the period​

When calculating a month, the start date plus one month minus one day (CM-1D) is used to calculate the end of the period. For the calculation of two months, the start date plus two months minus one day (CM+1M-1D) is used to calculate the end of the period.


|1M - 1T   |2M - 1T   |1Q - 1T  | 1Y-1T  |
|---------|---------|---------|---------|
|28.01.24 - 27.02.24  |  28.01.24 - 27.03.24 |  28.01.24 - 27.04.24 | 28.01.24 - 27.01.25         |
|29.01.24 - 28.02.24      | 29.01.24 - 28.03.24         |  29.01.24 - 28.04.24        |   29.01.24 - 28.01.25       |
|30.01.24 - 28.02.24      |  30.01.24 - 29.03.24        |   30.01.24 - 29.04.24       |   30.01.24 - 29.01.25       |
|31.01.24 - 28.02.24      |  31.01.24 - 30.03.24        |  31.01.24 - 29.04.24        |   31.01.24 - 30.01.25       |
|29.02.24 - 28.03.24      |  29.02.24 - 28.04.24        |  29.02.24 - 28.05.24        |    29.02.24 - 27.02.25      |

## Price calculation​ 

The value of the **Billing Rhythm** field is not taken into account when calculating the price. The billing rhythm determines the cycle in which a contract line is invoiced (billing period) if no manual intervention is made. The price of a billing line is calculated based on the **Price and Billing Base Period** field in the service commitment or contract line and the **Billed Base Period** field. 

If the invoiced period is a multiple of the billing base period, the price is multiplied accordingly.

* Monthly price = 100 (Price = 100 and Calculation Base Period = 1M) 

|1M - 1T  |Price  |2M - 1T  |Price  |1Q - 1T  |Price  |1Y - 1T  |Price  |
|---------|---------|---------|---------|---------|---------|---------|---------|
|28.01.24 - 27.02.24      |  100       |   28.01.24 - 27.03.24       |  200       |28.01.24 - 27.04.24      |     300    | 28.01.24 - 27.01.25         | 1200        |
|29.01.24 - 28.02.24      |    100     |    29.01.24 - 28.03.24      |     200    |29.01.24 - 28.04.24      |     300    |     29.01.24 - 28.01.25     |   1200      |
|30.01.24 - 28.02.24      |   100      |    30.01.24 - 29.03.24      |    200     |30.01.24 - 29.04.24      |     300    |  30.01.24 - 29.01.25        |   1200      |
|31.01.24 - 28.02.24      |    100     |   31.01.24 - 30.03.24       |    200     |31.01.24 - 29.04.24      |     300    |    31.01.24 - 30.01.25      |    1200     |
|29.02.24 - 28.03.24      |   100      |  29.02.24 - 28.04.24        |   200      |29.02.24 - 28.05.24      |    300     |    29.02.24 - 27.02.25      |   1200      |

If periods are invoiced that do not correspond to a multiple of the billing base period, days (as the next smaller unit) are always used for the price calculation. Depending on the calendar month and the billing base period, a different number of days is used as the basis. In a calendar year that is not a leap year, the number of days is 31 in January, 28 in February, and 90 in the first quarter (01.01.25 - 31.03.25).

Price of the Billing lines=∑1nPrice of Contract lines.
Number of days in the started period∗Days to be invoiced in the started period.
Price of the Billing lines=1∑n​Number of days in the started period.
Price of Contract lines​∗Days to be invoiced in the started period.


|Start - End  |Price  |Billing Base Period  |Billing Rhythm  |Invoiced Period  |Price of the Billing Lines  |
|---------|---------|---------|---------|---------|---------|
|01.01.2023 - 15.01.2023  |   100.00  |  1M  |  1Y  |  15 out of 31 days |   100/ 31 * 15 = 48.387       |
|01.02.2023 - 14.02.2023  |   100.00  |  1M  |  1Y  |   14 out of 28 days    | 100 * 14 / 28 = 50.00 |
|01.01.2023 - 14.02.2023  |  100.00   |  1M  |   1Y |  1M + 14 days  |  100/ 31 * 31 + 100 * 14 / 28 = 150.00  |
|31.01.2023 - 01.03.2023  |   100.00  |  1M  |  1Y  |  1M + 2 days  |  100.00 + 100.00 * 2/ 28 = 107.143  |
|01.01.2023 - 14.01.2023  |   100   |  1Q |  1Y     | 14 out of 90 days | 100/ 90 * 14 = 15.556  |
|01.01.2023 - 14.04.2023  |   100   |  1Q |  1Y     |  1Q + 14 out of 91 days  | 100/ 90 * 90 + 100 * 14 / 91 |
|28.02.2023 - 14.06.2023  |   100   |  1Q |  1Y  | 1Q + 18 out of 92 days  |  100/ 92 * 92 + 100 * 18 / 92 = 119.565 |

The price of a contract line is based on the period length in billing base period (for example, one month). *n* corresponds to the number of periods included. In the third example, one and a half months are invoiced (whole of January + half of February). Accordingly, the price for January and February is calculated separately and then added up. 
01.01.2023 - 31.01.2023 is a whole month. The price is 100.00 for the month.
01.02.2023 - 14.02.2023 are 14 days. A whole month would be 28 days (01.02.2023 - 28.02.2023). The price for the second month is therefore calculated pro rata: 14 / 28 * 100 = 50.00.
The price for the entire period invoiced corresponds to the sum of the partial periods: 100.00 + 50.00 = 150.00 

## Align to End of Month​

If the service start date and the next billing date are within the last three days of a month, the period is determined from the end of the month. This means that a contract line that is invoiced from the last day of a month, for one month, is invoiced up to the penultimate day of the following month. This happens regardless of how long the respective months are. This type of period calculation guarantees that the 13th monthly invoice starts on the same day (one year later). Apart from that, this type of period calculation works in the same way as align to start of month. For example, the next billing date determines the first day of the next billing.

* Monthly price = 100.00 (Price = 100.00 Billing Base Period = 1M)

|1M - 1T  |2M - 1T  |1Q - 1T  |1Y - 1T  |
|---------|---------|---------|---------|
|28.01.24 - 27.02.24      |   28.01.24 - 27.03.24       |    28.01.24 - 27.04.24      |  28.01.24 - 27.01.25        |
|29.01.24 - 26.02.24      |   29.01.24 - 28.03.24       |   29.01.24 - 27.04.24       |   29.01.24 - 28.01.25       |
|30.01.24 - 27.02.24      |  30.01.24 - 29.03.24        |   30.01.24 - 28.04.24       |  30.01.24 - 29.01.25        |
|31.01.24 - 28.02.24      |   31.01.24 - 30.03.24       |   31.01.24 - 29.04.24       |  31.01.24 - 30.01.25        |
|29.02.24 - 30.03.24      |   29.02.24 - 29.04.24       |   29.02.24 - 30.05.24       |   29.02.24 - 27.02.25       |

## Calculation of prices​

The price calculation is carried out using exactly the same logic. Only the period lengths are potentially different.

* Monthly price = 100.00 (Price = 100.00 Billing Base Period = 1M)

|1M - 1T  |Price  |2M - 1T  |Price  | 1Q - 1T  |Price  | 2Y - 1T  |Price  |
|---------|---------|---------|---------|---------|---------|---------|---------|
|28.01.24 - 27.02.24      |   100      |  28.01.24 - 27.03.24        |   200      |28.01.24 - 27.04.24     |    300     |   28.01.24 - 27.01.25       |   1200      |
|29.01.24 - 26.02.24      |    100     | 29.01.24 - 28.03.24         |   200      |29.01.24 - 27.04.24     |   300      |    29.01.24 - 28.01.25      |    1200     |
|30.01.24 - 27.02.24      |  100       |   30.01.24 - 29.03.24       |    200     |30.01.24 - 28.04.24      |    200     |   30.01.24 - 29.01.25       |   1200      |
|31.01.24 - 28.02.24      |   100      |  31.01.24 - 30.03.24        |     200    |31.01.24 - 29.04.24      |  200       |  31.01.24 - 30.01.25        |   1200      |
|29.02.24 - 30.03.24      |   100      |   29.02.24 - 29.04.24       |    200     |29.02.24 - 30.05.24      |   300      |  29.02.24 - 27.02.25        |   1200      |

Price of the Billing lines=∑1nPrice of Contract lines.Number of days in the started period∗Days to be invoiced in the started period.Price of the Billing lines=1∑n​Number of days in the started period.Price of Contract lines​∗Days to be invoiced in the started period.

|Start - End  |Price  |Billing Base Period  |Billing Rhythm  |Invoiced Period  |Price of the Billing Lines  |
|---------|---------|---------|---------|---------|---------|
|R01.01.2023 - 15.01.2023      |    100,-     | 1M        |  1J       | 15 out of 31 days  | 100/ 31 * 15 = 48.387  |
|01.02.2023 - 14.02.2023      |    100.00     | 1M        |  1Y       | 14 out of 28 days  | 100 * 14 / 28 = 50.00  |
|01.01.2023 - 14.02.2023 | 100.00 | 1M        |  1Y       | 1M + 14 days  | 100/ 31 * 31 + 100 * 14 / 28 = 150.00  |
|31.01.2023 - 01.03.2023      |  100.00       | 1M        |  1Y       | 1M + 2 days  | 100 + 100 * 2/ 28 = 107.143  |
|01.01.2023 - 14.01.2023      |  100       |   1Q   |  1Y  | 14 out of 90 days  | 100/ 90 * 14 = 15.556  |
|01.01.2023 - 14.04.2023  |  100.00 | 1Q  |  1Y  | 1Q + 14 out of 91 days  | 100/ 90 * 90 + 100 * 14 / 91 = 115.385  |

## Leap year​

The period calculation works almost the same in leap years as in normal years. The only difference is that 29.02. is the last day in February.

29.02.2024 - 30.03.2024 corresponds to one month. 29.02.2024 is the last day of February and 30.03.2024 is the penultimate day of March.

## See also

[Customer contracts](customer-contracts.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/customer-contracts
---
title: Customer contracts
description: You can use customer contracts in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Customer contracts

Customer contracts represent obligations to customers. The structure of contracts is similar to sales orders. On the **Customer Contract** page, the fields on the **General** FastTab contain information about the contractor, such as their contact person. The lines contain information about the billing of the components of the contract.

On the **Shipping and Billing** FastTab, you can specify ship-to and bill-to recipients for the contractor.

* **Alternate shipping address** or **Custom Address** for the **Ship-to** address.
   In the context of a contract, another word for *shipment recipient* could be *service recipient*. For example, you can use this concept in a partner model to record the end customer of the partner. Therefore, the ship-to information also serves as a visual indicator when assigning new contract elements. To learn more, go to [Assign service commitments to a customer contract](#assign-service-commitments-to-a-customer-contract).
* **Custom Address** or **Another Customer** for the **Bill-to** address.
   Similar to sales orders, a deviating invoice recipient can be entered here. This is taken into account when creating the contract invoices.

> [!NOTE]
> Contracts are available in the **Sell-to Customer Sales History** FactBox on the the **Customer Card**, **Vendor Card**, and **Contact Card** pages. Choose the respective cue to open an overview.

## Overview of the process for creating a customer contract

The following are the high-level steps to create a contract for a customer.

1. [Enter basic settings](#create-a-new-customer-contract).
2. [Assign service commitments](#assign-service-commitments-to-a-customer-contract).
3. [Create invoice per contract](#create-invoice-per-contract).

### Create a new customer contract

On the **Customers** page, use the **Contract** action to quickly create a new customer contract. The contact data for the customer transfers to the new contract.

To create a contract, follow these steps:

1. Choose the :::image type="content" source="../../media/ui-search/search_small.png" alt-text="Tell me what you want to do icon."::: icon, enter **Customers**, then choose the related link.
2. Select the customer, and then choose the **Contract** action.
3. Optionally, fill in the **Contract Type** and **Description** fields. To learn more about contract types, go to [Contract types](../setup/contract-types.md).
4. In the **Assigned User ID** field, choose the employee who's responsible for the contract.
5. If needed, change the values in the **Currency Code**, **Payment Terms Code**, and **Payment Method Code** fields on the **Invoice Details**. The values were copied from the customer in step 1.
6. Select whether a **Detail Overview** is to be output for invoices.
7. On the **Shipping and Billing** FastTab, verify the values in the **Ship-to** and **Bill-to** fields.
8. The next step is to assign service commitments. To learn more, go to [Assign service commitments to a customer contract](#assign-service-commitments-to-a-customer-contract).  

> [!TIP]
> You can use the **Contract Type** and **Assigned User ID** fields as filters in subscription billing to bill contracts separately based on type and clerk.

There are two ways to add service commitments to a contract. You can assign service commitments from released orders using the **Get Service Commitments** action on the customer contract, or you can also extend the a contract, if needed. To learn more, go to [Extend contract](#extend-contract).

### Assign service commitments to a customer contract

To bill service commitments, you must assign them to a contract. On the **Customer Contract** page, use the **Get Service Commitments** action to assign service commitments. The **Services Commitments without Customer Contract** page displays the service commitments for the customer that you invoice through a contract, but aren't yet assigned to a contract. The service commitments that display are based on the customer on the service object. To learn more, go to [Service objects](service-objects.md). When you open them in a contract, the **Contract No.** field is predefined in **Assign to Contract No.** on the service commitment.

If the **Ship-to Name** is the same in the service object and the contract, the field value displays in bold.

> [!TIP]
> You can also open the **Services Commitments without Customer Contracts** page by using the **Service Commitments without Contracts** part on the **Subscription & Recurring Billing** Role Center, or by using TellMe search. In this case, the service commitments aren't filtered and the contract number isn't predefined.
>
> In addition to the **Subscription & Recurring Billing**, the part is also available on the **Company Hub**, **Business Manager**, **Service Manager**, **Sales Order Processor**, **Project Manager** and **Sales & Relationship Manager** Role Centers.

When the service commitments in a contract transfer, contract lines are created with the content of the service commitments. Changes to contract lines transfer to the service commitments. The **Quantity** field displays the quantity of the related service object.

> [!NOTE]
> If an alternate ship-to party isn't entered in the contract when the first service is assigned to a customer contract, the contract uses the ship-to party assigned to the service object. This assignment makes it easier to create a contract when you map a partner model.
>
> Service commitments are usually created automatically when you post the shipment in the sales order. The requirement is a corresponding setup in the item or service commitment package.

> [!TIP]
> Editing contract lines instead of service commitments in the individual service objects makes work easier. Because the content of service commitments that are billed together are usually similar, making them part of the same contract can make it easier to access and edit them from the contract.

> [!CAUTION]
> You can only manually enter text lines on contract lines. Text lines are used as internal notes for the person processing the contract. The basis for billing is always a service commitment.

The next step is to create invoices for the contract.

## Create invoice per contract

In subscription billing, you typically create contract invoices from the **Recurring Billing** page. To learn more, go to [Recurring billing](../recurring-billing.md). Recurring billing is designed to generate billing proposals in batch. In addition, several options are available for creating posting documents, such as collective invoices. To learn more, go to [Posting documents](../posting-documents.md).

However, it might also be useful to create a contract invoice for a contract that you're working on, without first creating a billing proposal. In that case, you can use the **Create contract invoice** action on the **Customer Contracts** and **Customer Contract** pages. You can specify the key date for billing in the **Billing Date** field, and, optionally, the date up to which billing is to take place in the **Billing To** field. In addition, you can specify the **Document Date** and the **Posting Date** for the posting documents to create. If you turn on the **Open document** toggle, the created document opens. Optionally, you can turn on the **Post document** toggle to post the created document directly. Except for **Billing To**, all fields are predefined with the work date specified on the **My Settings** page.

> [!NOTE]
> Creating a contract invoice as described here is only useful in individual cases.

## Details for contract invoices

On the **Customer Contract** page, on the **Invoice Details** FastTab, the **Detail Overview** field controls whether invoices automatically contain billing details. You can specify whether the details should include prices. This field also serves as a criterion when you create collective invoices, and must have the same value for all contracts to combine.

The **Contractor Name in collective Invoice** and **Recipient Name in collective Invoice** fields determine whether and which customer names to transfer to collective invoices. When you create a new customer contract, the **Origin Name for collective Sales Invoice** field is filled in by the invoice details. To learn more, go to [Invoice details](../setup/general.md#invoice-details). However, you can also set this per contract.

## Extend contract

If you want to extend a contract with an additional component, use the **Extend Contract** action on the **Customer Contract** page. The action creates a service object and assigns the related service commitments to a customer and/or vendor contract.

The **Extend Contract** page has three FastTabs. On the **Vendor** FastTab, use the **Vendor Contract No.** field to select the vendor contract for the vendor-side service commitments. The field is only editable if you turn on the **Extend Vendor Contract** toggle. The **Customer** FastTab is similar. On the **Item** FastTab, in the **Item No.** field, specify the item that corresponds to the new contract element. You can also fill in the **Quantity** and **Provision Start Date** fields. The AssistEdit :::image type="content" source="../../media/assist-edit-icon.png" alt-text="AssistEdit icon."::: for the **Additional Service Commitments** field lets you specify optional service commitments for the selected item.

The **Extend Contract** page is slightly different, depending on how you open it. The values from the last time you opened it display the next time you open it. When you open it from the **Customer Contract** or **Vendor Contract** pages, the **Customer** or **Vendor** FastTabs shows information about the customer or vendor.

You can also open the page from the menu. In this case, the values of the last call are also used as default values. However, the **OK** button isn't available to run the action. To run the action, use the **Perform Extension** action. The **Perform Extension** action isn't available when you open the page from a customer or vendor contract.

## Invoice discounts

To learn more about mapping lump sum discounts for an entire contract, go to [Invoice discounts](contracts-services-mgmt.md#invoice-discounts).

## Closed contract lines

After you specify a service end date for a contract line, either manually or by using the [Job queue](../setup/job-queue.md), you can't bill the line. Lines that are ended don't display in the default view of the contract. However, on the **Customer Contract** page, the lines display on the **Closed Lines** FastTab. For example, if needed, you can use this information to recreate them on a contract.

With the exception of the **Closed** checkbox, you can edit fields on closed lines. If you clear the checkbox, the line moves back to the **Lines** FastTab and is editable. Then, for example, you can adjust the service end date. If you don't make a change, the line moves back to the **Closed Lines** FastTab the next time you use the **Update Service Dates** action. To learn more about updating cancellation dates and deadlines and ending contract lines, go to [Termination of contract components](service-commitment-cancellation.md).

## Merge contract lines

Over time, a customer might purchase similar or identical service commitments. For example, if they purchase additional users for an existing license. To invoice these service commitments together, on the **Customer Contract** card, select the lines, and then use the **Merge Contract Lines** to combine these service commitments.

You can only merge contract lines if all lines meet the following criteria:

* No billing proposal lines exist for any of the service commitments.
* The dimensions are identical.
* The end user details are identical.
* The items of the service objects are identical.
* The **Customer References** of the service objects are identical.
* Service objects aren't tracked by serial number.
* The **Next Billing Date** is identical. To learn more, go to [Harmonized billing](#harmonized-billing).

> [!NOTE]
> You can't use the action for text lines.

On the **Select Customer Contract line** page, select the contract line on which to combine the selected lines. Afterward, a new service object is created as a copy of the service object of the selected contract line, including service commitments and the total quantity. The service commitments to combine are closed, and the new service is added to the contract. To learn more, go to [Closed contract lines](#closed-contract-lines). In the original service objects, the **Provision End Date** field is set, if possible.

## Harmonized billing

If a customer purchases several service commitments with a longer billing rhythm (for example, 12 months) at different times and invoiced through the same contract, the invoicing date of the services is usually different. If the customer wants to align billing on a billing date, select the **Harmonized Billing Customer Contracts** checkbox on the **Contract Types** page. To learn more, go to [Contract types](../setup/contract-types.md).

If you select this checkbox for the contract type of the customer contract, you can edit the **Billing Base Date** and **Default Billing Rhythm** fields on the **Shipping and Billing** FastTab. When the first service commitment is added to the contract, the fields are predefined based on that data. However, you can change them if needed.

When you create the billing proposal lines, [!INCLUDE [prod_short](../../includes/prod_short.md)] checks whether each service commitment is connected to a contract that uses harmonized billing. If yes, the fields for harmonized billing are considered.

The harmonized billing fields update when when you add, delete, and change service commitments, if applicable.

> [!TIP]
> If you add service commitments with a longer billing rhythm (for example, 12 months) to a contract whose **Next Billing Date** is during the year, and these service commitments (and all those to come) should generally only be billed by the end of the year, you can reset the **Billing Base Date** field to January 1st of the year.

### Special case: Deletion of the first billing proposal

This section describes a special case that requires you to manually intervene.

A contract is to be billed harmonized (for example, per calendar year). Therefore, the **Billing Base Date** in the contract is set to *January 1st* of the current year. Service commitments are added during the course of the first year. If a billing proposal is now created within, and for, the first year and is later deleted, the **Billing Base Date** uses the *oldest* **Next Billing Date** from the contract lines (service commitments). This can't be avoided due to the automatic updating of service commitments and only occurs as long as the contract wasn't billed. After the first billing, the issue no longer occurs. In this case, you must manually reset the **Billing Base Date** to *January 1st* of the current year.

## Related information

You can open related information from the contract. For example, you can access related invoices and credit memos. If the postings in the contract are deferred periodically, use the **Contract Deferrals** action to view them.

For lines, you can use the **Billing Lines** and the **Archived Billing Lines** actions to access related information for the selected line. The **Archived Billing Lines** action opens the posted invoice and credit memo.

## See also

[Contract renewal](contract-renewal.md)  
[Contract deferrals](contract-deferrals.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/contracts-services-mgmt
---
title: Contracts and services management
description: You can manage contracts and services in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Managing contracts, service objects, and services commitments

Contracts, service objects and services are required for recurring billing.

[Service commitments in subscription billing](../masterdata/service-commitments.md) describe the monetary content of agreements with customers and suppliers, as well as termination dates. They can only be created in a [service object](service-objects.md). The service object defines the essential information about the end user and the actual content, which is to be billed on a recurring basis.

## Contracts

Contracts are used to organize service commitments for billing to customers and suppliers. If something is to be invoiced via a separate invoice, this can be set up via a separate contract. service commitments have as **Partners** either *Customer* or *Vendor*. Services Commitments set up as *Customer* will go into Customer Contracts, services set up as *Vendor* will go into Vendor Contracts.

## Overview of the fields in the service commitments and contract lines

* The **Service Start Date** describes the date from which the service commitment is valid and can be invoiced.
* The **Service End Date** is the date the service commitments ends and can no longer be billed. The date can be entered manually when a service commitments is terminated.
* **Planned Service Commitments Exist** shows that a [Contract renewal](contract-renewal.md) has happened for this service commitment, but the renewal is not yet valid because the service commitment has not yet been fully invoiced.
* The **Next Billing Date** indicates the due date of the next billing. The date is automatically recalculated during the billing run. The date is *grayed out* if invoiced to Service End Date.
* The **Calculation Base Amount** is the basis of valuation of the service commitments. When selling an item with additional recurring service commitments, the Calculation Base Amount is the value of the item.
* The **Billing Rhythm** specifies the Dateformula for rhythm in which the service is invoiced. Using a Dateformula rhythm can be, for example, a monthly, a quarterly or a yearly invoicing.
* The **Calculation Base %** is the percentage from the **Calculation Base Amount** which is used to price the service commitment.
* The **Price** is calculated from the **Calculation Base Amount** and the **Calculation Base %**. It is always valid for the entire **Calculation Base Amount**. I.e. it is an annual price if a year is entered in Calculation Base Period and a monthly price if a month is entered in Calculation Base Period.
* The **Discount %** indicates the percentage discount for the service commitments.
* The **Discount Amount** indicates the discount applied to the service commitments.
* The **Service Amount** is the result of the Price, Discount, and Quantity of the Service Object.
* The **Calculation Base Period** indicates the period to which the Service Amount applies. For example, enter 1M if the amount refers to one month or 12M if the amount refers to one year.
**Invoicing via** specifies whether the service is charged recurrently or only stores information about the sale (e.g. for warranty extensions). service commitments with the *Contract* option can be called into contracts and billed recurring.
*The **Partner** specifies whether the service commitments are in Accounts Receivable or Accounts Payable. Accordingly, service commitments can be called into Customer/Vendor Contracts and invoiced via A/P or Sales Invoices.
* The **Contract** indicates the contract through which the service commitments will be billed.
* The **Initial Term** indicates the minimum term of the service commitments. If the Initial Term is filled and no **Subsequent Term** is entered, the **Service End Date** is automatically set to the end of the Initial Term.
*The **Subsequent Term** specifies the duration of the automatic extension after the Initial Term. In addition, it determines the rhythm of updating **Cancellation Possible Until** and **Term Until**. If the field is blank and either the Initial Term or the Notice Period is set at the same time, the Service End Date is automatically set to the expiration date of the Initial Term or the Notice Period.
* **Cancellation Possible Until** indicates the last date for timely cancellation. The date is determined by the **Initial Term**, the **Subsequent Term**, and the **Cancellation Period**. A 12 month Initial Term with a 3 month notice period means that the due date for termination is 9 months. A Subsequent Term of 12 months postpones the deadline by 12 months when the **Cancellation Possible Until** date is reached.

## Invoice discounts

It is possible - permanently or for a limited period - to grant a flat discount (invoice discount) for the entire contract. This can be used, for example, if the customer changes the license model or if a permanent discount on the service commitment is subsequently agreed.

The discount can only be defined in the [Service commitment templates​](../masterdata/service-commitments.md#service-commitment-templates) and the [Service commitment packages​](../masterdata/service-commitments.md#service-commitment-packages). Amounts for service commitment packages that allow discounts act as discounts in billing. The process of creating a service object and billing is identical to the established processes. When creating the billing prosal via [Recurring billing](../recurring-billing.md), billing lines created for contract lines with discounts are created with a negative quantity and therefore a negative Service Amount. This discount amount is subsequently taken into account when posting documents are created.

> [!NOTE]
> A service commitment package in which an invoice discount is defined can only be assigned to items with **Service Commitment Option** chosen in the **Service Commitment Item** field.

Invoice discounts are applicable to both customer and vendor contracts. They're also taken into regards in credit Memos and in contract deferrals.

## See also

[Customer contracts](customer-contracts.md)  
[Vendor contracts](vendor-contracts.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-objects
---
title: Service objects
description: You can use service objects in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Service objects

Service objects represent a history of products sold to a customer. They contain all information related to the delivered item:

* Master data (item number and description).
* Details of the sale (customer, delivery recipient, invoice recipient)
* Quantity, date of provision, and date of next settlement
* All service commitments (sales and service commitments including prices, terms, and cancellation periods).

A service object can be created automatically from a sales order using the shipment. To learn more, go to [Sales process](../sales/sales-service-commitments.md) and [Service Commitments at Items](../masterdata/items.md). When you create a service object on a shipment, the information regarding the end user and the invoice recipient is taken from the order and the delivery. This also includes the **Your Reference** field, which is transferred to the **Customer Reference** field.

Alternatively, you can also enter a service object manually by creating a new record on the **Service Objects** page and filling in the fields on each FastTab. This may be necessary, for example, in the case of a manual transfer of equipment or licenses.

The service object with the associated contract commitments forms the basis for the customer and vendor contracts and their periodic recurring billing. To learn more, go to [Recurring billing](../recurring-billing.md).

> [!NOTE]
> Service objects display on the information pane on the customer, vendor, and contact. A click on the respective cue opens the corresponding overview.

To manually create a service object, the following information is required:

* **No.** can be filled in by a number series.
* **Item No.** defines the device, software, license, user, and so on, that will be billed recurrently. You can only select items with the **Service Commitment Option** set to **Sales with Service Commitments** or **Service Commitment Item**. 
* The **Description** comes from the item, but you can edit it.
* In the **Quantity** field, enter a positive integer to specify the number of devices/licenses whose service commitments you bill recurrently.
* The **End User** FastTab contains information (contact and customer information) about which customers purchased the item and the service commitments. When you create a service object manually, you must specify the customer.
* The **Shipping and Billing** FastTab contains information about the (original) shipment of the product, and whether a different invoice recipient paid for the item. The contact details of the delivery recipient from the sales order are used. You can change the ship-to party if needed in the same way as for sales documents. The other delivery recipient fields update automatically.

As additional information, you can maintain the **Customer Reference**, **Version**, **Provision Start Date**, and the **Provision End Date**, whereby the **Provision Start Date** is automatically entered when the service object is created via the delivery from a sales order.

> [!NOTE]
> If a service object has a customer reference, the reference appears below the corresponding invoice line.

## Service object with serial number

When serial number tracked items are delivered with service commitments, one service object is created for each serial number. The serial number is determined from the item tracking lines for the sales order line and transferred to the service object in the **Serial No.** field. The field on the service object is editable. The quantity in a serial number tracked service object must always be one, and you can't change it. To store a serial number for a service object, an item tracking must be set for the item. Changes can be tracked using archived service commitments. To learn more, go to [Log changes to service commitments](so-service-commitments.md#log-changes-to-service-commitments).

> [!NOTE]
> If service object stores a serial number, this information will appear depending on settings for invoice details. To learn more, go to [Invoice details](../setup/general.md#invoice-details).

## Service object attributes

Attributes let you describe items in detail using any number of criteria. The same is possible for service objects. Two FactBoxes are available for this purpose, both on the card and in the overview.

* The **Item Attributes** FactBox shows the attributes that are stored for the item of the service object.
* The **Service Object Attributes** FactBox shows the characteristics that are specific to a service object. To maintain the specific characteristics of a service object, open the **Service Object Attribute Values** page either via the dropdown menu of the FactBox or by using the **Attributes** action.

You can also define a feature as **Primary**. The primary attribute displays on the **Service Object Card** page on the **General** FastTab. You might need to choose **Show more**. Here, the description of the primary attribute is used as the field name. You can output the primary attribute of a service object when you bill the related service commitments in the contract invoice. To learn about the configuration this requires, go to [Invoice details](../setup/general.md#invoice-details).

For the description of the attributes, you can store translations in a similar way as the standard translations in [!INCLUDE [prod_short](../../includes/prod_short.md)]. To learn more about attributes, go to [Work with item attributes](../../inventory-how-work-item-attributes.md).

## Enter service commitments in a service object

Because you can't manually create service commitments themselves cannot be created manually, an item is required to create service commitments. You must specify an item for the service object. Use the **Assign Service Commitments** action to view the **Service Commitment Packages** with the item's service commitments. The action opens the selection page of the same name, where you can enter a **Service and Calculation Start Date** and select service commitment packages. Only service commitment packages that aren't created as service commitments for the service object are available.

For all selected service packages, the related service commitments are created in the service object and display on the **Services** FastTab. The prices from the item card are used as a basis for the price calculation. If an end user is entered, the prices in the service commitments are updated with the customer-specific prices on demand, if necessary. If the end user is assigned before the service commitments are created, the customer-specific prices are used directly.

> [!NOTE]
> You can delete a service object only if all related service commitments are deleted. If it's possible, the service commitments are also deleted when you delete the service object.

## Quantity change

For service objects whose items aren't configured for item tracking (lot or serial number mandatory), you can change the quantity directly on the service object. The result is a recalculation of the service amounts in the associated service commitments and contract lines.

You can't change the quantity for service objects whose items are configured for item tracking (lot or serial number mandatory). Service objects with lot number tracking retain the quantity from the delivery or the initial entry. You can only create service objects with serial number tracking with a quantity of **1**.

## See also

[Managing contracts, service objects, and services commitments](contracts-services-mgmt.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/vendor-contracts
---
title: Vendor contracts
description: You can use vendor contracts in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Vendor contracts

A vendor contract maps liabilities to suppliers or manufacturers. The structure of vendor contracts is similar to purchase orders. The fields in the **General** FastTab contain information about the contract partner. For example, the supplier's contact person for this contract. The lines contain detailed information about the billing of the components of the contract.

On the **Payment** tab, you can specify a different payee (from the contract partner) in the **Deviating payee** field. Similar to purchase orders, this setting is used when creating the contract invoices.

> [!NOTE]
> Contracts display on the FactBox pane for customers, vendors, and contacts. Choose the cue to open the corresponding overview.

## Create a new vendor contract

Use the **Contract** action on the **Vendors** list page to create a new vendor contract. The action copies the relevant contact information to the contract. Alternatively, enter *vendor contracts* in the TellMe search (*Alt+Q*) and open the list of **vendor contracts**. Use the **New** action to create a new vendor contract.

The procedure for creating a new vendor contract is similar to that for customer contracts. The following steps are necessary to create a contract.

1. Select the vendor.
2. Select the contract type, and enter a short **Description** (both entries are optional). To learn more about contract types, go to [Contract types](../setup/contract-types.md).
3. On the **General** FastTab, in the **Assigned User ID** field, choose the employee who's responsible for the contract. The field is hidden by default, so you might need to choose **Show more**. 
4. If needed, on the **Invoice Details** FastTab, change or fill in the **Currency Code**, **Payment Terms Code** and **Payment Method Code** fields. The details were copied from the vendor in step 1.
5. If needed, on the **Payment** FastTab, in the **Pay-to** field, change the payee.

## Assign service commitments to a vendor contract

To bill service commitments, they must be assigned to a contract. Use the **Get Service Commitments** action (under *Process*) to add new contract lines (service commitments) to the contract. The **Services Commitments without Vendor Contract** page opens. The page lists all service commitments for vendors that you invoice via a contract, but aren't assigned to a contract. When called in a contract, the contract number and the vendor are predefined in the service commitments (in the **Assign to Contract No.** and **Vendor** fields). When you transfer service commitments to a contract, **Contract Lines** are created. The lines reflect the content of the service commitments. Changes to the contract lines are reflected in the service commitments. The **Quantity** field displays the quantity of the related service object.
Alternatively, the **Services without Vendor Contracts** page can also be accessed via the Role Center or via TellMe search (*Alt+Q*). In this case, the contract number and vendor are not predefined.

> [!NOTE]
> You can only transfer service commitments that have the **Vendor** as **Partner** to vendor contracts. Because you can't store a vendor in the service object, you can assign vendor-side service commitments to any vendor contract.

> [!NOTE]
> Service commitments are usually created automatically when the shipment is posted in the sales order. The prerequisite for this is a corresponding setup in the item used or the service commitment package.

## Extend contract

If you want to extend a contract by an additional component, use the **Extend Contract** action. The action creates a service object and assigns the related service commitments to a customer and/or vendor contract.

The page is divided into three sections. In the first part, **Vendor**, use the **Vendor Contract No.** field to select the vendor contract that is to accommodate the (possible) vendor-side service commitments. The field is only editable if **Extend Vendor Contract** is active. The second part of the page, **Customer**, is similar. In the third part, in the **Item No.** field, specify the item that corresponds to the new contract element. You can use the **Quantity** and **Provision Start Date** fields to add more detail. The AssistEdit :::image type="content" source="../../media/assist-edit-icon.png" alt-text="The AssistEdit icon."::: on **Additional Service Commitments** allows you to specify optional service commitments for the selected item.

The page behaves slightly differently, depending on how it's called. Basically, the values of the last call are saved (per user). The settings are used to preset the next time the page is opened. When calling from a customer contract, the **Customer** part is predefined accordingly. The same applies to the **Vendor** part for the call from a vendor contract. In both cases, the contract extension runs when you choose **OK**.

> [!NOTE]
> In addition to the **Contract Card** page, you can also open the page from the menu. In this case, the values of the last call are also used as default values. However, there isn't an OK button to run the action. Instead, use the **Perform Extension** action. This action isn't available when you open the page from a customer or vendor contract.

## Invoice discounts

To learn more about mapping lump sum discounts for an entire contract, go to [Invoice discounts](contracts-services-mgmt.md#invoice-discounts).

## Closed contract lines

If the service end date was entered for a contract line, or it was automatically updated in the [Job queue](../setup/job-queue.md), you can't bill the line. Therefore, ended lines won't display in the default view of the **Contract Card** page. However, the **Closed Lines** FastTab continues to show these lines. You can use the lines at a later date to reconstruct what was once part of the contract.

The fields on a terminated line aren't editable, except for **Closed**. If you clear the checkbox, the line is moved back to the **Lines** FastTab and you can edit it. Then, for example, you can adjust the service end date. If no change is made, the line moves back to the **Closed Lines** FastTab the next time **Update Service Dates** is called. To learn more about updating cancellation dates and deadlines and ending contract lines, go to [Termination of contract components](service-commitment-cancellation.md).

## Merge contract lines

Over time, you might purchase similar or identical service commitments from a supplier. For example, when you buy additional users for an existing license. To invoice these service commitments together, you can use the **Merge Contract Lines** action in the line menu of the vendor contract to combine these service commitments.

Before you use the action, select the contract lines to merged. You can merge contract lines only if all lines meet the following criteria:

* Billing proposal lines don't exist for any of the service commitments.
* The dimensions are identical.
* The end user details are identical.
* The items of the service objects are identical.
* The customer references of the service objects are identical.
* Service objects aren't tracked by serial numbers.
* The next billing date is identical.

However, the following can't be identical:

* Service Objects
    * Quantity
    * Description
    * Provision Start Date
    * Provision End Date
* Service Commitments
    * Description
    * Service Start Date
    * Cancellation possible until
    * Term until

> [!NOTE]
> You can't call the action for text lines.

Use the **Select Vendor Contract line** page to select the contract line on which to combine the selected lines. A new service object (as a copy of the service object of the selected contract line), including service commitments, is created with the total quantity. The service commitments to combine are [closed](#closed-contract-lines), and the new service is added to the contract. In the old service objects, the **Provision End Date** field is set, if possible.

## Create an invoice per contract

Typically, you create contract invoices through recurring billing. To learn more, go to [Recurring billing](../recurring-billing.md). Recurring billing is designed to generate billing proposals in batches. In addition, there are several options for creating posting documents, such as collective invoices. To learn more, go to [Posting documents](../posting-documents.md).

Recurring billing can be useful for creating a contract invoice for a contract that you're working on, without first creating a billing proposal. In this scenario, use the **Create contract invoice** action on the **Vendor Contracts** or **Vendor Contract Card** page. You can specify the key date for billing (**Billing Date**) and, optionally, the date up to which billing is to take place (**Billing To**). In addition, you can also specify the **Document Date** and the **Posting Date** can be specified for the posting document. If the **Open document** checkbox is selected, the document opens immediately. Optionally, you an also choose **Post document** to post the created document directly. Except for the **Billing To** field, all fields are predefined with the workdate. The workdate is defined on the **My Settings** page.

> [!NOTE]
> Creating a contract invoice as described here is only useful in individual cases.

## Related information

You can access related information from a contract, and you can access all invoices and credit memos. You can view **Contract Deferrals** if the postings in the contract are deferred periodically.

Use the **Contract Line** action to display **Billing Lines** and **Archived Billing Lines** for the selected contract line. You can also open **Archived Billing Lines** in the posted invoice and credit memo.

## See also

[Customer contracts](customer-contracts.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/contract-deferrals
---
title: Contract deferrals
description: You can use contract deferrals in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Contract deferrals

In subscription billing, managing the timing of revenue and expense recognition is important. [!INCLUDE prod_short] offers contract deferrals, which allow you to defer customer-side revenues and vendor-side costs to future periods. These amounts aren't posted to revenue or expense accounts at the time of invoicing but are instead posted to accrual accounts and released to income on a monthly basis.

## Prerequisites and setup

When posting a contract invoice, contract deferrals are automatically created if the **Without Contract Deferrals** toggle is off on the contract. Contract deferrals are used for deferred income (customer contracts) or prepaid expenses (vendor contracts).

## Contract deferrals customer contract

Use contract deferrals from customer contracts to defer revenues in sales invoices.

The G/L accounts that are posted to are those that have been defined in posting groups for each combination of general business posting group and general product posting group possible in a business transaction. To learn more, go to [Set up posting groups](../../finance-posting-groups.md). In the customer contract, this is the combination of the customer's general business posting group in the contract header and the general product posting group of the items. To learn more, go to [Service Commitments at Items](../masterdata/items.md).

By default, the account used per combination is the one stored in the **Customer Contract Deferral Account** field in the **General Posting Setup**. However, if the **Without Contract Deferrals** toggle is on on the **Customer Contract** page, the invoice amount is immediately posted as revenue to the account defined in the **Customer Contract Account** field. In this case, contract deferrals aren't created.

### Opening contract deferrals from customer contracts

You can access customer contract deferrals from the **Customer Contract** page using the **Customer Contract Deferrals** action. The **Customer Contract Deferrals** page displays the following details:

* The **Posting Date** indicates per accrual for when it was created. For the first deferral (per document) the posting date of the document is used, for all further deferrals the first day of the respective month is used.
* The **Contract No.** indicates the number of the contract for which the deferrals were created.
* The **Document Type** indicates the document type used to create the deferrals.
* The **Document No.** indicates the document number with which the deferral was generated.
* The **Service Object Description** field contains the description of the associated service object that was invoiced via the document line.
* The **Service Commitment Description** field contains the description of the associated service commitment that was invoiced via the document line.
* The **Bill-to Cust.-No.** is the number of the customer (invoice recipient) for which the deferrals were generated.
* The **Customer No.** is the number of the customer (Contractor) for whom the deferrals were generated.
* The **Discount Amount** field contains the (pro-rata) discount amount of the deferrals.
* The basis for the deferrals for a document is represented in the **Deferral Base Amount** field.
* The **Discount %** field contains the percentage rate associated with the **Discount Amount**.
* The amount per deferrals is displayed in the **Amount** field.
* The **Released** field indicates whether the deferral has already been released.
* The **Contract Type** field displays the contract type of the associated contract.
* The **User ID** field displays the ID of the user who posted the document and thus created the deferrals.
* The **Document Posting Date** field contains the posting date of the document that was used to create the accrual.
* The **Release Posting Date** field contains the posting date on which the accrual was released.
* **Number of Days** displays the days belonging to each deferral.
* **General Ledger Entry No.** contains the number of the G/L item with which the deferral was released.
* The **Entry No.** is assigned when the deferrals are created from the specified number series.

> [!TIP]
> The deferrals to create can also already be checked in the unposted contract invoices via the **Preview Posting**.

## Contract deferrals vendor contracts

Contract deferrals from vendor contracts defer cost in purchase invoices. In the case of post-invoicing (for example, the retroactive calculation of service commitments), on the other hand, postings are always made immediately with an immediate effect on costs. Since the period is already in the past, contract deferrals are not needed here and are not created.

Similar to the customer contract, the G/L accounts to post to are determined using posting groups for the respective business transaction. In the vendor contract, this is the combination of the vendor's general business posting group in the Contract Header and the general product posting group of the item.

By default, the account used is the **Vendor Contract Deferral Account** field in the **General Posting Setup**. However, if the **Without Contract Deferrals** toggle is on on the **Vendor Contract** page, the invoice amount is immediately posted as a cost to the account in the **Vendor Contract Account** field. In this case, contract deferrals aren't created.

### Calling contract deferrals from vendor contracts

You can access vendor contract deferrals on the **Vendor Contract Card** page using the **Vendor Contract Deferrals** action. The **Vendor Contract Deferrals** page is the same as the **Customer contract deferrals** page.

## Methodology for creating contract deferrals

When posting the contract invoice, contract deferrals are created using the following schema:

* The total amount in the **Deferral Base Amount** field is divided among the number of deferrals to be created.
* When the first deferral is created for the billing line, a check is made to see whether the start of the billing period is the first day of a month. If not, the **Amount** is prorated to the day (using **Deferral Base Amount**) based on the first month.
* When the last deferral is created for the billing line, a check is made to see whether the end of the billing period is the last day of a month. If not, the **Amount** is prorated to the day using the **Deferral Base Amount** based on the last month.
* Line discounts are not included in the **Deferral Base Amount**.
* Rounding differences are added to the last deferral created for the invoice line.

## Release deferrals

The **Contract Deferrals Release** batch report is used to release invoice deferrals. This report runs through all contract deferrals (customer and vendor), filters using **Posting Until Date** from the report request page to the **Posting Date** and **Document Posting Date** fields, and reposts the items thus found from the accrual account to the cost or revenue account. The release takes place for debit-side and credit-side contract accruals at the same time. The **Posting Date** field from the report request page is used as the posting date for the closure. At the same time, the status in **Released** field in the contract deferrals is set to **Yes**.
We recommend that you run the release of contract deferrals on a monthly basis (for example, at the end of the month).

When posting the release, the source code is used, which is stored in the **Contract Deferrals Release** field in the **Source Code Setup** page.

> [!NOTE]
> * If deferrals were created by a contract invoice, they are automatically fully released on the **Posting Date of Credit Memo** when the contract invoice is credited.
> * Contract deferrals should not be released to **future periods**.
> * Credit memos should not be posted to **past (supposedly closed) periods**. The release and correction of the contract deferrals occur on the document date of the credit memo. This could distort the reporting and the advance VAT return already created. If the credit memo was posted in past periods, these two points, among others, must be corrected in coordination with the departments (internal financial accounting/tax advisor).

## Dimensions and updates

If a dimension is updated on a contract line for which deferrals exist, it makes sense to update the related deferrals as well, so that subsequent resolution postings use the same dimensions. For this purpose, the action **Update Dimensions in Deferrals** is available in the respective customer or vendor contract. It updates the dimensions in all contract deferrals not yet released for the respective contract. If there are no deferrals for a contract, the action is not available. After the action has been run, the user receives a corresponding message.

## Output of deferrals

To control deferrals and for submissions to auditors, you can export the deferrals to Excel or print them. Use the **Customers Contract Deferrals Analysis** and **Vendors Contract Deferrals Analysis** pages.

## Examples

### Example 1: 1 year, full months

* **Base amount for deferrals:** 1,200.00
* **Start date:** 01.01.2021
* **End date:** 12/31/2021
* **Basis monthly amount:** 1,200.00
* **Number of full months:** 12
* **Monthly amount:** 100,00

|Posting Date|Number of Days|Deferral Base Amount|Amount|
|--|--|--|--|
|01/01/2021|31|1,200.00|100.00|
|01/02/2021|28|1,200.00|100.00|
|01/03/2021|31|1,200.00|100.00|
|01/04/2021|30|1,200.00|100.00|
|01/05/2021|31|1,200.00|100.00|
|01/06/2021|30|1,200.00|100.00|
|01/07/2021|31|1,200.00|100.00|
|01/08/2021|31|1,200.00|100.00|
|01/09/2021|30|1,200.00|100.00|
|01/10/2021|31|1,200.00|100.00|
|01/11/2021|30|1,200.00|100.00|
|01/12/2021|31|1,200.00|100.00|

### Example 2: 1 year with subperiods

* **Basis amount for deferrals:** 1,200.00
* **Start date:** 01/15/2021
* **End date:** 01/14/2022
* **Basis monthly amount:** 1,098.08
* **Number of full months:** 11
* **Monthly amount:** 99.83

|Posting Date|Number of Days|Deferral Base Amount|Amount|
|--|--|--|--|
|15/01/2021|17|1,200.00|55.89|
|01/02/2021|28|1,200.00|99.83|
|01/03/2021|31|1,200.00|99.83|
|01/04/2021|30|1,200.00|99.83|
|01/05/2021|31|1,200.00|99.83|
|01/06/2021|30|1,200.00|99.83|
|01/07/2021|31|1,200.00|99.83|
|01/08/2021|31|1,200.00|99.83|
|01/09/2021|30|1,200.00|99.83|
|01/10/2021|31|1,200.00|99.83|
|01/11/2021|30|1,200.00|99.83|
|01/12/2021|31|1,200.00|99.83|
|01/01/2022|14|1,200.00|45.98|

### Example 3: less than 1 year with subperiods

* **Basis amount for deferrals:** 1,022.47
* **Start date:** 01/15/2021
* **End date:** 21.11.2021
* **Basis monthly amount:** 897.54
* **Number of full months:** 9
* **Monthly amount:** 99.73

|Posting Date|Number of Days|Deferral Base Amount|Amount|
|--|--|--|--|
|15/01/2021|17|1,022.47|55.89|
|01/02/2021|28|1,022.47|99.73|
|01/03/2021|31|1,022.47|99.73|
|01/04/2021|30|1,022.47|99.73|
|01/05/2021|31|1,022.47|99.73|
|01/06/2021|30|1,022.47|99.73|
|01/07/2021|31|1,022.47|99.73|
|01/08/2021|31|1,022.47|99.73|
|01/09/2021|30|1,022.47|99.73|
|01/10/2021|31|1,022.47|99.73|
|01/11/2021|21|1,022.47|69.01|

## See also

[Contract renewal](contract-renewal.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-commitment-cancellation
---
title: Canceling service commitments
description: You can use cancel service commitments in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Cancel contract components

All contract lines contain information about their validity and termination dates. Thus, they can be terminated before the expiry or end dates can be changed. If validity and notice periods aren't set, the contract lines are valid indefinitely or can be terminated at any time.

## Cancel a contract Line or service commitment

Use the **Service End Date** field to specify a date on which you stop billing a contract line. The service end date doesn't depend on the dates in the **Cancellation Possible Until** and **Term Until** fields.

If there isn't an agreement with the supplier or customer, the field is blank. If the **Service End Date** is one day prior to the **Next Billing Date**, the contract line is considered terminated. When you run the **Update Service Dates** action, the contract line is marked as closed. To learn more, go to [Customer contracts](customer-contracts.md#customer-contracts).

> [!NOTE]
> If a contract line was billed by mistake because the **Service End Date** was incorrect, you can't just terminate it retroactively. The contract line would be considered billed for a period after the **Service End Date**. Therefore, you must first issue a credit memo. The credit memo resets the **Next Billing Date**, and you can terminate the contract line. This ensures that the process of crediting and ending the contract line is followed.

## Termination dates and deadlines

The **Cancellation Possible Until** date specifies when a contract line can be cancelled in due time. The **Term Until** date specifies the minimum time until which a contract line is, or should be, charged, even if it's terminated.

The **Subsequent Term** specifies the duration of the automatic extension after the initial term. It also determines the rhythm of updating the **Cancellation possible until** and **Term Until** dates. If the field is blank, and either the **Initial Term** or the **Notice Period** are set at the same time, the **Service End Date** is set to the expiration date of the **Initial Term**.

For example, if there's a contract line with a **Next Billing Date** on **01.01.YYYY** that renews annually and has a notice period of three months, the termination dates are as follows:

* **Term Until** is **31.12.YYYY**. The contract line should be charged for the whole year even if it's terminated in due time.
* **Cancellation possible until** is **30.09.YYYY**. The contract line can be terminated in due time up to this date. If the cancellation is received later, the contract line will be billed for another year.

> [!NOTE]
> If a customer cancels a contract line, you can enter the date until which it will be invoiced directly in the contract line. If the cancellation is after the deadline, the regular end can be entered or, as a gesture of goodwill, the deadline can be ignored. This can be especially helpful if the customer wishes to upgrade, for example, and the old contract line should therefore no longer be billed.

If either the **Cancellation possible until** or **Term until** dates change, the other field is recalculated. The **Cancellation period** is always used for this calculation. The next time the dates are updated, the values are used for the calculation.

Use the **Update Service Dates** action to update the notice dates. The action can be called both in the contract and in the service object. For smooth operation, the action should always run in the job queue.

> [!NOTE]
> You can add the update of the end dates to the job queue by using **Update Serv. Comm. Term. Dates** (Codeunit 8058) to run automatically and autonomously. Typically, businesses run the codeunit once a day and outside business hours. The functionality corresponds to calling the action **Update Service Dates** in the contract card.

## See also

[Service commitments](so-service-commitments.md)  
[Customer contracts](customer-contracts.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/contract-renewal
---
title: Contract renewal
description: You can renew contracts in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Contract renewal

Some contract lines are set to end at a certain date. On the **Customer Contract** and **Vendor Contract** pages, you can use the **Renewal Quote** action to extend these contract lines. When you do, you can specify a renewal period and create a sales quote. The **Service End Date** (in the Service Commitment / Contract line) is extended when you convert the sales quote to a sales order and ship it.

## Create a contract renewal quote

You can create a contract renewal quote on the **Contract Renewal** and **Customer Contract** pages. Use the **Contract Renewal** page to create contract renewal quotes for all contract lines that are about to expire or have expired. To filter for specific contract lines, choose the :::image type="content" source="../../LocalFunctionality/India/image/search_small.png" alt-text="TellMe search icon."::: TellMe search icon to open the **Contract Renewal** page. Use the **Get Contract Lines** action to open a filter page and filter for the contract lines to renew. To learn more, go to [Get contract lines](#get-contract-lines).

### Get contract lines

The **Get Contract Lines** action on the **Contract Renewal** page shows a filter page. On the filter page, set a date in the **Service End Date** field to specify the earliest **Service End Date** from which to show contract lines. The **Add Vendor Contract Lines** field specifies whether to include the related vendor-side contract lines. If so, the service objects of the relevant vendor contract lines are checked to see if any additional vendor-side service commitments exist. Open vendor service commitments associated with a vendor contract that have a **Service End Date** are also considered for contract fenewals.

Therefore, if you turn on **Add Vendor Contract Lines** toggle, all vendor-side service commitments for the same service object are also considered for renewal.

If you need more filters, you can filter by any field on the **Customer Contract** and **Service Commitments** pages. After you confirm the filters, renewal lines are created for all valid contract lines. A contract line is valid if you specify a **Service End Date** for the filter and the line isn't closed. The **Contract Renewal** page shows all lines.

> [!NOTE]
> Contract lines are closed when they reach the date in the **Service End Date** field. You can access closed contract lines on the **Closed Lines** FastTab on the **Contract Card** page. To reopen closed lines, clear the **Closed** checkbox.

To renew a contract line, specify a value in the **Renewal Term** field. It is prefilled from the **Initial Term** of the corresponding contract line. You can change the value to match the desired term of renewal.

> [!CAUTION]
> You can only create a contract renewal line if there isn't a line on a sales quote for renewal for the contract line.

### Create quotes

Use the **Create Quotes** action on the **Contract Renewal** page to create sales quotes. You can create quotes for all lines, or selected lines. All contract renewal lines for which sales quotes are created are deleted.

If the **Renewal Term** field on the renewal line is blank, the renewal line isn't included a quote and won't be renewed.

The lines created on the sales quote have the **Service Object** type, and the **Contract Renewal** toggle is turned on. You can change the sales service commitment and add new items to the sales quote. You can't add new service commitments to the sales lines.

You can print sales quotes. Sales lines with the **Contract Renewal** toggle turned on print only the quantity to avoid confusion between renewing the service commitments and selling additional items. The prices of sales service commitments are printed. The total of the sales service commitment to renew is printed separately and labeled **Contract Renewal**.

## Sales orders

To renew contract lines, you must convert the sales quote into a sales order and ship the order. You can only ship sales lines marked as **Contract Renewal** in full or exclude them from delivery. Posting a shipment serves as a standard step to start processing. In this process, the line isn't actually shipped. Only the service commitments for which the extension/renewal was offered updates. Therefore, there are neither posted shipments nor posted invoices for these renewals. You invoice service commitments in the next contract invoice. However, shipments and invoices can be created for items that aren't **Contract Renewals**.

When you ship a sales order, the contract lines are either renewed or a **Planned Service Commitment** is created. If none of the following fields have been changed in the sales service commitment, the contract line is renewed and the **Service End Date** changes:

* Calculation Base Amount
* Calculation Base %
* Price
* Discount %
* Notice Period
* Calculation Base Period
* Billing Rhythm

If one of these fields was changed and the contract line isn't invoiced up to the **Service End Date**, a **Planned Service Commitment** is created. The **Planned Service Commitment** saves the changes to the contract line to ensure that you can invoice the contract line with the current conditions until the **Service End Date**.

If you invoice the contract line up to the **Service End Date**, the contract line updates from the associated planned service commitment. The planned service commitment is deleted after the update.

> [!NOTE]
> You can review the planned service commitments for specific contract lines by using the **Planned Service Commitment exists** field on the **Lines** FastTab on the **Customer Contract** page.

The **Planned Service Commitments** page shows all planned service commitments for all contracts. Because planned service commitments can also exist for vendor service commitments, this field is also available on vendor contract lines.

## Customer contract

Use the **Create Contract Renewal Quote** action on the **Customer Contract** page to renew a specific customer contract. The action opens the **Select Contract Lines for Renewal** page.

> [!CAUTION]
> The **Create Contract Renewal Quote** action deletes existing contract renewal lines. 
>
> You can't create a new sales quote for a contract line if there is a sales quote or sales order for the line.

The **Select Contract Lines for Renewal** page only shows valid contract lines. A contract line is valid if a **Service End Date** is set and the line isn't closed.

To renew a contract line, specify a value in the **Renewal Term** field. The default value comes from the **Initial Term** field on the corresponding contract line. You can change the value to set the desired renewal term.

If the **Renewal Term** field on the renewal line is blank, the renewal line won't be included on the sales quote.

when you choose**OK** to close the **Select Contract Lines for Renewal** page, a sales quote is created. The steps to [Create quotes](#create-quotes) and [Sales orders](#sales-orders) are the same as the steps described in this article.

## See also

[Customer contracts](customer-contracts.md)  
[Vendor contracts](vendor-contracts.md)  
[Contract deferrals](contract-deferrals.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-commitments
---
title: Service commitments in subscription billing
description: You can use service commitments in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Service commitments in subscription billing

Service commitments represent obligations to customers and suppliers. They usually begin with the delivery of an item to the customer, include subsequent support, and govern billing arrangements. A service commitment can also be the subject of provision itself, for example, in the case of a support service.

During the sales process, all relevant information about appropriately set up items is collected and stored in the form of a service object. The service object is created automatically when the item is delivered (posting of sales shipment).

Service commitment templates and service commitment packages are available for mapping and setting up service commitments. Service commitments are grouped into contracts (customer and vendor contracts) for management and billing purposes.

Service commitments include the details of the obligations that the supplier of a product assumes towards its customers, which in turn are covered by its supplier, if applicable.

The following image shows the use of service commitments.

:::image type="content" source="../../media/srb use of service commitments.png" alt-text="Use of service commitments.":::

## Service commitment templates​

You can create service commitment templates to simplify the process of creating service commitment packages and the details on their lines. The following section explains the interrelationships of the fields.

## Service commitment packages​

Service commitments are grouped into service commitment packages. You can use then **Assigned Items** action to assign them to items. At the time of delivery, the variable parameters (such as price calculations and durations) are converted into absolute values and attached as service commitments to the sold item (service object).

A service commitment package corresponds to the unit that's offered and sold to the customer. Both the service liabilities to the customer and the service receivables towards the own suppliers can be stored.

> [!TIP]
> To simplify the creation of a service commitment package, you can use the **Copy Service Commitment Package** action to an existing service commitment package, and then change it for the new purpose.

## Overview of service commitment package​ fields

* In addition to the unique **Code** and **Description**, you can specify a **Price Group** to use when pricing service commitments. To learn more, go to [Price group in sales service commitments and service objects​](#price-group-in-sales-service-commitments-and-service-objects).
* **Partner** specifies whether to create a customer or vendor service commitment later. Accordingly, the service commitments can then be called into customer or vendor contracts and invoiced through purchase or sales invoices.
* **Template** indicates whether the line was created based on a service commitment template. Specifying a service commitment template is optional. You cal also manually enter the line.
* **Description** specifies the description of the service commitment.
* To learn more about the **Invoicing** field, go to [Types of Service Commitments](#types-of-service-commitments).
* To learn more about the **Invoicing via Item No.** field, go to [Control revenue accounts​ via invoicing items](#control-revenue-accounts-via-invoicing-items).
* To learn more about the **Calculation Base Amount Type** field, go to [Pricing and calculation types](#pricing-and-calculation-types).
* **Calculation Base Amount %** is the percentage of the calculation base amount that is used in the sales process to price the service commitments.
* **Calculation Base Period** specifies the period to which the service amount should subsequently relate. For example, enter **1M** if the amount refers to one month, or **12M** if the amount refers to one year.
* **Billing Rhythm** defines how often to bill service commitments.
* The Dateformula in the **Service Commitment Start Formula** field specifies the time offset at which a service commitment becomes valid.
* **Initial Term** specifies the minimum term of the service commitments. If the initial term is entered in the sales process and no **Subsequent Term** is entered, the service end date is automatically set to the end of the initial term.
* The Dateformula in the **Subsequent Term** field specifies the duration of the automatic extension after the initial term. If the field is blank in the sales process, and either the **Initial Term** or the **Notice Period** is set at the same time, the service end date is automatically set to the expiration date of the initial term or the notice period.
* The Dateformula in the **Notice Period** field specifies the lead time before a service commitment can be cancelled. A 12 month initial term with a three month notice period means that the due date for termination is reached after nine months.
* **Discount** is used to control whether the service commitment is used for discounts during periodic billing.
* **Price Binding Period** defines the period in which the price won't change after the service commitment is created. When the service commitment is created, the **Next Price Update** date is calculated from the **Service Start Date** and the **Price Fixing Period**. You might need to personalize the page to display the field.

> [!TIP]
> To simplify the creation of items with service commitments, you can store service commitment packages in item templates. If an item is created using a template that includes service commitment packages, the packages automatically transfer to the new item.

## Dimensions​

If a service commitment package contains lines with both **Partner=Customer** and **Partner=Vendor**, the dimensions of the later customer contract line pass to the corresponding vendor contract line. This is important when you analyze data, for example, the service package code is identical in data on both customer and vendor sides.

## Price group in sales service commitments and service objects​

Before the prices for the service commitment s in the sales document can be calculated for the selected line item, the appropriate service commitment package(s) must be determined, including any price group assigned. The following applies:

* If the price group isn't set in the document, only service commitment packages without the price group are used.
* If the service commitment package is set in the document, only service commitment packages with the same price group apply. If no service commitment packages match the price group, service commitment packages without price group are also considered. Service commitment packages that are set as default for the item apply directly. Others are display-only.
* If a service commitment package without a price group isn't found, all service commitment packages are considered. The default package for the item applies directly. Others are display-only.
* If no service commitment package is found, no sales service commitments are created.

The determination of service commitments when manually creating a service object is done in the same way as the creation and calculation of sales service commitments. However, if you change the end user (customer) in the service object, the service commitments must be recalculated if the price group of the new end user (customer) and the service object differ. The user receives a corresponding query. If they confirm, the service commitments are deleted and recreated based on the above criteria. Otherwise, the end user (customer) resets to the original value.

> [!NOTE]
> You can only change the service commitments in the service object if none of the services are linked to a customer contract or vendor contract.

## Types of service commitments​

* Contract

   A service commitment for a service object where the **Invoicing via** field is set to **Contract** will be brought to invoicing in a defined cycle. Optionally, you can specify terms and notice periods.

* Sales

  A service commitment for a service object where **Invoicing via** is set to **Sales** won't be invoiced. The service object and service commitment serve as information only (for example, for the warranty period or the after-sale to a warranty).

> [!NOTE]
> Only service commitments whose template is set to **Contract** in the **Invoicing via** field can be assigned to a customer or vendor contract, and thus billed on a recurring basis through that contract.

## Pricing and calculation types​

Three types of reference values are used to price service commitments via the **Calculation Base Type** field:

* Item Price
* Document Price
* Document Price And Discount)  

To learn more, go to [Price determination of Service Commitments](../sales/price-calculation.md).

## Control revenue accounts​ via invoicing items

Services that you sell along with an item are usually handled by an invoicing item. Depending on the configuration of the posting groups in financial accounting, revenues can post to different revenue accounts for each service commitment to bill. The lookup of the **Invoicing via Item No.** field shows only invoicing items.

Services that are themselves the subject of provisioning (such as a support service) can also contain the posting groups for revenue control. In this case, the **Invoicing via Item No.** field is left blank.

## Example: Warranty as a service commitment​

When a product is sold, a warranty is required by law. This means that the supplier of a product guarantees that the products it supplies have the promised properties. The warranty is usually limited in time.

The statutory warranty can be supplemented by additional warranties or services that you can create as service commitments. For example, manufacturers might grant the customer an extended warranty period from the date of purchase or even service commitments that go beyond what is legally required. For example, free on-site replacement of defective parts.

A service commitment can represent the mapping of these commitments. It contains all relevant service agreements, such as prices (usually zero), validity periods, cancellation periods, and the billing rhythm. Just like other service commitments, the service commitment must be assigned to a contract to be billed (on a recurring basis until it expires). The contract number then displays in the service commitment.

The following example shows a warranty set up as a service commitment. The warranty is free of charge and runs for 12 months.

| Partner | Template | Description | Invoicing via | Invoicing via Item No. | Calculation Base Type | Calculation Base % | Calculation Base Period | Calculation Base Rhythm | Service Commitment Start Formula | Initial Term | Subsequent Term |Cancellation Period|
|--|--|--|--|--|--|--|--|--|--|--|--|--|
|Customer|Guarantee|Warranty|Sale||Item Price|0|12M||12M|
|Supplier|Guarantee|Warranty|Sale||Item Price|0|12M||12M|

The service commitment package contains both a customer and a vendor line, so the customer can make claims within the specified period, but these are also covered by service commitments towards the supplier (for example, the vendor has provided warranty for the items sold).

## See also

[Sales process](../sales/sales-service-commitments.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/items
---
title: Service commitments for items
description: You can use service commitments for items in subscription billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Service commitments for items

You can set up items so that when they're used in a sales document, they either bring additional service commitments with them or they represent service commitments themselves. The setting for this can be made via the **Service Commitment Option** field on the **Prices and Sales** FastTab. 

The following table describes the available options.

|Option|Meaning|
|--|--|
|Sales without Service Commitment| The item is for sale only and not for service commitments or contracts. This is the default option. It's also used when subscription billing isn't used. <br/>For items with this setting, service objects aren't created upon delivery, and you can't create them manually.|
|Sales with Service Commitment|The item can be sold with additional service commitments. If additional service commitments are stored, these are used either automatically (**Default** is selected in the assigned service commitment package) or on request in the sales process. <br/> For items with this setting, a service object is created automatically upon delivery.
|Service Commitment Item|The item can be used in a sales document, but invoicing is done only through the contract in the form of service commitments. When a sales order line is delivered, it's set as **Invoiced**. You can select this option only if the item's **Type** is **Non-Inventory**. <br/> For items with this setting, a service object is created automatically upon delivery.
|Invoicing Item|The item is used for billing additional service commitments sold for another item. You can select this option only if the item's **Type** is **Non-Inventory**. This item can't be used on document lines. For example, on sales quotes, sales orders, sales invoice, purchase invoices, and so on. <br/> You can't create service objects for items with this setting.

## Service commitments

On the **Items** and **Item Card** pages, you can access service commitments in the **Service Commitments** FactBox. In addition to the name of the service commitment package, the FactBox also shows whether the respective service commitment package is marked as **Standard**. If an item marked as standard is used in the sales process, all the services from the corresponding service commitments packages are transferred to the sales item in the document. To learn more, go to [Sales process](../sales/sales-service-commitments.md).

Clicking on the header of the FactBox opens the **Service Commitment Packages per Item** page. The page provides an overview of all service commitment packages stored for the item, including the details in service commitment package lines. For visual assignment, the service commitment package lines for the selected package display in bold. For example, this cue is helpful if there are several service commitment packages for the item. To add a service commitment package to an item, insert in a new line. If you delete a line, the service commitments aren't available for sales orders or quotes.

Similar to the FactBox, you can also use the **Service Commitments** action to access the service commitments for items.

## See also

end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/recurring-billing
---
title: Recurring billing
description: You can use recurring billing in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Recurring billing

You bill contracts from the **Recurring Billing** page. First you create a billing proposal, based on which the posting documents such as invoices and credit memos, in a second step. To learn more about posting documents, go to [Posting documents](posting-documents.md). The billing or the creation of the billing proposal is based on the contract lines, taking into account the date in the **Next Billing Date** field. To learn more, go to [Managing contracts, service objects, and services commitments](working-with-contracts/contracts-services-mgmt.md).

## Work with billing proposals

The **Recurring Billing** page is structured as follows:

* **Filter area**
   * A **Billing Template** can be selected here.
   * The **Billing Date** is predefined by the billing template, but can be changed. Use it to suggest the appropriate contract lines for billing based on the **Next Billing Date** field (from the contract line).
   * Via the **Billing Rhythm**, each contract line brings the information up to which date it should be billed by default. Via the **Billing to Date** field, this can be specified (differently) for all lines to be created. This can result in the period to be billed being shortened or also extended. The field is also predefined via the billing template and can also be changed. By means of a limitation it could be achieved, for example, that contract items added during a fiscal year are only invoiced until the end of the year/fiscal year in order to have a uniform Billing Rhythm again for the next billing period.
* **Actions**
   * **Create Billing Proposal**
    The action runs through all contract lines and suggests the service commitments to be billed based on the **Next Billing Date** and the **Billing to Date**. By changing the billing template and calling it again, additional lines can be added to the billing proposal.
    If the **Next Billing Date** is greater than the billing date, this line will be ignored. If the **Next Billing Date** is smaller than the Billing Date, the corresponding period (taking into account the Billing Rhythm) must be invoiced.
   * **Create Documents**
    The action creates Contract invoices or credit memos for the displayed lines for which no documents exist yet.
   * **Clear Billing Proposal**
    By calling this action, the billing proposal can be deleted. A query follows asking whether the entire billing proposal or only the lines added by the currently selected billing template should be deleted.
   * **Delete Documents**
    The action deletes all generated Contract invoices or credit memos for the displayed lines.
   * **Change Billing To Date**
    Via this action, the date in the **Billing To** field can be individually adjusted. At the same time, the **Service Amount** will be recalculated. The action is executed for all selected lines.
   * **Delete Billing Line**
    This action is used to delete all selected lines.
   * **Refresh**
    This action updates the lines, e.g. if warnings are displayed there. If the reason for the warning is not given anymore, the warning is withdrawn.
   * **Navigate** 
   * **Customer / Vendor** 
    The action opens the customer or vendor card of the current line.
   * **Contract** 
    The action opens the contract card of the current line.
   * **Service Object** 
    The action opens the service object of the current line.
   * **Contract Line Dimensions** 
    Use to view the dimensions stored on the associated contract line.
* **Billing Proposal Lines**
   * The billing proposal lines show the details of the lines to be billed.
   * In addition to the contractor and the contract, information about the service object and the service commitments to be billed is also displayed.
   * When **Create Billing Proposal** is called, one or more lines are created for each service commitments based on the **Next Billing Date** and the **Billing to Date**. Multiple lines are always created if the **Billing Rhythm** of the contract line fits several times into the period between **Next Billing Date** and **Billing to Date**. Each line displays information regarding the billing period (**Billing from** and **Billing to** fields) and the prices (**Service Amount**, **Price**, **Quantity** and **Discount** fields). Using this method, no contract line to be billed can be overlooked (as long as the filter criteria from the billing template are correct), as all past contract lines are automatically part of the filter.
   * It is possible to define a grouping for the billing proposal in the **Billing Template** ([see next section](#billing-templates)). If a grouping is set in the currently selected Default, the billing proposal lines can be expanded and collapsed based on this criterion. This is done using the double arrow next to the **Partner Name** heading. In addition, individual blocks can also be expanded and collapsed. This is done using the single arrow next to the **Partner Name** field in the line.
   * If a posting document (invoice or credit memo) has already been created, it is displayed via **Document Type** and **Document No.**. A click on the Document No. opens the posting document.

> [!TIP]
> By changing the billing template and reopening the **Create Billing Proposal** page, you can extend the billing proposal piece by piece. In this way, for example, you can create collective invoices for several contracts, although the contracts are found via different billing proposals.

## Billing templates

By choosing the AssistEdit :::image type="content" source="../media/assist-edit-icon.png" alt-text="AssistEdit icon"::: in the **Billing Template** field, all available billing templates display. Each billing template requires a unique code and description as well as filter criteria and date calculation defaults. The date calculation defaults are specified in the form of date formulas. The actual date values are then calculated based on the working date when a billing template is selected/applied. This allows the defaults to be used over and over again.

Use the **Partner** field to specify whether this default is used to bill the customer (*Customer* value) or vendor (*Vendor* value) service commitments.

To use a billing template you must enter filter criteria. The criteria determines the service commitments to bill. To define the filters, use the **Edit Filter** action. A page opens where you can specify filter criteria. In addition to the pre-set criteria, you can add criteria such as the contract type, the responsible user, or the salesperson. When you choose **OK** on the filter page, the criteria are saved in the billing template. This is to be recognized by the fact that in the field **Contract filter** a hook is set.

In the **Billing Date Formula** field, a Dateformula is entered that will be interpreted when the billing template is used in the **Billing Date** field. This field is then used to filter the service commitments to be billed (based on **Next Billing Date**) when creating the proposal lines. If no Dateformula is specified, the **Recurring Billing** will use the Work Date.

The **Billing To Date Formula** field can optionally be used to enter a Dateformula which, if present, will be interpreted when the billing template is used in the **Billing To Date** field. This field is then used to set the end date of the billing in the service commitments to be billed. If no Dateformula is specified, the field in **Recurring Billing** will also remain empty and the lines will be proposed based on the information in the contract line.

The **My Suggestions Only** field can be used to filter the billing proposal to those lines created by the user.

The **Group by** field controls whether the lines in the billing proposal are displayed in groups. In addition to no grouping, the *Contract* and *Contract Partner* selections are available. If *Contract* is selected, all billing lines of a contract will be displayed grouped. The grouping level is displayed in bold. In addition, the **Billing From** and **Billing To** fields display the total (grouped) period and the **Service Amount** field displays the total of the associated Service Amounts.

> [!NOTE]
> Each contract line can be included in a billing proposal only once per billing period. If a billing line for a period has already been created by another user and the current billing proposal uses a default in which the **My Suggestions Only** indicator is set, the current user cannot create that line again for *themselves*.

## Create posting documents

After you create the billing proposal has been created, you can use the **Create Documents** action to create the invoices or credit memos for the displayed lines for which no documents exist yet. The page of the same name opens, where specifications for the documents to be created can be made. For example, both the **Document Date** and the **Posting Date** can be specified. Optionally, the created documents can also be posted directly (**Post documents**). In addition, **Documents per** can be used to specify whether the posting documents are to be created per contract, per contract partner, or per invoice recipient.

* **Contract**
A separate invoice is created for each *contract*. Thereby all defaults from the respective contract are taken over.
* **Contract Partner**
Invoices are created for each contract partner. Payment terms, payment methods, and so on are taken from the customer. Invoices are only created separately for the contracts if the currency or the [Details for contract invoices](working-with-contracts/customer-contracts.md#details-for-contract-invoices) differ.
* **Invoice Recipient**
Invoices are created for each *Invoice Recipient*. Payment Terms, Payment Method etc. are taken from the Customer. Invoices are only created separately for the contracts if the currency or the [Details for contract invoices](working-with-contracts/customer-contracts.md#details-for-contract-invoices) differ.

To learn more about the posting documents that are created, go to [Posting documents](posting-documents.md).

> [!TIP]
> Contract lines to be invoiced in advance and in arrears can be proposed for invoicing via different billing templates, if required. This is possible through the interaction of **Next Billing Date** and the **Billing Date**, provided that no **Billing To** date is used. Alternatively or additionally, the contracts to be billed differently can also be distinguished from each other using different types of contracts. To learn more, go to [Contract types](setup/contract-types.md). The contract type can be used as a filter in the billing templates.

## Need to update

**Recurring Billing** has a multi-level mechanism to prevent data inconsistencies.
If changes of any kind are made to a service commitment or contract line while lines are already created in the billing proposal, those lines will be highlighted twice in the billing proposal. On the one hand, the lines are displayed in red and bold and, on the other hand, they receive an indicator in the **Update Required** field, which shows that an update of the lines is necessary. When updating, the changed values are taken from the service commitments or the contract lines. The update can be done by running one of the **Create Billing Proposal** or **Refresh** actions. As long as the update has not been performed, no posting documents (invoice / credit memo) can be created.

If an unposted document already exists, no changes can be made to the service commitments or contract lines. A corresponding error message will appear.

Only changes that are *not billing relevant* can be made in the posting document itself. For example, changes can be made to the description of the lines or new lines can be added. For all other changes, the posting document must first be deleted, the changes made to the contract line (or service commitments), then the billing lines updated and the document recreated.

In addition, it is not possible to create multiple posting documents for the same billing line.

> [!NOTE]
> The moment a billing proposal is created for a contract line, the **Next Billing Date** field updates to show show the current status. If the billing line is deleted (or the billing period is changed), the field is automatically reset (or set based on the changed billing period).

A credit memo to a contract invoice will also reset the **Next Billing Date** field. To ensure consistency of the contract line and service commitments, when crediting multiple contract invoices, the credits must be chronological.

## See also

[Managing contracts, service objects, and services commitments](working-with-contracts/contracts-services-mgmt.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/posting-documents
---
title: Posting documents
description: Learn about posted documents in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Posting documents

Posting documents are invoices and credit memos because these documents can be posted. When creating these documents using the [Recurring billing](recurring-billing.md) page, [!INCLUDE [prod_short](../includes/prod_short.md)] recognizes whether to create an invoice or a credit memo based on the amounts to settle. If the total amount over all lines to be billed is positive, an invoice is created, otherwise a credit memo is created. This applies to both customer contracts and vendor contracts.

The posting documents are available on the respective contract under **Related**. There are different ways to open documents that are or aren't posted. Sales documents are created from customer contracts and purchasing documents from vendor contracts. The documents can also be opened using the following methods:

* **Sales Invoices**

   A **Recurring Billing** filter is available in the page, which displays only the documents that belong to a contract.
* **Sales Credit Memos** 

   A **Recurring Billing** is available in the page, which displays only the documents that belong to a contract.
* **Posted Sales Invoices** 

   A **Recurring Billing** filter is available in the page, which displays only the documents that belong to a contract.
* **Posted Sales Credit Memos**

   A **Recurring Billing** filter is available in the page, which displays only the documents that belong to a contract.
* **Purchase Invoices**
* **Purchase Credit Memos**
* **Posted Purchase Invoices**
* **Posted Purchase Credit Memos**

For each document line, the details underlying the calculation can be accessed by calling **Billing Lines** (in the line menu via *Manage*).

## Additional information in contract invoices

To be able to react to different needs regarding the order of the output of information in contract invoices, in the [Invoice details](setup/general.md#invoice-details) you can specify at which position in the contract invoice which information should output. It is possible to control the output of the names of the contractor and the service recipient as well as other information about service objects and service commitments.

## Post document

Posting documents for contracts can be posted and printed individually or in batches, as is usual in the purchasing and sales areas. Especially in the case of a large number of contracts, it makes sense to check the posting documents by batch after they have been generated, to post them in the batch and to print them in the batch. In addition, [Details for contract invoices](working-with-contracts/customer-contracts.md#details-for-contract-invoices) can be output per customer contract invoice. These show the details relevant to the customer's contract invoice broken down in an understandable way.

When a document is posted, the associated billing lines are archived. These can be subsequently accessed via the posted document line using the **Archived Billing Lines** action.

> [!NOTE]
> When the documents are posted, the posting description in the customer ledger entries and vendor ledger entries can be used to trace from which contract the entry originates. If the document belongs to exactly one contract, the type of contract (customer or vendor contract) and the document number are included. If there are multiple contracts, **Multiple Customer Contracts** or **Multiple Vendor Contracts** (each in the user's language) is used.

## See also

[Managing contracts, service objects, and services commitments](working-with-contracts/contracts-services-mgmt.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/welcome
---
title: Welcome to subscription and recurring billing 
description: Get an overview of the features available for subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Overview of subscription billing

Subscription billing lets you bill for contractually agreed services on a recurring basis. The integrated, flexible billing models support many subscription model scenarios for pricing models, price management, renewals, and billing periods and frequency. Using subscription billing to manage recurring invoicing of services minimizes sources of error and brings transparency into the processes from initial sales quote to the recurring invoice. All information is stored in one place, so you to always have an overview of contract management. At the same time, manual effort is reduced because you can simplify and automate processes.  

## Flexible and user-friendly subscription management

You assign the serviceable items you sell (service objects), whether it's the sale of an item with attached services, a rental agreement, or any other contractual agreement, to customers. While service objects are usually static, the associated service (service commitments) that you invoice on a recurring basis can change while a contract is active.

## Features of subscription and recurring billing

* Create individual and automated billing periods
* Preview all existing monthly recurring billing and your upcoming invoices
* Simplify billing with billing templates
* Automatically calculate notice periods
* Use accrual-based posting of income and expenses to profit and loss accounts

## Main elements of subscription billing 

### Contracts​

When business partners sign a contract, both partners assume obligations. In subscription billing, these obligations are called *service commitments*. Agreements with periodic billing are called *customer contracts* on the customer side, and *vendor contracts* on the supplier side.

Use contracts to group the service commitments of multiple service objects so you can bill them together on a recurring basis. A contract in subscription billing is the technical equivalent of one or more actual contract documents that you bill to a customer.

A contract defines the commercial framework (contractual partners, invoice recipients, accounting conditions). Service objects, and their service commitments, represent the components of the contract.

### Service objects​

A service object is something that the customer either buys, such as items, or for which a contractual agreement is results in mutual obligations. A service object is assigned to a customer. The service object is usually static, but the associated services (service commitments) can change. Also, you can store additional information in the service object that's independent of the service commitments.

A service object doesn't contain any billing-relevant information. That information belongs to the associated service commitments. Service commitments that aren't invoiced through a contract can also belong to a service object, for example, warranties.

### Service commitments​

Service commitments describe the content of agreements with customers and suppliers. They exist in customer-side and vendor-side forms, and always belong to a service object. Service commitments contain billing information, such as the quantity to bill, the billing period, and the amount.

The service commitments of a service object and the creation of service commitments are defined through a multi-level hierarchy. It includes service commitment templates and service commitment packages that you can assign to items. Service objects are created through the sale of these items, to which the associated service commitments are assigned and available.

You can offer service commitments to prospects or customers already during the sales phase. For this purpose, you can add more service commitments to the offered items, which you can then offer simultaneously or sell at the same time.

If you sell an item in conjunction with a service commitment, a service object is automatically created for it, where the associated service commitments are visible. <!--Don't understand what we mean by "visible" here-->

If the service is a service commitment (see Types of Services), you can add it to a contract as a component and, according to the information in the service, bill on a recurring basis.

## Flow of subscription billing​

The following illustration shows that items are set up with service commitment packages with one or more service commitments. When the quote or order is shipped, the item becomes a service object. The service commitments assigned to the service object must be assigned to a contract to be billed on a recurring basis. The contract and its service commitments contain the billing information. When posting contract invoices, contract deferrals are created. You can post the deferrals to the general ledger independently to recognize the revenue or cost of the invoices.

:::image type="content" source="../media/srbFlow.png" alt-text="Shows the flow in subscription billing.":::

## Subscription & Recurring Billing Role Center​

The **Subscription & Recurring Billing** Role Center collects the features for recurring billing in one place, so things are easy to find. In addition to the master and transaction data, the Role Center provides fast access to the history of posted receipts. Documents that aren't posted (open posting documents for customers or vendors), and services that aren't assigned to contracts (services commitments without contracts) also display to alert you that something might still need to be done.

The revenues and costs figures show the current and previous month's revenues and costs that were posted in connection with contract billing.

The **Overdue** and **Not invoiced** cues indicate that service commitments are either still to be billed (Overdue) or that a posting document hasn't been created yet (Not invoiced) for lines in a billing proposal. The cues are based on the workdate.

## See also

[Managing contracts, service objects, and services commitments](working-with-contracts/contracts-services-mgmt.md)  
[Recurring billing](recurring-billing.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/glossary
---
title: Glossary 
description: Explore terminology in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Glossary

The most important terms can be looked up in this glossary.

## A

* **Additional Service Commitments** <br/> Service commitments that can be selected in addition to the standard service commitments.

## B

* **Billing Base Period** <br/> The period of time to which the Service Amount applies. For example, enter 1M here if the amount refers to one month or 12M if the amount refers to one year.
* **Billing Date** <br/> The cut-off date by which service commitments to be billed are considered.
* **Billing line** <br/> Shows the history of billing contract lines. When you post recurring bills, they're created from the billing proposal lines.
* **Billing Proposal** <br/> The billing lines created using one or more billing templates become a billing proposal. The proposal is the basis for creating the contract invoices.
* **Billing Proposal Lines** <br/> Proposal lines are a preview of the billing lines. Lines for the same contract line and different billing periods are combined in the invoice.
* **Billing Rhythm** <br/> Specifies the rhythm at which the service commitments are billed. A Dateformula can be used to set the rhythm to, for example, monthly, quarterly or annual calculation.
* **Billing Template** <br/> The Default name used to determine the service commitments to be billed.

## C

* **Calculation Base %** <br/> The percentage for calculating the price of the service commitment. 100% means that the price of the service is equal to the Calculation Base Amount.
* **Calculation Base Amount** <br/> The base amount for calculating the price.
* **Calculation Base Type** <br/> Indicates how the service commitment price is calculated. "Item Price" uses the list price that is stored on the item. "Document Price" uses the price from the sales document. **Document Price and Discount** uses the price and discount from the sales document.
* **Contract** <br/> Contract refers to customer and vendor contracts.
* **Contract Deferrals** <br/> Costs and revenues that are posted in a specific period but relate to a future period can be deferrals. These deferrals can be displayed across the board or per contract.
* **Contract line** <br/> Services commitments assigned to a contract automatically create contract lines that you bill via the **Recurring Billing** page.
* **Contract Type** <br/> Indicates the classification of the contract.
* **Contractor** <br/> Customer or supplier for whom the contract is created.
* **Credit Memo Preview** <br/> Function for creating a print preview for an unposted credit memo.
* **Customer Contract** <br/> Customer Contracts can be used to retrieve and process customer-side service commitments before you bill customers.

## D

* **Detail Overview** <br/> Specifies whether the billing details for the contract are automatically output with invoices and credit memos.

## E

* **End User** <br/> The end user is the customer to whom the service commitments were sold. You specify end users for service objects.

## I

* **Initial Term** <br/> The Dateformula used to calculate the minimum term of service commitment. If the **Initial Term** is specified but you don't enter a **Subsequent Term**, the **Service End Date** is set to the end of the **Initial Term**.
* **Invoice Preview** <br/> Action to create a print preview for an unposted invoice.
* **Invoicing Item** <br/> An item so identified is used to bill extra service commitments sold for another item.
* **Invoicing Item No.** <br/> Indicates which item in the contract invoice is used to bill for the periodic service in a service commitment package line.
* **Invoicing via** <br/> Indicates whether the service is billed via a contract or sales document in a service commitment package line.

## N

* **Next Billing Date** <br/> Indicates the date of the next possible billing in service commitments and contract lines.

## P

* **Posting document** <br/> These documents are invoices or credit notes that aren't posted.
* **Price Group** <br/> Specifies the customer price group (for example, in the service commitment package) that is considered in pricing the service commitments.

## R

* **Recurring Billing** <br/> This page first creates the billing proposal and then the posting documents.
* **Released** <br/> Revenues and costs for contracts are deferred by default under certain conditions. If the deferrals were released, this is marked accordingly.

## S

* **Sales Service Commitment** <br/> Services that are part of a line in the quote or order.
* **Service Amount** <br/> Indicates the amount of a service commitment minus the discount granted.
* **Service Commitment** <br/> Service commitments represent obligations to customers and vendors.
* **Service Commitment Item** <br/> Can be used in sales documents, but are charged exclusively through contracts.
* **Service Commitment Option** <br/> Indicates whether a service commitment can be deposited for an item or whether it's an item for billing services.
* **Service Commitment Package** <br/> Use to bundle service commitment package lines and manage price groups. Assign service commitment packages to items.
* **Service Commitment Package Line** <br/> Specifications for service commitments are defined using the service commitment package line. When the item is entered in a quote or order, the specifications from the service commitment package line are applied to the service.
* **Service Commitment Start Formula** <br/> Specifies the date from which a service commitment is valid using a formula. By using this Dateformula, the validity can be automatically set to, for example, the first of the following month. If the field remains empty, the service commitment is valid from delivery.
* **Service Commitment Template** <br/> Serves as the default for a service commitment and can be selected in the service commitment package line.
* **Service End Date** <br/> Indicates the date until which the service commitment is valid.
* **Service Object** <br/> service objects represent a history of products sold to a customer. Service commitments are created in service objects.
* **Service Start Date** <br/> The date from which the service commitments are valid and charged.
* **Subsequent Term** <br/> Specifies a Dateformula for automatic renewal after the Initial Term and the rate at which "Cancellation Possible Until" and "Term Until" are updated. If the field is blank and either the Initial Term or the Notice Period is set at the same time, the Service End Date is automatically set to the expiration date of the Initial Term or the Notice Period.

## U

* **Update Service Dates** <br/> This action updates the cancellation dates.

## V

* **Vendor Contract** <br/> Vendor Contracts can be used to retrieve and process vendor-side service commitments before creating vendor posting documents.

## See also

[Overview of subscription billing](welcome.md)  
[Overview of usage based billing](../UBB/welcome.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/permissions
---
title: Permissions
description: Learn about the permission settings for subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Permissions

This article takes a deeper look at the permission sets for subscription and recurring billing. To check the permissions in the permission sets, on the **Permission Sets** page, use the **Permissions** action. To learn more about permission sets, go to [Assign permissions to users and groups](../../ui-define-granular-permissions.md).

## Subscription and recurring billing

The following table describes the permission sets required for subscription and recurring billing.

|Permission set  |Description  |What it's for  |
|---------|---------|---------|
|SUB. BILLING ALL     |Subscription Billing All         | Gives read-only access to subscription billing tables        |
|SUB. BILLING ADMIN      | Subscription Billing Admin        |  This permission set is for administrators or power users who need to access to create, modify and delete service commitment templates and service commitment packages and customize setup.       |
|SUB. BILLING BASIC     |  Subscription Billing Basic        |  Gives access to perform the basic day-to-day setup tasks in subscription billing.        |
|SUB. BILLING USER      |  Subscription Billing User        |  This permission set is for all users working with service commitments, service objects, and contracts. In addition, billing proposals can be created for contracts on the **Recurring Billing** page. However, this permission isn't intended for setting up, creating, and editing service commitment templates and service commitment packages.       |

## See also

[General setup](general.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/job-queue
---
title: Job queue
description: You can use job queue entries in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Job queue

Businesses often use the job queue to automate recurring tasks in [!INCLUDE [prod_short](../../includes/prod_short.md)]. To learn more about the job queue, go to [Use job queues to schedule tasks](../../admin-job-queues-schedule-tasks.md).

For subscription billing, the following entry is created in the job queue:

* **Update Service Dates** (codeunit 70920758): Automatically updates date fields in service commitments daily at 1:00 AM. To learn more, go to [Termination of contract components](../working-with-contracts/service-commitment-cancellation.md).

## See also

[General setup](general.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/import
---
title: Data migration
description: You can use import contracts and contract lines in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Import of contracts and contract lines

Before you can set up contracts and contract lines, you must create some data, or import it from another system. In addition to customers, vendors, and items, you must create service commitment packages, service commitment package lines, and more. You use configuration packages to import data. The data for customer contracts, contract lines, service objects, and service commitments imports to tables created specifically for processing the data.

## Import of master data

To import customers, items, service commitments, vendor contracts, and so on, create [Configuration Packages](/dynamics365/business-central/dev-itpro/administration/set-up-standard-company-configuration-packages).

|Name|Table|
|:--|:--|
|Items|27|
|Service Commitment Templates|70920754|
|Service Commitment Packages|70920755|
|Service Commitment Package Lines|70920756|
|Item Service Commitment Packages|70920758|
|Vendor Contract|70920763|

## Import customer contracts, contract lines, service objects, and service commitments

There are particular import tables for importing customer contracts, contract lines, service objects, and service commitments. After the import, you can view, edit, and use the data to create corresponding records in [!INCLUDE [prod_short](../../includes/prod_short.md)] on the **Imported Customer Contracts**, **Imported Service Objects**, and **Imported Service Commitments** pages. Use the following tables to import and create service objects, service commitments, and contract lines.

|Name|Table|
|:--|:--|
|Imported Customer Contracts|70920710|
|Imported Service Objects|70920708|
|Imported Service Commitments|70920709|

### Import customer contracts

The **Imported Customer Contracts** page serves as an intermediate step for the data transfer of service objects. The imported data displays on this page. Use the **Create Customer Contracts** action to create the customer contracts (just headers, no lines). The action always processes all rows that aren't processed, regardless of filters and selection.

|Name|Description|To fill|
|:--|:--|:--|
|Contract No. (Code20)|Specifies the number of the contracts to create. Contract lines (service commitments) are assigned using the contract number. The number series must allow manual number assignment.|Always|
|Sell-to Customer No. (Code20)|Indicates the number of the customer who receives the contractual services and is invoiced by default.|Always|
|Sell-to Contact No. (Code20)|Specifies the number of the contact that receives the contractual services. In the contract, the number is the **Sell-to Customer No.** from that customer, if empty.|Optional|
|Bill-to Contact No. (Code20)|Indicates the customer to whom you send the contract invoice. If the field is empty, the contract uses the ***Standard (Customer)**.|Optional|
|Contract Type (Code10)|Indicates the classification of the contract.|Optional|
|Description (Text200)|Indicates the internal description of the contract.|Optional|
|Your Reference (Text35)|Indicates the reference of the customer. The content of this field prints on the contract invoice.|Optional|
|Salesperson Code (Code20)|Indicates the name of the salesperson assigned to the customer.|Optional|
|Assigned User ID (Code50)|Indicates the ID of the user who is responsible for the document.|Optional|
|Without Contract Deferrals (Boolean)|Specifies whether to generate deferrals for the contract. If selected, no deferrals are generated and the invoices post directly to profit or loss. By default, the field isn't selected.|Optional|
|Detail Overview (Boolean)|Determines whether the billing details for this contract are automatically output with invoices and credit memos. Options: Empty (default), Without prices, Complete|Optional|
|Dimensions from Project No. (Code20)| Specifies the project from which the dimensions for the contract are used.|Optional|

If the processing is successful, a customer contract is created and **Contract Created** is selected.

* The **Processed by** field shows the user who performed the processing.
* The **Processed on** field shows the date and time of the processing.
* Errors display in the **Error Text** field.

### Import service objects

The **Imported Service Objects** page serves as an intermediate step for the data transfer of service objects. The imported data displays on this page. Use the **Create Service Objects** action to create the service objects. The action always processes all lines that aren't processed, regardless of filters and selection.

| Name | Description | To be filled |
|--|--|--|
|Entry No. (Integer)|System field of the table (consecutive number of records) - is created automatically and is in the background.|*Never*|
|Service Object No. (Code20)|The service object is created with this number. To facilitate the assignment of service commitments, always import this number. The number series must allow manual number assignment.|**Always**|
|Customer No. (Code20)|Indicates the number of the customer to whom the service commitments were sold. It's mandatory for the assignment to customer contracts.|**Always**|
|Item No. (Code20)|Indicates the item number of the service object. It should be an item with service commitments or a service commitment item.|**Always**|
|Description (Text100)|Indicates the description of the service object. If the description is empty, it uses the item's description when the service object is created.|Optional|
|Quantity (Decimal)|Indicates the quantity of the service object.|**Always**|
|Customer Reference (Text35)|Indicates the reference by which the customer knows the service object.|Optional|
|Bill-to Cust. No. (Code20)|A different invoice recipient (Customer) can be specified here. Related fields are filled automatically (for example, Bill-to Contact No., and so on).|Optional|
|Bill-to Contact No. (Code20)|A different invoice recipient (Contact) can be specified here.|Optional|
|Ship-to Code (Code10)|A different shipment address can be specified here. Related fields are filled automatically.|Optional|
|Contact No. (Code20)|Can be specified if different from primary contact.|Optional|
|Unit of measure (Code10)|Can be specified if different from the unit of the item.|Optional|
|Serial No. (Code50)|Indicates the serial number of the service object. Service objects with serial number can only have a **Quantity**=**1**.|Optional|
|Provision Start Date (Date)|Indicates the date from which the service object and the related service commitments were provided to the customer. It has no relevance for billing.|Optional|
|Provision End Date (Date)|Indicates the date from which the service object and related service commitments are no longer available to the customer. It has no relevance for billing.|Optional|
|Key (Text100)|Displays a key in the service object.|Optional|
|Version (Text100)|Display of the version in the service object.|Optional|

If the processing is successful, a service object is created and **Service Object Created** is selected.

* The **Processed by** field shows the user who performed the processing.
* The **Processed on** field shows the date and time of the processing.
* Errors display in the **Error Text** field.

### Import service commitments

The **Imported Services Commitments** page serves as an intermediate step for the data transfer of service commitments and contract lines. Use the **Create Service Commitments** action to import and process the data. This action can create comment lines in contracts, service commitments that aren't billed, and contract lines and service commitments that are billed. The action always processes all lines that aren't processed, regardless of filters and selection.

| Name | Description | To be filled |
|---|---|---|
|Entry No. (Integer)| System field of the table (consecutive number of records) - is created automatically and is in the background | **Never** |
|Service Object No. (Code20)|The created service commitment is assigned to this service object.|**Always**|
|Service Commitment Line No. (Integer)|Indicates the line number of the service in the service object. If no line number is specified, one is determined automatically.| **Optional** |
|Partner (Option: Customer, Vendor)|Indicates whether to invoice the service commitments on the vendor side (purchase invoice) or customer side (sales invoice).|**Always**|
|Contract (Code20)|Indicates the number of the contract in which the service commitment is to be created as a contract line. Service commitments with **Invoicing via**=**Sales** can't be called up in contracts.|**Optional**|
|Contract Line No. (Integer)|Indicates the line number of the contract line. If no line number is specified, one is determined automatically.|Optional|
|Contract Line Type (Option: Comment, Service Commitment)|Specifies the type of the contract line.|**Always**|
|Package Code (Code20)|Specifies the code of the service commitment package. A vendor contract line might have the same service object and package code as the customer contract line. When that's the case, the customer contract dimension is copied to the vendor contract line.|**Optional**|
|Template Code (Code20)|Indicates the name of the service commitment template from which the service commitment was copied to the service commitment package. It's just for information purposes.|**Optional**|
|Description (Text100)|Indicates the description of the service commitments. If no description is specified, it's filled based on the service commitments.|**Always**|
|Service Start Date (Date)|Indicates from which date the service commitments is valid and can be charged.|**Always**|
|Service End Date (Date)|Indicates until which date the service commitments is valid.|Optional|
|Next Billing Date (Date)|Indicates the date of the next possible billing. If the field is empty, it's filled automatically by the **Service Start Date**.|Optional|
|Calculation Base Amount (Decimal)|Indicates the base amount from which the price is calculated. The **Price** field in service commitments is always calculated and never imported.|**Always**|
|Calculation Base % (Decimal)|Indicates the percentage to use to calculate the service commitment price. 100% means that the price of the service commitment is equal to the calculation base amount.|**Always**|
|Discount % (Decimal)|Indicates the percentage discount for the service commitments.|Optional|
|Discount Amount (Decimal)|Indicates the discount amount to apply to the service commitments. Only **Discount %** or **Discount Amount** must be filled for the import to apply a discount.|Optional|
|Service Amount (Decimal)|Indicates the amount minus the discount granted. The Service Amount is calculated from **Calculation Base Amount**, **Calculation Base %**, **Quantity**, and **Discount** if the field is empty.|Optional|
|Calculation Base Period (Dateformula)|Indicates the period to which the service amount refers. For **1M**, the amount refers to one month, or **12M** if the amount refers to one year.|**Always**|
|Invoicing via (Option: Sales, Contract)|Indicates whether the service commitment is invoiced through a contract. Service commitments with **Invoicing via**=**Sales** aren't invoiced and can't transfer to a contract.|**Always**|
|Invoicing Item No. (Code20)|Indicates which item is used in the contract invoice for invoicing the periodic service commitments. It must be an item with the **Service Commitment Option**=**Invoicing Item**.|Optional|
|Notice Period (Dateformula)|Specifies a Dateformula for the lead time that a cancellation must have before the service commitment is ended. The **Subsequent Term** is also used to determine the rate at which **Cancellation Possible Until** and **Term Until** are updated. Thus, for a subsequent term of **1M**, the notice period is recurrently postponed by one month.|Optional|
|Initial Term (Dateformula)|Specifies a Dateformula for calculating the minimum term of the service commitment. If the **Initial Term** is filled in and no **Subsequent Term** is entered, the **Service End Date** is automatically set to the end of the initial term.|Optional|
|Subsequent Term (Dateformula)|Specifies a Dateformula for automatic extension after the initial term and the rhythm of updating **Cancellation Possible Until** and **Term Until**. If the field is blank, and either the initial term or the notice period are set at the same time, the service end date is automatically set to the expiration date of the initial term or the notice period.|**Always**|
|Billing Rhythm (Dateformula)|Specifies the rhythm at which the service commitments are billed. Via a Dateformula, the rhythm can be set to, for example, monthly, quarterly, or yearly calculation.|**Always**|
|Print Line (Boolean)|Specifies whether a line is output when the sales document is printed.|Optional|
|Formatting (Option: Normal, Bold, Italic)|Specifies whether a line in the sales document is printed bold or italic (default: *Normal*).|Optional|
|Print Discount % (Boolean)|Specifies whether the line discount percentage is printed for the line in the sales document (default: *Yes*).|Optional|
|New Page (Boolean)|Specifies whether a new page should be started with this line in the sales document (default: *No*).|Optional|
|Print Quantity only (Boolean)|Specifies that only the quantity (without sales price) is printed for the corresponding line in the sales document (default: *No*).|Optional |

* Mandatory fields always apply to the creation of billable contract lines. Mandatory fields, for example, for comment lines, differ.

If the processing is successful, service commitments and contract lines are created and **Service Object created** is selected.

* The **Processed by** field shows the user who performed the processing.
* The **Processed on** field shows the date and time of the processing.
* Errors display in the **Error Text** field.

> [!TIP]
> To create a comments line in a contract, the **Contract No.**, **Description**, and **Invoicing via**=*Contract* must be entered.

The following fields only need to be considered if you use a currency different from the local currency. The contract defines the currency. To avoid the conversion at a different rate, you can import currencies.

|Name|Description|To be filled|
|:--|:--|:--|
|Discount Amount (MW) (Decimal)|Indicates the discount amount in local currency that applies to the service commitments.|Optional|
|Service Amount (MW) (Decimal)|Indicates the amount minus the discount granted in local currency. In the contract, the **Service Amount** and not the **Service Amount (MW)** is used for invoicing.|Optional|
|Currency Code (Code10)|Indicates the currency for the service commitments.|Optional|
|Currency Factor (Decimal)|Indicates the currency factor valid for the service commitments, which is used to convert the amounts into local currency.|Optional|
|Date Currency Factor (Date)|Indicates the date when the currency factor was last updated.|Optional|
|Calculation Base Amount (MW) (Decimal)|Indicates the basis on which the price in local currency is calculated.|Optional|

The fields in the following table only need to be considered if billing is to take place with usage based billing.

|Name|Description|To be filled|
|:--|:--|:--|
|Usage Based Billing (Boolean)|Indicates whether usage data is used as the basis for invoicing.|Optional|
|Usage Based Pricing (Option: Usage Quantity, Fixed Quantity, Unit Cost Surcharge)|Specifies the method for calculating prices on the customer side.|Optional|
|Pricing Unit Cost Surcharge % (Decimal)|Specifies the surcharge as a percent for the customer price calculation, if you use unit cost surcharge.|Optional|
|Supplier Reference Entry No. (Integer)|Indicates the sequence number of the related reference.|Optional|

## See also

[General setup](general.md)  
[Contract types](contract-types.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/general
---
title: General setup
description: There are a few general things to set up for subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# General setup

## Service contract setup

Use the **Service Contract Setup** page to enter settings and defaults for creating and managing customer and vendor contracts. For example, use the page to specify the default number series.

<!--### Inventory picks

If a location requires a dedicated warehouse activity when picking items (**Require Pick**=*Yes* in the Location Card, FastTab *Warehouse*), the item is subsequently delivered via commission. In order to handle the base date for the calculation of the service start differently, the reference date can be specified via **Service Start Date for Warehouse Picking**. It is used when the item is shipped from a commission or warehouse pick. For more information on warehouse and logistics functionalities, go to [Set up locations](../../inventory-how-setup-locations.md). -->

### General

The **Default Period Calculation​** determines which period calculation option is set on a service commitment package line. To learn more about the **Align to Start of Month** and **Align to End of Month** options, go to [Managing contracts, service objects, and services commitments](../working-with-contracts/contracts-services-mgmt.md). By changing the default, the value updates in all existing service commitments, sales service commitments, and service commitment package lines. If the existing records aren't updated, the period calculation isn't changed. Only the default value for creating new service commitment package lines changes.

You can set a date formula in the **Overdue Date Formula** field that filters for overdue service commitments in the **Service Commitments - Overdue** cue in the **Subscription & Recurring Billing** Role Center. For example, you can enter **3D** if you want the cue to count a service commitment as overdue if the service commitment's next billing date is three or more days past the work date. If you leave the field blank, the cue doesn't show anything.

If a location requires a dedicated warehouse activity when picking items (The **Require Pick** toggle is turned on on the **Location Card** page on the **Warehouse** FastTab), the item is subsequently delivered via commission. To handle the base date for the calculation of the service start differently, the reference date can be specified via the **Service Start Date for Warehouse Picking**. It is used when the item is shipped from a commission or warehouse pick. To learn more about warehouse and logistics features, go to [Set up locations](../../inventory-how-setup-locations.md).

### Dimensions

The **Autom. Insert Cust. Contr. Dimension Value** field controls whether the customer contract number is automatically created as a new dimension value for each new customer contract. The number is then automatically assigned to the contract. The default value for this setting is **Yes**.

Dimensions are usually used for analysis or reporting purposes. To learn more about how dimensions work, go to [Work with dimensions](../../finance-dimensions.md).

### Number series

The number series for customer contracts, vendor contracts, and service objects determine which number series are used to set default numbers when creating new entities.

### Invoice details

The selection in the **Origin Name for Collective Sales Invoice** field controls which customer information you transfer to collective invoices for several contracts. You can select:

* The contractor (Sell-to Customer)
* The delivery recipient (Ship-to Address)
* Both

For example, this is interesting in the partner business if the end customer of the partner is deposited as the delivery recipient in the contract. The partner as the recipient of the invoice can thus easily understand which invoice components refer to which end customer.

The **Origin Name for Collective Sales Invoice** field is a default that is translated to the contractor name on the collective invoice and the recipient name in collective invoice fields when you create a new customer contract. To learn more, go to [Details for contract invoices](../working-with-contracts/customer-contracts.md#details-for-contract-invoices). The fields can be changed there. The fields on the customer contract determine how the invoice is created.

You can also specify whether additional texts that are added for contract lines when you create invoices. Their descriptions are used in the invoice line. You set up additional texts on the **Service Contract Setup** page, on the **Invoice Details** FastTab. The **Additional Lines 1 to 5** are created as text lines below the respective invoice line, depending on the configuration. The following contents can be passed to the invoice:

* Description of the service object
* Description of the service commitments
* Customer reference
* Serial number
* Billing period

> [!NOTE]
> You must set up at least one of the additional lines to output the billing period to include this information in the invoice. If you don't, you can't create posting documents and an error message displays.

## Item templates

Item templates contain the **Service Commitment Option** and **Service Commitment Packages** so they're predefined for new records.

## General posting setup

You set up the default G/L accounts to use in the same way as the [!INCLUDE [prod_short](../../includes/prod_short.md)] standard on the **General Posting Setup** page. The **Customer Contract Account**, **Customer Contract Deferral Account**, **Vendor Contract Account** and **Vendor Contract Deferral Account** are available for revenues from customer contracts, costs from vendor contracts and their respective deferrals. The fields are also included on the related **General Posting Setup** page. To learn more about how contract deferrals work, go to [Contract Deferrals](../working-with-contracts/contract-deferrals.md).

The default G/L accounts to be used are set up in the same way as the Business Central standard via [General Posting Setup](../../finance-posting-groups.md) page. The fields **Customer Contract Account**, **Customer Contract Deferral Account**, **Vendor Contract Account** and **Vendor Contract Deferral Account** are available for revenues from customer contracts, costs from vendor contracts and their respective deferrals. The fields are also included in the related **General Posting Setup Card** page. To learn more about how contract deferrals work and are handled, go to [Contract Deferrals](../working-with-contracts/contract-deferrals.md).

## Reports

Along with **Subscription & Recurring Billing**, the **Essentials** app is installed. The app includes, among others, enhancements to the dataset of the following standard reports:

* Purchase
   * Purchase Order
   * Blanket Purchase Order
  
* Sales
   * Quote
   * Order Confirmation
   * Blanket Sales Order
   * Shipment
   * Invoice (including details of service commitments invoiced)
   * Credit Memo
   * Reminder

An additional layout for Word and for RDL is supplied for each report.

## See also

[Contract types](contract-types.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/contract-types
---
title: Contract types
description: You can use different types of contracts in subscription and recurring billing.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: 
ms.search.form: 
ms.date: 08/14/2024
ms.service: dynamics-365-business-central
---

# Contract types

Use the **Contract Types** page to set up the types of contracts you use to manage and organize customer and vendor contracts. You can also use contract types as filters for billing. For example, maintenance or support contracts, insurance, or other types of incoming and outgoing recurring invoices.

For each contract type, you should enter a description and a unique code. The description is further used as an info line in the posting documents for the contracts.

> [!NOTE]
> You can define translations for contract types, and specify the language code. The language is used when you create [Posting documents](../posting-documents.md).

## Harmonized billing

The **Harmonized Billing Customer Contracts** field controls whether you bill the contract elements of customer contracts on a common due date. If it's selected, you can edit the corresponding fields in the **Harmonized Billing** group in the **Shipping and Billing** FastTab of the **Customer Contracts Card** page. If the field is reset, the fields on the customer contracts also reset and can be disabled upon request. To learn more, go to [Harmonized billing](../working-with-contracts/customer-contracts.md#harmonized-billing).

## Default without contract deferrals

Use the **Default Without Contract Deferrals** field to define the default value for the corresponding field in the contract. This makes it easier to create contracts and reduces handling errors. When you select the contract type, the value is copied to the field in the contract. You can change the value manually, if needed.

## See also

[General setup](general.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-online-maps
---
title: Use Online Maps to Find Locations and Directions
description: Learn about using address data in Business Central to get an online map with route directions.
author: brentholtorf
ms.service: dynamics-365-business-central
ms.topic: article
ms.search.form: 21, 26, 76, 86, 88, 300, 370, 800, 804, 5050, 5200, 5703
ms.date: 07/15/2022
ms.author: bholtorf
ms.reviewer: bholtorf
---
# Use Online Maps to Find Locations and Directions

You can get a map from your online map service that shows the address and location of a customer or vendor, or generate route directions to them. The **Online Map** feature can be accessed on the following cards in [!INCLUDE[prod_short](includes/prod_short.md)]:

* Location card
* Customer card
* Vendor card
* Resource card
* Project card
* Bank account card
* Contact card
* Employee card
* Ship-to address

> [!NOTE]
> If there is no code in the **Country/Region Code** field, the online map will not be able to find directions.

## Find a location in an online map

1. Open one of the cards listed above.
2. Choose the **Online Map** or **Show on Map** action.
3. Choose the **This address** field, then choose **OK**.
4. The configured online map opens with the address location defined on the card.

## Get route directions from your location

1. Open one of the cards listed above.
2. Choose the **Online Map** or **Show on Map** action.
3. Choose the **Directions from my location** field, then choose **OK**.
4. The configured online map opens with route directions to the location defined on the card.

> [!NOTE]
> The online map opens in the default browser or app, which may request access to the device's location data.

## See also

[Set Up Online Maps](across-online-maps-setup.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-post-scrap
---
title: Post Scrap Manually
description: If scrap is produced during processing, it can be entered in the output journal. Note that the scrap quantity does not increase the output quantity.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.form: 99000823
ms.date: 03/08/2023
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Post Scrap Manually

If scrap is produced during processing, it can be entered in the output journal.  

> [!NOTE]
> The scrap quantity does not increase the output quantity.  

## To post scrap manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Output Journal**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
3. In the **Scrapped Quantity** field, enter the scrap quantity.  
4. In the **Scrap Code** field, enter the scrap code.  
5. Choose the **Post** action to post the specified scrap per operation.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]    

## See Also

[Manufacturing](production-manage-manufacturing.md)
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-how-to-sell-items-assembled-to-order
---
title: Sell Items Assembled to Order
description: Learn how to sell an item that is assembled to order.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 11/23/2022
ms.search.keywords: kit, kitting, substitute items
ms.search.form: 900, 901, 902, 903, 904, 907, 910, 916, 920, 921, 922, 923, 940, 941, 942, 930, 931, 932, 914, 915, 905
ms.custom: bap-template
---
# Sell Items Assembled to Order

Items that are set up for assemble-to-order aren't expected to be in inventory and will be assembled when it's included on a sales order. An item is set up for assemble-to-order when the **Assembly Policy** field on the item card contains **Assemble-to-Order**. When you enter the item on a sales order line, an assembly order is automatically created and linked to the sales order.  

> [!NOTE]  
> If assemble-to-order items are already in inventory, you can deduct that quantity from the assembly order and reserve it from inventory. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md).  

In this procedure, you process the sale of an item that will be assembled according to specifications that are requested by the customer. The steps include: 

* Creating a sales order line.
* Customizing the assembly item by editing its components and resources.
* Checking availability to establish a delivery date.
* Releasing the sales order to be assembled and immediately shipped.  

> [!NOTE]  
> The following procedure does not include the steps for creating a standard sales order that happen before the step where you enter the assemble-to-order item on a sales order line. Learn more about creating sales orders at [Sell Products with a Customer Sales Order](sales-how-sell-products.md).  

## To sell an item that is assembled to order

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Create a sales order. 
3. In the **No.** field, enter an item that is set up to be assembled to order.  
4. In the **Location Code** field, define which location the item will be sold from. The assembly process will occur at that location.  
5. In the **Quantity** field, enter how many units to sell.  

    > [!NOTE]  
    >  If one or more components of the requested assembly item quantity aren't available, an availability warning page opens. <!-- Check whether the field help would be useful. For more information, see Assembly Availability.  -->

    An assembly order is created and linked to the sales order line. The due date of the assembly order is the shipment date of the sales order line.  

    The quantity to sell is copied to the **Qty. to Assemble to Order** field, which indicates that the item setup expects you'll assemble the full quantity on the sales line. You can decrease the quantity to assemble, for example, if you know that some items are already available. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-inventory-items-in-assemble-to-order-flows.md).  

6. If the customer wants an additional item in a kit, on the **Lines** FastTab, choose the **Line** action, choose the **Assemble to Order** action, and then choose the **Assemble-to-Order Lines** action to view and change the standard assembly components. Alternatively, choose the **Qty. to Assemble to Order** field.  
7. On the **Assemble-to-Order Lines** page, create a new line of type **Item** for the additional assembly component.  

    You can also customize the order by increasing the quantity of one standard item in the kit. You can do this by increasing the value in the **Quantity Per** field on the specific assembly order line.  

    > [!NOTE]  
    >  The **Assemble-to-Order Lines** page only contains the basic fields for customizing the component list, adding item tracking numbers, or solving component availability issues. To add more assembly order information, such as the assembly order starting date, choose the **Show Documents** action. This opens a full view of the assembly order that is linked to the sales order line. You can't change the contents of most fields on the assembly order header, and you can't post assembly output from it. You must post the shipment of the sales order line.  
    >
    >  On the linked assembly orders, only the **Starting Date** field can be changed. Changing the starting date lets assembly workers specify that they're starting assembly earlier than the due date. All fields on the lines of the linked assembly order can be changed so that warehouse workers can enter consumption figures during the process.  

8. Review or react to component availability issues. For example, select a substitute item.  
9. Close the **Assemble-to-Order Lines** page. The linked assembly order is ready, and workers can start to assemble the customized items.  
10. On the sales order, choose the **Release** action to notify the assembly department that the assembly process can start. Learn more at [Assemble Items](assembly-how-to-assemble-items.md).  

> [!NOTE]  
> Item substitutions don't automatically replace an item with another item, for example, when creating a sales order or in a BOM. Instead, you'll be alerted to the fact that a substitution is available.

## See also

[Assembly Management](assembly-assemble-items.md)  
[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)  
[Register New Items](inventory-how-register-new-items.md)  
[Inventory](inventory-manage-inventory.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-posting-engine-structure
---
title: Design Details - Posting Engine Structure
description: The posting interface uses posting engine functions to prepare and insert general ledger entry and VAT entry records. 
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 06/15/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Posting Engine Structure
Posting interface and some other functions in codeunit 12 use posting engine functions to prepare and insert general ledger entry and VAT entry records. The posting engine is also responsible for general ledger register creation.  
  
 The functions in the following table provide a standard framework for designing posting procedures (such as Code, CustPostApplyCustledgEntry, VendPostApplyVendLedgEntry, UnapplyCustLedgEntry, UnapplyVendLedgEntry, and Reverse) and exclusive access to table 17, G/L Entry.  
  
|Routine|Description|  
|-------------|---------------------------------------|  
|StartPosting|Initializes posting buffer TempGLEntryBuf, locks G/L Entry and VAT Entry tables, and initializes Accounting Period, G/L Register, and Exchange Rate. Should be called only once, then NextEntryNo is 0.|  
|ContinuePosting|Checks and posts unrealized VAT for previous transaction increment NextTransactionNo and prepares post of next line.|  
|FinishPosting|Completes posting by inserting G/L entries from temporary buffer into database table. Always used together with StartPosting. Checks for inconsistencies.|  
|InitGLEntry|Used to initialize new G/L entry for Gen. Jnl Line. Returns GLEntry as parameter.|  
|InitGLEntryVAT|Same as InitGLEntry, but also assigns Bal. Account No. and SummarizeVAT.|  
|InitGLEntryVATCopy|Similar to InitGLEntryVAT, but also copies posting groups data from VAT Entry before SummarizeVAT.|  
|InsertGLEntry|The only function that inserts G/L entry into global TempGLEntryBuf table. Always use this function for insert.|  
|CreateGLEntry|Performs an InitGLEntry, assigns Additional Currency Amount, and then performs InsertGLEntry. Replaces several lines of code with a single function call.|  
|CreateGLEntryBalAcc|Same as CreateGLEntry, but also assigns Bal. Account Type and Bal. Account No.|  
|CreateGLEntryVAT|Same as CreateGLEntry, but with additional processing for posting groups and saving to temporary VAT buffer:<br /><br /> `GLEntry.CopyPostingGroupsFromDtldCVBuf(DtldCVLedgEntryBuf,GenJnlLine."Gen. Posting Type");`<br /><br /> `InsertVATEntriesFromTemp(DtldCVLedgEntryBuf,GLEntry);`|  
|CreateGLEntryVATCollectAdj|Same as CreateGLEntry, but with additional collection of adjustments and saving to temporary VAT buffer:<br /><br /> `CollectAdjustment(AdjAmount,GLEntry.Amount,GLEntry."Additional-Currency Amount",OriginalDateSet);`<br /><br /> `InsertVATEntriesFromTemp(DtldCVLedgEntryBuf,GLEntry);`|  
|CreateGLEntryFromVATEntry|Same as CreateGLEntry, but also copies posting groups from VAT entry.|  
  
## See Also  
 [Design Details: Posting Interface Structure](design-details-posting-interface-structure.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-send-documents-email
---
title: Send documents and emails
description: You can define content to insert into the body of an email message, for example, a PayPal link. You can also attach documents to email messages.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: SMTP, mail, Microsoft 365, cover, body, PayPal, layout
ms.search.form: 41,
ms.date: 05/01/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Send documents and emails

You can easily share information and documents, such as sales and purchase orders and invoices, by email directly from [!INCLUDE[prod_short](includes/prod_short.md)], without having to open an email app.  

You can send almost all types of documents as PDF attachments. Alternatively, you can set up a report layout that includes information from the document in the email text, along with text that makes the email more friendly, for example, a standard greeting. For more information, see [Managing Report and Document Layouts](ui-manage-report-layouts.md).

When you send invoices, you can make it easier for customers to make payments through a payment service, such as PayPal, by automatically adding information and a link to the service in the email. For more information, see [Enable Customer Payments Through Payment Services](sales-how-enable-payment-service-extensions.md).

To enable emails from within [!INCLUDE[prod_short](includes/prod_short.md)], start the **Set Up Email** assisted setup guide. For more information, see [Set Up Email](admin-how-setup-email.md).

> [!NOTE]
> [!INCLUDE[prod_short](includes/prod_short.md)] supports only outbound email communications. You cannot also receive replies from within the app.

## To send documents by email

This procedure describes how attach a posted sales invoice to an email as a PDF file, and with document-specific email text. The steps are the same for other documents.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Invoices**, and then choose the related link.
2. Select the invoice, choose the **Print/Send** action, and then choose **Send by Email**.
3. In the **Email** field, choose **Yes (Prompt for Settings)**. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).

    If the **Email** field on the **Send Document to** page is set to **Yes (Prompt for Settings)**, then the **Send Email** page opens pre-filled with the contact person in the **To:** field and the document attached as a PDF file. In the **Body** field, you can either enter text manually or you can have the field filled with a document-specific email body that you have set up.

4. Choose the **OK** button.
5. In the **To:** field, enter a valid email address. The default value is the customer email address.
6. In the **Subject** field, enter a descriptive subject text. The default value is the customer name and invoice number.
7. In the **Attachment** field, the generated invoice is attached by default as a PDF file.
8. In the **Body** field, enter a short message to the recipient.

    If a document-specific email text is set up on the **Report Selection - Sales** page, the **Body** field is filled in automatically. For more information, see [Set Up Reusable Email Texts and Layouts](admin-how-setup-email.md#set-up-reusable-email-texts-and-layouts).
9. Choose the **OK** button to send the email message.

> [!NOTE]  
> If you do not want to specify email settings each time you email a document, you can select the **Yes (Use Default Settings)** option in the **Email** field on the **Send Document to** page. In that case, the **Send Email** page will not open. See Step 4. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).  

## To compose and send an email

You can quickly compose emails for contacts, customers, vendors, salespeople/purchasers, and bank accounts directly from the pages for those entities. Just choose **Process**, and then **Send Email** to open the email editor. For bank accounts, the **Send Email** action is under **Actions**.

> [!TIP]
> If you often send email messages that are similar in nature, or want to send a bulk communication, for example, to advertise a sales campaign, using Word templates with email can speed up the process. You can create a template for an entities such as customers, vendors, and contacts, that will generate the content of an email message for you, and even personalize the content for the recipient based on data in [!INCLUDE[prod_short](includes/prod_short.md)]. For more information, see [Use Word Templates for Bulk Communication](ui-mail-merge.md).  

### Attach a document to an email

There are several ways to attach documents to emails.

If you're assigned to an email scenario related to the entity you're sending the email to, or the document you're sending, an attachment might be automatically added to your message. That's because a default attachment has been assigned to the email scenario. You can delete the attachment if you don't want to send it with your message. For more information, see [Assign Email Scenarios to Email Accounts](admin-how-setup-email.md#assign-email-scenarios-to-email-accounts). 

To attach a file yourself, in the email editor, use the following actions:

* Choose **Add file** to select a file.
* Choose **Add files from default selection** to manually add a file that's associated with the email scenario.
* Choose **Add file from source document** to choose a file that's attached to the document you're working with. The files are either attached to the document itself, or one or more of its lines.

## Documents marked as printed when they are sent

Some documents in [!INCLUDE[prod_short](includes/prod_short.md)] have a field that specifies how many times the document has been printed. The number in that field <!--"that field?" need a name...--> is also updated if you send the document by email because a PDF file is generated for it. The number is updated even if you don't send the email. <!--guessing this is because emails are technically reports, so the counter bumps up whenever someone creates an email. Need to verify.-->

## Sent emails and your email outbox

[!INCLUDE[prod_short](includes/prod_short.md)] stores the emails that you send on the **Sent Items** page. That's to let you resend emails, or forward them to someone else. If you can't find an email in your sent items, look for it on the **Email Outbox** page. 

> [!NOTE]
> Depending on the extension that your company uses for email, administrators can see a list of messages that everyone has sent, but not the content of the messages

The **Email Outbox** is where you'll find the emails that you saved as drafts, and emails that failed to send, for example, if the email address was invalid. For messages that failed to send, you can choose **Show Error** or **Investigate Error** to troubleshoot the problem.  

## See Also

[Managing Report and Document Layouts](ui-manage-report-layouts.md)  
[Set up Email](admin-how-setup-email.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-work-nonstock-items
---
title: Create and manage catalog items
description: Learn how to sell items that you don't keep in your list of items.
author: brentholtorf 
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 11/21/2024
ms.custom: bap-template
ms.search.keywords: non-inventoriable
ms.search.forms: 5725, 5726, 5732
ms.service: dynamics-365-business-central
---

# Work with catalog items

Catalog items are items that you don't manage in [!INCLUDE[prod_short](includes/prod_short.md)] until you sell them. When you use the **Select Catalog Item** action to add a catalog item to a line on a sales order, quote, or blanket sales order, the catalog item is converted to a regular item.

> [!NOTE]  
> You can't select a catalog item from the **Sales Invoice** page.

A catalog item typically has the item number of the vendor who supplies it. Before you can convert a catalog item to a normal item, you must specify how to convert vendor item numbers to your item numbering. To learn more about item numbering, go to [Specify how catalog item numbers are converted to your own numbering](#specify-how-catalog-item-numbers-are-converted-to-your-own-numbering).  

> [!IMPORTANT]
> Catalog items are not to be mistaken with non-inventory items, which are regular items that are given the type **Non-Inventory** to keep them out of availability and costing calculations, for example, because they are only used internally and have a low cost. To learn move about non-inventory items, go to [About Item Types](inventory-about-item-types.md).

## Create a catalog item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Catalog Items**, and then choose the related link.
2. On the **Catalog Items** page, choose the **New** action.
3. On the **Catalog Item Card** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Specify how catalog item numbers are converted to your own numbering

Before you can convert a catalog item to a regular item, you must specify how to convert vendor item numbers to the structure you use for item numbers.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Catalog Item Setup**, and then choose the related link.
2. In the **No. Format** field, choose the option you prefer.

## Convert a catalog item to a normal item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Catalog Items**, and then choose the related link.
2. Open the card for a catalog item that you want to convert to a normal item.
3. On the **Catalog Item Card** page, choose the **Create Item** action.

A new item card prefilled with information from the catalog item and an item template is created. You can edit the information about the new item if needed. To learn more about creating items, go to [Register New Items](inventory-how-register-new-items.md).

> [!NOTE]  
> An item reference is automatically created between the vendor's item number and your new item number. To learn more about item references, go to [Use Item References](inventory-how-use-item-cross-refs.md).

## To sell a catalog item and convert it to a normal item

The following process uses a sales order, but the steps are the same for blanket sales orders and quotes.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Choose the **New** action. Fill in the fields on the **General** FastTab as for any sales order. For more information, see [Sell Products](sales-how-sell-products.md).
3. On a new sales line, in the **Type** field, select **Item**, but leave the **No.** field empty.
4. Choose the **Line** action, and then choose the **Select Catalog Items** action.
5. On the **Catalog Items** page, select the catalog item that you want to sell, and then choose the **OK** button.
   The catalog item automatically converts to a normal item, and the new normal item is selected on the sales line.
6. When the sales order is complete, choose the **Post** action.

> [!IMPORTANT]
> If you change you mind and delete the sales line, the automatically created item is also deleted. Deleting the item helps reduce clutter in you list of items.
>
> The item is also deleted if you convert the item manually, or make changes such as adding new units of measure or updating prices or cost. However, the item won't be deleted if it's already used in sales or purchase lines, assembly BOMs, or has ledger entries.

## See also

[Register New Items](inventory-how-register-new-items.md)  
[Create Special Orders](sales-how-to-create-special-orders.md)  
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-onedrive-faq
---
title: OneDrive in Business Central FAQ
description: Get answers for some typical questions about working with OneDrive for work or school (formerly known as OneDrive for Business) and Business Central.
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: OneDrive, integration, share, browser
ms.date: 01/28/2025
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# OneDrive in Business Central FAQ

[!INCLUDE [online_only](includes/online_only.md)]

This article answers common questions about using OneDrive for Business with [!INCLUDE [prod_short](includes/prod_short.md)].

## Does this work with all [!INCLUDE[prod_short](includes/prod_short.md)] clients?

Yes. You can open files in OneDrive from the [!INCLUDE[prod_short](includes/prod_short.md)] mobile apps, when viewing card details in Microsoft Teams, or even from the Outlook add-in.  

## Is OneDrive the same as SharePoint for storing files?

No. OneDrive is private by default, allowing you to organize and share content, while SharePoint offers a shared file repository for your organization. Additionally, OneDrive is included in your Microsoft 365 subscription.

## Does [!INCLUDE[prod_short](includes/prod_short.md)] support consumer OneDrive?

No. This integration is exclusively intended for OneDrive for Business and only supports your work account. 

## Are all OneDrive for Business plans supported?

[!INCLUDE[prod_short](includes/prod_short.md)] doesn't support standalone OneDrive for Business plans. OneDrive must be part of a Microsoft 365 business or enterprise plan. Learn more at [Compare OneDrive plans](https://www.microsoft.com/microsoft-365/onedrive/compare-onedrive-plans?market=af&activetab=tab:primaryr2).

## Where can I see OneDrive service health?

Administrators can access the Service health dashboard in the Microsoft 365 admin center. The dashboard includes OneDrive's service availability. Visit the [Service health dashboard](https://admin.microsoft.com/Adminportal/Home?#/servicehealth).

## Is OneDrive integration available to [!INCLUDE[prod_short](includes/prod_short.md)] on premises?

Yes, but unlike [!INCLUDE[prod_short](includes/prod_short.md)] online, it does require more setup. Learn more in [Configuring Business Central on-premises](admin-onedrive-integration-onpremises.md).  

## Does [!INCLUDE[prod_short](includes/prod_short.md)] on premises connect with SharePoint Server?

No. This deployment combination isn't supported, even if SharePoint Server is enabled with My Sites.  

## Does [!INCLUDE[prod_short](includes/prod_short.md)] online connect with SharePoint Server?

No. This deployment combination isn't supported, even if SharePoint Server is enabled with My Sites.  

## How does this work in an organization with multiple environments?

The integration assumes that company names are unique across [!INCLUDE[prod_short](includes/prod_short.md)] environments. When company names are unique across the organization, opening a file in OneDrive will copy the file to a folder named after the current company. If company names aren't unique across environments, files from identical company names might be placed together in the same folder.  

## We changed the company name. What happens to my previous files?

[!INCLUDE[prod_short](includes/prod_short.md)] doesn't automatically migrate files you opened earlier in OneDrive to the new folder. After you rename your company, the Open in OneDrive action will copy files to a folder that has the new company name.   

## When I want to attach a file in [!INCLUDE[prod_short](includes/prod_short.md)], how do I pick a file from OneDrive?

[!INCLUDE[prod_short](includes/prod_short.md)] doesn't provide a cloud file picker. You must download the file from OneDrive to your device, and then upload it to [!INCLUDE[prod_short](includes/prod_short.md)]. 

## I want to open files in SharePoint instead. How do I do this?

[!INCLUDE[prod_short](includes/prod_short.md)] doesn't provide features to copy files to SharePoint and open them from a SharePoint library. Contact your Microsoft partner to understand your options, or search for apps on AppSource.  

## How do I turn off integration to OneDrive?

Run the **OneDrive Setup** assisted setup guide and turn off the **Use OneDrive for app features** and **Use OneDrive for system features** switches.

## Should I use the SharePoint Connection Setup page to connect to SharePoint?

> **APPLIES TO:** Business Central on-premises, version 21 and 22

This page is a legacy feature where all [!INCLUDE[prod_short](includes/prod_short.md)] files from all users are sent to a single SharePoint folder. We recommend that you don't configure the Shared Documents FastTab on the **SharePoint Connection Setup** page because this page is [deprecated](/dynamics365/business-central/dev-itpro/upgrade/deprecated-features-w1#microsoft-sharepoint-connection-setup) and removed in 2023 release wave 2, version 23.0. We recommend that you use the **OneDrive Setup** instead.  

## Which version of [!INCLUDE[prod_short](includes/prod_short.md)] supports OneDrive?

Integration with OneDrive became available in 2021 release wave 2.  

## <a name="features"></a>Which features are affected by OneDrive integration?

In the **OneDrive Setup** assisted setup guide for setting up OneDrive integration, you can turn on or off features for handling Business Central files in OneDrive. The features are divided between two options:

|Option|Description|
|------|----------|
|**Use for app features**|If you turn on this option, the **Open in OneDrive** and **Share** actions are made available on files in Business Central, like files attached to documents or in the report inbox. These actions let users copy, open, and share files in OneDrive. Learn more in [Opening and Sharing Business Central Files in OneDrive](across-share-onedrive.md).
|**Use for system features**|Turning on this option activates the following features:<ul><li> The **Open in Excel** and **Edit in Excel** actions on list pages automatically copy the Excel file to OneDrive, then open it in Excel Online. Learn more in [Viewing and Editing in Excel](across-work-with-excel.md).</li><li> Sending a report to an Excel or Word file automatically copies the file to OneDrive, then opens it in the Excel or Word online. Learn more in [Saving a report to a file](ui-work-report.md#save-a-report-to-a-file).|

## Will Microsoft continue to improve the integration to OneDrive?

At Microsoft, we're constantly listening to feedback from our diverse user community and acting upon the top suggestions. To learn about what's next for integrations with Microsoft 365 apps, see the [Dynamics 365 release plan](/dynamics365-release-plan/2021wave1).  

If you want to participate in improving OneDrive integration, or have an idea that would improve file sharing and collaboration in [!INCLUDE[prod_short](includes/prod_short.md)], add an idea or vote for existing ideas at [https://aka.ms/BusinessCentralIdeas](https://aka.ms/BusinessCentralIdeas).

## Does OneDrive work for guest users and delegated admins?

OneDrive features don't work when you're signed in to Business Central as a guest user. For example, if you select **Open in OneDrive** or **Share** on a file, you get the message "Could not connect to your OneDrive for Business."

If you're signed in as a delegated admin, files are downloaded instead of connecting to OneDrive.

These limitations apply to all OneDrive-based features in Business Central, including file sharing, opening, or editing.

## Troubleshooting

This section provides information about how to identify and fix problems you might experience when using OneDrive with [!INCLUDE[prod_short](includes/prod_short.md)].  

### Business Central can't find my OneDrive

When this message displays, "Could not determine the location of your OneDrive for Business, contact your partner to set this up.", check whether the user accessed their OneDrive at least one time. If they haven't, ask the person to visit [https://portal.office.com/onedrive](https://portal.office.com/onedrive) to set it up. This step can take a while. If the message still displays after 24 hours, contact Support.  

### I'm having problems sharing from Outlook

Learn more at [Can't share OneDrive files from Outlook.com](https://support.microsoft.com/en-us/office/can-t-share-onedrive-files-from-outlook-com-05d4cb21-40a2-40e3-b111-82cddb82d22f) on Microsoft Support.

### Actions Open in OneDrive and Share are missing

There are a couple things you can check:

- Check that the application features for OneDrive are turned on in the **OneDrive Setup** assisted setup guide. Learn more in [Configure OneDrive using OneDrive Setup](admin-onedrive-integration.md#configure-onedrive-using-onedrive-setup).
- Check that Microsoft OneDrive is set to **Agree** in the **Privacy Notices Status** page. Learn more in [Privacy Notices Status](privacy-notices-status.md).

## Related information

[Business Central and OneDrive Integration](across-onedrive-overview.md)  
[Managing OneDrive Integration with Business Central](admin-onedrive-integration.md)  
[Opening Business Central Files in OneDrive](across-share-onedrive.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-order-agent-item-availability
---
title: Item availability in Sales Order Agent (preview)
description: Learn about the item availability used by the Sales Order agent and how you cant test results on your own.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: conceptual
ms.collection:
  - bap-ai-copilot
ms.date: 04/01/2025
ms.custom: bap-template
ms.search.form: 4400, 4410_Primary
---
# Item availability in Sales Order Agent (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

The **Item Availability** page is part of the Sales Order Agent for checking item availability during the sale order taking process. This article provides a detailed overview of how the **Item Availability** page functions, including configuration and field descriptions.

![Screenshot of item availability page](media/soa-item-availability-page-clip.svg)

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]
<!--[!INCLUDE [limited-public-preview](includes/limited-public-preview.md)]-->

## Overview

Admins can set up the Sales Order Agent to select only available items for sales quotes or orders. Learn more in [Set up Sales Order Agent (preview)](sales-order-agent-setup.md).

When this capability is turned on, the Sales Order Agent uses the **Item Availability** page to check an item's availability before adding it the quote or order. If an item isn't available, reviewers are notified by a **Request Assistance** step in the timeline for the task in **Task** tab.

![Screenshot of the Sales Order Agent task tab that shows a request for assistance step about item availability](media/soa-item-availability.png)

As a reviewer, use the **Item Availability** page to verify that items are unavailable. Decide whether to stop the task or let the agent proceed. You can't change items and quantity at this point. If you confirm the step, the agent creates an email to the customer about the unavailable items for your review.

<!--
Here's the general flow:

1. Select **Review** or the **Item Availability** link to open the **Item Availability** page.
1. Verify that the items in question are unavailable. Refer to the next section for details about how the page works.
1. When you're finished reviewing availability, return to the confirmation step in the **Tasks** tab and select **Confirm**.

The agent creates an email about the unavailable items for your review.
-->

## How to check item availability page

Before the agent calculates the availability and prices for requested items, its searches for the customer making the request, retrieves the customer's specific location, and then sets the **Customer No.** and **Location Filter** fields on the **Item Availability** page.

After setting these fields, the agent calculates the availability of each item in the request one at a time. The agent sets the **Date filter** with the customer's requested delivery date, if any, and the **Quantity Filter** to the requested quantity, currently only in the base unit of measure.

As a reviewer, these fields aren't automatically set to the values the agent used. To check availability, set the fields manually based on the customer's request.

For each item, the following fields are calculated:

|Field|Description|
|-|-|
|Requested Quantity Available|Indicates whether the quantity of items requested by the customer, specified by the **Quantity Filter** field, is available. If the **Quantity Filter** is less than or equal to the **Available Quantity (Base UOM)**, the item is available, and the check box is selected. If the **Quantity Filter** field is greater than item isn't available, and the check box is cleared. |
|Available Quantity (Base UOM)|Shows the projected available balance of item quantity on the date specified by the **Date Filter**. Calculated by adding the current item inventory in ledger entries to the items in scheduled receipts (inbound transactions like purchase and transfer orders). Then, subtract the items in gross requirements (outbound transactions like sales, service, and production orders). You can select the value to display the totals for item ledger entries and each receipt type. Then, you can drill down to view the source of these totals.|
|Unit of Measure Code|Shows the item's sales unit of measure code. If the field is empty, the base unit of measure is used.|
|Unit of Measure|The item's sales or base unit of measure description. Learn more in [Set Up Units of Measure](inventory-how-setup-units-of-measure.md).|
|Available Quantity|Shows the available quantity in base unit of measure (UOM) recalculated to the sales unit of measure.|
|Unit Price Including Discount|Shows the items' price including discount calculated for a specified customer on a specified date. Learn more in [Record special sales prices and discounts](sales-how-record-sales-price-discount-payment-agreements.md).|
|Availability Level|Shows the level of the item's availability, such as ***Available** or **Out of Stock**. The value is calculated based on the **Available Quantity (Base UOM)** compared to the **Safety Stock  Quantity** specified on the item or storekeeping unit card. Learn more about safety stock in [Design Details: Balancing supply and demand](design-details-balancing-demand-and-supply.md).|

## Related information

[Sales order agent overview](sales-order-agent.md)  
[Set up the Sales Order Agent](sales-order-agent-setup.md)  
[Process sales quotes and orders with Sales Order Agent](sales-order-agent-process.md)  
[FAQ for Sales Order Agent](faqs-sales-order-taker-agent.md)  
[Configure Copilot and agent capabilities](enable-ai.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-create-workflows
---
title: Create approval workflows to connect tasks
description: Learn how to create workflows that connect tasks performed by different people in business processes.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 05/29/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central

---
# Create workflows to connect tasks in business processes

You can create workflows that connect tasks in business processes that are performed by different users. You can include system tasks, such as automatic posting, as steps in workflows that are preceded or followed by user tasks. Requesting and granting approval to create new records are typical workflow steps.  

On the **Workflow** page, create a workflow by listing the steps on the lines. Each step consists of a trigger and a response:

* An event that specifies the conditions that will start the workflow.
* A workflow response that defines what the workflow does.

[!INCLUDE[workflow](includes/workflow.md)]

When you create workflows, you can copy the steps from existing workflows or from workflow templates. Workflow templates are non-editable workflows [!INCLUDE[prod_short](includes/prod_short.md)] provides. The identifiers for workflow templates are prefixed with "MS-", such as in "MS-PIW". Learn more at [Create Workflows from Workflow Templates](across-how-to-create-workflows-from-workflow-templates.md).  

> [!NOTE]  
> All notifications about workflow steps are sent through a job queue. Make sure the job queue reflects your business needs. Learn more at [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).  

:::image type="content" source="media/Workflows/workflow-example.png" alt-text="Illustration of a workflow example.":::

A workflow is divided into three sections:

1. **When Event**  
   This is where the trigger is selected.  
   Examples of a trigger:
   * A master data record is changed
   * A journal line is created
   * An incoming document is created or released
   * Approval of a document is requested
2. **On Condition**  
   The **conditions** are related to the event and allows creating filters to decide on how the workflow continues.
3. **Then Response**  
   The **responses** specify the next steps in the workflow.

The options for events and responses are system-defined. To add new options, you'll need to develop an extension.

## To create a workflow

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, then choose the related link.  
2. Choose the **New** action. The **Workflow** page opens.  
3. In the **Code** field, enter a maximum of 20 characters to identify the workflow.  
4. To create the workflow from a workflow template, on the **Workflows** page, choose the **New Workflow from Template** action. Learn more at [Create Workflows from Workflow Templates](across-how-to-create-workflows-from-workflow-templates.md).  
5. In the **Description** field, describe the workflow.  
6. In the **Category** field, specify which category the workflow belongs to.  
7. In the **When Event** field, specify the event that must occur to start the workflow step.  

   When you choose the field, the **Workflow Events** page lists all available workflow events.  
8. In the **On Condition** field, specify one or more conditions that must be met before the event in the **When Event** field can occur.  

   When you choose the field, the **Event Conditions** page lists filter fields that can be conditions for the event. You can add new filter fields if you want.  

   If the workflow event is the change of a specific field on a record, use the **Event Conditions** page to select the field and the type of change.  

   1. To specify a field change for the event, on the **Event Conditions** page, in the **Field** field, select the field that changes.  
   2. In the **Operator** field, select either **Decreased**, **Increased**, or **Changed**.  
9. In the **Then Response** field, specify the response that will follow when the workflow event occurs.  

   When you choose the field, the **Workflow Responses** page lists all available workflow responses and response options.  
10. On the **Options for the Selected Response** FastTab, specify options for the workflow response by selecting values in the different fields that appear, as follows:  

    1. To specify options for a workflow response that involves sending a notification, fill the fields as described in the following table.  

    > [!NOTE]
    > These fields vary, depending on the response you've chosen.

       |Field|Description|
       |-----|-----------|
       |**Notify Sender**|Specify whether to notify the approval requestor instead of the approval request recipient. If you select the checkbox, the **Recipient User ID** field is disabled because the requestor of the approval, the sender, will be notified instead. The name of the workflow response changes accordingly, to **Create Notification for &lt;Sender&gt;**. If the checkbox isn't selected, the name of the workflow response is **Create Notification for &lt;User&gt;**.|
       |**Recipient User ID**|Specify the user the notification must be sent to. **Note**: This option is only available for workflow responses with a placeholder for a specific user. For workflow responses without placeholders for users, the notification recipient is typically defined by the **Approval User Setup**.|
       |**Notification Entry Type**|Specify a trigger for the workflow notification. The trigger can be a record change, an approval request, or passed due date.|
       |**Link Target Page**|Specify the page that the link in the notification opens. The page must have the same source table as the record involved.|
       |**Custom Link**|Specify the URL of a link included in the notification in addition to the link to the page.|

    2. To specify options for a workflow response that involves creating an approval request, fill the fields as described in the following table.  

       |Field|Description|  
       |-----|-----------|  
       |**Due Date Formula**|Specify the number of days the approver has to resolve the request. The period starts when the request is sent.|
       |**Delegate After**|Specify if and when an approval request is automatically delegated to the substitute. You can select to automatically delegate one, two, or five days after the date when the approval was requested.|
       |**Approver Type**|Specify who the approver is, according to the setup of approval users and workflow users. When the field is set to **Salesperson/Purchaser**, the user specified in the **Salespers./Purch. Code** field on the **Approval User Setup** page determines the approver. Approval request entries are then created according to the value in the **Approver Limit Type** field. Learn more at [Set Up Approval Users](across-how-to-set-up-workflow-users.md).|
       |**Show Confirmation Message**|Specify whether to show a confirmation message after a user requests an approval.|
       |**Approver Limit Type**|Specify the effect of limits for approvers. An approver's approval limit must be above the value on the request. The following options exist: <ol><li>**Approver Chain** specifies that approval request entries are created for all the requester's approvers up to and including the first qualified approver</li><li>**Direct Approver** specifies that an approval request entry is only created for the requester's immediate approver, regardless of the approver's approval limit.</li><li>**First Qualified Approver** specifies that an approval request entry is only created for the requester's first approver.</li><li>**Specific Approver** specifies that you notify the user chosen in the **Approver ID** field.</li></ol>|

    3. To specify options for a workflow response that involves creating journal lines, fill in the fields as described in the following table.  

       |Field|Description|  
       |-----|-----------|  
       |**General Journal Template Name**|Specify the name of the general journal template that the specified journal lines are created in.|  
       |**General Journal Batch Name**|Specify the name of the general journal batch that the specified journal lines are created in.|  

11. Choose the **Increase Indent** and **Decrease Indent** buttons to indent the event name in the **When** field to define the step's position in the workflow.  

    1. Indent the event under the name of the previous step to indicate that it's the next step.  
    2. Indicate the step is one of several alternative steps that may start, depending on its condition, by indenting the event name to match the other alternative steps. Order such optional steps according to priority by placing the most important step first.  

    > [!NOTE]  
    >  You can only change the indent of a step that doesn't have a subsequent step.  

12. Repeat steps 7 through 11 to add more workflow steps, either before or after the step you've created.  
13. Turn on the **Enabled** toggle to specify that the workflow will start when the event on the first step of type **Entry Point** occurs. Learn more at [Use Workflows](across-use-workflows.md).  

> [!NOTE]  
> Don't enable a workflow until you're sure it's ready.  

> [!TIP]  
> To explore the relations between the tables used in workflows, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, then enter **Workflow – Table Relations**.  

## Example of creating a new workflow using existing events

The following example creates a workflow to approve a change to the name of a vendor:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, then choose the related link.  
2. Choose the **New** action. The **Workflow** page opens.
3. In the workflow section, fill in the fields as described in the following table.

    |Field  |Value  |
    |---------|---------|
    |**Code**|**VENDAPN-01**|
    |**Description**|**Vendor Name Change Approval** |
    |**Category**|**PURCH**|

4. To create the first workflow step, do the following.

    1. In the **When Event** field, specify *A vendor record is changed*.  
    2. In the **On Condition** field, choose the word **Always**. Then, on the **Event Conditions** page, choose the **Add a condition for when a field value changes** link, then select the **Name** field. The result of this step is that the condition reads as *Name is Changed*.  
    3. In the **Then Response** field, choose the **Select Response** link. Then, on the **Workflow Responses** page, in the **Select Response** field, choose the **Revert the value of the \<Field\> field on the record and save the change** response. Then, in the **Options for the Selected Response** section, specify the **Name** field.  
    4. Choose the **Add More Responses** link, then add an entry for the **Create an approval request for the record using approver type <%1> and <%2>** response.  
    5. In the **Options for the Selected Response** section for the new response, change the **Approver type** field to **Workflow User Group**. Then, in the **Workflow User Group** field, specify the user group. Learn more at [Set Up Approval Users](across-how-to-set-up-approval-users.md).  
    6. Add a third response, **Send approval request for the record and create a notification**.  
    7. Add a fourth response, **Show message "%1"**. Then, in the **Options for the Selected Response** section, in the **Message** field, specify **An approval request has been sent**.  
    8. Choose **OK** to return to the workflow step.  

5. In the next line, add a new workflow step for the **An approval request is approved** event.

    1. In the **When Event** field, specify **An approval request is approved**.  
    2. Choose the line menu, then choose **Increase Indent**.  
    3. In the **On Condition** field, choose **Always**. Then, in the **Pending Approvals** field, specify **0**. The condition reads as **Pending Approvals:0** to indicate that the request doesn't require more approvers.  
    4. In the **Then Response** field, choose the **Select Response** link. Then, on the **Workflow Responses** page, in the **Select Response** field, choose the **Send approval request for the record and create a notification** response.  
    5. Choose **OK**.  
6. In the next line, add a second workflow step for the **An approval request is approved** event.  

    1. In the **When Event** field, specify **An approval request is approved**.
    2. In the **On Condition** field, choose **Always**. Then, in the **Pending Approvals** field, specify **>0**. The condition reads as **Pending Approvals:>0** to indicate that this isn't the last approver.  
    3. In the **Then Response** field, choose the **Select Response** link. Then, on the **Workflow Responses** page, in the **Select Response** field, choose the **Send approval request for the record and create a notification** response.  
    4. Choose **OK**.  
7. In the next line, add a workflow step for the **An approval request is delegated** event.  

    1. In the **When Event** field, specify **An approval request is delegated**.  
    2. In the **On Condition** field, leave the value as **Always**.  
    3. In the **Then Response** field, choose the **Select Response** link. Then, on the **Workflow Responses** page, in the **Select Response** field, choose the **Send approval request for the record and create a notification** response.  
    4. Choose **OK**.  
8. In the next line, add a second workflow step for the **An approval request is rejected** event.  

    1. In the **When Event** field, specify **An approval request is rejected**.  
    2. In the **On Condition** field,  leave the value as **Always**.  
    3. In the **Then Response** field, choose the **Select Response** link. Then, on the **Workflow Responses** page, in the **Select Response** field, choose the **Discard the new values** response.  
    4. Choose the **Add More Responses** link, then add an entry for the **Reject the approval request for the record and create a notification** response
    5. Choose **OK**.  
9. To enable the workflow, turn on the **Enabled** toggle.  

The following illustration provides an overview of the result of this procedure.  

:::image type="content" source="media/Workflows/workflow-example-2.png" alt-text="Illustration of the Vendor Name Approval workflow.":::

Next, test the workflow by opening an existing vendor card and changing their name. Verify that an approval request is sent after changing the vendor name.

## See also

[Create Workflows from Workflow Templates](across-how-to-create-workflows-from-workflow-templates.md)  
[Set Up Approval Users](across-how-to-set-up-approval-users.md)  
[Setting Up Approval Workflow Notifications](across-setting-up-workflow-notifications.md)  
[View Archived Workflow Step Instances](across-how-to-view-archived-workflow-step-instances.md)  
[Delete Approval Workflows](across-how-to-delete-workflows.md)  
[Walkthrough: Setting Up and Using a Purchase Approval Workflow](walkthrough-setting-up-and-using-a-purchase-approval-workflow.md)  
[Setting Up Approval Workflows](across-set-up-workflows.md)  
[Use Approval Workflows](across-use-workflows.md)  
[Workflow](across-workflow.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-suggest-sales-lines-with-copilot
---
title: Sales line suggestions with Copilot
description: Learn how to suggest lines on sales orders with Copilot.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: jswymer
ms.topic: how-to
ms.search.keywords: Copilot, AI, sell
ms.search.form:
ms.date: 04/01/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.collection: bap-ai-copilot
---

# Suggest lines on sales documents with Copilot (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

This article explains how to create sales documents faster by letting Copilot suggest the items to add to lines on sales documents for your customers.

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

## Sales line suggestions

Sales line suggestion can assist with creating lines on sales documents such as sales quotes, orders, and invoices based on structured input or natural language. The feature isn't a general-purpose chat, but a highly specific and integrated experience that you can use on sales documents. The feature offers two distinct skills that help you find data about individual products or entire documents.

- Find products

  Information that describes products is stored in multiple places in [!INCLUDE [prod_short](includes/prod_short.md)]. For example, item numbers and descriptions are stored in the **Item** table, multiple barcodes are stored in the **Item Reference** table, and product properties are stored in the **Item Attributes** table. While you might prompt for *Red bicycle*, the actual product might be *Crimson tourer*, where *Bicycle* is a product category and *red* is an attribute.

- Find documents by reference

  People often repeat a previous order, or at least use it as a starting point. But it might be tricky to find the right order in a stack of orders. You might remember some of the order's ID, which can be a company-assigned number or a reference number received from a customer. Being able to use prompts such as *Need last invoice from April* should help you find an order faster.

## Supported languages

[!INCLUDE[copilot-language-support-en-only](includes/copilot-language-support-en-only.md)]

## Prerequisites

- Your administrator activates the **Sales Line Suggestions** capability on the **Copilot & agents capabilities** page. Learn more at [Configure Copilot and agent capabilities](enable-ai.md).

## Examples of prompts

Suggest sales lines with Copilot can handle a wide variety of prompt input. This section offers examples of prompts for various scenarios we tested.

### Sample inquiry to repeat a document

Prompt: *Need all the products from invoice 103031*

### During a phone call, you quickly type a list of required products and quantities, but aren't always exact and sometimes use internal product names

Prompt: *2 Red Kids Biicycle*

The prompt works, even with multiple typos.

### A user copies an inquiry from an inbound communication and pastes it onto the Sales Lines Suggestions page

Prompt: *Hello, I'm interested in buying some accessories for my XXXX Laptop, such as a wireless mouse, a keyboard cover, and a laptop bag. I wonder if you have any recommendations or suggestions for these items. Do you have any special offers or discounts for loyal customers like me? Kind regards, M*

Note that XXXX Laptop isn't included in search.

## Options for matching keywords in prompts

When you search for an item using a FullText index, we extract both primary and extra keywords. For example, we break down the search term "Red Coffee Table" into primary keywords "Coffee" and "Table," and some synonyms and other keywords, such as "Red."

When you enter your prompt in the **Suggest Sales Lines** window, the **Matching** field offers the following options for matching criteria:

- [Permissive](#permissive-matching-criteria) means that all keywords are optional. This option typically generates the most suggestions.
- [Balanced](#balanced-matching-criteria) is a blend of required and optional keywords. This option typically generates fewer suggestions.
- [Precise](#precise-matching-criteria) means that all keywords are required. This option typically generates the fewest suggestions.

The following sections provide examples of how matching works. The examples are based on a prompt for "Red Coffee Table" and you have the following fictitious items:

- Red Coffee Table
- Blue Coffee Table
- Green Coffee Table
- Red Side Table
- Dining Table

### Permissive matching criteria

The primary keywords "Coffee" and "Table" are optional. The extra keyword "Red" is optional. This search returns items such as:

- Red Coffee Table
- Blue Coffee Table
- Green Coffee Table
- Red Side Table
- Dining Table

### Balanced matching criteria

The primary keywords "Coffee" and "Table" are required. The extra keyword "Red" is optional. This search returns items such as:

- Red Coffee Table
- Blue Coffee Table
- Green Coffee Table

### Precise matching criteria

The primary keywords "Coffee" and "Table" are required. The extra keyword "Red" is required. This search returns items such as:

- Red Coffee Table

## Suggest lines on a sales document

This process describes how to suggest lines on a sales order. The steps are the same for sales quotes and invoices.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Order**, and then choose the related link.
1. Open a sales order or create a new one.
1. On the **Lines** FastTab, choose **Suggest sales lines**.
1. In the **Suggested sales lines** window, enter your prompt or select one from the prompt guides.

## Review, save, discard, or regenerate suggestions

After Copilot suggests the items to add to lines, review its suggestions and decide whether they're what you want:

- To discard a single proposed line, select it in the list, and then choose the **Delete Line** action.
- To discard all proposed lines and close the Copilot window, choose the Discard button (trash can) next to the **Keep it** button.
- To transfer the lines shown in the Copilot window, choose **Keep it**. 

There's a **Reliability** field that displays **High (80+)**, **Medium (60-80)**, and **Low (60-)** scores and points you to lines that need attention.

This step confirms that you want to transfer the lines to a sales document. You can delete or edit the transferred lines there as well, or delete the whole document.

## Related information

[FAQ for Sales Line Suggestions with Copilot](faq-sales-suggest-sales-lines-with-copilot.md)
[Configure Copilot and agent capabilities](enable-ai.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-work-report-inbox
---
title: Share and Export Reports with the Report Inbox
description: Learn how to use the Report Inbox page to download, share, export, and delete reports in Business Central.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: task, process, report, print, schedule, save, Excel, PDF, dataset, export, report inbox, onedrive, 
ms.search.form: 680
ms.date: 09/27/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Share and export reports with the report inbox

The **Report Inbox** page lists scheduled reports generated by the user in [!INCLUDE[prod_short](includes/prod_short.md)], and can be used to not only access the generated reports, but also to share and open the files in OneDrive.

> [!TIP]
> The following actions are also available in the **Report Inbox** part in the Role Center. If the part isn't displayed in your interface, learn how to customize your Role Center here: [Personalize Your Workspace](ui-personalization-user.md).

## Download generated reports

To save previous reports, open the **Report Inbox** page by following these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Inbox**, then choose the related link.  
2. On the **Report Inbox** page, choose the desired report.

> [!NOTE]
> The page does not list previous reports generated using the **Print** action or saved as a file on the **Reports** menu.
>
> The generated files are saved in the format defined when scheduling the report and can be changed on the **Job Queue Entries** page, together with the recurrence and other settings. Learn how to change the report file format and set additional options at [Manage scheduled recurring reports](ui-work-report.md#manage-scheduled-recurring-reports).

## Open generated reports in OneDrive

To export the report file to Microsoft OneDrive, select the report on the **Report Inbox** page and choose the **Open in OneDrive** action. The report is then copied to the [!INCLUDE[prod_short](includes/prod_short.md)] folder in OneDrive and opened on a new browser window, where you can print and manage the document file.

> [!IMPORTANT]
>
> Reports set to expire on the **Schedule a Report** page and copied to OneDrive are not automatically removed from the shared folder.

## Share scheduled reports

Sharing reports with collaborators is also possible on the **Report Inbox** page. Select the report and choose the **Share** action. On the **Send link** page, select who can open the file, define editing permissions, then choose **Send** to send a link to access the saved report.

> [!NOTE]
> To learn more about OneDrive integration and features on [!INCLUDE[prod_short](includes/prod_short.md)], including first-time setup and options to deal with file name conflicts, read the [Opening and Sharing Files in OneDrive](across-share-onedrive.md) article.
>
> Using the **Share** action makes the generated report file available to other users only on OneDrive for Business and does not list the scheduled report on their **Report Inbox**.

## Delete reports

- To delete a single report, select the three vertical dots after the reports description. Then, select the down arrowhead next to the **Report Inbox** followed by **Delete**.
- To delete multiple reports, select the three vertical dots for one of the reports you want to delete. Select **Select more** and then select the checkbox next to each report you want to delete. Finally, select the down arrowhead next to the **Report Inbox** followed by **Delete**.

## Related information

[Run and Print Reports](ui-work-report.md)  
[Available Reports in [!INCLUDE[prod_short](includes/prod_short.md)]](reports-available-reports.md)  
[Use Reports in Daily Work](reports-use-reports.md)  
[Business Intelligence and Reporting Overview](reports-bi-reporting.md)  
[Set Up Printers](ui-specify-printer-selection-reports.md)  
[Work with Calendar Dates and Times](ui-enter-date-ranges.md)  
[Managing Report and Document Layouts](ui-manage-report-layouts.md)  
[[!INCLUDE[prod_short](includes/prod_short.md)] and OneDrive Integration](across-onedrive-overview.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/payables-how-suggest-vendor-payments
---
title: Suggest vendor payments
description: Use the Suggest Vendor Payments batch job to create payment lines for your vendors based on due dates and payment discounts.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: vendor payment, creditor, debt, balance due, AP
ms.search.form: 256,
ms.date: 07/17/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Suggest vendor payments

On the **Payment Journal** page, you can use the **Suggest Vendor Payments** batch job to suggest payment lines. Based on your settings, [!INCLUDE [prod_short](includes/prod_short.md)] suggests lines for:

- Payments that are due soon.
- Payments where a payment discount is available.

To benefit fully from payment suggestions, you must prioritize your vendors. To learn more about prioritizing vendors, go to [Prioritize Vendors](purchasing-how-prioritize-vendors.md).  

> [!NOTE]  
> The batch job excludes vendor ledger entries that are **On Hold** or that are already applied and have a value in the **Applies-to ID** field.  

> [!IMPORTANT]  
> If you want to take advantage of payment discounts, and have entered an available amount, the amount will be used for:  
>
> * Prioritized overdue vendor entries first, in order of priority.
> * Overdue vendor entries that aren't prioritized.  
> * Open vendor entries that qualify for payment discounts. The entries are arranged by vendor number.  

## Use the Suggest Vendor Payments action

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Journals**, and then select the related link.  
2. Open the journal, and then select the **Suggest Vendor Payments** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
4. Select the **OK** button.  

## Insert the due date as posting date on payment journal lines

When you use the **Suggest Vendor Payments** batch job to create payment lines for your vendors, you can fill two special fields to ensure that the generated lines use the due date to calculate the posting date. These fields are **Calculate Posting Date from Applies-to-Doc. Due Date** and **Applies-to-Doc. Due Date Offset**.  

> [!IMPORTANT]  
> You can't use the **Calculate Posting Date from Applies-to-Doc. Due Date** field together with the **Find Payment Discounts** field or the **Summarize per Vendor** field. If the posting date is based on the due date, some payment discounts might not calculate correctly because the posting date is after the payment discount date.  

Also, if the calculated posting date is in the past, then the posting date is moved up to the work date and a warning displays.  

You can also manually create payment lines using the due date to calculate the posting date. After you apply vendor ledger entries, you can use the **Calculate Posting Date** action to update the posting date on the journal line with the due date of the related purchase invoice. To learn more about this manual process, go to [Apply Purchase Transactions Manually](payables-how-apply-purchase-transactions-manually.md).  

> [!NOTE]  
> If the purchase invoice is overdue, the posting date is set to the work date and the font on the line changes to red.  

## See also

- [Managing Payables](payables-manage-payables.md)  
- [Making Payments](payables-make-payments.md)  
- [Work with General Journals](ui-work-general-journals.md)  
- [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-to-receive-and-convert-electronic-documents
---
title: Receive and convert electronic documents
description: This article describes how to receive electronic documents directly from trading partners or from an OCR service.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.search.form: 189, 190, 191 
ms.date: 03/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Receive and convert electronic documents

> [!NOTE]
> The content in this article is only applicable for versions of Dynamics 365 Business Central that were released before 2023 release wave 2. In 2023 release wave 2, new functionality for E-Documents is included. To learn more, see [Set up e-documents](finance-how-setup-edocuments.md). 


The generic version of [!INCLUDE[prod_short](includes/prod_short.md)] supports receiving electronic invoices and credit memos in the PEPPOL format, which is supported by the largest providers of document exchange services. To receive an invoice from a vendor as an electronic PEPPOL document, you process the document in the Incoming Documents page to convert it to a purchase invoice or general journal line in [!INCLUDE[prod_short](includes/prod_short.md)].

In addition to receiving electronic documents directly from trading partners, you can receive electronic documents from an OCR service that has turned your PDF or image files into electronic documents.  

Before you can receive electronic documents through the document exchange service, you must set up various master data, such as company information, vendors, items, and units of measure. These are used to identify the business partners and items when converting data in elements in the incoming document file to fields in [!INCLUDE[prod_short](includes/prod_short.md)]. For more information, see [Set Up a Document Exchange Service](across-how-to-set-up-a-document-exchange-service.md).  

Before you can receive electronic documents through the OCR service, you must set up and enable the preconfigured service connection. For more information, see [Set Up Incoming Documents](across-how-setup-income-documents.md).  

The traffic of electronic documents in and out of [!INCLUDE[prod_short](includes/prod_short.md)] is managed by the Job Queue feature. Before you can receive electronic documents, the relevant job queue must be started.  

You can either start the conversion of electronic documents manually, as described in this procedure, or you can enable a workflow to convert electronic documents automatically when they're received. The generic version of [!INCLUDE[prod_short](includes/prod_short.md)] includes a workflow template, *From Incoming Electronic through OCR to Open Purchase Invoice Workflow*, which is ready to be copied to a workflow and enabled. For more information, see [Workflow](across-workflow.md).  

> [!NOTE]  
> When you convert electronic documents received from the OCR service to documents or journal lines in [!INCLUDE[prod_short](includes/prod_short.md)], multiple lines on the source document will be summed on one line. The single line will be of type G/L Account and the **Description** and (G/L account) **No.** fields will be empty. The value in the **Amount** field will equal the total amount excluding VAT of all lines in the source document.  
>
> To make sure that the **Description** and **No.** fields are filled, you can choose the **Map Text to Account** button on the **Incoming Documents** page to define that a certain invoice text is always mapped to a certain debit or credit account in the general ledger. Going forward, the **Description** field on document or journal lines created from an electronic document for that vendor or customer will be filled with the text in question and the (G/L account) **No.** field with the account in question.  
>
> Instead of mapping to a G/L account, you can also map to a bank account. This is practical, for example, for electronic documents for expenses that are already paid where you want to create a general journal line that is ready to post to a bank account.  

The following procedure describes how to receive a vendor invoice and convert it to a purchase invoice in [!INCLUDE[prod_short](includes/prod_short.md)]. The procedure is the same when you convert a vendor invoice to a general journal line.  

### To receive and convert an electronic invoice to a purchase invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.  

2. Select the line for the incoming document record that represents a new incoming electronic invoice, and then choose the **Edit** action.  

    On the **Incoming Document Card** page, the related XML file is attached, and most of the fields are prefilled with information from the electronic invoice. For more information, see [Create Incoming Document Records](across-how-create-income-document-records.md).  

3. In the **Data Exchange Type** field, choose **PEPPOL - Invoice** or **OCR – Invoice** depending on the source of the electronic document.  

4. To map text on the vendor invoice to a specific debit account, on the **Actions** tab, in the **General** group, choose **Map Text to Account**, and then fill the **Text-to-Account Mapping Worksheet** page.  

5. Choose the **Create Document** action.  

    A purchase invoice will be created in [!INCLUDE[prod_short](includes/prod_short.md)] based on the information in the electronic document.  

    Any validation errors, typically related to wrong or missing master data in [!INCLUDE[prod_short](includes/prod_short.md)] will be shown on the **Error Messages** FastTab.  

## See also

[Managing Payables](payables-manage-payables.md)  
[Incoming Documents](across-income-documents.md)  
[Set Up Electronic Document Sending and Receiving](across-how-to-set-up-electronic-document-sending-and-receiving.md)  
[Exchanging Data Electronically](across-data-exchange.md)   
[General Business Functionality](ui-across-business-areas.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/privacy-connected-services
---
title: Trial features that connect to other Microsoft services  
description: Overview of Microsoft services that Business Central connects to with the trial version.
author: jswymer
ms.topic: overview
ms.service: dynamics-365-business-central
ms.search.keywords: privacy, trial, Microsoft services
ms.date: 04/14/2024
ms.author: jswymer
ms.reviewer: jswymer
---
# Trial features that connect to other Microsoft services 

[!INCLUDE[prod_long](includes/prod_long.md)] is a comprehensive business management solution that is deeply integrated with Microsoft 365 productivity apps and Power Platform. Your free trial of Business Central can connect to many different Microsoft services that you must first configure and enable. To get the most out of your free trial, some of these features have been automatically enabled for you. Even though the connection from [!INCLUDE[prod_short](includes/prod_short.md)] is enabled, these services aren't included with your trial and must be purchased separately unless you have them already.

The following table indicates the connections to Microsoft services that are automatically enabled for [!INCLUDE[prod_short](includes/prod_short.md)] trials:

|Service name|Connection is automatically enabled |Service is contacted when signing in to Business Central |Example feature that uses this service | Learn how to manage the connection and features that use it|  
|------------|-------------|--------|------------|-------------|
|Microsoft Teams|Yes|No|**Share to Teams** action on **Item** card |[Managing Teams Integration with Business Central](admin-teams-integration.md)|  
|Microsoft OneDrive for Business|Yes|No|**Open in OneDrive** action on **Item** attachments |[Managing OneDrive Integration with Business Central](admin-onedrive-integration.md#configure-onedrive-using-onedrive-setup)|  
| Microsoft Power Automate |Yes|No|**Automate** actions on **Item** card |[Set Up Power Automate Integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-setup)|
| Microsoft Azure OpenAI Service |Yes |No|**Copilot** |[Configure AI-powered item marketing text with Copilot](enable-ai.md)|
|Microsoft Learn Platform|Yes|No|Copilot, Help pane|[Chat with Copilot FAQ](chat-with-copilot-faq.md#how-does-chat-treat-data-residency)|

> [!NOTE]
> By using features that connect to these services:
>
> - You consent to your data being shared with that Microsoft service. If your organization has deployed these services in a different country or region, connecting to the service may result in your data crossing data residency boundaries. Make sure to confirm your organization’s policies and government compliance requirements for data residency before proceeding to use these features. 
> - You may affect services that aren't trials. If these services are used in production by your organization and aren't being evaluated together with Business Central, other users of these services who aren't participating in this trial of [!INCLUDE[prod_short](includes/prod_short.md)] may be affected.
> - [!INCLUDE[prod_short](includes/prod_short.md)] may also connect to Microsoft services or third-party services depending on the customizations and extensions that you or your administrator have installed in your [!INCLUDE[prod_short](includes/prod_short.md)] trial. For information about how your extensions process your data, contact the extension developer or follow the privacy link for the extension on AppSource.
> - For features in preview, you consent to the [preview terms](https://go.microsoft.com/fwlink/?linkid=2189520).

Your privacy is important to us. To learn more about how Microsoft processes your data, view the [Microsoft Privacy Statement](https://go.microsoft.com/fwlink/?linkid=521839).

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/quick-start-company-information
---
title: Company Information Quick Start
description: Learn how to fill in the first critical fields about your company in Business Central by reading this Quick Start article.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: quickstart
ms.search.form: 1,
ms.date: 03/14/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Company Information Quick Start

To help you get your company up and running in [!INCLUDE[prod_short](includes/prod_short.md)], you must first fill in some of the basic company details and relevant information based on your business needs.  

You can enter all relevant data on the **Company Information** page when you set up a new company.

## To set up company information  

1. Choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) menu, and then choose the **Company Information** action.
2. Enter the information into the FastTabs as described in the following table. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

    [!INCLUDE [admin-company-info-fasttabs](includes/admin-company-info-fasttabs.md)]

Once you have completed filling in the information, you can close the page.  

## See also  

[Company Information Overview](admin-company-information.md)  
[Set Up Company Information in Italy](LocalFunctionality/Italy/how-to-set-up-company-information.md)  
[Business Central Quick Starts](quick-start-business-central.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/setup-best-practices-costing-method
---
title: Setup Best Practices - Costing Method
description: The Costing Method on the item card defines item's cost flow is recorded and whether an actual or budgeted value is capitalized and used in the cost calculation.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.form: 30, 31
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Setup Best Practices: Costing Method

The **Costing Method** on the item card defines item's cost flow is recorded and whether an actual or budgeted value is capitalized and used in the cost calculation.  

Setting the correct costing method according to item type and business environment is important to ensure economical inventories.  

The following table provides best practices on how to set up the **Costing Method** field. For more information, see [Design Details: Costing Methods](design-details-costing-methods.md).  

|Setup option|Best practice|Comment|  
|------------------|-------------------|-------------|  
|FIFO|Use where the product cost is stable.<br /><br /> Use for items with a limited shelf life, because the oldest goods need to be sold before they pass their sell-by date.|An item's unit cost is the actual value of any receipt of the item, selected by the FIFO rule.<br /><br /> In inventory valuation, it is assumed that the first items placed in inventory are sold first. **Note:**  When prices are rising, the balance sheet shows greater value. This means that tax liabilities increase, but credit scores and the ability to borrow cash improve.|  
|LIFO|Use where levels of inventories are consistently maintained or increased over time.|An item's unit cost is the actual value of any receipt of the item, selected by the LIFO rule.<br /><br /> In inventory valuation, it is assumed that the last items placed in inventory are sold first. **Note:**  When prices are rising, the value on the income statement decreases. This means that tax liabilities decrease, but the ability to borrow cash deteriorates. **Important:**  Disallowed in many countries/regions, as it can be used to depress profit.|  
|Average|Use where the product cost is unstable.<br /><br /> Use where inventories are piled or mixed together and cannot be differentiated, such as chemicals.|An item's unit cost is calculated as the average unit cost at each point in time after a purchase.<br /><br /> For inventory valuation, it is assumed that all inventories are sold simultaneously.|
|Specific|Use in production or trade of easily identifiable items with fairly high unit costs.<br /><br /> Use for items that are subject to regulation.<br /><br /> Use for items with serial numbers.|An item's unit cost is the exact cost at which the particular unit was received.|
|Standard|Use where cost control is critical.<br /><br /> Use in repetitive manufacturing, to value the costs of direct material, direct labor, and manufacturing overhead.<br /><br /> Use where there is discipline and staff to maintain standards.|An item's unit cost is preset based on estimated.<br /><br /> When the actual cost is realized later, the standard cost must be adjusted to the actual cost through variance values.|  

## See Also

[Design Details: Costing Methods](design-details-costing-methods.md)  
[Design Details: Inventory Costing](design-details-inventory-costing.md)  
[Set Up Complex Application Areas Using Best Practices](set-up-complex-application-areas-using-best-practices.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-manage-inventory-costs
---
title: Managing inventory costs
description: Cost management is concerned with recording and reporting business operating costs and includes the reporting of manufacturing costs and inventory costs.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 07/26/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Managing inventory costs
Cost management, also referred to as 'costing,' is concerned with recording and reporting business operating costs. It includes the reporting of manufacturing costs and inventory costs, that is, the value of items.   


The following table describes a sequence of tasks, with links to the articles that describe them.

To make sure that inventory costs are recorded correctly, you must set up various fields and pages before you begin to make item transactions. Typically, businesses choose a specific costing method and apply that to inventory items, for example, to help them track the value of items on stock.  

|**To**|**See**|  
|------------|-------------|
|Specify a default costing method for the company to govern how incoming cost is used to assess inventory value and the cost of goods sold.|[Set Up General Inventory Information](inventory-how-setup-general.md)|  
|Specify a costing method on individual items if they require a different costing method.|[Register New Items](inventory-how-register-new-items.md)|  
|Define inventory periods to control inventory value over time by disallowing transaction posting in closed inventory periods.|[Work with Inventory Periods](finance-how-to-work-with-inventory-periods.md)|  
|Ensure that sales returns are applied to the original outbound transaction to preserve inventory value.|**Exact Cost Reversing Mandatory** field on the **Sales & Receivables** page|  
|Ensure that purchase returns are applied to the original inbound transaction to preserve inventory value.|**Exact Cost Reversing Mandatory** field on the **Purchases & Payables** page|
|Set up the rounding rules to apply when adjusting or suggesting item prices and when adjusting or suggesting standard costs.|**Rounding Method** page|  

Central principles to understand are that costing methods define how items are valued when they leave inventory, that cost adjustment updates the cost of goods sold with related purchase costs posted after the sale, and that inventory values must be posted to dedicated G/L accounts at regular intervals.

|**To**|**See**|  
|------------|-------------|  
|Ensure that you know the cost of shipped items by assigning added item costs, such as freight, physical handling, insurance, and transportation that you incur after selling.|[Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md)|
|Appreciate or depreciate the value of one or more items in inventory by posting their current, calculated value.|[Revalue Inventory](inventory-how-revalue-inventory.md)|
|View and manually change certain item application entries that are created automatically during inventory transactions.|[Remove and Reapply Item Ledger Entries](finance-how-to-remove-and-reapply-item-entries.md)|
|Adjust item costs, either automatically or manually, to forward cost changes from inbound entries to their related outbound entries.|[Adjust Item Costs](inventory-how-adjust-item-costs.md)|
|Perform period-end control and reporting tasks, such as calculate the value of inventory and post costs to the general ledger.|[Reporting Costs and Reconciling with the General Ledger](finance-how-to-post-inventory-costs-to-the-general-ledger.md)|
|Learn how you can use the job queue to move the tasks for adjusting inventory cost or reconciling it with the general ledger to the background.|[Adjust and Reconcile Inventory Cost with General Ledger with Job Queue](finance-adjust-reconcile-inventory-cost-job-queue.md)|
|Use the **Applies-from Entry** field in the item journal to manually create a fixed application between an inbound transaction and the original outbound transaction.|[Close Open Item Ledger Entries Resulting from Fixed Application in the Item Journal](finance-how-to-close-open-item-ledger-entries-resulting-from-fixed-application-in-the-item-journal.md)|  

Use special costing functions for every-day item transactions in the item operations.

|**To**|**See**|  
|------------|-------------|  
|Read why standard costs are often used by manufacturing companies as a valuation base for components and end items and how to periodically update the standard costs of components, in assembly or production BOMs, and roll the new costs up to the parent item.|[About Calculating Standard Cost](finance-about-calculating-standard-cost.md)|
|Calculate the unit cost of a BOM item based on the unit costs of its underlying components.|[Work with Bills of Material](inventory-how-work-BOMs.md) |  
|Complete the costing life cycle of a produced item by adjusting the costs and reconciling the value entries with the general ledger.|[About Finished Production Order Costs](finance-about-finished-production-order-costs.md)|  

Read various conceptual information to understand the principles and definitions that govern the inventory costing accounting functionality in [!INCLUDE[prod_short](includes/prod_short.md)]. 

|**To**|**See**|  
|------------|-------------|  
|Understand all mechanisms in the costing engine, including what happens when you post assembly and production transactions.|[Design Details: Inventory Costing](design-details-inventory-costing.md)|  
|Distinguish the five different costing methods and their effect on cost flows.|[Design Details: Costing Methods](design-details-costing-methods.md)|  
|Learn how item application entries dynamically link inventory decreases with increases to keep control of cost flows.|[Design Details: Item Application](design-details-item-application.md)|  
|Understand the cost adjustment mechanism, which ensures that costs are brought forward even if inventory transactions happen in a random manner.|[Design Details: Cost Adjustment](design-details-cost-adjustment.md)|  
|Distinguish expected cost (not yet invoiced) from actual cost and learn how it is managed in the general ledger.|[Design Details: Expected Cost Posting](design-details-expected-cost-posting.md)|  
|Learn how an item's average cost is dynamically calculated according to the selected average cost period.|[Design Details: Average Cost](design-details-average-cost.md)|  




## See Also
[Managing Inventory Costs](finance-manage-inventory-costs.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


## See also  
 [Finance](finance.md)  
 [Inventory](inventory-manage-inventory.md)   
 [Sales](sales-manage-sales.md)   
 [Purchasing](purchasing-manage-purchasing.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-how-work-account-schedule
---
title: Build Financial Reports Using Financial Data and Account Categories
description: Describes how to use financial reports to create various views and reports for analyzing financial performance data.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 03/13/2025
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: Report_25_Primary, 103, 104, 108_Primary, 195, 196, 197, 198, 488, 489, 490_Primary, 764, 765, 766
ms.service: dynamics-365-business-central
---
# Prepare financial reporting with financial data and account categories

The **Financial Reports** feature gives you insights into the financial data shown on your chart of accounts (COA). You can set up financial reports to analyze figures in general ledger (G/L) accounts, and compare general ledger entries with budget entries. The results display in charts and reports in your Role Center, such as the Cash Flow chart, and the Income Statement and Balance Sheet reports. You access these two reports, for example, with the **Financial Statements** action in the Business Manager and Accountant home pages.  

[!INCLUDE[prod_short](includes/prod_short.md)] provides sample financial reports you can use right away as templates. You can also set up your own reports to specify the figures to compare. For example, you can create financial reports to calculate profit margins using dimensions such as departments or customer groups. The number of financial reports you can create is unlimited and require no involvement of a developer.  

## Prerequisites for financial reporting

Setting up financial reports requires an understanding of the structure of your chart of accounts. There are three key concepts that you likely need to pay attention to before you design your financial reports:

- Map G/L posting accounts to G/L account categories.
- Design how you use dimensions.
- Set up G/L budgets.

G/L account categories simplify your financial report definitions and make them more resilient to changes in the chart of accounts structure. Learn more at [Use G/L account categories to change the layout of your financial statements](bi-row-definitions.md#use-gl-account-categories-to-change-the-layout-of-your-financial-statements).

Setting up dimensions allows you to slice and dice your financial data in ways that make sense for your organization. Learn more at [Work with Dimensions](finance-dimensions.md).

If you want to view general ledger entries as percentages of budget entries, you must create G/L budgets. Learn more at [Create G/L Budgets](finance-how-create-budgets.md).

## Financial reports

Financial reports arrange accounts from your chart of accounts in ways that make data easier to present. You can set up various layouts to define the information you want to extract from the chart of accounts. Financial reports also provide a place for calculations that can't be made directly in the chart of accounts. For example, you can create subtotals for groups of accounts and then include that total in other totals. Another example is to calculate profit margins on dimensions such as departments or customer groups. Additionally, you can filter general ledger entries and budget entries, for example, by net change or debit amount.

> [!NOTE]
> Mathematically, think of a financial report as defined by two things:
>
> - A vector of row definitions that define what needs to be calculated.
> - A vector of column definitions that defines the data for the calculation.
>
> The financial report is then the outer product of these two vectors, where each cell value is calculated according to the formula in the row applied to the data definition from the column.

:::image type="content" source="media/financial-report-definition.svg" alt-text="Shows how a financial report is constructed from a row definition and a column definition." lightbox="media/financial-report-definition.svg":::

The **Financial Reports** page shows how all financial reports follow a pattern that consists of the following attributes:

- Name (code)
- Description
- Row definition
- Column definition
- Internal description (introduced in [!INCLUDE[2025_releasewave1_name](includes/2025_releasewave1_name.md)])

:::image type="content" source="media/financial-reports.png" alt-text="Shows how all financial reports are constructed from a row definition and a column definition." lightbox="media/financial-reports.png":::

> [!NOTE]
> The sample finance reports in [!INCLUDE[prod_short](includes/prod_short.md)] aren't ready to use out of the box. Depending of the way you set up your G/L accounts, dimensions, G/L account categories, and budgets, you need to adjust the sample row and column definitions and the finance reports they're used in to match your setup.

You can also use formulas to compare two or more financial reports and column definitions. Comparisons let can do the following things:

- Create customized financial reports.
- Create as many financial reports as you need, each with a unique name.
- Set up various report layouts and print the reports with the current figures.

To learn more about comparisons, go to [When to use a comparison period formula and comparison date formula in a column definition](bi-design-financial-reports.md#when-to-use-a-comparison-period-formula-and-comparison-date-formula-in-a-column-definition).

## Learning path: Create financial reports in Microsoft Dynamics 365 Business Central

Want to learn how to create budgets, and then use financial reports, dimensions, and row and column definitions to generate the financial reports that businesses typically need?

Start on the following learning path [Create financial reports in Microsoft Dynamics 365 Business Central](/training/paths/create-financial-reports-dynamics-365-business-central).

## Create a new financial report

You use financial reports to analyze general ledger accounts or to compare general ledger entries with budget entries. For example, you can view the general ledger entries as percentages of the budget entries.

The financial reports in the standard version of [!INCLUDE[prod_short](includes/prod_short.md)] might not suit your business needs. To quickly create your own financial reports, start by copying an existing one, as described in step 3 below.

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.  
1. On the **Financial Reports** page, choose the **New** action to create a new financial report name. Alternatively, to reuse settings from an existing financial report, choose the report, and then choose the **Copy Report Definition** action.
1. In the **Name** field, enter a short name for the report

   > [!NOTE]
   > You can't change the name later.
1. In the **Display Title** field, enter a description of the report.
1. Choose a row definition and a column definition.
1. Optionally, choose analysis views for the row and column definitions.
1. Choose the **View Financial Report** action to access more properties on the financial report.
1. On the **Options** FastTab, you can edit the report title, change the row and column definitions, write an internal description, set the formatting for negative numbers, and define how to show dates. Dates can be a Day/Week/Month/Quarter/Year hierarchy, or use accounting periods. To learn more, go to [Comparing accounting periods using period formulas](bi-column-definitions.md#comparing-accounting-periods-using-period-formulas).
1. On the **Dimensions** FastTab, you can define dimension filters for the report.
1. If you want the report output to include an introductory and/or a closing paragraph, add them from the *Definitions* menu (these fields are available from the [!INCLUDE[2025_releasewave1_name](includes/2025_releasewave1_name.md)] and later).  
1. You can now preview the report in the area below the **Dimensions** FastTab.

> [!NOTE]
> When you open a financial report in View or Edit mode, the Filter pane is available. Don't use the Filter pane to set filters for the data in your report. Such filters can cause errors or might not actually filter the data. Instead, use the fields on the **Options** and **Dimensions** FastTabs to set up filters for the report.

### Adding introductory and/or closing paragraphs

[!INCLUDE[prod_short](includes/introduced_in_2025rw1.md)]

If you want the report output to include an introductory and/or a closing paragraph, you can use the **Edit introductory/closing paragraphs** action on the **Definitions** menu. When you export the report to PDF or Excel, these paragraphs display before and after the report body.

### Choosing a format for negative numbers

[!INCLUDE[prod_short](includes/introduced_in_2025rw1.md)]

If you want to control how negative numbers show in the report output (both on-screen and in PDF), you use the **Negative Amount Format** action on the **Options** FastTab to choose your preferred format. The format can be a minus sign or parentheses.

### Create or edit a row definition

Row definitions in financial reports provide a place for calculations that can't be made directly in the chart of accounts. For example, you can create subtotals for groups of accounts and then include that total in other totals. You can also calculate intermediate steps that aren't shown in the final report.

Row definitions also provide settings for formatting your report. Most of the options provide visual definition to reports when people view or preview them on their monitors, or print them.

> [!NOTE]
> Some of the formatting options don't carry over when you export them to Excel. If you often export reports to Excel, you might skip the formatting here and format the report in Excel instead.

To learn more, go to [Row definitions in financial reporting](bi-row-definitions.md).

### Create or edit a column definition

Use column definitions to specify the columns to include in the report. For example, you can design a report layout to compare net change and balance for the same period this year and last year. You can have up to 15 columns in a column definition. For example, multiple columns are useful for displaying budgets for 12 months with a column that shows the total.

To learn more, go to [Column definitions in financial reporting](bi-column-definitions.md).

## Using dimensions in financial reports

In financial analysis, a dimension is data you add to an entry as a kind of marker. This data is used to group entries with similar characteristics, such as customers, regions, products, and salesperson, and easily retrieve these groups for analysis. You can use dimensions on entries in journals, documents, and budgets.

Each dimension describes the focus of analysis. So, a two-dimensional analysis, for example, would be sales per area. By using more than two dimensions when you create an entry, you can carry out a more complex analysis. An example of a complex analysis is exploring sales per sales campaign per customer group per area. That gives you greater insight into your business, such as how well your business is operating, where it is or isn't thriving, and where you should allocate more resources. That insight helps you make more informed business decisions. To learn more, go to [Work with Dimensions](finance-dimensions.md).

## Set up financial reports with overviews

You can use a financial report to create a statement that compares general ledger figures with budget figures.

1. Choose the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.
1. On the **Financial Reports** page, select a financial report.  
1. Choose the **Edit Row Definition** action  
1. On the **Row Definition** page, in the **Name** field, select the default financial report name.
1. Choose the **Insert G/L Accounts** action.  
1. Select the accounts you want to include in your statement, then choose **OK**.

    The accounts are inserted in your financial report. If you want, you can also change the column definition.  
1. Choose the **Edit Financial Report** action.  
1. On the **Financial Report** page, on the **Dimensions** FastTab, set the budget filter to the filter name you want to use.  
1. Choose **OK**.  

Now you can copy and paste your budget statement into a spreadsheet.  

## Best practices for working with financial report definitions

Financial report definitions aren't versioned. When you change a report definition, the old version is replaced when your change saves to the database. The following list contains some best practices for working with financial report definitions:

- If you add report definitions, choose a good code and fill in the description field with a meaningful text while you still know what you use the report for. This information helps your coworkers (and your future self) to work with the report and perhaps changing the report definition.
- Before you change a report definition, consider taking a copy of it as a backup, just in case your change doesn't work as expected. You can either just copy the definition (give it a good name), or export it. To learn more, go to [Import or export financial report definitions](#import-or-export-financial-report-definitions).
- If you need a fresh copy of a definition that [!INCLUDE[prod_short](includes/prod_short.md)] provides, an easy way to get one is to create a new company that only contains setup data. Then, export the definition and import it in the company where the definition needs a refresh.

## Import or export financial report definitions

You can import and export financial report definitions as RapidStart configuration packages. For example, configuration packages are useful for sharing information with other companies. The package is created in a .rapidstart file, which compresses the contents.

> [!NOTE]
> When you import financial report definitions, existing records with the same names as those you are importing are replaced with the new definitions. The configuration package for a report definition won't overwrite any existing row or column definitions that are used in the report definition.

To import or export financial report definitions, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.
1. Choose the financial report, then choose the **Import Financial Report** or **Export Financial Report** action, depending on what you want to do.

To learn more about how to import or export financial report row or column definitions, go to the following articles: 

- [Import or export financial reporting row definitions](bi-row-definitions.md#import-or-export-financial-reporting-row-definitions), or
- [Import or export financial reporting column definitions](bi-column-definitions.md#import-or-export-financial-report-column-definitions)

## Integrate financial reports with Excel

You can integrate a financial report with an Excel workbook template, adjust the layout to suit your needs, and then update the Excel template with data from [!INCLUDE[prod_short](includes/prod_short.md)]. For example, this integration makes it easier to generate your monthly and yearly financial statements in a format that works for you.

To learn more, go to [How to integrate financial reports with Excel](finance-financial-reporting-view-a-report.md#integrate-financial-reports-with-excel).

## Print and save financial reports

You can print financial reports using your device's printing services. [!INCLUDE[prod_short](includes/prod_short.md)] also offers options to save reports as PDF files. 

To learn more, go to [How to print and save financial reports](./finance-financial-reporting-view-a-report.md#print-and-save-financial-reports).

## Related information
<!-- 
2025w1: add link to administrator article for Financial Report Lifecycle telemetry 
-->
[View a financial report](finance-financial-reporting-view-a-report.md)  
[Row definitions in financial reporting](bi-row-definitions.md)  
[Column definitions in financial reporting](bi-column-definitions.md)  
[Financial Reporting Auditing](finance-financial-reporting-auditing.md)  
[The General Ledger and the Chart of Accounts](finance-general-ledger.md)  
[Financial analytics overview](bi.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/payables-manage-payables
---
title: Overview of tasks to manage accounts payable
description: Outlines tasks to manage accounts payable, for example, paying creditors or applying outgoing payments to ledger entries to close invoices or credit memos.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: vendor payment, creditor, debt, balance due, AP
ms.search.form: 161, 254, 256, 347, 574, 599, 9002
ms.date: 07/12/2024
ms.service: dynamics-365-business-central
---

# Managing payables

A large part of managing accounts payable is paying your vendors, or reimbursing your employees for expenses. You can use functions to add payments lines for purchase invoices that are due on the **Payment Journal** page. To send transactions to your bank, you can export multiple payment journal lines to a file, and then upload the file to your bank. You can also make payments by check, including transmitting checks as electronic payments.

Another typical task is to apply outgoing payments to their related vendor or employee ledger entries in order to close purchase invoices, purchase credit memos, or employee accounts as paid. You can do this on the **Payment Reconciliation Journal** page by importing a bank statement file to register the payments. The payments are applied to open vendor, customer, or employee ledger entries by matching payment text and entry information. There are various ways to review and change the matches before you post the journal. You can choose to close any open bank account ledger entries related to the applied ledger entries when you post the journal. The bank account is automatically reconciled when all payments are applied.

Alternatively, you can apply outgoing payments manually on the **Payment Journal** page or from the related vendor or employee ledger entries.

The following table describes a sequence of tasks within accounts payable, with links to the articles that describe them.

| To | See |
| --- | --- |
| Analyze accounts payable data with Power BI, Data analysis, or Excel. | [Built-in accounts payable reports](payables-reports.md) |
| Generate due vendor payments or employee reimbursements, prepare check payments, and export payments to a bank file when posting. |[Making Payments](payables-make-payments.md) |
| Apply vendor payments automatically to unpaid purchase invoices by importing a bank statement file. |[Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md) |
| Apply vendor payments to unpaid purchase invoices manually. |[Reconcile Vendor Payments with the Payment Journal or from Vendor Ledger Entries](payables-how-apply-purchase-transactions-manually.md) |
|Ensure correct inventory valuation by assigning added item costs, such as freight, physical handling, insurance, and transportation that you incur when purchasing.|[Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md)|
|Reimburse employees for personal expenses during business activities by making payment to their bank account.|[Record and Reimburse Employees' Expenses](finance-how-record-reimburse-employee-expenses.md)|

## See also
[Purchasing](purchasing-manage-purchasing.md)    
[Managing Receivables](receivables-manage-receivables.md)    
[Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md)    
[General Business Functionality](ui-across-business-areas.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-outbound-warehouse-flow
---
title: Outbound Warehouse Process Overview
description: This article describes the outbound warehouse workflow.
author: brentholtorf
ms.author: bholtorf 
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: conceptual
ms.date: 02/05/2024
ms.custom: bap-template    
---
# Outbound Warehouse Processes

Outbound processes in warehouses start when you release a source document to take items out of a warehouse location. For example, either to ship the items somewhere or to move them to another company location. You can ship physical and non-inventory items. To learn more about receiving non-inventory items, go to [Post non-inventory items](#post-non-inventory-items). 

In principle, the process of shipping outbound orders consists of two activities:

* Picking items from the shelves.
* Shipping items out of the warehouse.

The source documents for outbound warehouse flow are:  

* Sales order  
* Outbound transfer order  
* Purchase return order  
* Service order  

> [!NOTE]
> Production and assembly orders with component needs also represent outbound source documents. Production and assembly orders are a little different because they're typically internal processes that don't involve shipping. Instead, they're used to put-away produced items or move the components needed to assemble an item to an assembly area. Learn more about these processes at [Design Details: Internal Warehouse Flows](design-details-internal-warehouse-flows.md).  

In [!INCLUDE[prod_short](includes/prod_short.md)], you pick and ship items using one of four methods, as described in the following table.

|Method|Outbound Process|Require Pick|Require Shipment|Complexity Level (Learn more at [Warehouse Management Overview](design-details-warehouse-management.md))|  
|------|----------------|-----|---------|-------------------------------------------------------------------------------------|  
|A|Post the pick and shipment from the order line|||No dedicated warehouse activity.|  
|B|Post the pick and shipment from an inventory pick document|Turned on||Basic: Order-by-order.|  
|C|Post the pick and shipment from a warehouse shipment document||Turned on|Basic: Consolidated receive/ship posting for multiple orders.|  
|D|Post the pick from a warehouse pick document, and post the shipment from a warehouse shipment document|Turned on|Turned on|Advanced|  

The approach to choose depends on your warehouse practices and level of organizational complexity. The following are some examples that might help you decide.

* In an order-by-order environment with straightforward processes and a simple bin structure, method A, picking and shipping from the order line is appropriate.
* If items for an order line come from more than one bin, or if warehouse workers can't work with order documents, the use of separate pick documents is appropriate, method B.
* If your picking and shipping processes involve multiple orders and require greater control and overview, you might choose to use a warehouse shipment document and warehouse pick document to separate the picking and shipping tasks, methods C and D.  

In methods A, B, and C, picking and shipping activities are combined in one step when posting the document as shipped. In method D, you first register the pick, and then post the shipment later from a different document.

> [!NOTE]
> While warehouse picks and inventory picks sound similar, they're different documents and are used in different processes.
> * The inventory pick used in method B, together with registering picking information, also posts the shipment of the source document.
> * The warehouse pick used in method D can't be posted and only registers the pick. The registration makes the items available for the warehouse shipment but doesn't post the shipment. In the outbound flow, the warehouse pick requires a warehouse shipment.

## No dedicated warehouse activity

The following articles provide information about how to process receipts for source documents if you don't have dedicated warehouse activities.

* [Sell Product](sales-how-sell-products.md)
* [Transfer Orders](inventory-how-transfer-between-locations.md)
* [Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md)
* [Create Service Orders](service-how-to-create-service-orders.md)

## Basic warehouse configurations

The following diagram illustrates the outbound warehouse processes for different types of documents in basic warehouse configurations. The numbers in the diagram correspond with the steps in the sections following the diagram.  

:::image type="content" source="media/design-details-warehouse-management-outbound-basic-flow.png" alt-text="Shows the steps in a basic outbound flow in a warehouse.":::

### 1: Release a source document

When you use the **Release** action on a source document, such as a sales or transfer order, the items on the document are ready to be handled in the warehouse. For example, picked and put in the bin specified on the document. Alternatively, you can create inventory pick documents for individual lines on orders, in a push fashion, based on specified bins and quantities to handle.  

### 2: Create an inventory pick

On the **Inventory Pick** page, the warehouse worker retrieves, in a pull fashion, the source document lines. Alternatively, the inventory pick lines are already created, in a push fashion, by the user who is responsible for the source document.  

### 3: Post an inventory pick

On each line for items that have been picked or moved, partially or fully, fill in the **Quantity** field, and then post the inventory pick. Source documents related to the inventory pick are posted as shipped or consumed.  

For inventory picks, negative item ledger entries are created, warehouse entries are created, and the pick request is deleted, if fully handled. For example, the **Quantity Shipped** field on the outbound source document line is updated. A posted shipment document is created  that reflects the sales order, for example, and the shipped items.  

## Advanced warehouse configurations

The following diagram illustrates the outbound warehouse processes for different types of documents in advanced warehouse configurations. The numbers in the diagram correspond with the steps in the sections following the diagram.  

:::image type="content" source="media/design_details_warehouse_management_outbound_advanced_flow.png" alt-text="Shows the steps in an advanced outbound warehouse flow.":::

### 1: Release a source document

Releasing a source document in advanced configurations does the same thing as for basic configurations. The items become available for handling in the warehouse. For example, they can be included in a shipment.  

### 2: Create a warehouse shipment

On the **Warehouse Shipment** page, get the lines from the released source document. You can combine lines from several source document in one warehouse shipment.  

### 3: Create a warehouse pick

On the **Warehouse Shipment** page, create warehouse pick activities for warehouse shipments in one of two ways:

- In a push fashion, where you use the **Create Pick** action. Select the lines to be picked and prepare the picks by specifying, for example, which bins to take from and place in, and how many units to handle. The bins can be predefined for the warehouse location or resource.
- In a pull fashion, where you use the **Release** action. On the **Pick Worksheet** page, warehouse workers can use the **Get Warehouse Documents** action to get their assigned picks. When the warehouse picks are fully registered, the lines in the **Pick Worksheet** are deleted.

### 4: Register a warehouse pick

On the **Warehouse Pick** page, a warehouse worker fills in the **Quantity** field for each line that they've fully or partially picked, and then registers the pick.

Warehouse entries are created, and the warehouse pick lines are deleted if the full quantity was picked. The warehouse pick document remains open until the full quantity of the warehouse shipment is registered. The **Qty. Picked** field on the warehouse shipment lines is updated accordingly.  

### 5: Post the warehouse shipment

When all items on the warehouse shipment document are registered as picked, the warehouse worker posts the shipment. Posting updates the item ledger entries to reflect the reduction in inventory. For example, the **Quantity Shipped** field on the outbound source document line is updated.  

## Post non-inventory items

[!INCLUDE [post-non-inventory-items](includes/post-non-inventory-items.md)]

## See also

[Warehouse Management](design-details-warehouse-management.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-powerbi-business-central-apps-multi-language
---
title: Multi-language Power BI apps for Business Central
description: Learn how to test and use multi-language capabilities in the Power BI apps for Business Central. 
author: kennieNP
ms.topic: get-started
ms.devlang: al
ms.search.keywords: analysis, reporting, business intelligence, KPI, installation, administration
ms.date: 05/28/2024
ms.author: kepontop
ms.service: dynamics-365-business-central
---

# Multi-language [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps for [!INCLUDE [prod_short](includes/prod_short.md)]

This article describes how to test and use multi-language capabilities in the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps for [!INCLUDE [prod_short](includes/prod_short.md)].

## Try a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app in your language/locale

To try an app in a language, add `language = <culture name>` to the url parameters. For example, this URL shows an app in German:

``` link
https://<your domain>.powerbi.com/groups/a1d27337-134a-4326-99ed-9e68a1485679/reports/3173137b-a485-42e2-a3df-8f3acd7640a6/ReportSection2fa580b0181e8c981cdc?experience=power-bi&language=de-DE
```

## Languages and locales

A culture name is usually a lower-case language identifier and an upper-case locale identifier separated by a hyphen. Here are some examples of culture names:

- **en-US** identifies a user in the United States who speaks English.
- **es-ES** identifies a user in Spain who speaks Spanish.
- **fr-FR** identifies a user in France who speaks French.
- **de-DE** identifies a user in Germany who speaks German.

| language parameter | Language | Locale        |
|--------------------|----------|---------------|
| en-US              | English  | United States |
| es-ES              | Spanish  | Spain         |
| fr-FR              | French   | France        |
| de-DE              | German   | Germany       |

## See also

[Installing Power BI apps for Business Central](across-powerbi-install-business-central-apps.md)  
[Introduction to Business Central and Power BI](admin-powerbi.md)  
[Work with Power BI reports](across-working-with-powerbi.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-drop-shipment
---
title: Make drop shipments
description: Describes how to create a sales order linked to a purchase order to enable shipment directly from the vendor to the customer.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: direct shipment
ms.date: 05/28/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Make drop shipments

A drop shipment is the shipment of items from one of your vendors directly to one of your customers.

When a sales order is marked for drop shipment, and you create a purchase order specifying the customer in the **Ship-to** field, **Customer Address**, you can link the two documents to instruct the vendor to ship directly to the customer.
<br><br>  
  
> [!Video https://learn-video.azurefd.net/vod/player?id=58c81aa9-7190-476a-9fd9-75a9841549f7]

## To create a sales order for drop shipment

To prepare a drop shipment, you create a sales order for an item and indicate on the sales line that the sale requires drop shipment.

1. Create a sales order for an item. For more information, see [Sell Products](sales-how-sell-products.md).
2. On the sales order line for the drop shipment, select the **Drop Shipment** checkbox. Alternatively, in the **Purchasing Code** field, select a purchasing code that has the **Drop Shipment** field selected.

> [!TIP]
> By default, the Drop Shipment checkbox and Purchasing Code field aren't available on the lines. If they aren't, you can add them by personalizing the section of page that contains the lines. For more information, see [Personalize Your Workspace](ui-personalization-user.md).

## To create the purchase order for drop shipment

To prepare a drop shipment, you indicate on the purchase order that it must be shipped to your customer, not to yourself.

1. Create a purchase order. Don't fill any fields on the lines. For more information, see [Record Purchases](purchasing-how-record-purchases.md).
2. In the **Ship-to** field, select **Customer Address**.
3. In the **Customer** field, select the customer that you're selling to.
4. Choose the **Drop Shipments** action, and then choose the **Get Sales Order** action.
5. On the **Sales List** page, select the sales order that you prepared in [To create a sales order for drop shipment](#to-create-a-sales-order-for-drop-shipment).
6. Choose the **OK** button.

The line information from the sales order is inserted on the purchase order line(s).

You can now tell your vendor to ship the items directly to the customer. For example, you might send them the order by email.

If your vendor provides additional information, such as a tracking number, you can add that information as a comment on a purchase order line. To add a comment on a line, in the **Type** field, choose **Comment**, and then enter the information in the **Description** field.  

## To create multiple purchase orders for drop shipments

You can also use the requisition worksheet to create purchase orders. The advantage of using the requisition worksheet is that it can create purchase orders for all outstanding drop shipments. That means you won't have to create each order individually.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Requisition Worksheets**, and then choose the related link.
2. Choose the **Drop Shipments** action, and then choose the **Get Sales Order** action.
3. If needed, enter filter criteria for the orders you wan to get, and then choose the **OK** button.
4. Review the purchase order lines, and in the **Vendor No.** field, select the vendor that supplies the goods.
5. Choose the **Carry Out Action Message** action to convert the lines to a purchase order.

## To view the linked purchase order from the sales order

Select the drop-shipment sales order line, choose the **Order** action, choose the **Drop Shipment** action, and then choose the **Purchase Order** action.

## To post a drop shipment

After the vendor ships the items, you can post the sales order as shipped. You can also post the purchase order, but only with the **Receive** option until the sales order has been invoiced.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Open the sales order that you created in [To create a sales order for drop shipment](#to-create-a-sales-order-for-drop-shipment).
3. In the **Qty. to Ship** field, specify how many of the order quantity to ship, the full or a partial order quantity.
4. Choose the **Post** or **Post and Send** action.
5. Choose either the **Ship** option to invoice later, or the **Ship and Invoice** option to invoice immediately.

> [!TIP]
> Don't forget that you need to post the purchase order invoice.

## See also

[Create Special Orders](sales-how-to-create-special-orders.md)  
[Purchase Items for a Sale](purchasing-how-purchase-products-sale.md)  
[Sell Products](sales-how-sell-products.md)  
[Record Purchases](purchasing-how-record-purchases.md)  
[Sales](sales-manage-sales.md)  
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-configuring-api-template
---
title: Configure API Templates
description: Describing the steps you must go through to configure API templates for Dynamics 365 Business Central.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: API templates, configuring templates
ms.search.form: 5469
ms.date: 06/07/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Configure API Templates

The API library for [!INCLUDE[prod_short_md](includes/prod_short.md)] provides a simplified representation of the underlying entities. All the properties in the application are not exposed through the associated API. The **API Setup** page allows you to define templates that are used to populate empty properties on an entity when you create a POST action through the API. 

For example, if a configuration template is defined for the item entity, when a new item record is created through the items API, any properties for the new item that are not defined in the API call will be populated from the selected template. If, for example, no value is defined for the **Gen. Prod. Posting Group** field through the API, but a value is defined in the selected template, then the posting group value defined in the template will be applied to the new item. 

## Setting up the Entity Template

To use templates with the API library, you must first set up and define properties for the templates. You can set up these templates on the **Configuration Templates** page. For more information, see [Migrate On-Premises Data to Business Central Online](/dynamics365/business-central/dev-itpro/administration/migrate-data) (in English only) in the administration content.  

## Assign the template to an API

To assign a template to an API, you must go through the following steps.

> [!NOTE]  
> API templates can only be set up with the following API pages: contacts, countriesRegions, currencies, customers, employees, itemCategories, paymentMethods, paymentTerms, shipmentMethods, unitsOfMeasure, and vendors.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **API Setup**, and choose the related link.
2. Choose **New**, and then choose the **Order** value for the record.  

    If there is more than one template selected for an API (Page ID), the templates are applied in the order defined in the **Order** column.  

    When each template is applied, field values defined in the template are only applied to fields that have not already had a value defined, either explicitly in the API, or in a previously applied template in the order.  
3. Select a **Page ID** value.  

    This is the page for the API to which the template will be applied. The **Page ID** lookup provides a list of all APIs available in the library.
4. Select a value in the **Template Code** field.  

    The template code is the code for the template that was defined on the **Configuration Templates** page. The template values defined are applied to the API.  
5. In the **Conditions** field, specify which template should be applied.  

    The defined template is applied to a new record created through the API if, and only if, the conditions defined in the **Conditions** field are met by the values already defined for the new instance of the entity.

## See Also

[API Documentation](/dynamics-nav/fin-graph)  
[Develop Connect Apps for [!INCLUDE[prod_short_md](includes/prod_short.md)]](/dynamics365/business-central/dev-itpro/developer/devenv-develop-connect-apps)  
[Enabling the APIs](/dynamics-nav/enabling-apis-for-dynamics-nav)  
[Endpoints for the APIs](/dynamics-nav/endpoints-apis-for-dynamics)  
[Administration](admin-setup-and-administration.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-powerbi-setup
---
title: Enabling Power BI integration with Business Central
description: Learn how to set up the connection to Power BI. With Power BI reports, you can get insights, business intelligence, and KPIs from your Business Central data.
author: jswymer
ms.topic: get-started
ms.search.keywords: Power BI, setup, analysis, reporting, financial report, business intelligence, KPI
ms.date: 01/28/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.reviewer: jswymer
---
# Enabling Power BI integration with [!INCLUDE[prod_short](includes/prod_short.md)]

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

This article describes how to get [!INCLUDE[prod_short](includes/prod_short.md)] ready for integration with Power BI. [!INCLUDE[prod_short](includes/prod_short.md)] online is already enabled for integration, although there's some information about licensing that you might want to read. For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, you'll have set up your environment to connect to Power BI before users can work with it.

## <a name="license"></a>Power BI Licensing

With [!INCLUDE[prod_short](includes/prod_short.md)], users get a free Power BI license that provides access to the most common features in [!INCLUDE[prod_short](includes/prod_short.md)] and Power BI. You can also purchase a Power BI Pro license that provides access to additional features. The following table provides an overview of the features available with each license.

|Power License|View reports|Create reports|Share reports|Refresh reports| [!INCLUDE[prod_short](includes/prod_short.md)] [!INCLUDE [powerbi-name](includes/powerbi-name.md)] Apps|
|-------------|--------||
|Power BI free|![a checkmark.](media/check.png) (in your personal workspace)  | ![another checkmark](media/check.png) (in your personal workspace) |(limited)|(limited)||
|Power BI Pro|![yet another checkmark.](media/check.png) |![it's a checkmark](media/check.png)|![again a checkmark](media/check.png)|(extensive)|![last checkmark](media/check.png)|

You can't use a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] free license for the [!INCLUDE[prod_short](includes/prod_short.md)] [!INCLUDE [powerbi-name](includes/powerbi-name.md)] Apps. To learn more, go to [Prerequisites for installing Power BI apps for Business Central](across-powerbi-install-business-central-apps.md#prerequisites)

To learn more about [!INCLUDE [powerbi-name](includes/powerbi-name.md)] licensing in general, go to [Licensing the Power BI service for users in your organization](/power-bi/admin/service-admin-licensing-organization) or [Sign up for the Power BI service as an individual](/power-bi/fundamentals/service-self-service-signup-for-power-bi).

## <a name="exposedata"></a>Expose data through API or OData web services

[!INCLUDE[prod_short](includes/prod_short.md)] offers two ways to expose data that can be consumed by [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports: 

* API pages or queries
* Open Data Protocol (OData) web services

### API pages and queries (recommended)

> **APPLIES TO:** [!INCLUDE[prod_short](includes/prod_short.md)] online only.

Developers can define page objects and query objects that are of the type *API*. This way, they can expose data from database tables through a webhook-supported, OData v4-enabled, REST service. This type of data can't be displayed in the user interface, but is intended for building reliable integration services.

[!INCLUDE[prod_short](includes/prod_short.md)] online comes with a set of built-in APIs that you can use to get data for typical business entities, like customers, items, sales orders, and more. No extra work or setup is required to use these APIs as a data source for [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports. To learn more about these APIs, go to [Business Central API V2.0](/dynamics365/business-central/dev-itpro/api-reference/v2.0/).

[!INCLUDE[prod_short](includes/prod_short.md)] online also supports custom APIs. Application developers of [!INCLUDE[prod_short](includes/prod_short.md)] solutions can create their own API pages and queries and package them into apps. You then install the apps on your tenant. When they're installed, you use the API pages for your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports, like you'd do with the built-in APIs (v2.0). To learn more about how to create an API by exposing pages or queries, go to [Developing a Custom API](/dynamics365/business-central/dev-itpro/developer/devenv-develop-custom-api).

> [!IMPORTANT]
> Starting in February 2022, [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports for [!INCLUDE[prod_short](includes/prod_short.md)] online are sourced from a secondary, read-only database replica for performance reasons. AL developers should avoid designing API pages that make database modifications while the pages are opening or loading records. In particular, consider the code on the AL triggers: `OnInit`, `OnOpenPage`, `OnFindRecord`, `OnNextRecord`, `OnAfterGetRecord`, and `OnAfterGetCurrRecord`. In some cases, these database modifications might cause performance problems and prevent the report from refreshing data. To learn more, go to [Performance Articles For Developers](/dynamics365/business-central/dev-itpro/performance/performance-developer?branch=main#writing-efficient-web-services) in the [!INCLUDE[prod_short](includes/prod_short.md)] development content.
>
> In rare cases, the behavior causes an error when you try to get data from the API for a report in Power BI Desktop. However, if the custom API requires database modifications, Power BI Desktop users can force the behavior. To learn more, go to [Building Power BI Reports to Display Business Central Data](across-how-use-financials-data-source-powerbi.md#fixing-problems).

### OData web services (not recommended)

You can publish [!INCLUDE[prod_short](includes/prod_short.md)] application objects, such as codeunits, pages, and queries, as [OData web services](/dynamics365/business-central/dev-itpro/webservices/odata-web-services). With [!INCLUDE[prod_short](includes/prod_short.md)] online, there are many web services published by default. An easy way to find the web services is to search for *web services* in [!INCLUDE[prod_short](includes/prod_short.md)]. On the **Web Services** page, make sure the **Publish** field is selected for the web services. To learn more about publishing web services, go to [Publish a Web Service](across-how-publish-web-service.md).

To learn about what you can do to ensure the best performance of web services, as seen from the [!INCLUDE[prod_short](includes/prod_short.md)] server (the endpoint) and from the consumer (the client), read [Writing efficient Web Services](/dynamics365/business-central/dev-itpro/performance/performance-developer#writing-efficient-web-services).

### Choosing whether to use API pages or OData web services

We recommend that you use API pages instead of OData web services. API pages load data faster in [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports than OData web services. Plus, they're more flexible because they let you get data from table fields that aren't defined in a page object.

Stability is another reason for why you shouldn't base your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports on UI pages exposed as OData web services. Fields on UI pages in [!INCLUDE[prod_short](includes/prod_short.md)] can change between updates. The changes are done either by the app publisher (the organization that develops the code), or with per-tenant extensions or apps that modify the page. In both cases, [!INCLUDE[prod_short](includes/prod_short.md)] doesn't know about [!INCLUDE [powerbi-name](includes/powerbi-name.md)] report dependencies on page objects, so the change in the UI page might break your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports. This problem doesn't happen if you base your reports on API pages or queries.

<!--## <a name="setup"></a>Set up [!INCLUDE[prod_short](includes/prod_short.md)] on-premises for Power BI integration

This section explains the requirements for a [!INCLUDE[prod_short](includes/prod_short.md)] on-premises deployment to integrate with Power BI.

1. Configure either [NavUserPassword](/dynamics365/business-central/dev-itpro/administration/authenticating-users-with-navuserpassword) or [Microsoft Entra ID](/dynamics365/business-central/dev-itpro/administration/authenticating-users-with-azure-ad-overview) as the authentication method for the deployment.  
    
    > [!NOTE]
    > Power BI integration doesn't support Windows authentication and is not supported on Windows Client.

2. Enable OData web services and the ODataV4 endpoint.

    OData web service must be enabled on the [!INCLUDE[server](includes/server.md)], and OData port opened in firewall. For more information, see [Configuring Business Central Server - OData Web Services](/dynamics365/business-central/dev-itpro/administration/configure-server-instance#ODataServices).

    The local server must be accessible from the Internet.

3. Give [!INCLUDE[prod_short](includes/prod_short.md)] user accounts a web service access key.

    A web service access key is only needed to view [!INCLUDE[prod_short](includes/prod_short.md)] data in Power BI. You can assign a web service access key to each user account. Or instead, create a specific account with a web service access key for use by all users. For more information, see [Web Services Authentication](/dynamics365/business-central/dev-itpro/webservices/web-services-authentication#generate-a-web-service-access-key).

    <!--
    > [!IMPORTANT]
    > With [!INCLUDE[prod_short](../developer/includes/prod_short.md)] online, the use of access keys (Basic Auth) for web service authentication is [deprecated](/dynamics365/business-central/dev-itpro/upgrade/deprecated-features-w1#accesskeys). We recommend that you use OAuth2 instead. For more information, see [Use OAuth to Authorize Business Central Web Services](/dynamics365/business-central/dev-itpro/webservices/authenticate-web-services-using-oauth).-->

<!--4. Create an application registration for [!INCLUDE[prod_short](includes/prod_short.md)] in Microsoft Azure.

    To view Power BI reports embedded in [!INCLUDE[prod_short](includes/prod_short.md)] pages, an application must be registered for [!INCLUDE[prod_short](includes/prod_short.md)] in Microsoft Azure. The registered application needs permission to Power BI services. At a minimum, the app requires  **User.ReadWrite.All** permission. For users to view reports from shared Power BI workspaces, the app requires **Workspace.Read.All** permission. For more information, see [Registering [!INCLUDE[prod_short](includes/prod_short.md)] On-Premises in Microsoft Entra ID for Integrating with Other Services](/dynamics365/business-central/dev-itpro/administration/register-app-azure).

    > [!NOTE]
    > If your deployment uses NavUserPassword authentication, [!INCLUDE[prod_short](includes/prod_short.md)] connects to the same Power BI service for all users. You'll specify this service account as part of registering the application. With Microsoft Entra authentication, [!INCLUDE[prod_short](includes/prod_short.md)] connects to the Power BI service associated with the individual user accounts.

    <!-- Windows authentication can also be used but you can't get data from BC in Power BI -->
<!--5. Make the initial connection from Business Central to Power BI.

    Before end-users can use Power BI in [!INCLUDE[prod_short](includes/prod_short.md)], an Azure application administrator will have to give consent to the Power BI service.

    To make the initial connection, open [!INCLUDE[prod_short](includes/prod_short.md)], and run **Get Started with Power BI** from the Home page. This action will lead you through the consent process, and check your Power BI license. When prompted sign in using an Microsoft Entra admin account. For more information, see [Connect to Power BI - one time only](across-working-with-powerbi.md#connect).-->

## Setting up Dataflows

Dataflows enable you to ingest, transform, and load data into a Power BI workspace and then use the data as the basis for your reports. These dataflows can in some cases experience transient errors while doing a scheduled refresh. The error message looks like this: `DataSource.Error: OData: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.` 

Using PowerAutomate, you can set up retries for this situation. For more information, see [Automatically retry a dataflow on failure](/power-query/dataflows/automatically-retry-dataflow).

## See also

[Business Central and Power BI](admin-powerbi.md)  
[Power BI Integration Component and Architecture Overview for [!INCLUDE[prod_short](includes/prod_short.md)]](admin-powerbi-overview.md)  
[Power BI for consumers](/power-bi/consumer/end-user-consumer)  
[The 'new look' of the Power BI service](/power-bi/service-new-look)  
[Quickstart: Connect to data in Power BI Desktop](/power-bi/desktop-quickstart-connect-to-data)  
[Power BI documentation](/power-bi/)  
[Business Intelligence](bi.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Setting Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md)  
[Use [!INCLUDE[prod_short](includes/prod_short.md)] as a Power BI Data Source](across-how-use-financials-data-source-powerbi.md)  
[Use [!INCLUDE[prod_short](includes/prod_short.md)] as a Power Apps Data Source](across-how-use-financials-data-source-powerapps.md)  
[Use [!INCLUDE[prod_short](includes/prod_short.md)] in Power Automate](across-how-use-financials-data-source-flow.md)  




[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-to-create-blanket-sales-orders
---
title: Work with blanket sales orders or purchase orders
description: Use blanket orders when a customer has agreed to buy large quantities that are to be delivered in several smaller shipments over a certain period of time. The same applies to purchasing.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.form: 507, 509, 6620, 6622, 6623, 9303, 9310
ms.date: 03/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Work with blanket sales orders or blanket purchase orders

A blanket sales order represents a framework for a long-term agreement between you and your customer. Similarly, you use blanket purchase orders to manage long-term agreements between you and your vendor.

A blanket order is typically made when a customer has committed to purchasing large quantities that are to be delivered in several smaller shipments over a certain period of time. Often blanket orders cover only one item with predetermined delivery dates. The main reason for using a blanket order rather than a sales order is that quantities entered on a blanket order don't affect item availability and thus can be used as a worksheet for monitoring, forecasting, and planning purposes.

On the blanket order, each separate shipment can be set up as an order line, which can then be converted into a sales order at the time of shipping.

An example of when a blanket sales order could be used is if a customer calls and places an order of 1000 units of an item and they want the items to be delivered in 250 units every week over the next month.

> [!NOTE]
> Blanket purchase orders work in a similar way as blanket sales orders. This documentation covers blanket sales orders only.

## To create a blanket sales order

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Blanket Sales Orders**, and then choose the related link.  
2. Choose the **New** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Leave the **Order Date** field blank. When the separate sales orders are created from the blanket order, the order date of the sales order is set to equal the actual work date.
5. On the **Lines** FastTab, create separate lines for each shipment. For instance, if your customer wants 1000 units split out equally between four weeks, you would enter four separate lines of 250 units each.  

## To create a sales order from a blanket sales order  

1. To create an order for any of the lines in the blanket sales order, remove the quantity in the **Qty. to Ship** field on all the lines that you don't wish to ship at this time.  
2. When you're ready to create orders, choose the **Make Order** action, and then choose **Yes**. A message appears informing you that the blanket order has been assigned an order number. Note that the blanket order hasn't been deleted.  
3. Choose the **OK** button.  
4. To see the results of the preceding steps, choose the **Line** action, choose the **Unposted Lines** action, and then choose the **Orders** action.  
5. On the **Sales Lines** page, select the appropriate sales order, choose the **Line** action, and then choose the **Show Document** action.  

The following applies to sales orders after they have been created from blanket sales orders:  

- After the blanket order is converted into a sales order, the sales order contains all the lines from the blanket order. The lines where the quantity in the **Qty. to Ship** field was deleted appear, but with blank **Quantity** fields. You may choose to leave, edit, or delete the lines.  
- It's important to remember that the sales order line quantity must not exceed the quantity of the associated blanket order line. Otherwise, posting of the sales order won't be possible.  
- When the sales order is posted as shipped and/or invoiced, the **Quantity Shipped** and **Quantity Invoiced** fields are updated on the related blanket order.  
- The blanket order number and line number are recorded as properties of the sales lines when created from a blanket order.  
- When sales orders aren't created directly from the blanket order but still relate to it, a link between a sales order and a blanket order can be established by entering the associated blanket order number in the **Blanket Order No.** field on the sales order line.  
- After the sales order has been created for the total quantity of a blanket order line, no other sales order can be created for the same line. Users are prevented from entering a quantity in the **Qty. to Ship** field. If, however, additional quantities need to be added to a blanket order, the value in the **Quantity** field can be increased and additional orders can then be created.  
- The invoiced blanket sales order remains in the system until it's deleted, either by deleting individual blanket orders or by running the **Delete Invoiced Blanket Sales Orders** batch job.  
- If a customer is also recorded as a contact in the Marketing application area, and if you have specified an interaction template code for blanket sales order on the **Marketing Setup** page, an interaction is recorded in the Interaction Log Entry table when you select **Print** to print the blanket sales order.

## To view the status of a blanket sales order

You can see the status of a blanket sales order on the **Sales Blanket Order Statistics** page. This might be relevant when you start to invoice the order that is created from the blanket sales order.  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Blanket Sales Orders**, and then choose the related link.  
2.  Select a blanket sales order, and then choose the **Statistics** action.  
3.  On the **Sales Blanket Order Statistics** page, on the **General** FastTab, you can see summary information about the entire order based on the total quantity in the various **Quantity fields** on the blanket sales order lines.  

- On the **Invoicing** FastTab, you can see summary information based on the total quantity in the **Qty. to Invoice** fields on the sales blanket order lines.  
- On the **Shipping** FastTab, you can see summary information based on the total quantity in the **Qty. to Receive** fields on the sales blanket order lines.  
- On the **Prepayment** FastTab, you can see summary information about any prepaid amounts.  
- On the **Vendor** FastTab, you can see certain basic information about the vendor.

## To view unposted and posted blanket sales order lines

The link between the blanket sales order and the originating sales order, and any other sales document, is retained after posting as a list of posted and unposted sales order invoice lines.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon enter **Blanket Sales Orders**, and then choose the related link.
2. Open the blanket sales order you want to view.
3. To view unposted entries, select the line in question, choose the **Line** action, and then choose the **Unposted Lines** action. Choose one of the following options.  

|Option|Description|
|--|--|
|**Orders**|Specifies open orders associated with the selected line.|
|**Invoices**|Specifies open invoices that have been associated with the selected line. Open invoices are manually associated with a blanket order by entering the blanket order number on the sales invoice line.|
|**Return Orders**|Specifies open return orders that have been associated with the selected line.|
|**Credit Memos**|Specifies open credit memos that have been associated with the selected line.|

4. To view posted entries, select the line in question, choose the **Line** action, and then choose the **Posted Lines** action. Choose one of the following options.  

|Option|Description|
|---|----|
|**Shipments**|Posted shipments associated with the selected line.|
|**Invoices**|Posted invoices associated with the selected line.|
|**Return Receipts**|Posted return receipts that have been associated with the selected line.|
|**Credit Memos**|Posted credit memos that have been associated with the selected line.|

5. On the **Sales Lines** page, choose the **Show Document** action to view the entry.

## See also

[Sales](sales-manage-sales.md)  
[Create Blanket Assembly Orders](assembly-how-to-create-blanket-assembly-orders.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-record-purchase-price-discount-payment-agreements
---
title: Record Special Purchase Prices and Discounts
description: You can define different or alternate prices and discount agreements and apply them to purchase documents for vendors.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: special price, alternate price, pricing
ms.search.form: 26, 1346, 7012, 7014, 7017, 7018, 7189, 7190, 9307
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Record Special Purchase Prices and Discounts

> [!NOTE]
> In 2020 release wave 2 we released streamlined processes for setting up and managing prices and discounts. If you're a new customer using that version, you're using the new experience. If you're an existing customer, whether you are using the new experience depends on whether your administrator has enabled the **New sales pricing experience** feature update in **Feature Management**. For more information, see [Enabling Upcoming Features Ahead of Time](/dynamics365/business-central/dev-itpro/administration/feature-management).

The different price and discount agreements that apply when you buy from different vendors must be defined so that the agreed rules and values are applied to purchase documents that you create for the vendors.

When you have recorded special prices and line discounts for sales and purchases, [!INCLUDE[prod_short](includes/prod_short.md)] ensures that your profit on item trade is always optimal by automatically calculating the best price on sales and purchase documents and on project and item journal lines. For more information, see [Best Price Calculation](purchasing-how-record-purchase-price-discount-payment-agreements.md#best-price-calculation).

Concerning prices, you can have a special purchase price inserted on purchase lines if a certain combination of vendor, item, minimum quantity, unit of measure, or starting/ending date exists.

Concerning discounts, you can set up and use two types of purchase discounts:

| Discount Type | Description |
| --- | --- |
| **Purchase Line Discount** |An amount discount that is inserted on purchase lines if a certain combination of vendor, item, minimum quantity, unit of measure, or starting/ending date exists. This type works in the same way as for purchase prices. |
| **Invoice Discount** |A percentage discount that is subtracted from the document total if the value amount of all lines on a purchase document exceeds a certain minimum. |

Because purchase line discounts and purchase prices are based on a combination of item and vendor, you can also enter this configuration from the item card, where the rules and values are defined. For more information, see [Register New Items](inventory-how-register-new-items.md).

## To set up a special purchase price for a vendor

#### [Current Experience](#tab/current-experience)

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the relevant vendor card, and then choose the **Prices** action.
3. Fill in the fields on the line as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Fill a line for each combination for which the vendor grants you a purchase line discount.

#### [New Experience](#tab/new-experience)

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Choose the vendor, and then choose the **Sales Price Lists** action.
3. Choose **New** to create a new purchase price list.
4. On the **General** and **Tax** FastTabs, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
5. To add items to the list, do one of the following:
   * To add many items, choose **Suggest Lines**, and then enter filter criteria to specify the types of items to add. Optionally, you can also enter some additional settings for the items that are specific to the price list. You can change these later, if needed.
   * To copy items from another price list, choose **Copy Lines**, and then choose the price list to copy.
   * To add items manually, in the grid, in the **Product Type** field, choose the type of product that the price list is for. Depending on your selection, fill in the remaining fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
6. To start using the price list, in the **Status** field, choose **Active**.

---

## To set up a line discount for a vendor

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the relevant vendor card, and then choose the **Line Discounts** action.

   The **Vendor No.** field is prefilled with the vendor number.
3. Fill in the fields on the line as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Fill a line for each combination for which the vendor grants you a purchase line discount.

## To set up an invoice discount for a vendor

When your vendors have informed you which invoice discounts they grant, enter the invoice discount code on the vendor cards and set up the terms for each code.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the vendor card for a vendor that will be eligible for invoice discounts.
3. In the **Invoice Disc. Code** field, select a code for the relevant invoice discount terms to use to calculate invoice discounts for the vendor.

    > [!NOTE]  
    > Invoice discount codes are represented by existing vendor cards. This enables you to quickly assign invoice discount terms to vendors by picking the name of another vendors who will have the same terms.

    Proceed to set up new the purchase invoice discount terms.
4. On the **Vendor Card** page, choose the **Invoice Discounts** action. The **Vend. Invoice Discounts** page opens.
5. In the **Currency Code** field, enter the code for a currency that the invoice discount terms on the line applies to. Leave the field blank to set up invoice discount terms in USD.
6. In the **Minimum Amount** field, enter the minimum amount that an invoice must have to be eligible for the discount.
7. In the **Discount %** field, enter the invoice discount as a percentage of the invoice amount.
8. Repeat steps 5 through 7 for each currency that the vendor will receive a different invoice discount for.

The invoice discount is now set up and assigned to the vendor in question. When you select the vendor code in the **Invoice Disc. Code** field on other vendor cards, the same invoice discount is assigned to those vendors.

## To choose a principle for posting purchase discounts

When you post a purchase invoice that includes one or more discounts, you can choose between two principles for posting discount amounts. You can post discounts separately or you can subtract discounts from invoice discounts.  

Before you can do this, you must have already set up the necessary accounts for posting discount amounts in the chart of accounts. You must also check that you have entered the correct account numbers in the general posting setup in the **Purch. Line Disc. Account** and **Purch. Inv. Disc. Account** fields.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchases & Payables Setup**, and then choose the related link.
2. In the **Discount Posting** field, choose one of the following principles for posting discounts.

|**Discount Posting Principle**|**Invoice Discount**|**Line Discount**|  
|------------------------------------|--------------------------|-----------------------|  
|**All Discounts**|Posted separately|Posted separately|  
|**Invoice Discounts**|Posted separately|Subtracted|  
|**Line Discounts**|Subtracted|Posted separately|  
|**No Discounts**|Subtracted|Subtracted|  

## Purchase invoice discounts and service charges

If you have fixed terms for invoice discounts with any vendors, you can enter them for those vendors. Then the discount will be calculated when you fill in a purchase invoice.  

Before you can use invoice discounts with purchases, you must specify the vendors that offer you the discounts.  

You link discount percentages to specific invoice amounts in **Vend. Invoice Discounts** pages. You can enter any number of percentages in each page. Each vendor can have its own page, or you can link several vendors to the same page.  

In addition to a discount percentage, you can link a service charge amount to a specific invoice amount.  

You can define the terms of the invoice discount in LCY for domestic vendors and in foreign currency for foreign vendors.  

You can choose to have [!INCLUDE[prod_short](includes/prod_short.md)] automatically calculate the invoice discounts for quotes, blanket orders, orders, invoices, or credit memos.  

> [!TIP]  
> Before you enter this information, it is a good idea to prepare an outline of the discount structure that you want to use. This makes it easier to see which vendors can be linked to the same invoice discount page. The fewer pages that you have to set up, the faster that you can enter the basic information.

## Best price calculation

When you have recorded special prices and line discounts for sales and purchases, [!INCLUDE[prod_short](includes/prod_short.md)] ensures that your profit on item trade is always optimal by automatically calculating the best price on sales and purchase documents and on project and item journal lines.

The best price is the lowest permissible price with the highest permissible line discount on a given date. [!INCLUDE[prod_short](includes/prod_short.md)] automatically calculates this price when it inserts the unit price and the line discount percentage for items on new document and journal lines.

> [!NOTE]  
> The following describes how the best price is calculated for sales. The calculation is the same for purchases.

1. [!INCLUDE[prod_short](includes/prod_short.md)] checks the combination of the bill-to customer and the item and then calculates the applicable unit price and line discount percentage, using the following criteria:

    - Does the customer have a price/discount agreement, or does the customer belong to a group that does?
    - Is the item or the item discount group on the line included in any of these price/discount agreements?
    - Is the order date (or the posting date for the invoice and credit memo) within the starting and ending date of the price/discount agreement?
    - Is a unit of measure code specified? If so, [!INCLUDE[prod_short](includes/prod_short.md)] checks for prices/discounts with the same unit of measure code, and prices/discounts with no unit of measure code.

2. [!INCLUDE[prod_short](includes/prod_short.md)] checks if any price/discount agreements apply to information on the document or journal line, and then inserts the applicable unit price and line discount percentage, using the following criteria:

    - Is there a minimum quantity requirement in the price/discount agreement that is fulfilled?
    - Is there a currency requirement in the price/discount agreement that is fulfilled? If so, the lowest price and the highest line discount for that currency are inserted, even if LCY would provide a better price. If there is no price/discount agreement for the specified currency code, [!INCLUDE[prod_short](includes/prod_short.md)] inserts the lowest price and the highest line discount in LCY.

If no special price can be calculated for the item on the line, then either the last direct cost or the unit price from the item card is inserted.

## See also

[Setting Up Purchasing](purchasing-setup-purchasing.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-budget-comparison
---
title: Budget Comparison
description: The Budget Comparison report provides a comparative analysis of G/L amounts to G/L budget amounts by month. 
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 36987_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Budget Comparison (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Budget Comparison** report provides a comparative view of your company's financial performance with budgeted targets. The report lays out data by month to offer a month-to-month analysis, and it categorizes accounts by income statement or balance sheet.

:::image type="content" source="media/finance/budget-comparison-report.png" alt-text="Screenshot of the Budget Comparison report" lightbox="media/finance/budget-comparison-report.png":::

## Use the report

The audiences for the report are:

- Executives
- Finance Managers

Executive or finance managers use the report to monitor your company's financial performance. By filtering by different G/L budgets, shortcut dimensions, and fiscal periods, you can assess performance against various benchmarks. Analyzing the net change and variance metrics helps you identify accounts that need attention, ultimately leading to improved planning and more strategic decision-making.

## Key Performance Indicators (KPIs)

The *Budget Comparison* report includes the following KPIs and measures: 

- [**Net Change**](finance-powerbi-kpis.md#net-change)
- [**Budget Amount**](finance-powerbi-kpis.md#budget-amount)
- [**Variance to Budget**](finance-powerbi-kpis.md#variance-to-budget)
- [**Variance to Budget %**](finance-powerbi-kpis.md#variance-to-budget-)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- G/L Account
- G/L Entry
- G/L Budget Entry

## Try the report

Try the report here: [Budget Comparison](https://businesscentral.dynamics.com?page=36987)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-setup-show-stockout-warning
---
title: Display a stockout warning
description: Learn how to control whether a warning displays when an order quantity exceeds inventory levels for an item.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: trade, sell, configure
ms.search.form:
ms.date: 02/02/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Display a stockout warning

When someone enters a quantity for an item on a sales document that exceeds the item's current inventory level at the location, you might want to let them know by displaying a notification. The notification is just to inform them of the potential problem, and doesn't prevent them from creating the order.

## To show a warning about low inventory on a sales document

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.
1. Depending on whether you want to show the warning, turn on or turn off the **Stockout Warning" toggle.

## Video guidance

The following video shows a scenario where someone is creating a sales order, and the quantity exceeds the available inventory level for the item at its location.

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=ff723ca6-22b8-4a0e-aef5-b19bab3bfd84]

## See also

[Setting Up Sales](sales-setup-sales.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-users-permissions
---
title: Create users according to licenses
description: Describes how to add users to Business Central online or on-premises based on licenses.
author: jswymer
ms.topic: conceptual
ms.search.keywords: access, right, security
ms.search.form: 119, 774_Primary, 6300, 6301, 6302, 8930, 9061, 9062, 9069, 9173, 9800_Primary, 9807_Primary, 9808, 9830, 9831, 9838, 9816, 9818, 9874
ms.date: 05/03/2024
ms.author: jswymer
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Create users according to licenses

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

This article describes how administrators create users and define who can sign in to [!INCLUDE[prod_short](includes/prod_short.md)]. This article also describes how to assign permissions to different users according to your product licenses.

When you create users in [!INCLUDE[prod_short](includes/prod_short.md)], you grant permissions to them through permission sets. You can also organize users in user groups. User groups make it easier to manage permissions and other settings for multiple users at the same time. For more information, see [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).  

For more information about the different types of licenses and how licensing works in [!INCLUDE[prod_short](includes/prod_short.md)], [download the Dynamics 365 Licensing Guide](https://go.microsoft.com/fwlink/?LinkId=866544).

> [!NOTE]
> The process of managing users and licenses varies depending on whether [!INCLUDE[prod_short](includes/prod_short.md)] is deployed online or on-premises. For [!INCLUDE [prod_short](includes/prod_short.md)] online, you must add users from Microsoft 365. In on-premises deployments, you can create, edit, and delete users directly.  

## Manage users and licenses in online tenants

User accounts in [!INCLUDE[prod_short](includes/prod_short.md)] must be first created in the Microsoft 365 admin center. These user accounts aren't exclusive to [!INCLUDE [prod_short](includes/prod_short.md)]. If you subscribe to other plans, they can be used to sign in to other applications, such as Power BI. For information about creating users in the Microsoft 365 admin center, go to [Add users in Microsoft admin center](/microsoft-365/admin/add-users/add-users).

Your subscription to [!INCLUDE[prod_short](includes/prod_short.md)] online defines how many [!INCLUDE[prod_short](includes/prod_short.md)] user licenses you're allowed. Users are added to your tenant in the Microsoft Partner Center, typically by your Microsoft partner. For more information, see [Administration of Business Central Online](/dynamics365/business-central/dev-itpro/administration/tenant-administration).

You assign licenses to users according to the work each user does in [!INCLUDE[prod_short](includes/prod_short.md)]. You can assign licenses in several ways:

- Your company's Microsoft 365 administrator can do it in the [Microsoft 365 Admin Center](https://admin.microsoft.com). For more information, see [Add users individually or in bulk to Microsoft 365](/microsoft-365/admin/add-users/add-users).  
- A Microsoft partner can assign licenses in the Microsoft 365 Admin Center or in the Microsoft Partner Center. For more information, see [User management tasks for customer accounts](/partner-center/assign-licenses-to-users) in the Microsoft Partner Center Help.

For more information, see [Administration of Business Central Online](/dynamics365/business-central/dev-itpro/administration/tenant-administration) in the administration Help.

After user accounts are created in the Microsoft 365 admin center, there are two ways to import them to [!INCLUDE [prod_short](includes/prod_short.md)]:

- A user account is imported automatically when the user signs in to [!INCLUDE [prod_short](includes/prod_short.md)] the first time.

   > [!NOTE]
   > After a user signs in to [!INCLUDE [prod_short](includes/prod_short.md)] online, you can't delete the user.

- The administrator can import users by choosing the **Update Users from Microsoft 365** action on the **Users* page.

Both approaches have their own advantages, and you can use them simultaneously. Each approach allows administrators to proactively configure [!INCLUDE [prod_short](includes/prod_short.md)] to assign the starting permissions, user groups, and user profiles. Using the **Update Users from Microsoft 365** action gives administrators more control to adjust permissions, user groups, and profiles. It's an ideal approach when you're setting up [!INCLUDE [prod_short](includes/prod_short.md)] the first time, before any users sign in, or when adding a new team of users.

> [!NOTE]
> After you add users in the Microsoft 365 Admin Center, we recommend that you update the user information in [!INCLUDE[prod_short](includes/prod_short.md)] as soon as possible. Keeping user information current is easy to do, and helps ensure that people can always sign in. For more information, see [To add users or update user information and license assignments in Business Central](#adduser).<br>
>
> Updating user information is especially important if you've customized permission sets for the license. If a new user tries to sign in to [!INCLUDE[prod_short](includes/prod_short.md)] before you've added them, they might not be able to. For more information, see [Configure permissions based on licenses](#licensespermissions).
>
> However, users who experience this problem aren't actually blocked. They can either use the **Go back home** action, or simply sign in again to resolve the issue.

[!INCLUDE [admin-gdap-users](includes/admin-gdap-users.md)]

For more information, see [Delegated administrator access to Business Central Online](/dynamics365/business-central/dev-itpro/administration/delegated-admin).  

### <a name="licensespermissions"></a>Configure permissions based on licenses

[!INCLUDE [2022_releasewave1](includes/2022_releasewave1.md)]

Admins can configure permissions sets and user groups for each license.<!--Note to translators: The names in *italics* or capitalized in this section must not be translated.-->  

For example, the commonly used license, *Dynamics 365 Business Central Team Member*, has the following permissions sets by default:

- D365 READ
- D365 TEAM MEMBER
- EDIT IN EXCEL - VIEW
- EXPORT REPORT EXCEL
- LOCAL

Other permission sets are added automatically based on the user groups assigned to the license. When you create a new user based on this license, [!INCLUDE[prod_short](includes/prod_short.md)] assigns the permission sets originating from the user groups and the permission sets from the license. The same starting permissions are assigned to the user if their user account was created automatically in [!INCLUDE[prod_short](includes/prod_short.md)] or if the administrator used the **Update Users from Microsoft 365** action in the **Users** page.

If this default configuration isn't the right setup for a particular environment, the admin can change that configuration. However, customized permissions affect only new users who are assigned that license. Permissions for existing users who are assigned the license aren't affected.  

1. Sign in to [!INCLUDE[prod_short](includes/prod_short.md)] using an administrator account.  
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **License Configuration**, and then choose the related link.  

    <!--Alternatively, if you're already in the **Users** page, you can run the **Update Users from Microsoft 365** guide, and then, on the first page of the guide, choose the **Configure permissions per license** link.-->  
3. In the **License Configuration** page, choose the license that you want to customize, and then choose the **Configure** action.  
4. Choose the **Customize permissions** field to switch on customization, and then make the changes.  

    In our example, the admin wants to remove the permission to edit in Excel, so they remove the *Excel Export Action* user group from the Team Member license. Afterward, new users who are assigned the Team Member license can't export data to Excel. If the organization changes their minds on the subject, they can just go back to the **License Configuration** page and switch off the customization for that license type.  

> [!IMPORTANT]
> This customization of permissions only takes effect for new users that you assign the relevant license. Existing users are not updated. We recommend that you customize permissions before you start assigning users licenses in the Microsoft 365 admin center.

### <a name="adduser"></a>To add users or update user information and license assignments in Business Central

After you add users or change user information in the Microsoft 365 Admin Center, you can quickly import the user information to [!INCLUDE[prod_short](includes/prod_short.md)]. The import includes license assignments.  

> [!TIP]
> If you need to update user information and you have a lot of users, you can use the filter pane to narrow down the list. You can filter on basic information such as the user name, or set more technical filters, such as the user's security ID.

1. Sign in to [!INCLUDE[prod_short](includes/prod_short.md)] using an administrator account.
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.  
3. Choose **Update Users from Microsoft 365**.

> [!IMPORTANT]  
> Running the synchronization of users from Microsoft 365 using the **Update Users from Microsoft 365** guide, requires the SUPER permission set.

> [!NOTE]
> The **Update Users from Microsoft 365** guide doesn't update users that are not assigned a license, such as someone who is a [Dynamics 365 administrator](/entra/identity/role-based-access-control/permissions-reference#dynamics-365-administrator). Those users will update the next time they sign in to the environment.

The next step for newly created users is to assign user groups and permissions. Go to [Assign Permissions to Users and Groups](ui-define-granular-permissions.md) for information. If you update a user with a license change, [!INCLUDE [prod_short](includes/prod_short.md)] assigns users to the appropriate user group and updates their permission sets. For more information, see [To manage permissions through user groups](ui-define-granular-permissions.md).  

> [!NOTE]
> With 2024 release wave 1, a Premium license user can sign in to a company where the **User Experience** field is set to **Essentials** on the **Company Information** page. However, the Premium user can't use any of the features that the Premium license provides. This doesn't work in the opposite direction. Users who have an Essentials license can't sign in to a company where the **User Experience** is set to **Premium** on the **Company Information** page. For more information about licensing, go to [Business Central](https://dynamics.microsoft.com/business-central/overview/) website.

If you use an external accountant to manage your books and financial reporting, you can invite them to your [!INCLUDE[prod_short](includes/prod_short.md)] so they can work with you on your fiscal data. For more information, see [Inviting Your External Accountant to Your Business Central](finance-accounting.md#inviteaccountant).

For more information about synchronizing user information with Microsoft 365, go to the [Synchronization with Microsoft 365](#m365) section.

> [!NOTE]
> If you use an external accountant to manage your books and financial reporting, you can invite them to your [!INCLUDE[prod_short](includes/prod_short.md)] so they can work with you on your fiscal data. For more information, see [Inviting Your External Accountant to Your Business Central](finance-accounting.md#inviteaccountant).

### To remove a user's access to the system

You can remove a user's access to [!INCLUDE[prod_short](includes/prod_short.md)] online. All references to the user are kept. However, the user can't sign in and active sessions for the user are stopped.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
2. Open the **User Card** page for the relevant user, and then, in the **Status** field, select **Disabled**.
3. To give the user access again, set the **Status** field to **Enabled**.

You can also remove the license from a user in the Microsoft 365 Admin Center. The user is then unable to sign in. For more information, see [Remove licenses from users](/microsoft-365/admin/manage/remove-licenses-from-users).

### <a name="m365"></a>Synchronization with Microsoft 365

When you assign a license for [!INCLUDE[prod_short](includes/prod_short.md)] to a user in Microsoft 365, there are two ways to create the user in [!INCLUDE[prod_short](includes/prod_short.md)].  

- The administrator can add the user by choosing the **Update Users from Microsoft 365** action on the **Users** page as described in the [To add a user or update user information in Business Central](#adduser) section.
- The license information updates automatically when the user signs in for the first time.

In both cases, several settings are applied automatically. These settings are listed in the second and third columns in the following table.

If you change user information in Microsoft 365, you can update [!INCLUDE[prod_short](includes/prod_short.md)] to reflect the change. Depending on what you want to update, use one of the actions on the **Users** page. The actions are described in the last two columns in the following table.

|What happens when:|First user, first sign-in|Update Users from Microsoft 365|Restore User Default User Groups|
|-|-|-|-|
|Scope:|Current user|Multiple selected users|Single selected user (except current)|
|Create the new user and assign SUPER permission set.<br /><br /><!--Platform-->|**X**|**X** | | 
|Update the user based on information in Microsoft 365: Status, Full Name, Contact Email, Authentication Email.<!--<br /><br />Codeunit "Azure AD   Graph User".UpdateUserFromAzureGraph-->|**X**|**X**|**X**|
|Synchronize user plans (licenses) with licenses and roles assigned in Microsoft 365.<!--<br /><br />Codeunit "Azure AD   Graph User".UpdateUserPlans-->|**X**|**X**|**X**|
|Add the user to user groups according to the current user plans. Remove the SUPER permission set for all users other than the first user to sign in and [administrators](/dynamics365/business-central/dev-itpro/administration/tenant-administration). At least one SUPER is required.<!--<br /><br />Codeunit "Permission Manager". AddUserToDefaultUserGroups-->|**X**|**X**|**X**<br /><br />Removes manually assigned user groups and permissions.|

Users can access [!INCLUDE[prod_short](includes/prod_short.md)] records in Teams using only their Microsoft 365 license. When access is enabled for an environment, synchronizing using the **Update users from Microsoft 365** action skips users that only have a Microsoft 365 license. To include these users in synchronization, you must first update environment settings by assigning a security group that contains users with a [!INCLUDE[prod_short](includes/prod_short.md)] license and users with only a Microsoft 365 license.

Learn about securing access to environments using security groups at [Manage access using Microsoft Entra groups](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-access#manage-access-using-azure-active-directory-groups).

Get an overview of accessing [!INCLUDE[prod_short](includes/prod_short.md)] in Teams with Microsoft 365 licenses at [admin-access-with-m365-license](admin-access-with-m365-license.md).

## Manage users and licenses in on-premises deployments

For on-premises deployments, the number of user licenses is specified in the license file (.bclicense or .flf). When an administrator or Microsoft partner uploads the license file, they can specify which users can sign in to [!INCLUDE[prod_short](includes/prod_short.md)].

For on-premises deployments, the administrator creates, edits, and deletes users directly from the **Users** page.

### To edit or delete a user in an on-premises deployment

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
2. Select the user that you want to edit, and then choose the **Edit** action.
3. On the **User Card** page, change the information as necessary.  
4. To delete a user, select the user that you want to delete, and then choose the **Delete** action.

> [!NOTE]
> For on-premises deployments an administrator can specify how to authenticate user credentials in the [!INCLUDE[server](includes/server.md)] instance. When you create a user, you provide the credential type that you are using.
>
> For more information, see the [Authentication and Credential Types](/dynamics365/business-central/dev-itpro/administration/users-credential-types) in the administration Help for [!INCLUDE[prod_short](includes/prod_short.md)].

## Analyze user status by license type

You can use the **Data Analysis** feature to analyze data on the [Users](https://businesscentral.dynamics.com/?page=9800&layout=analysis) page. You don't have to run a report or open another application, such as Excel. The feature provides an interactive and versatile way to calculate, summarize, and examine data. Instead of running reports using options and filters, you can add multiple tabs that represent different tasks or views on the data. Some examples are "Users by status" or "Users by license type," or any other view you can imagine. To learn more about how to use the **Data Analysis** feature, go to [Analyze list and query data with analysis mode](analysis-mode.md).

### User analysis scenarios

The following sections provide examples of scenarios where analyzing the user list can help you monitor the status of your users.

| Area | To... | Open this page in analysis mode | Using these fields |
| ---- | ----- | ------------------------------- |------------------- |
| [Users by status](#example-users-by-status) | See a list of users based on their status (enabled/disabled). | [Users](https://businesscentral.dynamics.com/?page=9800&layout=analysis) | **Status**, **User Name**, **Full Name**, **Authorization email**, and **License Type**. |
| [Users by license type](#example-users-by-license-type) | See a list of users based on their license type. | [Users](https://businesscentral.dynamics.com/?page=9800&layout=analysis) | **License Type**, **Status**,  **User Name**, **Full Name**, and **Authorization email**. |

### Example: Users by status

To analyze users by status, follow these steps:

1. Open the [Users](https://businesscentral.dynamics.com/?page=9800&layout=analysis) list, and choose the :::image type="content" source="media/analysis-mode-icon.png" alt-text="Enter analysis mode."::: icon to turn on analysis mode.
1. On the **Columns** menu, remove all columns (select the box next to the **Search** field on the right).
1. Drag the **Status** (user enabled/disabled) and **License Type** fields to the **Row Groups** area.
1. Choose the fields **User Name**, **Full Name**, and **Authorization email**.
1. Rename your analysis tab to **Users by status**, or something that describes this analysis.

The following image shows the result of these steps.

:::image type="content" source=" media/data-analysis-users.png" alt-text="Example of how to do data analysis on the Change Log Entries page (Who changed What data When)." lightbox="media/data-analysis-users.png":::

### Example: Users by license type

To analyze users by license type, follow these steps:

1. Open the [Users](https://businesscentral.dynamics.com/?page=9800&layout=analysis) list, and choose the :::image type="content" source="media/analysis-mode-icon.png" alt-text="Enter analysis mode."::: icon to turn on analysis mode.
1. On the **Columns** menu, remove all columns (select the box next to the **Search** field on the right).
1. Drag the **License Type** and **Status** (user enabled/disabled) fields to the **Row Groups** area.
1. Choose the **User Name**, **Full Name**, and **Authorization email** fields.
1. Rename your analysis tab to **Users by license type**, or something that describes this analysis.

## See also

[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Manage Profiles](admin-users-profiles-roles.md)  
[Change Which Features are Displayed](ui-experiences.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)]](ui-customizing-overview.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Administration](admin-setup-and-administration.md)  
[Licensing in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/deployment/licensing)  
[Add Users to Microsoft 365 for business](/microsoft-365/admin/add-users/add-users)  
[Security and Protection in Business Central (administration content)](/dynamics365/business-central/dev-itpro/security/security-and-protection)  
[Assign a telemetry ID to users](/dynamics365/business-central/dev-itpro/administration/telemetry-enable-application-insights#assign-a-telemetry-id-to-users)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-accounting
---
title: Accountant experiences in Business Central
description: Learn about the Accountant Role Center and the Company Hub that support internal and external accountants in the client company.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 100, 1156, 1157, 1314, 1315, 1316, 9027
ms.date: 01/03/2025
ms.author: bholtorf
ms.reviewer: bholtorf
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Accountant experiences in Business Central

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Any business must do its books and sign off on the accounting. Some businesses employ an external accountant, and others have an accountant on staff. No matter what type of accountant you are, you can use the **Accountant** Role Center as your Home in [!INCLUDE[prod_short](includes/prod_short.md)]. From here, you can access all pages that you need in your work.  

## Accountant Role Center

The Role Center is a dashboard with activity tiles that show you real-time key figures and give you quick access to data. The ribbon at the top of the page gives you access to more actions. For example, to open financial reports and statements in Excel. In the navigation bar at the top, you can quickly switch between the lists you use most often. Here, there are other areas, such as **Posted Documents** with the various types of documents that the company posted.  

If you're new to [!INCLUDE[prod_short](includes/prod_short.md)], select **Product Videos** to watch videos or **Get Started** for a tour of key areas in the Role Center.

## Company Hub

If you work in multiple [!INCLUDE [prod_short](includes/prod_short.md)] companies, use the **Company Hub** page to keep track of work. For more information, see [Manage Work across Multiple Companies in the Company Hub](company-hub.md).  

## <a name="inviteaccountant"></a>Inviting a third-party accountant to your [!INCLUDE[prod_short](includes/prod_short.md)]

If a third-party accountant manages your books and financial reporting, your administrator can invite them to your [!INCLUDE[prod_short](includes/prod_short.md)] so they can work with you on your fiscal data. Both the Premium and Essentials [!INCLUDE[prod_short](includes/prod_short.md)] licenses let you procure up to three **External Accountant** licenses per customer tenant. The licenses are free, but you do need to procure them like you would other licenses. To learn more about licensing, download the [Microsoft Dynamics 365 Business Central Licensing Guide](https://go.microsoft.com/fwlink/?LinkId=866544).

After your accountant can access your [!INCLUDE[prod_short](includes/prod_short.md)], they can use the **Accountant** Role Center for easy access to the pages for their work. They can also use the company hub in their own [!INCLUDE [prod_short](includes/prod_short.md)] to manage their work. Learn more in [Manage Work across Multiple Companies in the Company Hub](company-hub.md).  

> [!Video https://learn-video.azurefd.net/vod/player?id=7ba6427f-cdf0-480d-8c98-b51f65437146]

It's easy to invite your external accountant. In [!INCLUDE [prod_short](includes/prod_short.md)], open the **Users** page, and then select the **Invite external accountant** action. [!INCLUDE [prod_short](includes/prod_short.md)] prepares an email for you. Just add your accountant's work email, and send the invitation.  

> [!Note]  
> This action requires that you set up email in your [!INCLUDE [prod_short](includes/prod_short.md)] to use SMTP. Learn more in [Set Up Email](admin-how-setup-email.md).  

> [!IMPORTANT]  
> The accountant's email address must be a work address based on Microsoft Entra ID. If the accountant uses another type of email, the invitation can't be sent.
>
> This task requires access to managing users and licenses in Microsoft Entra ID. The user who sends this invitation must be assigned at least the [User Administrator](/entra/identity/role-based-access-control/permissions-reference#user-administrator) role in the Microsoft 365 admin center. Learn more in [About admin roles](/microsoft-365/admin/add-users/about-admin-roles) in the Microsoft 365 admin content.  

### Add your accountant to your Microsoft 365 tenant

If your admin or reselling partner prefers not to use the **Invite External Accountant** guide, you can add an external user to the Microsoft Entra tenant used by Business Central and assign them the *External Accountant* license. You can add a user using the Microsoft 365 admin center, Microsoft Entra admin center, or Azure portal. The following procedure uses the Microsoft admin center. Learn about using the Microsoft Entra admin center at [Quickstart: Add a guest user and send an invitation](/azure/active-directory/b2b/b2b-quickstart-add-guest-users-portal).

#### Add your accountant as a guest user

1. Sign in to [Microsoft 365 admin center](https://admin.microsoft.com) as at least a [User Administrator](/entra/identity/role-based-access-control/permissions-reference#user-administrator).
1. In the navigation pane, select **Users**.
1. On the **Users** page, select **New user**, and then **Invite external user**.
1. On the **Invite external user** page, add the accountant's email address and other information about them.  

   Optionally, include a personal welcome message to let the accountant know that you're adding them to your [!INCLUDE[prod_short](includes/prod_short.md)].

1. When you're finished, select **Review + Invite**.
1. Review the information, and then choose **Invite**.

After you send the invitation, the external user receives an email invitation to join your organization. After they accept the invitation, the user account is added as a guest.

Next, assign the guest user a license to [!INCLUDE[prod_short](includes/prod_short.md)].

#### Give your accountant access to your [!INCLUDE[prod_short](includes/prod_short.md)]

1. In the [Microsoft admin center](https://admin.microsoft.com), **Users** > **Guest users**.
1. Select the accountant's guest user account in the list, then select **Manage product licenses** to open the guest user profile pane.
1. Under **Licenses and apps**, select **Dynamics 365 Business Central External Accountant** license.  

   If this license isn't available, contact your reselling partner to add the license to your subscription.

   Specifically for evaluation purposes in a trial tenant, you can use an available **Dynamics 365 Business Central for IWs** license instead. However, you can't use this type of license if you already purchased [!INCLUDE[prod_short](includes/prod_short.md)].
1. Select **Save changes**.

If successful, the license is assigned to the guest user, and the guest account is created.

### Import the new user into [!INCLUDE[prod_short](includes/prod_short.md)]

The accountant receives an email notifying them that they have access to your Microsoft Entra ID. Next, give them access to the correct company in [!INCLUDE[prod_short](includes/prod_short.md)].

#### Add the accountant to the correct company

1. Sign in to [Business Central](https://businesscentral.dynamics.com).
1. Open company that you want to give the accountant access to. Learn more in [Switching to Another Company or Environment](ui-organization-switch.md).
1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then select the related link.  
1. Select the **Get New Users from Microsoft 365** action.

This action imports the user account that you created in the Azure portal to the company. Learn more in [To add a user in Business Central](ui-how-users-permissions.md#adduser).  

If you want to give access to multiple companies, then you must sign in to each company and repeat this process. Alternatively, you can update the permission groups for the accountant's user profile in [!INCLUDE[prod_short](includes/prod_short.md)], such as assigning them the *D365 Bus Premium* user group. Learn more in [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).  

### Inform your external accountant how to sign in to Business Central

Unlike internal users who access Business Central using the common URL `https://businesscentral.dynamics.com`, guest users must use the fully qualified domain name. The fully qualified domain name has the format `https://businesscentral.dynamics.com/<tenant ID or domain name>`, such as `https://businesscentral.dynamics.com/aaaabbbb-0000-cccc-1111-dddd2222eeee` or `https://businesscentral.dynamics.com/contoso.com`.

Guest users can sign in using two methods. They can open their browser, enter the fully qualified domain name in the address bar, and sign in using their username and password. Alternatively, they can:

1. Enter `https://businesscentral.dynamics.com` in the browser address bar.
1. Select **Sign in options**.
1. Select **Sign in to an organization**.
1. Enter the domain name of your organization, for example `contoso.com`, and then select **Next**.
1. Sign in using their username and password.

Learn more in [B2B collaboration invitation redemption](/entra/external-id/redemption-experience).

## Related information

[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[The General Ledger and the Chart of Accounts](finance-general-ledger.md)  
[Closing Years and Periods](year-close-years-periods.md)  
[Work with Dimensions](finance-dimensions.md)  
[Analyzing Financial Statements in Excel](finance-analyze-excel.md)  
[Manage Work across Multiple Companies in the Company Hub](company-hub.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Setting Up Cash Flow Analysis](finance-setup-cash-flow-analyses.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/teams-access-with-m365-license
---
title: Access Data in Teams without Business Central License
description: Learn how users can get access to Business Central data in Microsoft Teams chats and channels, with only a Microsoft 365 license, but no Business Central license.
author: jswymer
ms.author: jswymer 
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.topic: overview
ms.date: 02/07/2023
ms.custom: bap-template
ms.search.keywords: License, access, Microsoft 365, collaborate, collaboration, Teams, Microsoft Teams
---

# Access Data in Teams without Business Central License

[!INCLUDE[prod_short](includes/prod_short.md)] users are assigned a Dynamics 365 Business Central license that allows them to view, modify, and act on their business data within Teams. These users can collaborate on data by sharing records into chats or channels, or adding tabs that show records. However, there may be other employees across the organization who don't have a Business Central license but could benefit by being able to view data in Teams. For these users, [!INCLUDE[prod_short](includes/prod_short.md)] offers limited access through their Microsoft 365 licenses only.  

As an administrator, you can configure environments to enable access with Microsoft 365 licenses. You can then choose exactly which tables and other objects this category of user will have access to. Once configured, employees who have a Microsoft 365 license, but no Business Central license, can view Business Central records that are shared with them in Microsoft Teams chat and channels.

To learn more about access with Microsoft 365 Licenses, go to [Business Central Access with Microsoft 365 Licenses](admin-access-with-m365-license.md) and [Access with Microsoft 365 Licenses FAQ](admin-access-with-m365-license-faq.md).

## Next steps

[Set Up Business Central Access in Teams with Microsoft 365 Licenses](admin-access-with-m365-license-setup.md)  

## See also

[Troubleshoot Access with Microsoft 365 Licenses](admin-access-with-m365-license-troubleshooting.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-responding-to-requests-about-personal-data
---
title: Responding to requests about users' personal data
description: This article explains how to respond to requests about personal data.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.date: 11/14/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Responding to requests about users' personal data

Data subjects can request several types of actions regarding their personal data. For example, under some privacy laws and regulations, they have the right to request the export, deletion, and modification of their personal data. These requests are called *Data Subject Requests*. If you have classified the sensitivity of your data, and are sure they are correct, an administrator can respond to requests by using the options in the **Data Privacy** tab in the **Administration of users, security groups and permissions** Role Center.

## Types of requests

The following table provides examples of the types of requests administrators can respond to.

> [!Note]
> While we provide capabilities for responding to these types of request, and thereby accessing, personal data, it's your responsibility to ensure that personal and sensitive data are located and classified appropriately.

|Request Type|Description and Suggested Response|
|-----|-----|
|Portability requests|A data subject can make a data portability request. You must export the data subject's personal data from your systems and provide it in a structured, commonly used format. To respond to these requests, you can use the **Data Privacy Utility** to export personal data to an Excel file or a RapidStart configuration package. Using Excel, you can edit the personal data and save it in a commonly used, machine-readable format, such as .csv or .xml. For RapidStart configuration packages, you can configure master data tables and their related tables that contain personal data. <br><br> **Note:** When you export data, you specify a minimum sensitivity level. The export includes the minimum and all sensitivity levels above it. For example, if you export data that is classified as Personal, the export also includes data classified as Sensitive. <br><br>When exporting data related to a data subject, the **Data Privacy Utility** looks for direct relationships between the data subject and data related to the data subject. Indirect relationships between data related to the data subject and other data are not exported automatically by the **Data Privacy Utility**. For example, the Contact table has directly related Contact Profile Answers data, and the Contact Profile Answers table is further related to Profile Questions data. If you want to export Profile Questions as well, you must add this table manually as a row with the appropriate filters in the configuration package that the **Data Privacy Utility** creates.<br><br>The **Data Privacy Utility** only considers tables of the type **Normal**. Data in other types of tables, such as CDS, CRM, ExternalSQL, and others resides in external systems, and portability requests should be handled in those systems.|
|Requests for deletion|A data subject can request that you delete their personal data. There are several ways to delete personal data using the customization capabilities, but the decision and implementation is your responsibility. In some cases, you might choose to directly edit your data. For example, delete a contact and then run the Delete Canceled Interaction batch job to delete interactions for the contact. <br><br> **Note:** If you've specified a date in the **Allow Document Deletion Before** field on the **Sales & Receivables Setup** or **Purchases & Payables Setup** pages, you might need to change the date so that you can delete posted sales and purchase documents that have posting dates on or before that date.|
|Requests for correction|A data subject can request that you correct inaccurate personal data. There are several ways to do so. In some cases, you can export lists to Excel to quickly bulk-edit multiple records, and then import the updated data. For more information, see [Exporting your Business Data to Excel](about-export-data.md). You can also manually edit fields that contain personal data, such as editing information about a customer in the Customer card. However, records such as general, customer, and tax ledger entries are important. If you store personal data in business transaction records, consider using the customization capabilities to modify such personal data.|

## Restrict data processing for a data subject

A data subject can request that you temporarily stop processing their personal data. To honor such requests, you can mark their record as blocked due to privacy to stop processing their data. When a record is marked as blocked, you cannot create new transactions that use that record. For example, you cannot create a new invoice for a customer when either the customer or the salesperson is blocked. To mark a data subject as blocked, open the card for the data subject, for example the Customer, Vendor, or Contact cards, and choose the **Privacy Blocked** check box. You may need to choose **Show More** to display the field.  

## Handling data subject requests when using a trial version

Certain types of personal data are part of a Microsoft 365 account, and only administrators can export the data. The process for handling data subject requests is different depending on the type of [!INCLUDE[prod_short](includes/prod_short.md)] tenant.

If you have a paid subscription for [!INCLUDE[prod_short](includes/prod_short.md)], users must contact their organization's tenant administrator to make a data subject request. Administrators have the administrative rights and tools to fulfill data subject requests.

If you signed up for [!INCLUDE[prod_short](includes/prod_short.md)] from the [Trials](https://trials.dynamics.com/) page, and you're still using the trial version, users can download and export their own data in the [Work and School Privacy page in the Azure portal](https://portal.azure.com#blade/Microsoft_AAD_IAM/GDPRViralBlade).

On the Work and School Privacy page, you can also close your account. However, we recommend that you export and delete all data first. Deleting your account means that you lose access to [!INCLUDE[prod_short](includes/prod_short.md)].

You can still mark people as blocked due to privacy and export, edit, or delete transactions as explained elsewhere in this article.  

## Exporting data from tables not classified by data subject

If you must export data that isn't classified in a way so that it's automatically exported, such as data from the Profile Answers table, you must take the following actions:

* Consider whether you really must export supplemental data that isn't directly related to the contact.
* Add the table and relationship manually to the Rapid Start package and export it directly from the Rapid Start package. We generate a Rapid Start package for you, so that you can tweak it in such situations.

## Handling data about minors

If a contact person's age is below the age of legal consent according to the laws in your region, you can indicate that by choosing the **Minor** check box on the **Contact** card. When you do, the **Privacy Blocked** check box is automatically selected. When you receive consent from the minor's parent or legal guardian, you can choose the **Parental Consent Received** check box to unblock the contact. Though you can process personal data for minors, you cannot use the profiling functionality in Dynamics 365 Sales.

> [!Note]
> The Change Log can record details such as when, and by whom, the **Parental Consent Received** check box was chosen. An administrator can set that up by using the **Change Log Setup** guide, and also choosing the **Log Modification for Parental Consent Received** check box on the **Contact** card. For more information, see [Logging Changes](across-log-changes.md).  

### See also

<!-- [Classifying Data](/dynamics-nav/classifying-data?toc=/dynamics365/business-central/toc.json)  
[Classifying Data Sensitivity](admin-classifying-data-sensitivity.md)  -->
[Exporting your Business Data to Excel](about-export-data.md)  
[Logging Changes](across-log-changes.md)  
[Data Subject Requests](/microsoft-365/compliance/gdpr-data-subject-requests)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/resources-for-users
---
title: Resources for users
description: Resources for users are a set of resources, services, and tools for using Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.date: 05/29/2024
ms.topic: conceptual
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Resources for users

Are you using [!INCLUDE [prod_short](includes/prod_short.md)] and looking for relevant resources? Find everything you need in this article, and remember to bookmark [aka.ms/BCUsers](https://aka.ms/BCUsers).

## Hot topics right now

Register for the [!INCLUDE [prod_short](includes/prod_short.md)] Launch Event on [aka.ms/BCLE](https://aka.ms/BCLE).

## Latest release and updates  

- [!INCLUDE [prod_short](includes/prod_short.md)] release plan: [aka.ms/BCReleasePlan](https://aka.ms/BCReleasePlan) 
- Major updates: [aka.ms/BCUpdates](https://aka.ms/BCUpdates)
- Minor updates: [aka.ms/BCLastMinorUpdate](https://aka.ms/BCLastMinorUpdate) 
- Missing a feature? Post or vote for ideas on: [aka.ms/BCIdeas](https://aka.ms/BCIdeas) 
- Where is [!INCLUDE [prod_short](includes/prod_short.md)] available? [aka.ms/BCCountries](https://aka.ms/BCCountries)
- Read the capability guide for [!INCLUDE [prod_short](includes/prod_short.md)]: [aka.ms/BCcapabilities](https://aka.ms/BCcapabilities)
- Still on-premises? Learn more at [Software Lifecycle Policy and Dynamics 365 Business Central on-premises Updates](/dynamics365/business-central/dev-itpro/terms/lifecycle-policy-on-premises)
- Alert Microsoft about an upcoming regulatory feature: [aka.ms/BCAlerts](https://aka.ms/BCAlerts)
- Optional features that are now mandatory: [aka.ms/BCFeatureMgmt](https://aka.ms/BCFeatureMgmt)

## Stay up to date on what's new

- Watch the [!INCLUDE [prod_short](includes/prod_short.md)] Launch Event sessions: [aka.ms/BCLE](https://aka.ms/BCLE).

## Social and blogs

- Stay tuned about what’s going on in the #MSDyn365BC community: [twitter.com/MSDYN365BC](https://twitter.com/MSDYN365BC) (Use #BCALHelp on X, formerly known as Twitter, for quick hints on how to do things) 
- Follow us on LinkedIn: [aka.ms/BCLinkedIn](https://aka.ms/BCLinkedIn)
- Be a part of the community for [!INCLUDE [prod_short](includes/prod_short.md)]: [community.dynamics.com/forums/thread/?partialUrl=business](https://community.dynamics.com/forums/thread/?partialUrl=business) 
- Visit our blog for IT professionals and decision makers: [cloudblogs.microsoft.com/dynamics365/it/product/business-central](https://www.microsoft.com/en-us/dynamics-365/blog/business-leader/product/dynamics-365-business-central/)

## Customer onboarding and resources

- Discover all [!INCLUDE [prod_short](includes/prod_short.md)] apps on AppSource: [aka.ms/BCAppSource](https://appsource.microsoft.com/marketplace/apps?page=1&product=dynamics-365-business-central)
- Get [!INCLUDE [prod_short](includes/prod_short.md)] on your mobile devices: [aka.ms/BusinessCentralApp](https://aka.ms/BusinessCentralApp)
- Get the [!INCLUDE [prod_short](includes/prod_short.md)] installable app on your desktop: [aka.ms/BCPWA](https://aka.ms/BCPWA)
- Learn about onboarding experiences in [!INCLUDE [prod_short](includes/prod_short.md)]: [aka.ms/BCOnboarding](https://aka.ms/bconboarding)
- Find productivity tips: [aka.ms/BCProductivity](https://aka.ms/BCProductivity) 
- Learn about keyboard shortcuts: [aka.ms/BCKeys](https://aka.ms/BCKeys)

## Reporting and business intelligence

- Get started with reporting: [aka.ms/BCReporting](https://aka.ms/BCReporting)
- Find sample Excel layouts: [aka.ms/BCExcelSamples](https://aka.ms/BCExcelSamples)
- Explore [!INCLUDE [prod_short](includes/prod_short.md)] and Power BI: [aka.ms/BCPBI](https://aka.ms/BCPBI)

## Power Platform

- [!INCLUDE [prod_short](includes/prod_short.md)] and Power BI: [aka.ms/BCPBI](https://aka.ms/BCPBI)
- [!INCLUDE [prod_short](includes/prod_short.md)] and Power Automate: [aka.ms/BCAutomate](https://aka.ms/BCAutomate) 
- [!INCLUDE [prod_short](includes/prod_short.md)] and Power Apps: [aka.ms/BCPApps](https://aka.ms/BCPApps)

## Migrating from on-premises to online

- Discover assets for transitioning Dynamics GP, Dynamics NAV, Dynamics SL, [!INCLUDE [prod_short](includes/prod_short.md)] on-premises customers to [!INCLUDE [prod_short](includes/prod_short.md)] online: [aka.ms/BCMigrations](https://aka.ms/BCMigrations)  
- Use migration tools: [Migrate Data](/dynamics365/business-central/dev-itpro/administration/migrate-data) 

## Telemetry and performance

- App performance documentation: [aka.ms/BCPerformance](https://aka.ms/BCPerformance)
- Telemetry documentation: [aka.ms/BCTelemetry](https://aka.ms/BCTelemetry) 
- Environment telemetry data and Power BI: [aka.ms/BCTelemetryReport](https://aka.ms/BCTelemetryReport) 

## Security, privacy, and compliance

- Security and privacy documentation: [aka.ms/BCSecurity](https://aka.ms/BCSecurity) 
- Security in [!INCLUDE [prod_short](includes/prod_short.md)]: [aka.ms/BCSecurity](https://aka.ms/BCSecurity)
- Databases and backups: [aka.ms/bcbackups](https://aka.ms/BCBackups)
- Compliance overview: [aka.ms/BCCompliance](https://aka.ms/BCCompliance)
- Application compliance: [aka.ms/BCAppCompliance](https://aka.ms/BCAppCompliance)

## Licensing and pricing

- [Business Central licensing guide](https://go.microsoft.com/fwlink/?LinkId=866544&clcid=0x409)

## Shopify integration

- Shopify start: [aka.ms/BCShopifyStart](https://aka.ms/BCShopifyStart)
- Shopify FAQ: [aka.ms/BCShopifyFAQ](https://aka.ms/BCShopifyFAQ)
- Shopify consultant: [aka.ms/BCShopifyConsultant](https://aka.ms/BCShopifyConsultant)

## Events for customers

- [!INCLUDE [prod_short](includes/prod_short.md)] Launch Event: [aka.ms/BCLE](https://aka.ms/BCLE)
- [DynamicsMinds](https://www.dynamicsminds.com/)
- [UG Summit](https://www.summitna.com/)
- [DynamicsCon](https://dynamicscon.com/)

## See also

[Welcome to [!INCLUDE[prod_long](includes/prod_long.md)]](welcome.md)  
[Business Functionality](across-business-functionality.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/suggest-item-substitutions-copilot
---
title: Suggest substitute items with Copilot
description: Assign substitute items faster with assistance from Copilot.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: jswymer
ms.topic: how-to
ms.date: 04/01/2025
ms.custom: bap-template
ms.collection:
  - bap-ai-copilot
ms.search.form: 30, 31, 5716_Primary
---

# Suggest substitute items with Copilot

[!INCLUDE [preview-banner](includes/preview-banner.md)]

This article explains how to find and assign substitute items faster by letting Copilot suggest the items to add.

[!INCLUDE [production-ready-preview-dynamics365](includes/production-ready-preview-dynamics365.md)]

## About item substitution suggestions

To ensure they can fulfill orders quickly, businesses often assign similar items to each other so they can use them as substitutes. For example, substitutes are good to have when the item that was originally requested is out of stock. Finding and assigning the right items to use as substitutes can be time consuming, and that's where Copilot can help. The suggest item substitutions capability for Copilot can speed up the process of finding similar items.

Information about products is stored in multiple places in [!INCLUDE [prod_short](includes/prod_short.md)]. For example, item numbers and descriptions are stored in the Item table, multiple barcodes are stored in the Item Reference table, and item properties are stored in the Item Attributes table. Copilot uses a large language model combined with embedded search to comb through this information and suggest items that might be good substitutes. While you might prompt for *Red bicycle*, the actual product might be *Crimson Tourer**, where *Bicycle* is an item category and *Red* is an attribute.

## Available languages

[!INCLUDE [copilot-geo-and-language-availability](includes/copilot-geo-and-language-availability.md)]

## Prerequisites

- Your administrator must activate the **Create product information** capability on the **Copilot & agent capabilities** page. [Learn more about how to configure Copilot and agent capabilities](enable-ai.md).
- You're familiar with creating and managing product (item) information.

## Suggest item substitutions on item substitution entries

This process describes how to get Copilot to suggest substitute items.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then select the related link.
2. Select the item you want Copilot to find substitutes for.
3. Choose the **Substitutions** action.
4. On the **Item Substitution Entry** page, choose **Suggest with Copilot**.
5. Review the suggestions. To learn more, go to [Review, save, discard, or regenerate suggestions](#review-save-discard-or-regenerate-suggestions).

## Adjust the search

By default, the capability uses the item description as search criteria, which you can adjust if you want to fine-tune the search results. To edit the prompt, select the :::image type="content" source="media/edit-pencil.png" alt-text="Edit the prompt."::: icon in the Copilot window. For example, you can add more details to the prompt such as colors, sizes, or other item attributes.

## Review, save, discard, or regenerate suggestions

After Copilot suggests the items to add, review the suggestions and decide whether they're what you want:

- To discard a single proposed line, select it in the list, and then choose the **Delete Line** action.
- To discard all proposed lines and close the Copilot window, choose **Discard** (trash can).
- To transfer the lines shown in the Copilot window, choose **Insert all**. This step confirms that you want to transfer the lines to the **Item Substitution Entry** page. You can delete or edit the transferred lines there as well. The **Score** field that displays **High (85+)**, **Medium (83-85)**, and **Low (79-83)** scores and points you to lines that need attention.

## Related information

[FAQ for suggest item substitutions with Copilot](faq-suggest-item-substitutions-with-copilot.md)  
[Troubleshoot Copilot and agent capabilities](ai-copilot-troubleshooting.md)  
[Responsible AI FAQ for bank reconciliation assist](faqs-bank-reconciliation.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-set-up-locations-to-use-bins
---
title: How to Set Up Locations to Use Bins
description: Bins represent the basic warehouse structure and are used to make suggestions about the placement of items. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 03/28/2023
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Set Up Locations to Use Bins

Bins represent the basic warehouse structure, and you use them to suggest where to place items. After you create your bins you define their contents, or let them serve as floating bins without specific contents.

To use the bin functionality at a location, turn on the **Bin Mandatory** toggle on the **Location** card. After you turn on the toggle, the **Bin Code** and **Zone Code** fields are available on the following documents:

* Warehouse receipt header
* Warehouse receipt lines
* Warehouse put-away lines
* Warehouse shipment header
* Warehouse shipment lines
* Warehouse put-away lines

The next step is to design the item flow at the location by specifying bin codes in setup fields that represent the different flows.  

> [!NOTE]  
> You must create bin codes before you can specify them for the location. For more information, see [Create Bins](warehouse-how-to-create-individual-bins.md).  

## To set up a location to use bins

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.  
2. Select the location where you want to use bins.  
3. Choose the **Edit** action.  
4. On the **Warehouse** FastTab, select the **Bin Mandatory** checkbox.  
5. If you aren't using directed put-away and pick for the location, in the **Default Bin Selection** field, choose the method you want [!INCLUDE [prod_short](includes/prod_short.md)] to use to assign a default bin to an item.  
6. Open the card for the location that you want to set up bins for.
7. On the **Bins** FastTab, select the bins to use as the default for receipts, shipments, inbound, outbound, and open shop floor bins.  

    The bin codes you specify appear automatically on the headers and lines of various warehouse documents. The default bins define all starting or ending placements of items in the warehouse.  
8. If you're using directed put-away and pick, select a bin for warehouse adjustments. The bin code in the **Adjustment Bin Code** field defines the virtual bin in which to record discrepancies in inventory:

    * When you observe differences registered in the warehouse item journal
    * Differences calculated when you register a warehouse physical inventory  
9. Optional: Fill in the fields on the **Bin Policies** FastTab. The most important fields are **Bin Capacity Policy**, **Allow Breakbulk**, and **Put-away Template Code** fields.  
10. On the **Warehouse** FastTab, fill in the **Outbound Whse. Handling Time**, **Inbound Whse. Handling Time**, and the **Base Calendar Code** fields. To learn more, go to [Set Up Base Calendars](across-how-to-assign-base-calendars.md).

## Fill in the consumption bin

The following flow chart shows how the **Bin Code** field on production order component lines is filled in according to your location setup.

:::image type="content" source="media/binflow.png" alt-text="Bin code field on production order component lines.":::

## See also

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-balancing-demand-and-supply
---
title: Design Details - Balancing supply and demand
description: This article describes how to prioritized goals by balancing supply with demand.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: conceptual
ms.date: 12/15/2022
ms.custom: bap-template
---
# Design Details: Balancing supply and demand

To understand how the planning system works, it's important to understand its prioritized goals:  

* Any demand will be met by sufficient supply.  
* Any supply serves a purpose.  

Generally, these goals are achieved by balancing supply with demand.  

## Supply and demand

The term *supply* refers to any kind of positive or inbound quantity, such as:

* Inventory
* Purchases
* Assembly
* Production
* Inbound transfers
* Sales returns  

The term *demand* refers to any kind of gross demand, such as:

* An item for a sales order
* A component for a production order

[!INCLUDE [prod_short](includes/prod_short.md)] also lets you use more technical types of demand, such as negative inventory and purchase returns.

To sort the sources of supply and demand, the planning system organizes them on two timelines called inventory profiles. One profile is for demand events, and the other is for the corresponding supply events. Each supply event represents one entity on an order, such as:

* A sales order line
* An item ledger entry
* A production order line

When inventory profiles are loaded, the demand-supply sets are balanced to output a supply plan that fulfills the listed goals.

Inventory levels and planning parameters are other types of supply and demand. These types undergo integrated balancing to replenish stock items. Learn more at [Design Details: Handling Reordering Policies](design-details-handling-reordering-policies.md).

## The concept of balancing, in brief

Demand comes from your customers. Supply is what you create and remove to establish balance. The planning system starts with the demand and then tracks backwards to the supply.  

Inventory profiles contain information about the demands and supplies, quantities, and timing. These profiles make up the two sides of the balancing scale.  

The objective of planning is to balance the supply and demand of an item to ensure that supply will match demand as defined by the planning parameters and rules.  

:::image type="content" source="media/nav_app_supply_planning_2_balancing.png" alt-text="Overview of balancing supply and demand.":::

## Process orders before the planning start date

To avoid that a supply plan shows unreasonable suggestions, the planning system won't plan anything in the period before the planning starting date. The following rule applies to that period:

* All supply and demand before the starting date of the planning period are considered part of inventory or shipped.  

With a few exceptions, the planning system won't suggest any changes to supply orders in the period or create order tracking links for that period. The following are exceptions to this rule:  

* The inventory that's projected to be available, including the sum of supply and demand in the period, is below zero.  
* Backdated orders require serial or lot numbers.  
* The supply-demand set is linked by an order-to-order policy. 

If the initial available inventory is below zero, the planning system suggests an emergency supply order on the day before the planning period to cover the missing quantity. So, the projected and available inventory will always be at least zero when planning for the future period begins. The planning line for this supply order will display an Emergency warning icon and provide additional information.

### Serial and lot numbers and order-to-order links are exempt from the previous period  

If serial or lot numbers are required or an order-to-order link exists, the planning system disregards the rule about the previous period. It will include back-dated quantities from the starting date and might suggest corrective actions if supply and demand aren't synchronized. These demand-supply sets must match to ensure that a specific demand is fulfilled.

## Load inventory profiles

To sort the sources of supply and demand, the planning system organizes them on two timelines called inventory profiles.  

Supply and demand with due dates on or after the planning starting date are loaded into each inventory profile. When loaded, the supply and demand types are sorted according to overall priorities, such as:

* Due date
* Low-level codes
* Location
* Variant

Order priorities are applied to the different types to fulfill the most important demand first. Learn more at [Prioritizing Orders](design-details-balancing-demand-and-supply.md#prioritize-orders).  

Demand can also be negative. Treat negative demand as supply. However, unlike typical supply, negative demand is considered fixed supply. The planning system can take it into account, but will not suggest changes to it.  

In general, the planning system considers all supply orders after the planning starting date as subject to change in order to fulfill demand. However, after a quantity is posted from a supply order the planning system can't change it. The following orders can't be replanned:  

* Released production orders where consumption or output has been posted.  
* Assembly orders where consumption or output has been posted.  
* Transfer orders where shipment has been posted.  
* Purchase orders where receipt has been posted.  

Apart from loading the supply and demand types, certain types are loaded with attention to special rules and dependencies. The following sections in this article describe these rules and dependencies.  

### Item dimensions are separated  

The supply plan must be calculated for each combination of the item dimensions, such as variant and location. Only the combinations that carry a demand and/or supply need to be calculated.  

The planning system looks for combinations in the inventory profile. When it finds a new combination, it creates an internal control record that holds the information about the combination. The planning system then inserts the SKU as the control record, or outer loop. As a result, the planning parameters are set according to a combination of variant and location, and the system can proceed to the inner loop. 

> [!NOTE]  
> You don't have to enter a SKU record when you enter demand and/or supply for a particular combination of variant and location. Therefore, if a SKU doesn't exist for a given combination, [!INCLUDE [prod_short](includes/prod_short.md)] creates a temporary SKU record based on data from the item. If the **Location Mandatory** is toggle is turned on on the **Inventory Setup page**, you must either create a SKU or turn on the **Components at Location** toggle. Learn more at [Planning With or Without Locations](production-planning-with-without-locations.md).  

### Serial and lot numbers are loaded by specification level  

Serial and lot numbers are loaded into the inventory profiles along with the supply and demand they're assigned to.  

Supply and demand attributes are arranged by order priority and by their level of specification. Because serial and lot number matches reflect the level of specification, a more specific demand will match before a less specific demand. For example, a specific demand might be a lot number specified for a sale line. A less specific demand might be a sale from any lot number.

> [!NOTE]  
> The only dedicated prioritization rules for serial and lot-numbered supply and demand are the level of specification defined by their combinations and how item tracking is set up for the items.  

During balancing, the planning system regards supply that has serial and lot numbers as inflexible. The system won't increase or reschedule such supply orders. The one exception to this is if they're used in an order-to-order relation. Learn more at [Order-to-order links are never broken](#order-to-order-links-are-never-broken). This exception protects the supply from receiving several, possibly conflicting, action messages when it has varying attributes. For example, varying attributes might be when the supply has a collection of different serial numbers.  

Another reason why serial and lot-numbered supply are inflexible is because serial and lot numbers are often assigned late in the process. It could be confusing if changes are suggested at that point.  

Serial and lot number balancing doesn't respect the rule about not planning anything before the planning starting date. If supply and demand aren't synchronized, the planning system will suggest changes or new orders, regardless of the planning starting date.  

### Order-to-order links are never broken

When planning an order-to-order item, the linked supply must only be used for what it was originally intended. The linked demand shouldn't be covered by any other supply, even if the supply is available in time and quantity. For example, you can't use an assembly order that's linked to a sales order in an assemble-to-order scenario to cover another demand.  

Order-to-order supply and demand must balance precisely. The planning system will ensure the supply without regarding order sizing parameters, modifiers, and quantities in inventory (other than quantities relating to the linked orders). For the same reason, the system will suggest decreasing excess supplies if the linked demand is decreased.  

This balancing also affects the timing. The limited horizon that is given by the time bucket is not regarded; the supply will be rescheduled if the timing of the demand has changed. However, dampener time will be respected and will prevent order-to-order supplies from being scheduled out, except for the internal supplies of a multi-level production order (project order).  

> [!NOTE]  
> Serial and lot numbers can also be specified on order-to-order demand. In that case, the supply is not inflexible, which is normally is for serial and lot numbers. In this case, the system will increase or decrease according to changes in demand. If one demand has varying serial and lot numbers, such as more than one lot number, one supply order will be suggested for each lot.  

> [!NOTE]  
> Forecasts should not lead to creating supply orders that are bound by an order-to-order link. If the forecast is used, it should only be used as a generator of dependent demand in a manufacturing environment.

### Component need is loaded according to production order changes

When handling production orders, the planning system must monitor the needed components before loading them into the demand profile. Component lines that result from a changed production order will replace the lines of the original order. The change ensures that the planning system doesn't duplicate planning lines for a component need.  

### Consume safety stock

Safety stock quantity is a demand that's loaded into the inventory profile on the planning starting date.  

Safety stock is a quantity of inventory that's set aside to meet uncertainties in demand during replenishment. However, it can be consumed to fulfill a demand. In that case, the planning system will ensure that the safety stock is quickly replaced. The system suggests a supply order to replenish the safety stock quantity on the date it's consumed. The planning line will display an Exception warning icon explaining that the safety stock has been partly or fully consumed by an exception order for the missing quantity.  

### Forecast demand is reduced by sales orders

Demand forecasts express anticipated future demand. While actual demand is entered, typically as sales orders for produced items, it consumes the forecast.

The forecast itself is not reduced by sales orders. However, the forecast quantities that are used in the planning calculation are reduced by the sales order quantities before the remaining quantity enters the demand profile. For sales during a period, planning includes both open sales orders and item ledger entries from shipped sales. The exception to this rule is when they come from a blanket order.  

You must define a valid forecast period. The date on the forecasted quantity defines the start of the period, and the date on the next forecast defines the end of the period.  

The forecast for periods prior to the planning period isn't used, regardless of whether it was consumed. The first forecast figure of interest is either the planning starting date, or the closest date to it.  

The forecast can be for different types of demand:

* Independent demand, such as sales orders
* Dependent demand, such as production order components.

An item can have both types of forecast. During planning, consumption happens separately, first for independent demand and then for dependent demand.  

### Blanket order demand is reduced by sales orders

Forecasting is supplemented by blanket sales orders as a way to specify future demand from a specific customer. As with the (unspecified) forecast, actual sales should consume the anticipated demand, and the remaining quantity should enter the demand inventory profile. Consumption doesn't reduce the blanket order quantity.

The planning calculation includes open sales orders linked to the specific blanket order line, but it doesn't include any valid time period. Also, it doesn't include posted orders because the posting procedure has already reduced the outstanding blanket order quantity.

## Prioritize orders

Within a given SKU, the requested or available date represents the highest priority. Today's demand should be dealt with before the next week's demand. But, in addition to this overall priority, the planning system will make the following suggestions according to order priorities:

* Which type of demand you should fulfill first.
* What source of supply should be applied before applying other sources of supply.  

Loaded supply and demand contribute to a profile for projected inventory according to priorities.  

### Priorities on the demand side  

1. Already shipped: Item Ledger Entry  
2. Purchase return order  
3. Sales order  
4. Service order  
5. Production component needs  
6. Assembly order line  
7. Outbound transfer order  
8. Blanket order (that has not already been consumed by related sales orders)  
9. Forecast (that has not already been consumed by other sales orders)  

> [!NOTE]  
> Purchase returns aren't usually involved in supply planning; they should always be reserved from the lot that's going to be returned. If not reserved, purchase returns play a role in availability and are highly prioritized to avoid that the planning system suggests a supply order just to serve a purchase return.  

### Priorities on the supply side  

1. Already in inventory: Item Ledger Entry (Planning Flexibility = None)  
2. Sales return order (Planning Flexibility = None)  
3. Inbound transfer order  
4. Production order  
5. Assembly order  
6. Purchase order  

### Priority related to the state of supply and demand  

In addition to the priorities from the type of supply and demand, there are other things that affect planning flexibility. For example, warehouse activities, and the status of the following orders:

* Sales
* Purchase
* Transfer
* Assembly
* Production

The status of these orders has the following effects: 

1. Partly handled (Planning Flexibility = None)  
2. Already in process in the warehouse (Planning Flexibility = None)  
3. Released – all order types (Planning Flexibility = Unlimited)  
4. Firm Planned Production Order (Planning Flexibility = Unlimited)  
5. Planned/Open – all order types (Planning Flexibility = Unlimited)

## Balancing supply with demand

The planning system balances supply and demand by suggesting actions to revise supply orders that aren't balanced. This balance happens for each combination of variant and location.  

Imagine that each inventory profile contains two strings:

* A string of demand events, sorted by date and priority
* A corresponding string of supply events

Each event refers to its source type and identification. The rules for balancing the item are straightforward. Matching supply and demand can occur at any point in the process, as follows:  

1. No demand or supply exists for the item => the planning has finished (or should not start).  
2. Demand exists but there's no supply => supply should be suggested.  
3. Supply exists but there's no demand for it => supply should be canceled.  
4. Both supply and demand exist => questions should be asked and answered before [!INCLUDE [prod_short](includes/prod_short.md)] can ensure that the supply can meet the demand.

    If the timing of the supply isn't suitable, perhaps the supply can be rescheduled, as follows:  

    1. If the supply is placed earlier than the demand, perhaps the supply can be scheduled out so that inventory is as low as possible.  
    2. If the supply is placed later than the demand, perhaps the supply can be scheduled forward. Otherwise, the system will suggest new supply.  
    3. If the supply meets the demand on the date, the planning system can investigate whether the quantity of the supply can cover the demand.  

    When the timing is in place, the quantity to supply can be calculated as follows:  

    1. If the supply quantity is less than the demand, the supply quantity could be increased (or not, if you have a maximum quantity policy).  
    2. If the supply quantity is greater than the demand, the supply quantity can be decreased (or not, if you have a minimum quantity policy).  

    At this point, one of these two situations exist:  

    1. The current demand can be covered, in which case it can be closed and planning for the next demand can start.  
    2. The supply has reached its maximum, leaving some of the demand quantity uncovered. In this case, the planning system can close the current supply and proceed to the next one.  

 The procedure starts all over with the next demand and the current supply, or vice versa. The current supply might be able to cover this next demand as well, or the current demand has not yet been fully covered.  

### Rules for actions for supply events

For top-down calculations in which supply must fulfill demand, the demand is taken as a given. It's outside the control of the planning system. However, the planning system can manage the supply side and will make the following suggestions:

* Create new supply orders
* Reschedule existing orders or change their quantities
* Cancel supply orders that are no longer needed  

To exclude a supply order from the planning suggestions, you can state that it has no planning flexibility (Planning Flexibility = None). Then, excess supply from that order will be used to cover demand, but no action will be suggested. 

In general, all supply has a planning flexibility that's limited by the conditions of each of the suggested actions.  

* **Reschedule Out**: The date of an existing supply order can be scheduled out to meet the demand due date unless:

  * It represents inventory (always on day zero).  
  * It has an order-to-order linked to another demand.  
  * It's outside the window for rescheduling in the time bucket.
  * There's a closer supply that could be used.  
  * On the other hand, the user may decide not to reschedule because:
  * The supply order is tied to another demand on a previous date.  
  * The needed rescheduling is so minimal it's negligible.  

* **Reschedule In**: The date of an existing supply order can be scheduled in, except under the following conditions:

  * It's linked directly to some other demand.  
  * It's outside the window for rescheduling defined by the time bucket.

> [!NOTE]  
> When planning an item using a reorder point, you can reschedule the supply order. This often happens in forward-scheduled supply orders triggered by a reorder point.

* **Increase Quantity**: The quantity of an existing supply order can be increased to meet the demand unless the supply order is linked directly to a demand by an order-to-order link.  

> [!NOTE]  
> Although you can increase the supply order, the increase might be limited due to a defined maximum order quantity.  

* **Decrease Quantity**: An existing supply order with a surplus compared to an existing demand can be decreased to meet the demand.  

> [!NOTE]  
> Although the quantity can be decreased, there might be surplus compared to the demand due to a defined minimum order quantity or order multiple. 

* **Cancel**: As a special incident of the decrease quantity action, the supply order can be canceled if it's been decreased to zero. 
* **New**: If there aren't any supply orders, or an existing order can't be changed to meet the quantity needed on the due date for the demand, a new supply order is suggested.  

### Determine the supply quantity  

You define the planning parameters that control the suggested quantity of each supply order.  

When the planning system calculates the quantity of a new supply order or the quantity to change on an existing order, the suggested quantity might differ from the actual demand.  

If a maximum inventory or fixed order quantities are selected, the suggested quantity might be increased to meet the fixed quantity or the maximum inventory. If a reordering policy uses a reorder point, the quantity may be increased at least to meet the reorder point. 

The suggested quantity might be modified in this sequence:  

1. Down to the maximum order quantity.  
2. Up to the minimum order quantity.  
3. Up to meet the nearest order multiple.

### Order tracking links during planning  

For order tracking during planning, the planning system rearranges the order tracking links for the combinations of items, variants, and locations. The system rearranges the tracking links for the following reasons:

* To verify its suggestions for covering all demand, and ensure that all supply orders are needed.  
* The order tracking links must be rebalanced regularly.  

Over time, order tracking links become out of balance. The links become out of balance because the order tracking network isn't rearranged until a demand or supply event is closed.

Before balancing supply by demand, the planning system deletes all order tracking links. During the balancing process, when a demand or supply event is closed, it creates new order tracking links between the supply and demand.  

> [!NOTE]  
> Even if the item isn't set up for dynamic order tracking, the planning system will create balanced order tracking links.

## Close balanced supply and demand

Balancing supply has three possible outcomes:

* The required quantity and date of the demand events are met and planning for them can be closed. The supply event stays open and might be able to cover the next demand. Keeping the supply event open lets the balancing procedure start over with the current supply event and the next demand.  
* The supply order can't be modified to cover all of the demand. The demand event is still open with an uncovered quantity that might be covered by the next supply event. Therefore the current supply event is closed, and balancing can start over with the current demand and the next supply event.  
* All of the demand is covered and there isn't a next demand (or there wasn't any demand at all). Surplus supply might be decreased (or canceled) and then closed. Any other supply events should also be canceled.  

Finally, the planning system will create an order tracking link between the supply and the demand.  

### Create the planning line (Suggested Action)  

If a **New**, **Change Quantity**, **Reschedule**, **Reschedule and Change Quantity**, or **Cancel** action is suggested to revise the supply order, the planning system creates a planning line in the planning worksheet. For order tracking, the planning line is created not only when the supply event is closed, but also if the demand event is closed. This is true even though the supply event is still open and might be changed when the next demand event is processed. The planning line may be changed again when it's created.

To reduce the load on the database when handling production orders, the planning line can be maintained in three levels:

* Create only the planning line with the current due date and quantity but without the routing and components.  
* Include routing: the planned routing includes calculation of starting and ending dates and times. Include routing is demanding in terms of database accesses. To determine the ending and due dates, it might be necessary to calculate the routing even if the supply event hasn't been closed. For example, if you're doing forward scheduling.  
* Include BOM explosion: can happen just before the supply event is closed.

## See Also  

[Design Details: Central Concepts of the Planning System](design-details-central-concepts-of-the-planning-system.md)  
[Design Details: Handling Reordering Policies](design-details-handling-reordering-policies.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-manage-sales-opportunities
---
title: Manage Sales Opportunities and Leads
description: Describes managing any incoming lead or sales opportunity in Business Central,  and associating the opportunity with a salesperson to keep track of potential sales.
documentationcenter: ''
author: jswymer

ms.topic: conceptual
ms.devlang: al
ms.search.keywords: relationship, prospect
ms.search.forms: 5132, 5101, 5103, 5102, 5146, 5199, 5197, 5198, 5137, 5086, 5089, 5087, 5088, 5090, 5128, 5133, 5114, 5151, 5145, 5126, 5189, 5191, 5097, 5135, 5188, 5187, 5154, 5147, 5131, 9257, 5124, 782, 5130, 5123, 5127, 5174, 5125, 5115, 5112, 5111, 5110, 5109, 5149, 5169, 5190, 783, 505, 5118, 5072, 781, 5152, 5153, 5155, 5098, 5196, 5096, 5099, 9255, 5129, 5136
ms.date: 04/01/2021
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Managing Sales Opportunities
Any incoming lead can be considered a sales opportunity. You can create opportunities and associate them to a salesperson so that you can keep track of potential sales.

Before you can start using opportunity management, you must set up sales cycles and sales cycle stages. As you create opportunities, you should provide information about the contact, salesperson, sales cycle, and dates, as well as your estimates for the sales value of the opportunity and your estimation of the chances of its success.

The following table describes a sequence of tasks, with links to the topics that describe them.

| To | See |
| --- | --- |
| Set up the sales cycles that you usually follow, and the different stages within each opportunity sales cycle. |[Set Up Opportunity Sales Cycles and Cycle Stages](marketing-how-setup-opportunity-sales-cycles-stages.md) |
| Create sales opportunities that you have from your contacts. |[Create Opportunities](marketing-how-create-opportunities.md) |
| Move a sales opportunity through the sales cycle to completion. |[Process Sales Opportunities](marketing-processing-sales-opportunities.md) |

## See Also
[Sales](sales-manage-sales.md)  
[Creating and Managing Contacts](marketing-contacts.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-setup-service-costs-pricing
---
title: Set Up Pricing and Costs for Services
description: Learn how to use pricing features to set up and customize your application so that you apply and adjust pricing on service items, repairs and orders.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: service, cost, service order
ms.date: 06/25/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Set Up Pricing and Additional Costs for Services
You can use the [!INCLUDE[prod_short](includes/prod_short.md)] pricing features to set up and customize your application so that you apply and adjust pricing on service items, repairs, and orders. These pricing decisions are then easily transmitted to the invoicing process.  
  
As your implementation requires, you can set up pricing groups and map them to specific time periods, customers, or currency. You can set up fixed, minimum, or maximum pricing, depending on the service contracts that you have with customers. Finally, as you adjust your prices, you can view and approve the changes before committing them to the ledger.  

## To set up a service price group
You can set up groups containing service items that you want to receive the same special service pricing. You assign service price groups to service items on service item lines. You can also assign service price groups to service item groups.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Price Groups**, and then choose the related link.  
2. Create a new service price group.  
3. Fill in the **Code** and **Description** fields.  
4. Choose the **Setup** action.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

 > [!Tip]
 > The **Adjustment Type** and **Amount** fields work together to specify whether an adjustment concerns a fixed amount, or applies only when the total service price exceeds or is lower than the amount in the **Amount** field.  

## To set up a service price adjustment group  
You can set up price adjustment groups to adjust service pricing of service items. For example, you can set up price adjustment groups that adjust price of freight or spare parts.  
  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Price Adjustment Groups**, and then choose the related link.  
2. Create a new service price adjustment group.  
3. Fill in the **Code** and **Description** fields.  
4. In the **Type** field, enter the type of the entry that you want to adjust.  
  
    * To adjust only one specific entry, enter the number of this entry in the **No.** field. When you leave this field blank, your adjustment group will adjust all entries of the type defined in the **Type** field.  
    * To adjust service prices related to only one specific service, fill in the **Work Type** field. When you leave this field blank, it will just be ignored.  
  
5. In the **Description** field, enter a short description of the service price adjustment.  
6. To adjust service prices related to only one specific general product posting group, fill in the **Gen. Prod. Posting Group** field.

> [!Tip]
> You can choose **Details** to add additional information about the adjustment group. For example, you can specify which item belongs to the service price adjustment group, and whether this is an item, a resource, a resource group, or a service charge.  

## To set up additional costs for services
When you work with service items and service orders, you may need to register additional costs, such as travel costs to particular service zones or starting fees. When you create a service order, you can insert these costs and a line with the type **Cost** will be added to the order. Alternatively, if you want to apply the cost to all service orders, you can set up a default cost. For example, if you always want to apply a starting fee.
  
### To set up service costs
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Costs**, and then choose the related link. 
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

### To specify a default cost for service orders
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Setup**, and then choose the related link. 
2. In the **Service Order Starting Fee** field, choose the appropriate service cost.

## See Also
[Setting Up Service Management](service-setup-service.md)  
[Service Management](service-service.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-purchase-products-sale
---
title: Purchase items for a sale
description: From a sales invoice, to purchase products, you can create a purchase invoice for a vendor or supplier.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: supply planning, sales demand, replenish
ms.search.form: 50, 51, 56, 9308
ms.date: 03/14/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Purchase items for a sale by creating purchase invoices

From sales orders and sales invoices, you can use functions to quickly create purchase documents for missing item quantities that are required by the sale. You can use two different functions depending on the document type.

> [!Note]
> This functionality is for replenishing sales items into your own inventory. To purchase items for direct delivery from your vendor to your customer, you must create a drop shipment. For more information, see [Make Drop Shipments](sales-how-drop-shipment.md).   

|Function|Description|
|--------|-----------|
|**Create Purchase Orders**|From a sales order, this function creates a purchase order for each vendor of items on the sales order. You can edit the purchase quantity before you create the purchase orders. Only unavailable sales quantities are suggested.
|**Create Purchase Invoice**|From a sales order and from a sales invoice, this function creates a purchase invoice for a selected vendor for all lines or selected lines on the sales document. The full sales quantity is suggested.|

## To create one or more purchase orders from a sales order
To create a purchase order for each unavailable item quantity on the sales order, you use the **Create Purchase Orders** function.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Open a sales order that you want to purchase items for.
3. Choose the **Create Purchase Orders** action.

    The **Create Purchase Orders** page opens showing a line for each different item on the sales order. Lines for both fully available sales quantities and unavailable sales quantities (grayed) are shown by default. You can choose the **Show Unavailable** action to only see lines for unavailable sales quantities.

    The **Quantity to Purchase** field contains the unavailable sales quantity by default.
4. To purchase another quantity than the unavailable sales quantity, edit the value in the **Quantity to Purchase** field.

    > [!NOTE]  
    >   You can also change the **Quantity to Purchase** field on grayed lines even though they represent fully available sales quantities.
5. Choose the **OK** button.

    A purchase order is created for each vendor of items on the sales order, including any quantity changes that you made on the **Create Purchase Orders** page.
7. Proceed to process the purchase order or orders, for example, by editing or adding purchase order lines. For more information, see [Record Purchases](purchasing-how-record-purchases.md).


## To create a purchase invoice from a sales order or sales invoice
To create a single purchase invoice for one or more lines on a sales document by first selecting which vendor to buy from, you use the **Create Purchase Invoice** function.

> [!NOTE]  
>   This function creates a purchase invoice for the exact item quantity on the selected sales document. To change the purchase quantity, you must edit the purchase invoice after it is created.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Open a sales invoice that you want to purchase items for.
3. Select one or more sales invoice lines that you want to use on the purchase invoice. To use all the sales invoice lines, select either all of them or don't select any lines.
4. Choose the **Create Purchase Invoice** action.
5. Select either **All Lines** or **Selected Lines**, and then choose the **OK** button.  
6. In the list of vendors that appears, select the vendor that you want to buy all the items from, and then choose the **OK** button.

    A purchase invoice is created that contains one, more than one, or all the lines on the sales invoice.
7. Proceed to process the purchase invoice, for example, by editing or adding purchase invoice lines. For more information, see [Record Purchases](purchasing-how-record-purchases.md).

## See also
[Purchasing](purchasing-manage-purchasing.md)  
[Record Purchases](purchasing-how-record-purchases.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
[Register New Vendors](purchasing-how-register-new-vendors.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-post-consumption
---
title: Batch post consumption
description: If the flushing method is Manual, post the components manually using a consumption journal.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 99000846, 99000850
ms.date: 03/20/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Batch post production consumption

If the flushing method is **Manual**, use a consumption journal to post the components manually.  

> [!NOTE]
> If you select the **Inventory Pick/Movement** option in the **Prod. Consumption Whse. Handling** field on the location card to indicate that the location requires inventory pick processing, you don't need to use this batch job. [!INCLUDE[prod_short](includes/prod_short.md)] handles consumption when you post the inventory pick. To learn more, go to [Pick for Production in Basic Warehouse Configurations](warehouse-how-to-pick-for-production.md).  

You can also set up [!INCLUDE[prod_short](includes/prod_short.md)] to automatically post (*flush*) components when you start or finish production orders. To learn more, go to [Enable Flushing of Components According to Operation Output](production-how-to-flush-components-according-to-operation-output.md).

## To post consumption for one or more production order lines

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Consumption Journal**, and then choose the related link.  
2. Fill in the fields with the production order data and the consumption data. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

    Use the **Calc. Consumption** action to generate journal lines from production orders based on the actual output (the quantity of finished goods that you reported) or on the expected output (the quantity of finished goods that you expect to produce).

    > [!NOTE]
    > If you configured the location to require warehouse pick processing, only quantities that are already picked through a warehouse activity can be entered in the **Quantity** field in the **Consumption Journal** page. It can't be a calculated quantity. To learn more, go to [Pick for Production or Assembly in Advanced Warehouse Configurations](warehouse-how-to-pick-for-internal-operations-in-advanced-warehousing.md).

3. Choose the **Post** action to post the consumption. The related inventories are reduced.

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

[!INCLUDE [production-journals-edit-excel](includes/production-journals-edit-excel.md)]

## Related information

[Cancel production orders that have consumption](production-cancel-production-orders-that-have-consumption.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-powerbi-bin-contents-by-item-tracking
---
title: Bin Contents by Item Tracking (Power BI report)
description: The Bin Contents by Item Tracking report shows bin contents and  the lot and serial numbers in the bins.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37032_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Bin Contents by item tracking (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Bin Contents by Item Tracking** report shows bin contents and the lot and serial numbers in them. It highlights key warehouse quantity information, and shows the quantity of an item in the bin and its tracking information.

The report outlines a clear picture of bin contents and its lot tracking in a matrix view that displays key fields.

:::image type="content" source="media/inventory/bin-content-by-item-tracking.png" alt-text="Screenshot of the Bin Contents by Item Tracking Power BI Report" lightbox="media/inventory/bin-content-by-item-tracking.png":::

## Use the report

The report helps managers identify key tracking information for each lot or serial number.

For warehouse or inventory managers, the report provides a clear picture of the stock levels of each bin across your organization the item tracking information. Use this information to make decisions about procurement or production.

## Key Performance Indicators (KPIs)

The *Bin Contents by Item Tracking* report includes the following KPIs:

- [**Warehouse Quantity**](inventory-powerbi-kpis.md#warehouse-quantity)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)] 


## Data used in the report

The report uses data from the following tables:

- Item
- Bin
- Location
- Item Ledger Entries
- Warehouse Entries
- Zone

## Try the report

Try the report here: [Bin Contents by Item Tracking](https://businesscentral.dynamics.com?page=37032)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory app](inventory-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-track-packages
---
title: Track packages
description: Use the shipping agents tracking service on the Internet to track parcels and follow the progress of a delivery.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: rfq
ms.search.form: 142, 800, 806
ms.date: 03/06/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Track packages
Most shipping agents provide a web service that lets you track the status of your packages while they're en route. That information can be useful in many business processes, for example, when providing customer service. If you use one or more shipping agents, you can enter some basic information about them, and then use their package tracking service directly from the Posted Sales Shipments, Posted Sales Invoices, Posted Sales Credit Memos, and Posted Return Receipt pages. For more information, see [Set Up Shipping Agents](sales-how-to-set-up-shipping-agents.md). 

The following procedure shows how to track a package from a posted sales shipment, but the same steps apply to enable package tracking from the Posted Sales Invoice, Posted Sales Credit Memo, and Posted Return Receipt pages.  

## To track a package

> [!NOTE]
> The following procedure uses the Posted Sales Shipment page as an example. The steps to track a package are the same on the Posted Sales Invoices, Posted Sales Credit Memos, and Posted Return Receipt pages.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipment**, and then choose the related link.
2. Open the shipment you want to track, and then choose the **Update Document** action.
3. In the **Package Tracking No.** field, enter the package number you received from the shipping agent. 
4. Make sure that the correct shipping agent and the level of service are correct, and then close the page.
5. Choose the **Track Package** action to open the shipping agent's package tracking service.

## See also

[Set Up Shipping Agents](sales-how-to-set-up-shipping-agents.md)  
[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-edit-posted-document
---
title: Edit Posted Sales and Purchase Documents
description: This topic explains how to update information on a posted document like a  sales shipment or purchase invoice when relevant information has changed. 
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.reviewer: bholtorf
ms.search.keywords: Posted document, editable, posted sales shipment, posted purchase invoice, posted return shipment, posted return receipt, Business Central, business document
ms.search.form: 130, 138, 142, 146, 6660, 6662, 6650, 6652
ms.date: 06/10/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
---
# Edit Posted Documents

Sometimes you have to update a posted document because information that is relevant to the document has changed. On a posted sales document, this can be the shipping agent's package tracking number, for example. On a posted purchase document, this can be a payment reference text.

You perform the change on an editable version of the original document, indicated by "**- Update**" in the page title. The page contains a subset of the fields on the original document, of which some are non-editable fields that are shown for information only.

The functionality is available for the following documents across all supported markets:

- Posted Sales Shipment
- Posted Purchase Invoice
- Posted Return Shipment
- Posted Return Receipt

The following additional documents can be edited in the specified countries or regions:

- ES: Posted Sales Invoice, Posted Sales Credit Memo, Posted Purchase Credit Memo
- APAC: Posted Sales Credit Memo, Posted Purchase Credit Memo
- RU: Posted Sales Credit Memo
- IT: Posted Transfer Shipment, Posted Service Shipment

## To edit a posted sales shipment

The following explains how to edit a posted sales shipment. The steps are similar for the other supported documents.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.
2. Select the document that you want to edit, and then choose the **Update Document** action. Alternatively, open the document and then choose the action.
3. On the **Posted Sales Shipment - Update** page, edit the **Package Tracking No.** field, for example.
4. Choose the **OK** button.

The posted sales shipment is updated.

## See also

[Posting Documents and Journals](ui-post-documents-journals.md)  
[Find Related Entries for Documents](ui-find-entries.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[General Business Functionality](ui-across-business-areas.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-powerbi-purchase-and-sales-qty
---
title: Purchase and Sales Quantity (Power BI report)
description: The Purchase and Sales Quantity report shows purchase and sales quantities for an organization.
author: kennienp
ms.author: kepontop
ms.reviewer: 
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37025_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Purchase and Sales Quantity (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Purchase and Sales Quantity** report shows purchase and sales quantities for an organization. It showcases key sales and purchasing values for each item or item category. 

This report is meant for most users and can show any user key data about the ins and outs of items or item categories.

:::image type="content" source="media/inventory/purchase-and-sales-quantity.png" alt-text="Screenshot of the Purchase and Sales Quantity Power BI Report" lightbox="media/inventory/purchase-and-sales-quantity.png":::

## How to use the report

The leadership team and managers use the report to track of the ins and outs of items in the organization. The report helps you ensure that your purchasing efforts meet demand.

The report helps leadership teams make informed strategic planning decisions by offering an overview of purchase and sales quantities.

Managers use the report to track key items. You can identify items that you purchase in large volumes and monitor their sales performance, or find items that you aren't purchasing enough of to keep up with demand.

## Key Performance Indicators (KPIs)

The *Purchase and Sales Quantity* report includes the following KPIs:

- [**Net Qty. Purchased**](inventory-powerbi-kpis.md#net-qty-purchased)
- [**Net Qty. Sold**](inventory-powerbi-kpis.md#net-qty-sold)
- [**Quantity**](inventory-powerbi-kpis.md#quantity)
- [**Inventory (Quantity)**](inventory-powerbi-kpis.md#inventory-quantity)
- [**Gross Requirement**](inventory-powerbi-kpis.md#gross-requirement)
- [**Scheduled Receipt**](inventory-powerbi-kpis.md#scheduled-receipt)
- [**Planned Order Receipt**](inventory-powerbi-kpis.md#planned-order-receipt)
- [**Projected Available Balance**](inventory-powerbi-kpis.md#projected-available-balance)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)] 


## Data used in the report

The report uses data from the following tables in [!INCLUDE [prod_short](includes/prod_short.md)]:

- Item
- Item Ledger Entries

## Try the report

Try the report here: [Purchase and Sales Quantity](https://businesscentral.dynamics.com?page=37025)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory app](inventory-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-process-sales-returns-orders
---
title: Process sales return orders
description: Describes how to create a sales return order to process a return, cancellation, or reimbursement for items or services you have been received payment for.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: undo, credit memo, return, order
ms.search.form: 44, 134, 144, 6629, 6630, 6633, 6662, 9302, 9304, Report_6646
ms.date: 03/05/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Process sales return orders  

If you need more control of the sales return process, such as warehouse documents for the item handling, or a better overview when receiving items from multiple sales documents with one sales return, then you can create sales return orders. A sales return order automatically issues the related sales credit memo and other return-related documents, such as a replacement sales order, if needed.

In addition to the original posted sales invoice, you can apply the sales credit memo or sales return order to other sales documents, for example another posted sales invoice because the customer is also returning items delivered with that invoice.

## Create a sales return order based on one or more posted sales documents  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Return Orders**, and then choose the related link.
2. Choose the **New** action.  
3. Fill in the fields on the **General** FastTab as necessary.
4. On the **Lines** FastTab, fill the lines manually, or copy information from other documents to fill the lines automatically:

    - Use the **Get Posted Document Lines to Reverse** function to copy one or more posted document lines from one or more posted documents. This function always exactly reverses the costs from the posted document line. This function is described in the following steps.    
    - Use the **Copy from Document** function to copy an existing document to the return order. Use this function to copy the entire document. It can be either a posted document or a document that isn't yet posted. This function only enables exact cost reversing when the **Exact Cost Reversing Mandatory** check box is selected on the **Sales & Receivables Setup** page.  

5. Choose the **Process** action, then choose the **Get Posted Document Lines to Reverse** action.
6. At the top of the **Posted Sales Document Lines** page, select the **Show Reversible Lines Only** check box if you want to see only lines that have quantities that haven't yet been returned. For example, if a posted sales invoice quantity has already been returned, you might not want to return that quantity on a new sales return document.

    > [!NOTE]  
    >  This field only works for posted shipments and posted invoice lines, not for posted return or posted credit memo lines.

    At the left side of the page, the different document types are listed, and the number in brackets shows the number of documents available of each document type.

7. In the **Document Type Filter** field, select the type of posted document lines you would like to use.  
8. Select the lines that you would like to copy to the new document.  

    > [!NOTE]  
    >  If you use <kbd>Ctrl</kbd>+<kbd>A</kbd> to select all lines, all lines within the filter you have set are copied, but the **Show Reversible Quantity Only** filter is ignored. For example, suppose you have filtered the lines to a particular document number with two lines, one of which has already been returned. Even if the **Show Reversible Quantity Only** field is selected, if you select <kbd>Ctrl</kbd>+<kbd>A</kbd> to copy all lines, both lines are copied, instead of only the one that has not yet been reversed.  

9. Choose the **OK** button to copy the lines to the new document.  

    The following processes occur:  

    -   For posted document lines of the type **Item**, a new document line is created that is a copy of the posted document line, with the quantity that hasn't yet been reversed. The **Appl.-from Item Entry** field is filled in as appropriate with the number of the item ledger entry of the posted document line.  

    -   For posted document lines that aren't of the type **Item**, such as item charges, a new document line is created that is a copy of the original posted document line.  

    -   Calculates the **Unit Cost (LCY)** field on the new line from the costs on the corresponding item ledger entries.  

    -   If the copied document is a posted shipment, posted receipt, posted return receipt, or posted return shipment, the unit price is calculated automatically from the item card.  

    -   If the copied document is a posted invoice or credit memo, the unit price, invoice discounts, and line discounts from the posted document line are copied.  

    -   If the posted document line contains item tracking lines, the **Appl.-from Item Entry** field on the item tracking lines is filled with the appropriate item ledger entry numbers from the posted item tracking lines.  

     When you copy from a posted invoice or posted credit memo, application copies any relevant invoice discounts and line discounts as valid at the time of posting that document from the posted document line to the new document line. Be aware, however, that if the **Calc. Inv. Discount** option is activated on the **Sales & Receivables Setup** page, then the invoice discount will be newly calculated when you post the new document line. The line amount for the new line might therefore be different than the line amount for the posted document line, depending on the new calculation of the invoice discount.  

     > [!NOTE]  
     >  If part of the quantity of the posted document line has already been reversed or sold or consumed, a line is created for only the quantity that remains in inventory or that has not been returned. If the full quantity of the posted document line has already been reversed, a new document line is not created.  
     >   
     >  If the flow of goods in the posted document is the same as the flow of goods in the new document, a copy of the original posted document line in the new document is created. The **Appl.-from Item Entry** field is not filled in because, in this case, exact cost reversing is not possible. For example, if you use the **Get Posted Document Lines to Reverse** function to get a posted sales credit memo line for a new sales credit memo, only the original posted credit memo line is copied to the new credit memo.  

10. On the **Sales Return Order** page, in the **Return Reason Code** field on each line, select the reason for the return.
11. Choose the **post** action.

## To create a replacement sales order from a sales return order
You might decide to compensate a customer for an item that you have sold them by replacing the item. You can make a replacement with the same item or a different item. This situation could occur if you mistakenly shipped the wrong item to the customer, for example.  

1. On the **Sales Return Order** page for an active return process, on an empty line, make a negative entry for the replacement item by inserting a negative amount in the **Quantity** field.  
2. Choose the **Move Negative Lines** action.
3. On the **Move Negative Sales Lines** page, fill in the fields as necessary.
4. Choose the **OK** button. The negative line for the replacement item is deleted from the sales return order and inserted in a new **Sales Order** page. For more information, see [Sell Products](sales-how-sell-products.md).

## To create return-related documents from a sales return order
You can have replacement sales orders, purchase return orders, and replacement purchase orders created automatically during the sales return process. This is useful, for example, in situations where you want to handle items with warranties provided by vendors.

1. On the **Sales Return Order** page for an active return process, choose the **Create Return-Related Documents** action.
2. In the **Vendor No.** field, enter the number of a vendor if you want to create vendor documents automatically.
3. If a returned item must be returned to the vendor, select the **Create Purch. Ret. Order** check box.
4. If a returned item must be ordered from the vendor, select the **Create Purchase Order** check box.
5. If a replacement sales order must be created, select the **Create Sales Order** check box.

## To create a restock charge
You might decide to charge your customer a restock fee to cover the physical handling costs of returning an item. This could occur if the customer mistakenly ordered the wrong item or changed their mind after receiving the item you sold them, for example.

You can post this increased cost as an item charge in a credit memo or a return order and assign it to the posted shipment. The following describes this for a sales return order, but the same steps apply to a sales credit memo.

1. Open the **Sales Return Order** page for an active return process.
2. On a new line, in the **Type** field, select **Charge (Item)**.  
3. Fill in the fields as for any item charge line. For more information, see [Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md).  

When you post the sales return order, the restock charge is added to the relevant sales entry amount. In this way, you can maintain accurate inventory valuation.  

## See also

[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Managing Payables](payables-manage-payables.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-setup-additional-currencies
---
title: Set up additional currencies
description: Your general ledger is set up to use your local currency (LCY), and another currency is set up as an additional currency, with a current exchange rate assigned.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: multiple currencies, foreign exchange rates
ms.search.form: 5, 16,118, 483, 495
ms.date: 06/13/2024
ms.service: dynamics-365-business-central

---
# Set up an additional reporting currency

As companies operate in increasingly more countries/regions, it becomes more important that they're able to review and report financial data in more than one currency.

> [!NOTE]  
> In [!INCLUDE[prod_short](includes/prod_short.md)], if you're looking for real time information about foreign exchange (FX) rates or historical rates, it's referred to as currency. In addition to this article, see also [Update Currency Exchange Rates](finance-how-update-currencies.md).

Your general ledger is set up to use your local currency (LCY), but you can set it up to also use another currency with a current exchange rate assigned. If you designate a second currency as an additional reporting currency (ACY), [!INCLUDE[prod_short](includes/prod_short.md)] automatically records amounts in both LCY and ACY on each G/L entry and other entries, such as VAT entries.

> [!Warning]
> You shouldn't use the ACY feature as a basis for financial statement translation unless you understand its limitations. It can't translate foreign subsidiary financial statements as part of a company consolidation. The ACY can only be used to prepare reports in another currency, as if that currency was the company's LCY.
>
> For example, you have a large amount of accounts receivable in British pounds (GBP), and you have set up your ACY to be GBP. In this scenario, amounts in the accounts receivable that use GBP aren't adjusted for currency exchange gains/losses in the ACY, only amounts in the accounts receivable that are in other currencies. That means that if you use ACY to report your financial statements, it might result in understated or overstated outstanding balances of accounts receivable.

## Displaying reports and amounts in ACY

Using an ACY can assist the reporting process for a company in the following cases:

- Companies in non-EU countries/regions that have a high proportion of transactions with EU country/region companies. In this case, the non-EU company might also want to report in euro to make its financial reports more usable for EU trade partners.
- Companies that also wish to display reports in a more internationally traded currency than their own local currency.

Several financial reports are based on G/L entries. To display report data in the ACY, select the **Show Amounts in Add. Reporting Currency** checkbox on the **Options** FastTab for the relevant G/L report.

## Adjusting exchange rates

Because exchange rates fluctuate constantly, ACY equivalents in your system must be adjusted periodically. If these adjustments aren't done, amounts that converted from foreign (or additional) currencies and posted to the general ledger in LCY can be misleading. In addition, daily entries posted before a daily exchange rate is entered into application must be updated after the daily exchange rate information is entered. The **Adjust Exchange Rates** batch job is used to adjust the exchange rates of posted customer, vendor, and bank account entries. It can also update ACY amounts on G/L entries. For more information, see [Update Currency Exchange Rates](finance-how-update-currencies.md).

## Setting up an ACY

To set up an ACY, follow these steps:

- Specify general ledger accounts for posting exchange rate adjustments.  
- Specify the exchange rate adjustment method for all general ledger accounts.  
- Specify the exchange rate adjustment method for VAT entries.  
- Activate the ACY.  

### To specify general ledger accounts for posting exchange rate adjustments  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Currencies**, and then choose the related link.  
2. On the **Currencies** page, fill in the following fields for the ACY.  

|Field|Description|  
|---------------------------------|---------------------------------------|  
|**Realized GL Gains Account**|The general ledger account to which exchange rate gains for currency adjustments between LCY and the ACY are posted.|  
|**Realized GL Losses Account**|The general ledger account to which exchange rate losses for currency adjustments between LCY and the ACY are posted.|  
|**Residual Gains Account**|The general ledger account to which residual amounts that are gains are posted if you post in the general ledger application area in both LCY and an ACY.|  
|**Residual Losses Account**|The general ledger account to which residual amounts that are losses are posted if you post in the general ledger application area in both LCY and an ACY.|

> [!NOTE]  
> Residual amounts can occur when [!INCLUDE[prod_short](includes/prod_short.md)] rounds debit and credit amounts that have been converted from LCY to an ACY.  

For each general ledger account, you must specify how general ledger amounts for that account are adjusted for exchange rate fluctuations between LCY and the ACY.  

### To specify the exchange rate adjustment method for all general ledger accounts

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. On the **Chart of Accounts** page, select the relevant account, and then choose the **Edit** action.  
3. On the **GL Account Card** page, select the relevant method in the **Exchange Rate Adjustment** field.  

    If you post in an ACY, in the **Exchange Rate Adjustment** field, specify how this general ledger account is adjusted for exchange-rate fluctuations between LCY and the ACY. The following table describes the options.  

    |Field|Description|  
    |----------------------------------|---------------------------------------|  
    |**No Adjustment**|No exchange rate adjustment is made to the general ledger account. This setting is the default option.<br /><br /> **NOTE:** Select this option if the exchange rate between the LCY and ACY is always fixed.|  
    |**Adjust Amount**|The LCY amount is adjusted for any exchange rate gains or losses. Exchange rate gains or losses are posted to the general ledger account in the **Amount** field and to the accounts you specified for gains or losses in the **Realized G/L Gains Account** and **Realized G/L Losses Account** fields on the **Currencies** page.|  
    |**Adjust Additional-Currency Amount**|The ACY is adjusted for any exchange rate gains or losses. Exchange rate gains or losses are posted to the general ledger account in the **Additional-Currency Amount** field and to the accounts you specified for gains or losses in the **Realized G/L Gains Account** and **Realized G/L Losses Account** fields on the **Currencies** page.|  

    Exchange rate gains and losses are posted when you run the **Adjust Exchange Rates** batch job. In that batch job, the adjustment exchange rate is identified on the **Currency Exchange Rates** page, and then the amounts in the **Amount** and **Additional-Currency Amount** fields on the general ledger entry are compared to determine whether there's an exchange rate gain or loss. The batch job uses the option that you select in the **Exchange Rate Adjustment** field to determine how to calculate and post exchange rate gains or losses for general ledger accounts.  

4.  Close the **G/L Account Card** page.  

### To specify exchange rate adjustment method for VAT entries

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup**, and then choose the related link.  
2. On the **General Ledger Setup** page, select the relevant method in the **VAT Exchange Rate Adjustment** field.  
3. If you post in an ACY, in the **VAT Exchange Rate Adjustment** field you can specify how the accounts set up for VAT posting on the **VAT Posting Setup** page are adjusted for exchange-rate fluctuations between LCY and the ACY.  

    When you run the **Adjust Exchange Rates** batch job, the adjustment exchange rate is identified on the **Currency Exchange Rate** page and then the amounts in the **Amount** and **Additional-Currency Amount** fields on the VAT entry are compared to determine if there's an exchange rate gain or loss. The batch job uses the option that you select in this field to determine how to post exchange rate gains or losses for VAT accounts.  

    You have the same options as with general ledger entries but in this case the entries adjusted are the VAT entries. The following table describes the options.

    |Field|Description|  
    |----------------------------------|---------------------------------------|  
    |**No Adjustment**|No exchange rate adjustment is made to the general ledger account. This setting is the default option.|  
    |**Adjust Amount**|The LCY amount is adjusted for any exchange rate gains or losses. Exchange rate gains or losses are posted to the general ledger account in the **Amount** field and to the accounts you specified for gains or losses in the **Realized G/L Gains Account** and **Realized G/L Losses Account** fields on the **Currencies** page.|  
    |**Adjust Additional-Currency Amount**|The ACY is adjusted for any exchange rate gains or losses. Exchange rate gains or losses are posted to the general ledger account in the **Additional-Currency Amount** field and to the accounts you specified for gains or losses in the **Realized G/L Gains Account** and **Realized G/L Losses Account** fields on the **Currencies** page.|  

### To activate the ACY  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup**, and then choose the related link.  
2. On the **General Ledger Setup** page, in the **Additional Reporting Currency** field, choose the additional currency that you want to report in.  
3. When you leave the field, [!INCLUDE[prod_short](includes/prod_short.md)] displays a confirmation message describing the effects of activating the ACY.  
4. Choose the **Yes** button to confirm that you want to activate the currency.  
5. The **Adjust Add. Reporting Currency** batch job opens.

    This batch job converts LCY amounts on existing entries to the ACY. The batch job uses a default exchange rate copied from the exchange rate that is valid on the work date on the **Currency Exchange Rates** page. Residual amounts that occur on conversion of LCY to ACY are posted to the residual gains and losses accounts specified on the **Currencies** page. The posting date and document number for these entries are the same as for the original general ledger entry. After you post all residual entries, the batch job posts a rounding entry on the closing date of each closed year to the retained earnings account. This posting makes sure that the ending balance of the income accounts for each closed year is 0 in both LCY and the ACY.
6. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]      
7. Choose the **OK** button to run the batch job.  

After you run the batch job, amounts on the following existing entries are in both the LCY and ACY:  

- General ledger entries  
- Item application entries  
- VAT entries  
- Project ledger entries  
- Value entries  
- Production order lines  
- Production order ledger entries  

In addition, all future entries of the same type have amounts recorded in both LCY and the ACY.  

> [!NOTE]  
> The **Add. Reporting Currency** field will only be activated after you choose the **OK** button in the **Adjust Add. Reporting Currency** batch job.  

## See also

[Update Currency Exchange Rates](finance-how-update-currencies.md)  
[Closing Years and Periods](year-close-years-periods.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-setup-trail-codes
---
title: Set Up Codes for Audit Trails
description: Learn about the tasks to set up source codes and reason codes that you can use to track audit trails.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: accounting, auditing, bookkeeping
ms.search.form: 257, 259, 279
ms.date: 04/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Setting Up Source Codes and Reason Codes for Audit Trails

All posted entries are automatically assigned a source code so that transactions can be traced to their origin. If you want to give entries a supplementary source code, you can use reason codes. Reason codes are used to indicate why an entry was created. When you set up reason codes, you can assign them to entire journal templates and journal batches, and you can assign them to individual journal lines and documents.  

For both source codes and reason codes, use codes that are easy to remember and descriptive. The code must be unique, and you can set up as many codes as you like.

## Define source codes

Sometimes, you want see how a particular entry arose, such as whether it came from posting a general journal or a purchase invoice. A source code indicates where an entry was created. Entries are created when journals and invoices are posted and when certain batch jobs are executed. Each posting type has a specific source code that is assigned when individual entries are created.  

Posting journals, orders, invoices, or credit memos, and running various batch jobs, creates entries in the financial statements. The **Source Code Setup** page contains several FastTabs, one for each application area. Each FastTab contains the source codes that are applicable for that application area.

When you post or run a batch job, the correct source code is automatically attached to the entry. For example, when you post from the general journal, the entry is coded as *GENJNL*. You can then filter the **General Ledger Entries** page to show which entries were posted from the general journal or from sales documents, for example

### To define source codes

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Source Code Setup**, and then choose the related link.  

2. In the **Source Code Setup** window, for each each posting type and batch job, specify the relevant source code.  

You can change the contents of a field later, and that change will then impact future postings.

## Change source codes

You may want to change a source code. For example, you want to change the source code *GENJNL* to *GNJ*.

### To change source codes

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Source Codes**, and then choose the related link.

2. On the line with the code to be changed, select the code in the **Code** field.

3. Enter the new code, and then choose the **Yes** button. You can also change the contents of the **Description** field.

All new entries that are posted from the general journal will have the new source code.

## Define reason codes

Reason codes supplement the source codes and are used to indicate why an entry was created. You can assign reason codes on individual entries, and you can assign permanent codes to specific journal templates and journal batches. When a reason code is linked to a journal line or a sales or purchase header, all entries are marked with the reason code when they are posted.  

### To set up reason codes

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon")  icon, enter **Reason Codes**, and then choose the related link.

2. In the **Reason Codes** window, enter the first code in the **Code** field. In the **Description** field, enter an explanatory text.

Repeat the procedure for each code you want to use. You can set up any number of codes.

The following procedure describes how to add a reason code to a journal template, but similar steps apply to adding a reason code to a journal line or journal batch.  

### To assign reason codes to journal templates

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon")  icon, enter **General Journal Templates**, and then choose the related link.

2. On the line with the selected journal template, in the **Reason Code** field, specify the relevant code.

3. Close the journal template.

The selected reason code will be copied to new journal batches created under this journal template. You assign reason codes to journal templates in the other application areas in the same way.

### To use reason codes on sales and purchase documents

1. Open the relevant sales or purchase document.

2. On the sales or purchase header, enter the code in the **Reason Code** field.

When the invoice is posted, the reason code is copied to each general ledger, customer, and vendor entry. You cannot assign different reason codes to the individual purchase and sales lines because all lines are posted as one entry.

## See Also

[Finance](finance.md)  
[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Work with Dimensions](finance-dimensions.md)  
[Importing Business Data from Other Finance Systems](across-import-data-configuration-packages.md)  
[Analyzing Cash Flow in Your Company](finance-analyze-cash-flow.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-enable-payment-service-extensions
---
title: Enable Customer Payments with Payment Services
description: Make it easier for customers to pay their invoices by enabling customer payments through payment services.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: online payment
ms.search.forms: 1060, 1061, 1062
ms.date: 06/25/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Enable Customer Payments Through Payment Services

As an alternative to collecting payments through bank transfer or credit cards, your customers can pay you through their account with payment services, such as PayPal or WorldPay.  

After you enable a payment service in [!INCLUDE[prod_short](includes/prod_short.md)], a link to the service is available on sales documents that you send by email to your customers. Customers can use the link to go to the payment service and pay the bill, directly from the sales document. If you don't want to include the link, for example, if a customer will pay with cash, you can remove the payment service from the invoice before posting.  

The PayPal Payments Standard and WorldPay Payments Standard extensions are installed in [!INCLUDE[prod_short](includes/prod_short.md)], and are ready for you to enable.  

> [!CAUTION]
> The WorldPay Payments Standard extension will be deprecated. The code is market as obsolete starting in 2023 release wave 2. The app will be active for the next three major releases and then it will be removed.   

## To enable a payment service in [!INCLUDE[prod_short](includes/prod_short.md)]

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Services**, and then choose the related link.  
2. On the **Payment Services** page, choose the **New** action.  
3. Select the payment service, and then close the page.  
4. On the **Payment Services** page, choose the **Setup** action.  
5. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
6. Close the page.  

## To select a payment service on a sales invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, and then choose the related link.  
2. Open the sales invoice that you want to pay by using the payment service.  
3. In the **Payment Service** field, choose the payment service.  

    > [!NOTE]  
    > The **Payment Service** field is available only if you've enabled the payment service.  

## See also

[Setting Up Sales](sales-setup-sales.md)  
[Sales](sales-manage-sales.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-bookings
---
title: Invoice your bookings in Business Central
description: This topic explains learning how you can perform bulk invoicing from Microsoft Bookings in Business Central.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: invoicing, bookings
ms.search.form: 1638, 6702, 6704
ms.date: 05/20/2022
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Bulk Invoicing for Microsoft Bookings in [!INCLUDE[prod_short](includes/prod_short.md)]

If your company uses the Bookings app in Microsoft 365, you can do bulk invoicing for appointments. The **Bookings Not Invoiced** page in [!INCLUDE[prod_short](includes/prod_short.md)] provides a list of the company's completed bookings. In this page you can quickly select the appointments that you want to invoice and create draft invoices for the services provided.  

## Connect to Bookings

To connect your [!INCLUDE[prod_short](includes/prod_short.md)] with Bookings, you must specify your Bookings company, what to synchronize with Bookings, how often to synchronize, and which templates to use. You set up this information on the **Booking Sync. Setup** page, which you can launch from the **Exchange Sync. Setup** page, which you can find through [Search](ui-search.md).  

For example, if you want to synchronize customers between Bookings and [!INCLUDE[prod_short](includes/prod_short.md)], you must specify the default template to use to add new customers in [!INCLUDE[prod_short](includes/prod_short.md)] based on the customers in your Bookings company.  

> [!NOTE]
> The Bookings app is designed to book appointments for individual customers rather than companies. The synchronization with [!INCLUDE[prod_short](includes/prod_short.md)] will, therefore, only synchronize customer contacts with a Type of *Person*. An email address is also required for the contact to synchronize.  

Similarly, if you want to synchronize service items between Bookings and [!INCLUDE[prod_short](includes/prod_short.md)], you must specify the default template to use to add new service items in [!INCLUDE[prod_short](includes/prod_short.md)] based on the services in our Bookings company.  

> [!NOTE]
> Only items of type *Service* will synchronize between Bookings and [!INCLUDE[prod_short](includes/prod_short.md)]. The template that you set up in the **Configuration Templates** page so it can be used for the item synchronization must define the type as *Service*.

## Invoice Appointments

When it is time to send invoices for the completed bookings, you go to the **Bookings Not Invoiced** page. Depending on how often the information is synchronized, the list is long or short. You can create invoices for all bookings in the list or one booking at a time. You can select one or more entries in the list and invoice those only.  

The support for invoicing appointments from Bookings is simpler than the fuller workflow of working with sales quotes, sales orders, and sales invoices. For more information, see [Invoice Sales](sales-how-invoice-sales.md). You can choose to sell your services using [!INCLUDE[prod_short](includes/prod_short.md)] or choose to use Bookings, depending on your business needs.  

> [!NOTE]
> In May 2022, we discovered an issue in the integration with Bookings. Currently, the sync from Bookings to [!INCLUDE [prod_short](includes/prod_short.md)] requires you to manually associate the invoices with customers in [!INCLUDE [prod_short](includes/prod_short.md)].

## See Also

[Finance](finance.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Microsoft Bookings](https://products.office.com/business/scheduling-and-booking-app)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-analyze-excel
---
title: Work with financial overviews in Excel (legacy)
description: Learn about how you can open the financial statements in Microsoft Excel from Business Central for better analysis.
author: brentholtorf
ms.topic: overview
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 9027,
ms.date: 02/13/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Analyzing financial statements in Microsoft Excel (obsolete)

> [!NOTE]
> This feature is deprecated and will be removed in a later [!INCLUDE [prod_short](includes/prod_short.md)] release. Learn more in [Deprecated features in the base app](/dynamics365/business-central/dev-itpro/upgrade/deprecated-features-w1). Learn more about alternative finance reporting in [Financial analytics overview](bi.md).

[!INCLUDE [prod_short](includes/prod_short.md)] provides KPIs and get overviews of your company's finances. The following are examples of ways to analyze KPIs and overviews in Excel:

* Open lists in Excel and analyze the data.
* Export heavy financial statements such as your balance sheet or income statement to Excel, analyze the data, and print the reports.  

> [!TIP]
> By default, the reports you can view in Excel are designed to help you analyze the current year. The Income Statement report is an exception, however. That report lets you filter the data to include previous years in your analyses.

## Get the overview and the details in Excel

In the Business Manager and Accountant Role Centers, the **Reports** action lets you choose the financial statements to view in Excel. When you choose a statement, it will be opened in Excel or Excel Online. An add-in connects the data to [!INCLUDE [prod_short](includes/prod_short.md)]. However, you have to sign in with the same account that you use with [!INCLUDE [prod_short](includes/prod_short.md)]. The following table lists the reports and where they're available.  

|Report  |Role Center  |
|---------|---------|
|Balance Sheet                 | Business Manager, Accountant |
|Income Statement              | Business Manager, Accountant |
|Statement of Cash Flows       | Business Manager, Accountant |
|Statement of Retained Earnings| Business Manager, Accountant |
|Sales Taxes Collected         | Business Manager, Accountant |
|Customer Statements           | Business Manager, Accountant |
|Aged Accounts Payable         | Accountant |
|Aged Accounts Receivable      | Accountant |

Let's say you want to dig deeper into your cash flow. From the Business Manager or Accountant Role Center, you can open the **Statement of Cash Flows** report in Excel, but what actually happens is that we export the relevant data for you and create an Excel workbook based on a predefined template. Depending on your browser, you might be prompted to open or save the workbook.  

In Excel, you see a tab where the data is laid out for you on the first worksheet. All the data that was exported is also present in other worksheets in case you need it. You can print the report right away, or you can modify it until you have the overview and the details that you want. Use the [!INCLUDE [prod_short](includes/prod_short.md)] Excel Add-in to further filter and analyze data.  

### Understand the Excel templates

The predefined Excel reports are based on the data in the current company. For example, the demonstration company has set up the chart of accounts to list three cash accounts under *Current Assets*: 10100 **Checking account**, 10200 **Saving account**, and 10300 **Petty Cash**. The accounts have the **Account Subcategory** field set to *Cash*, and it's their combined amount that shows up as *Cash* in the **Balance Sheet** Excel report.  

Other sheets in the Excel workbook show the data behind the report. To find out what's behind the groupings in the Excel reports, you might have to filter the lists in [!INCLUDE [prod_short](includes/prod_short.md)].  

## The [!INCLUDE [prod_short](includes/prod_short.md)] Excel add-in

Your [!INCLUDE [prod_short](includes/prod_short.md)] experience includes an add-in for Excel. Depending on your subscription, you're signed in automatically, or you must provide your sign-in details for [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Viewing and Editing in Excel From Business Central](across-work-with-excel.md).  

The add-in lets you get fresh data from [!INCLUDE [prod_short](includes/prod_short.md)], and you can push changes back to [!INCLUDE [prod_short](includes/prod_short.md)]. However, the ability to push data back to the database is not available for the financial reports you can view in Excel.  

## Alternative to obsolete reports

Explore other ways to analyze your finance data. Learn more in [Financial analytics overview](bi.md).

## Related information

[Financial analytics overview](bi.md)  
[Viewing and Editing in Excel From Business Central](across-work-with-excel.md)  
[Finance overview](finance.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-manage-documents
---
title: Manage storage by deleting documents or compressing data
description: Learn how to deal with accumulating historic documents (and reduce the amount of data stored in a database) by deleting or compressing them.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 107, 9035, 9040
ms.date: 04/16/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Manage storage by deleting documents or compressing data

A central role, such as the application administrator, must regularly deal with accumulating historic documents by deleting or compressing them.  

> [!TIP]
> Learn more about other ways to reduce the amount of data stored in a database by reading [Reducing Data Stored in Business Central Databases](/dynamics365/business-central/dev-itpro/administration/database-reduce-data) in our Developer and IT pro documentation.

## Delete documents

In certain situations, you might need to delete invoiced purchase orders. However, you can't delete them unless you fully invoice and received the items in the purchase orders. [!INCLUDE[prod_short](includes/prod_short.md)] helps you out by checking for that.

Businesses usually delete return orders after they're invoiced. When you post an invoice, [!INCLUDE [prod_short](includes/prod_short.md)] transfers it to the **Posted Purchase Credit Memo** page. If you selected the **Return Shipment on Credit Memo** check box on the **Purchases & Payable Setup** page, the invoice is transferred to the **Posted Return Shipment** page. You can delete the documents using the **Delete Invd Purch. Ret. Orders** batch job. Before it deletes documents, the batch job checks whether the purchase return orders are fully shipped and invoiced.  

Blanket purchase orders aren't automatically deleted after you process and invoice all the related purchase orders. Instead, you can delete them with the **Delete Invoiced Blanket Purchase Orders** batch job.  

Businesses typically delete invoiced service orders automatically after they're fully invoiced. When an invoice is posted, a corresponding entry is created and can then be viewed on the **Posted Service Invoices** page.  

Service orders aren't deleted automatically, however, if the total quantity on the order was posted from the **Service Invoice** page rather than from service order itself. You might need to manually delete such invoiced orders by running the **Delete Invoiced Service Orders** batch job.  

## Compress data with date compression

You can compress data in [!INCLUDE [prod_short](includes/prod_short.md)] to save space in the database&mdash;which in [!INCLUDE [prod_short](includes/prod_short.md)] online can even save you money. The compression, based on dates and functions, combines several old entries into one new entry.

You can compress entries that meet all of the following conditions:

* They're from closed fiscal years.
* The **Open** field is set to **No**.
* They're at least five years old. If you want to compress data less than five years old, contact your Microsoft partner.

So, for example, vendor ledger entries from previous fiscal years can be compressed so there's only one credit and one debit entry per account per month. The amount in the new entry is the sum of all the compressed entries. The date assigned is the starting date for the compressed period, such as the first day of the month (if you compress entries by month). After compression, you can still see the net change for each account in the previous fiscal year.

The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and which period length you choose. There's always at least one entry. When the batch job is finished, you can see the result on the **Date Compr. Registers** page.

You can compress the following data types using batch jobs.

* Finance entries - general ledger (G/L) entries, value added tax (VAT) entries, bank account ledger entries, G/L budget entries, customer ledger entries, and vendor ledger entries.
* Warehouse entries
* Resource entries
* Item budget entries
* Fixed asset (FA) ledger entries, FA maintenance ledger entries, and FA insurance ledger entries.

When you're defining criteria for the compression, you can keep the contents of certain fields using the options under **Retain Field Contents**. The available fields depend on the data you're compressing.

> [!NOTE]
> Before you can run date compression, your analysis views must be current. Learn more in the [Update an analysis view](bi-how-analyze-data-dimension.md#update-an-analysis-view) section.

After the compression, the contents of the following fields are always retained: **Posting Date**, **Vendor No.**, **Document Type**, **Currency Code**, **Posting Group**, **Amount**, **Remaining Amount**, **Original Amt. (LCY)**, **Remaining Amt. (LCY)**, **Amount (LCY)**, **Purchase (LCY)**, **Inv. Discount (LCY)**, **Pmt. Disc. Given (LCY)**, and **Pmt. Disc. Possible**.

## Posting compressed entries

Compressed entries are posted a little differently than standard posting. This difference is to reduce the number of new general ledger entries created by date compression, and is especially important when you keep information such as dimensions and document numbers. Date compression creates new entries as follows:

* On the **General Ledger Entries** page, new entries are created for the compressed entries. The **Description** field contains **Date Compressed** so the compressed entries are easy to identify. 
* On ledger pages, such as the **Customer Ledger Entries** page, one or more new entries are created. 

The posting process creates gaps in the number series for entries on the **General Ledger Entries** page. Those numbers are assigned to the entries on the ledger pages only. The number range assigned to the entries is available on the **G/L Register** page in the **From Entry No.** and **To Entry No.** fields. 

> [!NOTE]
> After you run date compression, you can't reverse vendor or bank ledger entries for any transactions that are affected by the compression.

The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and the length of the time period you choose. There's always at least one entry.

> [!WARNING]
> Date compression deletes entries, so you should always make a backup copy of the database before you run the batch job.

### To run a date compression

1. Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Data Administration**, then choose the related link.
2. Do one of the following, depending on your needs:
    * To use an assisted guide to set up date compression for one or more types of data, choose **Data Administration Guide**.
    * To set up compression for an individual type of data, choose **Data Compression**, **Compress Entries**, then choose the data to compress.

   > [!NOTE]
   > You can only compress data more than five years old. If you want to compress data less than five years old, contact your Microsoft partner. They need to use the `OnSetMinimumNumberOfYearsToKeep` event in the "Date Compression" codeunit to set the threshold.


## See also

[Administration](admin-setup-and-administration.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-how-setup-user-defined-depreciation-method
---
title: Set Up FA User-Defined Depreciation Method
description: In Business Central, you can apply a user-defined depreciation method for defining your asset's depreciation method on the Fixed Asset Card page.
author: jill-kotel-andersson
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: user-depreciation
ms.date: 07/05/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
---

# Set Up Fixed Assets with User-Defined Depreciation Methods

You can use [!INCLUDE[prod_short](includes/prod_short.md)] to set up the user-defined depreciation methods as described here.

For each user-defined method, you use the **Depreciation Tables** page, where you must enter a depreciation percentage for each period (month, quarter, year, or accounting period). Then, when you assign a depreciation book with a user-defined method to a fixed asset, you must set the **First User-Defined Depr. Date** and **Depreciation Starting Date** fields on the **FA Depreciation Books** page for the specific fixed asset.  

The formula for calculating the depreciation amounts is:  

*Depreciation Amount = (Depreciation % x Number of Depreciation Days x Depr. Basis) / (100 x 360)*


> [!NOTE]  
> While the date in the field **First User-Defined Depr. Date** is used to determine the time intervals, it is the **Depreciation Starting Date** that is used to determine the number of depreciation days. If the **First User-Defined Depr. Date** is earlier than the **Depreciation Starting Date**, the percentage for the first period in the depreciation table will be only partially used when the program calculates the first depreciation. This means that the asset will not be completely depreciated by the end of the last period.

## To assign a depreciation book to a fixed asset with a user-defined depreciation method

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.
2. Select the fixed asset that you want to set up a fixed asset depreciation book for.
3. Choose the **Related** action, and then choose **Fixed Asset**, and then **Depreciation Books**. This opens the **FA Depreciation Books** page.

   By default, some of the fields that need to be filled in per the instructions below are hidden, so you must display them. To do this you need to personalize the page. For more information, see [To start personalizing a page through the Personalizing banner](ui-personalization-user.md#start-personalizing-by-using-the-personalization-mode).
4. In the field **Depreciation Method**, select **User-Defined**.
5. In the field **Depreciation Table Code**, select the **Depreciation Table** you want to use.
6. In the field **Depreciation Starting Date**, select the starting date for the depreciation calculation.
7. When you use a user-defined method, the **First User-Defined Depr. Date** field must be set to a date that is the same or earlier than the field **Depreciation Starting Date**. If you have selected a value in the **Period Length** field in the depreciation table, the date in the field **First User-Defined Depr. Date** must be the starting date of an accounting period.
8. Either fill in the field **No. of Depreciation Years** or the field **Depreciation Ending Date**. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)] 

## To set up user-defined depreciation methods

On the **Depreciation Table** page, you can set up user-defined depreciation methods. For example, you can set up depreciation based on number of units.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Tables**, and then choose the related link.  
2. On the **Depreciation Table List** page, choose the **New** action.  
3. On the **Depreciation Table Card** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

> [!TIP]
> Use the **Create Sum of Digits Table** function to define a depreciation table based on the *Sum of Digits* method.

With the *Sum of Digits* method, if a fixed asset is depreciated over 4 years, then the depreciation for each year is calculated in the following way:

Sum of Digits = 1 + 2 + 3 + 4 = 10
Depreciation:

* Year 1 = 4/10  
* Year 2 = 3/10  
* Year 3 = 2/10  
* Year 4 = 1/10  

### Depreciation Based on Number of Units

This user-defined method can also be used to depreciate based on number of units, for example, in the case of production machines with an established lifetime capacity. On the **Depreciation Tables** page, you can enter the number of units that can be produced in each period (month, quarter, year,or accounting period).  

### Example - User-defined Depreciation

You use a depreciation method that allows you to depreciate assets in an accelerated manner for income tax purposes.  

You would use the following depreciation rates for a fixed asset with a three-year lifetime for tax purposes:  

* Year 1: 25%  
* Year 2: 38%  
* Year 3: 37%  

The acquisition cost is LCY 100,000, and the depreciable lifetime is five years. Depreciation is calculated annually.  

| Date | FA Posting Type | Days | Amount | Book Value |
| --- | --- | --- | --- | --- |
| 01/01/20 |Acquisition Cost |(Depreciation starting date) |100,000.00 |100,000.00 |
| 12/31/20 |Depreciation |360 |-25,000.00 |75,000.00 |
| 12/31/21 |Depreciation |360 |-38,000.00 |37,000.00 |
| 12/31/22 |Depreciation |360 |-37,000.00 |0 |
| 12/31/23 |Depreciation |None |None |0 |
| 12/31/24 |Depreciation |None |None |0 |

In the previous example, both the **First User-Defined Depr. Date** and **Depreciation Starting Date** fields would be set to 01/01/20 in the **FA Depreciation Books** page for the specific fixed asset. If, however, the **First User-Defined Depr. Date** field contained 01/01/20 and the **Depreciation Starting Date** field contained 04/01/20, the result would be:  

| Date | FA Posting Type | Days | Amount | Book Value |
| --- | --- | --- | --- | --- |
| 01/01/20 |Acquisition Cost |(Depreciation starting date) |100,000.00 |100,000.00 |
| 12/31/20 |Depreciation |270 |-18,750.00 |81,250.00 |
| 12/31/21 |Depreciation |360 |-38,000.00 |42,250.00 |
| 12/31/22 |Depreciation |360 |-37,000.00 |6,250.00 |
| 12/31/23 |Depreciation |90 |-6,250.00 |0 |
| 12/31/24 |Depreciation |None |None |0 |


## See Also
[Setting Up Fixed Assets](fa-setup.md)  
[Fixed Assets](fa-manage.md)  
[Set Up Fixed Asset Depreciation](fa-how-setup-depreciation.md)  
[Depreciation Methods for Fixed Assets](fa-depreciation-methods.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-onedrive-overview
---
title: Business Central and OneDrive for Business Integration
description: You can use OneDrive for Business to store, manage, and share files, such as reports or file attachments. Also if you spell it One Drive. 
author: jswymer
ms.topic: overview
ms.search.keywords:
ms.date: 06/13/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Business Central and OneDrive integration

OneDrive for work or school (formerly known as OneDrive for Business) is a cloud storage service that is included in Microsoft 365. [!INCLUDE[prod_short](includes/prod_short.md)] makes it easy to store, manage, and share files with other people through OneDrive. When a file is in your OneDrive you enjoy the rich collaborative experiences from the online versions of Microsoft products, such as Word, Excel, and PowerPoint. For example, you can share a Word document, and then you and your colleagues can edit it together in real-time. OneDrive also lets you open other types of files, such as PDFs. 

## Get started with OneDrive features

If you're using [!INCLUDE[prod_short](includes/prod_short.md)] online, we've already created the connection between [!INCLUDE[prod_short](includes/prod_short.md)] online and OneDrive, so it's easy to get started. The only requirement is that users have opened OneDrive at least one time. With [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, an administrator has to configure the connection before you can get started. Learn more at [Managing OneDrive Integration with Business Central](admin-onedrive-integration.md).

<!-- We've created the connection between [!INCLUDE[prod_short](includes/prod_short.md)] online and OneDrive, so it's easy to get started. The only requirement is that users have opened OneDrive at least one time. -->

### Open and share in OneDrive

On most pages where files are available, such as the Report Inbox or files that are attached to records, you'll find an **Open in OneDrive** and **Share** actions.

:::image type="content" source="media/onedrive-overview-report-inbox-w-outline.png" alt-text="The Open in OneDrive and Share actions for reports":::


:::image type="content" source="media/one-drive-attachments-w-outline.png" alt-text="The Open in OneDrive and Share actions for attachments":::

|Select...|To...|See more info...|
|---------|-----|----------------|
|Open in OneDrive|Copy the file to a Business Central folder in your OneDrive and open the file.|[Open in OneDrive](across-share-onedrive.md#open-in-onedrive) |
|Share|Copy the file to your OneDrive and share it with other people.|[Share in OneDrive](across-share-onedrive.md#share) |

### Save Excel workbooks and report files in OneDrive

With OneDrive integration set up, a couple other familiar features will automatically use OneDrive for saving files instead of saving files on your device:

- The **Open in Excel** and **Edit in Excel** actions on list pages will automatically copy the Excel file to OneDrive, then open it in Excel Online. For more information, see [Viewing and Editing in Excel](across-work-with-excel.md).
- Sending a report to an Excel or Word file will automatically copy the file to OneDrive, then open it in the Excel or Word online. For more information, see [Saving a report to a file](ui-work-report.md#save-a-report-to-a-file).

These features aren't turned on by default. But as an administrator, you can easily turn them on by using the **OneDrive Setup** assisted setup guide.

<!--
When you use the **Open in OneDrive** action for the first time, [!INCLUDE[prod_short](includes/prod_short.md)] does the following in your OneDrive:

1. Creates a folder named [!INCLUDE[prod_short](includes/prod_short.md)]. 
2. In the [!INCLUDE[prod_short](includes/prod_short.md)] folder, it creates another folder with the same name as the company you're working in. If you work in more than one company, it will create a folder for the company you're working in when you use the **Open in OneDrive** action. 
3. Puts a copy of the file you selected in the folder, and then opens the file. The next time you use the action, it only copies and opens the file. 

The folder and its content are private until you decide to share them with others. For example, you might decide to share content with one or more of your coworkers, or even people outside of your organization. For more information, see [Share OneDrive files and folders](https://support.microsoft.com/office/share-onedrive-files-and-folders-9fcc2f7d-de0c-4cec-93b0-a82024800c07) in the content for OneDrive.
-->

> [!NOTE]
> You can also connect your [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to OneDrive. However, there are a few things to do to make it work. For more information, see [Configuring Business Central On-Premises](admin-onedrive-integration-onpremises.md).

## See also

[Managing OneDrive Integration with Business Central](admin-onedrive-integration.md)  
[Opening Business Central Files in OneDrive](across-share-onedrive.md)  
[OneDrive FAQ](admin-onedrive-faq.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-about-planning-functionality
---
title: About planning functionality
description: Learn how planning uses demand and supply data to suggest how to balance supply to meet demand.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 5430,
ms.date: 02/25/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# About planning functionality

The planning system takes all demand and supply data into account, nets the results, and creates suggestions for balancing supply to meet demand. To learn more, go to [Design Details: Supply Planning](design-details-supply-planning.md).  

> [!TIP]  
> To understand the fields that this article mentions, read their tooltip in [!INCLUDE [prod_short](includes/prod_short.md)]. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Supply and demand

Planning has two elements, supply and demand. These must balance to ensure that the demand is met.  

- Demand is any kind of gross requirement, such as a sales order, service order, or a component need for assembly or production orders, outbound transfer, blanket order, or forecast. Additionally, there other technical types of demand, such as a negative production or purchase order, negative inventory, and purchase return.  
- Supply refers to any kind of replenishment such as inventory, a purchase order, assembly order, production order, or inbound transfer. Correspondingly, there can be a negative sales or service order, negative component need or sales return that also represent supply.  

Another goal of the planning system is to ensure that the inventory does not grow unnecessarily. In the case of decreasing demand, the planning system will suggest that you postpone, decrease in quantity, or cancel existing replenishment orders.  

## Planning calculation

The planning system is driven by anticipated and actual customer demand, as well as inventory reordering parameters. Running the planning calculation will result in application suggesting specific actions ([Action Messages](production-how-to-run-mps-and-mrp.md#action-messages)) to take concerning possible replenishment from vendors, transfers between warehouses, or production. If replenishment orders already exist, the suggested actions could be to increase or expedite the orders to meet the changes in demand.  

The basis of the planning routine is in the gross-to-net calculation. Net requirements drive planned order releases, which are scheduled based on the routing information (manufactured items) or the item card lead time (purchased items). Planned order release quantities are based on the planning calculation, and are affected by the parameters set on the individual item cards.  

> [!TIP]
> The planning system relies on how your organization uses locations. To learn more, go to [Planning With or Without Locations](production-planning-with-without-locations.md).

## Planning with manual transfer orders

In the **Replenishment System** field on a SKU card, you can set up the planning system to create transfer orders to balance supply and demand across locations.  

In addition to such automatic transfer orders, you may sometimes need to perform a general move of inventory quantities to another location, irrespective of existing demand. For this purpose you would manually create a transfer order for the quantity to move. To ensure that the planning system does not try to manipulate this manual transfer order, you must set the **Planning Flexibility** on the transfer line(s) to None.  

Contrarily, if you do want the planning system to adjust the transfer order quantities and dates to existing demand, you must set the **Planning Flexibility** field to the default value, Unlimited.

## Planning parameters

The planning parameters control when, how much, and how to replenish based on the various settings on the item card (or stockkeeping unit - SKU), and the manufacturing setup.  

The following planning parameters exist on the item or SKU card:  

- Dampener Period  
- Dampener Quantity  
- Reordering Policy  
- Reorder Point
- Maximum Inventory  
- Overflow Level  
- Time Bucket  
- Lot Accumulation Period  
- Rescheduling Period  
- Reorder Quantity  
- Safety Lead Time  
- Safety Stock Quantity  
- Assembly Policy  
- Manufacturing Policy  

The following order modifiers exist on the item or SKU card:  

- Minimum Order Quantity  
- Maximum Order Quantity  
- Order Multiple  

Global planning setup fields on the **Manufacturing Setup** page include:  

- Dynamic Low-Level Code  
- Current Demand Forecast  
- Use Forecast on Locations  
- Default Safety Lead Time  
- Blank Overflow Level  
- Combined MPS/MRP Calculation
- Components at Location  
- Default Dampener Period  
- Default Dampener Quantity  
- Default General Business Posting Group

To learn more, go to [Design Details: Planning Parameters](design-details-planning-parameters.md)  

## Other important planning fields

### Planning Flexibility

On most supply orders, such as production orders, you can select **Unlimited** or **None** in the **Planning Flexibility** field on the lines.

This specifies whether the supply represented by the production order line is considered by the planning system when calculating action messages.
If the field contains **Unlimited**, then the planning system includes the line when calculating action messages. If the field contains **None**, then the line is firm and unchangeable, and the planning system does not include the line when calculating action messages.

### Warnings

The **Warning** information field on the **Planning Worksheet** page informs you of any planning line created for an unusual situation with a text, which the user can choose to read additional information. The following warning types exist:

- Emergency
- Exception
- Attention

#### Emergency

The emergency warning displays in two situations:

- The inventory is negative on the planning starting date.
- Back-dated supply or demand events exist.

If an item's inventory is negative on the planning starting date, the planning system suggests an emergency supply order for the negative quantity to arrive on the planning starting date. The warning text states the starting date and the quantity of the emergency order.

Any document lines with due dates before the planning starting date are consolidated into one emergency supply order for the item to arrive on the planning starting date.

#### Exception

The exception warning displays if the projected available inventory drops below the safety stock quantity.

The planning system will suggest a supply order to meet the demand on its due date. The warning text states the item's safety stock quantity and the date on which it is violated.

Violating the safety stock level is considered an exception because it shouldn't occur if the reorder point has been set correctly.

> [!NOTE]
> Supply on planning lines with Exception warnings is normally not modified according to planning parameters. Instead, the planning system only suggests a supply to cover the exact demand quantity. However, you can set the planning run up to respect certain planning parameters for planning lines with certain warnings. To learn more, go to the description for the **Respect Planning Parameters for Exception Warnings** field in the [Run Full Planning, MPS or MRP](production-how-to-run-mps-and-mrp.md) article.

#### Attention

The attention warning displays in two situations:

- The planning starting date is earlier than the work date.
- The planning line suggests to change a released purchase or production order.

> [!NOTE]
> In planning lines with warnings, the **Accept Action Message** field is not selected, because the planner is expected to further investigate these lines before carrying out the plan.

## Planning worksheets and requisition worksheets

As described in [Planning](production-planning.md), you can choose between two worksheets for most planning activities, the planning worksheet and the requisition worksheet. Most processes are described based on the planning worksheet, but there are a couple of scenarios where the requisition worksheet is preferred.

[!INCLUDE [edit-in-excel](includes/edit-in-excel.md)]

> [!TIP]
> When you process lines in a planning worksheet, you can print more than one firm planned orders. The **Prod. Order** option in the **Report Selection - Production Order** page determines which report to print. The default report is **99000762 Prod. Order - Job Card**. If your production orders lack routing lines or you prefer a more compact report, consider switching to the **5500 Prod. Order Comp. and Routing** report.

### Requisition worksheet

The **Requisition Worksheet** page lists items that you want to order. You can enter items in the worksheet in the following ways:

- Enter the items manually in the worksheet and fill in the relevant fields.
- Use the **Calculate Plan** batch job. This calculates a replenishment plan for items and stockkeeping units that have been set up with a replenishment system of **Purchase** or **Transfer**. When you use this batch job, the program automatically fills in the **Action Message** field with a suggestion for an action you can take to replenish the item. This could be increasing the item quantity on an existing order or creating a new order, for example.
- If you have used the **Calculate Plan** batch job from the **Planning Worksheet** page to calculate a replenishment plan, you can use the **Carry Out Action Message** batch job to copy purchase and transfer order proposals from the planning worksheet to the requisition worksheet. This is practical if separate users are responsible for handling production orders and purchase/transfer orders.
- You can use the **Drop Shipment** action to fill in the requisition worksheet lines. This action uses the **Get Sales Orders** batch job to determine the sales order lines that you want to designate for a drop shipment.
- You can use the **Special Order** action to fill in the requisition worksheet lines. This action uses the **Get Sales Orders** batch job to determine the sales order lines that you want to designate for a special order.

Requisition worksheet lines contain detailed information about the items that need to be reordered. You can edit and delete the lines to adjust your replenishment plan, and you can further process the lines by using the **Carry Out Action Message** batch job.

To learn more about planning with locations and transfers, go to [Planning With or Without Locations](production-planning-with-without-locations.md).

> [!TIP]
> When you're working on the **Requisition Worksheet** or **Planning Worksheet** pages, you can organize the lines by sorting on a column name. This is especially useful on the Planning Worksheet page because they it can be used for multilevel production orders. By default, lines are sorted by the **Item No.** field. To group lines for a multilevel order, sort by the **Ref. Order No.** field. Also, the **MPS Order** and **Planning Level** fields can help show the hierarchy of the lines.

## Related information

[Design Details: Supply Planning](design-details-supply-planning.md)  
[Planning](production-planning.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Setup Best Practices: Supply Planning](setup-best-practices-supply-planning.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/project-reports
---
title: Project Reports
description: See which project reports are available in the standard version of Business Central so that you can keep track of your business.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: Report_1006, Report_1007, Report_1008, Report_1009, Report_1010, Report_1011, Report_1012, Report_1013, Report_1014, Report_1015, Report_1101, Report_1103, Report_1105, Report_1106, Report_1107
ms.date: 06/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Project Reports in Business Central

Project reporting in [!INCLUDE [prod_short](includes/prod_short.md)] allows project and business professionals to get insights and statistics about current and past project activities.  

## Explore project reports with Report Explorer

[!INCLUDE [report-explorer-projects](includes/report-explorer-projects.md)] 

## Project report overview

[!INCLUDE [project_reports](includes/project-reports-include.md)]

## See also

[Project management analytics overview](projects-analytics-overview.md)  
[Project management overview](projects-manage-projects.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/payables-reports
---
title: Accounts payables analytics
description: See which analytics options are available in Business Central so that you can keep track of your accounts payable.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 347, Report_33, Report_301, Report_304, Report_305, Report_312, Report_317, Report_319, Report_321, Report_322, Report_329
ms.date: 07/15/2024
ms.service: dynamics-365-business-central
---
# Accounts payable analytics

[!INCLUDE [prod_short](includes/prod_short.md)] has built-in reports and analytics that can help you manage your accounts payable. The tools go beyond traditional reporting constraints to help you efficiently design various types of reports, such as Power BI, Data Analysis, or Excel.  

## Analyze accounts payable with Power BI

The [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] has multiple reports that are relevant in accounts payable.

:::image type="content" source="media/finance/aged-payables-report.png" alt-text="Screenshot of the Aged Payables (Back Dating) report" lightbox="media/finance/aged-payables-report.png":::

| To... | Open in Business Central (CTRL+select) | Learn more |
| ----- | ---------------------------------------- | ---------- |
| [!INCLUDE [pbireport-aged-payables-back-dating-include](includes/pbireport-aged-payables-back-dating-include.md)] | [Aged Payables (Back Dating)](https://businesscentral.dynamics.com?page=36994) | [About Aged Payables (Back Dating)](finance-powerbi-aged-payables-back-dating.md) |
| [!INCLUDE [pbireport-detailed-vendor-ledger-entries-include](includes/pbireport-detailed-vendor-ledger-entries-include.md)] | [Detailed Vendor Ledger Entries](https://businesscentral.dynamics.com?page=36996) | [About Detailed Vendor Ledger Entries](finance-powerbi-detailed-vendor-ledger-entries.md) |

To learn more, go to [Power BI finance app](finance-powerbi-app.md).

## Analyze accounts payable with Data Analysis

You can use Data Analysis on the **Vendor Ledger Entries** page to see what you owe your vendors, possibly broken down into time intervals for when amounts are due. 

:::image type="content" source="media/data-analysis-vendor-ledger-entries.png" alt-text="Example of how to do data analysis on the Vendor Ledger Entries page." lightbox="media/data-analysis-vendor-ledger-entries.png":::

To learn more, go to [Using data analysis to analyze accounts payable](ad-hoc-analysis-finance.md#example-finance-accounts-payable).

## Explore finance reports with Report Explorer

[!INCLUDE [finance_reports_report_explorer](includes/finance-reports-report-explorer-include.md)]

## Accounts payable report overview

[!INCLUDE [payables_reports](includes/payables-reports-include.md)]

## Analyze your payment practice

You can use the [Payment Practice](https://businesscentral.dynamics.com?page=687) page to show how quickly you pay your vendors. You can base the report on a specific period, or by the size of the vendor company in terms of its number of employees. Some countries require this report. 

For more information, go to the [Payment practices page](ui-payment-practices.md).


## See also

[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Payment practices page](ui-payment-practices.md)  
[Purchasing analytics](purchasing-analytics-overview.md)  
[Financial analytics](bi.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/reports-saving-reusing-settings
---
title: Manage Saved Settings for Reports and Batch Jobs
description: Describes hwo the admin can set up predefined options and filters for a report and share those settings with one or all users.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: customization, personalization
ms.date: 12/21/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Manage Saved Settings for Reports and Batch Jobs

When running reports, users are typically presented with a page that lets them select options and set filters to change the data that is included in the generated report. This page is called the *request page*. A report can include one or more *saved settings* that users can apply to the report from the request page. *Saved settings* are basically predefined options and filters. Using saved settings is a fast and reliable way to consistently generate reports that contain the correct data. For more information, see [Use saved settings](ui-work-report.md#SavedSettings).

> [!NOTE]
> This topic refers to *reports*, but similar information applies to *batch jobs*.

If you have the proper permissions, you can view, create, and modify the saved settings for all reports for all users in a company. You can assign saved settings for a report to individual users or to all users in the company.

## Manage saved settings

You manage saved settings on the **Reports Settings** page. There are two ways to open this page:

- Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Settings**, and then choose the related link.
- In a report's request page, choose the lookup in the **Use default values from** field, and then choose the **Select from full list** action.

    This field is only visible if you have run the report at least once earlier. The list will only show settings that are available to you, either because they are your own settings, or because the settings are shared with you.

The **Report Settings** page displays all the existing saved settings entries for all users. If there is a user name in the **Assigned to** field, only that user can use the saved settings for the associated report. If there is a check mark in the **Share with all users** field, all users can use the saved settings for the report.  

> [!TIP]
> When a user has run a report that supports shared settings, their settings are saved and added to this list. In most cases, the admin can then edit those settings and choose to share the settings with all users.
>
> However, in some cases, settings cannot be shared, and the admin cannot change them either. Most batch jobs do not support shared settings.  

## Create or modify saved settings for all users

From the **Report Settings** page, you can:

- Choose the **New** action to create a new saved settings entry from scratch.
- Select a saved settings entry from the list, and choose the **Copy** action to create a copy.
- Select a saved settings entry from the list, and choose the **Edit** action to modify a saved settings entry.

> [!Important]
> Consider the name that you give a saved settings entry. If you create a saved settings entry for all users, and you give it the same name as an existing saved settings entry that is assigned to a specific user only, then that user will not be able to use the saved settings entry that is assigned to everyone.  In the **Saved Settings** section on the request page, the user will see two saved settings entries with the same name. However, no matter which option they choose, the user-specific saved settings entry will be used.

> [!NOTE]
> The ability to save settings is available only on reports where the [SaveValues property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-savevalues-property) of the report's request page is set to **Yes**. The **SaveValues** property is set by the developer.  

## See Also

[Work with Reports, Batch Jobs, and XMLports](ui-work-report.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-use-statistical-accounts
---
title: Use Statistical Accounts to Analyze Non-Transactional Data
description: Describes how to use statistical accounts as another source of data for your analyses.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 03/07/2023
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, financial report
ms.search.form: 2632_Primary, 2631, 2633, 2623, 2634
ms.service: dynamics-365-business-central
---
# Analyze Data with Statistical Accounts

Use statistical accounts to supplement information in financial reports. Statistical accounts let you add metrics that are based on non-transactional data. You add the non-transactional data as number-based units, such as:

* Employee headcount
* Square footage
* The number of customers with overdue accounts

For example, you can measure revenue or costs based on the number of people in a department. The headcount for the department is the unit for the statistical account. The following image shows an example of a report that uses a statistical account to show revenue per employee.

:::image type="content" source="media/statistical account report example.png" alt-text="An example of a report that includes data from a statistical account.":::

In terms of how they work, statistical accounts are similar to posting accounts. They store transactions that you post using statistical account journals, so that you can use the transactions as data for financial reports. To learn more about financial reports, go to [Prepare Financial Reporting with Financial Data and Account Categories](bi-how-work-account-schedule.md). 

There are a couple of key differences between statistical accounts and posting accounts. Statistical accounts are separate entities, and aren't included in trial balance reports. Also, you don't need to balance debit and credit amounts when you use statistical account journals to post entries to a statistical account. You just post the amount.

## Set up a statistical account

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Statistical Accounts**, then choose the related link.
1. On the **General** FastTab, fill in the fields. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Post amounts to a statistical account

1. To post the amounts you want to track, on the **Statistical Accounts** page, choose the **Statistical Accounts Journal** action.
1. In the **Posting date** field, enter the last date of the posting period that you want to post amounts for.
1. Optional: If you want to track amounts for a specific document, in the **Document No.** field, enter the document's ID.
1. In the **Statistical Account No.** field, choose the statistical account that you'll post amounts to.
1. In the **Description** field, enter a brief description of what you're measuring.  
1. In the **Amount** field, enter the amount to post. 
1. Optional: If you'll want to include the statistical account in more advanced analyses, specify dimensions in the **Department Code** and **Customergroup Code** fields. To learn more about dimensions, go to [Analyze Data by Dimensions](bi-how-analyze-data-dimension.md).

## Verify statistical account amounts

On the **Statistical Accounts** page, use the **Statistical Accounts Balance** action to verify that the registered amounts are correct for each period.  

## Include the statistical account in a financial report

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.
1. Create a new financial report in one of the following ways:
    1. To start from scratch, choose **New**. To learn more about creating financial reports, go to [Create a new financial report](bi-how-work-account-schedule.md#create-a-new-financial-report).
    1. To use settings from a similar report you already have, choose the report to copy, and then choose the **Copy Financial Report** action. You can edit the settings you copy in your new report.
1. Add the statistical account:
    1. If you're starting from scratch, choose the **Edit Row Definition** action.
    1. To use a row definition from an existing report, choose the report to copy from, and then choose the **Copy Row Definition** action.
1. On the **Row Definition** page, in the **Row No.** field, define where the row will appear in the sequence of rows on the report.
1. In the **Description** field, enter text that indicates what you're measuring.
1. In the **Totaling Type** field, choose **Statistical Accounts**.
1. In the **Totaling** field, choose a statistical account.
1. In the **Row Type** field, choose whether to view the balance on the posting date or the beginning of the posting period, or to show the change to the amount during the period.
1. Fill in the remaining fields. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## See Also

[Prepare Financial Reporting with Financial Data and Account Categories](bi-how-work-account-schedule.md)  
[Financial analytics overview](bi.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-replan-refresh-production-orders
---
title: Replan or refresh production orders directly
description: This article outlines the procedures for how to replan production orders and refresh production orders directly.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 99000842, 99000843, 99000861, 99000862, 99000863
ms.date: 03/18/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Replan or refresh production orders directly

The **Replan** action on production orders is typically used after you add or change components that constitute underlying production orders. The action calculates changes made to components and routings lines, and includes items on lower production BOM levels for which it might generate new production orders.  

Based on the changes to the components and routing lines, the **Replan** action calculates and plans for any new demand for the production order.  

The **Refresh** action on production orders is typically used after you:

- Create a production order header manually to calculate and create line data for the first time.
- Change the production order header to recalculate all the line data.

The **Refresh** action calculates changes to a production order header and doesn't involve production BOM levels. The action calculates and initiates the values of the component lines and routing lines based on the production BOM and routing. The calculation is according to the order quantity and due date on the production order’s header.

You can either insert the production order lines manually or use the action that calculates the production order lines from the header.  

> [!NOTE]
> If you use the **Refresh** action to recalculate production order lines, [!INCLUDE [prod_short](includes/prod_short.md)] deletes the existing production order lines and calculates new lines.
> Even if the **Lines** option is disabled, non-top-level lines in a Make-to-order environment are deleted. Use the **Replan** action to restore them.

## To replan a production order

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Firm Planned Prod. Orders**, and then choose the related link.  
2. Open the production order you want to replan.  
3. On the **Lines** FastTab, choose the **Lines** action, and then choose the **Components** action.  
4. Add a component that is a produced item or subassembly.  
5. From the production order, choose the **Replan** action.  

    On the **Replan Production Order** page, define how and what to replan.  
6. In the **Scheduling Direction** field, select one of the options in the following table.  

    | Option | Description |
    |--|--|
    | **Back** | Calculates the operation sequence backwards from the earliest possible ending date, defined by due date and/or other scheduled orders, to the latest possible starting date. **Note:**  This default option is relevant in most situations. |
    | **Forward** | Calculates the operation sequence forward from the earliest latest possible starting date, defined by due date and/or other scheduled orders, to the earliest possible ending date. **Note:**  This option is only relevant for expedite orders. |

7. In the **Plan** field, select whether to calculate production requirements for produced items on the production BOM. The following table describes the options.  

    |Option|Description|  
    |----------------------------------|---------------------------------------|  
    |**No Levels**|Don't consider lower level production. This setting only updates the item’s schedule, like refresh.|  
    |**One Level**|Plan for first-level production demand. First-level production orders might be created.|  
    |**All Levels**|Plan for all-level production demand. All-level production orders might be created.|  

8. Select **One Level**, and choose the **OK** button to replan the production order and calculate and create a new underlying production order for the introduced subassembly if it isn't fully available.  

> [!NOTE]  
> Changes implemented with the **Replan** action probably change the capacity need of the production order. You might have to reschedule operations afterwards.  

## To refresh a production order

If you change production order lines, components, or routing lines, you must also refresh the information on the production order. In the following procedure, the components are calculated for a firm planned production order. The steps are similar for routing lines.

1. Choose the ![Lightbulb that opens the Tell Me feature 2.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Firm Planned Prod. Order**, and then choose the related link.  
2. Choose the **New** action. To learn more, go to [Create Production orders](production-how-to-create-production-orders.md).  
3. Choose the **Refresh** action.
4. On the **Refresh Production Order** page, select one of the options in the following table.

    |Field|Option|Description|  
    |----------------------------------|---------------|---------------------------------------|  
    |**Scheduling Direction**|**Forward**|Scheduling starts from the starting date and proceeds forward to the finishing date. You must fill in the starting date to use this option.|  
    ||**Backward**|Scheduling starts from the ending date and proceeds backward to the starting date.|  
    |**Calculate**|**Lines**|Select this field to calculate the production order lines.|  
    ||**Routings**|This field doesn't affect the calculations on production lines.|  
    ||**Component Need**|This field doesn't affect the calculations on production lines.|  
    |**Warehouse**|**Create Inbound Request**|This field doesn't affect the calculations on production lines.|  

5. Choose the **OK** button to confirm your selection. The production order lines are calculated.

> [!NOTE]  
> Calculating production order components deletes previous changes in the components.

## Reschedule production orders within a safety lead time

If you discover that you need the supply before the due date that planning set, you can manually reschedule the production order. To do that, you must turn on the **Manual Scheduling** toggle on the **Manufacturing Setup** page. If needed, in the **Safety Lead Time for Manual Scheduling** field, you can also specify an amount of buffer time to add to the end date when you manually reschedule a production order. You can move the due date to the current date or a future date, or change the end date directly by changing the starting date.

## Related information

[Planning](production-planning.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)  
[Setup Best Practices: Supply Planning](setup-best-practices-supply-planning.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/quick-start-reports-and-documents
---
title: Basic reports and documents output quick start
description: Business Central offers built-in templates for reports and documents, with many customization options to adapt them to your company's needs.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: quickstart
ms.search.form: 
ms.date: 05/17/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Basic reports and documents output quick start

To adapt [!INCLUDE[prod_short](includes/prod_short.md)] to your company needs, set and use reports and customized documents suited to your business' processes and visual identity.

## Add your company logo to documents

[!INCLUDE[prod_short](includes/prod_short.md)] has templates set to use your company's logo to save you time customizing documents such as invoices, orders, and statements.

1. Choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) menu, then choose the **Company Information** action.
2. Choose the **Picture** action and then select **Choose**.
3. Select the picture file on your device.

After the image displays in the **Picture** field, you can close the **Company Information** page.

## Run reports

Reports organize information from different sources in [!INCLUDE[prod_short](includes/prod_short.md)] and present it in a readable way that can be easily printed or digitally shared. Reports can be found on the pages they're contextually associated with. For example, the **Items** page lists reports related to inventory levels, purchases, sales, and more.

1. Open the page associated with the requested report, such as the **Items** page.
2. Choose the **Inventory - Top 10 List** report on the **Reports** menu.
3. On the report request page, set filters to narrow down the date range or change the reference unit of measure used in the report.
4. Choose the **Print** action and follow the device's printing steps.
    1. Alternatively, select the **Preview** action to display the report on the screen.

Learn more on filtering data, scheduling reports, and more at [Run and Print Reports](ui-work-report.md).

## Save reports as PDF, Excel, or Word documents

To quickly share reports, you can save [!INCLUDE[prod_short](includes/prod_short.md)] reports directly to PDF, Microsoft Excel, or Microsoft Word documents.

1. Repeat steps 1 to 3 from the [run reports](#run-reports) section above.
2. Choose the **Send to** action.
3. Select the file type, then choose **OK**.
r
The generated report file is automatically saved to your browser's download folder.

### Change report and document layouts

[!INCLUDE[prod_short](includes/prod_short.md)] comes with many built-in layouts for your reports and other generated documents, such as sales invoices. You can use applications like Microsoft Word or Excel to edit the layout templates for documents and reports, as described in the following example:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Layouts**, then choose the related link.
2. On the **Report Layouts** page, choose the **Search** action to select the *StandardSalesInvoice.docx* layout, then choose the **Export Layout** action to download the layout template file.

    A Word document is saved to your device, with the same filename displayed on the **Report Layouts** page.
3. Open the layout file in Microsoft Word and edit the document, for example, by moving the date field (*DocumentDate*) or your logo, or by changing font sizes, then save the file.
4. Back on the **Report Layouts** page, choose the **New Layout** action.
5. On the **Add New Layout for a Report** page, enter a name and description on the **Layout Name** and **Description** fields, respectively, to make the layout easy to find.
6. Select the **Word** option in the **Format Options** field, then choose **OK**.
7. On the **Choose Word Layout** page, select **Choose** to open the edited layout file on your device.
8. Test the new layout by choosing the **Run Report** action.

Learn more about how to customize reports and documents to your business needs at [Report and Document Layouts](ui-manage-report-layouts.md).

## See also

[Use Reports in Daily Work](reports-use-reports.md)  
[Available Reports in [!INCLUDE[prod_short](includes/prod_short.md)]](reports-available-reports.md)  
[Document Report Selection](across-report-selections.md)  
[Business Central Quick Starts](quick-start-business-central.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-how-to-set-up-a-dynamics-crm-connection
---
title: Connect to Microsoft Dataverse
description: Set up a connection between Business Central and Dataverse. Businesses typically create the connection to integrate data with another Dynamics 365 business app.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords:
ms.search.forms: 7200, 7201
ms.date: 02/28/2024
ms.service: dynamics-365-business-central
---
# Connect to Microsoft Dataverse

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

This article describes how to set up a connection between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. Typically, businesses create the connection to integrate and synchronize data with another Dynamics 365 business app, such as [!INCLUDE[crm_md](includes/crm_md.md)].  

## Before you start

There are a few pieces of information to have ready before you create the connection:  

* The URL for the [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment that you want to connect to. If you use the **Dataverse Connection Setup** assisted setup guide to create the connection we'll find your environments. You can also enter the URL of another environment in your tenant.  
* The user name and password of an account that has administrator permissions in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  
* If you have an on-premises [!INCLUDE[prod_short](includes/prod_short.md)] 2020 release wave 1, version 16.5, read the [Some Known Issues](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services) article. You'll have to complete the described workaround before you can create your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].
* The local currencies that each company uses. [!INCLUDE [prod_short](includes/prod_short.md)] companies can connect to a [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment that has a base currency that's different than their local currency. To learn more about how to handle multi-currency setups, go to [Allow for different currencies](#allow-for-different-currencies).

> [!IMPORTANT]
> Your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment must not be in Administration mode. Administration mode will cause the connection to fail because the integration user account for the connection does not have administrator permissions. For more information, see [Administration mode](/power-platform/admin/admin-mode).

> [!Note]
> These steps describe the procedure for [!INCLUDE[prod_short](includes/prod_short.md)] online.
> If you're using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises and aren't using a Microsoft Entra account to connect to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], you must also specify a user name and password of a user account for the integration. This account is referred to as the "integration user" account. If you're using a Microsoft Entra account, the integration user account is not required or displayed. The integration user will be set up automatically and does not require a license.

## Link your Business Central and Dataverse environments

Businesses want to keep their data safe and secure within their privacy boundary, and especially when their business management application integrates with other apps. By linking [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environments, you’ll not only achieve those considerations, but also give your administrators an easier way to create and maintain your integrations with other Dynamics 365 apps.

In the [!INCLUDE [prod_short](includes/prod_short.md)] admin center, you can link your [!INCLUDE [prod_short](includes/prod_short.md)] environment to your [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment. [!INCLUDE [prod_short](includes/prod_short.md)] can use the information from the link to make it easier, and more secure, to integrate with other Dynamics 365 apps, such as Sales and Field Service. For example, the linked [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment URL is available by default on the **Dataverse Connection Setup** page and when you run the **Dataverse Connection Setup** assisted setup guide.

## Allow for different currencies

[!INCLUDE [prod_short](includes/prod_short.md)] companies can connect to a [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment that has a base currency that's different than their local currency.

> [!NOTE]
> Synchronizing multiple currencies requires that you're using a unidirectional synchronization, from [!INCLUDE [prod_short](includes/prod_short.md)] to [!INCLUDE [cds_long_md](includes/cds_long_md.md)].

To learn more about the base currency in [!INCLUDE [cds_long_md](includes/cds_long_md.md)], go to [Transaction Currency (currency) entity](/powerapps/developer/data-platform/transaction-currency-currency-entity). 

To learn more about currencies in [!INCLUDE [prod_short](includes/prod_short.md)], go to [Currencies in Business Central](finance-currencies.md).

To allow for different currencies, before you connect, be sure that you've specified the following settings:

* The base transaction currency setting in [!INCLUDE [cds_long_md](includes/cds_long_md.md)] has the currency code that's specified on the **Currencies** page in [!INCLUDE [prod_short](includes/prod_short.md)].
* There's at least one exchange rate specified for the currency in [!INCLUDE [prod_short](includes/prod_short.md)] on the **Currency Exchange Rates** page.

When you enable the connection to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], [!INCLUDE [prod_short](includes/prod_short.md)] adds its local currency to the **Currency** entity in [!INCLUDE [cds_long_md](includes/cds_long_md.md)]. The local currency uses the exchange rate from the **Currency Factor** field on the **Currency Exchange Rates** page.

Because currency synchronization is unidirectional, from [!INCLUDE [prod_short](includes/prod_short.md)] to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], monetary amounts convert and synchronize as follows:

* If in the [!INCLUDE [cds_long_md](includes/cds_long_md.md)] base currency, amounts convert to the [!INCLUDE [prod_short](includes/prod_short.md)] local currency based on the latest exchange rate synchronized from [!INCLUDE [prod_short](includes/prod_short.md)].
* If in the [!INCLUDE [prod_short](includes/prod_short.md)] local currency, amounts synchronize with the [!INCLUDE [prod_short](includes/prod_short.md)] local currency in one of the additional, non-base currencies in [!INCLUDE [cds_long_md](includes/cds_long_md.md)].

## Set up a connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]

For all authentication types other than Microsoft 365 authentication, you set up your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on the **Dataverse Connection Setup** page. For Microsoft 365 authentication, we recommend that you use the **Dataverse Connection Setup** assisted setup guide. The guide makes it easier to set up the connection and specify advanced features, such as the ownership model and initial synchronization.  

> [!IMPORTANT]
> During the setup of the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], the administrator will be asked to give following permissions to a registered Azure application named [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:
>
> * **Access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] as you** permission is needed so [!INCLUDE[prod_short](includes/prod_short.md)] can, on behalf of administrator, automatically create non-licensed non-interactive [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user, assign security roles to this user and to deploy [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. This permission is used only once during set up of connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  
> * **Have full access to Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** permission is needed so automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user can access [!INCLUDE[prod_short](includes/prod_short.md)] data that will be synchronized.  
> * **Sign in and read your profile** permission is needed to verify user logging in actually has System Administrator security role assigned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].  
>
> By giving consent on behalf of organization, the administrator is entitling the registered Azure application called [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to synchronize data using automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user's credentials.

### To use the Dataverse Connection Setup assisted setup guide

The Dataverse Connection Setup guide can make it easier to connect the applications, and can even help you run an initial synchronization. If you choose to run initial synchronization, [!INCLUDE[prod_short](includes/prod_short.md)] will review the data in both applications and provide recommendations for how to approach initial synchronization. The following table describes the recommendations.

|Recommendation  |Description  |
|---------|---------|
|**Full synchronization**|Data exists only in [!INCLUDE[prod_short](includes/prod_short.md)], or only in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The recommendation is to synchronize all data from the service that has it to the other service.|
|**No synchronization**|Data exists in both applications, and running full synchronization would duplicate the data. The recommendation is to couple records.|
|**Dependency not satisfied**|Data exists in both applications, but the row or table can't be synchronized because it depends on a row or table that has the No synchronization recommendation. For example, if customers can't be synchronized, then data for contacts that depends on the customer data can't be synchronized either.|

> [!IMPORTANT]
> Typically, you only use full synchronization when you're integrating the applications for the first time, and only one application contains data. Full synchronization can be useful in a demonstration environment because it automatically creates and couples records in each application, which makes it faster to start working with synchronized data. However, you should only run full synchronization if you want one row in [!INCLUDE[prod_short](includes/prod_short.md)] for each row in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] for the table mappings. Otherwise, the result can be duplicate records.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.
2. Choose **Set up a connection to Microsoft Dataverse** to start the assisted setup guide.
3. Fill in the fields as necessary.

> [!NOTE]
> If you aren't prompted to sign in with your administrator account, it's probably because pop-ups are blocked. To sign in, allow pop-ups from `https://login.microsoftonline.com`.

### To create or maintain the connection manually

The following procedure describes how to set up the connection manually on the **Dataverse Connection Setup** page. The **Dataverse Connection Setup** page is where you manage integration settings.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.
2. Enter the following information for the connection from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].

    |Field|Description|
    |-----|-----|
    |**Environment URL**|If you own environments in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], we'll find them for you when you run the setup guide. If you want to connect to a different environment in another tenant, you can enter the administrator credentials for the environment and we'll find it. |
    |**Enabled**|Start using the integration. If you don't enable the connection now, the connection settings will be saved but users won't be able to access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] data from [!INCLUDE[prod_short](includes/prod_short.md)]. You can return to this page and enable the connection later.  |

3. In the **Ownership Model** field, choose whether you want a team table in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to own new records, or one or more specific users. If you choose **Person**, you must specify each user. If you choose **Team**, the default business unit will display in the **Coupled Business Unit** field.

    <!--Need to verify the details in this table, are these specific to Sales maybe?  IK: No they are not and no longer relevant 
    Enter the following advanced settings.-->

    <!-- |Field|Description|
    |-----|-----|
    |**[!INCLUDE[prod_short](includes/prod_short.md)] Users Must Map to CDS Users**|If you're using the Person ownership model, specify whether [!INCLUDE[prod_short](includes/prod_short.md)] user accounts must have a matching user accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The **Microsoft 365 Authentication Email** of the [!INCLUDE[prod_short](includes/prod_short.md)] user must be the same as the **Primary Email** of the [!INCLUDE[crm_md](includes/crm_md.md)] user.<br /><br /> If you set the value to **Yes**, [!INCLUDE[prod_short](includes/prod_short.md)] users who don't have a matching [!INCLUDE[crm_md](includes/crm_md.md)] user account won't have [!INCLUDE[prod_short](includes/prod_short.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data directly from [!INCLUDE[prod_short](includes/prod_short.md)] is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] user account.<br /><br /> If you set the value to **No**, all [!INCLUDE[prod_short](includes/prod_short.md)] users will have [!INCLUDE[crm_md](includes/crm_md.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] connection (integration) user.|
    |**Current Business Central Salesperson is Mapped to a User**|Indicates whether your user account is mapped to an account in [!INCLUDE[crm_md](includes/crm_md.md)] double check the name of this field|-->
4. To test the connection settings, choose **Connection**, and then **Test Connection**.  

    > [!NOTE]  
    > If data encryption is not enabled in [!INCLUDE[prod_short](includes/prod_short.md)], you will be asked whether you want to enable it. To enable data encryption, choose **Yes** and provide the required information. Otherwise, choose **No**. You can enable data encryption later. For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in the developer and administration help.  
5. If [!INCLUDE[cds_long_md](includes/cds_long_md.md)] synchronization is not already set up, you will be asked whether you want to use the default synchronization setup. Depending on whether you want to keep records aligned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)], choose **Yes** or **No**.

<!--
## Show Me the Process

The following video shows the steps to connect [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. <br>
  
> [!VIDEO https://learn-video.azurefd.net/vod/player?id=eebe94d1-5ead-4943-b720-ca403d111e9d]

-->

## Customize the match-based coupling

Starting in 2021 release wave 2, an administrator can enter criteria to couple records based on matches. You can start the algorithm for matching records from the following places in [!INCLUDE [prod_short](includes/prod_short.md)]:

* List pages that show records that are synchronized with [!INCLUDE [cds_long_md](includes/cds_long_md.md)], such as the Customers and Items pages.  

    Select multiple records, and then choose the **Related** action, choose **Dataverse**, choose **Coupling**, and then choose **Match-Based Coupling**.

    When you start the match-based coupling process from a master data list, a coupling job is scheduled after you specify the coupling criteria.  
* The **Dataverse Full Synch. Review** page.  

    When the full synchronization process detects uncoupled records in [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE [cds_long_md](includes/cds_long_md.md)], a **Select Coupling Criteria** link appears for the integration table.  

    You can start the **Run Full Synchronization** process from the **Dataverse Connection Setup** and **Dynamics 365 Connection Setup** pages. You can also start it in the **Set up a connection to Dataverse** assisted setup guide when you complete your setup.  

    When you start the match-based coupling process from the **Dataverse Full Synch. Review** page, a coupling job is scheduled after you complete the setup.  
* The **Integration Table Mappings** list.  

    Select a mapping, choose the **Coupling** action, and then choose **Match-Based Coupling**.

    When you start the match-based coupling process from an integration table mapping, a coupling job runs for all uncoupled records in the mapping. You can also select uncoupled records in the list to run the job only for those records.

In all three cases, the **Select Coupling Criteria** page opens so that you can define the relevant coupling criteria. In this page, customize the coupling with the following tasks:

* Choose the fields to use to match [!INCLUDE [prod_short](includes/prod_short.md)] records with [!INCLUDE [cds_long_md](includes/cds_long_md.md)] entities. You can specify whether the match is case-sensitive.  

* Specify whether to synchronize after you couple records. If records use bidirectional mapping, you can also specify what happens if conflicts are listed in the **Resolve Update Conflicts** page.  

* Prioritize the order in which records are searched by specifying a *match priority* for the relevant mapping fields. [!INCLUDE [prod_short](includes/prod_short.md)] will search for a match in ascending order based on the value in the **Match Priority** field. A blank value in the **Match Priority** field equals priority 0, which is the highest priority. Fields with the 0 priority are considered first.  

* Specify whether to create a new entity instance in [!INCLUDE [cds_long_md](includes/cds_long_md.md)] in case no unique uncoupled match can be found by using the match criteria. To activate this capability, choose the **Create New if Unable to Find a Match** action.  

### View the results of the coupling job

To view the results of the coupling job, open the **Integration Table Mappings** page, select the relevant mapping, choose the **Coupling** action, and then choose the **Integration Coupling Job Log** action.  

If records failed to couple, you can choose the value in the **Failed** column to open a list of errors that describe why that happened.  

Typically, coupling fails for the following reasons:

* No matching criteria was defined

    Run the match-based coupling again, but remember to define coupling criteria.

* No match was found for the fields specified in the matching criteria

    Repeat the coupling using different fields.

* Multiple matches were found for several records based on the the fields specified in the matching criteria  

    Repeat the coupling using different fields.

* A match was found, but the record is already coupled to a record in [!INCLUDE [prod_short](includes/prod_short.md)]  

    Repeat the coupling using different fields, or investigate why that [!INCLUDE [cds_long_md](includes/cds_long_md.md)] entity is coupled to the record in [!INCLUDE [prod_short](includes/prod_short.md)].

> [!TIP]
> To help you get an overview over the progress of the coupling, the **Coupled to Dataverse** field shows whether a record is coupled to a [!INCLUDE [cds_long_md](includes/cds_long_md.md)] entity. You can use the **Coupled to Dataverse** field to filter the list of records you're synchronizing.

## Upgrade connections from Business Central online to use certificate-based authentication

> [!NOTE]
> This section is relevant only for [!INCLUDE[prod_short](includes/prod_short.md)] online tenants that are hosted by Microsoft. Online tenants hosted by ISVs, and on-premises installations, are not affected.

In April 2022, [!INCLUDE[cds_long_md](includes/cds_long_md.md)] is deprecating the Office365 authentication type (username/password). For more information, see [Deprecation of Office365 authentication type](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse). Additionally, in March 2022, [!INCLUDE[prod_short](includes/prod_short.md)] is deprecating the use of client secret based service-to-service authentication for online tenants. You must use certificate-based service-to-service authentication for connections to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. [!INCLUDE[prod_short](includes/prod_short.md)] online tenants that are hosted by ISVs, and on-premises installations can continue to use client secrets for authentication.

To avoid disrupting integrations, _you must upgrade_ the connection to use certificate-based authentication. Although the change is scheduled for March 2022, we strongly recommend that you upgrade as soon as possible. The following steps describe how to upgrade to certificate-based authentication. 

### To upgrade your Business Central online connection to use certificate-based authentication

1. Depending on whether you integrate with Dynamics 365 Sales, do one of the following:
   * If you do, open the **Microsoft Dynamics 365 Connection Setup** page.
   * If you don't, open the **Dataverse Connection Setup** page.
2. Choose **Connection**, and then **Use Certificate Authentication** to upgrade the connection to use certificate based authentication.
3. Sign in with administrator credentials for Dataverse. It should take less than a minute to sign in.

> [!NOTE]
> You must repeat these steps in each [!INCLUDE[prod_short](includes/prod_short.md)] environment, including both production and sandbox environments, and in each company where you have a connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].

## Connecting on-premises versions

To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], you must specify some information on the **Dataverse Connection Setup** page.

To connect using a Microsoft Entra account, you must register an application in Microsoft Entra ID. You'll have to provide the application ID, key vault secret, and the redirect URL to use. The redirect URL is pre-populated and should work for most installations. You must set up your installation to use HTTPS. For more information, see [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection). If you're setting up your server to have a different home page, you can change the URL. The client secret will be saved as an encrypted string in your database. 

### To register an application in Microsoft Entra ID for connecting from Business Central to Dataverse

The following steps assume that you use Microsoft Entra ID to manage identities and access. For more information about registering an application in Microsoft Entra ID, see [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app). 

1. In the Azure Portal, under **Manage** on the Navigation Pane, choose **Authentication**.  
2. Under **Redirect URLs**, add the redirect URL that is suggested on the **Dataverse Connection Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)].
3. Under **Manage**, choose **API permissions**.
4. Under **Configured permissions**, choose **Add a permission**, and then add delegated permissions on the **Microsoft APIs** tab as follows:
    * For Business Central, add the **Financials.ReadWrite.All** permissions.
    * For Dynamics CRM, add the **user_impersonation** permissions.  

    > [!NOTE]
    > The name of the Dynamics CRM API might change.

5. Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app. You will use the secret either in [!INCLUDE[prod_short](includes/prod_short.md)], in the **Client Secret** field on the **Dataverse Connection Setup** page, or store in a secure storage and provide it in an event subscriber as described earlier in this topic.
6. Choose **Overview**, and then find the **Application (client) ID** value. This ID is the Client ID of your application. You must enter it either on the **Dataverse Connection Setup** page in the **Client ID** field, or store it in a secure storage and provide it in an event subscriber.
7. In [!INCLUDE[prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, in the **Environment URL** field, enter the URL for your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment.
8. To enable the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], turn on the **Enabled** toggle.
9. Sign in with your administrator account for Microsoft Entra ID (this account must have a valid license for [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and be an administrator in your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment). After you sign in, you will be prompted to allow your registered application to sign in to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on behalf of the organization. You must give consent to complete the setup.

   > [!NOTE]
   > If you aren't prompted to sign in with your administrator account, it is probably because pop ups are blocked. To sign in, allow pop-ups from `https://login.microsoftonline.com`.

### To disconnect from [!INCLUDE[cds_long_md](includes/cds_long_md.md)]

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.
2. On the **Dataverse Connection Setup** page, turn off the **Enabled** toggle.  

## See Also

[View the Status of a Synchronization](admin-how-to-view-synchronization-status.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-integrate-field-service
---
title: Integrate with Microsoft Dynamics 365 Field Service
description: Integrate Business Central with Field Service.
ms.date: 02/21/2024
ms.topic: article
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.custom: bap-template
---

# Integrate with Microsoft Dynamics 365 Field Service

Service organizations require a front-to-back application in which finance, inventory, and procurement are tightly coupled with service delivery. They generate financial data with every transaction. Every work order represents cost and revenue, and every resource generates profit and loss. Customer interactions add entries on the general ledger. The integration between [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE [field-service-short](includes/field-service-short.md)] streamlines the end-to-end process of managing service operations and ensures a smooth flow of information between the two systems.  

You can easily create and manage work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)], track the progress of service tasks, assign resources, and capture consumption details. When you complete a work order in [!INCLUDE [field-service-short](includes/field-service-short.md)], the integration enables the smooth transfer of data to [!INCLUDE [prod_short](includes/prod_short.md)] for further processing.  

The integration also facilitates the invoicing and fulfillment of work orders in [!INCLUDE [prod_short](includes/prod_short.md)]. You can generate accurate invoices based on the service activities and the consumption recorded in [!INCLUDE [field-service-short](includes/field-service-short.md)].  

By integrating [!INCLUDE [prod_short](includes/prod_short.md)] with [!INCLUDE [field-service-short](includes/field-service-short.md)], you don't have to enter data manually or duplicate efforts. Integration also provides a comprehensive view of service operations and finances, enabling better decision-making and operational efficiency.

## Prerequisites

Because [!INCLUDE [field-service-short](includes/field-service-short.md)] is built on top of Dynamics 365 Sales, you must [set up a connection to Dataverse](/dynamics365/business-central/admin-how-to-set-up-a-dynamics-crm-connection#to-use-the-dataverse-connection-setup-assisted-setup-guide) and [enable integration to Dynamics 365 Sales](/dynamics365/business-central/admin-prepare-dynamics-365-for-sales-for-integration#connection-settings-in-the-setup-guide).

You must download the following apps from AppSource, and install them in your [!INCLUDE [prod_short](includes/prod_short.md)] environment:

- [Field Service Integration](https://go.microsoft.com/fwlink/?linkid=2277917)
- [Business Central Virtual Table](https://go.microsoft.com/fwlink/?linkid=2304910)

> [!NOTE]
> The [!INCLUDE [prod_short](includes/prod_short.md)] Virtual Table app is optional. You only need it if you want to view information about item availability from [!INCLUDE [prod_short](includes/prod_short.md)] in [!INCLUDE [field-service-short](includes/field-service-short.md)]. To learn more, go to [View item availability in Business Central from Field Service](#view-item-availability-in-business-central-from-field-service).

### Permissions and security roles for user accounts

When you install the Integration Solution, permissions for the integration user account are configured. If those permissions change, you might need to reset them. To do that, reinstall the Integration Solution from the **Dynamics 365 Connection Setup** page by choosing **Redeploy Integration Solution**. The following sections list the permissions and security roles that the solution deploys for each app.

#### Sales

- Dynamics 365 [!INCLUDE [prod_short](includes/prod_short.md)] Integration Administrator
- Dynamics 365 [!INCLUDE [prod_short](includes/prod_short.md)] Integration User
- Dynamics 365 [!INCLUDE [prod_short](includes/prod_short.md)] Product Availability User

#### Business Central

Users who post project journals must have the following permission set:

- Dynamics 365 Sales Integration

#### Field Service

To use the integrated data, users must have the following security role:

- Business Central Field Service Integration

For example, users must have this role to connect work orders to [!INCLUDE [prod_short](includes/prod_short.md)] for processing.

> [!NOTE]
> Ensure that users are assigned to the standard security roles and profiles in [!INCLUDE [field-service-short](includes/field-service-short.md)].  
>
> To learn more about column security profiles in [!INCLUDE [field-service-short](includes/field-service-short.md)], go to [Field Service security roles](/dynamics365/field-service/users-licenses-permissions#field-service-security-roles).
>
> Administrators must add one of the appropriate column security profiles to users in Power Platform. To learn more, go to [Add teams or users to a column security profile to control access](/power-platform/admin/add-teams-users-field-security-profile).

> [!NOTE]
> To use the **Open in Business Central** action in Sales, you must have the following privileges for the following tables:
>
> - You must have **Read** permissions for the **Dynamics 365 Business Central Connection** (nav_connection) table.
> - You must have **Read**, **Write**, and **Delete** permissions for the **Default Dynamics 365 Business Central Connection** (nav_defaultconnection) table.

### Other settings in Field Service

On the **Field Service Setting** page, make the following changes:

- On the **Purchase** tab, clear the **Use of Products Out of Stock** field. Otherwise, you might get an "out of stock" warning when you choose a product that's out of stock in [!INCLUDE [field-service-short](includes/field-service-short.md)], but is in stock in [!INCLUDE [prod_short](includes/prod_short.md)].
- On the **Work Order / Booking** tab, turn off the **Calculate Price** and **Calculate Cost** toggles. In the **Work Order Invoice Creation** field, choose **Never**.

> [!NOTE]
> Setting up a connection to [!INCLUDE [field-service-short](includes/field-service-short.md)] removes the coupling between resources and products. To make [!INCLUDE [prod_short](includes/prod_short.md)] items available in [!INCLUDE [field-service-short](includes/field-service-short.md)], update the **Field Service Product Type** field to match the **Type** field on the items in [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Create a product or service](/dynamics365/field-service/create-product-or-service#create-a-product-or-service).

## Set up the integration in Business Central

After you have a connection to Dataverse and Sales, you can set up your integration to [!INCLUDE [field-service-short](includes/field-service-short.md)].

1. Download and install the **Field Service Integration** app from [AppSource](https://go.microsoft.com/fwlink/?linkid=2277917). Afterward, on the **Extension Management** page, find the Field Service Integration app, and choose the **Set up** action to run the assisted setup guide.
2. On the **Assisted Setup** page in [!INCLUDE [prod_short](includes/prod_short.md)], choose **Set up integration to Dynamics 365 Field Service** to run the assisted setup guide.

This section describes the key settings in the guide.

Optionally, if you want to enable technicians to view information about item availability from work orders, choose the **Install Business Central Virtual Table app** link.

To let people post consumption of items and services in [!INCLUDE [field-service-short](includes/field-service-short.md)] work orders, specify the **Project Journal Template** and **Project Journal Batch** to use to post consumption of products and services.

Because services are expressed in duration in [!INCLUDE [field-service-short](includes/field-service-short.md)], specify the **Hours Unit of Measure** to use to convert durations to quantities in [!INCLUDE [prod_short](includes/prod_short.md)].

You can also specify when work order products and service lines synchronize to [!INCLUDE [prod_short](includes/prod_short.md)]. For example, they might synchronize when work order lines are used, or when someone completes a work order. Choose the appropriate option in the **Synchronize work order products/services** field.

After work order products and services synchronize to project journals in [!INCLUDE [prod_short](includes/prod_short.md)], you can choose whether to post the project journals manually. Choose the appropriate option in the **Automatically post project journals lines** field:

- When a work order is complete
- When work order products or services are used

After you finish the setup, run a full synchronization from the **Dynamics 365 Field Service Integration Setup** page. This action synchronizes table mappings for things like:

- Project tasks for projects with the **Apply Usage Link** set. This synchronization makes [!INCLUDE [prod_short](includes/prod_short.md)] projects available for selection in [!INCLUDE [field-service-short](includes/field-service-short.md)].
- Resources that aren't blocked, don't have **Use Time Sheet** selected, and do have **Hours** specified as the unit of measure on the **Dynamics 365 Field Service Integration Setup** page.
- Service items (requires that you're using the Premium experience in [!INCLUDE [prod_short](includes/prod_short.md)]).

## Integration table mappings for synchronization

The basis of synchronizing data is mapping the tables and fields in [!INCLUDE [prod_short](includes/prod_short.md)] with tables and columns in Dataverse, so they can exchange the data. Mapping happens through integration tables. To learn more about table mappings, go to [Mapping the Tables and Fields to Synchronize](/dynamics365/business-central/admin-how-to-modify-table-mappings-for-synchronization).

The following integration table mappings install if you choose the **Project (default)** integration type.

|Integration table mapping  |Data the mapping synchronizes  |
|---------|---------|
|**PJLINE-WORDERPRODUCT** | Maps work order products in [!INCLUDE [field-service-short](includes/field-service-short.md)] to project journal lines in [!INCLUDE [prod_short](includes/prod_short.md)].  |
|**PJLINE-WORDERSERVICE** |  Maps work order services in [!INCLUDE [field-service-short](includes/field-service-short.md)] to project journal lines in [!INCLUDE [prod_short](includes/prod_short.md)].  |
|**PROJECTTASK** |  Maps projects and project tasks in [!INCLUDE [prod_short](includes/prod_short.md)] to products in external projects in [!INCLUDE [field-service-short](includes/field-service-short.md)].  |
|**RESOURCE-BOOKABLERSC**  | Maps resources in [!INCLUDE [prod_short](includes/prod_short.md)] to bookable resources in [!INCLUDE [field-service-short](includes/field-service-short.md)].  |
|**SVCITEM-CUSTASSET**     | (Premium Experience only) Maps service items in [!INCLUDE [prod_short](includes/prod_short.md)] to customer assets in [!INCLUDE [field-service-short](includes/field-service-short.md)].        |
|**LOCATIONS**     |  Maps locations in [!INCLUDE [prod_short](includes/prod_short.md)] to warehouses in [!INCLUDE [field-service-short](includes/field-service-short.md)]. <br><br> **Note:** The **LOCATIONS** integration table mapping is available only if you turn on the **Location Mandatory** toggle on the **Inventory Setup** page.      |

In addition to those, the following integration table mappings install if you choose the **Project and Service** integration type.

|Integration table mapping  |Data the mapping synchronizes  |
|---------|---------|
|**SRVORDER**| Maps service orders in [!INCLUDE [prod_short](includes/prod_short.md)] to work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)], including the status of the orders. |
|**SRVORDERITEMLINE**| Maps service item lines in [!INCLUDE [prod_short](includes/prod_short.md)] to work order incidents in [!INCLUDE [field-service-short](includes/field-service-short.md)].|
|**SRVORDERLINE-ITEM**| Maps items on service order lines in [!INCLUDE [prod_short](includes/prod_short.md)] with work order products in [!INCLUDE [field-service-short](includes/field-service-short.md)]. |
|**SRVORDERLINE-RESOURCE**| Maps resources on service order lines in [!INCLUDE [prod_short](includes/prod_short.md)] with bookable resource booking in [!INCLUDE [field-service-short](includes/field-service-short.md)].|
|**SRVORDERLINE-SERVICE**|Maps service lines in [!INCLUDE [prod_short](includes/prod_short.md)] with work order services in [!INCLUDE [field-service-short](includes/field-service-short.md)]. |
|**SRVORDERTYPE**| Maps service order types in [!INCLUDE [prod_short](includes/prod_short.md)] to work order types in [!INCLUDE [field-service-short](includes/field-service-short.md)].|
|**SVCITEM-CUSTASSET**|Maps service items in [!INCLUDE [prod_short](includes/prod_short.md)] with customer assets in [!INCLUDE [field-service-short](includes/field-service-short.md)].|

> [!NOTE]
> The integration also maps fields that show item availability information in [!INCLUDE [prod_short](includes/prod_short.md)] on work orders and products in [!INCLUDE [field-service-short](includes/field-service-short.md)]. However, the mapping happens through a virtual table, and not an integration table. Some setup is required. To learn more about virtual tables and viewing item availability, go to [View item availability in Business Central from Field Service](#view-item-availability-in-business-central-from-field-service).

### Synchronize location and warehouse data

You can integrate [!INCLUDE [field-service-short](includes/field-service-short.md)] warehouses with locations in [!INCLUDE [prod_short](includes/prod_short.md)]. The integration gives technicians information about the availability of a product or item at a specific location.

The data synchronizes through a unidirectional (from [!INCLUDE [prod_short](includes/prod_short.md)]) integration table mapping between locations in [!INCLUDE [prod_short](includes/prod_short.md)] and warehouses in [!INCLUDE [field-service-short](includes/field-service-short.md)]. To use the integration table mapping, you must turn on the **Location Mandatory** toggle on the **Inventory Setup** page in [!INCLUDE [prod_short](includes/prod_short.md)] .

[!INCLUDE [prod_short](includes/prod_short.md)] synchronizes locations with the following settings on the **Location Card** page:

- The **Use as In-Transit** toggle is turned off.
- **Project Consump. Whse. Handling** is different from Warehouse Pick (mandatory)
- **Assm. Consump. Whse. Handling** is different from Warehouse Pick (mandatory)

In [!INCLUDE [prod_short](includes/prod_short.md)], on the **Locations** and **Location Card** page, you can use the **Warehouse** action to open a coupled location in [!INCLUDE [field-service-short](includes/field-service-short.md)], synchronize it, set up and delete couplings, and view synchronization logs.

### View item availability in Business Central from Field Service

When technicians prepare work orders, it's helpful that they can be sure that the items they need to do the work are available. This section describes how to let people view item availability information from [!INCLUDE [prod_short](includes/prod_short.md)] in [!INCLUDE [field-service-short](includes/field-service-short.md)].

The first thing to do is to install the [Business Central Virtual Table](https://go.microsoft.com/fwlink/?linkid=2277917) app from AppSource.

Afterward, on the **Dynamics 365 Field Service Integration Setup** or **Set up integration to Dynamics 365 Field Service** pages in [!INCLUDE [prod_short](includes/prod_short.md)], turn on the **Enable Inventory Availability by Location** toggle. When you enable inventory availability by location, a **dyn365bc_availabilitybylocation_v2_0** virtual table becomes available. You must create a synthetic relation between the following tables:

- The native **Product** and **Work Order Product** tables in [!INCLUDE [field-service-short](includes/field-service-short.md)] and the **Item Availability** virtual table that shows item availability. 

There's an assisted setup guide to help you create the synthetic relation.

To create the synthetic relation, follow these steps:

1. In [!INCLUDE [prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, use the **Synthetic Relations** action
1. On the **Synthetic Relations** page, choose the **New** action to start the **New Synthetic Relation** assisted setup guide.
1. In the **Native Dataverse Table** field, choose the :::image type="content" source="media/assist-edit-icon.png" alt-text="The AssistEdit icon."::: button, and then choose **CRM Product**.
1. In the **Virtual Dataverse Table** field, choose the :::image type="content" source="media/assist-edit-icon.png" alt-text="The AssistEdit icon."::: button, and then choose **Inventory Availability by Location**.
1. On the **Synthetic Relations** page, choose the **New** action to start the **New Synthetic Relation** assisted setup guide again.
1. In the **Native Dataverse Table** field, choose the :::image type="content" source="media/assist-edit-icon.png" alt-text="The AssistEdit icon."::: button, and then choose **FS Work Order Product**.
1. In the **Virtual Dataverse Table** field, choose the :::image type="content" source="media/assist-edit-icon.png" alt-text="The AssistEdit icon."::: button, and then choose **Inventory Availability by Location**.
1. Choose **Next**.
1. In the **Field in the FS Work Order Product table** field, choose **Product Id**.
1. In the **Field in the Item Availability by Location table** field, choose **itemNo**.
1. Choose **Finish** to complete the guide.
1. To make your setup available in [!INCLUDE [field-service-short](includes/field-service-short.md)], in the **Power Apps admin center**, choose the view, and then choose the **Save and Publish** action.

> [!NOTE]
> It can take a few moments to create the synthetic relations.

To learn more about virtual tables and synthetic relationships, go to [Use virtual tables to get more data](admin-synchronizing-business-central-and-sales.md#use-virtual-tables-to-get-more-data).  

The next thing to do is to create and customize the associated view that people use in [!INCLUDE [field-service-short](includes/field-service-short.md)] to check the inventory of products.

To create the view, follow these steps:

1. In **Power Apps admin center**, on the navigation pane, choose **Tables**.
1. Choose the **Item Availability by Location** table.
1. In the **Data experiences** part, choose **Views**.
1. Choose the **View column** action, and then choose the columns you want the view to include. The following columns are typical choices:

    - **Location Code** shows where the product is available.
    - **Item No.** confirms you're looking at the correct product.
    - **Item Description** provides information about the product.
    - **Unit of Measure Code** gives you an idea of the space you need.
    - **Remaining Quantity** shows how much of the product is available at each location.

### Integrate service management features

Integrating [!INCLUDE [prod_short](includes/prod_short.md)] with [!INCLUDE [field-service-short](includes/field-service-short.md)] lets you manage service tasks, consumption, and financial transactions to benefit service technicians, service managers, and finance teams. It's a powerful solution for managing work orders and consumption in [!INCLUDE [field-service-short](includes/field-service-short.md)] and efficiently invoicing and fulfilling them in [!INCLUDE [prod_short](includes/prod_short.md)]. The integration is bi-directional, meaning that when you enter or change data in either app, the data updates in the other.

> [!NOTE]
> When you enable the integration with service management features, you also enable the integration with projects. You can't enable only the service management integration.

#### Set up the integration with service management features

You must have a **Premium** license. When you do, on the **Company Information** page in [!INCLUDE [prod_short](includes/prod_short.md)], set the **User Experience** field to **Premium**.

You can enable the integration in the **Integration Type** field by selecting **Project and Service** in the following places:

- In the **Set up integration to Dynamics 365 Field Service** assisted setup guide.
- On the **Dynamics 365 Field Service Integration Setup** page.

When the **Integration Type** field is set to **Project and Service**, the following things happen when you enable the integration:

- Creates a solution in Power Apps named **Microsoft Dynamics 365 Business Central Field Service Integration (service)**.
- Adds integration table mappings for service order types, service documents, service lines, and service item lines. To learn more about the table mappings, go to [Integration table mappings for synchronization](#integration-table-mappings-for-synchronization).
- Fields in the headers on service orders and work orders transfer information, such as the **Service Account**, **Billing Account**, and **Work Order Type**.
- **Service Item Lines** and **Work Order Incidents** in [!INCLUDE [field-service-short](includes/field-service-short.md)] transfer information about the customer assets being repaired.
- **Service Line** fields and **Work Order Products** and **Work Order Services** fields, such as **Qty. to Ship**, **Qty. to Invoice**, and **Qty. to Consume**.

In [!INCLUDE [prod_short](includes/prod_short.md)], make the following settings on the **Service Management Setup** page:

- Turn on the **Service Order Type Mandatory** toggle. This setting is required because [!INCLUDE [field-service-short](includes/field-service-short.md)] requires a work order type.
- Make sure that the number series you use for service orders is set up to allow manual numbering. On the **No. Series** page, select the **Manual Nos.** checkbox for the number series. Manual numbering lets you create work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] and synchronize them with service orders. [!INCLUDE [prod_short](includes/prod_short.md)] uses the order number from [!INCLUDE [field-service-short](includes/field-service-short.md)].
- Turn off the **One Service Item Line/Order** toggle. This setting lets you have more than one work item line.
- Turn on the **Archive Orders** toggle.
- Make the **Service Order Type** field on service orders mandatory because the **Work Order Type** is mandatory on [!INCLUDE [field-service-short](includes/field-service-short.md)] work orders.

If you choose **Enable Inventory Availability by Location** when you set up the integration, you can view the allocated product quantity from work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] as part of the gross requirements in [!INCLUDE [prod_short](includes/prod_short.md)]'s inventory availability calculation. Demand generated by orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] automatically becomes input for planning through synchronized service orders.

As service or work orders progress toward completion, their status changes. The following table shows how the statues align in both apps.

|[!INCLUDE [prod_short](includes/prod_short.md)] status  |[!INCLUDE [field-service-short](includes/field-service-short.md)] status  | Alignment |
|---------|-----------|---------|
|Pending  |Unscheduled| Bidirectional per mapping to account for item demand. |
|Pending  |Scheduled  | [!INCLUDE [field-service-short](includes/field-service-short.md)] to [!INCLUDE [prod_short](includes/prod_short.md)]. Synchronizes the quantity to ship and the quantity to invoice.|
|In process | In progress | [!INCLUDE [field-service-short](includes/field-service-short.md)] to [!INCLUDE [prod_short](includes/prod_short.md)]. Synchronizes the quantity to ship and the quantity to invoice. |
|Finished | Completed     | [!INCLUDE [field-service-short](includes/field-service-short.md)] to [!INCLUDE [prod_short](includes/prod_short.md)]. Ready for posting in Business Central. |
|Finished | Posted        | [!INCLUDE [field-service-short](includes/field-service-short.md)] to [!INCLUDE [prod_short](includes/prod_short.md)]. When fully invoiced or deleted after partial invoicing in [!INCLUDE [prod_short](includes/prod_short.md)].|
|N/A     | Canceled      | Not synchronized. Manual alignment is needed for canceled work orders. |

### Upgrade your integration to include service management features

If you set up the integration to only include projects, but decide to add service management features later, that's easy to do in just a few steps. Remember that you must have a Premium license though.

1. On the **Dynamics 365 Field Service Integration Setup** page, turn off the **Enabled** toggle.
1. In the **Integration Type** field, choose **Project and Service**.
1. Turn on the **Enabled** toggle.

## Use data in both applications

The following sections describe the features where you can use the data that comes from [!INCLUDE [prod_short](includes/prod_short.md)] and [!INCLUDE [field-service-short](includes/field-service-short.md)].

### Field Service

You can [create work orders](/dynamics365/field-service/create-work-order) using the **Service Account** and **Billing Account** from [!INCLUDE [prod_short](includes/prod_short.md)]. On work orders, you must select the **Business Central Project Task** in the **External Project** field. Selecting a project lets you synchronize work order products and services to the appropriate project task in [!INCLUDE [prod_short](includes/prod_short.md)].

You can add inventory and noninventory items as **Work Order Products** on work orders and get the quantity on hand and costs and prices from [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Create a work order from the work order form and record list](/dynamics365/field-service/create-work-order#create-a-work-order-from-the-work-order-form-and-record-list).

You can add items of the type service as **Work Order Services**, and get costs and prices from [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Products and services tab](/dynamics365/field-service/work-order-experience#products-and-services-tab).

> [!NOTE]
> When a product or service's status on a work order changes from **Estimated** to **Used** in [!INCLUDE [field-service-short](includes/field-service-short.md)], they synchronize to project journal lines in [!INCLUDE [prod_short](includes/prod_short.md)].

You can book a resource and relate the **Bookings** to work order services using a **Bookable Resource** from [!INCLUDE [prod_short](includes/prod_short.md)].

You can use the **Open in Business Central** action in [!INCLUDE [field-service-short](includes/field-service-short.md)] to open a location that's coupled to a warehouse.

Use the **Open in Business Central** action to open a location that's coupled to a warehouse. On the **Products** page, technicians can check how much of particular product is available at a warehouse they specify.

From the **Work Order** and **Product** pages, you can view where, and how much, of an item is available. On the **Related** menu, choose **Items Availability by Location**.

When you mark a work order product or service as **Used** on a work order with a specific work order type, the lines synchronize to a service order. Consumption is also posted, based on settings on the **Dynamics 365 Field Service Integration Setup** page.

During consumption and invoice posting in [!INCLUDE [prod_short](includes/prod_short.md)], the quantities are updated on the original work order product and work order service lines in [!INCLUDE [field-service-short](includes/field-service-short.md)].

### Business Central

Depending on your settings on the **Field Service Integration Setup** page, when work orders include products and services, consumption information is transferred and posted using a **Project Journal** in [!INCLUDE [prod_short](includes/prod_short.md)].

The **Quantity To Bill** and **Duration To Bill** values are copied to the **Qty- to Transfer to Invoice** field. Based on those values, you can create and post sales invoices in [!INCLUDE [prod_short](includes/prod_short.md)] to invoice the customer. After the invoice is posted and synchronized to the Dynamics 365 Sales environment, or consumption is processed in [!INCLUDE [prod_short](includes/prod_short.md)], the quantity invoiced and quantity consumed display on the [!INCLUDE [prod_short](includes/prod_short.md)] tab on the **Work Order Product** and **Work Order Service** pages.  

Use the **Project Planning Lines** page to track posting and invoicing of consumption on work orders. From the **Project Planning Lines** page, you can create and post sales invoices in [!INCLUDE [prod_short](includes/prod_short.md)]. Afterward, you can synchronize them with [!INCLUDE [field-service-short](includes/field-service-short.md)] and keep track of the status of the invoices.

> [!NOTE]
> Work order services with a booking that uses a bookable resource that's coupled to a [!INCLUDE [prod_short](includes/prod_short.md)] resource synchronize to two project journal lines:
>
> - One line of type **Budget** for the coupled resource
> - One line of type **Billable** for the item being serviced
>
> The product that's chosen on the work order service must be coupled to an item of the type **Service** in [!INCLUDE [prod_short](includes/prod_short.md)]. Also, the base unit of measure for the item must be set to the **Hours Unit of Measure** that's chosen on the **Dynamics 365 Field Service Integration Setup** page.
>
> You can create an invoice for an item of the type **Service** from the billable project planning line, and use the budget project planning line to register cost with the resource.

Use the **Locations in Field Service** action on the **Locations** and **Location Card** pages to open a coupled location in [!INCLUDE [field-service-short](includes/field-service-short.md)], synchronize it, set up and delete couplings, and view synchronization logs. You can view the allocated product quantity from work orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] as part of the gross requirements in Business Central's inventory availability calculation. Demand generated by orders in [!INCLUDE [field-service-short](includes/field-service-short.md)] automatically become an input for planning.

## Related information

[Integrate with Microsoft Dataverse via data sync](admin-common-data-service.md)  
[Mapping the Tables and Fields to Synchronize](admin-how-to-modify-table-mappings-for-synchronization.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-views
---
title: Save and personalize List Views
description: Learn how to create your own views for filtered lists and how to save, rename, and manage those views.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.form: 
ms.date: 11/13/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Save and personalize list views

When you set a filter on a list and you want to keep the filter for later, you can save it as a view. To learn more about filtering lists, go to [Set filters on lists](ui-enter-criteria-filters.md#set-filters-on-lists).

If views exist, the **Views** group appears at the top of the filter pane. Views are variations of the list that is preconfigured with filters. You can define and save as many views as you want per list. The views will be available the next time you open the list, from any device or browser.

[!INCLUDE [about-ui-learn](includes/about-ui-learn.md)]

## To save a view

1. Open any list page.
2. Select ![Filter pane icon.](media/open-filter-pane-icon.png "Filter pane icon") at the top of the list or select <kbd>Shift</kbd>+<kbd>F3</kbd>.
3. Set one or more new filters. To learn more, go to [Set filters on lists](ui-enter-criteria-filters.md#set-filters-on-lists).
4. When you set  the filters, choose the ![Save View.](media/save_view_icon.png "Save View") icon.

    If you set a filter for a list view that was already saved as a view, the existing view updates when you save.
5. If you're saving a new view, enter a name for the view in the **All (Copy)** box, such as "Items I own".
6. To accept the name, select the <kbd>Enter</kbd> key or move the cursor from the text box.

If you don't give it a name, the default name is **All (Copy)**.

> [!TIP]
> Not seeing the ![Save View](media/save_view_icon.png "Save View") icon? To learn more, go to [Why don't I have a Save icon](/dynamics365/business-central/ui-views-faq#save).

## To rename or remove a view

1. For the view that currently displays the list, choose the ![Show more options.](media/show-more-options-icon.png "Show more options") icon to see which options are available.
2. Choose either the **Rename** or the **Remove** action.

## Managing Many Views

As the number of views on a page grows, you might need more control over how views are presented in the filter pane. With the **Personalizing** banner, you can hide unwanted views or reorder your views to get the perfect sequence. To learn more, go to [Personalize Your Workspace](ui-personalization-user.md).

## See also

[List Views FAQ](ui-views-faq.yml)  
[Analyze list data using data analysis mode](analysis-mode.md)   
[Personalize Your Workspace](ui-personalization-user.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Change Which Features are Displayed](ui-experiences.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-ext-doc-no
---
title: External document numbers on purchase documents
description: You can include information about the numbers that your vendors assign to documents that they send you by using the External Document Number field or the Your Reference field. Learn about the difference between the two fields here.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 04/21/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# External document numbers on purchase documents

[!INCLUDE [ext-doc-no-purch](includes/ext-doc-no-purch.md)]

You can also specify external document numbers on sales documents. For more information, see [External Document Numbers](sales-how-invoice-sales.md#external-document-numbers)

## See also

[Enter External Document Numbers](across-enter-external-document-numbers.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[External Document Numbers on Sales Documents](sales-how-invoice-sales.md#external-document-numbers)  
[General Business Functionality](ui-across-business-areas.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-import-payroll-transactions
---
title: Import payroll transactions
description: To manage salary, you import and post financial transactions from your payroll provider to the general ledger, using a payroll extension such as Ceridian.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Ceridian, Quickbooks, salary
ms.search.form: 1660, 1661, 36601
ms.date: 08/09/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Import payroll transactions

To account for salary payments and related transactions, you must import and post financial transactions made by your payroll provider to the general ledger. To do this, you first import a file that you receive from the payroll provider into the **General Journal** page. Then you map the external accounts in the payroll file to the relevant G/L accounts. Lastly, you post the payroll transactions according to the account mapping.

> [!NOTE]  
> To use this functionality, an extension for payroll import must be installed and enabled. The Ceridian Payroll and the Quickbooks Payroll File Import extensions are pre-installed in [!INCLUDE[prod_short](includes/prod_short.md)]. For more information, see [Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md).

## To import a payroll file

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.
2. In the relevant general journal batch, choose the **Import Payroll Transactions** action. An assisted setup guide opens.
3. Follow the steps on the **Import Payroll Transactions** page.

    > [!TIP]  
    >   In the step about mapping the external payroll records to your G/L accounts, the mappings that you make will be remembered next time the same records are imported. This will save you time as you do not have to manually fill in the **Account No.** field in the general journal every time you have imported recurring payroll transactions.   

    When you choose the **OK** button in the assisted setup guide, the **General Journal** page is filled with lines representing the transactions that the payroll file contains and with the relevant accounts prefilled in the **G/L Account** fields according to mappings you made in the guide.
4. Edit or post the journal lines as for any other general ledger transactions. For more information, see [Post Transactions Directly to the General Ledger](finance-how-post-transactions-directly.md).   

## See also

[Finance](finance.md)    
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)    
[Work with General Journals](ui-work-general-journals.md)    


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-aged-payables-back-dating
---
title: Aged Payables (Back Dating)
description: The Aged Payables (Back Dating) report provides an overview of outstanding vendor invoices categorized by payment terms and grouped into aging buckets.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 36994_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Aged Payables (Back Dating) (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The Aged Payables (Back Dating) report allows you to analyze outstanding vendor balances grouped by customizable aging periods. You can age the report by posting date, due date, or document date. It categorizes vendor balances by payment terms code, so you can quickly align net terms with aging buckets for efficient analysis. This approach helps you prioritize payment efforts and manage cash flow effectively.

:::image type="content" source="media/finance/aged-payables-report.png" alt-text="Screenshot of the Aged Payables (Back Dating) report" lightbox="media/finance/aged-payables-report.png":::

## Use the report

The audiences for the report are:

- Executives
- Finance administrators

Finance administrators can use the report to prioritize vendor payments and take advantage of discounts for early payments. By aging the report based on due dates and setting the appropriate aging period buckets, you can effectively manage payment schedules. This approach enhances cash flow and strengthens relationships with key vendors.

## Key Performance Indicators (KPIs)

The *Aged Payables (Back Dating)* report includes the following KPIs and measures: 

- [**Balance (Accounts Payable)**](finance-powerbi-kpis.md#balance-accounts-payable)
- [**Current (Payables)**](finance-powerbi-kpis.md#current-payables)
- [**Bucket 1 (Payables)**](finance-powerbi-kpis.md#bucket-1-payables)
- [**Bucket 2 (Payables)**](finance-powerbi-kpis.md#bucket-2-payables)
- [**Bucket 3 (Payables)**](finance-powerbi-kpis.md#bucket-3-payables)
- [**Bucket 4 (Payables)**](finance-powerbi-kpis.md#bucket-4-payables)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Vendor
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry

## Try the report

Try the report here: [Aged Payables (Back Dating)](https://businesscentral.dynamics.com?page=36994)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-scorecards-goals
---
title: Sustainability scorecards and goals
description: Learn how to set up and use sustainability scorecards and goals.
author: altotovi
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Sustainability, ESG, emission, GHG, CSRD, scorecard, goal, forecast, budget
ms.search.form: 
ms.date: 01/30/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: solsen
---

# Sustainability scorecards and goals overview

This article offers guidance on how to create scorecards and goals, and how to update the status of goals. Scorecards and goals allow organizations to curate sustainability metrics and track them against key business objectives. Goals can be created based on current and target values, so users can keep track of the progress of current gas emissions, or water/waste intensity, compared to previous periods.  

## Create a scorecard  

To create a sustainability scorecard, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Scorecards**, and then select the related link.
2. On the **Sustainability Scorecards** page, select **New** to create a new scorecard.  
3. Specify the **No.** and the **Name** fields on the **General** FastTab, and then add the **Owner**.

> [!NOTE]
> In the **Owner** field, you can only choose users who enabled the **Sustainability Manager** field on the **User Setup** page.

## Create goals  

To create a new sustainability goal, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Scorecards**, and then select the related link.
2. Choose the **Goals** action to create a new sustainability goal for the scorecard.  
3. Select **New** to start creating a goal.
4. The **Scorecard No.** is automatically added based on the value from the sustainability scorecard, and you can't edit this field. [!INCLUDE [prod_short](includes/prod_short.md)] also fills in the **Unit of Measure** field based on the **Emission Unit of Measure Code** on the **Sustainability Setup** page.  
5. Fill in **No.** and **Name** of the new sustainability goal. The **Owner** field is automatically filled in based on the value from the connected **Sustainability Scorecard**.
6. You can create a sustainability goal for the entire company, a specific country/region, or a facility. To create a specific goal, choose the country or region in the **Country/Region Code** field or the facility in the **Responsibility Center** field.  
7. Select the **Start Date** and **End Date** fields to set up a dedicated period for tracking current values. This configuration determines the values in the **Current Value for CO2**, **Current Value for CH4**, **Current Value for N2O**, **Current Value for Water Intensity**, and **Current Value for Waste Intensity** fields.  
8. Select the **Baseline Start Date** and **Baseline End Date** fields to set up a dedicated baseline period for comparing current values. This configuration determines the values in the **Baseline for CO2**, **Baseline for CH4**, **Baseline for N2O**, **Baseline for Water Intensity**, and **Baseline for Waste Intensity** fields.  
9. You can also add target values in the selected **Unit of Measure** field for the current period using the following **Target Value for CO2**, **Target Value for CH4**, **Target Value for N2O**, **Target Value for Water Intensity**, and **Target Value for Waste Intensity** fields.
10. You can specify one of these goals as a **Main Goal**. Values from the main goal are used on the **Sustainability Manager** Role Center.  

If you have many goals on the page, you can use the **Show My Goals** action to show only your goals. To show all, run the **Show All Goals** action.  

> [!NOTE]
> You can only create sustainability goals for a specific sustainability scorecard. You can't create goals that aren't related to a scorecard, but you can create more goals for one scorecard. You can only have one sustainability goal as the **Main Goal**.  

> [!NOTE]
> You can set up different combinations of goals for the whole company, specific countries or regions, and a responsibility center for a sustainability scorecard. You can also use different periods for the same model of tracking.  

## Related information

[Sustainability setup](finance-sustainability-setup.md)  
[Chart of sustainability accounts and ledger](finance-sustainability-accounts-ledger.md)  
[How to record sustainability entries](finance-sustainability-journal.md)  
[Ad hoc analysis of sustainability data](ad-hoc-analysis-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  
[Sustainability API](/dynamics365/business-central/dev-itpro/api-sustainability/sustainability-api?toc=/dynamics365/business-central/toc.json)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-work-item-attributes
---
title: Set up item attributes and assign them to items
description: Describes how to set up item attribute values, for example, that can be used as search words, and assign them to items and item categories.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: categories, search words, facets
ms.search.forms: 7507, 7509, 7506, 7505, 7503, 7502, 7510, 7504, 7501, 7500, 9110, 5734, 7508
ms.date: 06/10/2024
ms.service: dynamics-365-business-central

---
# Work with item attributes

When customers inquire about an item, either in correspondence or in an integrated web shop, they might ask or search according to characteristics, such as height and model year. To provide this customer service, you can assign item attribute values of different types to your items, which can then be used when searching for items.

You can also assign item attributes to item categories, which then apply to the items that use the item categories. For more information, see [Categorize Item](inventory-how-categorize-items.md).

> [!TIP]  
> If you attach pictures to items, the Image Analyzer extension can detect attributes in the image, and suggest the attributes so you can decide whether to assign them. The extension is ready to go. You just need to enable it. For more information, see [The Image Analyzer Extension](ui-extensions-image-analyzer.md).

## Create item attributes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Attributes**, and then choose the related link.
2. On the **Item Attributes** page, choose the **New** action.
3. On the **Item Attribute** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!NOTE]  
> If you select **Option** in the **Type** field, you can choose the **Item Attribute Values** action to create values for the item attribute. For more information, see [To create values for item attributes of type Option](inventory-how-work-item-attributes.md#create-values-for-item-attributes-of-type-option).  

## Create values for item attributes of type Option

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Attributes**, and then choose the related link.
2. On the **Item Attributes** page, select an item attribute of type **Option** that you want to create values for, and then choose the **Item Attribute Values** action.
3. On the **Item Attribute Values** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Assign item attributes to items

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. On the **Items** page, select the item that you want to assign item attributes to, and then choose the **Attributes** action.
3. On the **Item Attribute Values** page, choose the **New** action.
4. Choose the lookup button in the **Attribute** field and select an existing item attribute. Alternatively, choose the **New** action to first create a new item attribute as explained in [To create item attributes](inventory-how-work-item-attributes.md#create-item-attributes).
5. In the **Value** field, enter the item attribute value, such as "2010" for the **Model Year** attribute.
6. For item attributes of type **Option**, choose the lookup button in the **Value** field and select an item attribute value. Alternatively, choose the **New** action to first create a new item attribute value as explained in [To create values for item attributes of type Option](inventory-how-work-item-attributes.md#assign-item-attributes-to-items).
7. Repeat steps 4 through 6 for all item attributes that you want to assign to the item.

## Assign item attributes to item categories

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Categories**, and then choose the related link.
2. On the **Item Categories** page, select the item category that you want to assign item attributes to, and then choose the **Edit** action.
3. On the **Item Category Card** page, on the **Attributes** FastTab, choose the **New** action.
4. Choose the lookup button in the **Attribute** field and select an existing item attribute. Alternatively, choose the **New** action to first create a new item attribute as explained in [To create item attributes](inventory-how-work-item-attributes.md#create-item-attributes).
5. In the **Default Value** field, choose the lookup button and select an item attribute value.
6. Repeat steps 4 and 5 for all item attributes that you want to assign to the item category.

> [!NOTE]  
> Item attributes for parent item categories will be inherited to child item categories. This is indicated by the **Inherited From** field on the **Attributes** FastTab. For more information, see [Categorize Items](inventory-how-categorize-items.md).

## Filter by item attributes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. On the **Items** page, choose the **Filter by Attributes** action.
3. On the **Filter Items by Attribute** page, choose the lookup button in the **Attribute** field and select an item attribute.
4. In the **Value** field, choose the lookup button and select an attribute value to filter items by.

    > [!NOTE]  
    > You can only select values directly for item attributes that have fixed values, such as Color. For item attributes that have variable values, such as Width, you must specify the item attribute value by first selecting a condition. See step 5.
5. In the **Value** field for a variable item attribute, choose the lookup button.
6. On the **Specify Filter Value** page, in the **Condition** field, choose the drop-down arrow and select a condition.
7. In the **Value** field, enter an attribute value to filter items by.

    **Example**: To filter on items where the material description begins with "blue," fill in the fields as follows: **Attribute** field: Material Description, **Condition** field: Begins With, **Value** field: blue.
8. Choose the **OK** button.

The items on the **Items** page are filtered by the specified item attribute values.

## See also

[Categorize Items](inventory-how-categorize-items.md)    
[Register New Items](inventory-how-register-new-items.md)    
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-to-set-up-customer-discount-groups
---
title: Set up customer discount groups
description: Learn how to set up customer discount groups and create sales line discounts for those groups.
author: brentholtorf
ms.service: dynamics-365-business-central
ms.topic: article
ms.date: 07/05/2024
ms.author: bholtorf
ms.reviewer: bholtorf
---
# Set up customer discount groups

You can define sales line discounts for a group of customers instead of applying them individually.

**Customer Discount Groups** are similar to [customer price groups](sales-how-to-set-up-customer-price-groups.md), but can be combined with Item Discount Groups to quickly set line discounts to many items for selected customers.

## Create sales line discounts for a customer group

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customer Disc. Groups**, and then choose the related link.
2. On the **Customer Disc. Groups** page, select **New** to create a new discount group and give it a name under the **Code** column and add a description.
3. Choose the **Sales Line Discounts** action.
4. Fill in the **Sales Code** column with the discount group created on the previous page.
5. Fill in the fields on the lines with the **Type** (Item or Item Discount Group), **Code**, **Unit of Measure Code**, and the **Line Discount %**.
6. If the customer group needs to purchase a minimum quantity in order to gain the discount, fill in the **Minimum Quantity** field.
7. If necessary, enter the **Starting Date** and **Ending Date** for the discount group.
8. If relevant, you can also specify the **Currency Code** or **Variant Code** after [personalizing the columns](ui-personalization-user.md).

Repeat steps 4 through 8 for each item or item discount group you want to create a sales line discount for.

## Assign a customer to a discount group

After you set up the customer discount groups, you can enter the customer discount group codes on the customer cards.

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.
2. Open the **Customer Card** for a customer you want to be part of a customer discount group.
3. On the **Invoicing** FastTab, in the **Customer Disc. Group** field, select the group code.

## See also

[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Recording Special Sales Prices and Discounts](sales-how-record-sales-price-discount-payment-agreements.md)  
[Setting Up Customer Price Groups](sales-how-to-set-up-customer-price-groups.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-changing-costing-methods
---
title: Design Details - Changing Costing Methods for Items
description: Learn how to assign a different costing method to an item although you have already used the item in transactions.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: costing methods, costing, item cost
ms.search.form: 8645
ms.date: 06/08/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Design Details: Change the Costing Method for Items

In [!INCLUDE[prod_short](includes/prod_short.md)], you cannot change a costing method for an item after you have included the item in a transaction. For example, after you have bought or sold the item. If an incorrect costing method was assigned to the item or items, you might not discover the issue until you do your financial reporting.

This topic describes how to resolve this situation. The recommended approach is to replace the item that has the incorrect costing method with a new item, and use an assembly order to transfer the inventory from the old item to the new.

> [!NOTE]
> Using assembly orders allows the costs to still flow although there are outstanding purchase invoices or shipping charges to post. Additionally, it allows you to undo the conversion and get the quantities of the original items back, if needed.

> [!TIP]
> To become familiar with the process, we recommend that you start the conversion process with a single item or a small set of items.

## About Costing Methods

Costing methods control cost calculations when goods are purchased, received in inventory, and sold. Costing methods affect the timing of amounts recorded in COGS that affect gross profit. It is this flow that calculates COGS. The cost of goods sold (COGS) and revenue are used to determine gross profit, as follows:

*gross profit* = *revenue - COGS*

When you set up inventory items, you must assign a costing method. The method can vary from business to business, and from item to item, so it's important to choose the right one. [!INCLUDE[prod_short](includes/prod_short.md)] supports the following costing methods:

* Average
* FIFO
* LIFO
* Standard
* Specific

For more information, see [Design Details: Costing Methods](design-details-costing-methods.md).

## Use Assembly Orders to Change Costing Method Assignments

This section describes the following steps for changing the costing method assigned to an item:

1. Define a default costing method.
2. Identify the items that to change the costing method for and renumber them.
3. Create new items with the old numbering scheme and copy the master data in a batch.
4. Manually copy related master data from the existing item to the new item.
5. Determine the inventory quantity to convert from the original item to the new item.
6. Transfer the inventory to the new item.
7. Handle inventory quantities that are allocated to demand.
8. Block the original item from further use.  

### Define a default costing method

To help avoid future mistakes you can specify a default costing method for new items. Whenever someone creates a new item, [!INCLUDE[prod_short](includes/prod_short.md)] will suggest the default costing method. You specify the default method in the **Default Costing Method** field on the **Inventory Setup** page. 

### Identify the items to change the costing method for and renumber them

You may want to give your new items the same numbers as those they are replacing. To do that, change the numbers of the existing items. For example, if the existing item number is "P1000," you might change it to "X-P1000." This is a manual change that you must make for each item.

### Create new items with the old numbering scheme and copy the master data in a batch

Create the new items using the current number scheme. With the exception of the **Costing Method** field, the new items should contain the same master data as the existing items. To transfer the master data for the item, and related data from other features, use the **Copy Item** action on the **Item Card** page. For more information, see [Copy Existing Items to Create New Items](inventory-how-copy-items.md).

After you create the new items and transfer the master data, assign the correct costing method.

### Manually copy related master data from the original item to the new item

To make the new items fully useful you must manually copy some master data from other areas, as described in the following table.

|Area  |What to copy  |How to copy it  |
|---------|---------|---------|
|Inventory |Stock-keeping units (SKUs) |Check whether a SKU is specified for the original item. If planning parameters have been entered for each SKU card, then you must manually create the SKU for the new item. If the parameters are not specified, you can use the **Create Stockkeeping Unit** batch job from the **Item Card** page to create the data.|
| |Item substitutions |Check whether any item substitutions are defined for the original item. If there are, transfer that data to the new item. To view substitute items, use the **Substitutions** action on the **Item Card** page. |
| |Analysis reports |Review the Item Analysis, Sales Analysis, and Purchase Analysis reports. For those that reference the original items you can either create a new analysis report with a reference to the new item (keeping the original analysis report to use as history) or adjust the reports so that they reference the new item. |
| |Standard journals |Check whether standard journals reference the original item and transfer that data to the new item when necessary. This information is found on the standard journals, which are available on the item journal.  |
|Sales |Sales prepayment percentage | Check whether any sales prepayment percentages are defined for the original item and transfer that data to the new item. To view prepayment percentages, on the **Item Card** page, choose **Sales**, and then **Prepayment Percentages**.|
|Purchase |Purchase prepayment percentage |Check whether any purchase prepayment percentages are defined for the original item and transfer that data to the new item. To view prepayment percentages, on the **Item Card** page, choose **Purchases**, and then **Prepayment Percentages**. |
|Warehouse |Bin contents |Review the bin content defined for the original item. If columns such as as Min. Qty., Max. Qty., Default, and Dedicated have been individually entered then you must manually create bin content for the new item. If they are not, no action is required. [!INCLUDE[prod_short](includes/prod_short.md)] will maintain the records when you register warehouse documents and journals.|
|Job |Job Prices |Check whether project prices are defined for the original item and transfer that data to the new item. This information is available on the **Project Card** page in the **Project Details – No. of Prices** part on the **FactBox pane**. |
|Service |Service resource skill |Check whether service resource skills are defined for the original item and transfer that data to the new item. To view resource skills, use the **Resource Skills** action on the **Item Card** page.  |
| |Service item components |Check whether components are defined for the original service item and transfer that data to the new item. To view service item components, on the **Item Card** page use the **Service Item** action to open the list of related service items, and then choose the **Components** action.  |
|Production |Production BOMs |Check whether any production BOMs contain the original item and replace it with the new item. To replace the original item, on the **Production BOMs** page, choose the **Exchange Production BOM Item** action. |
|Assembly |Assembly BOMs |Check whether any assembly BOMs contain the original item and manually replace it with the new item. |

> [!IMPORTANT]
> If the new costing method is Standard you should enter a value in the **Standard Cost** field on the **Item Card** page. You can use the **Standard Cost Worksheet** page to set the cost shares accordingly. For more information, see [Update Standard Costs](finance-how-to-update-standard-costs.md).

### Determine the inventory quantity to convert from the original item to the new item

> [!NOTE]
> This step does not consider quantities that are included in unshipped orders. For more information, see [Handle inventory quantities that are allocated to demand](design-details-changing-costing-methods.md#handle-inventory-quantities-that-are-allocated-to-demand). 

Use a physical inventory journal to produce a list of the quantities in inventory. Depending on the warehouse location setup, use one of the following:

* Physical Invt. Journals
* Whse. Phys. Invt. Journals

Both journals can calculate the inventory quantity of the item, including the location, variant, bin, and storage location. For more information, see [Count, Adjust, and Reclassify Inventory Using Journals](inventory-how-count-adjust-reclassify.md).

### Transfer the inventory to the new item

Create and post assembly orders to transfer the cost and inventory quantity from the original item to the new item. Assembly orders can convert one item to another while preserving the costs. This helps ensure that the net totals for the inventory account and COGS are not affected (except when the new costing method is Standard, in which case costs may be distributed to variance accounts). For more information, see [Assembly Management](assembly-assemble-items.md).

When creating assembly orders, use the information from the Physical Invt. journal or Whse. Phys. Invt. journal. The following tables describe the information in the reports to enter in the header and lines on the assembly order.

#### Header

|Field  |Value to enter  |
|---------|---------|
|Item No. |The number of the new item. |
|Quantity |The quantity in physical inventory journal.<br> **NOTE:** The quantities calculated by the physical inventory journals does not include the quantities that are on orders that have not yet shipped.  |
|Variant Code |The same as in physical inventory journal.  |
|Location Code |The same as in physical inventory journal. |
|Unit of Measure Code |The same as in physical inventory journal. |
|Bin Code |The same as in physical inventory journal. |

#### Lines

|Field  |Value to enter  |
|---------|---------|
|Type |Item |
|No. |The number of the original item. |
|Quantity per |1 |
|Variant Code |The same as in physical inventory journal. |
|Location Code |The same as in physical inventory journal. |
|Unit of Measure Code |The same as in physical inventory journal. |

> [!NOTE]
> An assembly order can handle only one SKU of an item at a time. You must create an assembly order for each combination of SKU that has a quantity in inventory.

> [!NOTE]
> For a warehouse location, you might have to create picks before you can post the assembly order. To investigate that, review the setup for picking on the **Location Card** page. For more information, see [Set Up Items and Locations for Directed Put-away and Pick](warehouse-how-to-set-up-items-for-directed-put-away-and-pick.md).

### Handle inventory quantities that are allocated to demand

Ideally, the inventory for the original item should go to zero after you transfer the inventory quantities. However, there can be outstanding orders, worksheets, and journals (see the table below) that still require a quantity of the original item. The quantity could also be blocked by a reservation or item tracking.

**Example**
There are 1000 pcs. in inventory, and 20 pcs. are reserved for a sales order that has not yet shipped. In that case, you might decide to keep the 20 pcs. in the old item so that you can fulfill the outstanding order.

> [!NOTE]
> There are functional areas that can affect the quantity, as listed in the table below, so it can be tricky to find the correct amount. To be safe, using the example above, you can choose to keep 100 pcs. and transfer the remaining 900 pcs. instead. Another way to do it would be to process the documents and journals so that only a manageable few remain. Yet another alternative is to transfer the entire quantity to the new item and then transfer some of it back to the original item using the assembly order.

The following table lists functional areas where there might be outstanding quantities.

|Area  |Where to look for outstanding quantities  |
|---------|---------|
|Sales |Sales documents, including orders, return orders, invoices, quotes, blanket orders, and credit memos |
|Inventory |Item journals, reservations, item tracking, and standard cost worksheet |
|Purchase |Purchase documents, including orders, return orders, invoices, quotes, blanket orders, and credit memos |
|Planning |Requisition worksheet, planning worksheet, and order planning |
|Warehouse |Transfer orders, warehouse shipments, warehouse journals, and warehouse picks, put-aways, and movements, internal picks and put-aways, and bin creation worksheets |
|Assembly |Assembly documents, including orders, return orders, and blanket orders |
|Jobs |project planning lines and project journal lines |
|Service |Service documents and service contracts |
|Production |Production orders (planned, firm planned, and released) |

### Block the original item from further use

When the inventory for the original item is zero, you can block the item to prevent it fom being used in new transactions. To block the item, on the **Item Card** page, turn on the **Blocked** toggle. For more information, see [Block Items from Sales or Purchasing](inventory-how-block-items.md).

## Summary

Changing the costing method on items that have been used in transactions is a process, and not a standard action in [!INCLUDE[prod_short](includes/prod_short.md)]. You can use the steps described in this topic as a template for the process.

The process can be time consuming because there are several manual steps. However, taking the time to complete it will minimize the impact of mistakes on your general ledger.

We recommend the following:

1. Assess the feasibility of the process by taking one, or maybe a few, representative items through the entire process.
2. Consider contacting an experienced partner who can help you with the process.

## See Also

[Design Details: Costing Methods](design-details-costing-methods.md)  
[Overview](design-details-inventory-costing.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-other
---
title: Business Central Extensions by Other Providers
description: This article lists the apps and extensions to customize Business Central provided by other companies.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms. search.keywords: app, add-in, manifest, customize
ms.date: 02/17/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: solsen
---

# Business Central extensions by other providers

At [AppSource.microsoft.com](https://appsource.microsoft.com/), you can get extensions for [!INCLUDE[prod_short](includes/prod_short.md)]. Some extensions are provided by Microsoft, and other extensions are provided by other companies. We refer to the websites that these companies provide for more information about the extensions that aren't published by Microsoft. You can find this information at [AppSource.microsoft.com](https://go.microsoft.com/fwlink/?linkid=2081646).  

The list of the extensions by other companies grows each month. So keep an eye out for [AppSource.microsoft.com](https://go.microsoft.com/fwlink/?linkid=2081646) and get apps to help you in your work in [!INCLUDE[prod_short](includes/prod_short.md)].

## Understanding the risks of installing apps

[!INCLUDE [ui-extensions-risk-install-apps](includes/ui-extensions-risk-install-apps.md)]

## See also

[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-managing-projects-with-jobs
---
title: Walkthrough - Managing projects with projects
description: This walkthrough introduces you to the project management features the let you schedule the use of your company's resources.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 05/30/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: managing projects

<!-- [!INCLUDE[complete_sample_data](includes/complete_sample_data.md)]   -->

This walkthrough introduces you to the project management features. Projects are a way for you to schedule the usage of your company's resources and to keep track of the various costs associated with the resources on a specific project. Projects involve the consumption of employee hours, machine hours, inventory items, and other types of usage that you might want to track as a project progresses.  

This walkthrough covers the setup of a new project and related tasks:

- Handle fixed pricing
- Make payments in installments
- Post invoices from projects
- Copy projects

## About this walkthrough

 This walkthrough demonstrates the following tasks:  

### Setting up a project

With the budget structure set up for projects, creating a project is straightforward. This walkthrough covers the following procedures:  

- Set up project task lines and planning lines.  
- Create project-specific prices for items, resources, and general ledger accounts.  
- Invoice customers for a project.  

### Handling fixed prices

 You can handle fixed prices and the prices for services or goods that are agreed upon in advance with customers. In this walkthrough, you'll learn how to:  

- See how contract and invoice values are determined.  
- Allow for extra work in the schedule that isn't invoiced.  

### Copying a Project

 This part of the walkthrough focuses on how to copy part or all of a project in order to reduce manual data entry and improve accuracy.

- Copy part of a project to a new project.  
- Copy project-specific prices.  
- Copy planning lines.  

### Making Payment by Installment

 When a large, expensive project lasts for a long period, the customer often makes an agreement with the company to pay by installments. This scenario shows how you set up payment by installments and covers:  

- Create payment by installments for a project.  
- Invoice payments to customers.  
- Account for usage in a project set up for payment by installments.  

## Roles

 This walkthrough includes tasks for the following roles:  

- Project Manager  
- Project Team Member  

## Prerequisites

 Before you can perform the tasks in the walkthrough, you must:  

- Install the CRONUS demonstration database.
- Create sample data by using the steps in the following section.  

## Story

This walkthrough focuses on CRONUS, which is a fictional design and consultancy firm that designs and fits new infrastructures. For example, conference halls and offices with furniture, accessories, and storage units. Most of its work is project oriented. Prakash, a project manager at CRONUS uses project to get an overview of each ongoing task that CRONUS started and completed. Prakash is usually the one who sets up deals with customers and enters the core of the project, which is task and planning lines in addition to prices, into [!INCLUDE[prod_short](includes/prod_short.md)]. Prakash finds that creating, maintaining, and reviewing information is straightforward. Prakash also likes the way [!INCLUDE[prod_short](includes/prod_short.md)] enables copying projects and payment by installments.

 Tricia, a project team member who reports to Prakash, is responsible for monitoring the project day-to-day. Tricia enters the work done by technicians on every task, records the items that they used, and the costs that they incurred.  

## Preparing sample data

To prepare for this walkthrough, you must add Tricia as a resource.  

### To prepare the sample data  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resources**, and then choose the related link.  
2. Choose the **New** action to create a new resource card.  
3. On the **General** FastTab, enter the following information:  

    - **No.**: **Tricia**  
    - **Name**: **Tricia**  
    - **Type**: **Person**  

4. Choose the **Base Unit of Measure** field, and choose the **New** action to open the **Resource Unit of Measure** page. In the **Code** field, select **Hour**.  
5. On the **Invoicing** FastTab, enter the following information:  

    - **Direct Unit Cost**: **5**  
    - **Indirect Cost %**: **4**  
    - **Unit Cost**: **10**  
    - **Gen. Prod. Posting Group**: **Services**  
    - **VAT Prod. Posting Group**: **VAT 25**  

6. Close the page.

In the next procedure, you create a project journal batch for Tricia in order to post their usage.  

### To create a project journal batch  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. On the **Project Journal** page, choose the **Batch Name** field. The **Project Journal Batches** page opens.  
3. Choose the **New** action to create a new line with the following information:  

    - **Name**: **Tricia**  
    - **Description**: **Tricia**  
    - **No. Series**: **JJNL-GEN**  

4. Choose the **OK** button to save the changes.

## Setting up a project

In this scenario, CRONUS won a contract with a customer, Progressive Home Furnishings, to design a conference and dining hall. The customer is based in the United States and the project requires special software. The project manager reaches an agreement with the customer and creates a project that covers the agreement.  

### To set up a project  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.  
2. Choose the **New** action to create a new card.  
3. On the **General** FastTab, enter the following information:  

    - **Description**: **Advising on conference hall setup**  
    - **Bill-to-Customer No.**: **01445544**  

4. On the **Posting** FastTab, enter the following information:  

    - **Status**: **Planning**  
    - **Project Posting Group**: **Setting Up**  
    - **WIP Method**: **Cost Value**  

5. On the **Duration** FastTab, type today's date into the **Starting Date** and **Ending Date** fields. These dates help apply currency conversions when the project is invoiced.  
6. On the **Foreign Trade** FastTab, set the currency code to **USD**. If you select USD in the **Invoice Currency Code** field, the project is invoiced in U.S. dollars and planned in the local currency of CRONUS only.  

 You can customize the pricing for customers on a per project basis, depending on the agreements you have. In the next procedure, the project manager specifies a cost for Tricia's time, sets the price for the required software, and adds in the travel costs that the customer agreed to pay.  

### To customize pricing  

1. From the **Project Card**, choose the **Resource** action.  
2. On the **Project Resource Prices** page, enter the following information:  

    - **Code**: **Tricia**  
    - **Unit Price**: **20**  

3. Close the page.  
4. Choose the **Item** action.  
5. On the **Project Item Prices** page, enter the following information and customized price:  

    1. **Item No.**: **80201 (Graphic Program)**  
    2. **Unit Price**: **200**  

6. Close the page.  
7. Choose the **G/L Account** action.  
8. On the **Project G/L Account Prices** page, enter the following information and the cost of travel, for which the customer agreed to pay cost plus 25 percent:  

    1. **G/L Account**: **8430 (Travel)**  
    2. **Unit Cost Factor**: **1.25**  

9. Close the page.  

 The final steps in setting up a project are adding the project tasks and the planning lines that are part of each task. The planning lines determine what is invoiced to the customer.  

### To add project tasks  

1. On the **Project** card for the new project, choose the **Project Task Lines** action.  
2. The following table describes the information that you should enter in the fields.  

    |Project Task No.|Description|Project Task Type|  
    |------------------|---------------------------------------|-------------------|  
    |1000|Consulting on hall setup|Begin-Total|  
    |1010|Consultation meeting with customer|Posting|  
    |1020|Development|Posting|  
    |1090|Consulting Total|End-Total|  

3. To show that some tasks are subcategories of other tasks, choose the **Indent Project Tasks** action.  

A planning line can be one of the following types:  

- **Budget**: Added to the schedule, but not invoiced.  
- **Billable**: Invoiced, but not added to the schedule.  
- **Both Budget and Billable**: Invoiced and added to the schedule.  

In this walkthrough, the project manager uses **Both Budget and Billable**. They create three planning lines for task 1010, and two planning lines for task 1020.  

### To create planning lines  

1. Select line 1010, and then choose the **Project Planning Lines** action.  
2. Create planning lines with the following information:  

    | Line | Line Type | Planning Date  | Type        | No.   | Quantity | Unit Price |
    |------|-----------|----------------|-------------|-------|----------|------------|
    | 1    | Both Budget and Billable | (today's date) | Resource | Tricia | 40        |     |
    | 2    | Both Budget and Billable | (today's date) | Resource | Timothy | 40        |     |
    | 3    | Both Budget and Billable | (today's date) | G/L Account | 8430 (Travel) | 2 | 400    |

     Close the page. The totals are updated on the **Project Task Lines** page.  
3. Select line 1020, and then choose the **Project Planning Lines** action. Enter the following information:  

    | Line | Line Type | Planning Date  | Type        | No.   | Quantity | Unit Price |
    |------|-----------|----------------|-------------|-------|----------|------------|
    | 1    | Both Budget and Billable | (today's date) | Resource | Tricia | 80        |     |
    | 2    | Both Budget and Billable | (today's date) | Item | 80201 (Graphic program) | 1 |     |

4. Close the page. Totals are updated on the **Project Task Lines** page.  

## Calculating remaining usage

Tricia, the team project member, has been working on the project for a while and wants to register their hours and usage. Tricia didn't work more hours than was agreed upon with the customer in advance. Tricia uses the **Calculate Remaining Usage** batch job to calculate remaining usage in a project journal. For each task, the batch job calculates the difference between scheduled usage of items, resources, and general ledger expenses and the actual usage posted in project ledger entries. The remaining usage is then displayed in the project journal, and Tricia can post it.  

### To calculate remaining usage  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. On the **Project Journal** page, in the **Batch Name** field, open the **Project Journals Batches** list. Select the **Tricia** project journal batch.  
3. Choose the **Calc. Remaining Usage** action.  
4. On the **Project Calc. Remaining Usage** page, on the **Project Task** FastTab, choose the **Project No.** field, and select the relevant project number, typically project J00010.  
5. On the **Options** FastTab, type **J00001** in the **Document No.** field. This information makes future tracking of the posting easier.  
6. Enter today's date as the posting date.  
7. Choose the **OK** button. This action generates project journal lines based on the planning lines that Prakash created.  
8. Choose the **OK** button on the confirmation page. The generated lines are added to the project journal.  
9. Make sure that all the document numbers are J00001, and then choose the **Post** action. Choose **Yes** to confirm the posting.  

The lines are now posted.  

## Creating and posting a project sales invoice

Next, Tricia can create a new invoice for the whole project or for part of a project. Tricia can also attach the invoice to another invoice for the same customer for the same project. In this case, Tricia invoices for the whole project because the project is now completed.  

### To create a project sales invoice  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.  
2. Select the project that you created earlier, and then choose the **Create project Sales Invoice** action.  
3. On the **Project Task** FastTab, clear any filter on **Project Task No.** in order to invoice the project. In the **Project No.** field, select the relevant project.  
4. On the **Options** FastTab, fill in the posting date and define whether you want to create one invoice per task or just a single invoice for all tasks.  
5. Choose the **OK** button to create the invoice and choose the **OK** button on the confirmation page.  

After Tricia creates the invoice, it's available from the **Sales Order Processor** Role Center, for example.

### To post a new sales invoice  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, and then choose the related link.  
2. Open the invoice for Customer No. 01445544. You can see the information that was entered from the planning lines.  
3. Choose the **Post** action. Choose **Yes** to confirm the posting.  

### To view the posted invoice  

1. Open the project, and then choose the **Project Planning Lines** action.  
2. Select any of the planning lines that were invoiced, and then choose the **Sales Invoice/Credit Memo** action.
3. On the **Project Invoices** page, choose the **Open Sales Invoice/Credit Memo** action.  

Tricia has a question about the prices, costs, and profits that are relevant to this particular project, so Tricia accesses that information on the **Statistics** page.  

### To open the Statistics page  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.  
2. Choose the **Statistics** action. You can review detailed information about the project prices, costs, and profits in both local and foreign currencies.  
3. Choose the **Close** button to close the **Project Statistics** page.  

## Handling fixed prices

CRONUS is contracted to set up conference rooms. As the project manager, Prakash wants a good overview of the tasks required for the project with the associated budgeted and incurred costs for each task. In addition, Prakash wants to know the total contracted price for the project and the amount that was invoiced to this point. They're in agreement with the customer regarding fixed pricing for the project.  

### To manage fixed pricing in projects  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.  
2. Select the **Guildford** project number, and then choose the **Project Task Lines** action.  
3. Select line 1120, and in the **Budget (Total Cost)** field, right-click the amount and choose **DrillDown**.  

     By reviewing the Project Planning Lines, it's determined that Prakash needs Tricia for 30 hours for this stage of the project. Prakash agrees on a fixed price with the customer.  

4. On the **Project Task Lines** page, select line 1120, and then choose the **Project Planning Lines** action. Create a planning line with the following information:  

    | Line | Line Type | Type        | No.   | Quantity |
    |------|-----------|-------------|-------|----------|
    | 1    | Both Budget and Billable  | Resource | Tricia | 30 |

     Close the page.  
5. In the **Budget (Total Cost)** field, right-click the field, and choose **Drilldown** again on the **Project Task Lines** page. View the changes to the schedule. You see that 30 hours are added to the schedule.  
6. Close the pages.  

After being added to the schedule for this task line, Tricia works 25 hours on the project, and enters these hours into the project journal.  

### To enter hours in a project journal  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. On a new line, enter the following information:  

    - **Line Type**: **(blank)**  
    - **Posting Date**: **(today's date)**  
    - **Document No.**: **J00002**  
    - **Project No.**: **Guildford**  
    - **Project Task No.**: **1120**  
    - **Type**: **Resource**  
    - **No.**: **Tricia**  
    - **Quantity**: **25**  

3. Choose the **Post** action.  

     A few days later, Tricia works for another 10 hours on the project and has worked 35 hours in all. Because the agreement is for 30 hours with the customer, only five of these hours are charged to the customer. Tricia manually adds the other five hours to the schedule.  

4. On the **Project Journal** page, choose the **Calc. Remaining Usage** action.  
5. On the **Project Calc. Remaining Usage** page, on the **Options** FastTab, enter the following information:  

    - **Document No.**: **J00003**  
    - **Posting Date**: **(today's date)**  

6. On the **Project Task** FastTab, enter the following information:  

    - **Project No.**: **Guildford**  
    - **Project Task No.**: **1120**  

7. Choose the **OK** button to run the calculation.

    There are five hours of work remaining for Tricia. The **Line Type** field is blank, which indicates that only the usage remains to be posted because the work was already scheduled.  

8. In the **Project Journal**, create a new line with the following information. Make sure that both project numbers are sequential with the numbers you've already used:  

    - **Line Type**: **Budget**  
    - **Project No.**: **Guildford**  
    - **Project Task No.**: **1120**  
    - **Type**: **Resource**  
    - **No.**: **Tricia**  
    - **Quantity**: **5**  

     If you use the **Budget** line type, there are updates to the scheduled costs and prices, but no updates to the contract costs and prices that are invoiced to the customer.  

9. Choose the **Post** action. Choose the **OK** button to close the page.  
10. Open the **Projects** list.  
11. Select the GUILDFORD project, and then, in the **Project Task Lines** section, select line 1120 and in the **Budget (Total Cost)** field, right-click the amount. Choose **DrillDown** to view the information.  

     Changes are automatically entered on the line for Project Task No. 1120. In the total cost of scheduled work, five more hours of work by Tricia were added to the schedule.  

12. Choose the **Close** button to close the page.  
13. Right-click the amount in the **Contract (Total Cost)** field and choose **DrillDown** to view the information.  

In the total price for the contract, only the original contracted 30 hours are included, as agreed upon with the customer.  

## Copying projects

Prakash reached an agreement with a customer, Selagorian Ltd, to set up 10 conference rooms. The agreement resembles an earlier project. Therefore, it saves time to copy that earlier project.  

On the **Copy Project** page, you can select the project and task lines that you want to copy.

- Copy the source project ledger entries to create planning lines based on actual use.
- Copy the source project planning lines to copy the original planning lines to the new project.

You can then choose what planning line or ledger entry line type that you want to include, selecting only what is relevant to this new project. Finally, you can select the project that you want to copy to and define whether prices and quantities should be copied as well.  

### To copy a project  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Projects**, and then choose the related link.  
2. Choose the **New** action to create a new project. Enter the following information:  

    - **Description**: **Setting up 10 Conference Rooms**  
    - **Bill-To Customer No.**: **20000**  

3. Choose the **Copy Project Tasks from** action.  
4. On the **Copy Project Tasks** page, enter the following:  

    - **Project No.**: **Guildford**  
    - **Project Task No. From**: **1000**  
    - **Source**: **Project Planning Lines**  
    - **Incl. Planning Line Type**: **Budget + Billable**  
    - **To Project No.**: **GuildfordSetting up 10 Conference Rooms**  
    - Select the **Copy Dimensions** and **Copy Quantity** fields.  

5. Choose the **OK** button to copy the project, and then choose the **OK** button to close the confirmation page.  

By comparing prices, project task lines, and project planning lines for the two projects, you can see that the information was successfully copied.  

## Making payments by installments

CRONUS just landed a large project that will take a year to complete. Because it requires many resources, the project manager sets up the contract so that the customer pays part of the price up front, part when the project is halfway completed, and the final payment upon completion.  

### To set up a new account  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. On the **Chart of Accounts** page, choose the **New** action to create a new card.  
3. On the **New G/L Account** card, enter the following information:  

    - **No.**: **40255**  
    - **Name**: **Project Payment**  

4. On the **Posting** FastTab, in the **Gen. Prod. Posting Group** field, select **Services**. Close the page.  
5. On the **Chart of Accounts** page, select **No. 40255 Job Payment**, and then choose the **Indent Chart of Accounts** action. Choose **Yes** to confirm.  

The following procedures show how to create a new project, set pricing, and then set up payment by installment. In the project task lines, you can create specific lines dedicated to the payment by installments. All work completed on the project that is added to the schedule will be entered on the usage lines. For each payment task line on the planning lines, the line type is **Billable**, which means that the customer will be invoiced. Enter a new line for the down payment. On the usage task line, you can enter the information for the items and resources that have been used in this project, which will increase the schedule, such as employee hours and items used on the project.  

### To make a payment by installment  

1. Create a new project.  
2. On the new **Project** card, fill in the following information:  

    - **Description**: **Redecoration of Reception Area**  
    - **Bill-to-Customer No.**: **30000**  
    - **Project Posting Group**: **Setting up**  
    - **WIP Method**: **Cost Value**  

3. On the Project Card, choose the **Prices** action, and then choose the **Resource** action. Enter the following information:  

    - **Code**: **Tricia**  
    - **Unit Price**: **10**  

     Close the page.  

4. On the **Project** card, in the **Tasks** section, add project task lines as described in the following table:  

    | Line | Project Task No. | Description          | Project Task Type |
    |------|--------------|----------------------|---------------|
    | 1    | 1000         | Payment-Down Payment | Posting       |
    | 2    | 2000         | Usage                | Posting       |
    | 3    | 3000         | Payment - Midway     | Posting       |
    | 4    | 4000         | Payment - Completion | Posting       |

5. Choose task 1000, and then choose the **Project Planning Lines** action.  

6. Create a planning line with the following information:  

    | Line | Line Type | Planning Date  | Type        | No.   | Quantity | Unit Price |
    |------|-----------|----------------|-------------|-------|----------|------------|
    | 1    | Billable  | (today's date) | G/L Account | 40255 | 1        | 5000       |

     Close the page.  

7. Choose task 2000, and then choose the **Project Planning Lines** action.  

8. Create a planning line with the following information:

    | Line | Line Type | Planning Date  | Type     | No.    | Quantity |
    |------|-----------|----------------|----------|--------|----------|
    | 1    | Budget    | (today's date) | Resource | Tricia | 120      |
    | 2    | Budget    | (today's date) | Item     | 70104  | 10       |

     Close the page. On the **Project Task Lines** page, you can see the schedule amounts have been updated.  

9. Choose task 32000, and then choose the **Project Planning Lines** action.  

10. Create a planning line with the following information:

    | Line | Line Type | Planning Date   | Type        | No.   | Quantity | Unit Price |
    |------|-----------|-----------------|-------------|-------|----------|------------|
    | 1    | Billable  | (a future date) | G/L Account | 40255 | 1        | 5000       |

     Close the page.  

11. Create a similar planning line entry for project task 4000.  

 Now that the task and planning lines have been entered, Prakash creates an invoice for the first payment. Prakash does this from the project task lines to make sure that the invoice only contains the lines for the first payment. You can open the sales order from the planning lines or the task lines.  

### To create an invoice  

1. On the **Project Task Lines** page, select line 1000, and then choose the **Create Sales Invoice** action.  
2. On the **Create Sales Invoice** page, set today's date as the posting date, specify **Per Task**, and choose the **OK** button to create an invoice with the default information. Choose the **OK** button to close the confirmation page.  
3. Choose the **Sales Invoice/Credit Memo** action. On the sales invoice, you can see that only the down payment is included in the invoice. You can now send this to the customer as agreed.  

## Summary

This walkthrough has taken you through some of the basic steps of working with projects in [!INCLUDE[prod_short](includes/prod_short.md)]. You have learned about how to create a new project, how to copy a project, and how to handle payments. Also, you have seen a demonstration of how to track hours and create invoices.  

## See also

 [Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)  
 [Setting Up Project Management](projects-setup-projects.md)  
 [Use Resources](projects-how-use-resources.md)  
 [Monitor Progress and Performance](projects-how-monitor-progress-performance.md)  
 [Invoice Projects](projects-how-invoice-jobs.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-examples-custom-financial-reports
---
title: Create custom financial reports
description: Learn how to create your own trial balance, balance sheet, and income statement reports.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/11/2024
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: 108, 490, 790
ms.service: dynamics-365-business-central
---

# Walkthrough: Create custom financial reports

The examples in this article describe how to create the following reports:

* Example 1 creates a Trial Balance report
* Example 2 creates a Balance Sheet report
* Example 3 creates an Income Statement report

> [!NOTE]
> The examples are based on the demonstration data that [!INCLUDE [prod_short](includes/prod_short.md)] provides for its CRONUS demonstration company.

> [!TIP]
> Formulas are expressed as a row number reference, such as "R" or "CA" (current assets), which adds all accounts with row number "R" or "CA."

## Example 1: Trial Balance

In this example, we have a new financial report called **Trial Balance** and a new row definition called **TB**.

:::image type="content" source="media/trialbalanceselection.png" alt-text="Shows the trial balance selection.":::

1. Open the new Trial Balance report.
1. Open the **TB** row definition, and choose **Insert**.
1. Choose the **Insert G/L Accounts** action to open the G/L Accounts page.
1. Filter the **Account Type** column to **Posting**.

   > [!TIP]
   > To quickly apply the filter, choose any row that has Posting in the Account Type column, and then right-click the Account Type column header and choose **Filter to this value**.

1. On the first line, choose **Show more options** :::image type="content" source="media/show-more-options-icon.png" alt-text="Show more options icon.":::, and then choose **Select more**.
1. Select all lines by choosing the radio button next to the first column header.

   :::image type="content" source="media/account type select all.png" alt-text="Shows how to select all lines.":::

1. Choose **OK** to assign all general ledger accounts with a totaling type of Posting to your row definition.

   > [!TIP]
   > To sum the results of all lines, add a formula on the last line of the row definition. Because this is a trial balance report, the expected result is zero.

Your trial balance report is complete. To view the report, choose the report on the Financial Reporting page, and then choose **View Financial Report**. Choose the column definition you prefer for the report. Often used column definitions for a trial balance report are **Balance Only**, **M-Balance**, and **Default**.

> [!TIP]
> If you add a new general ledger account to the chart of accounts, you must update your row definition to include it. Otherwise, your trial balance report won't balance to zero.

## Example 2: Balance Sheet

In this example, we have a new financial report called **Balance Sheet** and a new row definition called **BS**.

:::image type="content" source="media/balance sheet selection.png" alt-text="Shows a balance sheet selection in financial reporting.":::

1. Open the Balance Sheet report.
1. Open the **BS** row definition.
1. Map the accounts as shown in the following table. This example maps the balance sheet to the chart of accounts in the CRONUS demonstration company.

| Row No.| Description | Totaling Type | Totaling  | Row Type  | Bold  |
|---------|---------|---------|---------|---------|---------|
| | **Current Assets**| Formula | |Balance at Date    | Yes |
|CA | Cash                | Posting Accounts | 18000..18999 |Balance at Date|     |
|CA | Accounts Receivable | Posting Accounts | 15000..15999 |Balance at Date|    |
|CA |  Other Receivables  | Posting Accounts | 13000..13999 |Balance at Date|    |
|CA | Inventory           | Posting Accounts | 14000..14999 |Balance at Date|    |
|CA |Prepaid Expenses     | Posting Accounts | 16000..16999 |Balance at Date|    |
|CA |Other Current Assets | Posting Accounts | 100000..11999|Balance at Date|    |
|F1 | **Total Current Assets**  | Formula    |              |Balance at Date|    |
|   |                           | Formula    |              |Balance at Date|    |
|   | **Long Term Assets**      |            |              |Balance at Date|Yes |
|LTA|Fixed Assets         | Posting Accounts| 10000..12899  |Balance at Date|    |
|LTA|Accumulated Depreciation| Posting Accounts|12900..12999|Balance at Date|    |
|LTA|Other Long Term Assets | Posting Accounts|17000..17999|19000..19999|Balance at Date|
|F2 |**Total Long Term Assets**|Formula     |   LTA         |Balance at Date | Yes |
|   |                          | Formula    |               |Balance at Date |     |
|F3 | **Total Assets**         |            | F1+F2         | Balance at Date|     |

The following table describes the fields on the **Row Definition** page.

|Field  |Description  |
|---------|---------|
|Row No.      |Alphanumeric codes are used for each section. The codes let you group by row number when you use formulas. Groupings help make formulas shorter and more simple. Each formula line is labeled with an alphanumeric code for easy identification.         |
|Description  | Used to hold the words to label each row of the report.        |
|Totaling type| Formula is used in three ways:<br><br>* To add the results of rows together.<br><br>* When combined with a section header or total.<br><br>* When inserting a blank row into the report.<br><br> Posting accounts are used to indicate that the row pulls the result of posted transactions based on the accounts listed in the Totaling column. |
|Totaling | Contains either a range of accounts shown as 10000..11999, or multiple nonconsecutive ranges of accounts shown as 17000..17999\|19000..19999.<br><br> Formulas are expressed as a row number reference, such as CA, which adds all accounts with Row No. of CA.<br><br> Following the general accounting convention of displaying financial report lines in the order of liquidity, general ledger accounts initially appear out of order. Notice that accounts show in the ranges created for each line. Totaling ranges let the report update dynamically when you add a new general ledger account to your chart of accounts.  |
|Row type     | Balance at Date is used for Balance Sheet reports.        |
|Bold         | Section headers and totals are set to Bold so they stand out.        |

> [!TIP]
> This example shows a summarized balance sheet, where each line is a group of related balance sheet accounts. Your report’s level of summarization is up to you. Good financial report design tries to provide enough detail to tell the story of financial performance without detailing every account. Avoid creating a balance sheet that is a categorized trial balance. It can be hard for people to digest such a large amount of information.

Continue to add balance sheet sections as shown in the following table. You can incorporate your own account groupings to create or replicate your company’s method of displaying accounts.  

The last line of this report is a check figure that the report complies with the accounting equation where Assets=Liabilities+Equity. The result of this check figure should be zero. If it isn't zero, it's a good indication that there's a problem:

* Some accounts aren't included in the report.
* Accounts might be included more than once.
* A formula in the report isn't calculating correctly.

| Row No. | Description | Totaling Type | Totaling | Row Type  | Bold  |
|---------|---------|---------|--------- |---------|---------|
|| **Current Liabilities**| Formula | |Balance at Date| Yes|
|CL|Accounts Payable|Posting Accounts|22100..22399|Balance at Date||
|CL|Accrued Payroll|Posting Accounts|23500..25399|26100..26399|Balance at Date|
|CL|Accrued Tax|Posting Accounts|23100..23499|Balance at Date||
|CL|Accrued Other|Posting Accounts|26400..29999|Balance at Date||
|CL|Other Current Liabilities|Posting Accounts|22400..23099|25400..26099|Balance at Date|
|F4|**Total Current Liabilities**|Formula|CL|Balance at Date| Yes |
|||Formula||Balance at Date||
||**Long Term Liabilities**|Posting Accounts||Balance at Date| Yes |
|LTL|Notes Payable|Posting Accounts|20000..21299|Balance at Date||
|LTL|Other Long Term Liabilities|Posting Accounts|21300..22099|Balance at Date||
|F5|**Total Long Term Liabilities**|Formula|LTL|Balance at Date| Yes |
|||Formula||Balance at Date||
|F6|**Total Liabilities**|Formula|F4+F5|Balance at Date| Yes |
|||Formula||Balance at date||
||**Equity**|Formula||Balance at Date||
|E|Common Stock|Posting Accounts|30000..30299|Balance at Date||
|E|Retained Earnings|Posting Accounts|30300..39999|Balance at Date||
|E|Current Year Earnings|Posting Accounts|40000..99999|Balance at Date||
|F7|**Total Equity**|Formula|E|Balance at Date||
|||Formula||Balance at Date||
|F8|**Total Liabilities and Equity**|Formula|F6+F7|Balance at Date| Yes |
|||Formula||Balance at Date||
|F9|Check Figure|Formula|F3+F8|Balance at Date||

Your balance sheet financial report is complete. To view the report, choose the report on the Financial Reporting page and select **View Financial Report**. Select any column definition to use with this report. The column definitions that are typically used for a balance sheet are **Balance Only**, **M-Balance**, and **Default**. You can also create a new column definition if you want.

The following image shows the structure of the report in this example.

:::image type="content" source="media/balance sheet report example.png" alt-text="Shows the structure of the balance sheet report"::: 

## Example 3: Income Statement

In this example, we have a new financial report called **Income Statement** and a new row definition called **IS**.

:::image type="content" source="media/income statement selection.png" alt-text="Shows the income statement selection.":::

1. Open the **Income Statement** report.
1. Open the **IS** row definition.
1. Map the accounts as shown in the following table. This example maps the balance sheet to the chart of accounts in the CRONUS demonstration company.

| Row No.  | Description  | Totaling Type  | Totaling  | Row Type  | Bold  |
|---------|---------|---------|--------- |---------|---------|
||**Revenue**|Formula||Net Change| Yes |
|R|Product Revenue|Posting Accounts|40000..40209|Net Change||
|R|Job Revenue|Posting Accounts|40410..40429|Net Change||
|R|Services Revenue|Posting Accounts|40210..40309|40430..40909|Net Change|
|R|Other Revenue|Posting Accounts|40310..40409|40920..40939|Net Change|
|R|Discounts and Returns|Posting Accounts|40910..40919|40940..49999|Net Change|
|F1|**Total Revenue**|Formula|R|Net Change| Yes |
|||Formula||Net Change||
||**Cost of Goods**|Formula||Net Change||
|C|Materials|Posting Accounts|50000..50209|Net Change||
|C|Labor|Posting Accounts|50210..59999|Net Change||
|C|Manufacturing Overhead|Posting Accounts|60000..69999|Net Change||
|F2|**Total Cost of Goods**|Formula|C|Net Change| Yes |
|||Formula||Net Change||
|F3|**Gross Margin USD**|Formula|F1+F2|Net Change| Yes |
|F4|**Gross Margin %**|Formula|F3/F1*100|Net Change| Yes |

The following table describes the fields on the **Row Definition** page.

|Field  |Description  |
|---------|---------|
|Row No.      |Alphanumeric codes are used for each section. The codes let you group by row number when you use formulas. Groupings help make formulas shorter and more simple. Each formula line is labeled with an alphanumeric code for easy identification.         |
|Description  | Used to hold the words to label each row of the report.        |
|Totaling type| Formula is used in three ways:<br><br>* To add the results of rows together.<br><br>* When combined with a section header or total.<br><br>* When inserting a blank row into the report.<br><br> Posting accounts are used to indicate that the row pulls the result of posted transactions based on the accounts listed in the Totaling column. |
|Totaling | Contains either a range of accounts shown as 40000..40209, or multiple nonconsecutive ranges of accounts shown as 40210..40309\|40430..40909.<br><br> Formulas are expressed as a row number reference, such as CA, which adds all accounts with Row No. of CA.<br><br> Following the general accounting convention of displaying financial report lines in the order of liquidity, general ledger accounts initially appear out of order. Notice that accounts show in the ranges created for each line. Totaling ranges let the report update dynamically when you add a new general ledger account to your chart of accounts.  |
|Row type     | Balance at Date is used for Balance Sheet reports.        |
|Bold         | Section headers and totals are set to Bold so they stand out.        |

> [!TIP]
> This example shows a summarized income statement, where each line is a group of related incomes statement accounts. Your report’s level of summarization is up to you. Good financial report design attempts to provide enough detail to tell the story of financial performance without detailing every account. Avoid creating an income statement that's a categorized trial balance. It can be hard for people to digest such a large amount of information.

Continue to add income statement sections as shown in the following table. You can incorporate your own account groupings to create or replicate your company’s method of displaying accounts.  

The last line of this report is a check figure that the report complies with the accounting equation where Assets = Liabilities + Equity. The result of this check figure should always be zero. If it isn't zero, it's a good indication that there's a problem:

* Some accounts aren't included in the report.
* Accounts might be included more than once.
* A formula in the report isn't calculating correctly.

|Row No.  |Description  |Totaling Type  |Totaling  |Row Type  |Bold  |
|---------|---------    |---------      |--------- |---------|---------|
||**Operating Expense**|Formula||Net Change| Yes |
|OE|Salaries and Wages|Posting Accounts|70000..72109|Net Change||
|OE|Employee Benefits|Posting Accounts|72110..73299|Net Change||
|OE|Employee Insurance|Posting Accounts|73300..74109|Net Change||
|OE|Employee Tax|Posting Accounts|74110..79999|Net Change||
|OE|Depreciation|Posting Accounts|80000..89999|Net Change||
|OE|Other Expense|Posting Accounts|90000..99999|Net Change||
|F5|**Total Operating Expense**|Formula|OE|Net Change| Yes |
|||Formula||Net Change||
|F6|**Net (Income) / Loss**|Formula|F1+F2+F5|Net Change||
|||Formula||Net Change||
|F7|Total of Income Statement|Posting Accounts|40000..99999|Net Change||
|F8|Check Figure|Formula|F6-F7|Net Change||

Your income statement report is complete. To view the report, choose the report on the **Financial Reporting** page, and select **View Financial Report**. Select any column definition you like to use with this report. The often used column definitions for an income statement are **M-NetChang** and **PTD + YTD**. You can also create a new column definition.

The following image shows the structure of the report in this example.

:::image type="content" source="media/income statement report.png" alt-text="Shows the structure of the income statement report.":::

## See also

[Primary capabilities of financial reporting](finance-financial-reporting-capabilities.md)  
[Walkthrough: Make cash flow forecasts using financial reports](walkthrough-making-cash-flow-forecasts-by-using-account-schedules.md)  
[Prepare financial reporting with financial data and account categories](bi-how-work-account-schedule.md)  
[Financial analytics overview](bi.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-order-agent-setup
---
title: Set up Sales Order Agent
description: Learn how to activate the Sales Order Agent and manage user access.
ms.date: 04/01/2025
ms.topic: how-to
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.collection:
  - bap-ai-copilot
ms.search.form: 4400_Primary, 4410
---
# Set up Sales Order Agent (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

The Sales Order Agent in Business Central automates processing sales orders from customer email requests. This article explains how to set up, activate, configure the Sales Order Agent, and manage user access.

Learn more about the agent in [Sales Order Agent overview](sales-order-agent.md).

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/production-ready-preview-dynamics365.md)]

<!--[!INCLUDE [limited-public-preview](includes/limited-public-preview.md)]-->

## Prerequisites

Before configuring and activating the sales order agent, ensure the following prerequisites are met:

- The Business Central environment is one of these country/region versions: AU (Australia), CA (Canada), GB (Great Britain), NZ (New Zealand), or US (United States).

  Sales Order Agent is currently unavailable in other countries/region versions. Learn more about geographic and language availability at [Copilot international availability](https://aka.ms/bapcopilot-intl-report-external).
- Set up the email account for receiving incoming requests for sales quotes and orders.

   The Sales Order Agent monitors incoming emails to this mailbox. The email account must be a **Microsoft 365** type (user mailbox or shared mailbox) in your organization. Learn more at [Set up email](admin-how-setup-email.md).

   > [!IMPORTANT]
   > To activate and configure the agent, you need **Read and manage (Full Access)** and **Send as** permission on the mailbox, unless it's your personal mailbox. As an Exchange admin, delegate these permissions to all users who need to activate and configure the agent. Learn more in [Use the Exchange admin center to edit shared mailbox delegation](/microsoft-365/admin/email/create-a-shared-mailbox#use-the-eac-to-edit-shared-mailbox-delegation).
   >
   > When a user activates the agent, it runs as a background task in the context of that user and needs access to the shared mailbox to process emails. It might take a few hours for Exchange to propagate the permissions to the selected users.
- Set up the Business Central environment for billing agent capabilities (preview version 26.0 sandbox environments in Great Britain and United States only).

   Agents use Microsoft Copilot Studio messages when a user runs it, which your company is charged for. Learn more in [Manage consumption-based billing](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-consumption-billing).

- Turn on the **Allow HttpClient Requests** toggle in the **Sales Order Agent** extension settings (sandbox environments only)

   Open the [Extension management](https://businesscentral.dynamics.com/?page=2500) page, select **Sales Order Agent**, and then turn on the **Allow HttpClient Requests** toggle.

## Turn on the Sales Order Agent capability for the environment

The agent capability is on if the ![Shows the Sales Order Agent icon](media/soa-icon.png) **Sales Order Agent** icon appears in the top navigation menu of the role center.

![Shows the Sales Order Agent icon on a role center](media/soa-in-role-center.svg)

If the icon isn't present, turn it on from the **Copilot & agent capabilities** page, like other Copilot features in Business Central. The Sales Order Agent is listed under **Production ready previews**. Learn more in [Configure Copilot and AI agent capabilities](enable-ai.md).

Next, configure and activate the agent so it can process customer sales orders.

## Configure and activate Sales Order Agent

Configure and activate the Sales Order Agent for your company. Only one Sales Order Agent is allowed per company, but you can give access to many users.

1. In the navigation bar at the upper right of the role center, select ![Shows the Sales Order Agent icon](media/soa-icon.png) **Sales Order Agent** > **Activate**.

1. On the **Configure the Copilot agent** page, turn on the **Monitor incoming information** toggle, select the **Mailbox** check box, and then set **Mailbox** field to the email account you want the agent to monitor.

   ![Shows the Sales Order Agent configuration page](media/soa-configuration.png)

1. Select **Manage user access** to specify the users who can manage or interact with the agent. You can add more users now or later. Learn more in [Manage user access to the Sales Order Agent](#manage-agent-permissions-and-user-access).
1. Turn on the **Active** toggle.
1. On the right side of the page, select the **Go to next card** arrow to choose how the agent helps with inquiries, quotes, and orders.

    There are several options described in the following table:

    |Option|Description|Default|
    |-|-|-|
    |Select only available items|Specifies whether the agent considers item availability when searching for the customer's requested items.<br><br>When on, the agent checks inventory to determine whether the customer's requested item quantity is available based on their requested delivery date and location code. If there aren't enough items, the agent prepares the reply to the user that the requested items aren't available, even in situations when fewer items are available. <br><br>When off, the agent includes the customer's requested item quantity regardless of availability. That is, quotes can be created for the items which aren't available and their availability can become negative.<br><br>Learn more about item availability in [Get an availability overview](inventory-how-availability-overview.md) or open the [Item Availability page](https://businesscentral.dynamics.com?page=4410).|On|
    |Create sales documents|When on, the agent can create sales quotes and orders from email inquiries based on the remaining options in this table.<br><br>When off, the agent handles only email communication and doesn't create quotes or orders. The remaining options are irrelevant and can’t be set.|On|
    |Review quotes when created and updated|When on, the agent adds a review step for a Business Central user to review and confirm the sales quote before creating an outgoing email with the quote details and attachment. <br><br>When off, the agent creates or modifies sales quotes as requested and then automatically proceeds with creating an outgoing email with the quote as an attachment. The user must review and confirm the email before the agent sends it to the customer. |Off|
    |Make orders from quotes|When on, the agent converts confirmed sales quotes into orders after the customer agrees to the quote via email and the Business Central user confirms the email.<br><br>When off, you have to create the order manually.|On|
    |Review orders when created and updated|When on, the agent adds a review step for a Business Central user to review and confirm the sales order before creating an outgoing email with the order details and attachment. <br><br>When off, the agent creates the sales order as requested and then automatically proceeds with creating an outgoing email with the order as an attachment. The user must review and confirm the order before the agent sends it to the customer. |Off|

1. Select **Update** to complete the setup.
1. Ensure the Sales Order Agent's language is set to a supported language.

   When you configure the agent, it uses the same language as the display language of your workspace. [Learn how to change the agent's language](#change-language-and-regional-settings).

The **Sales Order Agent** icon changes to ![Shows the Sales Order Agent icon after configured](media/soa-activated-icon.png), indicating the agent is active and ready to handle incoming quote requests to the mailbox.

When the Sales Order Agent is active, a scheduled task added to job queue runs every 20 seconds on the mailbox. This task monitors new unread messages in the mailbox. If a new unread message is found, the Sales Order Agent imports the message into Business Central and verifies whether there's already a task for the mail thread. If a task for the thread already exists, the Sales Order Agent incorporates the new message into the existing task. Otherwise, it creates a new task for the message.

> [!NOTE]
> The ![Shows the Sales Order Agent icon when the agent is configure but not active](media/soa-not-activated-icon.png) icon indicates the agent is configured with mailbox, but it's not active. To activate it, select the icon, then select ![Shows the configuration icon for Sales Order Agent](media/soa-configure-icon.png) **Configure Sales Order Agent** to reopen the configuration page. From there, turn on the **Active** toggle.

## Manage agent permissions and user access

### Add agent users

As an administrator, you can specify which users have permission to use or configure the Sales Order Agent. There are two ways to add and configure agent users:

#### [From Configure Sales Order Agent](#tab/soaconfig)

1. Open the **Configure Sales Order Agent** page by selecting ![Shows the Sales Order Agent icon after configured](media/soa-activated-icon.png) **Sales Order Agent** > ![Shows the configuration icon for Sales Order Agent](media/soa-configure-icon.png) **Configure**.
1. Turn off the **Active** toggle.
1. Select **Manage user access**.
1. On the **Select users that can manage or interact with the Agent** page, you can do the following steps:

   - To add a user, select an empty line, select the **User Name** field, then select the user from the list.
   - To give a user permission to configure Sales Order Agent, select the **Can configure** check box. <br><br> The **Can configure** setting defines whether a user has access to update the agent configuration (for example, updating the designated mailbox, activating and deactivating the agent, and other settings) or only to work with the agent tasks (for example, reviewing and confirming agent steps).
   - To remove a user's access to the agent, select ![Shows the icon to show more option on a field](media/show-more-options-icon.png) **Show more options** next to the user name, and then select **Delete**.

#### [From Sales Order Agent card page](#tab/soapage)

1. To open the **Sales Order Agent** card page, search (<kbd>Alt</kbd>+<kbd>Q</kbd>) for  **Agents**, and then select **SALES ORDER AGENT - [COMPANY]**.
1. Set **Status** to **Disabled** to deactivate the agent.
1. In the **User access** section, you can do the following steps:

   - To add a user, select an empty line, select the **User Name** field, then select the user from the list.
   - To give a user permission to configure Sales Order Agent, select the **Can configure** check box.
   - To remove a user's access to the agent, select ![Shows the icon to show more option on a field](media/show-more-options-icon.png) **Show more options** next to the user name, and then select **Delete**.

---

### Manage agent permissions to objects, data, and UI elements

The Sales Order Agent has a user account in Business Central, similar to other users. To access this account, search for and open the **Agents** page, and then select **SALES ORDER AGENT - [COMPANY]** to open the agent card page.

The **Agent Permission Sets** section lists all the permission sets currently assigned to the agent. By default, the Sales Order Agent has the **SOA AGENT – EDIT** permission set. This set restricts access to only the objects, data, and UI elements (such as pages, fields, and actions) necessary for handling sales quote requests.

You can't modify the **SOA AGENT – EDIT** permission set directly, because it's a system permissions set. However, you can create a copy of **SOA AGENT – EDIT** permission set, modify the copy to suit your needs, then add it to **Agent Permission Sets** section, along with any other permission sets.

Before you can add or delete permission sets applied to the agent, change the **State** to disabled. When you're done making changes, set it back to **Enabled**.

The following system permissions are available for controlling user access to the agent's functionality:

- **Configure All Agents** (ID 9665): Grants a user access to manage the configuration settings of the Sales Order Agent.
- **Manage Agent Tasks** (ID 9670): Allows a user to work with agent tasks displayed in the Copilot pane.

These system permissions are also included in the following permission sets, entitlements, and license types:

- The **SECURITY** permission set includes the **Configure All Agents** permission.
- The **System Execute - Basic** permission set includes the **Manage Agent Tasks** permission.
- The **System Tables - Basic** permission set includes all virtual tables used by the agent (labeled as "Agent *" tables).
- Essential and Premium license entitlements now include **Manage Agent Tasks** permissions.
- All license types include **Configure All Agents** permissions.

Users can configure the Sales Order Agent if they have the **Configure All Agents** permission or are listed as an agent user with the **Can Configure** field selected.

Users can work with agent tasks in the Copilot pane if they have the **Manage Agent Tasks** permission (either explicitly or as part of their Essential or Premium license permissions) and are listed as an agent user.

## Change language and regional settings

[!INCLUDE[soa-language-support](includes/soa-language-support.md)]

1. To open the **Sales Order Agent** card page, search (<kbd>Alt</kbd>+<kbd>Q</kbd>) for  **Agents**, and then select **SALES ORDER AGENT - [COMPANY]**.
1. Select **User Settings**.
1. Set **Lanaguage** to a supported English locale.

## Next steps

[Process sales quotes and orders with Sales Order Agent](sales-order-agent-process.md)

## Related information

[Sales Order Agent overview](sales-order-agent.md)  
[FAQ for Sales Order Agent](faqs-sales-order-taker-agent.md)  
[Configure Copilot and agent capabilities](enable-ai.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-analytics-overview
---
title: Sales analytics
description: Business Central offers features that can help you gather, analyze, and share valuable sales data for business intelligence and decision-making in the sales organization.
author: kennienp
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: bi, power BI, analysis, KPI
ms.search.form: 516, 9300, 5119, 9301, 9305, 36997, 36998, 36999, 37000, 37001, 37002, 37003, 37004, 37005, 37006, 37007, 37008, Report_107, Report_108, Report_111, Report_112, Report_113, Report_119, Report_121, Report_129, Report_209, Report_708, Report_713, Report_718, Report_813, Report_7313
ms.date: 11/11/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Sales analytics

Businesses capture lots of data during daily activities that supports business intelligence (BI) for sales managers:

- Opportunities
- Sales quotes
- Sales orders
- Sales invoices

[!INCLUDE[prod_short](includes/prod_short.md)] provides features to help you gather, analyze, and share your organization's sales data:

- Power BI reports for sales
- Ad-hoc analysis on lists
- Ad-hoc analysis of data in Excel (using Open in Excel)
- Built-in sales analytics tools
- Built-in sales reports

Each of these features has its advantages and disadvantages, depending on the type of data analysis and the role of the user. To learn more, go to [Analytics, business intelligence, and reporting overview](reports-bi-reporting.md).

This article introduces how you can use these analytical features to gain sales insights.

## Analytics needs in sales

When you think about the analytics needs in sales management, it might help to use a persona-based model that describes different analytics needs at a high-level.

:::image type="content" source="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas.svg" alt-text="Illustration of different personas for analytics" lightbox="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas.svg":::

People in different roles have different needs when it comes to data, and they use the data in different ways. For example, people in asset management and finance interact with data differently than people in sales.

:::image type="content" source="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas-scenarios.svg" alt-text="Illustration of how different personas have different analytics needs." lightbox="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas-scenarios.svg":::

| Role              | Data aggregation  | Typical ways to consume data                          | 
|-------------------|-------------------| ----------------------------------------------------- |
|CCO / CFO / CEO    | Performance data  | KPIs <br> Dashboards <br> Financial reports           |
|Sales Manager      | Trends, summaries | Built-in managerial reports <br> Ad-hoc analysis      | 
|Account Manager / Sales Person | Detailed data     | Built-in operational reports <br> On-screen task data |

<!-- 
## Sales KPIs

A key performance indicator (KPI) is a measurable value that shows how effectively you’re meeting your goals. In sales management, people often use the following KPIs to monitor their organization's sales performance:

- TODO  
-->

## Using Power BI to monitor sales KPIs

A key performance indicator (KPI) is a measurable value that shows how effectively you’re meeting your goals. In sales, people often use the following KPIs to monitor their sales organization's performance:

- Gross Profit
- Gross Profit Margin
- Sales by period
- Sales vs. budget
- Number of new customers
- Period-over-Period Sales Amount Growth
- Sales by item/customer/location/sales person

:::image type="content" source="media/powerbi/sales/sales-overview.png" alt-text="Screenshot of the Sales Overview Power BI report" lightbox="media/powerbi/sales/sales-overview.png":::

These sales KPIs, and more, are available in the Power BI Sales app for [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more, go to [Power BI sales app](sales-powerbi-app.md).

[!INCLUDE [power-bi-sales-app](includes/power-bi-sales-app.md)]

## Use financial reporting to produce financial statements and KPIs related to sales

The **Financial Reporting** feature gives you insights into the financial data shown on your chart of accounts (COA). You can set up financial reports to analyze figures in general ledger (G/L) accounts, and compare general ledger entries with budget entries. Specifically for sales management, you can set up financial reports on the general ledger (G/L) accounts that you use to track sales postings.

Dimensions play an important role in business intelligence. A dimension is data that you add to an entry as a parameter. Dimensions let you group entries that have similar characteristics, such as customers, regions, products, and salesperson. Among other purposes, use dimensions when you define analysis views and create financial reports. To learn more, go to [Work with Dimensions](finance-dimensions.md).

To learn more about financial reports, go to [Prepare Financial Reports with Financial Data and Account Categories](bi-how-work-account-schedule.md).

## Finance reporting across business units or legal entities related to sales

Some organizations use [!INCLUDE [prod_short](includes/prod_short.md)] in multiple business units or legal entities. Others use [!INCLUDE [prod_short](includes/prod_short.md)] in subsidiaries that report to parent organizations. [!INCLUDE [prod_short](includes/prod_short.md)] gives accountants tools that help them transfer general ledger entries from two or more companies (subsidiaries) into a consolidated company. Specifically for sales management, you might want to consolidate general ledger entries for your sales accounts to be able to track sales KPIs across business units or legal entities.

To learn more, go to [Company consolidation](finance-consolidated-company-reporting.md).

## Ad-hoc analysis of sales data

Sometimes, you just need to check whether the numbers add up correctly, or quickly confirm a figure. The following features are great for ad-hoc analyses:

- Data analysis on ledger list pages
- Open in Excel

The Data Analysis feature lets you open almost any list page, such as **General Ledger Entries**, **Customer Ledger Entries**, **Item Ledger Entries**, or **Posted Invoices**, enter analysis mode, and then group, filter, and pivot data as you see fit.

:::image type="content" source="media/data-analysis-customer-ledger-entries.png" alt-text="Example of how to do data analysis on the Customer Ledger Entries page." lightbox="media/data-analysis-customer-ledger-entries.png":::

Similarly, you can use the **Open in Excel** action to open a list page, optionally filter the list to a subset of the data, and then use Excel to work with the data. For example, by using features such as Analyze Data, What-If Analysis, or Forecast Sheet.

:::image type="content" source="media/open-in-excel-customer-ledger-entries.png" alt-text="Example of how to do data analysis on the Customer Ledger Entries data using Excel." lightbox="media/open-in-excel-customer-ledger-entries.png":::

> [!TIP]
> If you configure OneDrive for system features, the Excel workbook opens in your browser.

To learn more about how to do ad-hoc analysis on sales data, go to [Ad hoc analysis of sales data](ad-hoc-analysis-sales.md).

## Built-in reports for sales

[!INCLUDE [prod_short](includes/prod_short.md)] includes several built-in reports, tracing functions, and tools to help sales organizations report on their data.

[!INCLUDE [sales_reports_report_explorer](includes/sales-reports-report-explorer-include.md)]

## On-screen sales analytics

[!INCLUDE [prod_short](includes/prod_short.md)] has several pages that give you sales overviews and tasks to do. Here are some examples to get you started:

- [Open the Sales Quotes list](https://businesscentral.dynamics.com/?page=9300)
- [Open the Sales Orders list](https://businesscentral.dynamics.com/?page=9305)
- [Open the Posted Sales Invoices list](https://businesscentral.dynamics.com/?page=143)
- [Open the Sales Return Orders list](https://businesscentral.dynamics.com/?page=9304)
- [Calculate order promising dates](sales-how-to-calculate-order-promising-dates.md)
- [Calculate delivery dates for sales orders](sales-date-calculation-for-sales.md)
- [Track packages](sales-how-track-packages.md)
- [View the Availability of Items](inventory-how-availability-overview.md)
- [Blanket sales order status](sales-how-to-create-blanket-sales-orders.md#to-view-the-status-of-a-blanket-sales-order)
- [View unposted and posted blanket sales order lines](sales-how-to-create-blanket-sales-orders.md#to-view-unposted-and-posted-blanket-sales-order-lines)

### Show sales-related general ledger entries and balances from the Chart of Accounts page

The **Chart of Accounts** page shows all general ledger accounts with aggregated numbers posted to the general ledger. From this page, you can do things like:  

- View reports that show general ledger entries and balances.  
- Review a list of posting groups for that account.
- View separate debit and credit balances for a single account.

Specifically for sales, you can create a view that only shows the accounts you use for posting sales entries.

:::image type="content" source="media/chart-of-accounts-page.png" alt-text="Example of how the Chart of Accounts page shows finance insights" lightbox="media/chart-of-accounts-page.png":::

To learn more, go to [Understand the Chart of Accounts](finance-general-ledger.md#the-chart-of-accounts).

### Analyze data by dimensions (related to sales)

Dimensions are values that categorize entries so you can track and analyze them on documents, such as sales orders. Dimensions can, for example, indicate the project or department an entry came from.  

So, instead of setting up separate general ledger accounts for each department or location, you can use dimensions as a basis for analysis and avoid having to create a complicated chart of accounts structure.

To learn more, go to [Analyze Data by Dimensions](bi-how-analyze-data-dimension.md).

## See also

[Company consolidation](finance-consolidated-company-reporting.md)  
[Power BI sales app](sales-powerbi-app.md)  
[Prepare Financial Reports with Financial Data and Account Categories](bi-how-work-account-schedule.md)  
[Handling finance reporting across business units or legal entities](finance-consolidated-company-reporting.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Understand the Chart of Accounts](finance-general-ledger.md#the-chart-of-accounts)  
[Analyze Data by Dimensions](bi-how-analyze-data-dimension.md)  
[Analytics, business intelligence, and reporting overview](reports-bi-reporting.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-work-with-notes
---
title: Adding Information to Records to Yourself | Microsoft Docs
description: Attach a note to any record in the application. For example, if you have extra information about a sales order that does not fit in any of the fields on the sales order, you can write a note.
author: jswymer

    
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
    ROBOTS: NOINDEX,NOFOLLOW
ms.date: 04/01/2021
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Add and View Notes on Records
 You <!--OnPrem and your colleagues -->can add notes to records in the application. Many pages, particularly those that display a list of records, such as the **Sales Orders** page, include the **Notes** action or the **Notes** FactBox. <!--OnPrem Notes is where you can write notes about a record to yourself or others, and where you can view notes to you from others. For example, a note could be a general comment or processing instruction to your colleague, who can then respond to your note using their own **Notes**. Or, your colleague can add a note that gives you extra information about a sales order that is not covered by the information on the sales order. These notes and correspondences will follow the record as it is processed in the company.-->

 > [!NOTE]  
 >  This feature is currently not available.  

<!--OnPrem
> [!NOTE]  
>  You can only select one recipient of the note.-->  

<!--OnPrem
## To work with notes on a record

1.  Open a list of records, such as the **Sales Orders** page, or a card, such as the **Sales Order** page.  

    <!-- If **Notes** is not visible on the page, then you can customize the page to display the Notes FactBox. -->
<!--
2.  Choose the **Notes** action to open the **Notes** page. This page displays any current notes on the record. From here, you can do the following:

    -   To view or edit the note, choose **...** and then **Edit**. You can also do this from the **Notes** FactBox if it is available on the page.
    -   To add a note, choose the **+new** action, and then type your message in the **Note** box. You can enter a maximum of 30 lines of text in the note.

<!-- 5.  In the **To** field, enter a user ID (your own or someone else’s) to indicate who the note is for.  

6.  Select the **Notify** field if you want to send a notification to the user in the **To** field.

     If **Notify** is selected, the note will be sent as a notification to the user's **My Notifications** on the Role Center.  -->
<!--OnPrem
3.  Choose the **OK** button.  -->
## See Also
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-reports
---
title: Fixed assets reports
description: Explore the standard reports in Business Central that can help you track and manage your fixed assets.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: Report_5600, Report_5601, Report_5603, Report_5604, Report_5605, Report_5606, Report_5607, Report_5608, Report_5610, Report_5611
ms.date: 10/29/2024
ms.service: dynamics-365-business-central

---
# Fixed assets reports in Business Central

When you prepare a balance sheet and income statement, you might have to generate reports to analyze the depreciation, acquisition, disposal, and gain or loss values for an accounting period. You might also need reports that show:

* Accumulated depreciation and book value at the end of a period.
* List your fixed assets for inventory, insurance, and other management purposes.


This article describes the built-in reports for fixed assets.

## Explore fixed assets reports with Report Explorer

[!INCLUDE [fa_reports_report_explorer](includes/fa-reports-report-explorer-include.md)]

## Fixed assets core reports

[!INCLUDE [fa_reports](includes/fa-reports-include.md)]

## Fixed assets insurance reports

[!INCLUDE [fa_insurance_reports](includes/fa-insurance-reports-include.md)]

## Fixed assets maintenance reports

[!INCLUDE [fa_maintenance_reports](includes/fa-maintenance-reports-include.md)]


## See also

[Ad-hoc analysis of fixed assets data](ad-hoc-analysis-fa.md)  
[Fixed assets analytics overview](fa-analytics-overview.md)  
[Financial analytics overview](bi.md)  
[Managing Fixed Assets](fa-manage.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-pick-items-with-inventory-picks
---
title: How to Pick Items with Inventory Picks
description: Learn how to use inventory picks to record and post picking and shipping info for source documents.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 01/25/2023
ms.custom: bap-template
ms.search.forms: 931, 7377
---
# Pick Items with Inventory Picks

In [!INCLUDE[prod_short](includes/prod_short.md)], you pick and ship items using one of four methods, as described in the following table.

|Method|Outbound Process|Require Pick|Require Shipment|Complexity Level (Learn more at [Warehouse Management Overview](design-details-warehouse-management.md))|  
|------|----------------|-----|---------|-------------------------------------------------------------------------------------|  
|A|Post the pick and shipment from the order line|||No dedicated warehouse activity.|  
|B|Post the pick and shipment from an inventory pick document|Turned on||Basic: Order-by-order.|  
|C|Post the pick and shipment from a warehouse shipment document||Turned on|Basic: Consolidated receive/ship posting for multiple orders.|  
|D|Post the pick from a warehouse pick document, and post the shipment from a warehouse shipment document|Turned on|Turned on|Advanced|  

Learn more at [Outbound Warehouse Flow](design-details-outbound-warehouse-flow.md).

This article refers to method B in the table.

When your location is set up to require pick processing but not shipment processing, use the **Inventory Pick** page to record and post picking and shipping information for your source documents. Outbound source documents can be sales orders, purchase return orders, and outbound transfer orders.

> [!NOTE]
> Production and assembly order component needs also represent outbound source documents. Learn more about handling production and assembly orders for internal processes at [Design Details: Internal Warehouse Flows](design-details-internal-warehouse-flows.md).
>
> Although service orders are also outbound source documents, they don't support the basic, order-by-order level of complexity.
>
> When picking and shipping sales line quantities that are assembled to the order, there are rules you must follow when you create inventory pick lines. Learn more at [Handling Assemble-to-Order Items with Inventory Picks](#handling-assemble-to-order-items-with-inventory-picks).  

You can create an inventory pick in in three ways:

* Create the inventory pick directly from the source document.  
* Create inventory picks for multiple source documents at the same time by using a batch job.
* Request the pick in two steps by first releasing the source document, which acts as a signal to the warehouse that the source document is ready picking.

The inventory pick can then be created from the **Inventory Pick** page based on the source document.  

## To create an inventory pick from the source document

1. In the source document, which can be a sales order, purchase return order, or outbound transfer order, choose the **Create Inventory Put-away/Pick** action.
2. Select the **Create Invt. Pick** checkbox.  
3. Choose the **OK** button. A new inventory pick will be created.

## To create multiple inventory picks with a batch job

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Create Inventory Put-away/Pick/Movement**, and then choose the related link.  
2. On the **Warehouse Request** FastTab, use the **Source Document** and **Source No.** fields to filter on certain types of documents or ranges of document numbers. For example, you can create picks only for sales orders.  
3. On the **Options** FastTab, select the **Create Invt. Pick** checkbox.
4. Choose the **OK** button.

## To create the pick in two steps

### To request an inventory pick by releasing the source document

For sales orders, purchase return orders, and outbound transfer orders, you create the warehouse request by releasing the order. Releasing the order makes the items available for picking.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
2. Select the sales order that you want to release, and then choose the **Release** action.

### To create an inventory pick based on the source document

After you release an order, the warehouse employee can create an inventory pick.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Inventory Picks**, and then choose the related link.  
2. Choose the **New** action.  
3. In the **Source Document** field, select the type of document you're picking for.  
4. In the **Source No.** field, select the source document.  
5. Alternatively, choose the **Get Source Document** action to create a list of all outbound source documents that are ready for picking at the location.  
6. Choose the **OK** button to fill the pick lines according to the selected source documents.  

## To record inventory picks

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Inventory Pick**, and then choose the related link.  
2. In the **Bin Code** field on the pick lines, the bin that the items must be picked from is suggesting per the item's default bin. You can change the bin in this page if necessary.  
3. Perform the pick, and then enter the quantity that in the **Qty. to Handle** field.

    If you must pick the items for a line from more than one bin, for example because the full quantity isn't in the bin, use the **Split Line** action on the **Lines** FastTab. The action creates a line for the remaining quantity to handle.

4. Choose the **Post** action.  

    * Post the shipment of the source document lines that were picked.
    * If the location uses bins, posting will also create warehouse entries to post the changes to the bin quantity.  

    [!INCLUDE [preview-posting-warehouse](includes/preview-posting-warehouse.md)]

## Handling assemble-to-order items with inventory picks

You can also use the **Inventory Pick** page to pick and ship for sales where items must be assembled before they can be shipped. Learn more at [Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md).

Assemble-to-order items aren't physically in a bin until they're assembled and posted as output to a bin. Picking assemble-to-order items from a bin for shipments follows a special flow.

1. From a bin, warehouse workers take the assembly items to the shipping dock and then post the inventory pick.
2. The posted inventory pick posts the assembly output, the component consumption, and the sales shipment.

You can set up [!INCLUDE[prod_short](includes/prod_short.md)] to automatically create an inventory movement when the inventory pick for the assembly item is created. Select the **Create Movements Automatically** field on the **Assembly Setup** page. Learn more at [Set Up Basic Warehouses with Operations Areas](warehouse-how-to-set-up-basic-warehouses-with-operations-areas.md).

Inventory pick lines for sales items are created in different ways, depending on whether none, some, or all of the sales line quantities are assembled to order. In scenarios where some of the quantity is assembled and some is picked from inventory, a minimum of two pick lines are created.

For sales where the full quantity on the sales order line is assembled to order, one inventory pick line is created for the quantity. The value in the **Quantity to Assemble** field is the same as the value in the **Qty. to Ship** field. The **Assemble to Order** field is selected on the line.

If an assembly output flow is set up for the location, the **Bin Code** field on the inventory pick line contains the value from the following fields, in the following order.

* ***Asm.-to-Order Shpt. Bin Code** <!-- not applicable for inv pick-->
* **From-Assembly Bin Code**

If a bin code isn't specified on the sales order line, and no assembly output flow is set up for the location, the **Bin Code** field on the inventory pick line is empty. The warehouse worker must open the **Bin Contents** page and select the bin where the assembly items are assembled.

In scenarios where a part of the quantity is assembled and another must be picked, a minimum of two pick lines are created.

* One pick line for the assemble-to-order quantity. [!INCLUDE [prod_short](includes/prod_short.md)] uses the following fields, in this order, to determine the bin code: **Bin Code**, **Asm.-to-Order Shpt. Bin Code**, and then **From-Assembly Bin Code**. If these fields are blank, the warehouse employee must open the **Bin Contents** page and choose the bin where the items are assembled.  
* The other pick line depends on which bins can fulfill the remaining quantity. If the item is kept in multiple bins, multiple lines will be created. The Take line is based on the quantity in the **Qty. to Ship** field.

> [!NOTE]  
> If items are assembled to order, the inventory pick for the linked sales order till create an inventory movement for all of the assembly components.  

## See also

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Walkthrough: Picking and Shipping in Basic Warehouse Configurations](walkthrough-picking-and-shipping-in-basic-warehousing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-reservation-order-tracking-and-action-messaging
---
title: Design details - reservation, order tracking, and action messaging | Microsoft Docs
description: The reservation system is comprehensive and includes the interrelated and parallel features of Order Tracking and Action Messaging.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: design, replenishment, reordering
ms.date: 08/06/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Design details: reservation, order tracking, and action messaging

The comprehensive reservation system includes the interrelated and parallel features of Order Tracking and Action Messaging.  

At the core of the reservation system, is the linking of a demand entry and a corresponding supply entry, either through reservation or order tracking. A reservation is a user-generated link, and an order tracking record is a system-generated link. An item quantity entered in the reservation system is either reserved or order tracked, but not both at the same time. How the systems handle an item depends on how the item is setup.  

The reservation system interacts with the planning system by creating action messages on planning lines during planning runs. An action message can be considered an appendage to an order tracking record. Action messages, whether created dynamically in order tracking or during the planning run, provide a convenient tool for efficient supply planning.  

> [!NOTE]  
> Reserved quantities are ignored by the planning system, that is, the hard link that is made between supply and demand cannot be changed through planning.  

 The reservations system also forms the structural foundation for the item tracking system. For more information, go to [Design Details: Item Tracking](design-details-item-tracking.md).  

 <!--For more detailed information about how the reservation system works, see the _Reservation Entry Table_ white paper on [PartnerSource](https://go.microsoft.com/fwlink/?LinkId=258348).  -->
<!--
> [!NOTE]
> [!INCLUDE [locations-cronus](includes/locations-cronus.md)]
-->

## Reservation  

 A reservation is a firm link that connects a specific demand and a specific supply to each other. This link directly affects the subsequent inventory transaction and ensures the proper application of item entries for costing purposes. A reservation overrides the default costing method of an item. For more information, go to [Design Details: Item Tracking](design-details-item-tracking.md).  

 The **Reservation** page is accessible from all order lines of both demand and supply types. On this page, the user can specify which demand or supply entry to create a reservation link towards. The reservation consists of a pair of records that share the same entry number. One record has a negative sign and points to the demand. The other record has a positive sign and points to the supply. These records are stored in the *Reservation Entry* table with the status value *Reservation*. The user can view all reservations on the **Reservation Entries** page.  

### Offsetting in reservations  

 Reservations are made against available item quantities. Item availability is calculated in basic terms as follows:  

 `available quantity = inventory + scheduled receipts - gross requirements`

 The following table shows the details of the order network entities that are part of the availability calculation.  

||Field in T27 Item|Source table|Table filter|Source field|  
|-|------------------|------------------|------------------|------------------|  
|**Inventory**|Inventory|Item Ledger Entry|N/A|Quantity|  
|**Scheduled receipts**|FP Order Receipt (Qty.)|Prod. Order Line|=Firm Planned|Remaining Qty. (Base)|  
|**Scheduled receipts**|Rel. Order Receipt (Qty.)|Prod. Order Line|=Released|Remaining Qty. (Base)|  
|**Scheduled receipts**|Qty. on Assembly Order|Assembly Header|=Order|Remaining Qty. (Base)|  
|**Scheduled receipts**|Qty. on Purch. Order|Purchase Line|=Order|Outstanding Qty. (Base)|  
|**Scheduled receipts**|Trans. Ord. Receipt (Qty.)|Transfer Line|N/A|Outstanding Quantity|  
|**Gross requirements**|Qty. On Sales Order|Sales Line|=Order|Outstanding Qty. (Base)|  
|**Gross requirements**|Scheduled Need (Qty.)|Prod. Order Component|<>Simulated|Remaining Qty. (Base)|  
|**Gross requirements**|Qty. on Asm. Component|Assembly Line|=Order|Remaining Qty. (Base)|  
|**Gross requirements**|Trans. Ord. Shipment (Qty.)|Transfer Line|N/A|Outstanding Quantity|  

 For more information, go to [Design Details: Availability in the Warehouse](design-details-availability-in-the-warehouse.md).  

### Manual reservation  

When a user intentionally creates a reservation, the user gains full ownership of and responsibility for these items. This means that the user must also manually change or cancel a reservation. Such manual changes might cause automatic modification of the involved reservations.  

The following table shows when and which modifications might occur:  

|User Action|System Reaction|  
|-----------------|---------------------|  
|Decreasing the reserved quantity|The related quantity fields are updated.|  
|Changing date fields|The related date fields are updated.<br /><br /> **Note:** If the due date on a demand is changed to precede the shipment date or due date of the supply, then the reservation is canceled.|  
|Deleting the order|The reservation is canceled.|  
|Changing location, bin, variant, serial number, or lot number|The reservation is canceled.|  

> [!NOTE]  
> The Late Binding functionality may also change reservations without informing the user, by reshuffling nonspecific reservations of serial or lot numbers. For more information, go to [Design Details: Item Tracking and Reservations](design-details-item-tracking-and-reservations.md).  

### Automatic reservations  

The item card can be set up to automatically reserve items based on demand, such as sales orders. In that case, reservation is made against inventory, purchase orders, assembly orders, and production orders. A warning is issued if the supply is insufficient.  

In addition, various planning functions automatically reserve items to keep a demand linked to a specific supply. The order tracking entries for such planning links contain **Reservation** in the **Reservation Status** field in the *Reservation Entry* table. Automatic reservations are created in the following situations:  

- A multilevel production order where the **Manufacturing Policy** field of the involved parent and child items is set to **Make-to-Order**. The planning system creates reservations between the parent production order and the underlying production order to ensure they process together. This reservation binding overrides the item's default costing and application method.  

- A production, assembly, or purchase order where the **Reordering Policy** field of the involved item is set to **Order**. The planning system creates reservations between the demand and the planned supply to ensure that the specific supply is created. For more information, go to [Order](design-details-handling-reordering-policies.md#order).  

- A production order created from a sales order with the **Sales Order Planning** function is linked to the sales order with an automatic reservation.  

- An assembly order created automatically for a sales order line to fulfill the quantity in the **Qty. to Assemble to Order** field. This automatic reservation links the sales demand and the assembly supply so that sales order processors can customize and promise the assembly item to the customer directly. In addition, the reservation links the assembly output to the sales order line through to the shipping activity that fulfills the customer order.  

For supply or demand that isn't allocated, the planning system automatically assigns a reservation status **Surplus**. This could result from demand that is due to forecasted quantities or user-entered planning parameters. This is a legitimate surplus, which the system recognizes, and it doesn't give rise to action messages. The surplus could also be genuine, excess supply or demand that remains untracked. This is an indication of an imbalance in the order network, which causes the system to issue action messages. Note that an action message that suggests a change in quantity always refers to type **Surplus**. For more information, go to [Example: Order Tracking in Sales, Production, and Transfers](#example-order-tracking-in-sales-production-and-transfers) section in this article.  

Automatic reservations created during the planned run are handled in the following ways:  

- They apply to item quantities included in the availability calculation, just like manual reservations. For more information, go to the "Offsetting in Reservations" section in this article.  

- They're included and potentially changed in subsequent planning runs, unlike manually reserved items.  

## Order tracking  

Order Tracking helps the planner maintain a valid supply plan by providing an overview of the offsetting between demand and supply in the order network. The order tracking records serve as the foundation for creating dynamic action messages and planning line suggestions during planning runs.  

> [!NOTE]  
> The order tracking system offsets available stock as orders are entered into the order network. This implies that the system does not prioritize orders that may be more urgent in terms of their due date. It is therefore up to the logic of the planning system or the wisdom of the planner to rearrange these priorities in a meaningful way.  

> [!NOTE]  
> Order tracking policy and the Get Action Messages function are not integrated with Projects. That means that demand related to a project is not automatically tracked. Because it is not tracked, it could cause the use of an existing replenishment with project information to be tracked to another demand, for example, a sales order. Consequently, you may encounter a situation in which your information about available inventory is out of sync.  

### The order network  

The order tracking system is based on the principle that the order network must always remain balanced, ensuring every demand that enters the system is offset by a corresponding supply and vice versa. The system provides this by identifying logical links between all demand and supply entries in the order network.  

This principle implies that a change in demand results in a corresponding imbalance on the supply side of the order network. Conversely, a change in supply results in a corresponding imbalance on the demand side of the order network. In reality, the order network is in a state of constant flux as users enter, amend, and delete orders. Order Tracking processes orders dynamically, reacting to each change at the time that it enters the system and becomes a part of the order network. As soon as new order tracking records are created, the order network is in balance, but only until the next change occurs.  

To increase the transparency of calculations in the planning system, the **Untracked Planning Elements** page displays untracked quantities, which represent the difference in quantity between known demand and suggested supply. Each line on the page refers to the cause of the excess quantity, such as **Blanket Order**, **Safety Stock Level**, **Fixed Reorder Quantity**, **Minimum Order Qty.**, **Rounding**, or **Dampener**.  

### Offsetting in order tracking  

In contrast to reservations, which can only be made against available item quantities, order tracking is possible against all order network entities that are part of  the net requirements calculation of the planning system. The net requirements are calculated as follows:  

`net requirements = gross requirements + reorder point - scheduled receipts - planned receipts - projected available balance`  

> [!NOTE]  
> Demand that is related to forecasts or planning parameters is not order tracked.  

### Example: Order tracking in sales, production, and transfers  

The following scenario shows which order tracking entries are created in the *Reservation Entry* table as results of various order network changes.  

Assume the following data for two items that are set up for order tracking.  

|Item|Parameter|Detail|
|-|-|-|
|Item 1|Name|Component|
||Availability|100 units in EAST location<br /><br />- 30 units of LOTA<br />- 70 units of LOTB|  
|Item 2|Name|Produced Item|
||Production BOM|1 qty. per of Component|  
||Demand|Sale for 100 units at WEST location|  
||Supply|Released production order (generated with the *Sales Order Planning* function for the sale of 100 units)|  

On the **Manufacturing Setup** page, the **Components at Location** field is set to *EAST*.

The following order tracking entries exist in the *Reservation Entry* table based on the data in the table.  

<!--![First example of order tracking entries in Reservation Entry table.](media/supply_planning_RTAM_1.png "supply_planning_RTAM_1")  -->
**Reservation entries**

|Entry No.|Positive|Item No.|Location Code|Quantity|Reservation Status|Description|Lot No.|Source Type|Source ID|Binding|  
|--------|--------|--------|-------------|--------|------------------|-----------|-------|-----------|---------|-------| 
|8|-|COMPONENT|EAST|-70|Tracking|Component|-|5407|101004|-|
|8|Yes|COMPONENT|EAST|70|Tracking|Component|LOTB|32|-|-| 
|9|-|COMPONENT|EAST|-30|Tracking|Component|-|5407|1001004|-| 
|9|Yes|COMPONENT|EAST|30|Tracking|Component|LOTA|32|-|-| 
|10|-|PRODUCED ITEM|WEST|-100|Reservation|Produced Item|-|37|1001|Order-to-Order|
|10|Yes|PRODUCED ITEM|WEST|100|Reservation|Produced Item|-|5406|101004|Order-to-Order|


#### Entry numbers 8 and 9  

For the component need for LOTA and LOTB respectively, order tracking links are created from the demand in table 5407, *Prod. Order Component*, to the supply in table 32, *Item Ledger Entry*. The **Reservation Status** field contains *Tracking* to indicate that these entries are dynamic order tracking links between supply and demand.  

> [!NOTE]  
> The **Lot No.** field is empty on the demand lines because the lot numbers are not specified on the component lines of the released production order.  

#### Entry number 10  

From the sales demand in table 37, *Sales Lines*, an order tracking link is created to the supply in table 5406, *Prod. Order Line*. The **Reservation Status** field contains *Reservation*, and the **Binding** field contains *Order-to-Order*. This is because the released production order was generated specifically for the sales order and must remain linked, unlike order tracking links with a reservation status of Tracking, which is created and changed dynamically. For more information, go to the [Automatic Reservations](#automatic-reservations) section in this article.  

 At this point in the scenario, the 100 units of LOTA and LOTB are transferred to WEST location by a transfer order.  

> [!NOTE]  
> Only the transfer order shipment is posted at this point, not the receipt.  

 Now the following order tracking entries exist in the *Reservation Entry* table.  

<!-- ![Second example of order tracking entries in Reservation Entry table.](media/supply_planning_RTAM_2.png "supply_planning_RTAM_2")  -->
**Reservation entries**

|Entry No.|Positive|Item No.|Location Code|Quantity|Reservation Status|Description|Lot No.|Source Type|Source ID|Binding|  
|---------|--------|--------|-------------|--------|------------------|-----------|-------|-----------|---------|-------| 
|9|-|COMPONENT|EAST|-30|Surplus|Component|-|5407|1001004|-| 
|10|-|PRODUCED ITEM|WEST|-100|Reservation|Produced Item|-|37|1001|Order-to-Order|
|10|Yes|PRODUCED ITEM|WEST|100|Reservation|Produced Item|-|5406|101004|Order-to-Order|
|12|Yes|COMPONENT|WEST|70|Surplus|Component|LOTB|5741|1011|-| 
|14|Yes|COMPONENT|WEST|30|Surplus|Component|LOTA|5741|1011|-| 
|15|Yes|COMPONENT|OUT.LOG.|70|Surplus|Component|LOTB|32|-|-| 
|16|Yes|COMPONENT|OUT.LOG.|30|Surplus|Component|LOTA|32|-|-| 

#### Entry numbers 8 and 9  

Order tracking entries for the two lots of the component reflecting demand in table 5407 are changed from a reservation status of *Tracking* to *Surplus*. The reason is that the supplies that were linked to before, in table 32, are used by the shipment of the transfer order.  

Genuine surplus, as in this case, reflects excess supply or demand that remains untracked. It's an indication of an imbalance in the order network, which generates an action message by the planning system unless it's resolved dynamically.  

#### Entry numbers 12 to 16  

Because the two lots of the component are posted on the transfer order as shipped but not received, all related positive order tracking entries are of reservation type *Surplus*, indicating that they aren't allocated to any demands. For each lot number, one entry relates to table 5741, *Transfer Line*, and one entry relates to the item ledger entry at the in-transit location where the items now exist.  

At this point in the scenario, the transfer order of the components from *EAST* to *WEST* location is posted as received.  

Now the following order tracking entries exist in the *Reservation Entry* table.  

<!-- ![Third example of order tracking entries in Reservation Entry table.](media/supply_planning_RTAM_3.png "supply_planning_RTAM_3") -->
 **Reservation entries**

|Entry No.|Positive|Item No.|Location Code|Quantity|Reservation Status|Description|Lot No.|Source Type|Source ID|Binding|  
|---------|--------|--------|-------------|--------|------------------|-----------|-------|-----------|---------|-------| 
|8|-|COMPONENT|EAST|-70|Surplus|Component|-|5407|101004|-| 
|9|-|COMPONENT|EAST|-30|Surplus|Component|-|5407|1001004|-|
|10|-|PRODUCED ITEM|WEST|-100|Reservation|Produced Item|-|37|1001|Order-to-Order|
|10|Yes|PRODUCED ITEM|WEST|100|Reservation|Produced Item|-|5406|101004|Order-to-Order|
|17|Yes|COMPONENT|WEST|70|Surplus|Component|LOTB|32|-|-| 
|18|Yes|COMPONENT|WEST|30|Surplus|Component|LOTA|32|-|-| 

The order tracking entries are now similar to the first point in the scenario before the transfer order was posted as shipped only, except entries for the component are now of reservation status *Surplus*. This is because the component need is still at *EAST* location, reflecting that the **Location Code** field on the production order component line contains *EAST* as setup in the **Components at Location** field. The supply that was allocated to this demand before was transferred to *WEST* location and can't be fully tracked unless the component need on the production order line is changed to *WEST* location.  

At this point in the scenario, the **Location Code** on the production order component line is set to *WEST*. In addition, on the **Item Tracking Lines** page, the 30 units of LOTA and the 70 units of LOTB are assigned to the production order component line.  

Now the following order tracking entries exist in the *Reservation Entry* table.  

<!-- ![Fourth example of order tracking entries in Reservation Entry table.](media/supply_planning_RTAM_4.png "supply_planning_RTAM_4")   -->
 **Reservation entries**

|Entry No.|Positive|Item No.|Location Code|Quantity|Reservation Status|Description|Lot No.|Source Type|Source ID|Binding|  
|---------|--------|--------|-------------|--------|------------------|-----------|-------|-----------|---------|-------| 
|10|-|PRODUCED ITEM|WEST|-100|Reservation|Produced Item|-|37|1001|Order-to-Order|
|10|Yes|PRODUCED ITEM|WEST|100|Reservation|Produced Item|-|5406|101004|Order-to-Order|
|21|-|COMPONENT|WEST|-70|Tracking|Component|LOTB|5407|101004|-| 
|21|Yes|COMPONENT|WEST|70|Tracking|Component|LOTB|32|-|-| 
|22|-|COMPONENT|WEST|-30|Tracking|Component|LOTA|5407|1001004|-| 
|22|Yes|COMPONENT|WEST|30|Tracking|Component|LOTA|32|-|-| 

#### Entry numbers 21 and 22  

Since the component need changed to *WEST* location, and the supply is available as item ledger entries at *WEST* location, all order tracking entries for the two lot numbers are now fully tracked, indicated by the reservation status of *Tracking*.  

The **Lot No.** field is now filled in the order tracking entry for table 5407 because the lot numbers were assigned to the production order component lines.  

## Action messaging  

When the order tracking system detects an imbalance in the order network, it automatically creates an action message to notify the user. Action messages are system-generated calls for user action that specify the details of the imbalance and suggestions on how to restore balance to the order network. They display as planning lines on the **Planning Worksheets** page when you choose **Get Action Messages** action. In addition, action messages on planning lines are generated during the planning run to reflect the planning system's suggestions to restore balance to the order network. In both cases, the suggestions are run on the order network, when you choose **Carry Out Action Message** action.  

An action message addresses one BOM level at a time. If the user accepts the action message, this might give rise to additional action messages at the next BOM level.  

The following table shows the action messages that exist.  

|Action message|Description|  
|--------------------|---------------------------------------|  
|**Change Qty.**|Changes the quantity on an existing supply order to cover a changed or new demand.|  
|**Reschedule**|Reschedules the due date on an existing order.|  
|**Resched. & Chg. Qty.**|Reschedules the due date and changes the quantity on an existing order.|  
|**New**|Creates a new order if demand can't be fulfilled by either of the previous action messages.|  
|**Cancel**|Cancels an existing order.|  

The order tracking system always attempts to resolve an imbalance in the existing order network. If this isn't possible, it issues an action message to create a new order. Following is the prioritized list that the order tracking system uses when it determines how to restore balance. If an additional demand enters the order network, the system seeks to order track through the following checks:  

1. Check for any excess supply in the existing order tracking record for this demand.  
1. Check for planned and scheduled receipts in order of receipt date. The latest possible date is selected.  
1. Check for available stock.  
1. Check if a supply order exists in the current order tracking record. If so, the system issues an action message of type *Change* to increase the order.  
1. Check that no supply order exists in the current order tracking record. If so, the system issues an action message of type *New* to create a new order.  

An open demand passes through the list and offsets the available supply at each point. Any remaining demand is always covered by check 4 or check 5.  

If a decrease in demand quantity occurs, the order tracking system attempts to resolve the imbalance by performing the previous checks in reverse order. This means that existing action messages could be modified or even deleted, if necessary. The order tracking system always presents the net result of its calculations to the user.  

## Order tracking and planning  

When the planning system runs, it deletes all existing order tracking records and action message entries and recreates them as planning line suggestions according to supply/demand pairs and priorities. When the planning run finishes, the order network is in balance.  

### Planning system versus order tracking and action messaging  

 The following comparison shows the differences between the methods that are used by the planning system to create planning line suggestions and the methods that are used by the order tracking system to create order tracking records and action messages.  

- The planning system deals with the entire supply and demand pattern of a particular item, whereas order tracking deals with the order that activated it.  

- The planning system deals with all levels of the BOM hierarchy, whereas order tracking deals with one BOM level at a time.  

- The planning system establishes links between demand and supply according to the prioritized due date. Order tracking establishes links between demand and supply according to the order entry sequence.  

- The planning system takes planning parameters into account, whereas order tracking doesn't.  

- The planning system creates links in a user-activated batch mode when it balances demand and supply, whereas order tracking creates the links automatically and dynamically as the user enters orders.  

## See also  

[Design Details: Central Concepts of the Planning System](design-details-central-concepts-of-the-planning-system.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-how-reconcile-bank-accounts-separately
---
title: Reconcile bank accounts
description: Learn how to reconcile transactions in Business Central with transactions in statements from your bank.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: conceptual
ms.date: 10/01/2024
ms.custom: bap-template
---

# Reconcile bank accounts

Bank reconciliation helps ensure that what's in your books matches the statements you receive from your bank. Bank account reconciliation compares and matches entries in the bank accounts you set up in [!INCLUDE[prod_short](includes/prod_short.md)] with bank transactions at your bank. Reconciliation can then post the balances to your bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] to make them available to finance managers. Bank reconciliation is also a practical way to discover missing payments and resolve bookkeeping errors.

This article describes how to reconcile bank accounts from the **Bank Acc. Reconciliation** page.

However, you can also reconcile bank accounts on the **Payment Reconciliation Journal** page when you process payments. Open bank account ledger entries related to the applied customer or vendor ledger entries close when you choose the **Post Payments and Reconcile Bank Account** action. This action automatically reconciles the bank account for the payments that you post with the journal. Learn more in [Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md).

> [!NOTE]  
> The North American versions offers the **Bank Rec. Worksheet** page, which is better suited for checks and deposits but doesn't let you import bank statement files. To use this page instead of the **Bank Acc. Reconciliation** page, clear the **Bank Recon. with Auto. Match** field on the **General Ledger Setup** page. Learn more in [Reconciling Bank Accounts](LocalFunctionality/UnitedStates/how-to-reconcile-bank-accounts.md) under United States Local Functionality.

The lines on the **Bank Acc. Reconciliation** page are divided into two panes. The **Bank Statement Lines** pane shows either imported bank transactions or ledger entries with outstanding payments. The **Bank Account Ledger Entries** pane shows the ledger entries in the internal bank account.

## About bank reconciliation

Reconciling transactions in statements from your bank with bank entries in [!INCLUDE[prod_short](includes/prod_short.md)] is referred to as *matching*. There are three ways to match transactions with bank entries:

* Automatically, by using the **Match Automatically** action.
* Automatically, by using the **Reconcile with Copilot** action.

  This action is available as part of the bank reconciliation assist (preview) feature, which an AI-powered feature. Learn more in [Reconcile bank accounts with Copilot](bank-reconciliation-with-copilot.md).
* Manually, by selecting lines in both panes to link each bank statement line to one or more bank account ledger entries, and then using the **Match Manually** action.

The **Applied** checkbox is selected on lines where entries match. Learn more in [Set Up Rules for Automatic Application of Payments](receivables-how-set-up-payment-application-rules.md). If you enter a statement ending date on the bank reconciliation after you match its lines with entries, [!INCLUDE [prod_short](includes/prod_short.md)] will undo the matches for lines and entries that are after that date.

> [!NOTE]
> After you enter a date in the **Statement Date** field, the **Bank Acc. Reconciliation** page filters the bank ledger entries to show only entries up to that date. You can only post bank reconciliations with bank ledger entries on or before the statement ending date. The filter ensures that your bank ledger is balanced with your bank statement on the statement ending date, with the difference being the outstanding payments and checks.

When the value in the **Total Balance** field in the **Bank Statement Lines** pane equals the total value of the **Balance To Reconcile** field plus the **Balance Last Statement** field in the **Bank Account Ledger Entries** pane, you can choose the **Post** action. Unmatched bank account ledger entries remain on the page, indicating discrepancies that you should resolve to reconcile the bank account.

Any lines that can't be matched, indicated by a value in the **Difference** field, will remain on the **Bank Acc. Reconciliation** page after posting. They represent some kind of discrepancy that you must resolve before you can complete the bank account reconciliation. The following table describes a few typical business situations that can cause differences.

| Difference | Reason | Resolution |
|------------|--------|------------|
| A transaction in your bank account in [!INCLUDE[prod_short](includes/prod_short.md)] isn't in the bank statement. | The bank transaction wasn't created although a posting was made in [!INCLUDE[prod_short](includes/prod_short.md)]. | Create the missing transaction (or prompt a debitor to make it). Then reimport the bank statement file or enter the transaction manually. |
| A transaction on the bank statement doesn't exist as a document or journal line in [!INCLUDE[prod_short](includes/prod_short.md)]. | A bank transaction was made without a corresponding posting in [!INCLUDE[prod_short](includes/prod_short.md)], for example a journal line posting for an expense. | Create and post the missing entry. Learn more about a quick way in [To create missing ledger entries to match bank transactions with](bank-how-reconcile-bank-accounts-separately.md#to-create-missing-ledger-entries-to-match-bank-statement-lines). |
| A transaction in the internal bank account corresponds to a bank transaction but some information is too different to give a match. | Information, such as the amount or the customer name, was entered differently in the bank transaction or the internal posting. | Review the information, and then manually match the two. Optionally, correct the mismatch. |

You must resolve the differences. For example, create the missing entries and correct unmatched information until you can complete and post the bank account reconciliation.

You can fill in the **Bank Statement Lines** pane on the **Bank Acc. Reconciliation** page in the following ways:

* Automatically, by using the **Import Bank Statement** function to fill in the **Bank Statement Lines** pane with bank transactions according to an imported file or stream provided by the bank.
* Manually, by using the **Suggest Lines** function to fill in the **Bank Statement Lines** pane according to invoices in [!INCLUDE[prod_short](includes/prod_short.md)] that have outstanding payments.

## Add bank statement lines by importing a bank statement

The **Bank Statement Lines** pane shows bank transactions according to an imported file or stream provided by the bank.

To import bank statements as bank feeds, you must set up the Envestnet Yodlee Bank Feed service. The setup includes linking your bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] to the related online bank accounts. Learn more in [Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md).  

> [!TIP]
> You can also import bank statement files in comma or semicolon delimited format (.CSV). Use the **Set up a bank statement file format** assisted setup to define bank statement import formats and attach the format to a bank account. You can then use these formats when you import bank statements in the **Bank Account Reconciliation** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Account Reconciliation**, and then choose the related link.
2. Choose the **New** action.
3. In the **Bank Account No.** field, select the relevant bank account. The bank account ledger entries that exist on the bank account appear in the **Bank Account Ledger Entries** pane.
4. In the **Statement Date** field, enter the date of the statement from the bank.
5. In the **Statement Ending Balance** field, enter the balance of the statement from the bank.
6. If you have a bank statement file, choose the **Import Bank Statement** action.
7. Locate the file, and then choose the **Open** button to import the bank transactions into the **Bank Statement Lines** pane on the **Bank Acc. Reconciliation** page.

## To fill in bank reconciliation lines with the Suggest Lines action

The **Bank Statement Lines** pane is filled in according to invoices in [!INCLUDE[prod_short](includes/prod_short.md)] that have outstanding payments.  

1. On the **Bank Acc. Reconciliation** page, choose the **Suggest Lines** action.
2. In the **Starting Date** field, enter the earliest posting date for the ledger entries to be reconciled.
3. In the **Ending Date** field, enter the latest posting date for the ledger entries to be reconciled.

    > [!NOTE]
    > Typically, the ending date will match the date specified in the **Statement Date** field. However, if you want to reconcile transactions for only part of a period, you can enter a different ending date.

4. If you don't want the bank account ledger entries to include unmatched open reversed entries, choose the **Exclude Reversed Entries** toggle. By default, the list of bank account ledger entries include reversed entries up to the statement date.
5. Choose the **OK** button.

## Match bank statement lines with bank account ledger entries automatically

The **Bank Acc. Reconciliation** page offers automatic matching functionality based on a matching of text on a bank statement line (left pane) with text on one or more bank account ledger entries (right pane). You can overwrite the suggested automatic matching, and you can choose to not use automatic matching at all. Learn more in [Match bank statement lines with bank account ledger entries manually](#match-bank-statement-lines-with-bank-account-ledger-entries-manually).

You can investigate the basis for matches by using the **Match Details** action. For example, the details include the names of the fields that contained matching values.  

1. On the **Bank Acc. Reconciliation** page, choose the **Match Automatically**. The **Match Bank Entries** page opens.
2. In the **Transaction Date Tolerance (Days)** field, specify the span of days before and after the bank account ledger entry posting date within which the action searches for matching transaction dates in the bank statement.

    If you enter 0 or leave the field blank, the **Match Automatically** action only searches for matching transaction dates on the bank account ledger entry posting date.
3. Choose the **OK** button.

    The lines are color coded to make it easier to understand what to do with them. Bank statement lines and bank account ledger entries that are matched on the current bank reconciliation change to bold green font. Bank account ledger entries that are matched on other bank reconciliations are shown in italic blue font.
4. To remove a match, select the bank statement line, and then choose the **Remove Match** action.

> [!TIP]
> You can use a mix of manual and automatic matching. If you have manually matched entries, automatic matching will not overwrite your selections.

## Match bank statement lines with bank account ledger entries manually

> [!TIP]
> When matching lines and entries manually, the **Show All**, **Show Reversed Entries**, **Hide Reversed Entries**, and **Show Nonmatched** actions can make it easier to get an overview. By default, the bank account ledger entries don't include unmatched reversed entries. To include these entries in the list and match them manually, choose the **Show Reversed Entries** action. If you choose to hide reversed entries after you've made one or more matches, the matched entries are still shown.

> [!NOTE]
> You can't post a bank reconciliation if you do many-to-one matching and the combined amounts contain differences. This is true even if the combined differences balance to zero.
>
> Here's an example of a many-to-one matching that has differences. The value of 200 for bank statement entry 1 is matched to two bank ledger entries that have a total value of 180. The difference is 20. The value of 350 for bank statement 2 is matched to two other bank ledger entries that have a total value of 370. The difference is -20, which balances the value of 20 for bank statement 1.  
>
> To post a bank reconciliation with differences on the lines, post the differences and then match them against the posted entries.

1. On the **Bank Acc. Reconciliation** page, select an unapplied line in the **Bank Statement Lines** pane.
2. In the **Bank Account Ledger Entries** pane, select one or more banks account ledger entries that can be matched with the selected bank statement line. To choose multiple lines, select and hold the CTRL key, and then choose the lines.

   > [!TIP]
   > You can also manually match multiple bank statement lines with one bank account ledger entry. For example, this might be useful if your bank deposit contained several payment methods, such as credit cards from different issuers, and your bank lists those as separate lines.
3. Choose the **Match Manually** action.

    The selected bank statement line and the selected bank account ledger entries change to green font, and the **Applied** checkbox in the right pane is selected.
4. Repeat steps 1 through 3 for all bank statement lines that aren't matched.

> [!TIP]
> To remove a match, select the bank statement line, and then choose the **Remove Match** action. If you have matched multiple bank statement lines to a ledger entry, and need to remove one or more of the matched lines, all of the manual matches are removed for the ledger entry when you choose **Remove Match**.

## Validate your bank reconciliation

To double-check your bank account reconciliation before you post it, use the **Test Report** action to preview the reconciliation. The report is available in the following contexts:

* When you're preparing a bank reconciliation on the **Bank Acc. Reconciliation** page.
* When you're reconciling payments on the **Payment Reconciliation Journal** page.

Lines that can't be matched stay on the **Bank Acc. Reconciliation** page after posting. These lines contain a value in the **Difference** field. The difference represents a discrepancy that you must resolve before you can complete the bank account reconciliation. The following table describes a few typical business situations that can cause differences.

| Difference | Reason | Resolution |
|------------|--------|------------|
| A transaction in your bank account in [!INCLUDE[prod_short](includes/prod_short.md)] isn't in the bank statement. | The bank transaction wasn't created although a posting was made in [!INCLUDE[prod_short](includes/prod_short.md)]. | Create the missing transaction (or prompt a debitor to make it). Then reimport the bank statement file or enter the transaction manually. |
| A transaction on the bank statement doesn't exist as a document or journal line in [!INCLUDE[prod_short](includes/prod_short.md)]. | A bank transaction was made without a corresponding posting in [!INCLUDE[prod_short](includes/prod_short.md)], for example a journal line posting for an expense. | Create and post the missing entry. Learn more about a quick way in [To create missing ledger entries to match bank transactions with](bank-how-reconcile-bank-accounts-separately.md#to-create-missing-ledger-entries-to-match-bank-statement-lines). |
| A transaction in the internal bank account corresponds to a bank transaction but some information is too different to give a match. | Information, such as the amount or the customer name, was entered differently in the bank transaction or the internal posting. | Review the information, and then manually match the two. Optionally, correct the mismatch. |

You must resolve the differences. For example, create the missing entries and correct unmatched information until you can complete and post the bank account reconciliation.

> [!NOTE]
> The Bank Reconciliation page and Test Report assume you're only reconciling within the period up until the statement ending date. If you match a bank statement line to a bank ledger entry before you enter a statement ending date, and then enter a statement ending date that is after the ending date for the bank ledger entry, the data in the Test Report will be incorrect.

The following table describes fields on the Test Report that can help you complete the bank reconciliation.

|Field  |Description  |
|---------|---------|
|Statement Date| The date specified in the **Statement Date** field on the **Bank Acc. Reconciliation** page.|
|Balance Last Statement|The balance specified in the **Balance Last Statement** field on the **Bank Acc. Reconciliation** page. This field is filled in automatically from the most recent reconciliation for the same bank account. The value is zero if it's is your first bank account reconciliation.|
|Statement Ending Balance|The balance specified in the **Statement Ending Balance** field on the **Bank Acc. Reconciliation** page. |
|G/L Account No. <*number*> Balance at <*date*> | The balance on the G/L account on the statement ending date. This value is the unfiltered balance as of that date. If your bank uses your local currency, this balance should be the same as your bank account balance (shown on the right side of the report header) when you match all statement lines. An empty **()** in the name of this field means that your bank uses local currency.<br><br>A discrepancy in this field and the previous ones might indicate that you posted directly to the G/L account. It might also indicate that you're using the same G/L account for multiple banks, which we don't recommend. Banks are linked to the general ledger through the bank account posting group specified for the account.<br><br>The Test Report shows a warning if you have direct postings, even if the balance for the posting is zero. Direct postings that aren't balanced often lead to accumulated differences for future bank reconciliations. You should check the general ledger balance and ledger entries before you post the bank reconciliation. Learn more in about direct posting in [Avoid Direct Posting](#avoid-direct-posting).|
|G/L Account No. <*number*> Balance (<*LCY*>) at <*date*>| The balance on the G/L account on the statement ending date in local currency. The balance is converted to the bank account's currency using the exchange rate that was valid on the statement ending date. This value is the unfiltered balance as of that date. You compare to this balance to the **G/L Account No. <*number*> Balance at <*date*>* field if your bank uses a foreign currency. The value in the G/L Account No. <*number*> Balance at <*date*> field for local currency might differ slightly because currency conversion can result in small differences. Your bank's balance should be very close to this balance.  |
|Bank Account Balance at <*date*>| The balance on the bank account at the statement ending date.|
|Sum of Differences    | The sum of the differences for the statement lines. To access the details, turn on the **Print Outstanding Transactions** toggle when you enter criteria for the report. A difference is a bank statement line that isn't matched completely to one or more bank ledger entries. You can't post a bank account reconciliation that has differences. You can post a bank reconciliation that contains bank ledger entries that aren't matched to statement lines. This value is shown in the **Outstanding Bank Transactions** field and in a separate section if you turn on the Print Outstanding Transactions toggle.      |
|Statement Balance     | The value specified in the **Statement Ending Balance** field on the **Bank Acc. Reconciliation** page.  |
|Outstanding Bank Transactions     | The sum of unmatched, non-check bank ledger entries that have a posting date on or before the statement ending date. This happens when you register transactions before they're registered in your bank. For example, at the end of a period. When you create the next bank reconciliation, you can reconcile these entries.        |
|Outstanding Checks     | The sum of unmatched bank ledger entries for checks that have a posting date on or before the statement ending date. This happens when you register transactions before they're registered in your bank. For example, this can happen for checks if a vendor doesn't cash a check in the same period you registered it. When you create the next bank reconciliation, you can reconcile these entries.        |
|Bank Account Balance     | The sum of the values for the bank statement ending balance, outstanding bank transactions, and outstanding checks. After you handle all differences on matched entries, this balance matches your bank balance. For example, you accounted for all matched entries and the entries you couldn't match for this bank statement. You can post the reconciliation.        |

> [!TIP]
> If you run the **Test Report** from the **Payment Reconciliation Journal** page, [!INCLUDE [prod_short](includes/prod_short.md)] calculates the value in the **Statement Ending Balance** as follows:
>
> * balance last statement + sum of all lines in the payment reconciliation journal
>
> You can use the value to compare to your bank statement.

## To create missing ledger entries to match bank statement lines

Sometimes bank statement contains amounts for interest or fees charged. Such bank statement lines can't be matched because there aren't related ledger entries in [!INCLUDE[prod_short](includes/prod_short.md)]. You must then post a journal line for each transaction to create a related ledger entry that it can be matched with.

1. On the **Bank Acc. Reconciliation** page, choose the **Transfer to General Journal** action.  
2. On the **Trans. Bank Rec. to Gen. Jnl.** page, specify which general journal to use, and then choose the **OK** button.

    The **General Journals** page opens with new journal lines for any banks statement lines that are missing ledger entries.
3. Complete the journal line with information such as the balancing account. For more information, see [Work with General Journals](ui-work-general-journals.md).  
4. To review the result of posting before you post, choose the **Test Report** action, and then choose an option for accessing the report. The **Bank Account Statement** report shows the same fields as at the header of the **Bank Acc. Reconciliation** page.
5. Choose the **Post** action.

    After the entry is posted, match the bank statement line to it.
6. Refresh or reopen the **Bank Acc. Reconciliation** page. The new ledger entry appears in the **Bank Account Ledger Entries** pane.
7. Match the bank statement line with the bank account ledger entry, either manually or automatically.

## Find outstanding transactions in previous periods

You can use the Bank Statement report to find outstanding transactions in previous periods. Outstanding transactions were opened before the statement date and aren't closed, or were closed after the bank reconciliation was posted.

When you run the Bank Statement report from the **Bank Account Statement List** page, you can turn on the **Outstanding Entries** toggle, and the report includes a section that lists outstanding entries.

**Example**
We have bank account ledger entries A, B, and C in our bank account for the month of August. When we reconcile our bank account for August we find a bank statement line that matches entry A, but none for B and C. So we post the reconciliation with entry A reconciled and B and C as outstanding entries.

In September, we receive a payment for entry B and decide to reconcile our bank account. If we run the Bank Statement report before posting the reconciliation, we get one reconciled transaction and one outstanding.

If we print the report for August we get outstanding transactions for our B and C entries, even though we closed entry B in September.

> [!NOTE]
> The Bank Statement report has some known limitations if you import or manually enter bank transactions after you post a bank reconciliation.
>
> You can enter bank ledger entries on any date and with any posting date, so you don't always have to do it in a strict chronological order.. When you do a bank reconciliation, you reconcile a bank statement to the bank ledger entries you have registered up to the time you post the reconciliation, and with the posting date of the entries. Typically, that means a posting date on or before the statement ending date.
>
> When you post a bank reconciliation, [!INCLUDE [prod_short](includes/prod_short.md)] takes a snapshot of the data and uses it to fill in the bank statement report's header. But, the outstanding transactions sections are actual lookups to the bank ledger entries that existed up to the actual date and time you posted the bank reconciliation. The totals in the lines typically match the totals in the header. However, if you import bank ledger entries after you posted the bank reconciliation, but the posting dates are before the statement ending date, the totals in the header might not match the totals in the outstanding transactions sections.

## Undo a bank account reconciliation

If you find a mistake in a posted bank reconciliation, you can use the **Undo** action on the **Bank Account Statement List** page to correct it. When you undo a posted bank reconciliation, the entries are moved to the **Bank Account Reconciliations** page and marked as **Open**, meaning they aren't reconciled. You can then correct the bank reconciliation and post it again.

> [!NOTE]
> In the North American version, to use the Undo feature for posted bank reconciliations and bank statements you must turn on the **Bank Recon. with Auto-Match** toggle on the **General Ledger Setup** page. The Undo feature is not available for bank statements posted from bank reconciliation worksheets.

### Reusing the bank statement number

The bank statement number used for the new bank reconciliation is taken from the bank account as is the Balance Last Statement. You can change these values before you start a new bank reconciliation. However, when you create a new bank reconciliation, [!INCLUDE[d365fin](includes/d365fin_md.md)] checks whether the statement number is already assigned to a posted bank statement. If the number is in use, but you want the new bank statement to use it instead, you can use the **Change Statement No.** action on the **Bank Acc. Reconciliation** page.

### Examples

The following examples show how to fix a mistake on a posted bank reconciliation, with or without using the same statement number.

#### Example 1

You did bank reconciliations for January, February, and March. The bank statement number was 100 for March. Later, you discover that March only included entries until the 30th, which means entries for the 31st are missing. So, you need to redo the bank reconciliation for March. In this case, we open the **Bank Account Statement List** page, choose the statement for March, and then choose **Undo**.

The new bank reconciliation is given the statement number 101. To reassign the number 100, choose **Change Statement No.** and enter **100**. 

> [!TIP]
> Remember to set the appropriate Statement ending date (in this example, that is March 31), and edit the **Balance Last Statement** field. 

#### Example 2

You did bank reconciliations for January, February, June, and July. You discover that February was incorrect. Let's assume it had statement number 100. Like Example 1, you use the Undo and Change Statement No. actions to change the statement number as in example #1 and you can now redo February bank reconciliation.  

After you post the corrected bank reconciliation for February, on the corresponding Bank Account card the **Last Statement No.** field will show **100**, and the **Balance Last Statement** field will show the ending balance for the February statement. 

If the next bank reconciliation you do is for March, [!INCLUDE[d365fin](includes/d365fin_md.md)] will assign 101 as the statement number and give it the correct **Balance Last Statement**.

If the next bank reconciliation you do is for August, consider changing the values in the **Last Statement No.** and **Balance Last Statement** fields on the **Bank Account** card before you create the next bank reconciliation, or use the **Change Statement No.** action and also change the value in the **Balance Last Statement** field on the bank reconciliation page.

> [!NOTE]
> The statement number is important when you do bank reconciliations with imported CAMT files that contain statement numbers, or when you reconcile based on printed bank statements. If you just download a range of bank transactions from your online bank, the statement number is usually not important.  
>
> The Balance Last Statement is kept on the bank account to minimize mistakes when doing bank reconciliations, but it's also editable, allowing you to do your bank reconciliations in any order you want. This also means that if you undo a bank statement, the new ending balance might not be the balance last statement on the next bank statement. There's no feature that allows you to move a balance forward to all subsequent bank statements, so be aware of this when using Undo.  

## Avoid direct posting

Don't use a G/L account that allows direct posting in your bank account posting group. Direct posting breaks the connection between the bank account ledger entry and the G/L account ledger entry. When you reconcile your bank account, the entries posted directly to the G/L account aren't included, which makes it difficult to complete the reconciliation.

This mistake often happens when entering an opening balance for a bank account. It's important that you don't post the opening balance directly to the general ledger. Entries in the G/L account that are posted directly to the G/L account causes problems. For example, these entries might prevent you from reconciling your bank account. For foreign currency bank accounts, the entries can cause differences to accumulate after you post more bank reconciliations due to currency exchange rate adjustments. Often, you post the opening bank balance directly to the bank account, and the amount then ends up in the G/L account. Alternatively, you reverse it later against the G/L account that you use to balance the opening general ledger balance. In both cases, you must balance any direct posting to the G/L account before you start your first bank reconciliation, and especially so if the bank account is in a foreign currency.

## See also

[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Reconcile bank accounts using bank reconciliation assist (preview)](bank-reconciliation-with-copilot.md)  
[Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md)  
[Setting Up Banking](bank-setup-banking.md)  
[Set Up Rules for Automatic Application of Payments](receivables-how-set-up-payment-application-rules.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-adjust-item-costs
---
title: Manually adjust the costs of items
description: You can adjust the inventory valuation of an item using the FIFO or Average costing methods when the costs of products change.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: cost adjustment, cost forwarding, costing method, inventory valuation, costing
ms.date: 07/29/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Adjust item costs

The cost of an item (inventory value) that you purchase and later sell might change during its lifetime, for example because a freight cost is added to its purchase cost after you sell the item. Cost adjustment is especially relevant in situations where you sell goods before you invoice the purchase of those goods. To always know the correct inventory value, you should regularly adjust item costs. Correct costs help ensure that sales and profit statistics are up to date and that financial KPIs are correct. For more information, see [Design Details: Cost Adjustment](design-details-cost-adjustment.md).

The value in the **Unit Cost** field on the item card is based on the standard cost for items with the Standard costing method. For items with any other costing method, the value is based on the calculation of available inventory (invoiced costs and expected costs) divided by the quantity on hand.

In [!INCLUDE[prod_short](includes/prod_short.md)], item costs are automatically adjusted every time that an inventory transaction occurs, such as when posting a purchase invoice for an item.

You can also manually adjust the costs of one or more items. For example, manual adjustments are useful when you know that item costs are changed for reasons other than item transactions.

Item costs are adjusted by the FIFO or the Average costing method, depending on your selection in the **Set Up My Company** assisted setup guide or in the **Costing Method** field on the item card. For more information, see [Register New Items](inventory-how-register-new-items.md).  

For the FIFO costing method, an item’s unit cost is the actual value of any receipt of the item. Inventory is valued with the assumption that the first items placed in inventory are sold first.

If you use the Average costing method, then an item’s unit cost is calculated as the average unit cost at each point in time after a purchase. Inventory is valuated with the assumption that all inventories are sold simultaneously. For items that use this costing method, you can choose the **Unit Cost** field on the item card to view the history of transactions that the average cost is calculated from

Cost adjustment processes only value entries that aren't adjusted. In a situation where changed inbound costs need to be forwarded to related outbound entries, it creates new adjustment value entries. The adjustment value entries are based on the information in the original value entries but contain the adjustment amount. The cost adjustment function uses the posting date of the original value entry in the adjustment entry, unless that date is in a closed inventory period. In that case, application uses the starting date of the next open inventory period. If inventory periods aren't used, then the date in the **Allow Posting From** field on the **General Ledger Setup** page defines when the adjustment entry is posted.

## To adjust item costs manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Adjust Cost - Item Entries**, and then choose the related link.
2. On the **Adjust Cost - Item Entries** page, specify which items to adjust costs for.
3. Choose the **OK** button.

## Track item cost adjustments

Item costs can change for many reasons, so it's important that you can keep track of cost adjustments. Use the **Inventory Cost Adjustment** page to manage and monitor the cost adjustment process. This page displays items along with their costing parameters and cost adjustment status. You can filter the list to focus on items that require adjustment or that are excluded from the cost adjustment process. To learn more about tracking cost adjustments, go to [Track item cost adjustments](finance-track-inventory-costs.md).

## See also

[Managing Inventory Costs](finance-manage-inventory-costs.md)  
[Inventory](inventory-manage-inventory.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-sales-by-salesperson
---
title: Sales by Salesperson (Power BI Report)
description: The Sales by Salesperson report provides an overview of sales performance broken down by salesperson.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37006_Primary
ms.date: 10/26/2024
ms.service: dynamics-365-business-central
---

# Sales by Salesperson (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Sales by Salesperson** report provides an overview of sales performance for each salesperson. It showcases key metrics such as total sales amount and quantity. You can also view this information for each customer a salesperson sells to, and the items they sold.

:::image type="content" source="media/powerbi/sales/sales-by-salesperson.png" alt-text="Screenshot of the Sales by Salesperson Power BI report" lightbox="media/powerbi/sales/sales-by-salesperson.png":::

## Use the report

This report helps management and sales teams track the sales amounts that each salesperson generates and their contribution to the overall revenue.

Sales managers can use the report to monitor the sales performance of each salesperson and identify top-performers. For example, this information is helpful when you determine rewards. The report also helps identify under-performers who perhaps need support.

For example, you might notice that a particular salesperson's sales declined over the last few months. With this information, you can provide extra training or resources to help that salesperson achieve their sales targets.

Salespeople can use the report to monitor your own sales performance and identify areas for improvement. By analyzing the sales amount, quantity, and gross profit, you can easily identify which customers and items contribute the most to your sales. With this information, you can focus your efforts on the most profitable areas.

For example, if you notice that a particular customer contributes a significant amount to your sales numbers, you can focus on building a stronger relationship with that customer to increase their loyalty.

## Key performance indicators

The report includes the following key performance indicators (KPIs) and measures:

- [**Sales Amount**](sales-powerbi-sales-kpis.md#sales-amount)
- [**Sales Quantity**](sales-powerbi-sales-kpis.md#sales-quantity)
- [**Gross Profit**](sales-powerbi-sales-kpis.md#gross-profit)
- [**Gross Profit Margin**](sales-powerbi-sales-kpis.md#gross-profit-margin)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Customer
- Salesperson/Purchaser
- Item
- Value Entry
- Sales Line

## Try the report

Try the report here: [Sales by Salesperson](https://businesscentral.dynamics.com?page=37006)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchases-powerbi-moving-averages
---
title: Moving Averages (Power BI Report)
description: The Moving Averages report provides a comprehensive overview of your organization's average purchase over a 30-day period.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37012_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---
# Moving Averages (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Moving Averages** report provides a comprehensive overview of your average purchases over a 30-day period. This report focuses on the purchase amount and compares the current purchase amount to a 30-day average. The comparison lets you quickly identify deviations from the norm. Use this information to address issues and ensure that purchasing activities align with business operations and profitability.

:::image type="content" source="media/purchases/purchases-moving-averages.png" alt-text="Screenshot of the Moving Averages Power BI report" lightbox="media/purchases/purchases-moving-averages.png":::

## Use the report

The report helps management teams find key trends and make changes based on average purchase metrics.

CEOs need to track the moving average of purchase amounts over a specific period. Use this report to see performance trends and get help to make short term strategic decisions based on the trends.

Purchasing managers want to know which periods have a higher demand than others to plan purchasing schedules and budget accordingly. Use the report to analyze historical data and forecast upcoming trends so you can optimize inventory levels and reduce stock-outs.

For example, you might notice that purchasing demands are often higher towards the end of the year. You can work with your team to plan ahead and allocate staff to handle workload spikes.


## Key Performance Indicators (KPIs)

The *Moving Averages* report includes the following KPIs and measures: 

- [**Purchase Amount**](purchases-powerbi-kpis.md#purchase-amount)
- [**Purchase Amount Average 30D**](purchases-powerbi-kpis.md#purchase-amount-avg-30d-fiscal)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Value Entry
- Purchase Line

## Try the report

Try the report here: [Moving Averages](https://businesscentral.dynamics.com?page=37012)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Purchasing app](purchases-powerbi-app.md)  
[Ad hoc analysis of purchasing data](ad-hoc-analysis-purchasing.md)  
[Built-in purchasing reports](purchase-reports.md)  
[Purchasing analytics overview](purchasing-analytics-overview.md)  
[Purchasing overview](purchasing-manage-purchasing.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-financial-reporting-capabilities
---
title: Primary capabilities of financial reporting
description: This article provides an overview of what you can do with financial reporting.
author: bholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: finace, reporting, business intelligence, BI
ms.search.form: 
ms.date: 09/11/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Primary capabilities of financial reporting

This article describes the capabilities that are most widely used for the financial reporting features in [!INCLUDE [prod_short](includes/prod_short.md)].

## Out of the box financial reporting

To help you get started with financial reporting, [!INCLUDE [prod_short](includes/prod_short.md)] provides account categories, subcategories, and mappings to the company’s chart of accounts for basic financial reporting.

## Custom financial reporting

If you're already familiar with financial reporting and you want more complex reports, you can create your own.

## Comparative views

Beyond monthly balances or net changes, you can apply multiple views to any report you create. For example, you can use formula combinations for standard month to date and year to date views, view trends over the last 12 months, compare current amounts with the prior month or year, and more.

## Direct tie to the general ledger

Financial reporting is tied directly to detailed transactional postings from the general ledger.

## Use dimensions

Dimensions are data tags you can attach to postings to the general ledger to provide more business insights to financial reporting. Adding dimensions enriches the reports and expands them into operational reporting.

## Budget integration

Financial reporting can easily compare budget and actual financial results. You can do the comparisons for any date range and view the results at the general ledger and dimension levels.

## Ability to drill down

Numbers in financial reporting that aren't calculated by a formula can take you to the original transactions. You can make active analyses from the financial report to the account level, and from there to the invoices, credit memos, and ledger entries. This quick research tool lets you determine where the number came from, when it happened, what type of document was used, and even which user created the entry.

## Export to Excel

The Export to Excel feature lets you format financial reporting so that it looks the same every month, without manual work. Export to Excel makes it easy to produce a professional-looking financial package where values update each period.

## No coding needed

Financial reporting doesn't require that you know how to code. Finance professionals can build their own reports and make changes exactly when they need to. It's helpful, however, to understand:

* The structure of the chart of accounts.
* The dimensions that are used.
* The budget amounts.
* The basic differences between balance sheet and income statement accounts.
* Basic formulas.

## See also

[Prepare financial reporting with financial data and account categories](bi-how-work-account-schedule.md)  
[Design your own financial reports](bi-design-financial-reports.md)  
[Walkthrough: Create custom financial reports](bi-examples-custom-financial-reports.md)  
[Financial analytics overview](bi.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-fulfill-service-contracts
---
title: Overview of Tasks to Fulfill Service Contracts
description: Outlines tasks involved in fulfilling service contracts with your customers like setting up standard contractual agreements with customizable templates and more.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: contract, agreement, configure
ms.date: 06/23/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Fulfilling Service Contracts 
One way to set up a service management business is to have standard contractual agreements between you and your customers that describe the level of service and the service expectations. You can create contract templates that include necessary information, such as customer, start date of contract, and invoice period.  
  
After you set up the template, you can customize the resulting contract to keep track of service hours, or other items that may vary from customer to customer. You can also set up a contract manually from a service contract quote. Finally, you can adjust your service pricing to keep track of discounts that a specific customer qualifies for, by specifying the discount amount on the **Service Contract** page.  

The following table describes a sequence of tasks, with links to the topics that describe them.   
  
|**To**|**See**|  
|------------|-------------|  
|Handle a service item under multiple contracts. | [Multiple Contracts](service-multiple-contracts.md)|  
|Create service contracts either manually, or from a service contract quote.| [Create Service Contracts and Service Contract Quotes](service-how-to-create-service-contracts-and-service-contract-quotes.md)|
|Adjust the annual amount of a service contract or contract quote, so make sure that you invoice the right amount.|[Change the Annual Amount on Service Contracts or Contract Quotes](service-how-to-change-the-annual-amount-on-service-contracts-or-contract-quotes.md)|

## See also
[Planning Service](service-plan-service.md)  
[Delivering Service](service-deliver-service.md)  
[Setting Up Service Management](service-setup-service.md)  
[Create Service Contracts and Service Contract Quotes](service-how-to-create-service-contracts-and-service-contract-quotes.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-cancel-production-orders-that-have-consumption
---
title: Cancel production orders that have consumption
description: Learn how to revert consumption or output transactions, return unused raw materials, and correct mistakes in your reported operations.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 99000768, 99000779, 99000780, 99000866
ms.date: 04/08/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Cancel production orders that have consumption

Even when production doesn't go as planned, it's important to keep your inventory, cost, and financial records accurate. You can revert consumption or output transactions, return unused raw materials, and correct mistakes in your reported operations. For actual scrap occurrences, [!INCLUDE [prod_short](includes/prod_short.md)] provides a process that lets you close orders and write off accumulated WIP.

When you post production transactions by mistake, you probably want to cancel (undo the transactions) and in some cases close the order. To do that, from the **Released Production Order** page, you can open the **Item Ledger entries** or **Capacity Ledger entries** pages and use the **Reverse Production Order Transaction** action.

- For item ledger entries of the type **Consumption**, the action creates item journal lines of the type **Consumption**. For the lines, it copies values from the original transaction, uses the opposite sign in the **Quantity** field, applies to the original entry, and posts the item journal.
- For item ledger entries of the types **Output** or **Capacity**, the action creates item journal lines of the type **Output**. For the lines, it copies values from original transaction, uses the opposite sign in the **Quantity**, **Scrap Quantity**, **Setup Time**, and **Run time** fields, applies to the original entry (only for item ledger entries), and posts the item journal. It also removes the **Finished** status from the related production routing line.

The **Reverse Production Order Transaction** action is only enabled for entries that are related to the production order. It uses the original posting date.

The action isn't supported under the following conditions:

- If the output entry was already applied to an outbound transaction.
- If consumption/output involve warehouse handling. Bins are supported.
- Entries were created through subcontracting purchase orders. You can undo receipt in the Posted Purchase Receipt page.

## Undo subcontracting receipts

You can undo subcontracting receipts before you post them as invoiced. To do so, go to the posted purchase receipt, select the line, and choose the **Undo** action. As a result, an identical line with an opposite sign in the **Quantity** field is created along with the capacity ledger entry. And, if the canceled receipt line is linked to the last routing operation, an item ledger entry of the type **Output**. You can't reverse a receipt if it's invoiced or if the production order is finished.

> [!NOTE]
> If posting a subcontracting receipt caused consumption of components due to the flushing method, the consumption transactions aren't reverted. You must reverse them separately by using an output journal or the **Reverse Production Order Transaction** action.

After you revert and correct the records, you can change the status of the production order to **Finished**. The steps and settings are the same for a scenario where there is no output to allocate accumulated WIP because of actual scrap. To set this up, turn on the **Finish Order Without Output** toggle on the **Manufacturing Setup** page.

> [!NOTE]
> After you turn on the toggle, you can't turn it off again. However, you can decide whether to write-off WIP for each order individually.

When you change the status of a released production order that has consumption or capacity ledger entries but no output, you can turn on the **Allow Finishing Prod. Order with no output** toggle on the **Change production order status** page.

The accumulated WIP amounts are posted to your inventory adjustment account. Remember to fill in the **Inventory Adjustment Account** on the **General Posting Setup** page for the entry defined by:

- The **Gen. Bus. Posting Group** field on the production order.
- The **Gen. Prod. Posting Group** field on the produced item.

## Reopen a finished production order to make corrections

After you complete a production order and set its status to **Finished**, you might discover a mistake. For example, you might find that consumption is missing or the item tracking information is incorrect. To make sure that your inventory and cost transactions are correct, use the **Reopen** action on the **Finished Production Orders** page to make adjustments. However, to protect your data there are a few restrictions:

- You can only reopen an order one time.
- You can't reopen an order that has no output and cost was written off to an adjustment account.

## Related information

[Register Consumption and Output for One Released Production order line](production-how-to-register-consumption-and-output.md)  
[Batch Post Production Consumption](production-how-to-post-consumption.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-setup-sales
---
title: Overview of tasks to configure sales processes
description: Overview of tasks required to set up rules and values that define your sales policies and processes including general set-up and finance related sales set-up.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: trade, sell, configure
ms.search.form: 170, 172, 300, 301, 428, 456, 459, 1401
ms.date: 06/06/2024
ms.service: dynamics-365-business-central

---
# Setting up sales

Before you can manage sales processes, you must configure the rules and values that define the company's sales policies.

You must define the general setup on the **Sales & Receivables** page, such as which sales documents are required, how their values are posted, and the type of lines to create by default. This general setup is typically performed once during the initial implementation.

A separate series of tasks related to registering new customers is to record any special price or discount agreements that you have with each customer. For more information, see [Record Special Sales Prices and Discounts](sales-how-record-sales-price-discount-payment-agreements.md).

Finance-related sales setup, such as payment methods and currencies, are covered in the Finance Setup section. For more information, see [Setting Up Finance](finance-setup-finance.md).

| To | See |
| --- | --- |
| Create a customer card for each customer that you sell to. |[Register New Customers](sales-how-register-new-customers.md) |
| Enable customers to pay through PayPal by choosing the PayPal logo on sales documents. |[Enable Customer Payment Through PayPal](sales-how-enable-payment-service-extensions.md) |
| Enter the different discounts and special prices that you grant to customers depending on item, quantities, and/or date. |[Record Sales Price, Discount, and Payment Agreements](sales-how-record-sales-price-discount-payment-agreements.md) |
| Set up salespeople so that you can assign them to customer contacts or measure salespeople's performance as a basis for calculating the sales commission or bonus. |[Set Up Salespeople](sales-how-setup-salespeople.md) |
| Specify for individual customers or for all customers how sales documents are sent by default when you choose the **Post and Send** action. |[Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md) |
| Set your email up to contain a summary of information in the sales document that is being sent. |[Send Documents by Email](ui-how-send-documents-email.md) |
|Use an EU web service to verify a customer's VAT registration number.|[Verify VAT Registration Numbers](finance-setup-vat.md)|
|Define the different incoterms that you offer to customers or that your vendors offer you.|[Set Up Shipment Methods](sales-how-set-up-shipment-methods.md)|
|Enter information about the different transportation vendors you use, including a link to their package tracking service.|[Set Up Shipping Agents](sales-how-to-set-up-shipping-agents.md)|
|Specify default reports to be used for different document types.|[Report Selection in Business Central](across-report-selections.md)|
|Specify whether users are allowed to post sales invoices, and whether they must post them together with a shipment. |[Define an invoice posting policy for users](admin-setup-invoice-posting-policy.md)|

## See Also
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-searching-for-dimension-combinations
---
title: Design Details - Searching for Dimension Combinations | Microsoft Docs
description: When you close a page after you edit a set of dimensions, Business Central evaluates whether the edited set of dimensions exists. If the set does not exist, a new set is created and the dimension combination ID is returned.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 06/08/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Searching for Dimension Combinations
When you close a page after you edit a set of dimensions, [!INCLUDE[prod_short](includes/prod_short.md)] evaluates whether the edited set of dimensions exists. If the set does not exist, a new set is created and the dimension combination ID is returned.  

## Building Search Tree  
 Table 481 **Dimension Set Tree Node** is used when [!INCLUDE[prod_short](includes/prod_short.md)] evaluates whether a set of dimensions already exists in table 480 **Dimension Set Entry** table. The evaluation is performed by recursively traversing the search tree starting at the top level numbered 0. The top level 0 represents a dimension set with no dimension set entries. The children of this dimension set represent dimension sets with only one dimension set entry. The children of these dimension sets represent dimension sets with two children, and so on.  

### Example 1  
 The following diagram represents a search tree with six dimension sets. Only the distinguishing dimension set entry is displayed in the diagram.  

 ![Example of dimension tree structure.](media/nav2013_dimension_tree.png "Example of dimension tree structure")  

 The following table describes a complete list of dimension set entries that make up each dimension set.  

|Dimension Sets|Dimension Set Entries|  
|--------------------|---------------------------|  
|Set 0|None|  
|Set 1|AREA 30|  
|Set 2|AREA 30, DEPT ADM|  
|Set 3|AREA 30, DEPT PROD|  
|Set 4|AREA 30, DEPT ADM, PROJ VW|  
|Set 5|AREA 40|  
|Set 6|AREA 40, PROJ VW|  

### Example 2  
 This example shows how [!INCLUDE[prod_short](includes/prod_short.md)] evaluates whether a dimension set that consists of the dimension set entries AREA 40, DEPT PROD exists.  

 First, [!INCLUDE[prod_short](includes/prod_short.md)] also updates the **Dimension Set Tree Node** table to make sure that the search tree looks like the following diagram. Thus dimension set 7 becomes a child of the dimension set 5.  

 ![Example of dimension tree structure in NAV 2013.](media/nav2013_dimension_tree_example2.png "Example of dimension tree structure in NAV 2013")  

### Finding Dimension Set ID  
 At a conceptual level, **Parent ID**, **Dimension**, and **Dimension Value**, in the search tree, are combined and used as the primary key because [!INCLUDE[prod_short](includes/prod_short.md)] traverses the tree in the same order as the dimension entries. The GET function (record) is used to search for dimension set ID. The following code example shows how to find the dimension set ID when there are three dimension values.  

```  
DimSet."Parent ID" := 0;  // 'root'  
IF UserDim.FINDSET THEN  
  REPEAT  
      DimSet.GET(DimSet."Parent ID",UserDim.DimCode,UserDim.DimValueCode);  
  UNTIL UserDim.NEXT = 0;  
EXIT(DimSet.ID);  

```  

However, to preserve the ability of [!INCLUDE[prod_short](includes/prod_short.md)] to rename both a dimension and a dimension value, table 349, **Dimension Value**, is extended with an integer field, **Dimension Value ID**. This table converts the field pair, **Dimension** and **Dimension Value**, to an integer value. When you rename the dimension and dimension value, the integer value is not changed.  

```  
DimSet."Parent ID" := 0;  // 'root'  
IF UserDim.FINDSET THEN  
  REPEAT  
      DimSet.GET(DimSet.ParentID,UserDim."Dimension Value ID");  
  UNTIL UserDim.NEXT = 0;  
EXIT(DimSet.ID);  

```  

## See Also
    
 [Design Details: Dimension Set Entries](/dynamics365/business-central/design-details-dimension-set-entries-overview)   
 [Dimension Set Entries Overview](design-details-dimension-set-entries-overview.md)   
 [Design Details: Table Structure](design-details-table-structure.md)   
 


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-setup-projects
---
title: Set Up Resources, Time Sheets, and Projects
description: This topic outlines how to set up resources, time sheets, to manage projects and their budgets.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: projects
ms.search.form: 289, 290, 376, 462, 463, 1029, 8904, 9014, 9015
ms.date: 02/22/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Setting up project management

Before you can use [!INCLUDE[prod_short](includes/prod_short.md)] to manage projects, you must set up resources, time sheets, and projects.

Then you can create projects and schedule resources for projects as well as manage budgets and track machine and employee hours with time sheets. For more information, see [Managing Projects](projects-manage-projects.md).  

The following table describes a sequence of tasks, with links to the topics that describe them.

| To | See |
| --- | --- |
| Set up project management.|[Set general information for projects](projects-how-setup-jobs.md#to-set-general-information-for-projects)|
| Set up your resources and the related costs and prices, either for individual resources, resource groups, or for all available resources of the company. |[Set Up Resources](projects-how-setup-resources.md) |
| Enable resources to report time usage for an individual or a machine and enable a manager to review the usage and its allocation. |[Set Up Time Sheets](projects-how-setup-time-sheets.md) |
| Create project cards and prepare project tasks. Set up prices for project items and project resources and define project posting groups. |[Set Up Projects](projects-how-setup-jobs.md) |

## See Also

[Managing Projects](projects-manage-projects.md)  
[Video: How to create a project in Dynamics 365 Business Central](https://www.youtube.com/watch?v=VqaPWr7BWmw)  
[Finance](finance.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-view-archived-workflow-step-instances
---
title: How to View Archived Workflow Step Instances
description: All completed workflow step instances are saved on the Archived Workflow Step Instances page. Each step consists of a workflow event and workflow response.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.search.form: 1530, 
ms.date: 09/09/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# View Archived Workflow Step Instances

All completed workflow step instances are saved on the **Archived Workflow Step Instances** page.  

On the **Workflow** page, you create a workflow by listing the involved steps on the lines. Each step consists of a workflow event, moderated by event conditions, and a workflow response, moderated by response options. You define workflow steps by filling in fields on workflow lines using fixed lists of event and response values representing scenarios supported by the application code. Learn more at [Create Approval Workflows](across-how-to-create-workflows.md).  

> [!NOTE]
> To view the history and status of workflows using Power Automate integration, choose the **My flows** action on the **Power Automate** page, then choose a flow to view its run history and status.

## To view archived workflow step instances

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, then choose the related link.  
2. Open the workflow for which you want to view all archived workflow step instances.  
3. On the **Workflow** page, choose the **Archived Workflow Step Instances** action.  

   The **Archived Workflow Step Instances** page opens showing the archived workflow step instances of the selected workflow.  
4. Alternatively, Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Archived Workflow Step Instances**, and then choose the related link.  

   The **Archived Workflow Step Instances** page opens showing all archived workflow step instances. In the **Workflow Code** field, you can see which workflow the archived workflow step instance belonged to.  

## See also

[Delete Approval Workflows](across-how-to-delete-workflows.md)  
[Create Approval Workflows](across-how-to-create-workflows.md)  
[Enable Approval Workflows](across-how-to-enable-workflows.md)  
[Use Approval Workflows](across-use-workflows.md)  
[Walkthrough: Setting Up and Using a Purchase Approval Workflow](walkthrough-setting-up-and-using-a-purchase-approval-workflow.md)  
[Setting Up Approval Workflows](across-set-up-workflows.md)  
[Workflow](across-workflow.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-to-trace-item-tracked-items
---
title: Trace item-tracked items
description: You can see where an item-tracked item was used, including how and when it was received, produced, or returned with Item Tracing and Find Entries features.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.search.forms: 6520,
ms.date: 05/16/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Trace item-tracked items

You can see where an item-tracked item was used, including how and when it was received or produced, transferred, sold, consumed, or returned. You can also find all current instances of a specific serial or lot number in the database. You do this by using the Item Tracing and the [Find Entries](ui-find-entries.md) features.  

These features can be useful in quality control when you need to find out which customers received products with a particular lot number or when you need to find out which lot a defective component came from.  

 On the **Item Tracing** page, you can trace forwards and backwards in a sequence of posted inventory transactions for the serial or lot number.  

 On the **Find Entries** page, you can't see the sequence of transactions, but you can see all records of the serial or lot number, both posted entries and open records.  

 The two features can be used in combination by transferring a traced serial or lot number to the **Find Entries** page to finish a complete trace scenario. <!-- For more information, see [Walkthrough: Tracing Serial-Lot Numbers](walkthrough-tracing-serial-lot-numbers.md).   -->

## To trace item-tracked items  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Tracing**, and then choose the related link.  
2.  In the filter fields at the top of the page, enter the specific item numbers or a filter on the item numbers that you would like to trace.  
3.  In the **Show Components** field, select whether to also see where the components for the items came from. The following table describes the options.  

    |Field|Description|  
    |----------------------------------|---------------------------------------|  
    |**No**|Don't show components.|  
    |**Item-tracked Only**|Show only components that have lot or serial numbers.|  
    |**All**|Show all components.|  

4.  In the **Trace Method** field, select the method to use for tracing the item. The following table describes the options.  

    |Field|Description|  
    |----------------------------------|---------------------------------------|  
    |**Usage->Origin**|Trace the item from where it was used to where it came from. For instance, if a manufactured item was sold to a customer, the **Item Tracing** page shows this with the sales shipment line first, which you can then expand to see from which production order it came.|  
    |**Origin->Usage**|Trace the item from where it came into inventory to where it was used. For instance, if a manufactured item was sold to a customer, the **Item Tracing** page shows this with the finished production order first, which you can then expand to see the sale shipment lines where the item was used.|  

5.  Choose the **Trace** action to run the trace.  

> [!NOTE]  
>  Only applied transactions are shown. If you have received the same lot on multiple transactions, the **Item Tracing** page may not show all transactions.   

> [!NOTE]  
>  If additional transaction history under an item tracing line has already been traced by another line above it, then the **Already Traced** check box is selected. To provide a simpler view, such underlying lines are not shown.  
>   
>  To find the item tracing lines where the transaction history has already been traced, choose the **Go to Already Traced** button. The item tracing line in question is selected, and all underlying lines are expanded.  

## To find item-tracked items with Find Entries  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Find Entries**, and then select the related link.  
2. Choose **Search for item references**.
3. In the **Serial No.** and **Lot No.** fields, enter the item tracking numbers that you want to trace.  
4. Choose the **Find** action to find all instances of the serial or lot number in the database.  

## See also

[Inventory](inventory-manage-inventory.md)  
[Work with Serial, Lot, and Package Numbers](inventory-how-work-item-tracking.md)  
[Design Details: Item Tracking](design-details-item-tracking.md)  
[Design Details - Item Tracking and Reservations](design-details-item-tracking-and-reservations.md)  
[Reserve Items](inventory-how-to-reserve-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
<!-- [Walkthrough: Tracing Serial-Lot Numbers](walkthrough-tracing-serial-lot-numbers.md)   -->
[Find Entries](ui-find-entries.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-assemble-to-project
---
title: Assemble to Project
description: Learn how to use assemble-to-order for project.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: project management, task
ms.search.form: 88, 275, 276, 1001, 1002, 1003, 1004, 1005, 1006, 1007, 1020
ms.date: 08/03/2022
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Assemble to project

Assemble to project helps you improve inventory management by assembling to order only when it's required.

When you choose an assemble-to-order item on a project planning line, [!INCLUDE [prod_short](includes/prod_short.md)] creates an assembly order. The assembly order is based on the project planning line, and its lines are based on the item's assembly bill of materials (BOM). To learn more about assembly BOMs, go to [Work with Assembly BOMs](assembly-how-work-assembly-boms.md). The quantity of components on the assembly BOM is multiplied by the order quantity. The **Assemble-to-Order Lines** page shows details about the linked assembly order lines. The details can help you customize the assembly item. As in sales, you can't directly post linked assembly orders. To learn more about assembly orders, go to [Selling Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-inventory-items-in-assemble-to-order-flows.md).

Assembly orders are reserved for projects, and [!INCLUDE [prod_short](includes/prod_short.md)] synchronizes item tracking between project planning lines and assembly order.

## Integrate with warehouse management

Assemble to project integrates with warehouse management features to make assembly and shipping easier. The process also helps ensure that the flow from project assembly to delivery runs smoothly in internal warehouse processes. To learn more about internal warehouse flows for projects, go to [Flows for Production, Assembly, and Jobs](design-details-internal-warehouse-flows.md#flows-to-and-from-assembly-in-a-basic-warehouse-configuration).

The following table describes the warehouse configurations that assemble to order supports.

|Configuration  |Description  |
|---------|---------|
|**No warehouse handling**|Use a project journal to post full or partial usage. The output and consumption of components post automatically for the assembly order.         |
|**Inventory pick**|Use an inventory pick to post full or partial usage. The output and consumption of components post automatically for the assembly order.          |
|**Warehouse pick**|Create and register warehouse picks for components, and then use a project journal to post usage. [!INCLUDE [prod_short](includes/prod_short.md)] verifies whether the consumed assembly components were picked. The output and consumption of components post automatically for the assembly order.         |

## Known limitations

This section describes known limitations for assemble to project.

* The **Quantity to Assemble to Order** field isn't available for projects that are closed.
* For warehouse pick scenarios, the **Quantity to Assemble to Order** can be either zero or equal to the quantity. You can't mix assemble to order and assemble to stock on a project planning line. You must create separate project planning lines.
* Assemble to order doesn't affect billable parts of a project. An assembly is included on sales invoices, but not its components. You can't edit the **Quantity to Assemble to Order** field for billable lines.
* Order planning and the planning worksheet aren't affected because the project is the input for planning. The planning engine considers the assembly as demand.
* You can't enter a negative quantity in the **Quantity to Assemble to Order** field.
* You can't undo an assembly.

## See also

[Project Management](projects-manage-projects.md)  
[Assembly Management](assembly-assemble-items.md)  
[Create Jobs](projects-how-create-jobs.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-dimension-set-entries-overview
---
title: Dimension Set Entries Overview
description: This article gives you an overview of how dimension set entries are stored as dimension set entries and how they are posted.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: dimension
ms.date: 06/14/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Dimension Set Entries Overview
This topic describes how dimension set entries are stored and posted in [!INCLUDE[prod_short](includes/prod_short.md)].  

## Dimension Sets  
A dimension set is a unique combination of dimension values. It is stored as dimension set entries in the database. Each dimension set entry represents a single dimension value. The dimension set is identified by a common dimension set ID that is assigned to each dimension set entry that belongs to the dimension set.  

The following example shows a dimension set that has three dimension set entries. The dimension set is identified by a dimension set ID, which is 108.  

|Dimension Set ID|Dimension Code|Dimension Value Code|Dimension Value Name|  
|----------------------|--------------------|--------------------------|--------------------------|  
|108|AREA|70|America North|  
|108|BUSINESSGROUP|HOME|Home|  
|108|DEPARTMENT|SALES|Sales|  

## Dimension Set Entries  
Dimension sets are stored in the **Dimension Set Entry** table as dimension set entries with the same dimension set ID.  

![Flow of dimension set entries.](media/dimensionentrynav7.png "Flow of dimension set entries")  

When you create a new journal line, document header, or document line, you can specify a combination of dimension values. Instead of explicitly storing each dimension value in the database, a dimension set ID is assigned to the journal line, document header, or document line to specify the dimension set.  

When you edit and close the **Edit Dimension Set Entries** page, a check is performed to see whether the combination of dimension values exists as a dimension set in the table. If the combination occurs in the table, then the corresponding dimension set ID is assigned to the journal line, document header, or document line. Otherwise, a new dimension set is added to the table, and the new dimension set ID is assigned to the journal line, document header, or document line.

## Codeunit 408 Dimension Management
Codeunit 408, Dimension Management, is a function library that handles common tasks that are related to dimensions, such as copying from one table to another or from one document to another.

## Performance Improvement  
By storing dimension sets once in the database, database space is preserved and overall performance is improved.  

## See Also
[Design Details: Searching for Dimension Combinations](design-details-searching-for-dimension-combinations.md)   
[Design Details: Table Structure](design-details-table-structure.md)   
[Design Details: Dimension Set Entries](/dynamics365/business-central/design-details-dimension-set-entries-overview)   


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-create-bank-deposits
---
title: Create bank deposits
description: You can make deposits to maintain a transaction record that contains information that can be applied to outstanding invoices and credit memos.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: conceptual
ms.search.keywords: bank, deposit
ms.search.form: 10140, 10141, 10143, 10144, 10146, 10147, 10148, 36646, 1690_Primary
ms.date: 09/27/2024
ms.custom: bap-template    
---

# Create bank deposits

> [!NOTE]
> The ability to create bank deposits is new in [!INCLUDE [prod_short](includes/prod_short.md)] 2022 release wave 1 for a lot of country/region versions. If you were using [!INCLUDE [prod_short](includes/prod_short.md)] in the United States, Canada, or Mexico before that release, you might be using the earlier capabilities. You can continue, but the new capabilities will replace the old ones in a future release. To start using the new features described in this article, your administrator can go to the **Feature Management** page and turn on **Feature Update: Standardized bank reconciliation and deposits**.  

Use the **Bank Deposits** page to register deposits as a single document that posts one or more entries to a bank account. Typically, bank deposits are used to register cash deposits. The Bank Deposits page is available on the **Cash Management** menu on the Business Manager Role Center, and other Role Centers that deal with cash management.

Amounts on bank deposits can come from several sources:

* Sales, using a G/L account for revenue.
* Customers payments.
* Cash refunds from vendors, or cash payments to them. 

Bank deposit lines contain information about individual deposits, such as checks from customers. The total of the amounts on the lines must add up to the total amount of the deposit.

After you fill in the deposit information and lines, you must post it. Posting updates the relevant ledgers, including the general ledger, and the bank, customer, and vendor ledgers. Posted deposits are stored for future reference on the **Posted Bank Deposits** page.

The **Bank Deposit** report displays customer and vendor deposits with the original deposit amount, the amount of the deposit that remains open, and the amount applied. The report also shows the total posted deposit amount to reconcile.

## Before you start

There are a few things to set up before you can use bank deposits. You must have a number series and general journal template ready. You should also specify whether to post bank deposit amounts as a lump sum. That is, as a total of all the amounts on the deposit lines. Otherwise, each line is posted as an individual entry. Posting a deposit as a single bank ledger entry can make it easier to do bank reconciliation.

### Number series and lump sum deposits

You must set up a number series for bank deposits, and then specify the series in the **Bank Deposit Nos.** field on the **Sales & Receivables Setup** page. To learn more about number series, go to [Create Number Series](ui-create-number-series.md).

Also on the **Sales & Receivables Setup** page, to post deposits as lump sums rather than individual lines, turn on the **Post Bank Deposits as Lump Sum** toggle. Posting a deposit as a lump sum creates one bank ledger entry for the full amount of the deposit, which can make it easier to do bank reconciliation.

### General journal templates for bank deposits

You must also create a general journal template for deposits. You use general journals to post entries to bank, customer, vendor, fixed asset, and general ledger accounts. The journal templates design the general journal to suit the purpose of your work. That is, the fields on the journal template are exactly the ones you need.

The deposits are cash receipts, so you might want to reuse your number series for cash receipt journals. Alternatively, if you need to distinguish between bank deposit and cash receipt journal entries, use a different number series.

You also need to create a batch job for the template. To create a batch job, on the **General Journal Templates** page, choose the **Batches** action. To learn more about batches, go to [Using Journal Templates and Batches](ui-work-general-journals.md#use-journal-templates-and-batches).

## Dimensions on bank deposit lines

The lines on the bank deposit use the default dimensions you specified in the **Department Code** and **Customer group Code** fields. When you choose **Customer** or **Vendor** in the **Account Type** field, the dimensions for the customer or vendor replace the defaults. You can change the dimensions on the lines, if needed.

> [!TIP]
> Dimension on lines are set according to Default Dimension Priorities. Line dimensions prioritized over header dimensions. To avoid conflicts, you can create rules that prioritize when to use a dimension depending on the source. If you want to change how dimensions are prioritized, you can change their rankings on the **Default Dimension Priorities** page. For more information, see [To set up default dimension priorities](finance-dimensions.md#to-set-up-default-dimension-priorities).

## Create a bank deposit

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Deposits**, and then choose the related link.
2. Choose **New** to open the **Bank Deposit** page.
3. Choose the general journal template that you created for bank deposits.  

    > [!NOTE]
    > If the general journal template has more than one batch, you'll be prompted to choose one.

4. In the **Bank Account No.** field, choose the bank account in which to make the deposit.

    > [!TIP]
    > You can double-check that you're depositing to the correct account by using the **Account Card** and **Account Ledger Entries** actions to look up the ledger entries for the selected bank account. For example, to check whether similar deposits were made to the account.

5. In the **Total Deposit Amount** field, enter the total amount of the deposit. This total must be the sum of the amounts on all lines.
6. Fill in the remaining fields as necessary. [!INCLUDE [tooltip-inline-tip_md](../archive/SetupAndAdministration/includes/tooltip-inline-tip_md.md)]

    The date in the **Posting Date** field and the dimensions in the **Department Code** and **Customergroup Code** fields are assigned to the lines that you create for the bank deposit. You can change them if needed.

7. Depending on whether you want to post the bank deposit as lump sum or each line individually to the bank ledger, turn the **Post as Lump Sum** toggle on or off. The default setting comes from the same toggle on the **Sales & Receivables Setup** page.

    > [!NOTE]
    > The **Currency Code** field shows the currency that is specified for the bank account you chose. You cannot choose a different currency.

8. On the **Lines** FastTab, create a new line for each cash payment that you want to deposit.
9. In the **Account Type** field, specify where the payment originated. For bank deposits, the type is typically **Customer** or **Vendor**.

    > [!NOTE]
    > You can also register a cash payment to a vendor. To do that, choose **Vendor** and then enter the payment amount as a negative number in the **Credit Amount** field on the line.

10. In the **Document No.** field, enter the document number of the invoice from which the credit amount originated. You can use a document number for each line, or the same number for all lines.

    > [!TIP]
    > Typically, you don't need to fill in the **Document Type** field for financial entries. For example, if you're depositing cash from a day's sale you leave the field blank. If you're depositing cash from a customer payment, you choose **Payment**.

11. If you're depositing a cash payment for a specific customer invoice, choose the **Apply Entries** action, and then enter the invoice number in the **Applies-to ID** field.
12. If you're ready to post the bank deposit, choose the **Post** action.

    > [!NOTE]
    > If the bank account has default dimensions where the **Value Posting** field contains **Code Mandatory**, **Same Code**, or **No Code**, you must post the deposit as a lump sum. If you don't post as a lump sum, posting might fail because the dimension values of the accounts on the bank deposit lines violate the value posting rules of the bank account.

    > [!TIP]
    > Before you post the deposit, you can use the **Test Report** action to review your data. The report shows whether there are any issues, such as missing data, that might prevent posting.  

## Apply multiple checks for multiple invoices for a customer in a lump sum deposit

You can post lump sum deposits from multiple checks on deposit lines for customer ledger entries. 

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Deposits**, and then choose the related link.
2. Create or choose a line for the customer, and in the **External Document No.** field, enter the check number.
3. Choose **Apply Entries**.
4. On the **Apply Customer Entries** page, for each document you want to apply the check to, in the **Applies-to ID** field, enter the check number.
5. In the **Amount to apply** field, enter the amount on the check.

   > [!NOTE]
   > When you enter the amount to apply, the **Applies-to ID** field might reset to the bank deposit document number. Double-check the field, and if it reset, reenter the check number.  

6. Choose **OK**.
7. Repeat steps two through six for each check.

   > [!TIP]
   > Before you post the bank deposit, it's a good idea to use the **Test Report** action to validate the applications.

## Find posted bank deposits

The **Posted Bank Deposits** page lists your company's previous deposits. In the list, you can review the comments and dimensions that were specified for the deposits. You can open the bank deposit to view more details, and from there you can investigate further. For example, you can choose the **Find entries** action to view the posted bank ledger entries. From the bank ledger entry, you can find its corresponding posted general ledger entry.

If you want to look up all general ledger entries for the posted deposit lines, go to the **G/L Register** page and use the **General Ledger** action. The action shows all of the general ledger entries, including the entries for customers and vendors.

## Reverse a posted bank deposit

There are a couple of ways to reverse a posted bank deposit:

* On the **Posted Bank Deposits** page, choose the deposit, and then choose the **Undo Posting** action.
* On the **G/L Registers** page, find the register for the deposit, and then choose the **Reverse Register** action.

> [!NOTE]
> You can only reverse a register that contains a single type of entry. That is, the register must contain only customer entries or vendor entries, but not both. If a register contains both you must manually reverse the deposit.

## See Also

[Finance](finance.md)  
[Setting Up Finance](finance.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]



end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-assign-base-calendars
---
title: Set Up Base Calendars
description: You can assign a base calendar to your company and its business partners, to calculate delivery and receipt dates according to the specified working days.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.form: 7600, 7601, 7602, 5703
ms.date: 06/11/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Base Calendars

You can assign a base calendar to your company and its business partners, such as customers, vendors, or locations. Delivery and receipt dates on future sales order, purchase order, transfer order, and production order lines are calculated according to the calendar’s specified working days. The main task in setting up a new base calendar is to specify and define the non-working days that you want to apply.  

## To set up a base calendar

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Base Calendar**, and then choose the related link.  
2.  Choose the **New** action.  
3.  Fill in the **Code** field.  
4. Choose the **Maintain Base Calendar Changes** action.
5. On the **Base Calendar Changes** page, use the **Recurring System** field to mark a particular date or day as a recurring nonworking day. You can select either the **Annual Recurring** or **Weekly Recurring** option.  

    If you select **Annual Recurring**, you must also enter the relevant date in the **Date** field.  

    If you select **Weekly Recurring**, you must also select the relevant day of the week in the **Day** field. If you leave the field empty, you must fill in the **Date** field. The **Day** field is filled in automatically.  

When you make an entry, the **Nonworking** field is selected. You can choose to clear the check mark to make it a working day.  
 When you return to the base calendar card, you will observe that the nonworking day entries that you made have been updated. These entries now appear in red and the **Nonworking** field is selected.  

> [!NOTE]  
>  When setting up a new base calendar, you can select and copy lines from an existing calendar. You do this in the relevant **Base Calendar Changes** page.  

> [!IMPORTANT]  
>  Any base calendar defined for the vendor or the location affects how the dates are calculated and rounded to working days.
Specifies a date formula for the time that it takes to replenish the item. It is used to calculate the **Planned Receipt Date** field, if calculating forward, and **Order Date** field, if calculating backwards. See [Lead Time Calculation](across-how-to-assign-base-calendars.md#lead-time-calculation).

## Lead Time Calculation

Any base calendar defined for the vendor or the location affects how the dates are calculated and rounded to working days. Accordingly, the two date fields on purchase order lines are calculated as follows under different conditions.

|Calculation Direction|Vendor Calendar Defined|Vendor Calendar Not Defined|
|---------------------|-----------------------|---------------------------|
|Forward|planned receipt date = order date + vendor lead time (per the vendor calendar and rounded to the next working day in first the vendor calendar and then the location calendar)|planned receipt date = order date + vendor lead time (per the location calendar)|
|Backward|order date = planned receipt date - vendor lead time (per the vendor calendar and rounded to the previous working day in first the vendor calendar and then the location calendar)|order date = planned receipt date - vendor lead time (per the location calendar)|

> [!NOTE]
> In addition to the lead time calculation that affects the planned receipt date and order date, as shown in the above table, warehouse handling time and safety lead time may be added to the formulas to make up the value in the **Expected Receipt Date** field, as follows: Planned Receipt Date + Safety Lead Time + Inbound Warehouse Handling Time = Expected Receipt Date.

> [!Important]
> If your location uses a significantly different calendar than your vendors do, then it is important that you set up specific calendars for those vendors, to calculate optimal vendor lead times. For information about how to set up vendor calendars, see [To assign a base calendar](across-how-to-assign-base-calendars.md#to-assign-a-base-calendar).

The contents of the **Lead Time Calculation** field is copied from either the item card or the SKU card, if the lead time is defined for the item, or on the **Item Vendor Catalog** page, if the lead time is defined for the vendor.

## To customize a calendar
The main task in customizing a base calendar for your company, or one of its business partners, is to enter any changes to working and nonworking day status.

For example, while a base calendar would typically list all Saturdays as non-working days, the customized calendar for a particular location may list all Saturdays during the months of November and December, and leading up to the holiday season, as working days.

The following procedure uses the case of the location as an example. Note that at this point, you have already assigned a base calendar to the location.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.
2. Open the location that you want to update, and then select the **Customized Calendar** field. Note that a calendar must be selected in the **Base Calendar Code** field.
3. On the **Customized Calendar Entries** page opens, choose the **Maintain Customized Calendar Changes** action.
4. In the **Customized Calendar Changes**, add lines for customized calendar entries.

    When you enter a line, the **Nonworking** check box is selected. You can clear the check box if you want to change the status to a working day.

    You can use the **Recurring System** field to set a particular date or day as a recurring nonworking day. You can select either the **Annual Recurring** or **Weekly Recurring** option.

    If you select **Annual Recurring**, you must also enter the relevant date in the **Date** field. If you select **Weekly Recurring**, you must also select the relevant day of the week in the **Day** field. If you leave the field empty, you must fill in the **Date** field. The **Day** field is then filled in automatically. This could be useful if you want to mark an individual date as a nonworking or working day.

5. Choose the **OK** button.

On the **Customized Calendar Entries** page, you will observe that the date entries are updated with the changes that you made.

On the Location card, you will observe that the **Customized Calendar** field contains **Yes**, indicating that a customized calendar has been set up.

> [!Important]
> If you do not fill in the **Location Code** field on an order line, your company’s calendar is used.


If you do not fill in the **Shipping Agent Code** field on the order line, your company’s calendar is used.

> [!NOTE]  
> If you make changes to a base calendar for which customized calendar changes exist, all existing customized calendars are updated automatically.

## To assign a base calendar  
The following procedure schedules delivery dates on sales order lines for a customer as an example.

Base calendars are assigned to your own company, customers, vendors, locations, and shipping agents as follows:  

-   On the **Company Information** and **Customer** cards, the base calendar is assigned on the **Shipping** FastTab.  
-   On the **Vendor** card, the base calendar is assigned on the **Receiving** FastTab.  
-   On the **Location** card, the base calendar is assigned on the **Warehouse** FastTab.  
-   On the **Shipping Agents** page, the base calendar is assigned on the **Shipping Agent Services** page.  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.  
2.  Open the **Customer** card for whom you will assign a base calendar.  
3.  On the **Shipping** FastTab, in the **Base Calendar Code** field, select the base calendar that you want to assign.  

> [!IMPORTANT]  
>  -   If you do not assign a base calendar to a company, all dates are calculated as working days.  
> -   If you enter a blank location on an order line, all dates are calculated as working days.  
> -   Any base calendar defined for the vendor or the location affects how the dates are calculated and rounded to working days.

> [!NOTE]  
>  Before you can make customized calendar entries, you must first assign a base calendar to the company.  

## See Also
[Purchasing](purchasing-manage-purchasing.md)  
[Manufacturing](production-manage-manufacturing.md)    
[Inventory](inventory-manage-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-general-ledger-entries
---
title: General Ledger Entries
description: The General Ledger Entries report provides a detailed view of individual transactions within the general ledger.
author: kennienp
ms.author: kepontop
ms.reviewer:
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 36995_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# General Ledger Entries (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **General Ledger Entries** report provides a detailed view of individual entries from the general ledger, so you can quickly filter and locate specific entries. This report is a valuable tool for tracking financial transactions, reconciliation, and facilitating efficient audits by giving easy access to detailed entry information.

:::image type="content" source="media/finance/general-ledger-entries-report.png" alt-text="Screenshot of the General Ledger Entries report" lightbox="media/finance/general-ledger-entries-report.png":::

## Use the report

The audiences for the report are:

- Finance managers
- Finance staff

Finance managers use the report to reconcile transactions for a specific fiscal period. By filtering the report to display only entries from that period, you can systematically review all recorded transactions. This process helps you find discrepancies, such as missing entries or erroneous amounts, and ensure that the general ledger accurately reflects the company's activities. Once reconciled, you can confidently prepare financial statements and provide insights into the organization's financial health for that period.

<!-- ## Key Performance Indicators (KPIs)

The *General Ledger Entries* report includes the following KPIs and measures: 

- [**Amount**](####) -->

## Data used in the report

The report uses data from the following table in [!INCLUDE[prod_short](includes/prod_short.md)]:

- General Ledger Entries

## Try the report

Try the report here: [General Ledger Entries](https://businesscentral.dynamics.com?page=36995)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## See also

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-classifying-data-sensitivity
---
title: Classifying data sensitivity
description: You must specify which type of data you store about people so that you can respond to data subject requests.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.form: 1752,
ms.date: 04/19/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Classifying data sensitivity fields

To classify the fields that hold sensitive or personal data, a Microsoft partner can set the ```DataClassification``` property on fields. This requires access to the database tables, either through the development environment or by running a Windows PowerShell script. For more information, see [Classifying Data](/dynamics365/business-central/dev-itpro/developer/devenv-classifying-data).  

As a customer, you can add a second level of classification by specifying sensitivity levels for the data you store in standard and custom fields. Classifying data sensitivity helps ensure that you know where you keep personal data in your system, and makes it easier to respond to requests from data subjects. For example, if a contact or customer asks you to export their personal data. For more information, see [Responding to Requests About Personal Data](admin-responding-to-requests-about-personal-data.md).

> [!Important]  
> Microsoft is providing this Data Sensitivity Classification feature as a matter of convenience only. It's your responsibility to classify the data appropriately and comply with any laws and regulations that are applicable to you. Microsoft disclaims all responsibility towards any claims related to your classification of the data.  

The following table describes data sensitivity levels you can assign.

|Sensitivity|Description|
|----|----|
|Sensitive | Information about a data subject's racial or ethnic origin, political opinions, religious beliefs, involvement with trade unions, physical or mental health, sexuality, or details about criminal offenses. |
|Personal | Information that can be used to identify a data subject, either directly or in combination with other data or information.|
|Confidential | Business data that you use for accounting or other business purposes, and do not want to expose to other entities. For example, this might include ledger entries.|
|Normal | General data that does not belong to any other categories.|

## How do I classify my data?

Classifying the sensitivity of a large number of fields one-by-one would take a long time. To help speed up the process, we provide tools that you can use to bulk classify the sensitivity of fields, and then fine-tune classifications for specific fields. You can find tools on the Data Classification Worksheet page, which is available on the Administration of users, user groups, and permissions Role Center. You must be a system administrator to use the worksheet.
 
> [!Important]  
> When you open the Data Classification Worksheet page for the first time, it will be empty. You must run the Data Classification guide to generate the list of fields. To start the guide, choose the **Set Up Data Classifications** action.

For example, the Data Classification Worksheet page lets you do things like:  

* Use the Data Classification guide to export your fields to an Excel worksheet where you can bulk classify them. Using the Excel worksheet is particularly useful if you are collaborating with a Microsoft partner. After you update the worksheet, you can use the guide to import and apply the classifications. You can also use the guide to classify fields manually.  
* Choose a field and then filter the list to find similar fields that are likely to belong to the same classification as the field you based the search on.  
* Investigate a field by viewing its contents.  

> [!Tip]  
> We have defined sample sensitivity classifications for the tables and fields in the Cronus demonstration company. You can use those classifications as inspiration when you classify your own tables and fields.

## See also

<!-- [Classifying Data](/dynamics365/business-central/dev-itpro/developer/devenv-classifying-data) -->
[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-add-fields-word-report-layout
---
title: How to Add Fields to a Word Report Layout
description: This topic describes how to add fields of a report dataset to an existing Word report layout for a report.
author: jswymer
ms.topic: conceptual
ms.devlang: al
ms.search.keywords:
ms.date: 10/01/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Work with Word Layouts

A Word report layout determines the content and format of a report when it is previewed and printed from Business Central. You create and modify these layouts using Microsoft Word.

[![Example of a word report layout document for Business Central.](media/word-layout.png)](media/word-layout.png#lightbox) 

When you modify a Word report layout, you specify the fields of the report dataset to include on report and how the fields are arranged. You also define the general format of the report, such as text font and size, margins, and background images. You will typically arrange the content of the report by adding tables to the layout.

To make general formatting and layout changes, such as changing text font, adding and modifying a table, or removing a data field, just use the basic editing features of Word, like you do with any Word document.

If you're designing a Word report layout from scratch or adding new data fields, then start by adding a table that includes rows and columns that will eventually hold the data fields.

> [!TIP]  
> Show the table gridlines so that you see the boundaries of table cells. Remember to hide the gridlines when you're done editing. To show or hide table gridlines, select the table, and then under **Layout** on the **Table** tab, choose **View Gridlines**.

## Embedding Fonts in Word Layouts for Consistency

To ensure that reports always display and print with the intended fonts, wherever users open or print the reports, you can embed the fonts in the Word document. However, embedding fonts can significantly increase the size of the Word files. Learn more about embedding fonts in Word at [Embed fonts in Word, PowerPoint, or Excel](https://support.office.com/article/Embed-fonts-in-Word-PowerPoint-or-Excel-cb3982aa-ea76-4323-b008-86670f222dbc).

## Adding data fields

A report dataset can consist of fields that display labels, data, and images. This topic describes the procedure for adding fields of a report dataset to an existing Word report layout for a report. You add fields by using the Word custom XML part for the report and adding content controls that map to the fields of the report dataset. Adding fields requires that you have some knowledge of the report's dataset so that you can identify the fields that you want to add to the layout.  
  
> [!NOTE]  
> You cannot modify built-in report layouts<!--Onprem. Built-in layouts can only be modified by using the development environment-->.  

###  <a name="OpenXMLPart"></a> To open the Custom XML part for the Report in Word  
  
1. If it's not already open, then open the Word report layout document in Word.  
  
     For more information, see [Create and Modify a Custom Report Layout](ui-how-create-custom-report-layout.md).  
  
2. Display the **Developer** tab in the ribbon of Microsoft Word.  
  
     By default, the **Developer** tab is not shown in the ribbon. Learn more at [Show the Developer Tab on the Ribbon](/visualstudio/vsto/how-to-show-the-developer-tab-on-the-ribbon).  
  
3. On the **Developer** tab, select **XML Mapping Pane**.  
  
4. In the **XML Mapping** pane, in the **Custom XML Part** dropdown list, choose the custom XML part for [!INCLUDE[prod_short](includes/prod_short.md)] report, which is typically last in the list. The name of the custom XML part has the following format:  
  
     `urn:microsoft-dynamics-nav/reports/<report_name>/<ID>`  

     `<report_name>` is the name that is assigned to the report 

     `<ID>` is the identification number of the report.  
  
     After you select the custom XML part, the XML Mapping pane displays the labels and field controls that are available for the report.  
  
### To add a label or data field  
  
1. Place your cursor in the document where you want to add the control.  
  
2. In the **XML Mapping** pane, right-click the control that you want to add, choose **Insert Content Control**, and then choose **Plain Text**.  
  
    > [!NOTE]  
    > You cannot add a field by manually typing the dataset field name in the content control. You must use the **XML Mapping** pane to map the fields.  
  
### To add repeating rows of data fields to create a list  
  
1. In a table, add a table row that includes a column for each field that you want repeated.  
  
   This row will act as a placeholder for the repeating fields.  
  
2. Select the entire row.  
  
3. In the **XML Mapping** pane, right-click the control that corresponds to the report data item that contains the fields that you want repeated, choose **Insert Content Control**, and then choose **Repeating**.  
  
4. Add the repeating fields to the row as follows:  
  
    1. Place your pointer in a column.  
  
    2. In the **XML Mapping** pane, right-click the control that you want to add, choose **Insert Content Control**, and then choose **Plain Text**.  
  
    3. For each field, repeat steps a and b.  
  
## Adding image fields

A report dataset can include a field that contains an image, such as a company logo or a picture of an item. To add an image from the report dataset, you insert a **Picture** content control.  
  
Images align in the top-left corner of the content control and resize automatically in proportion to fit the boundary of the content control.  
  
> [!IMPORTANT]  
> You can only add images that have a format that is supported by Word, such as .bmp, .jpeg, and .png file types. If you add an image that has a format that is not supported by Word, you will get an error when you run the report from the [!INCLUDE[prod_short](includes/prod_short.md)] client.  
  
### To add an image  
  
1. Place your pointer in the document where you want to add the control.  
  
2. In the **XML Mapping** pane, right-click the control that you want to add, choose **Insert Content Control**, and then choose **Picture**.  
  
3. To increase or decrease the image size, drag a sizing handle away from or towards the center of the content control.  

##  <a name="RemoveField"></a> Removing label and data fields

Label and data fields of a report are contained in content controls in Word. The following figure illustrates a content control when it's selected in the Word document.  

![Content control for field in Word report layout.](media/nav_wordreportlayouts_contentcontrol.png "NAV_WordReportLayouts_ContentControl")  

The name of the label or data field name displays in the content control. In the example, the field name is CompanyAddr1.  

### To remove a label or data field  

1. Right-click the field that you want to delete, and then choose **Remove Content Control**.  

     The content control is removed, but the field name remains as text.  

2. Delete the remaining text as needed.

## Custom XML Part Overview

Word report layouts are built on *custom XML parts*. A custom XML part for a report consists of elements that correspond to the data items, columns, and labels that comprise the report's dataset. <!--OnPrem The data as defined in the Report Dataset Designer in Microsoft Dynamics NAV Development Environment. -->The custom XML part is used to map the data into a report when the report is run.

### XML structure of custom XML part

The following table provides a simplified overview of the XML of a custom XML part.  
  
|XML Elements|Description|  
|------------------|-----------------|  
|`<?xml version="1.0" encoding="utf-16"?>`|Header|  
|`<WordReportXmlPart xmlns="urn:microsoft-dynamics-365/report/<reportname>/<id>/"`|XML namespace specification. `<reportname>` is the name that is assigned to the report. `<id>` is the ID that is assigned to the report.|  
|`..<Labels>`<br /><br /> `....<ColumnNameCaption>ColumnNameCaption</ColumnNameCaption>`<br /><br /> `....<LabelName>LabelCaption</LabelName>`<br /><br /> `..</Labels>`|Contains all the labels for the report.<!--OnPren The element includes labels that are related to columns that have the IncludeCaption Property.--><br />-   Label elements that are related to columns have the format `<ColumnNameCaption>ColumnNameCaption</ColumnNameCaption>`<!--OnPrem where `ColumnName` is determined by the column's Name Property.-->.<br />-  Label elements have the format `<LabelName>LabelName</LabelName`<!--OnPrem where LabelName is determined by the label's Name Property.-->.<br />-   Labels are listed in alphabetical order.|  
|`..<DataItem1>`<br /><br /> `....<DataItem1Column1>DataItem1Column1</DataItem1Column1>`|Top-level data item and columns. Columns are listed in alphabetical order.<!--OnPrem <br /><br /> The element names and values are determined by the Name Property of the data item or column.-->|  
|`....<DataItem2>`<br /><br /> `......<DataItem2Column1>DataItem2Column1</DataItem2Column1>`<br /><br /> `....</DataItem2>`<br /><br /> `....<DataItem3>`<br /><br /> `......<DataItem3Column1>DataItem3Column1</DataItem3Column1>`<br /><br /> `....</DataItem3>`|Data items and columns that are nested in the top-level data item. Columns are listed in alphabetical order under the respective data item.|  
|`..</DataItem1>`<br /><br /> `</WordReportXmlPart>`|Closing element.|  
  
### Custom XML part in Word

 In Word, you open the custom XML part in the **XML Mapping** pane, and then use the pane to map elements to content controls in the Word document. The **XML Mapping** pane is accessible from the **Developer** tab (learn more at [Show the Developer Tab on the Ribbon](/visualstudio/vsto/how-to-show-the-developer-tab-on-the-ribbon)).  
  
 The elements in the **XML Mapping** pane appear in a structure that is similar to the XML source. Label fields are grouped under a common **Labels** element and data item and columns are arranged in a hierarchal structure that corresponds to the XML source, with columns listed in alphabetical order. Elements are identified by their column name as defined in the report's dataset in AL code. Learn more in [Defining a Report Dataset](/dynamics365/business-central/dev-itpro/developer/devenv-report-dataset).  
  
 The following figure illustrates the simple custom XML part from the previous section in the **XML Mapping** pane of a Word document.  
  
 ![Clip of the XML Mapping pane in word.](media/nav_reportlayout_xmlmappingpane.png "NAV_ReportLayout_XMLMappingPane")  
  
* To add a label or field to the layout, you insert a content control that maps to the element in the **XML Mapping** pane.  
  
* To create repeating rows of columns, insert a **Repeating** content control for the parent data item element, and then add content control for the columns.  
  
* For labels, the actual text that appears in the generated report is the value of the **Caption** property for the field in the data item table (if the label is related to the column in the report dataset) or a label in the Report Label Designer (if the label is not related to a column in the dataset).  
  
* The language of the label that is displayed when you run the report depends on the language setting of the report object.  
  
## See Also

[Create and Modify a Custom Report Layout](ui-how-create-custom-report-layout.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-data-exchange
---
title: Electronic documents in Business Central
description: This is an overview of how to use the Data Exchange Framework to manage the exchange of data in business documents like bank files and currency exchange rates.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Data exchange framework, data files, data exchange, electronic document, invoice, Business Central, business document, standard-compliant file
ms.date: 06/10/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Exchanging Data Electronically
You can use the Data Exchange Framework to manage the exchange of business documents, bank files, currency exchange rates, and any other data files with your business partners.

In the standard version of [!INCLUDE[prod_short](includes/prod_short.md)], the Data Exchange Framework is used in processes such as exchanging electronic documents, importing and exporting bank files, and updating exchange rates for currencies. For more information, see [About the Data Exchange Framework](across-about-the-data-exchange-framework.md).

As an administrator or Microsoft partner, you can use the framework in new integration features by specifying the data to exchange, and how to exchange it. For more information, see [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).

The following table describes a sequence of tasks, with links to the topics that describe them.  

|To|See|  
|--------|---------|  
|Learn how the Data Exchange Framework works.|[About the Data Exchange Framework](across-about-the-data-exchange-framework.md)|  
|Prepare to exchange data in a file by reusing the file’s XML schema. Set up data exchange definitions. Set up master data for electronic document sending. Set up various bank import/export fields.|[Setting Up Data Exchange](across-set-up-data-exchange.md)|  
|Based on data exchange definitions, send PEPPOL invoices, receive PEPPOL invoices, import bank statements, and export bank payment files.|[Exchanging Data](across-exchange-data.md)|  

## See Also  
[About the Data Exchange Framework](across-about-the-data-exchange-framework.md)  
[Use XML Schemas to Prepare Data Exchange Definitions](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md)  
[Setting Up Data Exchange](across-set-up-data-exchange.md)  
[Exchanging Data](across-exchange-data.md)  
[Incoming Documents](across-income-documents.md)  
[General Business Functionality](ui-across-business-areas.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-app-setup
---
title: Set up the Finance Power BI app
description: Learn how to set up the Power BI Finance app
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 36961_Primary, 37059, 36984, 36985, 36986, 36987, 36988, 36989, 36990, 36991, 36992, 36993,36994, 36995, 36996, 36997
ms.date: 12/18/2024
ms.service: dynamics-365-business-central
---

# Set up the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)]

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

This article explains how to set up the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] in [!INCLUDE [prod_short](includes/prod_short.md)].

For the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] to show correct KPIs and reports, do two things in [!INCLUDE [prod_short](includes/prod_short.md)]:

1. Set up G/L account categories for your chart of accounts.
1. Map G/L account categories to corresponding categories used in the [!INCLUDE [prod_short](includes/powerbi-name.md)] Finance semantic model.

## Prerequisites

Before you configure the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] for [!INCLUDE [prod_short](includes/prod_short.md)], you must:

1. Have a connector (AL) app that contains APIs, setup pages, and embed pages. Connectors are preinstalled with [!INCLUDE [prod_short](includes/prod_short.md)].
1. Install the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] template app that contains a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] semantic model and [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports for finance.
1. Run the **Connect to Power BI** assisted setup guide.

To learn more, go to [Install Power BI apps for Business Central](across-powerbi-install-business-central-apps.md).

## Configure date filtering for the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] semantic model

This section describes how to configure date filtering for the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)]. You can configure the app to load data based on the **Start Date** and **End Date**. This filter helps improve performance in your [!INCLUDE [prod_short](includes/prod_short.md)] environment and reduce [!INCLUDE [powerbi-name](includes/powerbi-name.md)] load times by only loading the data you intend to analyze.

> [!NOTE]
> Configuring date filtering for the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] is optional, and is designed to help manage large datasets.

The **Start Date** and **End Date** filter can apply to the following tables:

- G/L Entries (related to the Income Statement)
- G/L Budget Entries
- Customer Ledger Entries
- Vendor Ledger Entries

### Set up date filtering

1. Search and open the **[Power BI Connector Setup](https://businesscentral.dynamics.com?page=36951)** page.
1. Expand the **Finance Report** section.
1. Fill in the **Start Date** and **End Date** fields under **Income Statement & G/L Budget Entry Filters**.

Repeat steps 2-3 for the date setup under **Customer Ledger Entry Filters** and **Vendor Ledger Entry Filters**.

The following fields are available on the **Finance Report** FastTab:

|No.| Data Area | Field Name | Description |
|---| ---       | ---        | ---         |
|1  | Income Statement and G/L Budgets   | Start Date      | Specifies the starting date to apply to a range of income statement G/L entries and G/L budget entries.   |
|2  | Income Statement and G/L Budgets   | End Date        | Specifies the end date to apply to a range of income statement G/L entries and G/L budget entries.        |
|3  | Customer Ledger Entries            | Start Date      | Specifies the starting date to apply to a range of customer ledger entries.                               |  
|4  | Customer Ledger Entries            | End Date        | Specifies the end date to apply to a range of customer ledger entries.                                    |
|5  | Vendor Ledger Entries            | Start Date      | Specifies the starting date to apply to a range of vendor ledger entries.                                 |
|6  | Vendor Ledger Entries            | End Date        | Specifies the end date to apply to a range of vendor ledger entries.                                      |

## Set up G/L account categories for your chart of accounts

G/L account categories are groups of general ledger accounts. The categories are required for using the [!INCLUDE [prod_short](includes/powerbi-name.md)] Finance app.

For each posting account in your chart of accounts, you must specify an **Account Category** and **Account Subcategory**. You don't need to set up the totaling accounts.

To learn more about how to work with G/L account categories, go to [G/L account categories](./finance-general-ledger.md#account-categories).

## Map G/L account categories to corresponding categories used in the [!INCLUDE [prod_short](includes/powerbi-name.md)] Finance semantic model

The [!INCLUDE [prod_short](includes/powerbi-name.md)] Finance app has default mappings for G/L account categories in [!INCLUDE [prod_short](includes/prod_short.md)] to corresponding values in the [!INCLUDE [prod_short](includes/powerbi-name.md)] Finance semantic model. This mapping enables the finance KPIs and reports to show correct values.

The following sections show the default mappings. You can change the default values of the **Business Central Category** columns to your choice of G/L account categories by choosing the **Power BI Account Categories** action on the **Power BI Connector Setup** setup page or directly on the **Power BI Account Categories** page.

### Level 1 Categories

Level 1 categories are the top-level categories without indentation.

| Power BI Account Category                 | Business Central Category |
| ---                                       | ---                       |
| Assets (Level 1 Category)                 | Assets                    |
| Liabilities (Level 1 Category)            | Liabilities               |
| Equity (Level 1 Category)                 | Equity                    |
| Revenue (Level 1 Category)                | Income                    |
| Cost of Goods Sold (Level 1 Category)     | Cost of Goods Sold        |
| Expense (Level 1 Category)                | Expense                   |

### Level 2 Categories

Level 2 categories are the second-level categories with indentation.

| Power BI Account Category	| Business Central Category     |
|---                    |---                              |
| Current Assets (Level 2 Category) | Current Assets   |
| Current Liabilities (Level 2 Category)  | Current Liabilities   |
| Shareholder's Equity (Level 2 Category) | Common Stock          |
| Interest Expense (Level 2 Category)     | Interest Expense      |
| Tax Expense (Level 2 Category)          | Tax Expense            |
| Extraordinary Expense (Level 2 Category) | Extraordinary Expense |
| FX Losses Expense (Level 2 Category)     | FX Losses Expense  |
| Depreciation and Amortization (Level 2 Category) 	| Depreciation and Amortization     |
| Interest Revenue (Level 2 Category)  | Interest Income        |
| FX Gains Revenue (Level 2 Category)  | FX Gains Income         |
| Extraordinary Revenue (Level 2 Category) | Extraordinary Income   |
| Fixed Assets (Level 2 Category)          | Fixed Assets           |
| Payroll Liabilities (Level 2 Category)   | Payroll Liabilities     |
| Long-term Liabilities (Level 2 Category)  | Long Term Liabilities   |

### Level 3 Categories

Level 3 categories are the subcategories of Level 2 with indentation.

| Power BI Account Category                 | Business Central Category |
| ---                                       | ---                       |
| Inventory (Level 3 Category)              | Inventory                 |
| Accounts Payable (Level 3 Category)       | Accounts Payable          |
| Accounts Receivable (Level 3 Category)    | Accounts Receivable       |
| Purchases (Level 3 Category)              | Purchases                 |
| Purchase Prepayments (Level 3 Category)   | Prepaid Expenses          |
| Liquid Assets (Level 3 Category)          | Cash                      |

## Troubleshooting

If you experience issues with the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)], the information in the following sections might help you get unblocked.

### Getting the "Column Entry No. in Table G/L Entries contains a duplicate value" error?

When you refresh data from your [!INCLUDE [prod_short](includes/prod_short.md)] environment into the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)], a refresh error might happen with the following error message:

```
Something went wrong
There was an error when processing the data in the dataset.
Please try again later or contact support. If you contact support, please provide these details.

Data source error: Column '<oii>Entry No.</oii>' in Table '<oii>G/L Entries</oii>' contains a duplicate value
```

> [!NOTE]
> If you get this error, you're affected by a bug in the semantic model for the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)].

This error indicates that there are duplicate G/L entries in the Finance fact table in the semantic model. The error displays when we attempt to combine the three sub-queries (Balance Sheet G/L Entries, Income Statement G/L Entries, and Close Income Statement G/L Entries) into the single G/L Entries Fact table.

The current Balance Sheet G/L Entries query has a hard-coded filter transformation. This filter assumes that the source code for closing entries is CLSINCOME. This leads the model to allow closing entries to exist in both the Balance Sheet query and the Closing Entries query, resulting in duplicate entries.

### Getting the "Column ‘G/L Account No.’ in Table ‘G/L Account’ contains a duplicate value" error?

When you refresh data from your [!INCLUDE [prod_short](includes/prod_short.md)] environment into the [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)], a refresh error might happen due to how your **Begin-Total** and **End-Total** accounts are configured in your **Chart of Accounts**.

If you receive this error, review the totaling accounts.

```
Something went wrong
There was an error when processing the data in the dataset.
Please try again later or contact support. If you contact support, please provide these details.

Data source error: Column 'G/L Account No.' in Table 'G/L Account' contains a duplicate value 'X' and this is not allowed for columns on the one side of a many-to-one relationship or for columns that are used as the primary key of a table.
```

**Why did this happen?**

This error can happen because the Finance Connector app relies on the totaling accounts for hierarchy and indentation purposes.

Your totaling for an **End-Total** account must exactly reference both the **Begin-Total** and **End-Total** accounts. You can only use one **Begin-Total** account in one **End-Total** account.

**Fix the totaling on your G/L Accounts**

The following example shows how to set up the totaling accounts.

1. A **Begin-Total** account of **1300 (Vehicles)** and the **End-Total** account of **1390 (Vehicles, Total)**.
2. The totaling defined for the **End-Total** is **1300..1390**. Any other combination for your totaling account (such as 1300..1340, 1310..1390, or 1310..1340, etc.) can cause the error.
3. One **Begin-Total** account can only be used in one **End-Total** account. If you use a **Begin-Total** account in two or more **End-Total** accounts, the [!INCLUDE [power-bi-finance-app-name](includes/power-bi-finance-app-name.md)] can't match it to an **End-Total** account.

## Related information

[Installing Power BI apps for Business Central](across-powerbi-install-business-central-apps.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-set-up-workflow-users
---
title: How to Set Up Workflow Users
description: Before you can create workflows, you must set up the users who take part in them on the Approval User Setup page.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: reject, delegate, request
ms.search.form: 1533,
ms.date: 04/04/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Set up a sequence of workflow users

Before you can create approval workflows, you must set up the users who can submit requests and their approvers. For example, you can specify who receives a notification to act on a workflow step. You set up approval workflow participants on the **Approval User Setup** page. Learn more at [Set Up Approval Users](across-how-to-set-up-approval-users.md).

On the **Workflow User Groups** page, you can specify where a participant engages in an approval workflow by entering a number in the **Sequence No.** field. For example, you can specify that users engage in a sequential order, such as a chain of approvers. You can also specify a flat list of approvers by entering the same number. In the latter case, only one of the approvers must approve a request.

[!INCLUDE [workflow-requestor-approver](includes/workflow-requestor-approver.md)]

## To set up a workflow user group

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflow User Groups**, then choose the related link.  
2. Choose the **New** action. The **Workflow User Group** page opens.  
3. In the **Code** field, enter a maximum of 20 characters to identify the workflow.  
4. In the **Description** field, describe the workflow.  
5. On the **Workflow User Group Members** FastTab, fill in the fields on the first line, as described in the following table.  

   |Field|Description|
   |-----|-----------|
   |**User Name**|Specify the user who takes part in a workflow.<br /><br /> The user must exist on the **User Setup** page. Learn more at [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).|
   |**Sequence No.**|Specify the order in which the workflow user engages in a workflow relative to other users. This field can specify, for example, when the user approves relative to other approvers by setting up the **Workflow User Group** option in the **Approver Type** field on the related workflow response.|

   > [!NOTE]
   > Typically, sequence numbers are sequential for users in a workflow user group. However, multiple users can have the same sequence number. When that's the case, only one of the users must approve a request before the workflow goes to the next step. For example, if user A and user B are both number two in the sequence, the workflow goes to the step three when when either user A or user B approves the request.
6. Repeat step 5 to add more workflow users to the workflow user group.  

## See also

[Set Up Approval Users](across-how-to-set-up-approval-users.md)  
[Setting Up Approval Workflows](across-set-up-workflows.md)  
[Use Approval Workflows](across-use-workflows.md)  
[Walkthrough: Setting Up and Using a Purchase Approval Workflow](walkthrough-setting-up-and-using-a-purchase-approval-workflow.md)  
[Workflow](across-workflow.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-valuation-powerbi-kpis
---
title: Inventory Valuation KPIs and measures (Power BI)
description: The Inventory Valuation App KPIs provides a page to clearly identify all KPIs and Measures used in the Inventory Valuation Report.
author: kennienp
ms.author: kepontop
ms.reviewer: 
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 11/08/2024
ms.service: dynamics-365-business-central
---

# Power BI Inventory Valuation app KPIs and measures

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

This page provides a list of all Key Performance Indicators (KPIs) included in the semantic model for the Power BI Inventory Valuation report. 

Explore the list of KPIs below to learn more about how they can help you achieve your business goals. 

Each KPI is described, including how it is calculated and what data was used in the calculations.

## Value Entries Table   
- [Beginning Balance G/L](#beginning-balance-gl)
- [Beginning Balance G/L (Expected)](#beginning-balance-gl-expected)
- [Beginning Balance Qty](#beginning-balance-qty)
- [Beginning Balance Value](#beginning-balance-value)  
- [Beginning Balance Value (Expected)](#beginning-balance-value-expected)
- [Beginning Balance Value Expected Cost Included](#beginning-balance-value-expected-cost-included)
- [Beginning Cost Posted to G/L (Expected)](#beginning-cost-posted-to-gl-expected)
- [Cost Amount (Actual)](#cost-amount-actual)
- [Cost Amount (Expected)](#cost-amount-expected)
- [Cost Posted to G/L](#cost-posted-to-gl)
- [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected)
- [Decrease Qty.](#decrease-qty)
- [Decrease Value](#decreases-value)  
- [Decrease Value (Expected)](#decreases-value-expected)
- [Decrease Value Expected Cost Included](#decrease-value-expected-cost-included)
- [Ending Balance Expected Cost Included](#ending-balance-expected-cost-included) 
- [Ending Balance Posted to G/L](#ending-balance-posted-to-gl)  
- [Ending Balance Posted to G/L (Expected)](#ending-balance-posted-to-gl-expected)
- [Ending Balance Qty.](#ending-balance-qty)  
- [Ending Balance Value](#ending-balance-value)
- [Ending Balance Value (Expected)](#ending-balance-value-expected)
- [Ending Cost Posted to G/L (Expected)](#ending-cost-posted-to-gl-expected)
- [Ending Cost Posted to G/L Expected Cost Included](#ending-cost-posted-to-gl-expected-cost-included)
- [Increase Value Expected Cost Included](#increase-value-expected-cost-included)
- [Increases Qty.](#increases-qty)  
- [Increases Value](#increases-value)  
- [Increases Value (Expected)](#increases-value-expected)
- [Invoiced Quantity](#invoiced-quantity)   
- [Net Balance G/L](#net-balance-gl)
- [Net Balance G/L (Expected)](#net-balance-gl-expected)
- [Net Balance Qty](#net-balance-qty)
- [Net Balance Value](#net-balance-value)
- [Net Balance Value (Expected Included)](#net-balance-value-expected-included)
- [Net Balance Value (Expected)](#net-balance-value-expected)
- [Variance](#variance)  
- [Variance Exp](#variance-exp)

### Beginning Balance G/L
**Formula**
- This measure calculates the cumulative [Cost Posted to G/L](#cost-posted-to-gl) for dates before the earliest date in the current context, allowing visibility into costs posted up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance G/L (Expected)
**Formula**
- This measure calculates the cumulative [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected) for dates before the earliest date in the current context, allowing visibility into costs posted up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Qty
**Formula**
- This measure calculates the cumulative [Invoiced Qty](#invoiced-quantity) for dates before the earliest date in the current context, allowing visibility into quantities posted up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Value
**Formula**  
- This measure calculates the cumulative [Cost Amount (Actual)](#cost-amount-actual) for dates before the earliest date in the current context, providing the total value up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Value (Expected)
**Formula**  
- This measure calculates the cumulative [Cost Amount (Expected)](#cost-amount-expected) for dates before the earliest date in the current context, providing the total expected value up to the start of the selected period.

**Data Sources**
- Value Entry

### Beginning Balance Value Expected Cost Included
**Formula**  
[Beginning Balance Value](#beginning-balance-value) + [Beginning Balance Value (Expected)](#beginning-balance-value-expected)

**Data Sources**
- Value Entry

### Beginning Cost Posted to G/L (Expected)
**Formula**  
- This measure calculates the cumulative [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected) for dates before the earliest date in the current context, providing the total expected cost posted to G/L up to the start of the selected period.

**Data Sources**
- Value Entry

### Cost Amount (Actual)
**Formula**
- This measure calculates the total sum of the Cost Amt. (Actual) column in the Value Entries table.

**Data Sources**
- Value Entry

### Cost Amount (Expected)
**Formula**
- This measure calculates the total sum of the Cost Amt. (Expected) column in the Value Entries table.

**Data Sources**
- Value Entry

### Cost Posted to G/L
**Formula**
- This measure calculates the total sum of the Cost Posted to G/L column in the Value Entries table.

**Data Sources**
- Value Entry

### Cost Posted to G/L (Expected)
**Formula**
- This measure calculates the total sum of the Expected Cost Posted to G/L column in the Value Entries table.

**Data Sources**
- Value Entry

### Decrease Qty.
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Sale, Negative Adjustment, Consumption, or Assembly Consumption. This measure captures quantities associated with these specific entry types that represent decreases in inventory.

**Data Sources**
- Value Entry

### Decreases Value
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Actual) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Sale, Negative Adjustment, Consumption, or Assembly Consumption. This measure reflects the cost associated with these specific entry types that represent decreases in inventory.

**Data Sources**
- Value Entry

### Decreases Value (Expected)
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Expected) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Sale, Negative Adjustment, Consumption, or Assembly Consumption. This measure reflects the expected cost associated with these specific entry types that represent decreases in inventory.

**Data Sources**
- Value Entry

### Decrease Value Expected Cost Included
**Formula**  
[Decrease Value](#decreases-value) + [Decrease Value (Expected)](#decreases-value-expected)

**Data Sources**
- Value Entry

### Ending Balance Expected Cost Included
**Formula**
[Ending Balance Value](#ending-balance-value) + [Ending Balance Value (Expected)](#ending-balance-value-expected)

**Data Sources**
- Value Entry

### Ending Balance Qty.
**Formula**  
[Beginning Balance Qty.](#beginning-balance-qty) + [Net Balance Qty.](#net-balance-qty)

**Data Sources**
- Value Entry 

### Ending Balance Value
**Formula**  
[Beginning Balance Value](#beginning-balance-value) + Net Balance Value

**Data Sources**
- Value Entry

### Ending Balance Value (Expected)
**Formula**  
[Beginning Balance Value (Expected)](#beginning-balance-value-expected) + [Net Balance Value](#net-balance-value)

**Data Sources**
- Value Entry

### Ending Cost Posted to G/L (Expected)
**Formula**
[Beginning Cost Posted to G/L (Expected)](#beginning-cost-posted-to-gl-expected) + [Cost Posted to G/L (Expected)](#cost-posted-to-gl-expected)

**Data Sources**
- Value Entry

### Ending Cost Posted to G/L Expected Cost Included
**Formula**
[Ending Balance Posted to G/L (Expected)](#ending-balance-posted-to-gl-expected) + [Ending Balance Posted to G/L](#ending-balance-posted-to-gl)

**Data Sources**
- Value Entry

### Increase Value Expected Cost Included
**Formula**
[Increases Value](#increases-value) + [Increases Value (Expected)](#increases-value-expected)

**Data Sources**
- Value Entry

### Increases Qty.
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Purchase, Positive Adjustment, Output, or Assembly Output. This measure reflects the quantity associated with these entry types that represent increases in inventory.

**Data Sources**
- Value Entry

### Increases Value
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Actual) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Purchase, Positive Adjustment, Output, or Assembly Output. This measure reflects the value associated with these entry types that represent increases in inventory value.

**Data Sources**
- Value Entry

### Increases Value (Expected)
**Formula**  
- This measure calculates the total sum of the Cost Amt. (Expected) column from the Value Entries table, but only for rows where the Item Ledger Entry Type is one of the following: Purchase, Positive Adjustment, Output, or Assembly Output. This measure reflects the expected value associated with these entry types that represent increases in inventory value.

**Data Sources**
- Value Entry


### Ending Balance Posted to G/L
**Formula**  
[Beginning Balance G/L](#beginning-balance-gl) + [Net Balance G/L](#net-balance-gl)

**Data Sources**
- Value Entry

### Ending Balance Posted to G/L (Expected)
**Formula**
[Beginning Balance G/L (Expected)](#beginning-balance-gl-expected) + [Net Balance G/L (Expected)](#net-balance-gl-expected)

**Data Sources**

### Invoiced Quantity
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance G/L 
**Formula**  
- This measure calculates the total sum of the Cost Posted to G/L column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance G/L (Expected)
**Formula**  
- This measure calculates the total sum of the Expected Cost Posted to G/L column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance Qty
**Formula**  
- This measure calculates the total sum of the Invoiced Quantity column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance Value
**Formula**  
- This measure calculates the total sum of the Cost Amount (Actual) column from the Value Entries table.

**Data Sources**
- Value Entry

### Net Balance Value (Expected Included)
**Formula**  
[Ending Balance Expected Cost Included](#ending-balance-expected-cost-included) - [Beginning Balance Value Expected Cost Included](#beginning-balance-value-expected-cost-included)

**Data Sources**
- Value Entry

### Net Balance Value (Expected)
**Formula**  
- This measure calculates the total sum of the Cost Amount (Expected) column from the Value Entries table.

**Data Sources**
- Value Entry

### Variance
**Formula**  
[Ending Balance Posted to G/L](#ending-balance-posted-to-gl) - [Ending Balance Value](#ending-balance-value)

**Data Sources**
- Value Entry

### Variance Exp
**Formula**  
[Ending Cost Posted to G/L Expected Cost Included](#ending-cost-posted-to-gl-expected-cost-included) - [Ending Balance Expected Cost Included](#ending-balance-expected-cost-included)

**Data Sources**
- Value Entry

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]


## See also

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory Valuation app](inventory-valuation-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/about-intelligent-cloud
---
title: Intelligent insights and cloud migration (on-premises only)
description: In Business Central online, you have access to other online services, and you can get intelligent insights that are based on Azure AI, for example. Read on if you're considering to migrate from on-premises to the cloud.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.reviewer: bholtorf
ms. search.keywords: cloud, migrate, insights
ms.search.form: 4010,
ms.date: 03/15/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
---

# Intelligent insights and cloud migration (on-premises only)

If you're using [!INCLUDE[prod_short](includes/prod_short.md)] online, you have full access to scenarios that are based on the intelligent cloud. For example, key performance indicators (KPIs) that are based on machine learning, or when you view your data in Power BI.  

However, if you use [!INCLUDE [prod_short](includes/prod_short.md)] on-premises, you don't have access to the same insights. If you want to benefit from online scenarios, you must migrate to [!INCLUDE [prod_short](includes/prod_short.md)] online. For more information, see [Migrating On-Premises Data to Business Central Online](/dynamics365/business-central/dev-itpro/administration/migrate-data) in the administration content for [!INCLUDE[prod_short](includes/prod_short.md)].  

## Viewing Insights in [!INCLUDE[prod_short](includes/prod_short.md)] Online

For an on-premises environment for which data was migrated to [!INCLUDE[prod_short](includes/prod_short.md)] online, the **Intelligent Cloud Insights** page in the online environment shows four key points of interest for most businesses:

- Cash availability
- Sales profitability
- Net income
- Inventory value

Next to the KPI charts, you get insights into potential areas of concern, including overdue payments. Choose each insight to explore the data.  

> [!div class="mx-imgBorder"]
> ![Intelligent cloud insights.](media/across-intelligent-cloud/intelligentcloudApril19.png "Shows the Intelligent Cloud Insights page in Business Central online")

The page also connects to Power BI for even more insights. Optionally, connect to Azure AI for even more intelligent insights. For more information, see [The Sales and Inventory Forecast Extension](ui-extensions-sales-forecast.md).  

## See Also

[Welcome to Business Central](welcome.md)  
[Cloud Migration Extensions](ui-extensions-data-replication.md)  
[Migrating On-Premises Data to Business Central Online](/dynamics365/business-central/dev-itpro/administration/migrate-data)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/australia-local-functionality
---
title: Australia local functionality
description: The following articles describe the local functionality in the Australian version of Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: v-soumramani
ms.topic: conceptual
ms.search.keywords: Australia local functionality, Australian version
ms.date: 03/25/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Australia local functionality

The following articles describe local functionality that is unique to the Australian version of [!INCLUDE[prod_short](../../includes/prod_short.md)].  

## Feature availability

- Tax
  - [Tax](tax.md) **Available Now**
  - [Withholding Tax](withholding-tax.md) **Available Now**
  - [Set Up Withholding Tax](how-to-set-up-withholding-tax.md) **Available Now**
  - [Set Up Revenue Types for Withholding Tax](how-to-set-up-revenue-types-for-withholding-tax.md) **Available Now**
  - [Set Up Vendors Without ABN for Calculating the Withholding Tax](how-to-set-up-vendors-without-abn-for-calculating-the-withholding-tax.md) **Available Now**
  - [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md) **Available Now**
  - [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md) **Available Now**
  - [View Posted Tax Invoices](how-to-view-posted-tax-invoices.md) **Available Now**
  - [View Posted Tax Credit Memos](how-to-view-posted-tax-credit-memos.md) **Available Now**
  - [Set Up Goods and Service Tax Posting](how-to-set-up-goods-and-service-tax-posting.md) **Available Now**
  - [Calculate Goods and Services Tax on Prepayments](how-to-calculate-goods-and-services-tax-on-prepayments.md) **Available Now**
  - [Adjust Settlement Exchange Rates for VAT Entries](how-to-adjust-settlement-exchange-rates-for-vat-entries.md) **Available Now**
  - [Print Goods and Service Tax Settlement Reports](how-to-print-goods-and-service-tax-settlement-reports.md) **Available Now**

- Electronic documents
  - [E-Invoicing in Peppol PINT A-NZ Format](how-to-au-einvoice.md)

- Banking & Payments
  - [Compare Bank Cash Flow](how-to-compare-bank-cash-flow.md) **Available Now**
  - [Create Check Installments](how-to-create-check-installments.md) **Available Now**
  - [Electronic Funds Transfer (EFT)](electronic-funds-transfer-eft-.md) **Available Now**
  - [Print Bank Account Reconciliation Reports](how-to-print-bank-account-reconciliation-reports.md) **Available Now**
  - [Print Deposit Slip Reports](how-to-print-deposit-slip-reports.md) **Available Now**

- Core Finance
  - [Set Up Business Units for Business Activity Statements](how-to-set-up-business-units-for-business-activity-statements.md) **Available Now**
  - [Print Balance Sheet Reports](how-to-print-balance-sheet-reports.md) **Available Now**
  - [Print Income Statements](how-to-print-income-statements.md) **Available Now**
  - [Calculating Distribution Amounts](calculating-distribution-amounts.md) **Available Now**

- General
  - [Addresses](addresses.md) **Available Now**
  - [Determine Sales Price by Cost Plus Percentage](how-to-determine-sales-price-by-cost-plus-percentage.md) **Available Now**
  - [Enter Australian Business Numbers](australian-business-numbers-and-adjustment-notes.md) **Available Now**
  - [Payment Times Reporting](payment-times-reporting.md) **Available Now**

## Future legislation requirements being investigated

- ANZ Peppol format for E-Documents **Planned for 2025 release wave 1**  
- Payment Times Reporting Bill Compliance **Planned for 2025 release wave 1**
- Taxable payments annual report (TPAR) **Planned for 2026 release wave 1**

If you're aware of any upcoming regulatory features, submit a [Regulatory Feature Alert](https://forms.office.com/pages/responsepage.aspx?id=v4j5cvGGr0GRqy180BHbRwkeauYiJKZOpJ0CtKuVmJlURURaMlQ4Rk05UFY4NkVEOTA0MUU5WThXSC4u).

## Related information

- [Work with [!INCLUDE[prod_short](../../includes/prod_short.md)]](../../ui-work-product.md)  
- [Country/regional availability and supported languages](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations)  

## [!INCLUDE[prod_short](../../includes/free_trial_md.md)]

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-create-check-installments
---
title: Create check installments [AU]
description: Learn how to create check installments for postdated checks, define the number of installments, interest percent, and the period for the checks in the Australian version
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: create check installments, postdated checks, interest percent, Australian version
ms.search.form: 28090,28091,28092,28093
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Create check installments in the Australian version

[!INCLUDE [create-check-installments](../includes/AUNZ/create-check-installments.md)]

## Related information

[Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-compare-bank-cash-flow
---
title: Compare bank cash flow [AU]
description: Use the Bank Detail Cashflow Compare report to compare the cash flow within a specific bank for a specified period in the Australian version.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: bank detail cashflow compare report, cash flow, Australian version
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Compare bank cash flow in the Australian version

[!INCLUDE [compare-bank-cash-flow](../includes/AUNZ/compare-bank-cash-flow.md)]

## Related information

- [Create Check Installments](how-to-create-check-installments.md)
- [Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-print-deposit-slip-reports
---
title: Print deposit slip reports [AU]
description: In the Australian version, use the Deposit Slip report to view cash and check details in a format required by the bank.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: deposit slip report, deposit slip, Australian version
ms.date: 03/26/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Print Deposit Slip reports in the Australian version

[!INCLUDE [print-deposit-slip-reports](../includes/AUNZ/print-deposit-slip-reports.md)]

## Related information

[Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-adjust-settlement-exchange-rates-for-vat-entries
---
title: Adjust Settlement Exchange Rates for VAT Entries (Australia)
description: Use a batch job to settle VAT entries based on the government exchange rate in the Australian version of Business Central.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: batch job, settle VAT entries, government exchange rate, Australian version
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Adjust settlement exchange rates for VAT entries in the Australian version

[!INCLUDE [adjust-settlement-exchange-rates-vat-entries](../includes/AUNZ/adjust-settlement-exchange-rates-vat-entries.md)]

## Related information

[Australia Local Functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-calculate-and-post-withholding-tax-settlements
---
title: Calculate and Post Withholding Tax Settlements (AU)
description: Learn how to calculate and post the withholding tax (WHT) in the Australian version of Business Central.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: calculate withholding tax, post withholding tax, withholding tax settlement, Australian version
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Calculate and post withholding tax settlements in the Australian version

You can use the **Calc. and Post WHT Settlement** page to calculate and post the withholding tax (WHT).  

You can close WHT entries that are open or not settled and transfer the corresponding amount to the WHT settlement account.  

The sum of all withheld amounts is reported as a truncated whole number to the Australian tax authorities.  

> [!NOTE]  
> The truncated cents are accounted for in a rounding account.  

[!INCLUDE [calculate-post-wht-settlements](../includes/AUNZ/calculate-post-wht-settlements.md)]

## Related information

- [Withholding Tax](withholding-tax.md)
- [Set Up Withholding Tax](how-to-set-up-withholding-tax.md)
- [Set Up Revenue Types for Withholding Tax](how-to-set-up-revenue-types-for-withholding-tax.md)
- [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md)

- [!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-au-einvoice
---
title: Electronic invoicing in Australia
description: This article explains how to work with the Australian localization of the E-Document framework.
author: altotovi
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: E-Documents, E-Document framework, e-invoice, electronic invoice, Peppol, PINT A-NZ
ms.search.form: 
ms.date: 03/25/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Electronic invoicing in Australia

This article provides information on how to work with the Australian localization of the E-Document framework.

## E-Documents framework setup

You can find detailed information on how to set up the E-Documents framework [here](../../finance-how-setup-edocuments.md).  

### Set up local formats  

> [!NOTE]
> The E-Document framework for the Australian localization supports only the Peppol PINT A-NZ format.

To set up the format for the E-Document service, follow these steps:  

1. Select the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Document Services**, and then select the related link. The **E-Document Services** page displays.
1. On the **General** FastTab, select **New**. In the **Document Format** field, choose **PINT A-NZ**.  
1. Configure the fields as described in [Set up E-Documents](../../finance-how-setup-edocuments.md).
1. In the **Service Integration** field, you can select any service provider available for the Australian market with whom you have an agreement.  
1. Close the page.  

## Working with E-invoices

To learn more about using the E-Documents framework into your purchasing and sales workflows, refer to these articles:

- [Use E-Documents in the sales process](../../finance-how-use-edocuments.md)
- [Use E-Documents in the purchasing process](../../finance-how-use-edocuments-purchase.md)
  
## Related information

- [Set up E-Documents](../../finance-how-setup-edocuments.md)  
- [How to use E-Documents in sales](../../finance-how-use-edocuments.md)  
- [How to use E-Documents in purchase](../../finance-how-use-edocuments-purchase.md)  
- [Australian local functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-set-up-revenue-types-for-withholding-tax
---
title: Set up revenue types for withholding tax [AU]
description: Revenue types serve to categorize withholding tax (WHT) entries and are utilized for WHT certificates in the Australian version.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: revenue types, withholding tax, WHT, Australian version
ms.search.form: 28042 
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Set up revenue types for withholding tax in the Australian version

[!INCLUDE [wht-revenue-types-setup](../includes/AUNZ/wht-revenue-types-setup.md)]

## Related information

- [Withholding Tax](withholding-tax.md)
- [Set Up Withholding Tax](how-to-set-up-withholding-tax.md)
- [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md)
- [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-view-withholding-tax-entries
---
title: View Withholding Tax Entries [AU]
description: In the Australian version, view entries that are posted with withholding tax (WHT) for a specified general ledger register.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: withholding tax, WHT, general ledger register, WHT entry, Australian version
ms.search.form: 28043
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# View withholding tax entries in the Australian version

You can view entries that are posted with withholding tax (WHT) for a specified general ledger register.  

On the **WHT Entry** page, you can view details about the withholding tax, such as the base amount, the calculated WHT amount, the WHT calculation method, and the unrealized WHT amount.  

## View withholding tax entries  

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **G/L Registers**, and then choose the related link.  
1. Select the general ledger register for which you want to view WHT entries, and then choose the **WHT Entry** action.  

You can view the posted WHT entries on the **WHT Entry** page.  

## Related information

- [Withholding Tax](withholding-tax.md)
- [Set Up Revenue Types for Withholding Tax](how-to-set-up-revenue-types-for-withholding-tax.md)
- [Set Up Withholding Tax](how-to-set-up-withholding-tax.md)
- [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/electronic-funds-transfer-eft-
---
title: Electronic Funds Transfer (EFT) [AU]
description: Pay vendors by using the electronic funds transfer (EFT) system in Australia.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: electronic funds transfer, EFT, vendor payment, Australian version
ms.search.form: 11615
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Electronic Funds Transfer (EFT) in the Australian version

You can pay vendors using the electronic funds transfer (EFT) system in Australia.  

[!INCLUDE [electronic-funds-transfer-eft](../includes/AUNZ/electronic-funds-transfer-eft.md)]

## Related information

- [Export Payments to a Bank File](../../finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md#exporting-payments-to-a-bank-file)  
- [Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-print-balance-sheet-reports
---
title: Print balance sheet reports [AU]
description: Use the Balance Sheet report to view the company's balance sheet in the Australian version.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: balance sheet, balance sheet report, Australian version
ms.date: 03/26/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Print balance sheet reports in the Australian version

[!INCLUDE [print-balance-sheet-reports](../includes/AUNZ/print-balance-sheet-reports.md)]

## Related information

- [Print Income Statements](how-to-print-income-statements.md)
- [Print Goods and Service Tax Settlement Reports](how-to-print-goods-and-service-tax-settlement-reports.md)
- [Compare Bank Cash Flow](how-to-compare-bank-cash-flow.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-calculate-goods-and-services-tax-on-prepayments
---
title: Calculate goods and services tax on prepayments (AU)
description: Learn how to calculate Goods and Services Tax (GST) on partial payments or prepayments, using the total invoice amount rather than the partial payment amount.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: calculate GST, partial payment tax, prepayment tax, total invoice amount, partial payment amount
ms.search.form: 28164,28165,28166,28167
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Calculate goods and services tax on prepayments in the Australian version

[!INCLUDE [calculate-gst-prepayments](../includes/AUNZ/calculate-gst-prepayments.md)]

## Related information

- [Invoicing Prepayments](../../finance-invoice-prepayments.md)
- [Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-set-up-vendors-without-abn-for-calculating-the-withholding-tax
---
title: Set Up Vendors Without ABN for Calculating WHT
description: In Business Central, Withholding Tax (WHT) is calculated for local vendors without an Australian Business Number (ABN), as required by tax law.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: withholding tax, WHT, Australian business number, ABN, local vendor, Australian version
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Set up vendors without ABN for calculating Withholding Tax in the Australian version

Withholding Tax (WHT) is calculated for local vendors who don't have an Australian Business Number (ABN), as required by tax law.  

## Set up process

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.  
1. Choose the required vendor, and then choose the **Edit** action.  
1. On the **Vendor Card** page, make sure the **ABN** field and the **Foreign Vend** field are empty.  
1. Choose the **OK** button.  

   > [!NOTE]  
   > The WHT percentage is automatically withheld in accordance with what was specified on the **WHT Posting Setup** page. The WHT certificate is produced for submission to the vendor. Learn more in [Withholding Tax](withholding-tax.md).  

## Related information

- [Withholding Tax](withholding-tax.md)
- [Set Up Withholding Tax](how-to-set-up-withholding-tax.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-set-up-business-units-for-business-activity-statements
---
title: Set Up Business Units for Business Activity Statements (AU)
description: Learn how to consolidate the financial statements of various companies into one financial statement.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: consolidate financial statements, business activity statements, financial statement, Australian version, financial statement consolidation, set up general ledger, set up business units
ms.date: 03/26/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Set up business units for business activity statements in the Australian version

In [!INCLUDE[prod_short](../../includes/prod_short.md)], you can consolidate the financial statements of various companies into one financial statement.  

You must set up a consolidation company to perform the consolidation. In this company, the total amounts for all accounts in the group, from both the parent company and subsidiaries, are added together. You must also indicate the general ledger accounts in the consolidated company to which the total should be transferred.  

You can use the **BAS Business Units** page to set up the following:  

- Parent company  
- Subsidiaries  
- Affiliates  

You must provide information on the **General Ledger Setup** page before you can set up business units.  

## Set up a general ledger for a business activity statement

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup**, and then choose the related link.  
1. Fill in the required fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**BAS to be Lodged as a Group**|Select if you're logging a business activity statement for a group of companies.|  
    |**BAS Group Company**|Select if this company is the main company in the group of companies for which you're logging a group business activity statement.|  

1. Choose the **OK** button.  

## Set up a business unit for a business activity statement

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **BAS Business Units**, and then choose the related link.  
1. Fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Company Name**|Specify the name of the company that is added to the group company's business activity statement.|  
    |**Document No.**|Specify the BAS document number that must be consolidated. This field is associated with the **BAS Version** field.|  
    |**BAS Version**|Specify the BAS version number in which the transaction was included. This field is associated with the **Document No.** field.|  

1. Choose the **OK** button.  

## Related information

[Australian Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-print-goods-and-service-tax-settlement-reports
---
title: Print goods and service tax settlement reports (AU)
description: Learn how to print a periodic goods and services tax (GST) settlement in the Australian version of Business Central.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: print periodic GST, goods and services tax, GST settlement, Australian version
ms.date: 03/26/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Print goods and service tax settlement reports in the Australian version

[!INCLUDE [print-gst-settlement-reports](../includes/AUNZ/print-gst-settlement-reports.md)]

## Related information

- [Set Up Goods and Service Tax Posting](how-to-set-up-goods-and-service-tax-posting.md)
- [Australian Local Functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-view-posted-tax-invoices
---
title: View Posted Tax Invoices [AU]
description: Use the Posted Sales Tax Invoice page and Posted Purchase Tax Invoice page to view the details of posted sales tax invoices and posted purchase tax invoices.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Posted Sales Tax Invoice, Posted Purchase Tax Invoice, view posted tax invoices, view posted sales tax invoices, view posted purchase tax invoices, Australian version
ms.search.form: 28071, 28073, 28081, 28082
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# View posted tax invoices in the Australian version

In [!INCLUDE[prod_short](../../includes/prod_short.md)], you can use the **Posted Sales Tax Invoice** page and the **Posted Purchase Tax Invoice** page to view the details of posted sales tax invoices and posted purchase tax invoices.  

The following procedure describes how to view the posted sales tax invoice, but the same steps also apply to viewing posted purchase tax invoices.  

## View a posted sales tax invoice  

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Tax Invoice**, and then choose the related link.  
1. View the **FastTabs** as described in the following table.  

    |FastTab|Description|  
    |-------------|---------------------------------------|  
    |**General**|General information about the invoice.|  
    |**Posted Sales Tax Inv. Subform**|Posted sales tax invoice information.|  
    |**Invoicing**|Invoice information.|  
    |**Shipping**|Shipping information.|  
    |**Foreign Trade**|Foreign trade information.|  

1. Choose the **OK** button.  

## Related information

[View Posted Tax Credit Memos](how-to-view-posted-tax-credit-memos.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/withholding-tax
---
title: Withholding Tax in the Australian version
description: In the Australian version, Withholding Tax (WHT) is tax withheld by a company when making a payment to a vendor.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: withholding tax, WHT, vendor payment, Australian version, Australian taxation office, ATO, business activity statement, BAS, Australian business number
ms.search.form: 11600, 28040,28041,28042,28043,28044, 28164,28165,28166,28167
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Withholding Tax in the Australian version

Withholding Tax (WHT) is tax withheld by a company when making a payment to a vendor, in which the full amount owed to that vendor is reduced by the tax withheld. The withheld tax is then remitted to the Australian Taxation Office (ATO) during the next Business Activity Statement (BAS) submission.  

The Australian government requires taxes to be withheld from payment to vendors under the following circumstances:  

- The vendor is a local supplier who hasn't supplied an Australian Business Number (ABN) before the payment is processed, and the individual transaction amount is greater than the specified threshold amount.  

- The vendor is a nonresident supplier, and the payment is to be made to this nonresident entity in the form of interest, royalty, or dividend payments. Currently, there's no minimum threshold amount. Withholding rates can vary due to payment or international tax treaties existing between Australia and the vendor's country/region.  

Fields within **WHT Business Posting Groups** and **WHT Product Posting Groups** must be set up on the **WHT Posting Setup** page so that the correct WHT calculations are made for each vendor.  

- **WHT Calculation Rule** – This field controls how calculation applies to the **WHT Minimum Invoice Amount**, or the invoice threshold amount. The following options exist:  

  - **Less than**  
  - **Less than or equal to**  
  - **Equal to**  
  - **Greater than**  
  - **Greater than or equal to**  

In Australia, WHT isn't calculated if the individual invoice amount is less than or equal to the threshold amount. Australian companies should select **Less than or equal to**.  

- **WHT Minimum Invoice Amount** – Enter the invoice threshold amount.  

- **WHT %** – Enter the relevant WHT rate for the particular combination of **WHT Business Posting Group** and **WHT Product Posting Group**. If you don't want to calculate any withholding amount, enter 0.00.  

- **Realized WHT Type** – Select **Payment** to calculate only the withholding amount at the time of payment. The other options of **Invoice** and **Earliest** don't apply to Australia.  

- **Payable WHT Account Code** – Enter the number of the G/L account to which you want to post **Purchase WHT** for the particular combination of **WHT Business Posting Group** and **WHT Product Posting Group**.  

- **Purch. WHT Adjustment Account No.** – Select an account number for **Purchase CR/Adj Note** adjustments.  

- **Revenue Types** – Drill down to the **WHT Revenue Types** page. These values determine how the combination of **WHT Business Posting Group** and **WHT Product Posting Group** are displayed in reports. You must enter a value in order for this combination to appear in the WHT reports.  

## WHT for suppliers without an ABN

Ensure that there's a valid combination of **General Business** and **General Product Posting Groups** with the correct threshold. For example, in Australia, today the minimum threshold is $75 with a rate of 46.50%.  

The percentage withheld is specified in **WHT Posting Setup**. The amount to be withheld is calculated automatically at the time of payment. The WHT certificate is printed automatically, and then sent to the vendor with payment. The WHT certificate explains the reasons for not sending the full invoiced amount.  

## WHT for foreign suppliers

Ensure that a valid combination of **General Business** and **General Product PostingGroups** is established for vendors for whom you need to withhold tax, other than for non-ABN.  

## Related information

- [Set Up Withholding Tax](how-to-set-up-withholding-tax.md)
- [Set Up Vendors Without ABN for Calculating the Withholding Tax](how-to-set-up-vendors-without-abn-for-calculating-the-withholding-tax.md)
- [Set Up Revenue Types for Withholding Tax](how-to-set-up-revenue-types-for-withholding-tax.md)
- [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md)
- [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md)
- [Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-enter-australian-business-numbers
---
title: How to Enter Australian Business Numbers in the Australian version
description: Learn how to enter an Australian Business Number (ABN) in the Company Information and the Vendor Card pages.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: Australian business number, ABN, company information page, vendor card page, Australian version
ms.date: 03/26/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Enter Australian business numbers in the Australian version

You can enter an Australian Business Number (ABN) in the following pages:  

- **Company Information**  
- **Vendor Card**  

An algorithm provided by the local tax office ensures that the number is in a valid format.  

> [!NOTE]
> All companies must register and apply for an ABN to report the details of payment summaries issued to their payees during the financial year. The payment summary includes the Tax File Numbers (TFN) or business numbers of the payees.

## Enter Australian business numbers  

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Company Information** or **Vendors**, and then choose the related link.  
1. Select the required company or vendor.  
1. Expand the **Registration** FastTab.  
1. In the **ABN** field, enter the ABN.  
1. In the **ABN Division Part No.** field, enter the division part number of the ABN, if applicable.  

## Related information

- [Australian Business Numbers and Adjustment Notes](australian-business-numbers-and-adjustment-notes.md)   
- [Australia Local Functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/addresses
---
title: Addresses in Australia
description: Use the Post Code feature to improve accuracy for cases in which a single postal code can include multiple cities in the same region.
ms.custom: en-AU
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: post code feature, address accuracy, delivery point identifier, DPID, address matching approval system, AMAS, Australian version
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# About addresses in the Australian version

A single postal code can include multiple cities in the same region. At the same time, cities with the same name are sometimes located in different states.  

For example, Australian postal code 4069 covers the cities of Chapel Hill and Kenmore in the state of Queensland. However, there's also a city named Chapel Hill in the state of South Australia, located in postal code 5153.

To avoid confusion and improve address accuracy, available options display when you enter data in address fields. For example, when you enter a postal code on a customer card, you can select from a list of all available cities for that postal code in the **City** field dropdown list. Likewise, when you enter a city name, you can select from a list of all available states in the **State** field dropdown list.  

To enable this functionality, you must enter the data into the **Post Code** table. You can do this manually, or you can download a copy of the Australian postal codes from the Australian Post Office website.  

To increase postal efficiency in Australia, the postal department introduced an address bar coding system in which every address is assigned a unique identifier called a Delivery Point Identifier (DPID). From the DPID, a bar code is generated and printed for each address. Companies can receive discounts on bulk mailings if they use these bar codes. To retrieve a DPID, you must connect to the local postal database that uses authorized Address Matching Approval System (AMAS) software. You can reduce your number of postal returns by validating customer addresses using the AMAS database.  

When you print an address that has a DPID, a bar code is printed together with the address. If you can't print bar codes, the DPID is printed together with the address.  

Contact your Microsoft partner for information on how to obtain AMAS software.  

## Related information

[Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-print-income-statements
---
title: Print income statements [AU]
description: Learn how to view the company's annual income statement in the Australian version.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: annual income statement, income statement report, legal report, auditing accounts, revenues, expenses, revenues and expenses, Australian version
ms.date: 03/26/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Print income statements in the Australian version

You can use the **Income Statement** report to view the company's annual income statement.  

This is a legal report that is required for auditing accounts. This report displays the details of revenues and expenses for the current year and the previous year.  

## Print the income statement report

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Income Statement**, and then choose the relevant link.  
1. On the **Income Statement** page, fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Amounts in whole**|Specifies the nearest unit to which the amount must be rounded.|  
    |**Show Amounts in Add. Reporting Currency**|Specifies if the amounts are displayed in the additional reporting currency.|  

1. Choose the **Print** button to print the report, or choose the **Preview** button to view it on the screen.  

## Related information

- [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md)  
- [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md)
- [Compare Bank Cash Flow](how-to-compare-bank-cash-flow.md)
- [Print Balance Sheet Reports](how-to-print-balance-sheet-reports.md)
- [Print Goods and Service Tax Settlement Reports](how-to-print-goods-and-service-tax-settlement-reports.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-determine-sales-price-by-cost-plus-percentage
---
title: Determine Sales Price by Cost Plus Percentage (AU)
description: Use the cost-plus percentage function to set sales prices based on item costs. Calculate the item’s cost along with cost plus calculation and apply the discount.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: cost plus percentage, set sales prices, item costs, cost plus calculation, apply discount, Australian version
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Determine sales price by cost plus percentage in the Australian version

[!INCLUDE [determine-sales-price-cost-percentage](../includes/AUNZ/determine-sales-price-cost-percentage.md)]

## Related information

[Australia Local Functionality](australia-local-functionality.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-set-up-withholding-tax
---
title: Set Up Withholding Tax [AU]
description: Learn how a company sets up withholding tax (WHT) for vendor payments on the General Ledger Setup page.
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: withholding tax, WHT, vendor payments, general ledger setup, product posting groups, business posting groups, Australian Taxation Office, ATO, business activity statement, BAS, Australian business number, ABN, Australian version
ms.search.form: 28041, 28042, 28043, 118
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Set up Withholding Tax in the Australian version

Withholding Tax (WHT) is the tax withheld by a company when it makes a payment to a vendor, in which the full amount owed to the vendor is reduced by the tax withheld. The withheld tax is then remitted to the Australian Taxation Office (ATO) when the next Business Activity Statement (BAS) is submitted.  

If a supplier without an Australian Business Number (ABN) provides an invoice, a withholding tax amount must be withheld if the total amount of the invoice is more than the threshold amount. To use withholding tax, you must first enable WHT in the **General Ledger Setup** page and set up product posting groups and business posting groups for WHT.  

## Enable Withholding Tax

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Ledger Setup**, and then choose the related link.  
1. On the **Local Functionalities** FastTab, choose the **Enable WHT** field.  
1. Optionally, choose the **Round Amount for WHT Calc** field.

    If you choose this field, all WHT amounts are rounded down to the nearest number. For example, if the WHT amount on an invoice is calculated to be 33.90, and the **Round Amount for WHT Calc** field is chosen in the General Ledger Setup, then the WHT amount is rounded to 33.

[!INCLUDE [wht-posting-group-setup](../includes/AUNZ/wht-posting-group-setup.md)]

## Related information

- [Set Up Revenue Types for Withholding Tax](how-to-set-up-revenue-types-for-withholding-tax.md)  
- [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md)  
- [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md)  
- [Withholding Tax](withholding-tax.md)  
- [Australian Taxation Office (ATO)](https://www.ato.gov.au/)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/tax
---
title: Australian Tax overview
description: This article is an overview of articles that cover how to set up and use the tax functionality in Australia.
author: brentholtorf
ms.topic: overview
ms.search.keywords: tax overview, tax, withholding tax, tax settlement, GST, revenue types, exchange rates, tax invoices, tax credit memos, VAT entries, Australian version
ms.search.form: 11600,11601,11602,11603,11604,11605,11606,11607,11608,11609,11610,11611,11612,11613,11614,28040,28041,28042,28043,28044,28071,28072,28073,28074,28075,28076,28077,28078,28079,28080,28081,28082
ms.date: 03/27/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Tax overview

For information about tax in Australia, see the following articles:  

- [Set Up Withholding Tax](how-to-set-up-withholding-tax.md)  
- [Set Up Vendors Without ABN for Calculating the Withholding Tax](how-to-set-up-vendors-without-abn-for-calculating-the-withholding-tax.md)  
- [Set Up Revenue Types for Withholding Tax](how-to-set-up-revenue-types-for-withholding-tax.md)    
- [Calculate and Post Withholding Tax Settlements](how-to-calculate-and-post-withholding-tax-settlements.md)  
- [View Withholding Tax Entries](how-to-view-withholding-tax-entries.md)  
- [Set Up Goods and Service Tax Posting](how-to-set-up-goods-and-service-tax-posting.md)  
- [Print Goods and Service Tax Settlement Reports](how-to-print-goods-and-service-tax-settlement-reports.md)  
- [Calculate Goods and Services Tax on Prepayments](how-to-calculate-goods-and-services-tax-on-prepayments.md)  
- [Adjust Settlement Exchange Rates for VAT Entries](how-to-adjust-settlement-exchange-rates-for-vat-entries.md)  
- [View Posted Tax Invoices](how-to-view-posted-tax-invoices.md)  
- [View Posted Tax Credit Memos](how-to-view-posted-tax-credit-memos.md)

## Related information

[Australia Local Functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/payment-times-reporting
---
title: Payment Times Reporting in the Australian version
description: Payment Times Reporting isn't directly available in the Australian version of Business Central, but this article guides you to the necessary data.
author: sorenfriisalexandersen
ms.topic: conceptual
ms.search.keywords: payment times reporting, vendor ledger entries, Australian version
ms.date: 03/27/2025
ms.author: soalex
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# Payment Times Reporting in the Australian version

Businesses in Australia that have a group-wide revenue of AUD 100,000,000 or more must report to the authorities how they pay their small business vendors. A company is considered a reporting entity if they exceed that revenue threshold, or if a company has a revenue of AUD 10,000,000 or more while also being part of a controlling corporation with a revenue of AUD 100,000,000 or more. Small businesses must register in a system that is made available by the authorities, and reporting entities must look up their vendors in this system to check if a given vendor qualifies as a small business vendor and reports the relevant amounts. Learn more on this [website](https://www.industry.gov.au/regulations-and-standards/payment-times-reporting-scheme) which provides information about the reporting rules and registration. Use the lookup field to look for this information.

## Support for Payment Times Reporting

Business Central supports Australian businesses in running their financial reporting. While Business Central doesn't have a dedicated report for reporting according to the Payment Times Reporting Scheme, the data that you need for the report is present. However, for more automated reporting, you must find and install an add-in that is built by a Business Central partner.  

## Reporting the Payment Times

As a reporting entity, you must provide the authorities with two files:

- A declaration document that states that the reported numbers are true, signed by a responsible member of the reporting entity or controlling corporation.
- A delimited text file that contains a line with the reported information in various fields.

Examples and descriptions of these files can be found on the Australian authorities' website: [https://www.industry.gov.au/regulations-and-standards/payment-times-reporting-scheme](https://www.industry.gov.au/regulations-and-standards/payment-times-reporting-scheme).

The information in the following sections relates only to the delimited text file. The content is intended as model for getting some of the relevant information from Business Central in a manual fashion. Partner-provided capabilities may exist that provide functionality to automate this.

### Marking a vendor as a small business vendor

Consider creating a new **Vendor Posting Group** to be set on vendors that are confirmed to be small business vendors in the **Small Business** identification tool. You must look up a vendor in this tool to get this confirmation. After a vendor is set to this vendor posting group, the posting group is propagated to the vendor ledger entries, which is key for you to be able to find relevant entries for the report.  

### Reporting data

As you'll see from the example template of the delimited text file, much of the information needed for reporting is textual and has to do with trade agreements and explanations for various business decisions. However, there are also numbers that must be reported.  

From a reporting perspective, the interesting thing is how the reporting entity pays its small business vendors. The authorities have defined buckets into which these payments fall and must be reported.

For example, in June 2021, these buckets are:

- Invoices paid within 20 days after the day of receipt
- Invoices paid between 21 days and 30 days after the day of receipt
- Invoices paid between 31 days and 60 days after the day of receipt
- Invoices paid between 61 days and 90 days after the day of receipt
- Invoices paid between 91 days and 120 days after the day of receipt
- Invoices paid more than 120 days after the day of receipt

As a scenario, you must report how many invoices from small business vendors have been paid between 21 and 30 days after the day of receipt of the invoice. You must also report the proportional invoice amount of those invoices compared to the total number of invoices from small business vendors.

### Finding the data for the Payment Times report

As mentioned above, many fields and much of the data needed for the report doesn't reside in Business Central. The invoice data does, and you can find this data in the vendor ledger entries. The following procedure illustrates how you can find the relevant data.

#### Find vendor ledger entries

1. Choose the ![Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendor Ledger Entries**, and then choose the related link.  
1. Filter the view to include entries within the reporting period.
1. Use the **Filter Totals** and use the **Date Filter** to specify a range that exceeds the reporting period. You can use this to exclude invoices from the list that haven't yet been paid, by comparing the **Original Amount** and **Remaining Amount** fields.
1. Filter the list to show only invoices by setting a filter on **Document Type**.
1. Filter on the **Vendor Posting Group** to only see invoices from small business vendors.

   You can now go through invoices one by one and select the **Applied Entries** action to see information about payments that have been applied to the invoice.
1. In the **Applied Entries** page, make sure you look at records where **Document Type** is **Payment**, so you don't report on invoices that have been closed by a credit memo, for example.
1. If there's a payment for the invoice, use the **Posting Date** to determine how many days have elapsed since receipt of the invoice by comparing it to the **Posting Date** of the Invoice **Vendor Ledger Entry**.
1. Note down how this invoice affects the bucket (such as 21 to 30 days) when it comes to the number of invoices and the proportional number of small business vendor invoices.

As an alternative, consider exporting the full list of vendor ledger entries to Excel by using the action **Page** > **Open in Excel**. In Excel, you can do more advanced calculations and formulas to find the applied entries and payments for an invoice.

> [!NOTE]
> Invoices and their corresponding payments are all vendor ledger entries. Using Excel to find the relevant payments for a given invoice may be more convenient for you.

## Related information

[Australia Local Functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/calculating-distribution-amounts
---
title: Calculating Distribution Amounts [AU]
description: In the Australian version, you can reallocate amounts between general ledger accounts to keep account balances proportionate.
author: brentholtorf
ms.topic: conceptual
ms.search.keywords: Australian version, reallocate amounts, account balances proportionate, calculating distribution amounts
ms.search.form: 17101
ms.date: 03/25/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: v-soumramani
---

# How to calculate distribution amounts in the Australian version

[!INCLUDE [calculating-distribution-amounts](../includes/AUNZ/calculating-distribution-amounts.md)]

## Related information

[Australia Local Functionality](australia-local-functionality.md)  

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
end of article

