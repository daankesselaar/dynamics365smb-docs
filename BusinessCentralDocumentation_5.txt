Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/payables-how-suggest-vendor-payments
---
title: Suggest vendor payments
description: Use the Suggest Vendor Payments batch job to create payment lines for your vendors based on due dates and payment discounts.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: vendor payment, creditor, debt, balance due, AP
ms.search.form: 256,
ms.date: 07/17/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Suggest vendor payments

On the **Payment Journal** page, you can use the **Suggest Vendor Payments** batch job to suggest payment lines. Based on your settings, [!INCLUDE [prod_short](includes/prod_short.md)] suggests lines for:

- Payments that are due soon.
- Payments where a payment discount is available.

To benefit fully from payment suggestions, you must prioritize your vendors. To learn more about prioritizing vendors, go to [Prioritize Vendors](purchasing-how-prioritize-vendors.md).  

> [!NOTE]  
> The batch job excludes vendor ledger entries that are **On Hold** or that are already applied and have a value in the **Applies-to ID** field.  

> [!IMPORTANT]  
> If you want to take advantage of payment discounts, and have entered an available amount, the amount will be used for:  
>
> * Prioritized overdue vendor entries first, in order of priority.
> * Overdue vendor entries that aren't prioritized.  
> * Open vendor entries that qualify for payment discounts. The entries are arranged by vendor number.  

## Use the Suggest Vendor Payments action

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Journals**, and then select the related link.  
2. Open the journal, and then select the **Suggest Vendor Payments** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
4. Select the **OK** button.  

## Insert the due date as posting date on payment journal lines

When you use the **Suggest Vendor Payments** batch job to create payment lines for your vendors, you can fill two special fields to ensure that the generated lines use the due date to calculate the posting date. These fields are **Calculate Posting Date from Applies-to-Doc. Due Date** and **Applies-to-Doc. Due Date Offset**.  

> [!IMPORTANT]  
> You can't use the **Calculate Posting Date from Applies-to-Doc. Due Date** field together with the **Find Payment Discounts** field or the **Summarize per Vendor** field. If the posting date is based on the due date, some payment discounts might not calculate correctly because the posting date is after the payment discount date.  

Also, if the calculated posting date is in the past, then the posting date is moved up to the work date and a warning displays.  

You can also manually create payment lines using the due date to calculate the posting date. After you apply vendor ledger entries, you can use the **Calculate Posting Date** action to update the posting date on the journal line with the due date of the related purchase invoice. To learn more about this manual process, go to [Apply Purchase Transactions Manually](payables-how-apply-purchase-transactions-manually.md).  

> [!NOTE]  
> If the purchase invoice is overdue, the posting date is set to the work date and the font on the line changes to red.  

## Related information

- [Managing Payables](payables-manage-payables.md)  
- [Making Payments](payables-make-payments.md)  
- [Work with General Journals](ui-work-general-journals.md)  
- [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-users-profiles-roles
---
title: Manage users and roles
description: Learn how to manage user profiles in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 05/02/2025
ms.custom: bap-template
ms.search.form: 9171,
---
# Manage user profiles

Assign all users to profiles that reflect:

* Their business role
* The department they work in
* Another type of categorization

Profiles allow administrators to centrally define and manage what different types of users can access in Business Central.

The typical business use of a profile is a role. A profile is therefore named *Profile (Role)* in the UI.

As an administrator, you create and manage profiles on the **Profiles (Roles)** page. Each profile has a card where you manage settings for the related role. The card contains the following information:

* Name of the role
* User settings
* The Role Center that the profile uses

For more information about user settings and Role Centers, see [Change Basic Settings](ui-change-basic-settings.md).

Before you can manage user profiles, you must create and add the users through the Microsoft 365 Admin Center. You can then assign permissions to each user or user group. Permissions define the features that users can access. To learn more about permission settings, go to [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

## Page customization

You can customize page layouts for a profile so that all users assigned the profile sees the customized pages. As an administrator, you customize pages by using the same functionality as users do when they personalize. To learn more about custom page layouts, go to [Customize Pages for Profiles](ui-personalization-manage.md).

## Create a profile

If you can't copy an existing profile, you can create a new one manually.

1. Select the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Profiles (Roles)**, and then select the related link.  
2. On the **Profiles (Roles)** page, select the **New** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!TIP]
> If you want a particular profile to be available only for specific users, you can enter **Navigation menu only** in the **Description** field. That setting excludes the profile from the list of available roles on the **My Settings** page.

## Copy a profile

To save time, you can create a new profile by copying an existing one that has similar settings. When you copy a profile, you also copy page customizations, both user-created and those from extensions.

1. On the **Profiles (Roles)** page, select the line for the profile that you want to copy, and then select the **Copy Profile** action.
2. Fill in the **Profile ID** and **Display Name** fields, and then select the **OK** button.
3. On the **Profiles (Roles)** page, open the newly created profile card, and then edit other fields as necessary.

## Edit a profile

You can edit a profile by changing the fields on the **Profiles (Roles)** page. However, the changes aren't available to the user assigned the profile until they sign out and sign in.

> [!Caution]
> Don't rename a profile while users assigned the profile are signed in. They might have to restart [!INCLUDE [prod_short](includes/prod_short.md)] and sign in again.

## Assign a profile to a user

Users can assign themselves a role (representing a profile) by choosing the **Role** field on the **My Settings** page. As an administrator, you can do the same through the **Profiles (Roles)** page.

1. On the **Profiles (Roles)** page, select the profile that you want to assign, and then select the **User Personalization List** action.
2. On the **User Settings** page, select the user that you want to assign the profile to, and then select the **Edit** action.
3. In the **Profile ID** field, select the relevant profile.

If you assign another profile to a user, any personalizations made by the user with the previous profile are preserved.

## Define user settings for a profile

On the **My Settings** page, users can define basic behavior of their account, such as the Role Center, the language, and which notifications they get. To learn more about user settings, go to [Change Basic Settings](ui-change-basic-settings.md).

As an administrator, you can define settings for a profile. The settings apply to all users assigned to the role.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Profiles (Roles)**, and then select the related link.
2. Select the line for the profile that you want to change user settings for, and then select the **User Personalizations List** action.
3. On the **User Personalizations** page, open the card for the user whose settings you want to change.
4. On the **User Personalization Card** page, edit the fields as necessary.

## Activate a profile

When you create a profile, you can define if, where, and how the profile and its information are available to users.

On the **Profiles (Roles)** page, select the following checkboxes:

* **Enabled** to specify if the related role is visible in the **Available Roles** page for users to choose from.  
* **Use as default profile** to specify the profile that applies to users who aren't assigned a specific role.
* **Disable personalization** to specify if users of the related role can personalize their workspace.
* **Show in Role Explorer** to specify if actions to business features included in the profile are shown in the extended view of the role explorer, a feature overview. To learn more about Role Explorer, go to [Finding Pages with the Role Explorer](ui-role-explorer.md).

## Export profiles

You can export profiles from [!INCLUDE[prod_short](includes/prod_short.md)] and reuse them in another tenant. The profiles export to a zip file that contains Application Language (AL) files. You can reuse the AL files to develop extensions. To learn more about exporting profiles, go to [Use the Client to Create Profiles and Page Customizations](/dynamics365/business-central/dev-itpro/developer/devenv-design-profiles-using-client).

* On the **Profiles (Roles)** page, select the **Export Profiles** action.

    This action exports a zip file that contains AL files for all profiles.

## Import profiles

You can import profiles that are exported from [!INCLUDE [prod_short](includes/prod_short.md)]. The steps are more or less the opposite of the steps to export profiles.

1. On the **Profiles (Roles)** page, select the **Import Profiles** action.
1. Follow the steps in the **Import Profiles** assisted setup guide.

    If you only want to import selected profiles, use the **Selected** checkbox to indicate which to import.
1. Select the **Import Selected** button.

    This action imports a zip file that contains AL files for the selected profiles.

## Delete a profile

You can delete a profile by choosing the **Delete** action on the **Profiles (Roles)** page. However, the following limitations apply:

* You can't delete a profile that is assigned to a user or a security group.
* You can't delete profiles that originate from extensions. The extension must first be uninstalled.
* You can only delete one profile at a time.

## Delete personalizations

### Delete all personalizations made by a specific user

You can delete all changes that a user makes to any pages, which reverts the pages to the the original layout. Personalizations aren't associated with a profile (role). If a user personalizes a page, they experience the personalizations on the page no matter which role they're using.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Settings**, and then select the related link.

    The **User Settings** page lists all users<!--who make personalizations-->.

2. Select the user whose personalizations you want to delete.
3. On the **User Settings** card page, select the **Clear Personalized Pages** action, and then accept the message that appears.

The user experiences the changes the next time they sign in.

You can also delete all page customizations for a profile. To learn more, go to [To delete all customizations for a profile](ui-personalization-manage.md#delete-all-customizations-for-a-profile).

### Delete personalizations for specific pages

You can delete personalizations that one or more users make to specific pages. Deleting personalizations can be useful, for example, if a business process change means that a personalization isn't relevant. Deletions restore the page layout back to what the profile defines.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Personalized Pages**, and then select the related link.

    The **Personalized Pages** page lists all personalized pages and the user they belong to.

    <!--A checkmark in the **Legacy Personalization** field indicates that the personalization was done in an older version of [!INCLUDE[prod_short](includes/prod_short.md)], which handled personalization differently. Users who try to personalize these pages are locked from doing so unless they choose to unlock the page.-->

2. Select the line for the page personalization that you want to delete, and then select the **Delete** action.

The user experiences the changes the next time they sign-in.  

You can also delete individual page customizations for a profile. To learn more, go to [To delete customization for specific pages for a profile](ui-personalization-manage.md#delete-customization-for-specific-pages-for-a-profile).

## Managing user sessions

As the administrator of [!INCLUDE[prod_short](includes/prod_short.md)] online, you can manage user sessions in the administration center. To learn more, go to [Managing Sessions][def] in the administration content.  

For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, you can manage sessions using SQL Server Management Studio, for example. To learn more, go to [SQL Server technical documentation](/sql/sql-server).  

## Related information

[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Customize Pages for Profiles](ui-personalization-manage.md)  
[Personalize Your Workspace](ui-personalization-user.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]

[def]: /dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-sessions
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-register-new-items
---
title: Create item cards for goods or services
description: You create item cards for services that you sell as hours and for physical products. Examples include assembly items and finished goods that you sell from your inventory.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: item, finished good, component, raw material, assembly item, item substitution
ms.search.form: 30, 5717, 31, 32, 346, 9091, 5718, 5716, 5720, 1384, 1383, 35, 5404, 1378, 5719
ms.date: 08/12/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Register new items

Items, among other products, are the basis of your business, the goods, or services that you trade in. Each item must be registered as an item card.

## To create a new item card

The following video shows how to set up an item on the Item Card page. However, you can also set up new items by copying existing ones. To learn more, go to [Copy Existing Items to Create New Items](inventory-how-copy-items.md).  

> [!Video https://learn-video.azurefd.net/vod/player?id=a5e825b2-e309-4753-bdff-a6947dc314e6]

[!INCLUDE[create_new_item](includes/create_new_item.md)]

## Use item templates

To reuse settings for different types of items when you create new items, you can save items as item templates. Item templates help speed-up the process of adding new items, and increase consistency in your item data. When you register a new item, a page appears that lets you choose a template. After you choose a template, its settings are filled in for you on the item you're creating. If you only have one item template, new items always use that template. 

### Save an item card as an item template

1. On the **Item Card** page, choose the **Save as Template** action. The **Item Template** page shows the item card as a template.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
3. To reuse dimensions in templates, choose the **Related** action, then choose **Item**, and then **Dimensions**. The **Default Dimensions** for the selected item open showing any dimension codes that are set up for the item.
4. Edit or enter dimension codes that apply to new item cards created by using the template.
5. When you complete the new item template, choose the **OK** button.

The item template is added to the list of item templates, so that you can use it to create new item cards.

## Types of items

In the **Type** field on the **Item Card** page, you can select what the item is used for in your business, which affects the degree to which you can manage the item in inventory.

* **Inventory** specifies that the item is a physical unit that you manage and track in inventory.
* **Non-Inventory** are physical units that you don't manage or track in inventory.
* **Service** items are a labor time unit, typically used to register sells or purchase of services.

To learn more about these types of items, go to [About Item Types](inventory-about-item-types.md).

> [!TIP]
> There are also catalog items, which are similar to non-inventory items in that they're items that you offer to customers but don't manage until you sell them. To learn more, go to [Work with Catalog Items](inventory-how-work-nonstock-items.md).  

## Inventory costing

In the **Costing Method** field, you set up how the item's unit cost is calculated by making assumptions about the flow of physical items through your company. Five costing methods are available, depending on the type of item. To learn more about costing, go to [Design Details: Costing Methods](design-details-costing-methods.md).

> [!NOTE]
> If you select **Average**, the item's unit cost is calculated as the average unit cost at each point in time after a purchase. Inventory is valuated with the assumption that all inventories are sold simultaneously. With this setting, you can choose the **Unit Cost** field on the **Average Cost Calc. Overview** page to view the transactions that were used to calculate the average cost.

## Categories, attributes, and variants

[!INCLUDE[inventory_variant](includes/inventory_variant.md)]

Learn more about variants at [Manage Product Variants](inventory-item-variants.md).  

## Set up item substitutions

You can set up items to have replacements, such as other items that can be used in place of the original item.

> [!TIP]
> If you know your item catalog well, or only have a few items, you might want to specify the substitute items yourself. However, if you have a larger portfolio, the suggest item substitutes capability for Copilot can help. Copilot can suggest substitute items based on item attributes. To learn more about the AI capability, go to [Find item substitutions faster with Copilot](suggest-item-substitutions-copilot.md).

### To make an item substitution

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Find the relevant item, and then choose the **No.** to open the Item Card.  
3. Choose the **Related** action, then choose **Item**, and then **Substitutions** to open the **Item Substitution Entry** page.  
4. Choose the **Substitute No.** field, and then select the replacement item from the list.
5. Fill in or change other fields on the page as necessary.

When the requested quantity exceeds the quantity that is available in inventory, a message appears to inform you that substitute items exist.

> [!NOTE]  
> Be aware that item substitutions will not automatically cause an item to be replaced by another item, for example when creating a sales order or in a BOM. Instead, you will be alerted to the fact that a substitution is available to you.

## Prices and discounts

You can use special prices or discounts that you grant for the item based on certain criteria. For example, criteria include the customer, minimum order quantity, or ending date. You set up special prices by choosing the **Set Special Prices** or **Set Special Discounts** actions. Each row on, for example, the **Sales Prices** page represents a special price. Each column represents a criterion that must apply to grant a customer the special price that you enter in the **Unit Price** field on the **Sales Prices** page. To learn more about pricing, go to [Record Sales Price, Discount, and Payment Agreements](sales-how-record-sales-price-discount-payment-agreements.md).

## Replenishment

You can specify how items are supplied:

* **Purchase Order** if you want to buy items.
* **Assembly order** or **Production order** if you produce the items in-house.

There are other settings that compliment these selections.

### Include items in bills of materials

You can structure hierarchies that have a main item with underlying component items in assembly and production bills of materials (BOM). To learn more about BOMs, go to [Work with Bills of Material](inventory-how-work-BOMs.md).

### Items used in production orders

To register items that you use in production orders, specify the replenishment system as **Prod. order** on the **Replenishment** FastTab. For more information, see [About Production Orders](production-about-production-orders.md).  

### Primary and alternate vendors

If you purchase the same item from more than one vendor, you can connect those vendors to the item. Use the **Vendors** action on the **Item Card** page to open the **Item Vendor Catalog** page. 

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Select the relevant item, and then choose the **Edit** action.  
3. Choose the **Vendors** action.  
4. Choose the **No.** field, and then select the vendor that you want to set up for the item.  
5. Optionally, fill in the remaining fields.  
6. Repeat steps 2 through 5 for each vendor that you want to buy the item from.

The vendors appear on the **Item Vendor Catalog** page, which you open from the item card, so that you can easily select an alternate vendor.

If you purchase the same item from more than one vendor additionally you can set up prices and discounts discounts.  For more information, see [Record Special Purchase Prices and Discounts](purchasing-how-record-purchase-price-discount-payment-agreements.md).

## Manage inventory in warehouses

When you register a new item, you see fields that are related to warehouse management, especially on the **Warehouse** FastTab. If your organization doesn't use the warehouse management capabilities in [!INCLUDE [prod_short](includes/prod_short.md)], then you can ignore those fields.  

If your organization later sets up warehouse management, we recommend that you make sure that each existing item has the right information in the various fields. This way, the warehouse processes can run as expected. The information can includes fields such as **Warehouse Class Code** or **Put-away Template Code**. For more information, see [Setting Up Warehouse Management](warehouse-setup-warehouse.md).  

## Planning

When your company uses the supply planning processes in [!INCLUDE [prod_short](includes/prod_short.md)], you must fill in the relevant fields on the **Planning** FastTab. For an introduction to the planning area, see [Design Details: Central Concepts of the Planning System](design-details-central-concepts-of-the-planning-system.md).  

For examples of how you can use the fields on the **Planning** FastTab, see [Setup Best Practices: Planning Parameters](setup-best-practices-planning-parameters.md).  

## Delete item cards

If you post a transaction for an item, you can't delete the card because the ledger entries might be needed for inventory valuation or auditing. To delete item cards with ledger entries, contact to Microsoft partner to do so through code.  

## Related information

[Inventory](inventory-manage-inventory.md)    
[Set Up Units of Measure](inventory-how-setup-units-of-measure.md)    
[Manage Product Variants](inventory-item-variants.md)    
[Set Up Intrastat Reporting](finance-how-setup-report-intrastat.md#other-intrastat-configurations)    
[Reconcile Inventory Costs with the General Ledger](finance-how-to-post-inventory-costs-to-the-general-ledger.md)    
[Create Number Series](ui-create-number-series.md)    
[Setting Up Posting Groups](finance-posting-groups.md)    
[Purchasing](purchasing-manage-purchasing.md)    
[Sales](sales-manage-sales.md)    
[About Planning Functionality](production-about-planning-functionality.md)    
[Setup Best Practices: Planning Parameters](setup-best-practices-planning-parameters.md)    
[Setup Best Practices: Supply Planning](setup-best-practices-supply-planning.md)    
[Design Details: Central Concepts of the Planning System](design-details-central-concepts-of-the-planning-system.md)    
[Design Details: Balancing Demand and Supply](design-details-balancing-demand-and-supply.md)    
[Design Details: Planning Parameters](design-details-planning-parameters.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-manage-appsource-apps
---
title: Manage AppSource apps
description: Learn how to browse and install AppSource apps from Business Central.
author: SusanneWindfeldPedersen
ms.author: solsen
ms.reviewer: jswymer
ms.topic: article
ms.search.keywords: app, apps, install, integration, AppSource
ms.date: 04/08/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Manage AppSource apps
 
From inside [!INCLUDE[prod_short](includes/prod_short.md)], you can discover, view, sort, and filter available AppSource apps that integrate with [!INCLUDE[prod_short](includes/prod_short.md)].

On the **Microsoft AppSource Apps** page, you can filter available AppSource apps by name, publisher name, install state, popularity, average rating, number of ratings, and last modified date. You can also select a given app and see the details for that specific app.

To locate the page, in [!INCLUDE[prod_short](includes/prod_short.md)], choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Microsoft AppSource Apps**, and then choose the related link.

On the page, you find the following actions:

- **View AppSource** to open the online AppSource marketplace in a new browser window. 
- **View in AppSource** to open and view a selected app in the online AppSource Marketplace. 
- **Refresh list from Microsoft AppSource** to force a refresh of the list of all apps to AppSource marketplace content—for example, if you're looking for a newly submitted AppSource app.

As with other list pages, you get support for Analysis Mode, for example, so that you can group apps by publisher. Use Copilot to design an **Analysis Mode** view for you.

## Install and update AppSource apps

Install AppSource apps using the **Extension Management** page in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more in [Customizing Business Central online using apps](ui-extensions.md).  

Upgrade AppSource apps using the [!INCLUDE[prod_short](includes/prod_short.md)] admin center. Learn more in [Managing Apps](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-manage-apps).  

## Related information

[Customizing Business Central online using apps](ui-extensions.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ai-copilot-data-movement
---
title: Copilot data movement across geographies
description: Learn how data that's used in copilot features in Dynamics 365 Business Central moves across geographies where Azure OpenAI Service isn't available by default.
author: jswymer 
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: article
ms.date: 04/01/2025
ms.custom: bap-template 
ms.collection:
  - bap-ai-copilot
ms.search.form: 7775
---

# Copilot data movement across geographies

Although Copilot in Business Central is available in all geographic areas where Business Central online is available, it requires Microsoft Azure OpenAI Service, which is available only in specific regions.  

Depending on where your environment is hosted, you might need to allow data to move outside of your primary data residency to an Azure OpenAI endpoint located in another geography. You provide consent in the **Copilot & agent capabilities** page. If you don't provide consent, Copilot won't be available to your organization. Learn how to provide consent in [Allow data movement across geographies](enable-ai.md#allow-data-movement-across-geographies).

Individual Copilot features might not be available in all geographies. Learn more about geographic and language availability at [Copilot international availability](https://aka.ms/bapcopilot-intl-report-external). Copilot and generative AI features from non-Microsoft publishers, such as those originating from customizations or AppSource apps you install, each define their own specific Azure OpenAI Service regions. Consult with the extension publisher to understand which regional Azure services are used by the extension.

## How data movement across geographies works

When you use Copilot, your inputs (prompts) and outputs (results), including any personal data, might move outside of your geography to the location where the Azure OpenAI Service endpoint is hosted. We might store prompt and output data for up to 24 hours to monitor for abuse, but we don't look at it unless our automated systems flag it for review. We don't use your data to train, retrain, or improve Azure OpenAI Service foundation models. Learn more at [Abuse Monitoring](/azure/ai-services/openai/concepts/abuse-monitoring).

> [!IMPORTANT]
> If your Business Central environment is hosted in the EU Data Boundary, we use an Azure OpenAI endpoint in the same boundary. Learn more: [EU Data Boundary countries and datacenter locations](/privacy/eudb/eu-data-boundary-learn#eu-data-boundary-countries-and-datacenter-locations)

The following table describes when and how data can move across geographies for Copilot in Business Central. 

| Azure&nbsp;region&nbsp;where&nbsp;your&nbsp;Business&nbsp;Central environment is hosted | Azure geography where Azure OpenAI Service is hosted |Consent required for data movement across geographies? |How to allow data to move across geographic areas|
| - | - | - |-|
|<ul><li>Australia (South East)</li><li>United Kingdom (South, West)</li><li>India (Central, South)</li><li>United States (Central, East, North Central, South Central, West)</li></ul>|Within the same geographic area of your Business Central environment|No|No action required. Data doesn't move across geographies in this scenario. |
|<ul><li>Europe (West, North)</li><li>France (Central, South)</li><li>Germany (North, West Central)</li><li>Norway (East, West)</li><li>Switzerland (North, West) </li></ul>|Spain, Sweden, or Switzerland|Yes|Data doesn't move outside the EU Data Boundary in this scenario. Learn more about EU Data Boundary countries and datacenter locations at [What is the EU Data Boundary?](/privacy/eudb/eu-data-boundary-learn#eu-data-boundary-countries-and-datacenter-locations)<br><br>For environments in these Azure regions, Copilot may use Azure OpenAI Service in any of the three Azure geographies.<br><br>**Note:** By default, the **Allow data movement** toggle is on. If you don't want to provide consent to data movement to other geographies within the EU Data Boundary, you can switch off the toggle at any time. In this case, Copilot features won't be available to your organization.|
|<ul><li>Asia (East, South East)</li><li>Brazil (South)</li><li>Canada (Central, East)</li><li>Japan (East, West)</li><li>Korea (Central, South)</li><li>South Africa (North, West)</li><li>United Arab Emirates (North, West)</li></ul> |United States|Yes|**Note:** By default, the **Allow data movement** toggle is on. If you don't want to provide consent to data movement, you can switch off the toggle at any time. In this case, Copilot features won't be available to your organization.|

> [!IMPORTANT]
> The **Allow data movement** toggle is on by default from update 25.0. Administrators can opt out at any time, even before environments are upgraded. Environments upgrading to update 25.0 or later will have the **Allow data movement** toggle turned on by default from November 3, 2024, or from the date you have specified for the environment to be upgraded to update 25.0. New environments created after October 1, 2024, will have the **Allow data movement** toggle turned on.

## How to find the Azure region of a Business Central environment

To find the Azure region where a Business Central environment is hosted, sign in to the Business Central admin center, choose the environment to display details, and then find the **Azure Region** field. Learn more: [Managing production and sandbox environments in the admin center](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-environments)

![Shows the environment details in Business Central admin center](media/business-central-admin-center-azure-region.svg "Shows the environment details in Business Central admin center")

## Related information

[What is the EU Data Boundary?](/privacy/eudb/eu-data-boundary-learn)  
[Business Central country/regional availability and supported languages](/dynamics365/business-central/dev-itpro/compliance/apptest-countries-and-translations)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-use-workflows
---
title: Using Approval Workflows
description: You can set up and use workflows to connect business-process tasks such as automatic posting or requesting and granting approval for new records. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords: 
ms.search.form: 1500, 1501, 1503, 1504, 1505
ms.date: 02/20/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Use Approval Workflows

A workflow is a sequence of tasks triggered by an action, a condition, or a rule. Workflows are usually implemented to integrate business logic into an organization, such as the separation of duties, unifying processes, or to apply best practices.

The workflows can be designed to create requests for approval of a record field change while keeping the old data in case the request isn't approved. The new value won't be implemented until the last request is approved.

The business logic could be the approval of:

- New master data such as general ledger (G/L) accounts, customers, vendors, or items.
- Changes to fields in existing records containing sensitive information, such as **Vendor Bank Account No.** or **Customer Credit Limit**.
- Changes to fields in existing records containing business critical information, such as **Item Sales Prices**.
- New users or changes to user permissions.
- Purchase documents.
- Sales documents.
- Incoming documents.
- Finance journals prior to posting.

The following illustration is example of a workflow with sequential approval triggered by a user. By triggering the workflow, an approval request is created for the first approver.  

![Illustration of a workflow with sequential approval.](media/Workflows/approval-flow.png)

You see in the illustration above how the request must be approved by the first approver before it's sent on to the next one. If the request isn't approved by the first approver, the request will never go to the next.

The route taken from the initial triggering of the workflow can vary depending on the nature of the approval.  

The following illustration shows a parallel approval triggered by the user. A parallel approval means the approval request is sent to all approvers simultaneously.  

![Illustration of a workflow with parallel approval.](media/Workflows/approval-flow-2.png)

However, the workflow isn't concluded until all requests have been approved, as shown in the following illustration:  

![Illustration of a rejected workflow with parallel approval.](media/Workflows/approval-flow-3.png)

> [!NOTE]  
> For a workflow with multiple approvers, all approvers must approve each step before the workflow can move forward to the next event. Approval from just one approver will not move the workflow forward.

You can set up and use workflows that connect business-process tasks performed by different users. It's also possible to create the same workflow more than once. Each workflow can be triggered by an event using different filters. This is useful if an approval request for one department must be approved by one approver, while requests for other departments must be approved by a different approver. System tasks, such as automatic posting, can be included as steps in workflows, preceded or followed by user tasks. Requesting and granting approval to create new records are typical workflow steps.  

Before you can begin using workflows, you must set up workflow users, create the workflows (potentially preceded by code customization), and specify how users receive notifications. Learn more at [Setting Up Workflows](across-set-up-workflows.md).

> [!NOTE]  
> Typical workflow steps involve users requesting approval of tasks and approvers accepting or rejecting approval requests. That's why many topics about how to use workflows refer to approvals.  

 The following table describes a sequence of tasks, with links to the articles that describe them.  

| **To** | **See** |
|--|--|
| Set up an approval workflow to start when the first entry-point event occurs. | [Enable Approval Workflows](across-how-to-enable-workflows.md) |
| Request approval of a task; as an approver, accept, decline, or delegate approvals; and send or view approval notifications. | [How To Use Approval Workflows](across-how-use-approval-workflows.md) |
| Create workflow steps that restrict a certain record type from being used before a certain event occurs, for example, approval of the record. | [Restrict and Allow Usage of a Record](across-how-to-restrict-and-allow-usage-of-a-record.md) |
| View workflow step instances with **Completed** status. | [View Archived Workflow Step Instances](across-how-to-view-archived-workflow-step-instances.md) |
| Delete an approval workflow that will no longer be used. | [Delete Approval Workflows](across-how-to-delete-workflows.md) |

## Related information

[Setting Up Approval Workflows](across-set-up-workflows.md)  
[Workflow](across-workflow.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/power-bi-faq
---
title: Power BI FAQ
description: Get answers for some typical questions about working with Power BI and Business Central.
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: Power BI, reports, faq, errors
ms.date: 10/23/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Power BI FAQ

This article answers some of the questions you might have about working with Power BI and [!INCLUDE [prod_short](includes/prod_short.md)].

<!-- ## [General questions](#tab/general) -->
## General questions

<!-- 26 -->
### I selected a report for my role center in Business Central. If I later make changes to the report's visuals online, does the role center automatically update to my changes?

Yes. The reports you see inside [!INCLUDE [prod_short](includes/prod_short.md)] are embedded directly from Power BI, and not a copy.

<!-- 3 -->
### Are the Business Central apps for Power BI available in languages other than English?

No. These apps are currently only available in English.

<!-- 24 -->
### Once a report is published on my powerbi.com workspace, can I download its pbix? 

Yes. Learn more at [Download a report from the Power BI service to Power BI Desktop](/power-bi/create-reports/service-export-to-pbix).  

<!-- 27 -->
### Can I download the apps as pbix files?

No. Currently, we don’t offer downloading pbix files for the official Power BI apps, because they're published on AppSource.

<!-- ## [User access and licensing](#tab/license) -->
## Questions about user access and licensing


<!-- 14 -->
### Do I need a Power BI Pro license to publish reports?

<!-- todo What does " or for every user that consults the published report" mean? fixed -->
No. A Pro license isn't needed to publish reports. The standard (free) Power BI license is enough. Learn more in [Power BI Licensing](admin-powerbi-setup.md#license).

<!-- 15 -->
### Is there anything I can't do with the free license?

You can't share reports or install the Business Central apps for Power BI. The free license allows you to create almost all variations of charts and reports.

<!-- 16 -->
### If someone shares a report with another person, then that person needs a Pro license to see the report. Are there plans to make this capability possible with the free license?

We don't have control over this requirement. Power BI sets this requirement. Learn more at [Share Power BI dashboards and reports with coworkers and others](/power-bi/collaborate-share/service-share-dashboards).  

### How do guest users and delegated admins access my organization's data and reports?

There are some differences and limitations for external users, like guest users and delegated admins. For instance, external users typically have a Power BI license assigned by their own organization. When they sign in to Power BI or Power BI Desktop, they connect to their organization's tenant and shared workspaces by default.

To access your organization's data and shared workspaces or reports, external users must connect to your Microsoft 365 tenant. From Power BI service, they can use the tenant switcher (preview) to connect. Power BI Desktop doesn't support connecting to a provider tenant's data source or service for creating and publishing reports. External users need to use the Power BI service to upload Power BI Desktop files.

<!--
1. Sign in to [Power BI](https://app.powerbi.com).
1. In the upper-right corner, select the profile picture to open the account manager, and then select **Switch** next to **Tenant name**.
1. In the **Switch tenant (preview)** dialog, open the dropdown menu and choose the tenant.-->

Learn more about the features and limitations for guests users in [Distribute Power BI content to external guest users](/power-bi/enterprise/service-admin-azure-ad-b2b).
<!--
To access and design reports with your organization's data, external users must connect to your Microsoft 365 tenant. The connection method differs in Power BI service and Power BI Desktop.

#### In Power BI service
From the Power BI service, use the tenant switcher:

1. Sign in to [Power BI](https://app.powerbi.com).
1. Select your profile picture to open your account manager and select **Switch** next to **Tenant name**.
1. In the **Switch tenant (preview)** dialog, open the dropdown menu and choose the tenant you want to navigate to.

Learn more in [Distribute Power BI content to external guest users](/power-bi/enterprise/service-admin-azure-ad-b2b#tenant-switcher).

#### In Power BI Desktop

The methods in this section require that guest users know the domain name of your Microsoft 365 tenant, such as `contoso.onmicrosoft.com`.

> [!NOTE]
> The methods described in this section aren't supported. You might experience unexpected behavior.

##### Creating and refreshing reports: Change data source to host's Business Central tenant

1. Clear the current data source connection. Learn more in [How do I change or clear the user account I'm currently using to connect to Business Central from Power BI Desktop](#how-do-i-change-or-clear-the-user-account-im-currently-using-to-connect-to-business-central-from-power-bi-desktop).
1. Select **Get Data**.
1. On the **Get Data** page, select **Online Services** > **Dynamics 365 Business Central** > **Connect**.
1. On the **Dynamics Business Central** connector dialog box, select **Sign in** and then follow the instructions to [sign in to the host's organization](#sign-in-to-hosts-organization).

   :::image type="content" source="media/power-bi-desktop-connector-sign-in.png" alt-text="Shows a screenshot of the the Business Central connector sign-in dialog box":::

##### Publishing reports: Switch to host's Business Central tenant

1. Open Power BI Desktop.
1. In the upper-right corner, select **Sign in**.

   If you're already signed in, first sign out by selecting your name or profile picture, and then **Sign out**.

1. Enter your email address, select **Continue**, and then follow the instructions to [sign in to the host's organization](#sign-in-to-hosts-organization).

##### Sign in to host's organization

1. On the **Pick an account** dialog box, select **Use another account**.
1. On the **Sign in** dialog box, select **Sign-in options**.
1. On the **Sign in options** dialog box, select **Sign in to an organization**.
1. On the **Find your organization** dialog box, enter the domain name of the tenant, for example, `contoso.onmicrosoft.com`.
1. Select **Next**.
1. On the **Pick an account** dialog box, select your account, and then sign in usual.
1. On the **Dynamics Business Central** connector dialog, select **Connect**.-->

<!-- ## [Designer](#tab/designer) -->
## Questions about the Power BI Designer

<!-- 7 -->
### Does the connector work with pages exposed as web services?

Web services are an old technology and aren't recommended to use with Power BI. The Power BI connector supports both Business Central web services and API pages, but API pages generally have better performances and are more suited for making data available to other systems. Learn more at [Enable Power BI connector to work with Business Central APIs, instead of with web services only](/dynamics365-release-plan/2021wave1/smb/dynamics365-business-central/enable-power-bi-connector-work-business-central-apis-instead-web-services-only).

### Can I build a Power BI report using the Sales Invoice Lines or Journal Lines APIs?

The most commonly used line records are available in the [Business Central APIs v2.0](/dynamics365/business-central/dev-itpro/api-reference/v2.0/)). So you can use them to build reports in Power BI by selecting them in the **Dynamics 365 Business Central** connector. However, the **Lines** APIs are designed for use with specific filters only, and might not work in your scenario. You might get an error similar to "You must specify an ID or a Document ID to get the lines." To fix this problem, do the following steps when getting data from Business Central for the report in Power BI Desktop:

1. Instead of including the data source for the lines entity, add the parent data source. For example, add **Sales Invoice** instead of **Sales Invoice Lines**.
2. Select **Transform Data** in the Power BI Desktop action bar.
3. Select the query you just added, for example **Sales Invoices**.
4. To reduce the number of records loaded in your report, apply any needed filtering on the records.
5. Scroll vertically until you find a column named as the lines, for example **SalesInvoiceLines**.
6. Select the expand button in the header of the column, next to the column name.

   :::image type="content" source="media/saleinvoicelines.png" alt-text="Shows the SalesInvoiceLines column in Power BI Desktop.":::
<!-- 11 --> 
### Is it possible to choose which Business Central environment to get data from for Power BI, for example, like a sandbox or production environment? 

Yes. It can be easily chosen. When you connect to Business Central using the connector, you have to choose the environment and company name.

<!-- 6 --> 
### Can I merge data from several production environments of the same tenant?

Yes. In Power BI, just run the "get data" operation again and choose the environment you want.

<!-- 25 -->
### Which pages in Business Central have the Power BI Report part?  

Currently, there are a few selected pages that have a FactBox with a **Power BI Reports** part for displaying a report. 

On list pages, the **Power BI Reports** part is filtered to show reports that pertain to data in the list. Here's the list type pages that include the **Power BI Reports** part:

|Page ID|Name|
|-------|----|
|22|Customer List|
|27|Vendor List|
|31|Item List|
|9305|Sales Order List|
|9308|Purchase Invoices|

Here are other pages that contain the larger, nonfiltered **Power BI Reports** part:

|Page ID|Name|
|-------|----|
|1156|Company Detail|
|4013|Intelligent Cloud Insights |
|9006|Order Processor Role Center|
|9008|Whse. Basic Role Center|
|9010|Production Planner Role Center|
|9015|Job Project Manager RC|
|9016|Service Dispatcher Role Center|
|9022|Business Manager Role Center|
|9024|Security Admin Role Center|
|9026|Sales & Relationship Mgr. RC|
|9027|Accountant Role Center|

> [!TIP]
> We don't have plans to add it to all list pages at the moment. However, you can create a simple page extension that adds the **Power BI Reports** part in a FactBox. Learn more at [Adding Power BI Report Parts to Pages](/dynamics365/business-central/dev-itpro/developer/devenv-power-bi-report-parts) in the Developer and IT Pro help.

<!-- 5 -->
### Is there any way to filter a dataset from Business Central *before* I pull it into Power BI, instead of applying filters afterwards?

To filter larger datasets, the easiest way is to set a filter on your Power BI report by editing directly the Power Query formula. Most of the filters you set this way are passed on to Business Central through query folding. See [Incremental refresh for datasets](/power-bi/admin/service-premium-incremental-refresh).

There's currently no way of setting a filter for the web service data from within Business Central. If your application needs to set a filter from within Business Central, you must create a custom Business Central App for this purpose.

<!-- 10 -->
### From Power BI, besides using a query, is there another way to get data from Business Central tables that don't have an associated page? For example, like the *Item Attributes Value Mapping* table.

No. Not at this point.

<!-- 12 --> 
### Are published queries faster to use than published pages?

When it comes to web services, published queries are usually faster than equivalent published pages. The reason is that queries are optimized for reading data and don’t contain expensive triggers like OnAfterGetRecord.

Web services are based on pages or queries that are built for access from the web and not optimized for access from external services. Even though the Business Central connector still supports getting data from web services, we encourage you to use API pages instead of web services whenever possible.

<!-- 13 --> 
### Is there a way for an end user to create a web service with a column that's in a Business Central table, but not a page? Or does the developer have to create a custom query? 

There's currently no way of adding a new field to a web service. API pages offer full flexibility on the page structure, so a developer can create a new API page to meet this requirement. 

<!-- 28 --> 
### Can I connect Power BI to a read-only database server of [!INCLUDE [prod_short](includes/prod_short.md)] online? 

By default, the Power BI connector reads data from a read-only replica of the Business Central database, which is the case for all reports created after February 2022. This behavior causes your reports to refresh faster and has less impact on performance if you're using Business Central while a report is refreshing. We still recommend that you schedule your reports to refresh outside of normal working hours whenever possible.

If you have old reports based on Business Central data, they don't connect to the read-only database replica. In this case, consider recreating the query inside Power BI so that it uses the latest defaults.

### <a name="databasemods"></a>When I use the Power BI connector to connect to my custom [!INCLUDE [prod_short](includes/prod_short.md)] API page, I get the error "Cannot insert a record. Current connection intent is Read-Only." How can I fix it?

Reports that use Business Central data connect to a read-only replica of the Business Central database by default. In rare cases, this behavior might cause the error "Current connection intent is Read-Only.". This error typically happens because your custom API is making modifications to Business Central records while Power BI tries to get the data. In particular, it happens as part of the AL triggers: OnInit, OnOpenPage, OnFindRecord, OnNextRecord, OnAfterGetRecord, and OnAfterGetCurrRecord.

To fix this issue by forcing the Business Central connector to allow this behavior, see [Building Power BI Reports to Display Business Central Data - Fixing Problems](across-how-use-financials-data-source-powerbi.md#fixing-problems).

<!--
In general, we recommend avoiding any database modifications in API pages when they're opening or loading records, because they cause performance issues and might cause your report refresh to fail. In some cases, you might still need to make a database modification when your custom API page opens or loads records. You can force the Business Central connector to allow this behavior. Do the following steps when getting data from Business Central for the report in Power BI Desktop:

1. Start Power BI Desktop.
2. In the ribbon, select **Get Data** > **Online Services**.
3. In the **Online Services** pane, select **Dynamics 365 Business Central**, then **Connect**.
4. In the **Navigator** window, select the API endpoint that you want to load data from.
5. In the preview pane on the right, you'll see the following error:

   *Dynamics365BusinessCentral: Request failed: The remote server returned an error: (400) Bad Request. (Cannot insert a record. Current connection intent is Read-Only. CorrelationId: [...])".*

6.	Select **Transform Data** instead of **Load** as you might normally do.
7. In **Power Query Editor**, select **Advanced Editor** from the ribbon.
8.	Replace the following line:

   ```
   Source = Dynamics365BusinessCentral.ApiContentsWithOptions(null, null, null, null),
   ```

   with the line:

   ```
   Source = Dynamics365BusinessCentral.ApiContentsWithOptions(null, null, null, [UseReadOnlyReplica = false]),
   ```

9.	Select **Done**.
10. Select **Close & Apply** from the ribbon to save the changes and close Power Query Editor.

-->
### <a name="perms"></a>How do I change or clear the user account I'm currently using to connect to Business Central from Power BI Desktop?

In Power BI Desktop, do the following steps:

1. In the File menu, select **Options and settings** > **Data source settings**.
2. Select **Dynamics Business Central** from the list, then select **Clear permissions** > **Delete**.

Then next time you connect to Business Central to get data, you'll be asked to sign in.


<!-- ## [Performance](#tab/performance) -->
## Questions about data refresh performance

<!-- 17 -->

### Is it faster to get data using API pages than using web services?

Yes. Our tests indicate that API pages are up to 25% more performant than web services.

<!-- 18 -->
### Are there plans to have a mirror on the Azure SQL Database instance, which I can connect to directly?

No. Not at this point. You can only communicate with Business Central through APIs.

<!-- 19 -->
### Loading data from Business Central web services seems slow. Is there any way to get data directly from the SQL database table?

No. Direct access to the database isn't possible, but switching to API pages helps greatly.

## Troubleshooting questions

### My semantic model does not refresh. How do I see what is wrong?

[!INCLUDE [powerbi-refresh-tsg-include](includes/powerbi-refresh-tsg-include.md)]

<!-- ## [Advanced](#tab/advanced) -->
## Advanced questions
<!-- 1 -->

### Are there plans for the Power BI connector to support the incremental refresh features in the Power BI Service?

Yes. It's on our roadmap.

<!-- 2 -->
### If a Business Central on-premises solution doesn't have internet access, can I still use Power BI?
<!-- todo: please explain this one-->

Yes. In this case, you use Power BI Desktop locally and connect to the Business Central on-premises. Once connected, can create and view reports, but you just can't publish them to the Power BI Service. 
<!-- 20 -->
### Are there any plans to make it possible to replicate Business Central online databases so they're accessible for read-only SQL queries? This capability would support incremental refresh and be a lot faster than APIs or web services.

<!-- todo: what does "BC-Saas-DB-replicated DB accessible" mean? fixe-->
Yes. We have this feature on our long-term roadmap. 

<!-- 21 -->
### If I use Azure Data Factory to get data from Business Central and consume it on Power BI, does that help in increase in performance? 

Yes. This advanced scenario helps Business Central stay performant, because the data access would be done via the Azure Data Factory.

<!-- 22 -->
### Are there any plans to support Power BI deployment pipelines or a way to build deployment pipelines for PBI reports, similar to extensions? Or maybe even a simple API in the Business Admin Center? 

We're looking into this feature. Power BI offers rich APIs to control report deployments. Learn more at [Introduction to deployment pipelines](/power-bi/create-reports/deployment-pipelines-overview).

### When I get data from Business Central to use in my Power BI reports, I see some values like "_x0020_". What are these values?

Some API pages, including most API v2.0 pages, have fields based on [AL Enum objects](/dynamics365/business-central/dev-itpro/developer/devenv-extensible-enums). Fields based on AL enum objects must have names that are consistent and always the same, so that filters on the report always work&mdash;no matter the language or operating system you're using. For this reason, the fields based on AL enums aren't translated and are encoded to avoid any special character, including the space. In particular, whenever there's an empty option in the AL Enum object, it's encoded to "_x0020_". You can always apply a transformation to your data on Power BI if you want to display some different value for these fields, for example "Empty".

---

## Related information

[Power BI licensing](admin-powerbi-setup.md#license)  
[Business Central and Power BI introduction](admin-powerbi.md)  
[Power BI Integration Overview](admin-powerbi-overview.md)  
[Enabling Power BI in Business Central](admin-powerbi-setup.md)  
[Work with Power BI reports in Business Central](across-working-with-powerbi.md)  
[Connect to Power BI from Business Central on-premises](across-working-with-business-central-in-powerbi.md)  
[Building Power BI Reports to display Business Central data](across-how-use-financials-data-source-powerbi.md)  
[Power BI documentation](/power-bi/)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-interaction-segments
---
title: Keep Track of Segments and Related Interactions
description: Learn about creating segments to define groups of contacts and specifying interactions for segments.
author: jswymer

ms.topic: article
ms.devlang: al
ms.search.keywords: relationship, prospect
ms.search.forms: 5091, 5139,
ms.date: 04/01/2021
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Manage Interactions for Segments
The **Segment** page is a type of worksheet where you can:

* Create segments.
* Save the segmentation criteria you have used to select contacts.
* Log the segment and record interactions involving the contacts within the segment.

## Segmenting
There are several ways to create segments:

* You can manually enter the contacts you want to include in the segment in the segment lines.
* You can select contacts.
* You can reuse a logged segment as the basis to create a new one.
* You can reuse saved segmentation criteria.

## Interactions
On the **Segment** page, you can create interactions for several contacts simultaneously. For example, you can merge a segment with a Microsoft Word document, so that you can send a letter to all the contacts in the segment.

You can specify information about the interaction for the segment on the **Segment** header. For example, you can decide which interaction template you want to use for all the contacts, specify a description, a correspondence type, and so on. However, you can modify this information in the segment line for each particular contact, for example, by specifying another description for one contact. If you are merging a segment with a Microsoft Word document, you can personalize the document to be sent for one or several of the contacts within the segment, for example, by adding individualized comments to the document.

## Logging
On the **Segment** page, when you choose **Log**, the application records the interactions on the **Interaction Log Entry** page, and logs the segment. After you have logged the segment, you can only find it on the **Logged Segments** page.

On the **Logged Segments** page, you can decide to create a follow-up segment containing the same contacts as the segment you have logged.

## Related information
[Create Segments](marketing-how-create-segment.md)  
[Create Interactions for Segments](marketing-how-create-interactions.md)  
[Managing Segments](marketing-segments.md)  
[Recording Interactions With Contacts](marketing-interactions.md)  
[Managing Sales Opportunities](marketing-manage-sales-opportunities.md)  
[Creating and Managing Contacts](marketing-contacts.md)  
[Work with Business Central](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-handling-reordering-policies
---
title: Design details - Handling reordering policies
description: This article gives an overview of the reordering policies you can use in supply planning.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 06/12/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Design details: Handling reordering policies

To include an item in supply planning, you must specify a reordering policy for it on the **Item Card** page. The following reordering policies are available:  

* Fixed Reorder Qty.  
* Maximum Qty.  
* Order  
* Lot-for-Lot  

The **Fixed Reorder Qty.** and **Maximum Qty.** policies relate to inventory planning. These policies coexist with the step-by-step balancing of supply and order tracking.  

## The role of the reorder point

A reorder point represents demand during lead time. When inventory is projected to pass below the level defined by the reorder point, it's time to order more. Inventory decreases gradually until the replenishment arrives. It might reach zero or the safety stock level. The planning system suggests a forward-scheduled supply order at the point when the inventory passes below the reorder point.  

Inventory levels can move significantly during the time bucket. Therefore, the planning system constantly monitors available inventory.

## Monitoring the projected inventory level and the reorder point

Inventory is a type of supply, but for inventory planning, the planning system distinguishes between two inventory levels:  

* Projected inventory  
* Projected available inventory  

### Projected inventory  

At the start of the planning process, projected inventory is the gross quantity of inventory. The gross quantity includes posted and unposted supply and demand in the past. This quantity becomes a projected inventory level that gross quantities from future supply and demand maintain. Future supply and demand are introduced along the time line, whether reserved or allocated in other ways.  

The planning system uses projected inventory to monitor the reorder point and determine the reorder quantity using the **Maximum Qty.** reordering policy.  

### Projected available inventory  

Projected available inventory is the inventory that is available to fulfill demand at a given point in time. The planning system uses projected available inventory when monitoring the safety stock level. Safety stock must always be available for unexpected demand.  

### Time buckets  

Projected inventory is important detecting when the reorder point is reached or crossed, and to calculate the right order quantity when using the **Maximum Qty.** reordering policy.  

The projected inventory level is calculated at the start of the planning period. It's a gross level that doesn't consider reservations or other allocations. To monitor this inventory level during the planning sequence, the planning system monitors the aggregated changes over a period of time. That period is called a *time bucket*. To learn more about time buckets, go to [The role of the time bucket](#the-role-of-the-time-bucket). The planning system ensures that the time bucket is at least one day. One day is the minimum unit of time for demand or supply events.  

### Determining the projected inventory level  

The following sequence describes how the planning system determines the projected inventory level:  

* When a supply event is fully planned, such as a purchase order, it increases the projected inventory on the event's due date.  
* When a demand event is fully satisfied, it doesn't decrease the projected inventory right away. Instead, it posts a decrease reminder, which is an internal record that holds the date and quantity of the addition to projected inventory.  
* When a later supply event is planned and added to the timeline, the system investigates posted decrease reminders one by one to the planned date of the supply. During this process, the reorder point level of the internal increase reminder might be reached or crossed.  
* When a new supply order is introduced, it checks whether it was entered before the current supply. If it is, the new supply becomes current supply and the balancing procedure restarts.  

The following image shows this principle.  

![Determining the Projected Inventory Level.](media/nav_app_supply_planning_2_projected_inventory.png "Determining the Projected Inventory Level")  

1. Supply **Sa** of 4 (fixed) closes Demand **Da** of -3.  
2. CloseDemand: Create a decrease reminder of -3 (not shown).  
3. Supply **Sa** is closed with a surplus of 1 (there isn't more demand).  

     The projected inventory level increases to +4, while the projected **available** inventory becomes -1.  

4. The next supply **Sb** of 2 (another order) is already placed on the timeline.  
5. The planning system checks for a decrease reminder before **Sb** (in this example there isn't, so no action is taken).  
6. The planning system closes supply **Sb** (no more demand exists) by either A, reducing it to 0 (cancel) or B, by leaving it as is.  

     The projected inventory level increases (A: +0 => +4 or B: +2 = +6).  

7. The planning system makes a final check. Is there any decrease reminder? Yes, there's one on the date of **Da**.  
8. The planning system adds the decrease reminder of -3 reminder to the projected inventory level, either A: +4 -3 = 1 or B: +6 -3 = +3.  
9. For A, the planning system creates a forward-scheduled order starting on date **Da**. For B, the reorder point is reached and a new order is created.

## The role of the time bucket

The purpose of the time bucket is to collect demand events within a time period in order to make a joint supply order.  

For reordering policies that use a reorder point, you can define a time bucket. Time buckets help ensure that demands within the same time period are accumulated. The system then checks the effect on projected inventory and whether the reorder point is passed.

If you pass the reorder point, the system forward schedules a new supply order from the end of the time bucket. Time buckets begin on the planning starting date.  

The time bucket concept reflects the manual process of checking the inventory level on a frequent basis rather than for each transaction. You define the frequency (the time bucket). For example, you might gather all item needs from a vendor to place a weekly order.  

![Example of time bucket in planning.](media/nav_app_supply_planning_2_reorder_cycle.png "Example of time bucket in planning")  

Time buckets are often used to avoid a cascade effect. For example, a balanced row of demand and supply where an early demand is canceled, or a new one is created. The result would be that every supply order (except the last one) is rescheduled.

## Stay below the overflow level

When using the **Maximum Qty.** and **Fixed Reorder Qty.** reordering policies, the planning system focuses on the projected inventory in the given time-bucket only. It might suggest extra supply when negative demand or positive supply changes happen outside the time bucket. For extra supply, the planning system calculates the quantity by which you should decrease the supply. This quantity is called the "overflow level." The overflow is available as a planning line with a **Change Qty. (Decrease)** or **Cancel** action and the following warning message:  

* Attention: The projected inventory [xx] is higher than the overflow level [xx] on the Due Date [xx].*  

![Inventory overflow level.](media/supplyplanning_2_overflow1_new.png "Inventory overflow level")  

### Calculating the overflow level  

The overflow level is calculated in different ways depending on the reordering policy.  

#### Maximum Qty.

Overflow level = maximum inventory  

> [!NOTE]  
> If you use a minimum order quantity, it's added as follows:
>
> overflow level = maximum inventory + minimum order quantity.  

#### Fixed Reorder Qty.  

overflow level = reorder quantity + reorder point  

> [!NOTE]  
> If the minimum order quantity is higher than the reorder point, it's replaced as follows:
>
> overflow level = reorder quantity + minimum order quantity  

#### Order multiple  

If an order multiple exists, it adjusts the overflow level for both the Maximum Qty. and Fixed Reorder Qty. reordering policies.  

### Creating the planning line with an overflow warning  

A planning line is created when a supply causes the projected inventory to be higher than the overflow level at the end of a time bucket. To warn about the extra supply, the planning line has a warning message, the **Accept Action Message** field isn't selected, and the action message is either **Cancel** or **Change Qty.**  

#### Calculating the planning line quantity  

The quantity on a planning line is calculated as follows:

planning line quantity = current supply quantity – (projected inventory – overflow level)  

> [!NOTE]  
> As with all warning lines, the maximum and minimum order quantity and order multiple are ignored.  

#### Defining the action message type  

* If the planning line quantity is higher than 0, the action message is **Change Qty.**  
* If the planning line quantity is equal to or less than 0, the action message is **Cancel**  

#### Composing the warning message  

If there's overflow, the **Untracked Planning Elements** page displays a warning message with the following information:  

* The projected inventory level that triggered the warning  
* The calculated overflow level  
* The due date of the supply event  

Example: “The projected inventory 120 is higher than the overflow level 60 on 01-28-23”  

### Example scenario  

In this scenario, a customer changes a sales order from 70 to 40 pieces between two planning runs. The overflow feature reduces the purchase that was suggested for the initial sales quantity.  

#### Item setup  

|Reordering Policy|Maximum Qty.|  
|-----------------------|------------------|  
|Maximum Order Quantity|100|  
|Reorder Point|50|  
|Inventory|80|  

#### Situation before a sales decrease  

|Event|Change Qty.|Projected Inventory|  
|-----------|-----------------|-------------------------|  
|Day one|None|80|  
|Sale|-70|10|  
|End of time bucket|None|10|  
|Suggest new purchase order|+90|100|  

#### Situation after sales decrease  

|Change|Change Qty.|Projected Inventory|  
|------------|-----------------|-------------------------|  
|Day one|None|80|  
|Sale|-40|40|  
|Purchase|+90|130|  
|End of time bucket|None|130|  
|Suggest to decrease purchase<br><br> order from 90 to 60|-30|100|  

#### Resulting planning lines  

The system creates a warning planning line to reduce the purchase by 30, from 90 to 60, to keep the projected inventory at 100 according to the overflow level.  

![Plan according to overflow level.](media/nav_app_supply_planning_2_overflow2.png "Plan according to overflow level")  

> [!NOTE]  
> Without the overflow feature, no warning is created if the projected inventory level is above the maximum, which could cause an extra supply of 30.

## Handling projected negative inventory

The reorder point expresses the anticipated demand during the lead time of the item. The projected inventory must be large enough to cover the demand until the new order is received. Meanwhile, the safety stock should take care of fluctuations in demand up to a targeted service level.  

The planning system considers it an emergency if a future demand can't be served from the projected inventory. Or, expressed in another way, that the projected inventory goes negative. The system suggests that you create a new supply order to cover the unmet part of the demand. The size of the new supply order doesn't consider the maximum inventory or the reorder quantity nor the following order modifiers:

* Maximum order quantity
* Minimum order quantity
* Order multiple 

Instead, it reflects the exact deficiency.  

The planning line for this type of supply order displays an **Emergency** warning icon provide additional information about the situation.  

In the following image, supply D represents an emergency order to adjust for negative inventory.  

![Emergency planning suggestion to avoid negative inventory.](media/nav_app_supply_planning_2_negative_inventory.png "Emergency planning suggestion to avoid negative inventory")  

1. Supply **A**, initial projected inventory, is below the reorder point.  
2. A new forward-scheduled supply is created (**C**).  

     (quantity = maximum inventory – projected inventory level)  
3. Supply **A** is closed by demand **B**, which isn't fully covered.  

     (Demand **B** could try to schedule Supply C in, but the time-bucket prevents that.)  
4. New supply (**D**) is created to cover the remaining quantity on Demand **B**.  
5. Demand **B** is closed (creating a reminder to the projected inventory).  
6. The new supply **D** is closed.  
7. Projected inventory is checked. The reorder point isn't crossed.  
8. Supply **C** is closed (there's no more demand).  
9. Final check. There are no outstanding inventory level reminders.  

The following section describes the characteristics of the four supported reordering policies.

## Reordering policies

Reordering policies define how much to order when the item needs to be replenished. Four different reordering policies exist.  

### Fixed Reorder Quantity

The Fixed Reorder Qty. policy is typically used for inventory planning for items with the following characteristics:

* Low inventory cost
* Low risk of obsolescence
* Low number of items

Typically, use this policy with a reorder point that reflects the anticipated demand during the item's lead time.  

#### Calculated per time bucket  

If you reach or cross at the reorder point in a time bucket (reorder cycle), the system suggests two actions:

* Create a new supply order for the reorder quantity
* Forward schedule the order from the first date after the end of the time bucket  

The time bucketed reorder point reduces the number of supply suggestions. It reflects a process of manually checking to actual contents of bins in your warehouse.  

#### Creates only necessary supply  

Before it suggests a new supply order to meet a reorder point, the planning system checks for the following supply:

* Whether supply is already ordered
* Whether you expect to receive the supply within the item’s lead time

The system doesn't suggest a new supply order if a supply brings the projected inventory to the reorder point within the lead time.  

Supply orders that are created specifically to meet a reorder point are excluded from supply balancing and aren't changed. If you want to phase out an item that has a reorder point, review your outstanding supply orders manually or change the reordering policy to **Lot-for-Lot**. The system reduces or cancels extra supply.  

#### Combines with order modifiers  

The Minimum Order Quantity, Maximum Order Quantity, and Order Multiple order modifiers shouldn't play a significant role when you use the Fixed Reorder Qty. policy. However, the planning system takes them into account:

* Decrease the quantity to the specified maximum order quantity (and create two or more supplies in order to reach the total order quantity)
* Increase the order to the specified minimum order quantity
* Round up the order quantity to meet a specified order multiple  

#### Combines with calendars  

Before suggesting a new supply order to meet a reorder point, the planning system checks whether the order is scheduled for a nonworking day. It uses the calendars you specify in the **Base Calendar Code** field on the **Company Information** and **Location Card** pages.  

If the scheduled date is a nonworking day, the planning system moves the order forward to the nearest work day. Moving the date might result in an order that meets a reorder point but doesn't meet a specific demand. For such unbalanced demand, the planning system creates an extra supply.  

#### Shouldn't be used with forecasts  

Because the anticipated demand is already expressed in the reorder point level, it isn't necessary to include a forecast in the planning. If it's relevant to base the plan on a forecast, use the **Lot-for-Lot** policy.  

#### Must not be used with reservations  

If you reserve a quantity, for instance a quantity in inventory, for a distant demand, you might disturb the planning foundation. Even if the projected inventory level is acceptable in relation to the reorder point, the quantities might not be available. The system might try to compensate by creating exception orders. However, we recommend that the **Reserve** field is set to **Never** on items that are planned using a reorder point.

### Maximum Quantity

The Maximum Quantity policy is a way to maintain inventory using a reorder point.  

Everything regarding the Fixed Reorder Qty. policy also applies to this policy. The only difference is the quantity of the suggested supply. When you use the maximum quantity policy, the reorder quantity is defined dynamically based on the projected inventory level. Therefore, it usually differs from order to order.  

#### Calculate per time bucket

When you reach or cross the reorder point, the system determines the reorder quantity at the end of a time bucket. It measures the gap between the current projected inventory level and the specified maximum inventory to determine the quantity to order. The system then checks:

* Whether supply is already ordered
* Whether you expect to receive the supply within the item’s lead time

If so, the system reduces the quantity of the new supply order by the quantities already ordered.  

If you don't specify a maximum inventory quantity, the planning system ensures that the projected inventory reaches the reorder quantity.

#### Combine with order modifiers

Depending on your setup, it might be best to combine the Maximum Quantity policy with order modifiers:

* Ensure a minimum order quantity
* Round the quantity to an integer number of purchase units of measure
* Split the quantity into lots as defined by the maximum order quantity  

### Combine with calendars

Before suggesting a new supply order to meet a reorder point, the planning system checks whether the order is scheduled for a nonworking day. It uses the calendars you specify in the **Base Calendar Code** field in the **Company Information** and **Location Card** pages.  

If the scheduled date is a nonworking day, the planning system moves the order forward to the nearest work day. Moving the date might result in an order that meets a reorder point but doesn't meet a specific demand. For such unbalanced demand, the planning system creates an extra supply.

### Order

In a make-to-order environment, an item is purchased or produced to cover a specific demand. Typically, the Order reordering policy is used for items with the following characteristics

* Demand is infrequent
* The lead-time is insignificant
* Required attributes vary  

[!INCLUDE [prod_short](includes/prod_short.md)] creates an order-to-order link, which acts as a preliminary connection between the supply (a supply order or inventory) and the demand. You can apply the order-to-order link during planning in the following ways:  

* When you use the Make-to-Order manufacturing policy to create multi-level or project type production orders (producing needed components on the same production order)  
* When you use sales order planning to create a production order from a sales order  

> [!TIP]
> If item attributes don't vary, it might be best to use a Lot-for-Lot reordering policy. As a result, the system uses unplanned inventory and only accumulates sales orders with the same shipment date or within a defined time bucket.  

#### Order-to-order links and past due dates

Unlike most supply-demand sets, linked orders with due dates before the planning starting date are fully planned for by the system. The reason for this exception is that specific demand-supply sets must be synchronized. To learn more about the frozen zone that applies to most demand-supply types, go to [Process orders before the planning start date](design-details-balancing-demand-and-supply.md#process-orders-before-the-planning-start-date).

### Lot-for-Lot

The Lot-for-Lot policy is the most flexible because the system only reacts to actual demand. It acts on anticipated demand from forecast and blanket orders and then settles the order quantity based on the demand. The policy is intended for items where inventory can be accepted but should be avoided.  

In some ways, the Lot-for-Lot policy is similar to the Order policy. It can accept quantities in inventory, and it bundles demand and supply in the time buckets you define.

You specify the time bucket in the **Time Bucket** field on the **Item Card** page. The minimum size of time bucket is one day, because that's the smallest time unit of measure on demand and supply events in [!INCLUDE [prod_short](includes/prod_short.md)].  

The time bucket also limits when you should reschedule a supply order to meet a given demand. Supply within the time bucket is rescheduled in or out to meet the demand. Earlier supply causes extra inventory, and you should cancel it. For supply that's later, create a new supply order.  

With this policy, you can specify a safety stock to compensate for changes in supply or to meet a sudden demand. The lot-for-lot policy can also include a dampener period and dampener quantity to reduce order scheduling.  

Together with the **Rescheduling Period** field, the **Lot Accumulation Period** field contributes to defining the reorder cycle. From the date of the first demand, the system accumulates all demands in the next lot accumulation period into one supply order on the date of the first demand. Demand that is outside the lot accumulation period isn't covered by the supply order.

Because the supply order quantity is based on the actual demand, it can make sense to use order modifiers:

* Round up the order quantity to meet an order multiple (or purchase unit of measure)
* Increase the order to a specified minimum order quantity
* Decrease the quantity to the specified maximum quantity (and thus create two or more supplies to reach the total needed quantity)

## Related information  

[Design Details: Planning Parameters](design-details-planning-parameters.md)  
[Design Details: Planning Assignment Table](design-details-planning-assignment-table.md)  
[Design Details: Central Concepts of the Planning System](design-details-central-concepts-of-the-planning-system.md)  
[Design Details: Balancing Demand and Supply](design-details-balancing-demand-and-supply.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/how-to-set-up-validation-of-purchase-amounts
---
title: Set up validation of purchase amounts
description: You can validate the total amount on purchase invoices and credit memos before you post the documents.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 03/14/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Set up validation of purchase amounts

> [!NOTE]
> Businesses around the world can benefit from this functionality, so in 2025 release wave 1 we moved it out of the Dutch version and made it available to everyone.

You can validate the total amount on purchase invoices and credit memos before you post the documents. You can turn on the **Check Doc. Total Amounts** toggle on the **Purchases & Payables Setup** page. By default, [!INCLUDE [prod_short](includes/prod_short.md)] validates the total amount when you post the document. The total amount of the purchase lines must equal the amount including VAT and the VAT amount. To validate the amount automatically, you must enter the document amount including VAT and the document amount VAT on the **Purchase Invoice** or **Purchase Credit Memo** page.  

If you have only one purchase line, or several purchase lines with the same VAT percentage, the correct document amount VAT is calculated automatically when you add the purchase lines and the document amount including VAT. If you have several purchase lines with different VAT percentages, you must manually change the document amount VAT value.  

If the total amount on the document differs from the total amount of its lines, you can add a few values to the page that can help you find out why. You can add the total amount, total base amount, total VAT amount, and total amount including VAT values. The values display at the bottom of the document. To avoid clutter on the page during daily work, these values are hidden. To add these values to the document, turn on the **Show Totals on Purch. Inv.-CM.** toggle on the **Purchases & Payables Setup** page.  

You can turn on this option only if the purchase invoice or purchase credit memo has:  

- A minimum of one purchase line.  
- The quantity field specified.  

## To set up validation of total amounts for purchase documents  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchases & Payables Setup**, and then choose the related link.  
2. On the **General** FastTab, fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Show Totals on Purch. Inv./CM.**|Recalculate the totals on all purchase invoices and credit memos. Depending on how many documents you have, the recalculation can take some time.|  
    |**Check Doc. Total Amounts**|Verify the **Doc. Amount Incl. VAT** and **Doc. Amount VAT** fields on the purchase invoices and credit memos.|  

3. Choose the **OK** button.  

## Related information

[Check amounts on purchase invoices and credit memos](check-purchase-amounts.md)  
[Setting Up Purchases](sales-how-work-standard-lines.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-how-setup-time-sheets
---
title: Set up time sheets and their approval
description: Learn how to use time sheets to track time for projects and resources.
ms.reviewer: bholtorf
author: brentholtorf
ms.author: bholtorf
mw.reviewer: ivkoleti
ms.topic: how-to
ms.search.keywords: project management, capacity, staff, resource, time sheet
ms.search.form: 977, 462, 76, 77, 462, 946_Primary, 949_Primary
ms.date: 07/27/2023
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Set up time sheets

Time sheets in [!INCLUDE[prod_short](includes/prod_short.md)] handle time registration in weekly increments of seven days. You can use them to track the time used on projects, and you can use them to record simple resource time registration. Before you use time sheets, you must specify which users will submit time sheets and how you want to configure time sheets.  

> [!TIP]
> The people who use time sheets are *resources*. For example, that lets you use time sheets to track the work of non-employees. To track the work of employees, or to use time sheets to track employee absence, you must associate employees with resources. There's an assisted setup guide that can help you do that. To learn about the guide, go to [Set up time sheets with the assisted setup guide](#set-up-time-sheets-with-the-assisted-setup-guide).  

Optionally, specify whether and how time sheets are approved. Depending on the needs of your organization, you can designate:

* One or more users as the time sheet administrator and approver for all time sheets.
* A time sheet approver for each resource.

When you have set up time sheets, you can create time sheets for resources, and the resources can post time sheet lines. Optionally, assign time sheets to project planning lines. To learn more, go to [Use Time Sheets](projects-how-use-time-sheets.md).  

## Set up time sheets with the assisted setup guide

An assisted setup guide can help you set up time sheets.  

> [!TIP]
> If you're a version earlier than 2023 release wave 1 (v22), you must enable the **Feature Update: New time sheet experience** feature in the [Feature Management](https://businesscentral.dynamics.com/?page=2610) page to use this capability.
>
> This setting also lets you use time sheets on mobile devices.

Open the **Set Up Time Sheets** assisted setup guide from the [Assisted Setup](https://businesscentral.dynamics.com/?page=1801) page.

The assisted setup guide takes you through the following steps:

1. Set up the participants in the time sheet processes.

    The first page in the guide shows you the number of users in your [!INCLUDE [prod_short](includes/prod_short.md)]. It also shows other required and optional information.  
2. Specify the first day of a work week in this organization.

    The first day of a work week is the default first day for all time sheets.
3. Specify the person who administers time sheets.

    This person can edit and delete all time sheets. Optionally, add the same role to other people in the **User Setup** page.
4. Set up the resources who will use time sheets, and the people who will approve time sheets.

At the end of the setup guide, you can choose to let [!INCLUDE [prod_short](includes/prod_short.md)] create time sheets based on your configuration. View the new time sheets in the **Time Sheets** page, which you can open [here](https://businesscentral.dynamics.com/?page=951). Alternatively, run the assisted setup guide again, or complete the setup manually.

> [!IMPORTANT]
> If you're using 2023 release wave 1 (v22) or later, to ensure that you can manage time sheets on mobile devices, you must manually turn on the **Use New Time Sheet Experience** option for the time sheet setup, as described in the next procedure.

## Set up time sheets manually

The following sections describe how to set up time sheets if you don't use the **Set Up Time Sheets** assisted setup guide.  

### Set up general information for time sheets manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resources Setup**, and then choose the related link.  
1. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

   > [!IMPORTANT]
   > If you're using 2023 release wave 1 (v22) or later, to ensure that you can manage time sheets on mobile devices, turn on the **Use New Time Sheet Experience** option.
1. For the **Time Sheet by Job Approval** field, select one of the following options.

| Option | Description |
| --- | --- |
| **Never** |The user in the **Time Sheet Approver User ID** field on the resource card approves the time sheet. |
| **Always** |The user in the **Person Responsible** field on the Project Card approves the time sheet. |
| **Machine Only** |If the machine time sheet is linked with a job, then the user in the **Person Responsible** field on the Project Card approves the time sheet. If the machine time sheet is linked with a resource, then the user in the **Time Sheet Approver User ID** field on the resource card approves the time sheet. |

### Assign a time sheet administrator manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then choose the related link.  
2. Select the user who will be the time sheet administrator, and then select the **Time Sheet Admin.** checkbox.  

> [!TIP]  
> We recommend that you designate only one user as the time sheet administrator for a company. In the following procedure, you set up a time sheet owner and approver where the time sheet approver is assigned for each resource.  

### Assign a time sheets owner and approver manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resources**, and then choose the related link.
2. Select the resource for which you want to set up the ability to use time sheets, and then select the **Use Time Sheet** checkbox.  
3. In the **Time Sheet Owner User ID** field, enter the ID of the owner of the time sheet. The owner can enter time usage on a time sheet and submit it for approval. Typically, when the resource is a person, that person is also the owner.  
4. In the **Time Sheet Approver User ID** field, enter the ID of the approver of the time sheet. The approver can approve, reject, or reopen a time sheet.  

> [!NOTE]  
> You can't change the ID of the time sheet approver if there are time sheets that haven't been processed and have the status of **Submitted** or **Open**.

## Related information

[Use Time Sheets for Projects](projects-how-use-time-sheets.md)  
[How To Create Time Sheets](projects-how-use-time-sheets.md#create-time-sheets)  
[Record Consumption or Usage for Projects](projects-how-record-job-usage.md)  
[Setting Up Project Management](projects-setup-projects.md)  
[Project Management](projects-manage-projects.md)  
[Finance](finance.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-how-to-sell-inventory-items-in-assemble-to-order-flows
---
title: Sell Inventory Items in Assemble-to-Order Flows
description: Assemble-to-order items are assembled for sales orders through an assembly order.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 02/21/2023
ms.custom: bap-template
ms.search.keywords: kit, kitting
ms.search.form: 900, 901, 902, 903, 904, 907, 910, 916, 920, 921, 922, 923, 940, 941, 942, 930, 931, 932, 914, 915, 905
ms.service: dynamics-365-business-central
---
# Selling Inventory Items in Assemble-to-Order Flows

If the **Assembly Policy** field on the item card of an assembly item contains **Assemble-to-Order**, the sales order process assumes that the item isn't in inventory and must be assembled for sales orders. When you add the item to a line on a sales order, [!INCLUDE [prod_short](includes/prod_short.md)] creates an assembly order that's linked to the sales order. To learn more about how to sell assemble-to-order items, go to [Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md). However, if some of the sales order quantity is already available in inventory, you can decrease the assembly order quantity by changing the **Qty. to Assemble to Order** field on the sales order line.  

It's relatively rare for businesses to sell inventory items as assemble-to-order items. Assemble-to-order items typically aren't standard. They're customized to meet specific customer requirements. However, you might have quantities of assemble-to-order items in inventory due to returns or order cancellations. Those quantities should be picked and sold before new ones are assembled.  

> [!NOTE]  
> To check whether whether assemble-to-order items are already available for assembly orders, use the **Sales Line Details** FactBox on the sales order.  

You can do similar things when you're selling assembly items from inventory and some or all of the quantity isn't available. You can supply the missing quantity through an assembly order. To learn more about selling inventory and assembly items, go to [Sell Assemble-to-Order Items and Inventory Items Together](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md).  

> [!NOTE]  
> There are rules that apply to the **Qty. to Ship** field on sales order lines that contain a combination of assemble-to-order quantities and inventory quantities. To learn more about the rules, go to [Combination scenarios](assembly-assemble-to-order-or-assemble-to-stock.md#combination-scenarios).  

In this procedure, you replace assemble-to-order quantities with inventory quantities on a sales order line. The following steps provide an overview:

1. Determine availability.
2. Reducing that quantity from the linked assembly order.
3. Reserve the inventory quantity to make sure that it's picked and shipped for the order.  

## To sell inventory items in assemble-to-order flows

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Create a sales order. To learn about creating sales orders, go to [Sell Products](sales-how-sell-products.md).  
3. On a sales order line that contains an assemble-to-order item, in the **Quantity** field, enter the quantity.  
4. In the **Sales Line Details** FactBox, determine whether some of all of the quantity is available.  
5. In the **Qty. to Assemble to Order** field, deduct the available quantity so that only the unavailable quantity is assembled to the order. The **Reserved Quantity** field is decreased accordingly to reflect that the order-to-order link, or reservation, only applies to the quantity to be assembled.  
6. On the **Lines** FastTab, choose **Functions**, and then choose the **Reserve** action.  
7. On the **Reservation** page, select the item ledger entry line or lines that contain the available quantities, choose the **Reserve from Current Line** action, and then choose the **OK** button.  

    On the **Sales Order** page, the **Reserved Quantity** field now shows that the full quantity for the order line is reserved. The **Qty. to Assemble to Order** field still reflects the quantity to assemble.  

8. Release the sales order to make the items available for picking and for assembly of the unavailable items. To learn more about assembling items, go to [Assemble Items](assembly-how-to-assemble-items.md).  

> [!CAUTION]  
> The **Bin Code** field on the sales order might contain the value from the **Assemble-to-Order Shpt. Bin Code** or **From-Assembly Bin Code** fields on the location card. If it does, the **Bin Code** field on the sales order line might be incorrect for this combination of assemble-to-order and assemble-to-stock quantities. It's a good idea to double-check that the bin in the **Bin Code** field works for all quantities. Alternatively, enter the two different quantities on separate sales order lines.  

## Related information

[Assembly Management](assembly-assemble-items.md)  
[Reserve Items](inventory-how-to-reserve-items.md)  
[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)  
[Inventory](inventory-manage-inventory.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-extensions-worldpay-payments-standard
---
title: WorldPay Payments Standard
description: The WorldPay Payments Standard extension lets you offer customers a convenient alternative to making payments through bank transfers or credit cards.
author: brentholtorf
ms.author: bholtorf
ms.topic: article
ms.search.form: 1360, 1361, 1364, 
ms.date: 12/11/2023
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# The WorldPay Payments Standard extension

> [!CAUTION]
> The WorldPay Payments Standard extension will be deprecated. The code is marked as obsolete starting in 2023 release wave 2. The app will be active for the next three major releases and then it will be removed.

The WorldPay Payments Standard extension lets you offer customers a convenient alternative to making payments through bank transfers or credit cards. Not only that, payments made through payment services will typically land in your bank account more quickly.

If you enable the extension, when you send a sales invoice by email the document includes a link to the payment service in the email body and in the attached PDF document. A customer can choose the link, and then use the payment service to make the payment.

Enabling payment service extensions is free in [!INCLUDE[prod_short](includes/prod_short.md)], however, you'll need to contact the payment service to get an account. For more information, see [Enable Customer Payment Through Payment Services](sales-how-enable-payment-service-extensions.md).

## Related information

[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/submit-regulatory-alerts
---
title: Submit regulatory alerts
description: If you know about new legislation that requires feature support in Business Central, you can follow this guide to submit a regulatory alert to the product team.
author: sorenfriisalexandersen
ms.topic: how-to
ms.reviewer: bholtorf
ms.search.keywords:
ms.date: 12/07/2023
ms.author: soalex
ms.service: dynamics-365-business-central
---

# Submit alerts about country/region-specific regulatory features

We invite you to use Microsoft Dynamics Lifecycle Services (LCS) to submit regulatory alerts through the Dynamics regulatory alert submission service.  

## To submit a regulatory alert in LCS

1. Go to [Lifecycle Services](https://lcs.dynamics.com) and sign in.  

    You are presented with the projects you have access to.

2. Select the **Regulatory Alerts - Worldwide** project.

    This opens the project and shows various things related to this project.

3. Select the **Alert service** on the right side in the **More tools** section.

    You get a list of alerts with the headline **Dynamics Regulatory Alert Submission**.

4. You can add a new alert by clicking the plus sign **(+)** sign at the top of the list.

    This presents you with a 4-step guide to create the alert. The guide has the following steps:
    - Search for existing items.

        Search for any information you think is relevant for the alert you're going to create. If you don't find any relevant search results you can select the **Submit regulatory alert** button at the bottom of the page to proceed with the alert submission.
    - Attach business processes.

        This part isn't relevant for Dynamics 365 Business Central. Choose **Skip** to proceed to the next step.
    - Describe the alert.

        Enter information about the alert in the appropriate fields. A red asterisk (\*) in the guide indicates the required fields.

        |Field        |Description                               |
        |-------------|------------------------------------------|
        |Title  | Enter a descriptive title to identify the area of impact. For example, enter *Changes in invoice document as of July 1, 2019*. |
        |Description  | Enter a brief overview of the law. Your description should focus on issues that are relevant to enterprise resource planning (ERP), so that users can understand the requirements at a high level without having to read the legislation first.|
        |Country  | Specify the country or region that the legislation applies to.|
        |Industry| Specify the industry, if the requirement applies only to specific industries. For example, choose **Public sector**, **Retail**, or **Manufacturing**.|
        |Feature reference  | This isn't relevant for Business Central, but you can enter a feature reference, if you know it. The list of features for the specific country/region can be found in the [Localization portal](/dynamics/s-e/) on the CustomerSource site. |
        |Law enforcement date  | Specify the date when affected customers must start to comply with the law.|
        |Government announcement date  | Specify the date when the authority announced the change.|
        |Latest filing date  | Select the deadline for the first submission of the new or changed report.|
        |Link to legislation  | Enter one or more links to the published law, interpretation guideline, implementation guidance, or any other useful documentation that helps users understand or implement the requirement.|
        |Company name  | Enter the company name for the person who is submitting the alert.|
        |Contact name  | Enter the name of the person who is submitting the alert. |
        |Contact email  | The email address of the person who is submitting the alert.|
        |Business process  | The business processes that you selected through the **Alert submission** wizard|
        |Comments  | Enter any additional information that might be help users understand or implement the requirement. Select **Submit** to save your comment. Multiple comments can be added and should be submitted separately. Comments are saved in the order that they're added. |
        |Attachments  | Select the **Upload** button, and then browse to select a file to add as an attachment. After you select the file, it's uploaded and appears as a linked file. You can add up to three files that have a size of 5 MB each. To delete the attached files, select **Remove** under the title of the file. Attachments must be publicly available materials. They can't be propriety or customer-specific/partner-specific.|

        Select **Submit** to save and submit the alert.

        If you don't have all of the required information, or if you're not yet ready to submit the alert, you can save a partially completed alert.

    - Submission confirmation.

      After you submit the alert, you'll get a confirmation that the alert was successfully submitted to Microsoft.

## Related information

[Local Functionality in [!INCLUDE[prod_long](includes/prod_long.md)]](about-localization.md)  
[Changing Language and Locale](about-locale-language.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Welcome to Business Central](welcome.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-onedrive-integration-onpremises
---
title: Configuring OneDrive integration with Business Central on-premises
description: Learn about how to set up Business Central on-premises to integrate with OneDrive for work or school (formerly known as OneDrive for Business).
author: jswymer
ms.topic: how-to
ms.search.keywords: OneDrive, share, browser
ms.date: 09/01/2024
ms.author: jswymer
ms.service: dynamics-365-op
ms.reviewer: jswymer
---
# Configuring OneDrive integration with Business Central on-premises

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

This article explains how to configure OneDrive for work or school (formerly known as OneDrive for Business) integration with Business Central on-premises. Unlike [!INCLUDE[prod_short](includes/prod_short.md)] online, the connection between Business Central and OneDrive isn't set up automatically. If the connection isn't configured, users can't use the features for OneDrive.

There are two tasks that need to be done to configure the OneDrive integration.

- The first task involves registering an application (app) on your Microsoft Entra tenant of your Microsoft 365 plan. The registered app is used for authentication purposes. This task is typically done in the Azure portal and in Business Central web client.
- The second task involves setting up the connection to the OneDrive URL and turning on the OneDrive features in the Business Central. This task in done in the Business Central web client. It's done differently for version 21 than for versions 19 and 20. Version 21 introduces a new **OneDrive Setup** that replaces the **SharePoint Connections Setup**.  

> [!IMPORTANT]
> [!INCLUDE[prod_short](includes/prod_short.md)] on-premises can only be connected to OneDrive hosted by Microsoft in the cloud. Connecting [!INCLUDE[prod_short](includes/prod_short.md)] on premises to the My Sites repository of SharePoint Server isn't supported.

## <a name="registerapp"></a>Register an app in Microsoft Entra ID for OneDrive integration

In this task, you add a registered app for Business Central in the Microsoft Entra tenant of your Microsoft 365 plan. Like other Azure services that work with Business Central, OneDrive requires a registered app in Microsoft Entra ID. The registered app provides authentication and authorization services between Business Central and SharePoint, which is used by OneDrive.

For detailed steps for completing this step, see [Register an application in Microsoft Entra ID](/dynamics365/business-central/dev-itpro/administration/register-app-azure#register-an-application-in-azure-active-directory) in the developer and IT pro help.

As you register the application, consider the following points:

- If you've already registered an application as part of an integration with another Microsoft product, such as Power BI, then you reuse that registered app. In this case, you'll just have to set the SharePoint permissions for the existing registered app.

- Be sure to configure the registered app with the following delegated permissions to the SharePoint API:

    - AllSites.FullControl
    - User.ReadWrite.All
    
    For Business Central 2021 release wave 2 (version 19), set these permissions instead:
    
    - AllSites.Write
    - MyFiles.Write
    - User.Read.All 

- If you're using Business Central version 19 or 20, copy the **Application (client) ID** and **client secret** used by the registered app. You'll need this information in the next task.

## <a name="url"></a>Get your OneDrive URL

[!INCLUDE[onedrive-url](includes/onedrive-url.md)]

## Set up the OneDrive connection in version 21 and later

Use this procedure if you're using Business Central 2022 release wave 2 (version 21) or later.

### Prerequisites

- Indirect, modify, and delete (imd) permission on table **Document Service Scenario** as a minimum

### Run OneDrive setup

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **OneDrive Setup**, and then choose the related link.
2. The first time you run the assisted setup, you see the **Your privacy**. Read the information on the page, and if you agree to the terms choose **Agree** to continue.
3. On the **Configure file handling** page, you have the following options to choose from:

   [!INCLUDE[onedrive-feature-options](includes/onedrive-feature-options.md)]

4. On the **Configure Business Central** page, enter OneDrive's URL in the **OneDrive URL** field.

   [How do I find my OneDrive URL?](#url)
5. Choose **Test Connection** and wait for the results.
   - If the test succeeds, choose **Done**, then you're ready to go.
   - If the test fails, you get a message that describes the problem. Typically the problem has to do with the URL that you provided. Choose **OK** to return to the **Configure Business Central** page, verify the URL, and try again.
   - If you haven't already set up the Microsoft Entra ID registered app, the **Set Up Microsoft Entra ID** guide opens.
6. When completed, the privacy notice for OneDrive integration is agreed for all users. If you want to change it so users must agree or disagree for themselves, then go the **Privacy Notices Status** page and select **Let User Decide** for the OneDrive integration. Users will then be prompted to agree or disagree with the privacy notice the first time they use the OneDrive features. Learn more in [Privacy Notices](privacy-notices-status.md).

## Set up the connection in [!INCLUDE[prod_short](includes/prod_short.md)] version 19 and 20

Use this procedure if you're using Business Central 2022 release wave 1 (version 20) or 2021 release wave 2 (version 19).
> [!IMPORTANT]
> By configuring this feature, you also enable legacy features that send files to OneDrive.  
>
>* The Open in Excel feature will automatically copy the Excel file to OneDrive, then open it in Excel Online. 
>* Exporting any report to a file will automatically copy the file to OneDrive, then open it in Excel Online, Word Online or OneDrive. 
>* Other features may also automatically open in OneDrive.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Microsoft SharePoint Connection Setup**, and then choose the related link.
2. In the **Description** field, enter a description for the connection, like **OneDrive**.
3. In the **Folder** field, enter **Business Central**.
4. In the **Location** field, enter the URL for your OneDrive.

   [How do I find my OneDrive URL?](#url)
5. In the **Client ID** field, enter the client ID from your registered app.
6. In the **Client Secret** field, enter the secret from your registered app. 

> [!IMPORTANT]
> The **SharePoint Connection Setup** page is used to configure multiple legacy features. The **General** section configures the connection to OneDrive, and the **Shared Documents** section redirects files to SharePoint instead. The  **SharePoint Connection Setup** has been deprecated and will be removed in coming release. We recommend that you do not configure the **Shared Documents** section. Learn more in [Deprecated Features in the Base App ](/dynamics365/business-central/dev-itpro/upgrade/deprecated-features-w1#microsoft-sharepoint-connection-setup).

## After upgrade to version 21

When you upgrade to version 21 or later, the existing connection to OneDrive that's configured on the **SharePoint Connection Setup** page will still work. But because the **SharePoint Connection Setup** page will be removed in version 23, we recommend that you switch to the new OneDrive integration, as described in the next section. Making this switch now make it easier when the **SharePoint Connection Setup** is eventually removed. Plus, it enables you to use the **OneDrive Setup** assisted setup guide to manage the OneDrive features that are accessible to users.

## Switching from legacy SharePoint to new OneDrive integration 

To switch to the new OneDrive integration, you run the **OneDrive Setup** assisted setup guide, which you can open directly or from the legacy **SharePoint Connection Setup** page. The **OneDrive Setup** assisted setup leads you through the transition, providing information about the changes being made along the way.

Before you get started with the switch or as you're doing it, refer to the next section to learn about some aspects and considerations about the process. 

### <a name="onedrivesetupmigration"></a>About switching to the new OneDrive integration

In addition to OneDrive integration, Business Central can also integrate with other services, like Power BI and Universal print. Integration with these other services also requires a registered Microsoft Entra app for authentication. The Microsoft Entra app used by these other services is configured in the **Set up your Microsoft Entra accounts** assisted setup. When you switch from the legacy SharePoint connection setup, the new **OneDrive Setup** assisted setup changes your OneDrive integration to also use the **Set up your Microsoft Entra accounts** assisted setup&mdash;so all integrations use the same Microsoft Entra app.

This change has implications when switching to the new OneDrive integration, depending on whether there's already a Microsoft app configured in the **Set up your Microsoft Entra accounts** assisted setup. 

> [!IMPORTANT]
> After you switch to the new OneDrive setup, you can no longer use the **SharePoint Connection Setup** page to configure OneDrive integration.

#### How the changes affect the integration

The **OneDrive Setup** assisted setup will always use the app that's configured in the **Set up your Microsoft Entra accounts** assisted setup, if there's one. When you run the **OneDrive Setup** assisted setup, it compares the app configured in **Set up your Microsoft Entra accounts** with your current app configured in **SharePoint Connection Setup**.

> [!TIP]
> In the **SharePoint Connection Setup** page and **Set up your Microsoft Entra accounts** assisted setup, the Microsoft Entra app is identified by the **client ID**.

- If the app in **Set up your Microsoft Entra accounts** is different than the app in **SharePoint Connection Setup**, the OneDrive integration changes to use the app in **Set up your Microsoft Entra accounts**.

   In **OneDrive Setup** while making the switch, you get a message similar to the following text: 

   **The Microsoft Entra application used for authentication will be configured for all Business Central integrations. This means the client id will change to NNNNNNNNN-NNNN-NNNN-NNNN-NNNNNNNNNNNN, you may want to test it has the correct permissions.**

  `NNNNNNNNN-NNNN-NNNN-NNNN-NNNNNNNNNNNN` represents the client ID of the app in **Set up your Microsoft Entra accounts** that OneDrive integration has been switched to. 

  > [!IMPORTANT]
  > For new OneDrive integration to work after you make the switch, you have to grant the app permission to the SharePoint API in Azure portal. You can do this step before or after you switch to the new OneDrive setup. Learn more in the section [Register an app in Microsoft Entra ID for OneDrive integration](#registerapp).

- If the app in **Set up your Microsoft Entra accounts** is the same as the app in **SharePoint Connection Setup**, the OneDrive integration uses the same app as before, except from the configuration in the **Set up your Microsoft Entra accounts** setup.

   In **OneDrive Setup** while making the switch, you get a message similar to the following text:

   **The Microsoft Entra application used for authentication will be configured for all Business Central integrations. This has already been configured with the same client id (aaaabbbb-0000-cccc-1111-dddd2222eeee).**

- If there's no app configured in the **Set up your Microsoft Entra accounts** setup, the OneDrive integration uses the same app as before.

   The **OneDrive Setup** assisted setup copies app configuration to the **Set up your Microsoft Entra accounts** setup, so it's used for other integrations in that might set up later.

   In **OneDrive Setup** while making the switch, you get a message similar to the following text:

   **The Microsoft Entra application used for authentication will be configured for all Business Central integrations.**

### Run OneDrive setup to switch to the new OneDrive integration

1. Open either the **OneDrive Setup** page or the **SharePoint Connection Setup** page.
2. If you're using the **SharePoint Connection Setup** page, choose **Go to new OneDrive setup** in the notification at the top of the page.
3. Follow the **OneDrive Setup** assisted setup guide.
4. When you get to the **Configure file handling** page, choose one of the following options for turning on features:

   [!INCLUDE[onedrive-feature-options](includes/onedrive-feature-options.md)]

5. The **Configure Business Central** page shows the same URL that's used by the existing OneDrive integration. You can change the URL as needed.
6. Select **Test Connection** and follow the instructions.

   If the test succeeds, select **done**, and you're ready to go. Otherwise, use the messages on the page to help you fix the problem.

## Related information

[Business Central and OneDrive Integration](across-onedrive-overview.md)  
[Opening Business Central Files in OneDrive](across-share-onedrive.md)  
[OneDrive FAQ](admin-onedrive-faq.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-pick-for-internal-operations-in-advanced-warehousing
---
title: Pick for internal operations in advanced warehouse configurations
description: If your locations use picking and shipping, pick components for production, assembly, and project activities on the Warehouse Pick page.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 03/19/2025
ms.custom: bap-template    
ms.service: dynamics-365-business-central
---

# Pick for production, assembly, or projects in advanced warehouse configurations

How you pick components for production, projects, or assembly orders depend on how your warehouse is set up as a location. Learn more at [Setting Up Warehouse Management](warehouse-setup-warehouse.md).

In an advanced warehouse configuration for the outbound flow (pick), on the **Location Card** page for the location, use the following settings:

- Production, in the **Prod. Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.
- Assembly, in the **Asm. Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.
- Project management, in the **Project Consumption Whse. Handling** field, select **Warehouse Pick (optional)** or **Warehouse Pick (mandatory)**.

When the location is set up to require warehouse pick processing, use warehouse pick documents to create and process pick information before you post the usage or consumption of components.  

You can't create a warehouse pick document from scratch. Picks are part of a workflow where a person who is processing an order creates them in a push fashion, or the warehouse employee creates them in a pull fashion:

- In a push fashion, where you use the **Create Pick** action in the **Production Order**, **Assembly Order**, **Project Card** page. Select the lines to pick and prepare the picks by specifying, for example, which bins to take from and place in, and how many units to handle. Bins can be predefined for the warehouse location or resource.
- In a pull fashion, where you release **Production Order**, **Assembly Order**, **Project Card** to warehouse making the items available for picking. Then, on the **Pick Worksheet** page, warehouse employees can use the **Get Warehouse Documents** action to pull their assigned picks.

To pick or move components for source documents in a pull fashion, you must release the source document to make it ready for picking. Release source documents for internal operations in the following ways.  

|Source Document|Release Method|  
|---------------------|--------------------|  
|Production Order|Change the order status to Released or create a released production order right away.|  
|Assembly Order|Change status to Released.|
|Projects | Change status to Open or create project with status Open right away.|  

## Production

Use **Warehouse Pick** documents for picking production components in the flow to production.

For a location that uses bins to move items to open shop floor bins, you can use the following methods:

- For a location that uses directed put-away and pick, follow the steps in the [Move Items in advanced warehouse configurations](warehouse-how-to-move-items-in-advanced-warehousing.md) article.
- For other locations, follow the steps in the [Move Items Internally in Basic Warehouse Configurations](warehouse-how-to-move-items-ad-hoc-in-basic-warehousing.md) article.

### Over-picking in production

[!INCLUDE [manufacturing-overpicks](includes/manufacturing-overpicks.md)]

## Assembly  

Use **Warehouse Pick** documents to move assembly components to the assembly area.

[!INCLUDE [prod_short](includes/prod_short.md)] supports assemble-to-stock and assemble-to-order types of assembly flows. To learn more about assemble-to-order in the outbound warehouse flow, go to [Handling Assemble-to-Order Items in Warehouse Shipments](warehouse-how-ship-items.md#handling-assemble-to-order-items-in-warehouse-shipments).

## Project management  

Use **Warehouse Pick** documents to pick project components in the flow to project management.

> [!NOTE]
> You can't use the **Project No.** and **Project Task No.** fields in a purchase order together with locations where the **Directed Put-Away and Pick** toggle is turned on. You must post receipts and consumption separately with the fully directed warehouse flow.

## Check whether items are available for picking

[!INCLUDE [inventory-availability-overview](includes/inventory-availability-overview.md)]

## To create pick documents in bulk with the pick worksheet

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Pick Worksheet**, and then choose the related link.  
2. Choose the **Get Warehouse Documents** action.  

    The list shows the released production, projects, and assembly orders that have been forwarded to the pick function. The orders include those for which pick instructions are already created. Documents with pick lines that have been picked and registered aren't shown on this list.  
3. Select the orders for which you want to prepare a pick.

    > [!NOTE]  
    > If you select a document that already has instructions for all its lines, [!INCLUDE [prod_short](includes/prod_short.md)] informs you that there is nothing to handle. To combine the already created warehouse pick instructions into one pick instruction, delete the individual warehouse picks first.

4. Fill in the **Sorting Method** field to sort the lines the way you prefer.  

    > [!NOTE]  
    > The way the lines are sorted in the worksheet doesn't automatically carry through to the pick instruction. However, the same sorting tools are available, along with bin ranking. You can easily recreate the order of the lines you plan in the worksheet when you create the pick instructions or by sorting in the pick instructions.

5. Fill in the **Qty. to Handle** field. Choose the **Autofill Qty.to Handle** action, or fill in the fields manually.  

    The page shows the quantities available in cross-dock bins, which is useful for planning work assignments in cross-docking situations. [!INCLUDE[prod_short](includes/prod_short.md)] will always propose a pick from a cross-dock bin first.

6. If needed, edit the lines manually. You can also delete some of the lines to make the pick more efficient. For example, if there are multiple lines with items that are in cross-dock bins, you might create a pick for all of the lines. The cross-docked items are picked with the other items on the source document, and the cross-dock bins have space for more incoming items.

    > [!NOTE]  
    > The lines are only deleted from this worksheet, not from the pick selection list.  

7. Choose the **Create Pick** action. The **Create Pick** page opens, where you can add more information to the pick.  

    Specify how to combine pick lines in the pick documents by selecting one of the following options.  

    |Option|Description|
    |-|-|
    |Per Whse. Document|Creates separate pick documents for worksheet lines with the same warehouse source document.|
    |Per Cust./Vend./Loc.|Creates separate pick documents for each customer (project)|
    |Per Item|Creates separate pick documents for each item in the pick worksheet.|
    |Per From Zone|Creates separate pick documents for each zone that you take the items from.|
    |Per Bin|Creates separate pick documents for each bin that you take the items from.|
    |Per Due Date|Creates separate pick documents for source documents that have the same due date.|

    Use the following options to specify how to create the pick documents.  

    |Option|Description|
    |-|-|
    |Max. No. of Pick Lines|Creates pick documents that have no more than the specified number of lines in each document.|
    |Max. No. of Pick Source Docs.|Creates pick documents that cover up to the specified number of source documents.|
    |Assigned User ID|Creates pick documents only for worksheet lines that are assigned to the selected warehouse employee.|
    |Sorting Method for Pick Lines|Select from the available options to sort lines in the created pick document.|
    |Set Breakbulk Filter|Hides intermediate breakbulk pick lines when a larger unit of measure is converted to a smaller unit of measure and picked.|
    |Don't Fill Qty. to Handle|Leaves the **Qty. to Handle** field empty on the created pick lines.|
    |Print Pick|Prints the pick documents when they're created. You can also print from the created pick documents.|

8. Choose the **OK** button.  

## To pick items for a production order, assembly order, or project

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Picks**, and then choose the related link.  

    If you need to work on a particular pick, select the pick from the list or filter the list to find the picks that have been assigned to you. Open the pick card.  
2. If the **Assigned User ID** field is empty, enter your ID to identify yourself, if needed.  
3. Pick the items.  

    If the warehouse is set up to use bins, the items’ default bins are used to suggest where to take the items from. The instructions contain at least two separate lines for Take and Place actions.  

    Operation areas such as production shop floors might have a default bin for the components they require. If so, the default bin code is added to the warehouse pick document to indicate where to put the items. For more information, see the tooltips for the **To-Production Bin Code**, the **To-Assembly Bin Code**, the **To-Project Bin Code** fields.

    If the warehouse is set up to use directed put-away and pick, the bin rankings are used to calculate the best bins to pick from. Those bins are suggested on the pick lines. The instructions contain at least two separate lines for Take and Place actions.  

    - The first line, with **Take** in the **Action Type** field, indicates where the items are located in the picking area. If you're shipping a large number of items on one shipment line, you might have to pick the items in several bins, so there's a Take line for each bin.
    - The next line, with **Place** in the **Action Type** field, shows where you must place the items in the warehouse. You can't change the zone and bin on this line.

    > [!NOTE]
    > If you must pick or place the items for one line in more than one bin, for example because the designated bin is full, use the **Split Line** action on the **Lines** FastTab. The action creates a line for the remaining quantity to handle.

      You can sort the pick lines by various criteria, for example, by item, shelf number, or due date. Sorting can help optimize the put-away process, for example:

    - If the take and place lines for each shipment line don't immediately follow one another, and you want them to, sort the lines by selecting **Item** in the **Sorting Method** field.  
    - If bin rankings reflect the physical layout of the warehouse, use the **Bin Ranking** sorting method to organize the work by bin locations.

  > [!NOTE]  
  > Lines are sorted in ascending order by the selected criteria. If you sort by document, sorting is done first by document type based on the **Warehouse Activity Source Document** field. If you sort by ship-to, sorting is done first by destination type based on the **Warehouse Destination Type** field.

4. After you pick and place the items in the production, assembly or project area or bin, choose the **Register Pick** action.  

    You can now bring the items to the respective area and post the usage or consumption of the picked components by posting consumption journal, assembly order, or project journal. The following articles provide more information:

    - [Register Consumption and Output for One Released Production order line](production-how-to-register-consumption-and-output.md)
    - [Assemble Items](assembly-how-to-assemble-items.md)
    - [Record Consumption or Usage for Projects](projects-how-record-job-usage.md)

## Flushing production components in an advanced warehouse configuration

Flushing methods affect the flow of components in production. Learn more at [Flush Components According to Operation Output](production-how-to-flush-components-according-to-operation-output.md). Depending on the selected flushing method, you can pick components for production om the following ways:

* Use a **Warehouse Pick** document to record the pick for items that use the **Pick + Manual** flushing method. You need to register consumption separately. Learn more at [Batch Post Production Consumption](production-how-to-post-consumption.md).
* Use a **Warehouse Pick** document to record the pick for items that use the **Pick + Forward**, **Pick + Backward** flushing method. Consumption of the components happens automatically either when you change the status of the production order or by starting or ending an operation. All required components must be available. Otherwise, posting flushed consumption stop for that component.
* Use a **Warehouse Movement** document without a reference to a source document or other ways to record the movement of components that use the **Forward** or **Backward** flushing method. Components are automatically consumed either when you change of status of the production order or start or end an operation. All required components must be available. Otherwise, posting flushed consumption stops for that component. Learn more at [Move Items](warehouse-move-items.md).
* Use a **Warehouse Movement** document without a reference to a source document or other ways to record the movement of components that use the Manual flushing method. You need to register consumption separately. For example, skipping the pick might be useful for components which, due to their nature, you store in the shop floor zone so there's no need to pick. However, you might still have to manually post consumption, for example, because the consumed quantity can vary or require item tracking. To learn more, go to [Flushing methods](production-how-to-flush-components-according-to-operation-output.md#flushing-methods).

### Example

You have a production order for 15 PCS of item SP-SCM1004. Some of the items on the component list must be flushed manually in a consumption journal. Other items can be picked and flushed automatically using the **Pick + Backward** flushing method.  

The following steps describe the actions that different people take and the related response:  

1. The shop floor supervisor releases the production order. Items with **Forward** flushing method and no routing link are deducted from the open shop floor bin.  
2. The shop floor supervisor chooses the **Create Warehouse Pick** action on the production order. A warehouse pick document is created pick for items with **Manual**, **Pick + Backward**, and **Pick + Forward** flushing methods. These items are placed in the To-Production bin.  
3. The warehouse manager assigns the picks to a warehouse employee.  
4. The warehouse employee picks the items from the appropriate bins and places them in the To-Production bin or in the bin specified on the warehouse pick. The bin might be a work center or machine center bin.
5. The warehouse employee registers the pick. The quantity is transferred from the pick bin to the consumption bin. The **Qty. Picked** field on the component list for all picked items is updated.

    > [!NOTE]  
    > Only the quantity picked can be consumed.  
6. The machine operator informs the production manager that the end items are finished.
7. The shop floor supervisor uses the consumption journal or production journal to post the consumption of component items that use either **Manual** flushing method.
8. The shop floor supervisor uses the output journal or production journal to post the output. The quantity of component items that use **Pick + Forward** or **Pick + Backward** flushing methods with routing links is deducted from the To-Production bin.
9. The production manager changes the status of the production order to **Finished**. The quantity of component items that use **Backward** flushing method is deducted from the open shop floor bin, and the quantity of component items that use **Pick + Backward** flushing method and no routing link is deducted from the To-Production bin.  

The following illustration shows when the **Bin Code** field on the component list is filled according to your location or machine/work center setup.  

:::image type="content" source="media/binflow.png" alt-text="Overview of when and how the Bin Code field is filled in.":::

## Make-to-Order (MTO) production components in an advanced warehouse configuration

In scenarios where a produced item consists of raw materials and semi-finished items with the manufacturing policy set to **Make-to-order**, the warehouse pick for those semi-finished components is added to the same production order with the **Planning Level Code** field filled in. It's expected that the semi-finished items are available for consumption immediately and won't require pick so they aren't included in the warehouse pick document. The created warehouse picks only include raw materials for produced item and for semi-finished items.

However, if semi-finished items are available on stock, the planning system suggests that you consume those instead of producing the whole quantity. For example, a produced item requires five semi-finished components, but three are already in stock. In this case, five semi-finished items are listed in the production order components, but only two are produced in the same production order as a separate production order line.
Such a setup isn't compatible with warehouse picks and, depending on frequency, you must either change the manufacturing policy for such semi-finished items to **Make-to-stock** or manually split the production order component line when you need to pick the semi-finished items produced earlier.

## Related information

[Manage Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/value-chain-howto-purchase
---
title: Sustainability value chain in purchasing
description: Learn about understanding how value chain process starts with the purchase process.
author: altotovi
ms.topic: article
ms.devlang: al
ms.search.keywords: Sustainability, scope 3, emission, GHG, CSRD, carbon, CO2, value chain
ms.search.form: 50, 51
ms.date: 01/22/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Sustainability value chain in purchasing

The requirement for enabling the us of the sustainability value chain in the purchase process is to enable the following fields on the **Sustainability Setup** page:

- **Enable Value Chain tracking** to enable value chain capabilities in all processes.  
- **Use Emissions In Purchase Documents** to enable emission fields in the purchase document lines.

To do so, follow next steps:

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Setup**, and then select the related link.
2. Check whether the basic setup already exists. If it doesn't, follow [these instructions](finance-sustainability-setup.md) to set it up.  
3. On the **Procurement** FastTab, fill in the fields that are related to the sustainability value chain features.  
   1. Select the **Use Emissions In Purchase Documents** field.
   2. Select the **Enable Value Chain tracking** field.
4. Close the page.

## Work with purchase documents

To learn how to work with purchase documents in sustainability, go to [How to record emissions with purchase documents](finance-sustainability-journal.md#purchase-documents).  

If you enabled the value chain on the **Sustainability Setup** page, and created a purchase document with the **Sustainability Accounts** and emissions (minimum one emission), [!INCLUDE [prod_short](includes/prod_short.md)] automatically starts the sustainability value chain and posts details to the **Sustainability Value Entries** page.  

> [!NOTE]
> [!INCLUDE [prod_short](includes/prod_short.md)] only creates sustainability value entries for items. [!INCLUDE [prod_short](includes/prod_short.md)] doesn't support emissions from item charges.

> [!IMPORTANT]
> Because the sustainability value chain works only with the carbon equivalent (CO2e), before you start, configure carbon equivalent factors on the Emission Fees page. To learn more, go to [Emission fees](value-chain-howto-setup.md#emission-fees).  

After you post the purchase documents, the results display on the **Posted Purchase Invoice** or **Posted Purchase Credit Memo** pages. To review the results, use the **Find entries** action. In the list of entries, find the sustainability value entry. To open a list of value chain transactions related to your purchase documents, select the entry.  

When you post the document, [!INCLUDE [prod_short](includes/prod_short.md)] also updates the **CO2e per Unit** field for all items in your purchase document. If the purchase document was the first for this item, [!INCLUDE [prod_short](includes/prod_short.md)] uses the value from document. If you already had documents, [!INCLUDE [prod_short](includes/prod_short.md)] uses the average model to calculate the **CO2e per Unit** value for your item.

## Related information

[Sustainability Value Chain Overview](value-chain-howto-overview.md)  
[Sustainability Management overview](finance-manage-sustainability.md)  
[Sustainability setup](finance-sustainability-setup.md)  
[Record sustainability entries](finance-sustainability-journal.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-how-setup-opportunity-sales-cycles-stages
---
title: Set Up Opportunity Sales Cycles and Cycle Stages
description: Describes how to define sales stages, from initial contact to closing, to create a sales cycle and assign it to opportunities in Business Central.
author: brentholtorf

ms.topic: how-to
ms.devlang: al
ms.search.keywords: relationship, prospect
ms.search.forms: 5122, 5121, 5120, 5175, 5119, 5098, 5096
ms.date: 05/27/2022
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Set Up Opportunity Sales Cycles and Cycle Stages

Before you start using sales opportunities, you must set up sales cycles and sales cycle stages. A sales cycle is made up of a series of stages that go from the initial contact to the closing of a sale. For each stage, you define any requirements that must be met, such as requiring a sales quote, before an opportunity can go to the next stage. You can also specify whether a stage can be skipped. You can set up as many sales cycles as you need. You can set up as many sales cycle stages as necessary within a sales cycle.

To use opportunity sales cycles, you must set up the sales cycle, define the different stages of the cycle, and then assign the cycle to opportunities. Assigning the relevant activity or tasks to the opportunity may also be part of setting up a sales cycle.

This article also describes how to set up tasks and activities, and how to assign tasks to activities. For more information, see [To set up activities with tasks](marketing-how-setup-opportunity-sales-cycles-stages.md#to-set-up-activities-with-tasks).

## To set up opportunity sales cycle codes

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Cycles**, and then choose the related link. The **Sales Cycles** page opens, and lists all the existing sales cycles.
2. Choose the **New** action, and fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

Repeat these steps to set up as many sales cycles as you want. After you have set up opportunity sales cycles, you may want to set up the different stages within each cycle.

## To define opportunity sales cycle stages

1. On the **Sales Cycles** page, select the opportunity sales cycle for which you want to set up stages, and then choose the **Stages** action. The **Sales Cycle Stages** page opens.
2. Choose the **New** action to enter a new stage in the sales cycle.

Repeat these steps to set up as many stages as you want within the sales cycle.

## To assign stage cycles to opportunities

After you add the opportunities stage cycle, you can start to add sales opportunities, and then assign the stage cycle to opportunities by setting the **Sales Cycle Code** field. For more information, see [Create Sales Opportunities](marketing-how-create-opportunities.md).

## To set up activities with tasks

You can combine multiple tasks, such as tasks that each represent a step, in activities. Activity tasks are related to each other by a date formula. You can assign activities to opportunities, salespeople, or contacts.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Activities**, and then choose the related link.
2. Choose the **New** action, and fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
3. On the **Lines** FastTab, fill in the fields as necessary to define one or more tasks in the activity.

## To assign tasks or activities of tasks to opportunities

When you have set up a task, you can assign it to a sales opportunity and thereby assign the activity that the task belongs to.

> [!NOTE]
> You cannot create tasks of type *Meeting* in [!INCLUDE [prod_short](includes/prod_short.md)] online. The capability requires access to an on-premises deployment.

The following procedure describes how to assign activity tasks to opportunities. The steps are similar when you assign tasks to salespeople and contacts.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Opportunities**, and then choose the related link.
2. Select an opportunity, and then choose the **Tasks** action.
3. On the **Task List** page, choose the **Create Task** action.
4. The **Create Task** page, fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

    > [!TIP]
    > As you can see in the **Opportunity** field, the task is automatically assigned to the relevant opportunity.
5. Choose the **OK** button.
6. On the **Task List** page, select the new task, and then choose the **Assign Activities** action.
7. On the **Assign Activity** page, fill in the fields as necessary, and then choose the **OK** button.

## Related information

[Processing Sales Opportunities](marketing-processing-sales-opportunities.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-teams-troubleshooting
---
title: Troubleshooting Microsoft Teams Integration
description: Learn about what you can do as an administrator to control Microsoft Teams integration and fix problems.
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: Teams, MS Teams, Microsoft Teams, Skype, Link, Microsoft 365, collaborate, collaboration, teamwork, troubleshooting, errors
ms.date: 01/06/2025
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Troubleshoot Microsoft Teams Integration with [!INCLUDE [prod_short](includes/prod_short.md)]

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

[!INCLUDE [online_only](includes/online_only.md)]

This article provides information on how to identify and fix problems you might experience when using Microsoft Teams with [!INCLUDE [prod_short](includes/prod_short.md)], as a typical user or administrator.

## The sign-in link doesn't work

If you try to sign in to the [!INCLUDE [prod_short.md](includes/prod_short.md)] app for Teams immediately after installing the app, and the sign-in link doesn't react, the app might not be fully installed. To try to fix the issue, sign out of your Teams client and then sign in again.

## The Settings page is empty

You must first sign in to reach your settings. To sign into the app, either paste a link to a [!INCLUDE [prod_short.md](includes/prod_short.md)] record, or try to search for contacts. Both of these actions will lead you through a sign-up experience, after which you can use the **Settings** page.

## I changed company but it didn't seem to work

After you change the company on the **Settings** page, you might notice that the command box drop-down indicates you're still searching the previous company. This issue happens when you open the **Settings** page directly from the command box. In this case, the company was successfully changed, and you'll in fact search the company you switched to. The problem is that the command box drop-down hasn't updated yet. Close or unpin [!INCLUDE [prod_short.md](includes/prod_short.md)] from the command box, and then open the app again to ensure that the drop-down accurately reflects the company you're searching for. 

## "Something went wrong" error when searching for contacts

You might experience this error when you search in a company that isn't initialized or is in an unresponsive state. For example, you can't search in a new trial company that hasn't yet accepted the terms of use. To resolve this issue, try to sign in to the [!INCLUDE [prod_short.md](includes/prod_short.md)] Web client, and act on or dismiss any initial dialogs that appear.

## "Cannot find the contact/contact summary API" error when searching for contacts

This problem can be caused by customizations or industry solutions that affect or modify [!INCLUDE [prod_short.md](includes/prod_short.md)], or they don't provide a contact or contact summary API. If the problem continues, contact your administrator or supporting partner.

## None of my links expand into a card 

If you're experiencing this problem, here are a few things to try:

1. First, make sure that the [!INCLUDE [prod_short](includes/prod_short.md)] app for Teams is installed.

    To check, sign in to the Teams desktop app or Teams in the browser. Then, on the left side, select **Apps**, and search for **[!INCLUDE [prod_short](includes/prod_short.md)]**. When you find the **[!INCLUDE [prod_short](includes/prod_short.md)]** app, select it to open the app details page. If the **Add** button is shown, then the [!INCLUDE [prod_short](includes/prod_short.md)] app isn't installed. Learn more in [Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams](across-install-app-for-teams.md).

    > [!NOTE]
    > Guest users can't immediately install apps. Learn more in [FAQ about collaborating with guests](teams-faq.md?tabs=collaborating#language). 

2. Next, check that you've signed in with the correct identity.

    In Teams, go to any chat, and under the message compose box, right-click the [!INCLUDE [prod_short](includes/prod_short.md)] icon, then choose **Settings**. The window that appears states the user account that you’re signed in as. Verify that it’s the correct user account.

3. Make sure codeunit 2718 **Page Summary Provider** is published as a web service.

    Teams connects to [!INCLUDE [prod_short](includes/prod_short.md)] using an endpoint to this codeunit on the [!INCLUDE [prod_short](includes/prod_short.md)] service. Learn more in [Publish a Web Service](across-how-publish-web-service.md).

4. Your organization can also restrict you from pasting links that expand into cards. Contact your administrator to understand the Teams organizational policies that apply to you.

## My link sometimes doesn’t expand into a card 

A link won't expand into a card in the following situations:

- The link targets a page that (at a technical level) isn't connected to a source table in [!INCLUDE [prod_short](includes/prod_short.md)]. You can check whether a page has a source table by using the page inspection pane in the Web client in [!INCLUDE [prod_short](includes/prod_short.md)]. Learn more about page inspection Learn more in [Inspecting Pages](across-inspect-page.md).
- Teams doesn't support link previews in some of its features. For example, when you pop out a chat, or you're a guest to another organization.
- Network issues cause Teams to silently abandon trying to display the card after 15 seconds, for example.
- Teams might not expand the link if you've already pasted a link into the same message compose box and deleted the card.
- When using Teams in some browsers such as Google Chrome or Mozilla Firefox, the link isn't automatically detected as soon as you paste it into the compose box. You might need to add a space after the link or press <kbd>Enter</kbd> for Teams to recognize the link and expand it into a card.

The link must also contain all the necessary information to locate the record and display the corresponding card. This information includes:

- The environment name, by including it in the URL path. If you don't specify the environment name, Teams assumes you're attempting to reach the environment named "Production".
- The company name, by using the *company=* parameter
- The page identifier, by using the *page=* parameter
- The bookmark to the record, by using the *bookmark=* parameter

For example:

`https://businesscentral.dynamics.com/?environmentname=Production&company=CRONUS%20USA%2C%20Inc.&page=21&dc=0&bookmark=21%3bEgAAAAJ7BTEAMAAwADAAMA%3d%3d`

Learn more about [!INCLUDE [prod_short](includes/prod_short.md)] URLs in [Web Client URL](/dynamics365/business-central/dev-itpro/developer/devenv-web-client-urls) in the [!INCLUDE [prod_short](includes/prod_short.md)] Developer and IT Pro Help.

## The details window opens, but shows an error before details are shown

This problem can be caused by a couple of things: lack of permissions in [!INCLUDE [prod_short](includes/prod_short.md)] or browser settings (when using Teams in the browser).

1. Verify your permissions in [!INCLUDE [prod_short](includes/prod_short.md)].

    To view details for a card, [!INCLUDE [prod_short](includes/prod_short.md)] checks your license and permissions to view that specific record and page in the specific company and environment. If you aren't authorized for any of these things, standard [!INCLUDE [prod_short](includes/prod_short.md)] error messages about permissions appear in the details window. 

    Learn more in [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

2. Check your browser settings if using Teams in the browser.

    - Your browser's pop-up blocker must be either turned off or set to allow pop-ups from the *businesscentral.dynamics.com* or *bc.dynamics.com* domains. Learn more in about allowing pop-ups for [!INCLUDE [prod_short](includes/prod_short.md)] in [Setting Up Your Browser](across-browser-settings.md#popup).
    - Your browser must have access to local browser storage for cookies and preferences as you work.
    - Avoid using guest or private browsing unless necessary, because they discard or block certain content in some browsers.

   Learn more about minimum browser requirements in [Minimum Requirements for Using [!INCLUDE [prod_short](includes/prod_short.md)]](product-requirements.md#browsers).

## I'm having problems with the camera or location in Teams

When using [!INCLUDE [prod_short](includes/prod_short.md)] features in the details window that require access to your location or device camera, you must first give your consent for Teams to access these device capabilities.  

- For Teams in the browser, make sure that your browser settings allow access to camera and location for [https://teams.microsoft.com](https://teams.microsoft.com).

- For Teams for iOS or Android, make sure that your device settings allow access to camera and location for the Teams mobile app. 

Learn more about changing these settings at [My camera isn't working in Teams](https://support.microsoft.com/office/my-camera-isn-t-working-in-teams-9581983b-c6f9-40e3-b0d8-122857972ade?ns=msftteams&version=16&ui=en-us&rs=en-us&ad=us) on Microsoft Support.

The [!INCLUDE [prod_short](includes/prod_short.md)] app doesn't support location in the Teams desktop app. Learn more in [Teams FAQ](teams-faq.md#location).

Some browsers, such as the new Microsoft Edge, allow you to choose which device camera to use when your device supports multiple cameras. 

## Teams displays mixed languages for my cards and card details

For cards and card details to display consistently in the same language in Teams, the language of your Teams client and the language you use in [!INCLUDE [prod_short](includes/prod_short.md)] Web client must match.

- Learn more about changing the language in Teams in [Change settings in Teams](https://support.microsoft.com/en-us/office/change-settings-in-teams-b506e8f1-1a96-4cf1-8c6b-b6ed4f424bc7) on Microsoft Support. 

- Learn more about changing the language in [!INCLUDE [prod_short](includes/prod_short.md)] [Change Basic Settings - Language](ui-change-basic-settings.md#language).

Learn more about how languages work between Teams and [!INCLUDE [prod_short](includes/prod_short.md)] in [Teams FAQ](teams-faq.md#language).

## I edited a field in the details window, but my change wasn't saved

Changes you make to a field in the details windows are automatically saved when you leave the field. Before you close the window after changing a field, be sure to select the <kbd>Tab</kbd> key or click/tap outside the field.

## A new tile appeared in the App Launcher. How do I remove it?

When you view your apps on the Office 365 home page (https://home.office.com) or in the app launcher, a new tile named "Business Central Teams Integration Service Connector" will appear after installing the [!INCLUDE [prod_short](includes/prod_short.md)] app for Teams. This tile provides no value in itself and can be safely hidden.

As an administrator, who has Microsoft Entra admin permissions, you can hide the tile by doing the following steps:

1. Sign in to the [Microsoft Entra admin center](https://entra.microsoft.com/).
2. Select **Enterprise apps**, then select **Business Central Teams Integration Service Connector**.
3. Select **Properties**, then set the **Visible To Users** switch to **No**.
4. Select **Save**.

> [!NOTE]
> It will be a while before this change takes effect.

## Duplicate text in the Share to Teams window

When you paste text into the message box in the **Share to Teams** window, the text is duplicated. This problem is known to Microsoft and will be addressed in a later update. 

## Unable to sign in to the Share to Teams window 

This problem can be caused by a various reasons. For example, the identity you are using to sign in must have access to Microsoft Teams, such as through a Microsoft 365 subscription.

## Can't pin a card to tab

Pinning is no longer available in Microsoft Teams.

## Someone added a tab, but the tab doesn’t show up for me

This problem is because you don’t have the BC app for Teams installed. Only those with the app installed will see Business Central tabs.

## Others see a different sorting or column layout than what the tab author sees

This problem is likely because you shared a list view that is a personal view. In this case, work with your administrator to create either role-specific list views that covers the different roles in the channel/chat, or create this view for the whole organization so that everyone can get a consistent view.

## Related information

[[!INCLUDE [prod_short](includes/prod_short.md)] and Microsoft Teams Integration Overview](across-teams-overview.md)  
[Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams](across-install-app-for-teams.md)  
[Searching for Customers, Vendors, and Other Contacts from Microsoft Teams](across-search-contacts-teams.md)  
[Share Records in Microsoft Teams](across-working-with-teams.md)  
[Teams FAQ](teams-faq.md)  
[Changing Company and Other Settings in Teams](across-teams-settings.md)  
[Developing for Teams Integration](/dynamics365/business-central/dev-itpro/developer/devenv-develop-for-teams)  

## [!INCLUDE[d365fin](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-merge-duplicate-records
---
title: Merge duplicate customer or vendor records
description: Describes how to consolidate information about customers or vendors when you have duplicate entries about some of them.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: client
ms.date: 06/13/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Merge duplicate records

Over time, as different people create new customers, vendors, or contacts, or you create new records during data migration, there's a risk that you duplicate records. If you find a duplicate, you can use the **Merge Duplicate** page from the card of the record that you want to keep. The page gives you an overview of duplicated field values and lets you select which values to keep or discard when you merge two records into one.

> [!NOTE]
> Only users with the MERGE DUPLICATES permission set can use this functionality.

> [!TIP]
> The **Merge Duplicate** page shows all fields where the values are different for the two records being compared. Therefore, if the page shows only a few fields, it might indicate a duplicate. If the page shows many fields, the record probably isn't a duplicate.

The following procedure is based on a customer card. The steps are similar for a vendor and contact cards.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.
2. Select the customer that you know or suspect that a duplicate record exists for, and then choose the **Edit** action.
3. On the **Customer Card** page, choose the **Merge With** action.
4. On the **Merge Duplicate** page, in the **Merge With** field, select the customer that you believe is a duplicate of the one you opened, which shows in the **Current** field.

    The **Fields** FastTab lists fields where the values are different for the two customers. This means that if the selected customer is really a duplicate, then only few fields should be listed, such as typing errors and other data entry mistakes.

    The **Related Tables** FastTab lists tables where there are fields with a relation to both customers. The **Current Count** and **Duplicate Count** fields show the number of fields in related tables where the **No.** value of both the current and the duplicate customer is used. On the **Merge Duplicate** page, this section is informational only. However, if there are merge conflicts, you can resolve them on the **Merge Duplicate Conflicts** page. Refer to steps 8 through 12.

5. For each field where you want to use another value than the current one, select the **Override** checkbox. The value in the **Alternate Value** field transfers to the current record when you complete the process.
6. After you specify the values to keep or override, choose the **Merge** action.

    [!INCLUDE [prod_short](includes/prod_short.md)] checks whether the merge of values for the duplicate customer into the current customer causes conflicts. A conflict exists if a value in at least one primary-key field is the same for both customers while the value in the **No** field is different for the two customers.

7. If no conflicts are found, choose the **Yes** button in the confirmation message.

    The duplicate customer is renamed so that all use of its **No.** value in all fields with relations to the customer table are replaced with the **No.** value of the current customer.
8. If conflicts exist, choose the **Resolve (xx) conflicts before merge** action on the **Conflicts** FastTab, which displays if conflicts exist.
9. On the **Merge Duplicate Conflicts** page, select the line for a related table with a conflict, and then choose the **View Details** action.

    The **Merge Duplicate** page now shows the fields in the selected table that cause a merge conflict between the two customer records. Notice in both the summarized values in the **Current** and **Conflicts With** fields and on the lines that at least one primary-key field is the same for both customers and the value of the **No.** field is different for the two customers.   
10. If you don't want to keep the duplicate customer record, choose the **Remove Duplicate** action, and then choose the **Close** button.

    Identical field values, other than the value in the **No.** field, are removed from the duplicate record and inserted on the current record.
11. If you want to keep the duplicate customer record after the merge,  choose the **Rename Duplicate**.
12. On lines, not for the **No.** field, where the field has the same value on both records, change the value in the **Alternate Value** field, and then choose the **Close** button.

    The conflicting field value is updated on the duplicate record so that it can be merged with the current record. The duplicate record continues to exist after the merge.
13. Repeat steps 8 through 12 until all conflicts are resolved. The **Conflicts** FastTab disappears.
14. On the **Merge Duplicate** page, choose the **Merge** action again, and then select the **Yes** button in the confirmation message box.

> [!NOTE]
> For contacts, you can use functionality to find duplicate contacts before you use the **Merge Duplicate** page. For more information, see [Search for duplicate contacts](marketing-setup-contacts.md#search-for-duplicate-contacts).

## Related information

[Sales](sales-manage-sales.md)  
[Set Up Contacts](marketing-setup-contacts.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-how-use-time-sheets
---
title: Use time sheets
description: Learn how to create, submit, approve, and post time sheets for resources, projects, and services.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: project management, capacity, staff, resource, time sheets
ms.search.form: 950, 951, 973
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Use time sheets

This article describes how to use time sheets to track absence, and to track time and resources that are spent on a project. Tracking time helps you identify issues early and avoid delays or cost overruns. Time sheets make it easy for a resource to report time usage for an individual or a machine so that managers can review the usage and its allocation.

You can copy and use your project planning lines in a time sheet. In that way, you must only enter the information in one place and the line information is always correct. To learn more, go to [To copy project planning lines to a time sheet](#copy-project-planning-lines-to-a-time-sheet).

After you approve time sheet entries for a project, you can post them to the relevant project journal or resource journal. To learn more, go to [To post time sheet lines in a project journal](#post-time-sheet-lines-in-a-project-journal) and [To post time sheet lines in a resource journal](#post-time-sheet-lines-in-a-resource-journal).

Before you can use time sheets, you must set up general information and specify an administrator and one or more approvers of time sheets. To learn more about setting up time sheets, go to [Set Up Time Sheets](projects-how-setup-time-sheets.md).  

> [!TIP]
> You can use time sheets on a mobile device. To do that, you might have to turn on the **Use New Time Sheet Experience** toggle on the [Resources Setup](https://businesscentral.dynamics.com/?page=462) page.

## Create time sheets

You can use the **Create Time Sheets** page to set up time sheets for a specified number of time periods or weeks. Then, the time sheet owner can open it and record time spent on a task. You can also [schedule the batch job to run automatically](ui-work-report.md#ScheduleReport).  

> [!IMPORTANT]
> You must have permissions to create time sheets. To learn more about permissions, go to [Set Up Time Sheets](projects-how-setup-time-sheets.md).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Create Time Sheets**, and then choose the related link.

    > [!TIP]
    > You can also use the **Create Time Sheets** action on the **Resources** list page and the **Resource Card** page.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!NOTE]  
    > Before you create time sheets for a resource, make sure that the **Use Time Sheet** and **Time Sheet Owner User ID** fields are specified for them on the **Resource Card** page.

    Optionally, choose the **Schedule** action to specify how often to automatically run the task. For example, to configure the task to run weekly for four weeks, on the **Schedule a Report - Create Time Sheets** page, in the **Next Run Date Formula** field, enter **4W**. To learn more about how to schedule reports, go to [Scheduling a Report to Run](ui-work-report.md#ScheduleReport).  

You can view the time sheets that you create on the **Time Sheets** page. Each time sheet consists of one or more lines that define the time that you want to submit for approval. The following table describes the types of lines that you can add to the time sheet.

| **Field** | **Description** |
|---|---|
| | Use to add a note or marker in the **Description** field of the time sheet line. For example, you can use this field to categorize time sheet entries. If you leave the **Type** field empty for a time sheet line, you can't enter time values in the weekday fields for that line. |
| Absence | Use to register the time you're absent during a work week. To complete the information for the line, specify the type of absence in the **Cause of Absence Code** field. |
| Assembly Order | Used to register time for assembly orders. A time sheet line of this type is created while posting assembly order lines for which the resource is set up to use time sheets. You can't manually select a line of this type. |
| Project | Use to register time usage for a project. To complete the information for the line, specify the project number and the project task number for which you want to register time. You can register time for lines that aren't scheduled.|
| Resource | Use to register time usage for a resource. To complete the information for the line, provide a description of the work. |
| Service | Use to register time usage for a service order or service credit memo. |

For example, you want to submit a time sheet for a week where you did cleaning tasks and had a day off for a medical appointment. The following table shows how you would add lines to the time sheet.

| Type | Description | Work Type Code | Absence Type Code |
|--|--|--|--|
| Resource | Work hours | Cleaning |  |
| Absence | Time off |  | Health |
|  | I had to take off Tuesday due to a medical appointment. |  |  |

In this example, you can then register the hours across the relevant days for each workday.  

> [!TIP]
> In most cases, companies have predefined work types for the various types of lines. You just choose the relevant work type from the list, and then add a description.  
>
> Choose the work type by choosing:
>
> * The :::image type="icon" source="media/assist-edit-icon.png" border="false"::: button in the **Description** field, or by selecting the field and pressing **F8**.
> * The **Activity Details** action and then specifying it in the page that opens.
> * The **Work Type Code** field or the **Absence Type Code** field, respectively. In this case, you can ignore the [To define work types and add one to a time sheet](#define-work-types-and-add-one-to-a-time-sheet) section.  

## Reuse time sheet lines in other time sheets

If your time sheet information remains the same from time period to time period, copy the lines from the previous time period to save time. Then, just enter your time usage for the new period.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Time Sheets**, and then choose the related link.  
2. Open the time sheet for a period later than the period for an existing time sheet with lines.  
3. Use the following actions to specify what to copy:

   * To copy only the lines, choose the **Copy lines from time sheet** action.
   * To copy the lines and comments, choose **Copy lines from time sheet with comments** action.

The lines are copied, including details such as type and description. For example, if the line is related to a project, the **Project No.** is copied. All copied lines have the status **Open**. You can modify the lines as needed.

## Copy project planning lines to a time sheet

The following procedure describes how to quickly add project planning lines to a time sheet.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Time Sheets**, and then choose the related link.  
2. On the **Time Sheets** page, select a time sheet for the relevant time period.  
3. Choose the **Create lines from project planning** action. Any project planning lines in the time sheet time period are copied to the time sheet for the person or machine in the **Resource No.** field on the time sheet.

## Define work types and add one to a time sheet

You can define the work type for all-time sheet lines for service orders, project orders, and resources. In this way, you can add information that you need to bill the customer for different types of work.  

1. On the **Time Sheets** page, choose the relevant time sheet.
2. On the first of the lines in the **Lines** section, choose the **Type** field, and then choose the relevant type, such as *Resource*.  
3. Choose the **Description** field, and then, in the **Time Sheet Line Resource Detail** page, fill in the fields. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]  
    1. If no work types exist, choose the **New** action.
    2. On the **Work Types** page, fill in the fields as necessary, and then return to the time sheet.
4. Fill in the rest of the time sheet. Learn more in the [To fill in time sheet lines and submit for approval](#fill-in-time-sheet-lines-and-submit-for-approval) section.  

> [!TIP]
> You can follow similar steps to define absence codes.

## Fill in time sheet lines and submit for approval

Time sheet registration is tracked in hours, the standard base unit of measure for resources. By default, a time sheet shows the common work days of Monday through Friday.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Time Sheets**, and then choose the related link.  
2. Select a time sheet for the relevant period.
3. Fill in the fields on a line as necessary. Enter the number of hours used by the resource on each day of the week.  

    In most cases, to track work, you add a line of type **Resource**, and then register hours spent each day. If you want to register absence, add a line of type **Absence**.  

    > [!TIP]  
    > You can review the sum of time sheet hours entered in the **Actual/Budgeted Summary** FactBox.  
4. Repeat step 3 for other work types that the resource performs.  

    Next, decide whether to submit all, or selected, lines on the time sheet.  

    * To submit the time sheet for one or more lines, choose the relevant line, and then choose the **Submit** action.

        On the submission page, choose the **Selected lines only** option. The state of the line changes from **Open** to **Submitted**.
    * To submit the time sheet for all open lines, choose the **Submit** action at the top of the **Time Sheet** page.  

        Confirm that you want to submit all open lines on the current time sheet.  

    > [!NOTE]  
    > You can only submit time sheet lines for which you entered time.  
5. To modify information on a line that is set to **Submitted**, select the line, and then choose the **Reopen** action.

    > [!NOTE]  
    > A manager might reject a time sheet line that is submitted for approval. If a line has the status **Rejected**, you can make changes to the line, and then choose **Submit** again.  
6. Choose the **OK** button.

## Approve or reject a time sheet

A time sheet must be submitted for approval before it can be used. You can approve and reject individual lines on a time sheet or send them back to the submitter. You approve a time sheet in two ways:

* A time sheet administrator can approve any time sheet.
* The person who is specified in the **Time Sheet Approver User ID** field on a resource card can approve that resource's time sheets. To learn more about setting up approval, go to [Set Up Time Sheets](projects-how-setup-time-sheets.md).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Manager Time Sheets**, and then choose the related link.
2. Select a time sheet from the list.  
3. On the **Time Sheet** page:
    1. Choose the **Process** action, then choose the **Approve** action.
    2. Choose the **All submitted lines** action to approve all lines or the **Selected lines only** action to approve only the lines that are selected on the **Time Sheet** page.
4. Choose the **OK** button.  
5. Alternatively, choose the **Reject** action.  

> [!TIP]  
> Use the **Time Sheet Status** and **Actual/Budgeted Summary** FactBoxes to get an overview of time sheet information.

After you approve or reject a time sheet, if you want to update it you must reopen it. The following procedure explains how to reopen an approved or rejected time sheet.

## Reopen a time sheet

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Manager Time Sheets** or **Time Sheets**, and then choose the related link.
2. Open a time sheet from the list.  

    > [!NOTE]  
    > You can only reopen lines with the status **Approved**. You can't reopen lines with the status **Rejected** or that are posted.  
3. On the **Time Sheet** page, choose the **Reopen** action, and then choose the **All submitted lines** action to reopen all lines, or the **Selected lines only** action to reopen only the lines that are selected on the **Time Sheet** page.
4. Choose the **OK** button. The status of the time sheets line or lines is changes to **Submitted**.  

## View and approve time sheets by project

On a project, you can specify a person who is responsible for the project. That information is linked to time sheet lines. The link gives project managers a list of the time sheets to approve. For example, the team's project manager might be responsible for certain projects in your company. In that case, the manager should be designated as the **Person Responsible** on the Project Card page. This view of time sheet information shows the project tasks associated with a project and the quantity of hours used.

> [!NOTE]
> To approve time sheets on the **Manager Time Sheet by Project** page, you must first select a **Time Sheet by Project Approval** option in the **Resources Setup** page. To learn how to set up approvals for resources, go to [Set Up Resources](projects-how-setup-resources.md).

### Approve or reject a time sheet by project

1. In the **Search** box, enter **Manager Time Sheet by Project**, and then choose the related link. [!INCLUDE[prod_short](includes/prod_short.md)] displays a list of time sheet lines associated with the projects for which you're responsible.
2. Choose the **Approve** action, and then choose the **All submitted lines** action to approve all lines or the **Selected lines only** action to approve only the lines that are selected on the **Time Sheet** page.

    > [!NOTE]
    > You can only approve time sheets with the status of **Submitted**.

3. To provide additional information about the approval or rejection, select the **Related** action, then **Comments**, and then **Line Comments**.
4. Choose the **OK** button.

> [!NOTE]
> After you approve or reject a time sheet line by project, you can't reopen or modify it on the **Time Sheet** page.

## Post time sheet lines in a resource journal

After you approve time sheet entries for a resource, you can post them to the relevant resource journal.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resource Journals**, and then choose the related link.  
2. Choose the **Suggest Lines from Time Sheets** action.  
3. On the **Suggest Res. Jnl. Lines** page, in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)] 
4. Choose the **OK** button. Entries for usage are created in the resource journal, where you can modify the information as needed.  
5. Choose the **Post** action.  
6. To verify the posting, choose the **Ledger Entries** action. The **Resource Ledger Entries** page opens and shows the result of posting the resource journal.

## Post time sheet lines in a project journal

After you approve time sheet entries for a project, you can post them to the project journal.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Project Journals**, and then choose the related link.  
2. Choose the **Suggest Lines from Time Sheets** action.  
3. On the **Suggest Project Jnl. Lines** page, fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)] 
4. Choose the **OK** button. Entries for usage are created in the project journal, where you can modify the information as needed.  

    > [!NOTE]  
    > Information about the work type and whether the work is chargeable is copied from the time sheet line. If needed, you can reduce the quantity of hours and do a partial posting. If you reduce the quantity, the next time you choose the **Suggest Lines From Time Sheets** action, the line will contain the remaining quantity of hours.  
5. Choose the **Post** action.  
6. To verify the posting, choose the **Ledger Entries** action. The **Project Ledger Entries** page opens showing the result of posting the resource journal.

## Archive time sheets

After you post time sheets, you can archive them for future reference. You must post all lines on a time sheet before you can archive it.

> [!NOTE]  
> When you archive a time sheet, [!INCLUDE [prod_short](includes/prod_short.md)] removes it from the lists on the **Time Sheets** and **Manager Time Sheets** pages.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Time Sheets**, and then choose the related link.
2. Select the **Move Time Sheets to Archive** action.  
3. On the **Move Time Sheets to Archive** page, fill in the fields as necessary, and then choose the **OK** button.  
4. To review archived time sheets, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Time Sheet Archives** or **Manager Time Sheet Archives**, and then choose the related link.

## Related information

[Project Management](projects-manage-projects.md)  
[Setting Up Project Management](projects-setup-projects.md)  
[Finance](finance.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Sales](sales-manage-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-accounting
---
title: Accountant experiences in Business Central
description: Learn about the Accountant Role Center and the Company Hub that support internal and external accountants in the client company.
author: brentholtorf
ms.topic: how-to
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 100, 1156, 1157, 1314, 1315, 1316, 9027
ms.date: 06/12/2025
ms.author: bholtorf
ms.reviewer: bholtorf
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Accountant experiences in Business Central

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Any business must do its books and sign off on the accounting. Some businesses employ an external accountant, and others have an accountant on staff. No matter what type of accountant you are, you can use the **Accountant** Role Center as your Home in [!INCLUDE[prod_short](includes/prod_short.md)]. From here, you can access all pages that you need in your work.  

## Accountant Role Center

The Role Center is a dashboard with activity tiles that show you real-time key figures and give you quick access to data. The ribbon at the top of the page gives you access to more actions. For example, to open financial reports and statements in Excel. In the navigation bar at the top, you can quickly switch between the lists you use most often. Here, there are other areas, such as **Posted Documents** with the various types of documents that the company posted.  

If you're new to [!INCLUDE[prod_short](includes/prod_short.md)], select **Product Videos** to watch videos or **Get Started** for a tour of key areas in the Role Center.

## Company Hub

If you work in multiple [!INCLUDE [prod_short](includes/prod_short.md)] companies, use the **Company Hub** page to keep track of work. For more information, see [Manage Work across Multiple Companies in the Company Hub](company-hub.md).  

## <a name="inviteaccountant"></a>Inviting a third-party accountant to your [!INCLUDE[prod_short](includes/prod_short.md)]

If a third-party accountant manages your books and financial reporting, your administrator can invite them to your [!INCLUDE[prod_short](includes/prod_short.md)] so they can work with you on your fiscal data. Both the Premium and Essentials [!INCLUDE[prod_short](includes/prod_short.md)] licenses let you procure up to three **External Accountant** licenses per customer tenant. The licenses are free, but you do need to procure them like you would other licenses. To learn more about licensing, download the [Microsoft Dynamics 365 Business Central Licensing Guide](https://go.microsoft.com/fwlink/?LinkId=866544).

After your accountant can access your [!INCLUDE[prod_short](includes/prod_short.md)], they can use the **Accountant** Role Center for easy access to the pages for their work. They can also use the company hub in their own [!INCLUDE [prod_short](includes/prod_short.md)] to manage their work. Learn more in [Manage Work across Multiple Companies in the Company Hub](company-hub.md).  

> [!Video https://learn-video.azurefd.net/vod/player?id=7ba6427f-cdf0-480d-8c98-b51f65437146]

It's easy to invite your external accountant. In [!INCLUDE [prod_short](includes/prod_short.md)], open the **Users** page, and then select the **Invite external accountant** action. [!INCLUDE [prod_short](includes/prod_short.md)] prepares an email for you. Just add your accountant's work email, and send the invitation.  

> [!Note]  
> This action requires that you set up email in your [!INCLUDE [prod_short](includes/prod_short.md)] to use SMTP. Learn more in [Set Up Email](admin-how-setup-email.md).  

> [!IMPORTANT]  
> The accountant's email address must be a work address based on Microsoft Entra ID. If the accountant uses another type of email, the invitation can't be sent.
>
> This task requires access to managing users and licenses in Microsoft Entra ID. The user who sends this invitation must be assigned at least the [User Administrator](/entra/identity/role-based-access-control/permissions-reference#user-administrator) role in the Microsoft 365 admin center. Learn more in [About admin roles](/microsoft-365/admin/add-users/about-admin-roles) in the Microsoft 365 admin content.  

### Add your accountant to your Microsoft 365 tenant

If your admin or reselling partner prefers not to use the **Invite External Accountant** guide, you can add an external user to the Microsoft Entra tenant used by [!INCLUDE [prod_short](includes/prod_short.md)] and assign them the *External Accountant* license. You can add a user using the Microsoft 365 admin center, Microsoft Entra admin center, or Azure portal. The following procedure uses the Microsoft admin center. Learn about using the Microsoft Entra admin center at [Quickstart: Add a guest user and send an invitation](/azure/active-directory/b2b/b2b-quickstart-add-guest-users-portal).

#### Add your accountant as a guest user

1. Sign in to [Microsoft 365 admin center](https://admin.microsoft.com) as at least a [User Administrator](/entra/identity/role-based-access-control/permissions-reference#user-administrator).
1. In the navigation pane, select **Users**.
1. On the **Users** page, select **New user**, and then **Invite external user**.
1. On the **Invite external user** page, add the accountant's email address and other information about them.  

   Optionally, include a personal welcome message to let the accountant know that you're adding them to your [!INCLUDE[prod_short](includes/prod_short.md)].

1. When you're finished, select **Review + Invite**.
1. Review the information, and then choose **Invite**.

After you send the invitation, the external user receives an email invitation to join your organization. After they accept the invitation, the user account is added as a guest.

Next, assign the guest user a license to [!INCLUDE[prod_short](includes/prod_short.md)].

#### Give your accountant access to your [!INCLUDE[prod_short](includes/prod_short.md)]

1. In the [Microsoft admin center](https://admin.microsoft.com), **Users** > **Guest users**.
1. Select the accountant's guest user account in the list, then select **Manage product licenses** to open the guest user profile pane.
1. Under **Licenses and apps**, select **Dynamics 365 Business Central External Accountant** license.  

   If this license isn't available, contact your reselling partner to add the license to your subscription.

   Specifically for evaluation purposes in a trial tenant, you can use an available **Dynamics 365 Business Central for IWs** license instead. However, you can't use this type of license if you already purchased [!INCLUDE[prod_short](includes/prod_short.md)].
1. Select **Save changes**.

If successful, the license is assigned to the guest user, and the guest account is created.

### Import the new user into [!INCLUDE[prod_short](includes/prod_short.md)]

The accountant receives an email notifying them that they have access to your Microsoft Entra ID. Next, give them access to the correct company in [!INCLUDE[prod_short](includes/prod_short.md)].

#### Add the accountant to the correct company

1. Sign in to [Business Central](https://businesscentral.dynamics.com).
1. Open company that you want to give the accountant access to. Learn more in [Switching to Another Company or Environment](ui-organization-switch.md).
1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then select the related link.  
1. Select the **Get New Users from Microsoft 365** action.

This action imports the user account that you created in the Azure portal to the company. Learn more in [To add a user in Business Central](ui-how-users-permissions.md#adduser).  

If you want to give access to multiple companies, then you must sign in to each company and repeat this process. Alternatively, you can update the permission groups for the accountant's user profile in [!INCLUDE[prod_short](includes/prod_short.md)], such as assigning them the *D365 Bus Premium* user group. Learn more in [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).  

### Inform your external accountant how to sign in to Business Central

Unlike internal users who access Business Central using the common URL `https://businesscentral.dynamics.com`, guest users must use the fully qualified domain name. The fully qualified domain name has the format `https://businesscentral.dynamics.com/<tenant ID or domain name>`, such as `https://businesscentral.dynamics.com/aaaabbbb-0000-cccc-1111-dddd2222eeee` or `https://businesscentral.dynamics.com/contoso.com`.

Guest users can sign in using two methods. They can open their browser, enter the fully qualified domain name in the address bar, and sign in using their username and password. Alternatively, they can:

1. Enter `https://businesscentral.dynamics.com` in the browser address bar.
1. Select **Sign in options**.
1. Select **Sign in to an organization**.
1. Enter the domain name of your organization, for example `contoso.com`, and then select **Next**.
1. Sign in using their username and password.

Learn more in [B2B collaboration invitation redemption](/entra/external-id/redemption-experience).

## Related information

[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[The General Ledger and the Chart of Accounts](finance-general-ledger.md)  
[Closing Years and Periods](year-close-years-periods.md)  
[Work with Dimensions](finance-dimensions.md)  
[Analyzing Financial Statements in Excel](finance-analyze-excel.md)  
[Manage Work across Multiple Companies in the Company Hub](company-hub.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Setting Up Cash Flow Analysis](finance-setup-cash-flow-analyses.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-setup-edocuments
---
title: Set up e-documents
description: Learn how to set up e-documents functionality.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: electronic document, electronic invoice, e-document, e-invoice
ms.search.form: 359, 360, 6103, 6133
ms.date: 03/18/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Set up e-documents

> [!IMPORTANT]
> The E-Documents core module is a framework. By default, there's no **Service Integration** field. If you find the **Document Format** options by default, remember that they're offered as examples. Localization apps must provide format detail because they're specific to local requirements.

> [!NOTE]
> A standard PEPPOL document format is a global format in the **Document Format** field. Keep in mind that you probably can't use this format as is. It's a W1 format that Microsoft provides to show how to use this feature. We recommend that you test the existing PEPPOL format before you start to use this format.

The first step to configure electronic documents (e-documents) is to set up the E-Documents Service for e-document communication.

## Set up an e-document service

To set up an e-document service, follow these steps.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Document Services**, and then select the related link.
2. Select **New**, and then, on the **E-Document Service** page, on the **General** FastTab, configure the fields as described in the following table.

    | Field | Description |
    |-------|-------------|
    | Code | Select the electronic export setup code. |
    | Description | Enter a brief description of the electronic export setup. |
    | Document Format | The export format of the electronic export setup. By default, there are two options in this field. You can select **PEPPOL BIS 3** as a generic code-based format or **Data Exchange** when you must set up predocuments of specific formats on the **Data Exchange Definition** FastTab.</p> |
    | Service Integration | Select the integration code for the electronic export setup. Currently, the only option is **No integration**. |

3. On the **Importing** FastTab, configure the fields as described in the following table.

    | Field | Description |
    |-------|-------------|
    | Automatic Import | Specify whether documents should be automatically imported from the service. |
    | Automatic processing| Specify whether [!INCLUDE [prod_short](includes/prod_short.md)] uses your e-document setup to automatically create a purchase document based on the received e-document. If you choose **No**, [!INCLUDE [prod_short](includes/prod_short.md)] creates the e-document, but you must review its details before you create the purchase document. |
    | Validate Receiving Company | Specify whether the receiving company information must be validated during import. |
    | Resolve Unit Of Measure | Specify whether to resolve the unit of measure during import. |
    | Lookup Item Reference | Specify whether to search for items by item reference during import. |
    | Lookup Item GTIN | Specify whether to search for items by Global Trade Item Number (GTIN) during import. |
    | Lookup Account Mapping | Specify whether to search for accounts in **Account Mapping** by the incoming text during import. |
    | Validate Line Discount | Specify whether to validate a line discount during import. |
    | Apply Invoice Discount | Specify whether to apply an invoice discount during import. |
    | Verify Totals | Specify whether to verify invoice totals during import. |
    | Create Journal Lines | Specify whether a journal line must be created instead of a purchase document. Select this option when you want to use journals as a destination for your invoices. |
    | General Journal Template Name | Specify the name of the general journal template that's used for journal line creation. This field is applicable when you want to use journals as a destination for your invoices. |
    | General Journal Batch Name | Specify the name of the general journal batch that's used for journal line creation. This field is applicable when you want to use journals as a destination for your invoices. |
    | Batch Start Time | Specify the start time for import jobs. |
    | Minutes between runs | Specify the number of minutes between import job runs. |

4. If you selected **Data Exchange** in the **Document Format** field on the **General** FastTab, on the **Data Exchange Definition** FastTab, fill in the fields as described in the following table.

    | Field | Description |
    |-------|-------------|
    | Document Type | Specify the document type that uses data exchange to import and export the data. Examples include **Sales Invoice**, **Sales Credit memo**, and **Purchase Invoice**. |
    | Import Data Exchange Def. Code | Specify the data exchange code that's used to import the data. Use this field only to receive a document in the purchase process. |
    | Export Data Exchange Def. Code | Specify the data exchange code that's used to export the data. Use this field only to deliver documents in the sales process. |

> [!NOTE]
> There are data exchange definitions for the PEPPOL format that are related to sales and purchase documents. However, you likely can't use these definitions as is. They're all W1 formats that are provided to show how to use this feature. We recommend that you test the existing PEPPOL format before you start to use them.
>
> If you configured the **Data Exchange Definition** format in your localization, you can add a line for the document types that you need. Add lines that match the default data exchange example for the W1 PEPPOL format. However, first select the **Document Type** option for each line that you need. For each data type, select the **Import Data Exchange Def. Code** or **Export Data Exchange Def. Code** value that you want to use.
>
> If you don't use the **Data Exchange Definition** format, you can create and configure formats by using the [interface](/dynamics365/business-central/dev-itpro/developer/devenv-extend-edocuments). Adjust the information on the **Export Mapping** and **Import Mapping** lines, where you can find the tables and fields to configure transformation rules. In this case, you must add a new option for your format in the **Document Format** field.  

5. On the **Exporting** FastTab, fill in the fields as described in the following table:

   |Field  |Description  |
   |---------|---------|
   | Batch Exporting | Specify whether the service uses batch processing to export e-documents. |
   | Embed document PDF to export| Specify whether to embed a PDF version of the e-document in the e-document file when you export.|

   > [!NOTE]
   > The **Embed document PDF to export** option can make life a little easier. When you post a document, [!INCLUDE [prod_short](includes/prod_short.md)] creates a PDF file and embeds it as a PDF attachment in the e-document. The PDF is a human-readable version that's easier to understand than the full XML of the PEPPOL format.

### Supported document types

Support for document types is based on the **Document Format**. To check which document types are supported, on the **E-Document Services** page, choose the **Supported Document Types** action. The **E-Document Service Supported Source Document Types** opens. In the **Source Document Type** column, you can choose different document types for the format you're planning to use. Only use the document type if that document is selected.

## Set up a document sending profile

You can set up a preferred method of sending sales documents for each customer. If you do, you don't have to select a sending option every time you choose the **Post and Send** action. On the **Document Sending Profiles** page, you can set up sending profiles and then select the one to use in the **Document Sending Profile** field on a customer card. You can select the **Default** checkbox to specify that a document sending profile is the profile for all customers for which a profile isn't specified in the **Document Sending Profile** field.

This feature is used to set up electronic invoicing automation. When you choose **Post and Send** on a sales document, the **Post and Send Confirmation** dialog shows the sending profile in use. It's either the profile set up for the customer or the default profile for all customers.

To set up a document sending profile, follow these steps.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Document Sending Profile**, and then select the related link.
2. On the **Document Sending Profiles** page, select **New**.
3. On the **General** FastTab, fill in the required fields.
4. On the **Sending Options** FastTab, fill in the fields as described in the following table.

    | Field | Description |
    |-------|-------------|
    | Electronic Document | Specify whether the document is sent as an e-document that the customer can import into their system when you select **Post and Send**. To use this option, you must also set the **Format** or **Electronic Document Service Flow Code** field. Alternatively, you can save the file to your computer. |
    | Format | Specify the format to use to send an e-document. This field is required if you select **Through Document Exchange** in the **Electronic Document** field. |
    | Electronic Document Service Flow Code | Specify the electronic service flow that's used to send documents. This field is required if you select **Extended E-Document Service Flow** in the **Electronic Document** field. |

    > [!NOTE]
    > If you select **Extended E-Document Service Flow** in the **Electronic Document** field, you must already have the workflow configured for your e-documents.

## Set up the workflow

To set up a workflow for e-documents, follow these steps.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflow Templates**, and then select the related link.
2. If you can't find **E-Document Workflow Templates** on the **Workflow Templates** page, select **Reset Microsoft Templates**. **E-Document Workflow Templates** should then appear. Close the page.
3. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, and then select the related link.
4. Choose the **New Workflow from Template** action to select a template for the e-documents process. The available templates are **Send to one service** and **Send to multiple services**.
5. Select **OK** to finish the workflow setup.
6. In the **Then Response** field, select **Send E-Document using setup** to configure the workflow responses.
7. Select the E-Document Service that you created as an option, choose **OK**, and then enable the workflow.

> [!NOTE]
> You can create your own workflow for e-documents without using predefined workflow templates. If you have more services, you can use different workflows.

To use more workflows, configure them through the document sending profiles for different customers. When you set up the workflow, specify the document sending profile in the **On Condition** column on the **Workflow Steps** FastTab, because you can't have two services that use the same document sending profile in workflows.

When you configure your workflow on the **Workflows** page, point to the **On Condition** field on the **Workflow Steps** FastTab. On the **Event Conditions** page, in the **Filter** field, select the document sending profile that you want to use.

## Set up a retention policy for e-documents

E-documents can be subject to local legislation that specifies the period for which you must keep e-documents. To manage that, administrators can define retention policies that control how often [!INCLUDE [prod_short](includes/prod_short.md)] deletes records. To learn more about retention policies, go to [Define Retention Policies](admin-data-retention-policies.md).

To set up retention policies for e-documents, follow these steps.

1. On the **E-Document Services** page, choose the **Retention Policy** action.
2. When the action is completed, select one of the following retention policies to set up:

    - E-Document Log
    - E-Document Integration Log
    - E-Document Mapping Log
    - E-Document Data Storage

## E-Documents demo data  

> [!NOTE]
> From [!INCLUDE [prod_short](includes/prod_short.md)] version 24.0, you can set up demo data for E-Documents.

To provide easier ways to test and demonstrate e-documents, Microsoft offers a demo module. To enable the module, follow these steps:  

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Contoso Demo Tool**, and then select the related link.  
2. Before you enable the **E-Document Contoso Module**, you must first enable the  **Common Module** and **Warehouse Module**.
3. After you enable the modules, select the **E-Documents Contoso Module**, and then choose the **Generate** action.
4. Follow the steps.  
5. Close the page.

After you enable the module, you have demo items, six electronic documents (based on Peppol BIS 3), and configured **E-Document Services** with created workflows.  

## Related information

[How to use e-documents in sales](finance-how-use-edocuments.md)  
[How to use e-documents in purchase](finance-how-use-edocuments-purchase.md)  
[How to extend e-documents in Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-extend-edocuments)  
[Financial Management](finance.md)  
[Invoice Sales](sales-how-invoice-sales.md)  
[Record Purchases with Purchase Invoices and Orders](purchasing-how-record-purchases.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-availability-overview
---
title: Get an availability overview
description: You can get information about the availability of items or stock across locations, per sales or purchase events, by time period, and more.
documentationcenter: ''
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: stock
ms.search.form: 908, 909, 925, 926, 504, 501, 500, 499, 99000896, 342, 515, 5417, 5415, 5871, 5530, 492, 157, 5540, 5416, 5414, 1872, 1873, 99000902, 353, 491, 9231, 5390
ms.date: 04/08/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# View the availability of items

From the context of a business task, you can get advanced information about when and where an item is available, such as when talking to a customer about a delivery date.

You can view the availability of all items per location, and you can view the availability of each item by event or by period as well. An event is any scheduled item transaction, such as a sales shipment or an inbound transfer receipt.

> [!NOTE]  
>   Availability views by location require that you maintain inventory at more than one location. For more information, see [Set Up Locations](inventory-how-setup-locations.md).

If you use warehousing functionality, availability varies depending on allocations at the bin level when warehouse activities such as picks and movements occur and when the inventory reservation system imposes restrictions to comply with. A rather complex algorithm verifies that all conditions are met before allocating quantities to picks for outbound flows. For more information, see [Design Details: Availability in the Warehouse](design-details-availability-in-the-warehouse.md).

In [!INCLUDE[prod_short](includes/prod_short.md)], availability figures are typically shown in two different fields, each with a different definition:

* The **Quantity on Hand** field, in some places named **Inventory**, shows the actual quantity today according to posted item ledger entries.
* The **Projected Available Balance** field is calculated and shows the quantity on hand plus scheduled receipts minus gross requirements. (In [!INCLUDE[prod_short](includes/prod_short.md)], scheduled receipts include quantities on purchase orders and inbound transfer orders. Gross requirements include quantities on sales orders and outbound transfer orders.)

> [!TIP]  
>   The projected available balance is especially relevant to view in the **Item Availability by Periods** and **Item Availability by Event** pages because they contain the date dimension.  

> [!NOTE]  
>   The following procedures describe how to view advanced availability information from the items list and item card. You can also access the information from sales document lines for the item on the line. For more information, see [Sell Products](sales-how-sell-products.md).

## To view the availability of an item according to when it will be received or shipped

You view the availability of an item according to scheduled item transactions on the **Availability by Event** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Open the card of an item that you want to view availability for.
3. Choose the **Item Availability by** action, and then choose the **Event** action.

    The **Item Availability by Event** page shows how the inventory quantity of the item will develop over time according to scheduled shipment and receipt events. The page gives a condensed view that shows one line of accumulated information per time interval in which inventory quantities change. Time intervals where no events occurred aren't shown. You can expand each line to show details about the event or events that caused the accumulated quantity on the line.
4. Choose the value in the **Projected Available Balance** field to view the item ledger entries or open documents that make up the value.

## To view the availability of an item in different periods

You view the availability of an item over time for specified time periods on the **Item Availability by Periods** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Open the card of an item that you want to view availability for.
3. Choose the **Item Availability by** action, and then choose the **Period** action.

    The **Item Availability by Periods** page shows how the inventory quantity of the item will develop over time, shown for a period that you select, such as Day, Week, or Quarter.
4. Choose the value in the **Projected Available Balance** field to view the item ledger entries or open documents that make up the value.

## To view the availability of an item at the locations where it's stored

You view the availability of an item at the different places where it's stored on the **Item Availability by Location** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Open the card of an item that you want to view availability for.
3. Choose the **Item Availability by** action, and then choose the **Location** action.

    The **Item Availability by Location** page shows how the inventory quantity of the item will develop in the future, shown for each location where it's stored.
4. Choose the value in the **Qty. on Hand** field to view the item ledger entries that make up the value.
5. Choose the value in the **Projected Available Balance** field to view the item ledger entries or open documents that make up the value.

## To view the availability of all items by the location where they're stored

You view the availability of all your items across all your locations on the **Items by Location** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Choose the **Items by Location** action.

    The **Items by Location** page shows for all your items how many are available at each location.
3. Choose the value in the **Qty. on Hand** field to view the item ledger entries that make up the value.

## To view the availability of an item by its use in assembly or production BOMs

If an item is part of assembly or production BOMs as either a parent item or a component, you can view how many units of it are required on the **Item Availability by BOM Level** page. The page shows how many units of a parent item you can make based on the availability of child items on underlying lines. Any item that has an assembly or production BOM is shown on the page as a collapsible line. You can expand this line to see the underlying components and lower-level subassemblies with their own BOMs.

For example, you can use the page to determine whether you can fulfill a sales order for an item on a specified date by looking at its current availability and the quantities that can be supplied by its components. You can also use the page to identify bottlenecks in related BOMs.

On each line on the page for both parent items and child items, the following key fields specify the availability figures. You can use these figures to promise how many units of a parent you can supply if you start the related assembly process.

|Field|Description|
|------|-----------|
|**Able to Make Parent**|Shows how many units of any subassembly in the top item you can make. The field specifies how many immediate parent units you can assemble. The value is based on availability of the item on the line.|
|**Able to Make Top Item**|Shows how many units of the top item you can make. The field specifies how many units of the top-line BOM item you can assemble. The value is based on availability of the item on the line.|

### To view the availability of an item according to demand for its parent

The **Item Availability by BOM Level** page shows information for the item on the card or document line that the page is opened for. The item is always shown on the top line. You can view information for other items or for all items by changing the value in the **Item Filter** field.

> [!NOTE]  
>   By default, availability figures on the lines show the total availability of all items under the top item. These figures are displayed in the **Available Quantity** field, and the focus is on the top item. However, information about how many subassemblies you can make may be skewed. To get a true indication of how many of the shown subassemblies you can make, you must clear the **Show Total Availability** check box and then see the figure in the **Able to Make Parent** field.

The **Bottleneck** field specifies which item in the BOM structure restricts you from making a larger quantity than the quantity that is shown in the **Able to Make Top Item** field. For example, the bottleneck item can be a purchased component with an expected receipt date that is too late to make additional units of the top item by the date in the **Needed by Date** field.

## To view the availability of an item by its units of measure

The **Item Availability by Unit of Measure** page shows the availability of an item in the units of measure that it's stored in.

> [!NOTE]  
> To keep this information accurate, you must convert item units of measure. For example, if you purchase an item in one unit of measure, such as boxes, and you sell items in another unit of measure, such as pieces, you must use an item journal to convert the units of measure, or "unbox" items. You can use a negative adjustment item journal line to reduce inventory in the purchase unit of measure, for example boxes, and a positive adjustment to increase inventory in the sales unit of measure, for example pieces. 

## To view the availability of an item by its variants

The **Item Availability by Variant** page shows the actual and projected availability of an item grouped according to variant code.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Open the card of an item that you want to view availability for.
3. Choose the **Item Availability by** action, and then choose the **Variant** action.

    The **Item Availability by Variant** page shows availability for every variant that exists for the item. The page is empty if no variants exist for the item.

4. In the **View by** field, select the length of the time period that you want to view.
5. View the availability figures in the different quantity fields for each line.

[!INCLUDE [inventory_variant-availability](includes/inventory_variant-availability.md)]

## Assembly availability page

The **Assembly Availability** page shows detailed availability information for the assembly item. It opens:

- Automatically from a sales order line in assemble-to-order scenarios when you enter a quantity that causes a component availability issue.
- Automatically from an assembly order header when you enter a value in the Quantity field that causes a component availability issue.
- Manually when you open it from an assembly order. On the Actions tab, in the Functions group, select Show Availability.

The **Details** FastTab shows detailed availability information for the assembly item, including how many of the assembly order quantity can be assembled by the due date based on availability of the required components. This is shown in the Able to Assemble field on the Details FastTab.

The value in the **Able to Assemble** field is shown in red font if the quantity is lower than the quantity in the **Remaining Quantity** field, indicating that there aren't enough components available to assemble the full quantity.

The **Lines** FastTab shows detailed availability information for the assembly components.

If one or more assembly components aren't available, then this is reflected in the **Able to Assemble** field on the line in question as a quantity less than the quantity in the **Remaining Quantity** field on the **Details** FastTab.

## Related information

[Manage Inventory](inventory-manage-inventory.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with Bills of Material](inventory-how-work-BOMs.md)  
[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)  
[Create Production BOMs](production-how-to-create-production-boms.md)  
[Set Up Locations](inventory-how-setup-locations.md)  
[Transfer Inventory Between Locations](inventory-how-transfer-between-locations.md)  
[Sell Products](sales-how-sell-products.md)  
[General Business Functionality](ui-across-business-areas.md)  
[Work with Business Central](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-work-recurring-purchase-lines
---
title: Standard recurring purchase lines
description: Set up frequently used purchase lines to insert them on purchase documents and quickly fill the lines with standard information.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: trade, purchase, replenishment
ms.search.form: 177
ms.date: 03/21/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Create recurring purchase lines

If you often need to create purchase lines with similar information, you can set up standard lines that you can then insert on recurring purchase documents, for example, for recurring replenishment orders.

## Set up recurring purchase lines

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Recurring Purchase Lines**, and then choose the related link.
2. On the **Recurring Purchase Lines** page, choose the **New** action.
3. On the **General** FastTab, fill the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. On the **Lines** FastTab, enter the information in the fields that reflect the standard lines you expect to use as recurring lines on purchase documents.

> [!NOTE]
> You cannot define prices on recurring purchase lines because prices, discounts, etc. are calculated on the actual purchase documents after you insert the recurring purchase lines.

[!INCLUDE [line-no-info](includes/line-no-info.md)]

## Assign recurring purchase lines to a vendor

Assign one or more recurring purchase lines to a vendor so that they're available to insert on purchase documents from that vendor.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then choose the related link.
2. Open the card for a relevant vendor.
3. Choose the **Recurring Purchase Lines** action.
4. On the **Recurring Purchase Lines** page, select codes for the recurring purchase lines that you want to be able to insert on purchase documents for the vendor.
5. Fill in the other fields to define when, how, and where the recurring purchase lines are to be used.
6. In the four fields where you select how the lines are inserted on each document type, select one of the following options:

|Option|Description|
|------|-----------|
|**Manual**|You must manually look up and insert a recurring purchase line that exists for the vendor.|
|**Automatic**|If multiple recurring purchase lines exist for the vendor, you'll get a notification from where you can pick which one to insert. If only one recurring purchase line exists, it will be inserted automatically.<br /><br />This only works if the new document was created from a document list, for example by choosing the **New** action on the **Purchase Orders** page. It doesn't work if the document was created from a vendor card, for example.|
|**Always Ask**|A notification appears and all existing recurring purchase lines are shown so that you can select one.

## Insert recurring purchase lines on a purchase invoice

If recurring purchase lines exist for the vendor, you can insert them, or have them automatically added, on all types of purchase documents, such as a purchase invoice. If you have activated the **Always Ask** options while assigning recurring purchase lines to vendors, you'll be informed if recurring purchase lines exist.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoices**, and then choose the related link.
2. Open the purchase invoice that you want to insert one or more standard purchase lines on.
3. Choose the **Get Recurring Purchase Lines** action.
4. On the **Recurring Purchase Lines** page, choose the lookup button in the **Code** field, and then select a set of standard purchase lines.
5. Choose the **OK** button to insert the standard purchase lines on the invoice where you can reuse them as is or edit the information.

## Related information

[Purchasing](purchasing-manage-purchasing.md)  
[Set Up Purchasing](purchasing-setup-purchasing.md)  
[Create Recurring Sales](sales-how-work-standard-lines.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-kpis
---
title: Sustainability KPIs and measures (Power BI)
description: Get an overview of all the KPIs and measures in the semantic model for the Sustainability Power BI app.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Power BI Sustainability app KPIs and measures

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

This article provides a list of the key performance indicators (KPIs) that are included in the semantic model for the Power BI Sustainability report. Explore the list of KPIs to learn more about how they can help you achieve your business goals.

Each KPI is described, including how they're calculated and what data the calculations use.

## Emission Fees Table

**Emissions Fees Measures**

- [CH4 Carbon Equivalent](#ch4-carbon-equivalent)
- [CO2 Carbon Equivalent](#co2-carbon-equivalent)
- [N2O Carbon Equivalent](#n2o-carbon-equivalent)
- [CO2e Target](#co2e-target)

### CH4 Carbon Equivalent

**Formula**  

A sum of the **Carbon Equivalent Factor** where the **Emission Type** is **CH4**.

**Data Sources**

- Emissions Fees

### CO2 Carbon Equivalent

**Formula**  

A sum of the **Carbon Equivalent Factor** where the **Emission Type** is **CO2**.

**Data Sources**

- Emissions Fees

### N2O Carbon Equivalent

**Formula**  

A sum of the **Carbon Equivalent Factor** where the **Emission Type** is **N2O**.

**Data Sources**

- Emissions Fees

### CO2e Target

**Formula**  

A calculation of all carbon equivalent factors and their targets shown as one figure.

**Data Sources**

- Emissions Fees
- Sustainability Goals

## Employee Absences Table

**Employee Absences Measures**

- [Employee Absences](#employee-absences)
- [Employee Absences (%)](#employee-absences-)

### Employee Absences

**Formula**  

A sum of **Employee Absences Quantity**.

**Data Sources**

- Employee Absence

### Employee Absences (%)

**Formula**  

A calculation of the [Employee Absences](#employee-absences) multiplied by [Active Employees](#active-employees) and divided by **Working Days** to calculate the percentage of **Absence Hours**.

**Data Sources**

- Employees
- Employee Absence

## Employee Ledger Entries Table

**Employee Ledger Entries Measures**

- [Employee Amount](#employee-amount)

### Employee Amount

**Formula**  

Sum of the **Amount** field from **Employee Ledger Entries**.

**Data Sources**

- Employee Ledger Entries

## Employee Qualifications Table

**Employee Qualifications Measures**

- [Employee Qualifications](#employee-qualifications)

### Employee Qualifications

**Formula**  

A count of the different qualifications per employee.

**Data Sources**

- Employee Qualifications

## Employee Table

**Employee Measures**

- [Active Employees](#active-employees)
- [Age](#age)
- [Age Distribution](#age-distribution)
- [Female Employees (%)](#female-employees-)
- [Male Employees (%)](#male-employees-)
- [No. of Employees](#no-of-employees)
- [No. of Female Employees](#no-of-female-employees)
- [No. of Male Employees](#no-of-male-employees)
- [No. of Other Employees](#no-of-other-employees)
- [Other Employees (%)](#other-employees-)

### Active Employees

**Formula**  

A filter on the [No. of Employees](#no-of-employees) where the **Status** of the **Employee** is **Active**.

**Data Sources**

- Employee

### Age

**Formula**  

A calculated column for the **Employee** to determine the age of the employee based on their date of birth.

**Data Sources**

- Employee

### Age Distribution

**Formula**  

A calculated column to group employees into one of three different age distributions.

[!NOTE]
> The age distribution is defined directly in Power BI. The grouping is under 30, between 30 and 50, and then over 50. You can't change the distributions.

**Data Sources**

- Employee

### Female Employees (%)

**Formula**  

The **No. of Female Employees** divided by the **No. of Employees**.

[No. of Female Employees](#no-of-female-employees) / [No. of Employees](#no-of-employees)

**Data Sources**

- Employee

### Male Employees (%)

**Formula**  

The **No. of Male Employees** divided by the **No. of Employees**.

[No. of Male Employees](#no-of-male-employees) / [No. of Employees](#no-of-employees)

**Data Sources**

- Employee

### No. of Employees

**Formula**  

A count of Employees.

**Data Sources**

- Employee

### No. of Female Employees

**Formula**  

A filter on the [No. of Employees](#no-of-employees) where the **Employee Gender** is **Female**.

**Data Sources**

- Employee

### No. of Male Employees

**Formula**  

A filter on the [No. of Employees](#no-of-employees) where the **Employee Gender** is **Male**.

**Data Sources**

- Employee

### No. of Other Employees

**Formula**  

A filter on the [No. of Employees](#no-of-employees) where the **Employee Gender** is not **Male** or **Female**.

**Data Sources**

- Employee

### Other Employees (%)

**Formula**  

The **No. of Other Employees** divided by the **No. of Employees**.

[No. of Other Employees](#no-of-other-employees) / [No. of Employees](#no-of-employees)

**Data Sources**

- Employee

## Responsibility Centre Table

**Responsibility Centre Measures**

- [Facility Capactity](#facility-capactity)

### Facility Capactity

**Formula**  

Measures the water capacity of the facility (Responsibility Centre). The measure is based on the **Month in Period** when filtering.

**Data Sources**

- Responsibility Centre

## Sustainability Goals Table

**Sustainability Goals Measures**

- [CO2 Current Value](#co2-current-value)
- [CO2 Target](#co2-target)
- [CO2 Realized (%)](#co2-target)
- [CH4 Current Value](#ch4-target)
- [CH4 Target](#ch4-target)
- [CH4 Realized (%)](#ch4-target)
- [N2O Current Value](#n2o-current-value)
- [N2O Target](#n2o-target)
- [N2O Realized (%)](#n2o-target)
- [Waste Current Value](#waste-target)
- [Waste Target](#waste-target)
- [Waste Realized (%)](#waste-target)
- [Water Current Value](#water-target)
- [Water Target](#water-target)
- [Water Realized (%)](#water-target)
- [CO2e Current Value](#co2e-current-value)
- [CO2e Realized (%)](#co2e-realized-)

### CO2 Current Value

**Formula**  

A sum of [CO2 Emissions](#co2-emissions) based on the start and dnd date from the selected scorecards.

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### CO2 Target

**Formula**  

Sum of the **Target Value** for **CO2**.

**Data Sources**

- Sustainability Goals

### CO2 Realized (%)

**Formula**  

The **CH4 Current Value** divided by the **CH4 Emissions**.

[CO2 Current Value](#co2-current-value) / [CO2 Target](#co2-target)

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### CH4 Current Value

**Formula**  

A sum of [CH4 Emissions](#ch4-emissions) based on the start and end date from the selected scorecards.

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### CH4 Target

**Formula**  

Sum of **Target Value** for **CH4**.

**Data Sources**

- Sustainability Goals

### CH4 Realized (%)

**Formula**  

The **CH4 Current Value** divided by the **CH4 Emissions**.

[CH4 Current Value](#ch4-current-value) / [CH4 Target](#ch4-target)

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### N2O Current Value

**Formula**  

A sum of [N2O Emissions](#n2o-emissions) based on the start and end date from the selected scorecards.

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### N2O Target

**Formula**  

A sum of **Target Value** for **N2O** from the **Sustainability Goals**.

**Data Sources**

- Sustainability Goals

### N2O Realized (%)

**Formula**  

The **N2O Current Value** divided by the **N2O Emissions**.

[N2O Current Value](#n2o-current-value) / [N2O Target](#n2o-target)

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### Waste Current Value

**Formula**  

A sum of [Waste Intensity](#waste-intensity) based on the start and end date from the selected scorecards.

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### Waste Target

**Formula**  

A sum of **Target Value** for **Waste**.

**Data Sources**

- Sustainability Goals

### Waste Realized (%)

**Formula**  

The **Waste Current Value** divided by the **Waste Emissions**.

[Waste Current Value](#waste-current-value) / [Waste Target](#waste-target)

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### Water Current Value

**Formula**  

A sum of [Water Intensity](#water-intensity) based on the start and end date from the selected scorecards.

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### Water Target

**Formula**  

A sum of **Target Value** for **Water**.

**Data Sources**

- Sustainability Goals

### Water Realized (%)

**Formula**  

The **Water Current Value** divided by the **Water Emissions**.

[Water Current Value](#water-current-value) / [Water Target](#water-target)

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### CO2e Current Value

**Formula**  

A sum of [CO2e Emissions](#co2e-emissions) based on the start and end date from the selected scorecards.

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

### CO2e Realized (%)

**Formula**  

The **CO2e Current Value** divided by the **CO2e Emissions**.

[CO2e Current Value](#co2e-current-value) / [CO2e Target](#co2e-target)

**Data Sources**

- Sustainability Ledger Entries
- Sustainability Goals

## Sustainability Ledger Entries Table

**Sustainability Ledger Entries Measures**

- [CO2 Emissions](#co2-emissions)
- [CO2 Emissions Balance](#co2-emissions-balance)
- [CO2 Emissions Balance at Date ](#co2-emissions-balance-at-date)
- [CO2 Baseline](#co2-baseline) 
- [CO2 vs Baseline (%)](#co2-vs-baseline-)

- [CH4 Emissions](#ch4-emissions)
- [CH4 Emissions Balance at Date ](#ch4-emissions-balance-at-date)
- [CH4 Emissions Balance](#ch4-emissions-balance)
- [CH4 Baseline](#ch4-baseline) 
- [CH4 vs Baseline (%)](#ch4-vs-baseline-)

- [N2O Emissions](#n2o-emissions)
- [N2O Emissions Balance](#n2o-emissions-balance)
- [N2O Emissions Balance at Date](#n2o-emissions-balance-at-date)
- [N2O Baseline](#n2o-baseline) 
- [N2O vs Baseline (%)](#n2o-vs-baseline-)

- [CO2e Emissions](#co2e-emissions)
- [CO2e Emissions (Excl Credits)](#co2e-emissions-excl-credits)
- [CO2e Emissions Balance](#co2e-emissions-balance)
- [CO2e Emissions Balance at Date](#co2e-emissions-balance-at-date)
- [CO2e Baseline](#co2-baseline) 
- [CO2e vs Baseline (%)](#co2e-vs-baseline-)

- [Discharged Into Water](#discharged-into-water)
- [Discharged Into Water Balance](#discharged-into-water-balance)
- [Discharged Into Water Balance at Date](#discharged-into-water-balance-at-date)
- [Discharged Into Water DOD](#discharged-into-water-dod)
- [Discharged Into Water PD](#discharged-into-water-pd)
- [Discharged Into Water PY](#discharged-into-water-py)
- [Discharged Into Water YOY](#discharged-into-water-yoy)
- [Discharged Into Water Baseline](#discharged-into-water-baseline)
- [Discharged Into Water vs Baseline (%)](#discharged-into-water-vs-baseline-)

- [Water Intensity](#water-intensity)
- [Water Intensity Baseline](#water-intensity-balance)
- [Water Intensity Baseline at Date](#water-intensity-balance-at-date)
- [Water Intensity DOD](#water-intensity-dod)
- [Water Intensity PD](#water-intensity-pd)
- [Water Intensity PY](#water-intensity-py)
- [Water Intensity YOY](#water-intensity-yoy)
- [Water Intensity Baseline](#water-intensity-baseline)
- [Water Intensity vs Baseline (%)](#water-intensity-vs-baseline-)
- [Water Available](#water-available)

- [Waste Intensity](#waste-intensity)
- [Waste Intensity Balance](#waste-intensity-balance)
- [Waste Intensity Balance at Date](#waste-intensity-balance-at-date)
- [Waste Intensity DOD](#waste-intensity-dod)
- [Waste Intensity PD](#waste-intensity-pd)
- [Waste Intensity PY](#waste-intensity-py)
- [Waste Intensity YOY](#waste-intensity-yoy)
- [Waste Intensity Baseline](#waste-intensity-baseline)
- [Waste vs Baseline (%)](#waste-intensity-vs-baseline-)

- [Purchased Carbon Credits](#purchased-carbon-credits)

### CO2 Emissions

**Formula**  

A sum of **CO2** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### CO2 Emissions Balance

**Formula**  

Calculates the total [CO2 Emissions](#co2-emissions) across all dates and ignores filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### CO2 Emissions Balance at Date 

**Formula**  

Calculates the cumulative [CO2 Emissions](#co2-emissions) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date in the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### CO2 Baseline

**Formula**  

A sum of [CO2 Emissions](#co2-emissions) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### CO2 vs Baseline (%)

**Formula**  

The **CO2 Current Value** divided by the **CO2 Baseline**.

[CO2 Current Value](#co2-current-value) / [CO2 Baseline](#co2-baseline)

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### CH4 Emissions

**Formula**  

A sum of **CH4** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### CH4 Emissions Balance at Date

**Formula**  

Calculates the cumulative [CH4 Emissions](#ch4-emissions) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date in the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### CH4 Emissions Balance 

**Formula**  

Calculates the total [CH4 Emissions](#ch4-emissions) across all dates, and ignore filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### CH4 Baseline

**Formula**  

A sum of [CH4 Emissions](#ch4-emissions) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### CH4 vs Baseline (%)

**Formula**  

The **CH4 Current Value** divided by the **CH4 Baseline**.

[CH4 Current Value](#ch4-current-value) / [CH4 Baseline](#ch4-baseline)

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### N2O Emissions

**Formula**  

A sum of **N2O** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### N2O Emissions Balance at Date

**Formula**  

Calculates the cumulative [N2O Emissions](#n2o-emissions) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date in the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### N2O Emissions Balance

**Formula**  

Calculates the total [N2O Emissions](#n2o-emissions) across all dates, and ignore filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### N2O Baseline

**Formula**  

A sum of [N2O Emissions](#n2o-emissions) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### N2O vs Baseline (%)

**Formula**  

The **N2O Current Value** divided by the **N2O Baseline**

[N2O Current Value](#n2o-current-value) / [N2O Baseline](#n2o-baseline)

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### CO2e Emissions

**Formula**  

A sum of **CO2e** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### CO2e Emissions (Excl Credits) 

**Formula**  

Uses the existing [CO2e Emissions](#co2e-emissions) and filters to where the document type isn't **GHG Credit**.

**Data Sources**

- Sustainability Ledger Entry

### CO2e Emissions Balance at Date

**Formula**  

Calculates the cumulative [CO2e Emissions](#co2e-emissions) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date in the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### CO2e Emissions Balance

**Formula**  

Calculates the total [CO2e Emissions](#co2e-emissions) across all dates, and ignores filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### CO2e Baseline

**Formula**  

A sum of [CO2e Emissions](#co2e-emissions) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### CO2e vs Baseline (%)

**Formula**  

The **CO2e Current Value** divided by the **CO2e Baseline**.

[CO2e Current Value](#co2e-current-value) / [CO2e Baseline](#co2e-baseline) 

**Data Sources**

- Sustainability Ledger Entry
- Sustainability Goals

### Discharged Into Water

**Formula**  

A sum of **Discharged Into Water** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water Balance

**Formula**  

Calculates the total [Discharged Into Water](#discharged-into-water) value across all dates, and ignores filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water Balance at Date 

**Formula**  

Calculates the cumulative [Discharged Into Water](#discharged-into-water) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date in the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water DOD

**Formula**  

Calculates the difference between the **Discharged Into Water** and the **Discharged Into Water PD**. It calculates the **Discharge Into Water** change directly in the measure as [Discharged Into Water PD](#discharged-into-water-pd) - [Discharged Into Water](#discharged-into-water)

Discharge Into Water Change / [Discharged Into Water PD](#discharged-into-water)

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water PD

**Formula**  

Calculates the [Discharged Into Water](#discharged-into-water) for the prior day.

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water PY

**Formula**  

Calculates the [Discharged Into Water](#discharged-into-water) for the prior year.

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water YOY

**Formula**  

Calculates the difference between the **Discharged Into Water** and **Discharged Into Water PY**. It calculates the **Discharge Into Water** change directly in the measure as [Discharged Into Water PY](#discharged-into-water-py) - [Discharged Into Water](#discharged-into-water)

Discharge Into Water Change / [Discharged Into Water PY](#discharged-into-water)

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water Baseline

**Formula**  

A sum of [Discharged Into Water](#discharged-into-water) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry

### Discharged Into Water vs Baseline (%)

**Formula**  

The **Discharged Into Water** divided by the **Baseline**.

[Discharged Into Water](#discharged-into-water) / [Baseline](#discharged-into-water-balance) 

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity

**Formula**  

Sum of **Water Intensity** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity Balance at Date

**Formula**  

Calculates the cumulative [Water Intensity](#water-intensity) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date within the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity Balance

**Formula**  

Calculates the total [Water Intensity](#water-intensity) across all dates, and ignores filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity DOD

**Formula**  

Calculates the difference between the **Water Intensity** and the **Water Intensity PD**. It calculates the **Water Intensity Change** directly in the measure as [Water Intensity PD](#water-intensity-pd) - [Water Intensity](#water-intensity)

Water Intensity Change / [Water Intensity PD](#water-intensity-pd)

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity PD

**Formula**  

Calculates the [Water Intensity](#water-intensity) for the prior day.

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity PY

**Formula**  

Calculates the [Water Intensity](#water-intensity) for the prior year.

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity YOY

**Formula**  

Calculates the difference between the **Water Intensity** and the **Water Intensity PY**. It calculates the **Water Intensity Change** directly in the measure as [Water Intensity PY](#water-intensity-py) - [Water Intensity](#water-intensity)

Water Intensity Change / [Water Intensity PY](#water-intensity-py)

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity Baseline

**Formula**  

A sum of [Water Intensity](#water-intensity) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry

### Water Intensity vs Baseline (%)

**Formula**  

The **Water Intensity** divided by the **Baseline**.

[Water Intensity](#water-intensity) / [Baseline](#water-intensity-baseline)

**Data Sources**

- Sustainability Ledger Entry

### Water Available

**Formula**  

Calculated as **Facility Capacity** minus **Water Intensity**.

[Facility Capacity](#facility-capactity) - [Water Intensity](#water-intensity)

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity

**Formula**  

A sum of **Waste Intensity** from the **Sustainability Ledger Entry**.

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity Balance at Date 

**Formula**  

Calculates the cumulative [Water Intensity](#waste-intensity) up to the latest date in the current filter. It removes all date filters, then re-applies a filter to include only dates up to and including the latest date within the selection, which gives a running balance up to the specified date.

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity Balance

**Formula**  

Calculates the total [Waste Intensity](#waste-intensity) across all dates, and ignores filters on the Date table. By removing date-based filtering, this measure provides the full value from the start to the end of the dataset.

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity DOD

**Formula**  

Calculates the difference between the **Waste Intensity** and the **Waste Intensity PD**. It calculates the **Waste Intensity** change directly in the measure as [Waste Intensity PD](#waste-intensity-pd) - [Waste Intensity](#waste-intensity)

Waste Intensity Change / [Waste Intensity PD](#waste-intensity-pd)

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity PD

**Formula**  

Calculates the [Waste Intensity](#waste-intensity) for the prior day.

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity PY

**Formula**  

Calculates the [Waste Intensity](#waste-intensity) for the prior year.

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity YOY

**Formula**  

Calculates the difference between the **Waste Intensity** and the **Waste Intensity PY**. It calculates the **Waste Intensity** change directly in the measure as [Waste Intensity PY](#waste-intensity-py) - [Waste Intensity](#waste-intensity)

Waste Intensity Change / [Waste Intensity PY](#waste-intensity-py)

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity Baseline

**Formula**  

A sum of [Waste Intensity](#waste-intensity) based on the **Baseline Start** and **End Date** from the selected scorecards to determine a **Baseline** value.

**Data Sources**

- Sustainability Ledger Entry

### Waste Intensity vs Baseline (%)

**Formula**  

The **Waste Intensity** divided by the **Baseline**.

[Waste Intensity](#waste-intensity) / [Baseline](#waste-intensity-baseline) 

**Data Sources**

- Sustainability Ledger Entry

### Purchased Carbon Credits

**Formula**  

Uses the existing [CO2e Emissions](#co2e-emissions) and filters to where the document type is **GHG Credit**.

**Data Sources**

- Sustainability Ledger Entry

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-inventory-periods
---
title: Design Details - Inventory Periods
description: Inventory Periods helps avoid problems with balances and stock valuations by opening or closing inventory periods to limit posting in a set period of time.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/15/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Inventory Periods
Backdated transactions or cost adjustments often affect balances and stock valuations for accounting periods that may be considered closed. This can have adverse effects on accurate reporting, especially within global corporations. The Inventory Periods feature can be used to avoid such problems by opening or closing inventory periods to limit posting in a set period of time.  

 An inventory period is a period of time, defined by an ending date, in which you post inventory transactions. When you close an inventory period, no value changes can be posted in the closed period. This includes new value postings, expected or invoiced postings, changes to existing values, and cost adjustments. However, you can still apply to an open item ledger entry that falls in the closed period. For more information, see [Design Details: Item Application](design-details-item-application.md).  

 To make sure that all transaction entries in a closed period are final, the following conditions must be met before an inventory period can close:  

-   All outbound item ledger entries in the period must be closed (no negative inventory).  
-   All item costs in the period must be adjusted.  
-   All released and finished production orders in the period must be cost adjusted.  

 When you close an inventory period, an inventory period entry is created by using the number of the last item register that falls in the inventory period. In addition, the time, date, and user code of the user closing the period are recorded in the inventory period entry. By using this information with the last item register for the previous period, you can see which inventory transactions were posted in the inventory period. It is also possible to reopen inventory periods if you need to post in a closed period. When you reopen an inventory period, an inventory period entry is created.  

## Related information

[Design Details: Inventory Costing](design-details-inventory-costing.md)  
[Managing Inventory Costs](finance-manage-inventory-costs.md)  
[Finance](finance.md)  
[Working with Business Central](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-teams-integration
---
title: Managing Microsoft Teams Integration with Business Central| Microsoft Docs
description: Manage Business Central integration with Microsoft Teams.
author: jswymer
ms.topic: overview
ms.search.keywords: Teams, MS Teams, Microsoft Teams, Skype, Link, Microsoft 365, collaborate, collaboration, teamwork
ms.date: 01/06/2025
ms.author: jswymer
ms.reviewer: jswymer
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.search.form: 2718_Primary
---

# Managing Microsoft Teams Integration with [!INCLUDE [prod_short](includes/prod_short.md)]

[!INCLUDE [online_only](includes/online_only.md)]

This article provides an overview of what you can do as an administrator to control Microsoft Teams integration with [!INCLUDE [prod_short](includes/prod_short.md)].

## In Microsoft Teams

### Minimum requirements

This section describes the minimum requirements for the [!INCLUDE [prod_short](includes/prod_short.md)] app features to work in Teams.

- Required licenses

    The [!INCLUDE[prod_short](includes/prod_short.md)] app requires a Teams license through a Microsoft 365 Business or Enterprise plan, Microsoft Teams EEA, or a similar plan that includes Microsoft Teams. Standalone Teams plans like Microsoft Teams (free) or Microsoft Teams Essentials aren't supported.

    Most features of the [!INCLUDE[prod_short](includes/prod_short.md)] app for Teams also require a [!INCLUDE [prod_short](includes/prod_short.md)] license, as shown in the following table.

    |What|[!INCLUDE [prod_short](includes/prod_short.md)] license|
    |----|---|
    |Search for [!INCLUDE [prod_short](includes/prod_short.md)] contacts.|![check mark](media/check.png "check")|
    |Paste a link to a [!INCLUDE [prod_short](includes/prod_short.md)] record into a conversation, and send it as a card.|![check mark](media/check.png "check")|
    |Share a link from a page in [!INCLUDE [prod_short](includes/prod_short.md)] to Teams conversation.|![check mark](media/check.png "check")|
    |View a card of a [!INCLUDE [prod_short](includes/prod_short.md)] record in a conversation.||
    |View more details of card for a [!INCLUDE [prod_short](includes/prod_short.md)] record in a conversation.|![check mark](media/check.png "check")|
    |Open a page link in [!INCLUDE [prod_short](includes/prod_short.md)] from a conversation.|![check mark](media/check.png "check")|

- Allow URL previews

    **Allow URL previews** policy setting must be turned on. Otherwise, a card can't be generated for [!INCLUDE [prod_short](includes/prod_short.md)] links pasted into a Teams conversation. Learn more about this setting in [Manage messaging policies in Teams](/microsoftteams/messaging-policies-in-teams).

### Managing the [!INCLUDE [prod_short](includes/prod_short.md)] app (optional)

As a Teams administrator, you can manage all apps for your organization, including the [!INCLUDE [prod_short](includes/prod_short.md)] app. You can approve or install the [!INCLUDE [prod_short](includes/prod_short.md)] app for your organization, block user's from installing the app, and more.

Learn more in the Microsoft Teams documentation at:

- [Manage your apps in the Microsoft Teams admin center](/MicrosoftTeams/manage-apps)
- [Manage app setup policies in Microsoft Teams](/microsoftteams/teams-app-setup-policies)

## In [!INCLUDE [prod_short](includes/prod_short.md)]

### Minimum requirements

- [!INCLUDE [prod_short](includes/prod_short.md)] version:

  Teams integration is only supported for [!INCLUDE [prod_short](includes/prod_short.md)] online, not on-premises.

- Codeunit **2718 Page Summary Provider** is published as a web service:

  This codeunit is published as a web service by default. The codeunit is part of the [!INCLUDE [prod_short](includes/prod_short.md)] system application. It's used to get the field data for a [!INCLUDE [prod_short](includes/prod_short.md)] page added to a Teams conversation. Learn more about publishing web services in [Publish a Web Service](across-how-publish-web-service.md).

- <a name="permissions"></a>User permissions:

  For the most part, the contact search, pages, and data that users can view and edit in a Teams conversation is controlled by their permissions in [!INCLUDE [prod_short](includes/prod_short.md)].

  - To search for contacts, users must have at least read permission to the **Contacts** table. 
  - To paste a [!INCLUDE [prod_short](includes/prod_short.md)] link into a Teams conversation and have it expand into a card, users must have at least read permission on the page and its data.
  - Once a card is submitted into a conversation, any user in that conversation can view that card without permission to [!INCLUDE [prod_short](includes/prod_short.md)].
  - To view more details for a card or open the record in [!INCLUDE [prod_short](includes/prod_short.md)], users must have read permission on the page and its data.
  - To change data, user's need modify permissions.

  Learn more in [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

## Installing the Business Central app by using Centralized Deployment

The Microsoft Teams admin center is where you configure Teams app setup policies for the organization. In the Teams admin center, you can use the Centralized Deployment feature to automatically install the Business Central app in Teams for all users in your organization, specific groups, or individual users.

> [!NOTE]
> To set up Centralized Deployment, your Teams account must have at least the [Teams Administrator](/entra/identity/role-based-access-control/permissions-reference#teams-administrator) role.

1. In Business Central, choose the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Teams App Centralized Deployment**, and then choose the related link. Or select [here](https://businesscentral.dynamics.com/?page=1833) to open the page directly.
2. Read the information on the **Set up the Business Central app for Teams**, then choose **Next** when ready.
3. Open the [Teams admin center](https://go.microsoft.com/fwlink/?linkid=2163970), and complete the following steps.
    1. Go to **Teams apps** > **Setup policies**.
    2. Create a new policy or select the policy that you want to use to install the Business Central app, then select **Add apps**.
    3. In the **Add installed apps** page, search for and select **Business Central**.
    4. Choose **Add**.

       Business Central should now appear under **Installed apps** for the policy.
    5. Configure more settings as needed, then choose **Save**.

    Learn more in [Manage app setup policies in Microsoft Teams](/MicrosoftTeams/teams-app-setup-policies) in the Teams documentation.
4. Go back to **Teams App Centralized Deployment** in Business Central and select **Done**.

> [!IMPORTANT]
> It can take up to 24 hours for the app setup policy to be applied and the app deployed to users.

## Managing privacy and compliance

Microsoft Teams provides extensive controls for compliance and management of sensitive or personally identifiable data&mdash;including data added to chats and channels by the [!INCLUDE [prod_short](includes/prod_short.md)] app.

### Understanding where [!INCLUDE [prod_short](includes/prod_short.md)] cards are stored

After a card is sent to a chat, the card and the fields shown on the card are copied to Teams. This information is subject to the Teams policies for your organization, such as data retention policies. When displaying card details, none of the data in the details window is stored in Teams. The data remains stored in [!INCLUDE [prod_short](includes/prod_short.md)] and will only be retrieved by Teams when the user chooses to view the details. 

- Learn more about where Teams stores that data at [Location of data in Microsoft Teams](/microsoftteams/location-of-data-in-teams).
- Learn more about retention policies in Teams at [Retention policies in Microsoft Teams](/microsoftteams/retention-policies).

### Restricting sharing of cards 

You prevent specific users or groups from sending cards to chats or channels by setting up messaging policies that turn off the **URL Previews** setting. For more information about this setting, see [Manage messaging policies in Teams](/microsoftteams/messaging-policies-in-teams). 

You can also use information barriers to prevent individuals or groups from communicating with each other. To learn more, see [Information barriers in Microsoft Teams](/microsoftteams/information-barriers-in-teams).

Data loss prevention features in the Microsoft Purview can't be applied specifically to cards. But they can be applied to the chat messages that contain the cards.

### Responding to data requests

You allow team members and team owners to delete messages that contain sensitive cards by setting up messaging policies, like: **Owners can delete sent messages** and **Users can delete sent messages**. Learn more at [Manage messaging policies in Teams](/microsoftteams/messaging-policies-in-teams).

Content search and eDiscovery compliance features in the Microsoft Purview can also be applied to cards.

Because card data in Teams is a copy of data in [!INCLUDE [prod_short](includes/prod_short.md)], you can also use [!INCLUDE [prod_short](includes/prod_short.md)] features to export a customer’s data if requested. Learn more  about privacy in [!INCLUDE [prod_short](includes/prod_short.md)] in [Privacy FAQ for Business Central Customers](/dynamics365/business-central/dev-itpro/security/privacyfaq).

## Show or hide record data on cards

When a record is shared with others in a Teams chat or channel, a card with fields that contain data about the record is shown. All recipients can view this data (or record summary) by default, regardless of their license or permissions in Business Central. If you're an admin, you can use the **Card Settings** assisted setup guide to hide the record summary from appearing on cards in Teams. Hiding the record summary removes all fields and images but continues to show the **Details** button and other non-record information on the card.

|Record summary on|Record summary off|
|-|-|
|![Image that shows a card in Teams when the record summery is turned on.](media/card-settings-example-on.png)|![Image that shows a card in Teams when the record summery is turned off.](media/card-settings-example-off.png)|

You configure the setting per environment. So when you turn the record summary on or off, it affects all companies in the environment.

1. In Business Central, open the environment that you want to change.

   > [!TIP]
   > To switch the environment, select <kbd>Ctrl</kbd>+<kbd>O</kbd>.
2. Choose the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Card Settings**, and then choose the related link.
3. Read the information on the **Card Settings**, then choose **Next** when ready.
4. On the **Data Visibility** page, turn on the **Show record summary** switch to display data on the cards or off to hide the data.
5. Select **Next** and follow the instructions to complete the setup guide.

## Related information

[[!INCLUDE [prod_short](includes/prod_short.md)] and Microsoft Teams Integration Overview](across-teams-overview.md)  
[Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams](across-install-app-for-teams.md)  
[Teams FAQ](teams-faq.md)  
[Troubleshooting Teams](admin-teams-troubleshooting.md)  
[Developing for Teams Integration](/dynamics365/business-central/dev-itpro/developer/devenv-develop-for-teams)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-use-edocuments-purchase
---
title: Use e-documents in the purchase process
description: Learn how to set up vendors and handle purchase invoices, orders, and credit memos using e-documents in Dynamics 365 Business Central.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: electronic document, electronic invoice, e-document, e-invoice, receive, purchase, matching, mapping, Copilot
ms.search.form: 50, 51, 138, 6103, 6133, 6121, 6167, 9307, 9308
ms.date: 03/18/2025
ms.custom: bap-template
---

# Use e-documents in the purchase process

You can use configured electronic documents (e-documents) with the following purchase documents:

- Purchase invoices
- Purchase orders
- Purchase credit memos
- General journals

> [!NOTE]
> When you receive an e-document from a specific vendor, [!INCLUDE [prod_short](includes/prod_short.md)] matches the e-document with the vendor by verifying the following information in this order:
>
> 1. **GLN** (from the Vendor card)
> 1. **VAT Registration No.** (from the Vendor card)
> 1. **Participation Identifier** from the **Service Participant** page (using the **E-Document Service Participation** field from the Vendor card)
> 1. **Name** and **Address** (from the Vendor card)

## E-documents in purchases

You can receive purchase e-documents manually, or by using the **Receive** batch job.  

### Set up vendors to work with different purchase documents  

Follow these steps to configure vendors for incoming electronic invoices:

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendors**, and then select the related link.
1. Choose the vendor you want to configure.
1. On the **Receiving** FastTab, in the **Receive E-Document To** field, specify the default purchase document you want to generate from the received e-document.

   > [!NOTE]
   >
   > - In the **Receive E-Document To** field, you can either select a **Purchase Invoice** or **Purchase Order** based on what you want to create from the received e-invoice. This selection doesn't affect the creation of corrective documents. In both scenarios, [!INCLUDE [prod_short](includes/prod_short.md)] generates a credit memo.
   >
   > - If you choose the **Purchase Order** option in the **Receive E-Document To** field, [!INCLUDE [prod_short](includes/prod_short.md)] tries to update one of the existing purchase orders. However, if the purchase order for a vendor in the received e-document doesn't exist, [!INCLUDE[prod_short](includes/prod_short.md)] creates a new purchase order, using the same approach as creating a new purchase invoice explained in this [article later](#work-with-purchase-invoices).

1. Choose one of the options you want to use for the selected vendor.
1. Close the page.

### Work with purchase invoices  

#### Run the batch job  

> [!NOTE]
> This batch job automates the process of collecting your incoming invoices. It works only in countries or regions where the functionality is available.  

Every time a **Job Queue** runs, if the external service has incoming invoices from your vendor, [!INCLUDE [prod_short](includes/prod_short.md)] collects and imports those invoices. To complete the process, follow these steps:

1. After the batch job finishes running, the imported invoices are listed on the **E-Documents** page with their basic details.
1. To view more details, open a specific e-document.
1. Depending on whether your e-document setup automatically processes invoices, or requires that you review and confirm the details before processing, follow these steps. Learn more in [Set up e-documents](finance-how-setup-edocuments.md) for information about how to require confirmation.

   **Automatic processing**

   1. If you automatically process invoices, and there are no errors or issues in the e-document, the **Record** field maps the document number of the purchase invoice if a number series is specified on the **Vendor Card** page. To open the document, select the link.

   > [!NOTE]
   > This [!INCLUDE [prod_short](includes/prod_short.md)]-created document isn't the posted document.

1. To go directly to the purchase document, select the **Record** field. After you open the **Purchase Invoice** page, check the document. If everything is correct, post the document.  
1. When you post the purchase document, the **Record** field on the **E-Document** updates from **Invoice** to **Purchase Invoice**, and the number of the posted purchase document is available. You can select the number to open it.
   Details about logs are the same as they are in the sales process for e-documents.  

   **Review and confirm before processing**

   1. If you must review and confirm the details before processing the invoice, open the document.
   1. On the **E-Document** page, choose the **View extracted data** action.
   1. On the **Received purchase document data** page, review the details. If things look good, choose **OK**.
   1. To process the invoice, follow the steps described for **Automatic processing**.

   > [!TIP]
   > When you receive an incoming e-document, it's typically in XML or similar format that can be difficult, if not impossible, to read. For example, if you aren't technical and don't understand the XML format, it might be hard to review an invoice before you process it. To make it easier for everyone to review incoming e-documents, invoices and credit memos have an **E-invoice Lines** FastTab that displays details from the imported file, such as line and header information, in a way that's easy to understand.
   >
   > The preview feature is only available for invoice and credit memo types of incoming e-documents.

### Handle errors and warnings

Errors in the sales process are mostly related to the availability of the service. The incoming document can contain multiple reasons for errors. The most common reason is that [!INCLUDE [prod_short](includes/prod_short.md)] can't recognize the lines on an e-document from your vendor and can't enter lines in your purchase invoice.

There are two common errors:  

- If you want to use a specific line from your vendor invoice that was directly posted to the general ledger (G/L) account, you must correctly configure the **Mapping Text** value. To bypass this error when using G/L accounts, select the **Map Text to Account** to create a specific mapping of the **Mapping Text** value with the **Debit Acc. No.**. Learn more about [account mapping](finance-how-use-edocuments-purchase.md#map-text-on-an-e-document-to-a-specific-vendor-account).  
- If you want to track the inventory and use lines from your vendor invoice to fill in the items on your document lines, you must correctly configure the **Item Reference No.** value. To bypass this error, map external items with your item numbers by using the item reference list. Learn more in [use item references](inventory-how-use-item-cross-refs.md).

After you fix the errors and warnings, you can manually specify when to create a purchase invoice based on your setup by selecting **Create Document**.

### Recreate a deleted purchase invoice or credit memo

Mistakes happen, so it's important to be able to fix them quickly. If you accidentally delete a purchase invoice or credit memo and can't link the incoming e-document to the correct one, you can now recreate a new purchase document based on details in the e-document. Problem solved, and you can go take care of other business.

If you accidentally delete a purchase invoice or credit memo, you can't proceed with the e-document connection with the regular purchase document in Business Central. To get yourself unstuck, you can run the **Recreate Document** action from the e-document. The action creates an unposted purchase invoice or credit memo based on the type of incoming document, its information, and the G/L mapping or item references used.

> [!NOTE]
> The action works only with unposted purchase invoices and credit memos. It doesn't work for purchase orders.

#### Map text on an e-document to a specific vendor account

To map lines with expenses for E-Documents, you need to map descriptions with **G/L Account**. Then, use the **Map Text to Account** action to link specific text on a vendor invoice from the **E-Document Service** to a vendor account. Any part of the E-document description that exists as a mapping text means that the **Vendor No.** field on the resulting document or journal lines of type **G/L Account** are filled with the vendor in question.

In addition to mapping text to a vendor account or G/L accounts, you can also map text to a bank account for electronic documents related to paid expenses. This option creates a general journal line that is ready to post to a bank account.

1. Select the relevant E-Document line with the displayed error message and then choose **Map Text to Account** action. The **Text-to-Account Mapping** page displays.
1. In the **Mapping Text** field, enter any text that appears on vendor invoices for which you want to create purchase documents or journal lines. You can enter up to 50 characters.
1. In the **Vendor No.** field, enter the vendor that the resulting purchase document or journal line will be created for.
1. In the **Debit Acc. No.** field, enter the debit-type G/L account that is inserted on resulting purchase document or journal line of type G/L Account.

   > [!NOTE]
   > Don't use the **Credit Acc. No.**, **Bal. Source Type**, and **Bal. Source No.** fields with E-documents.

1. Repeat steps 2 through 5 for all error messages on E-documents that you want to automatically create **G/L Accounts** and documents for.  

#### Manually import one or more invoices  

To manually import one or more external e-documents, follow these steps:

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Document Service**, and then select the related link.
1. On the **E-Document Service** page, select the active service.
1. Select **Receive**, and upload the e-document file that you got from the vendor.
1. If an error message occurs, open the e-document to fix the issues.
1. When you finish fixing the issues, in the **Import Manually** group, select **Create Document**.  
1. After you create the document in [!INCLUDE[prod_short](includes/prod_short.md)], using a batch job doesn't change the way you view it.

#### Work with attachments  

Peppol and similar e-invoicing files are machine-readable formats that aren't easy for people to read. To improve reading, Peppol made it possible to embed a PDF file into the Peppol BIS 3 format as a binary object. If your incoming Peppol BIS 3 file has an embedded PDF, [!INCLUDE [prod_short](includes/prod_short.md)] automatically processes it and adds the PDF as an attachment to the purchase document after creating it.

## E-documents with purchase orders  

### Link purchase orders with the received e-documents

If your **Vendor** configured the **Received E-Document To** field to work with **Purchase Orders**, once an electronic document is created in [!INCLUDE[prod_short](includes/prod_short.md)] (manually or from external end point), [!INCLUDE[prod_short](includes/prod_short.md)] does the following steps:  

1. If the **Purchase Order** for this particular vendor exists and there's a purchase order number in the receive **E-Document** file, [!INCLUDE[prod_short](includes/prod_short.md)] automatically links this **E-Document** with the mentioned **Purchase Order**, and the **Document Status** of this **E-Document** is set to **In Progress**, and the **E-Document Status** in the **Service Status** subpage is set to **Order linked**. This link is visible in the **Document** field on this specific **E-Document**. If you need to change the **Purchase Order** linked automatically, you can do it using the **Update Purchase Order Link** action and manually select one of the existing purchase orders for this vendor. You can only do it before matching the lines between **E-Document** and **Purchase Order**.  

1. If the **Purchase Order** for this particular vendor exists but there's no purchase order number in the received **E-Document** file, [!INCLUDE[prod_short](includes/prod_short.md)] offers the possibility to choose one of the existing purchase orders when and if you uploaded this document manually. This condition opens the **Purchase Orders** list with orders only for the vendor from whom you received the **E-Document**. You need to select the **Purchase Order** you want and then select **OK**. If you failed to select the correct **Purchase Order**, or obtained the **E-Document** automatically from an external endpoint using the **Job Queue**, a new **E-Document** isn't linked to any purchase document. The **Document Status** then shows **Error**, and the **E-Document Status** in the **Service Status** subpage also shows **Imported document processing error**. To finish linking with the **Purchase Order**, select the **Update Purchase Order Link** action and choose one of the existing purchase orders for this vendor.

1. If the **Purchase Order** for this particular vendor doesn't exist when a new **E-Document** is created, [!INCLUDE[prod_short](includes/prod_short.md)] creates a new **Purchase Order**, using the same model of creation that already exists for new **Purchase Invoices**. The **Document Status** of this **E-Document** is set to **Processed**, and the **E-Document Status** in the **Service Status** subpage is set to **Imported document created**. After which, this link is visible in the **Document** field on this specific **E-Document**.

### Match lines from received e-document with purchase order  

You can match your received electronic documents with purchase orders' lines from two different places: from the **E-Document** page or from the **Purchase Order** page. The easiest way to locate the already linked **Purchase Orders** is to use the **Linked Purchase Orders** tile as a part of **E-Document Activities**. All nonlinked documents can be found using the tile **Waiting Purchase E-Invoices** where you have a list of **E-Documents** that you need to review. The **E-Document Activities** with these two tiles can be found in the following **Role Centers**: Business Manager Evaluation, Business Manager, Accountant, Inventory Manager, and Shipping and Receiving.

> [!TIP]
> There are two ways to match lines. One way is to do it manually, as described in the article. The other way is to use the **E-document matching assistance with Copilot**. The E-document matching assistance feature helps you match received electronic invoices with existing purchase order lines by using large language modules (LLM) model. Learn more about [using Copilot][Map e-documents to purchase order lines with Copilot](map-edocuments-with-copilot.md).
> [!NOTE]
> If the VAT percentage differs between the incoming document and the company's VAT percentage, matching documents can't be used in a multi-country environment.  

#### Match lines from purchase order  

You can match the lines from the **Purchase Orders** list or from one of the opened **Purchase Orders**. To begin the process, use the following steps:  

1. Select the **Linked Purchase Orders** tile on your Role Center if there's a number.
1. Choose one of the two options for matching:

   - If you want to match the lines from the **Purchase Orders** list, select the **Purchase Order** line that you want to match and select the **Map E-Document Lines** action.  
   - If you want to first open the **Purchase Order**, open the document and then select the **Map E-Document Lines** action.
1. Because both options have the same process, the **Purchase Order Matching** page opens with the following content:

    1. In the header, you can find the following information, which can help you to map the lines easier:

       |Field name |Description |
       |--------|-----------------|
       |Vendor Name |Specifies the vendor’s name of the electronic document. |
       |E-Document No. |Specifies the linked electronic document number. |
       |E-Document Date |Specifies the linked electronic document date.  |
       |E-Document Amount |Specifies the linked e-document total amount including VAT. |

    1. In the lines, you can find the lines imported from the **E-Document** file on the left side and the lines from the existing **Purchase Order** on the right.  
    1. All lines on both sides have item numbers and descriptions, together with the **Direct Unit Cost** and **Line Discount %**.  
    1. On the **Imported Lines** side, you can also locate the **Quantity** field as a total quantity from e-invoice and the **Matched Quantity** field specifying the quantity that is already matched to the purchase order lines.
    1. On the **Purchase Orders Lines** side, you can also find the **Available Quantity** as the quantity that can be matched to this line (received, but not invoiced quantity) and **Qty. to Invoice**, specifying the quantity that is already matched to this line.
    1. To match lines, select the lines on both sides that you want to match and select the **Match Manually** action. The matched lines are marked in green.
    1. It's possible to match one to one, but it's also possible to match many to one or one to many, by selecting more lines on one side or the other before you choose the **Match Manually** action.
    1. You can also select the **Match Automatically** action to automatically match all lines with the same **Type**, **No.**, **Unit Price**, **Discount**, and **Unit of Measure**.
    1. If you make a mistake, you can select the **Remove Match** action to remove the matched lines on the purchase order side or select the **Reset Matching** action to reset all matches.
    1. If your **E-Document** has many lines, you can select the **Show Pending Lines** action during the matching process to remove all the e-document lines if they're already matched. If you need to view all the lines, you can always select the **Show All Lines** action.

1. After you finish the matching, select the **Apply To Purchase Order** action.
1. After you apply the matching to the purchase order, [!INCLUDE[prod_short](includes/prod_short.md)] updates the following fields:

    1. The **Vendor Invoice No.** and **Document Date** fields on the document header update with values from the electronic document that you received and linked.
    1. The **Qty. to Invoice** field on the lines update with the values from the **Qty. to Invoice** column from the **Purchase Order Matching** page based on the match.
    1. Now you can post the document by choosing the **Post** action.  
    1. After you post the document, the value in the **Document** field on the **E-Document** page changes to relate to the **Posted Purchase Invoice**.
    1. Close the page.  

> [!IMPORTANT]
> By default, you can match only the lines that have the same total amount in both documents. That means **Direct Unit Cost** together with the applied Line **Discount %** must be the same, because in one document you can have an amount without discount and in another with discount.  

If you want to add tolerance and allow the difference between lines in e-invoice and purchase order, follow these steps:

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchases & Payables Setup**, and then select the related link.  
1. Allow tolerance in the **E-Document Matching Difference %** field by specifying the maximum percentage of cost difference to allow when matching an incoming e-document line with a purchase order line.
1. This setup applies to all the matching lines, but considers the tolerance for the total amount, as for **Direct Unit Cost** together with applied **Line Discount %**.  
1. Close the page.

##### Other options

If your inbound electronic invoice has lines that aren't on your purchase order, [!INCLUDE[prod_short](includes/prod_short.md)] prevents you from posting the document because you can't partially post an incoming invoice. Therefore, you must ensure that you all invoice lines are correctly mapped to the purchase order. If you experience this issue, follow these steps to resolve it:

1. On the **Imported Lines** FastTab on the **Purchase Order Matching** page, choose the line that doesn't exist on the purchase order. Now choose the :::image type="content" source="media/assist-edit-icon.png" alt-text="Screenshot of the AssistEdit button."::: button, and choose the **Create Purchase Order Line** action.
1. On the **E-Doc. Create Purch Order Line** page, in the **Type** field, choose the type of line you want to create in your purchase order. You can choose any of type.
1. Based on the line type, you can choose the **No.** to specify what you received. For example, an item, general ledger account, resource, and so on.
1. The unit of measure, quantity, amount, discount, and other values are copied from the inbound invoice line.
1. You can select the **Learn matching rule** field to specify whether to create a matching rule. This feature works only for items and G/L accounts. Item references are created for items and text to account mappings are created for G/L accounts.
1. Select **OK**.
1. A purchase order line is created on the purchase order, and you can map it on the **Purchase Order Lines** FastTab on the **Purchase Order Matching** page.

> [!NOTE]
> If you change the quantity, the unit amount recalculates to the same total amount as the original invoice line.

#### Matching lines from e-document  

You can match the lines on the **E-Document** page. To begin, use the following steps:  

1. Select the ![Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **E-Documents**, and then select the related link.
1. Select the **E-Document** that you want to match.
1. Choose the **Match Purchase Order** action to open the **Purchase Order Matching** page.  
1. Repeat the same steps that you used when you started matching from purchase orders.

## Overview of e-document statuses

To get a better overview of all e-documents in the company, you can select the **Accountant** Role Center where e-document statuses exist. There, you can find e-document activities that have the following statuses:

- **Incoming e-documents:**
  - Processed
  - In Progress
  - Error

## Related information

- [Set up e-documents](finance-how-setup-edocuments.md)  
- [Use e-document in the sales process](finance-how-use-edocuments.md)  
- [Extending e-documents functionality](/dynamics365/business-central/dev-itpro/developer/devenv-extend-edocuments)  
- [Financial Management](finance.md)  
- [Invoice sales](sales-how-invoice-sales.md)  
- [Record purchases with purchase invoices and orders](purchasing-how-record-purchases.md)  
- [Work with Business Central](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-set-up-electronic-document-sending-and-receiving
---
title: How to Set Up Electronic Document Sending and Receiving | Microsoft Docs
description: As an alternative to emailing as file attachments, you can send and receive business documents electronically.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Electronic Document Sending and Receiving

> [!NOTE]
> The content in this article is only applicable for versions of Dynamics 365 Business Central that were released before 2023 release wave 2. In 2023 release wave 2, new functionality for E-Documents is included. To learn more, see [Set up e-documents](finance-how-setup-edocuments.md). 


As an alternative to emailing as file attachments, you can send and receive business documents electronically. By electronic document is meant a standard\-compliant file representing a business document, such as an invoice from a vendor that can be received and converted to a purchase invoice in [!INCLUDE[prod_short](includes/prod_short.md)]. The exchange of electronic documents between two trading partners is performed by an external provider of document exchange services. The generic version of [!INCLUDE[prod_short](includes/prod_short.md)] supports sending and receiving electronic invoices and credit memos in the PEPPOL format, which is supported by the largest providers of document exchange services. A major provider of document exchange services is preconfigured and ready to be set up for your company.  

From PDF or image files representing incoming documents, you can have an external OCR service (Optical Character Recognition) create electronic documents that you can then convert to document records in [!INCLUDE[prod_short](includes/prod_short.md)], like for electronic PEPPOL documents. For example, when you receive an invoice in PDF format from your vendor, you can send it to the OCR service from the **Incoming Documents** page. After a few seconds, you receive the file back as an electronic invoice that can be converted to a purchase invoice for the vendor. If you send the file to the OCR service by email, then a new incoming document record is automatically created when you receive the electronic document back.  

The **PEPPOL** electronic document format is preconfigured to enable you to send electronic invoices and credit memos in the PEPPOL format. First, you must set up various master data, such as company information, customers, items, and units of measure. These are used to identify the business partners and items when converting data in fields in [!INCLUDE[prod_short](includes/prod_short.md)] to elements in the outgoing document file. Last, you must select the format on the **Electronic Document Format** page for each customer who you will send electronic PEPPOL documents to. For more information, see [Send Electronic Documents](sales-how-to-send-electronic-documents.md).  

The **PEPPOL – Invoice** and **PEPPOL – Credit Memo** data exchange definitions are preconfigured to enable you to receive electronic invoices and credit memos in the PEPPOL format. First, you must set up various master data, such as company information, vendors, items, and units of measure. These are used to identify the business partners and items when converting data in elements in the incoming document file to fields in [!INCLUDE[prod_short](includes/prod_short.md)]. Last, you must select the data exchange definition on the **Incoming Documents** page for each incoming electronic document that you want to convert to a purchase document in [!INCLUDE[prod_short](includes/prod_short.md)].  

The **OCR – Invoice** data exchange definition is preconfigured to enable you to receive electronic documents that are generated by the OCR service. To receive, for example, an invoice as an electronic OCR document, you set up master date and then process the document just as when receiving an electronic PEPPOL document. For more information, see [Use OCR to Turn PDF and Image Files into Electronic Documents](across-how-use-ocr-pdf-images-files.md).  

The preconfigured services for document exchange and OCR must be enabled before you send or receive. For more information, see [Set Up a Document Exchange Service](across-how-to-set-up-a-document-exchange-service.md).  

The topic contains the following procedures:  

* To set up the company for electronic document sending and receiving  
* To set up VAT posting for electronic document sending and receiving  
* To set up countries/regions for electronic document sending and receiving  
* To set up items for electronic document sending and receiving  
* To set up units of measure for electronic document sending and receiving  
* To set up customers for electronic document sending  
* To select the **PEPPOL** electronic document format for electronic document sending  
* To set up vendors for electronic document receiving  
* To select the **PEPPOL – Invoice** data exchange definition for electronic document receiving  
* To set up the G/L account to use on new purchase invoice lines for non\-identifiable items and non\-items  

### To set up the company for electronic document sending and receiving

1. In the **Search** box, enter **Company Information**, and then choose the related link.  
2. On the **General** FastTab, fill the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**GLN**|Identify your company.<br /><br /> For example, when you send electronic invoices in the PEPPOL format, the value in this field is used to populate the **EndPointID** element under the **AccountingSupplierParty** node in the file. The number is based on the GS1 standard, which is compliant with ISO 6523.|  
    |**VAT Registration No.**|Specify your company's VAT registration number.|  
    |**Responsibility Center**|If your company is set up with a responsibility center, make sure that the **Country/Region Code** field is filled.|  

### To set up VAT posting for electronic document sending and receiving

1. In the **Search** box, enter **VAT Posting Setup**, and then choose the related link.  
2. For each VAT posting setup line that you will use for electronic documents, fill the field as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Tax Category**|Specify the VAT category.<br /><br /> For example, when you send electronic invoices in the PEPPOL format, the value in this field is used to populate the **TaxApplied** element under the **AccountingSupplierParty** node in the file. The number is based on the UNCL5305 standard.|  

### To set up countries/regions for electronic document sending and receiving

1. In the **Search** box, enter **Country/Regions**, and then choose the related link.  
2. For each country/region that you will exchange electronic documents with, fill the field as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**VAT Scheme**|Identify the national body that issues the VAT registration number for the country\/region in connection with electronic document sending.<br /><br /> For example, when you send electronic invoices in the PEPPOL format, the value in this field is used to populate the **SchemeID** attribute for the **EndPointID** element under both the **AccountingSupplierParty** node and the **AccountingCustomerParty** in the file.<br /><br /> The **VAT Scheme** field is only used if the **GLN** field on the **Company Information** page is not filled. **Note:**  The value in the **Code** field on the **Countries\/Regions** page must comply with ISO 3166\-1:Alpha2.|  

### To set up items for electronic document sending and receiving

1. In the **Search** box, enter **Items**, and then choose the related link.  
2. For each item that you buy or sell on electronic documents, fill the field as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**GTIN**|Identifies the item in connection with electronic document sending and receiving. For the PEPPOL format, the field is used as follows:<br /><br /> If the **StandardItemIdentification\/ID** element has the **SchemeID** attribute set to **GTIN**, then the element is mapped to the **GTIN** field on the item card.|  

### To set up units of measure for electronic document sending and receiving

1. In the **Search** box, enter **Units of Measure**, and then choose the related link.  
2. For each unit of measure that you will use for items on electronic documents, fill the field as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**International Standard Code**|Specify the unit of measure code expressed according to the UNECERec20 standard in connection with sending of electronic documents.<br /><br /> For example, when you send electronic invoices in the PEPPOL format, the value in this field is used to populate the **unitCode** attribute of the **InvoicedQuantity** element under the **InvoiceLine** node. **Note:**  If the **Unit of Measure** field on the sales line is empty, the UNECERe20 standard value for "Piece" \(H87\) is inserted by default. For more information and a list of valid unit of measure codes, see [Recommendation No. 20 \- Units of Measure used in International Trade](https://www.unece.org/fileadmin/DAM/cefact/recommendations/rec20/rec20_rev3_Annex2e.pdf).|  

### To set up customers for electronic document sending

1. In the **Search** box, enter **Customers**, and then choose the related link.  
2. For each customer who you will send electronic documents to, fill the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**GLN**|Identify the customer.<br /><br /> For example, when you send electronic invoices in the PEPPOL format, the value in this field is used to populate the **EndPointID** element under the **AccountingCustomerParty** node in the file. The number is based on the GS1 standard, which is compliant with ISO 6523.<br /><br /> If the **GLN** field is blank, the value in the **VAT Registration No.** field is used.|  
    |**VAT Registration No.**|Specify the customer's VAT registration number. **Tip:** In supported localized versions, choose the DrillDown button to use the web service that verifies if the number exists in the national company register.|  
    |**Responsibility Center**|If the customer is set up with a responsibility center, make sure that the **Country/Region Code** field is filled.|  

    You can set up each customer with a preferred method of sending business documents, so that you do not have to select a sending option every time that you send a document to the customer. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).  

### To select the PEPPOL electronic document format for electronic document sending  
1. In the **Search** box, enter **Document Sending Profiles**, and then choose the related link.  
2. Open an existing document sending profile, or create a new one. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).  
3. On the **Document Sending Profile** page, choose the **Electronic Format**, select the line for PEPPOL, and then choose **OK**.  
4. In the **Electronic Document** field, select **Yes (Through Document Exchange Service)**.  

    > [!NOTE]  
    >  [!INCLUDE[prod_short](includes/prod_short.md)] automatically detects if the document is an invoice or a credit memo and applies the PEPPOL format accordingly.  

5. To make this document sending profile apply to all customers, select the **Default** check box on the **General** FastTab. To make it apply to specific customers only, fill the **Document Sending Profile** field on the customer cards in question. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).  

    You can now send the electronic document containing the converted data. For more information, see [Send Electronic Documents](sales-how-to-send-electronic-documents.md).  

### To set up vendors for electronic document receiving  
1. In the **Search** box, enter **Vendors**, and then choose the related link.  
2. For each vendor that you will receive electronic documents from, fill the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**GLN**|Identify the vendor.<br /><br /> For example, when you receive electronic invoices in the PEPPOL format, the value in this field is used to populate the **EndPointID** element under the **AccountingSupplierParty** node in the file. The number is based on the GS1 standard, which is compliant with ISO 6523.<br /><br /> If the **GLN** field is blank, the value in the **VAT Registration No.** field is used.|  
    |**VAT Registration No.**|Specify the vendor's VAT registration number. **Tip:** In supported localized versions, choose the DrillDown button to use the web service that verifies if the number exists in the national company register.|  
    |**Responsibility Center**|If the vendor is set up with a responsibility center, make sure that the **Country/Region Code** field is filled.|  

### To select the PEPPOL - Invoice data exchange definition for electronic document receiving  
1. In the **Search** box, enter **Incoming Documents**, and then choose the related link.  
2. On the line for the electronic document that you want to receive and convert, choose the **Data Exchange Type** field, and then select **PEPPOLINVOICE**.  

     If the document to receive is a credit memo, select **PEPPOLCREDITMEMO**.  

    You can now receive the electronic document by starting the data conversion process on the **Incoming Documents** page. For more information, see [Receive and Convert Electronic Documents](purchasing-how-to-receive-and-convert-electronic-documents.md).  

### To set up the G/L account to use on new purchase invoice lines for non-identifiable items and non-items  
1. In the **Search** box, enter **Purchases & Payables Setup**, and then choose the related link.  
2. On the **Default Accounts** FastTab, fill the field as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**G/L Account for Non-Item Lines**|Specifies the G/L account that is automatically inserted on purchase lines that are created from electronic documents when the incoming document line does not contain an identifiable item. Any incoming document line that does not have a GTIN or the vendor's item number will be converted to a purchase line of type **G/L Account**, and the **No.** field on the purchase line will contain the account that you select in the **G/L Account for Non-Item Lines** field.<br /><br /> If you leave the **G/L Account for Non-Item Lines** field blank, and the incoming document has lines without identifiable items, then the purchase document will not be created. An error message will instruct you to fill the **G/L Account for Non-Item Lines** field before you can complete the task.|  

## Related information  
[Exchanging Data Electronically](across-data-exchange.md)   
[Invoice Sales](sales-how-invoice-sales.md)   
[Record Purchases](purchasing-how-record-purchases.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/intercompany-how-setup
---
title: Set Up intercompany transaction posting
description: Learn how to set up an intercompany partnership. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/19/2024
ms.custom: bap-template
ms.search.keywords: IC, group, consolidation, affiliate, subsidiary
ms.search.form: 605, 613, 617, 620, 602, 603, 601, 600, 652, 653, 606, 607, 609, 608, 621, 653_Primary
ms.service: dynamics-365-business-central
---
# Set up intercompany transactions

Intercompany partnerships make it easier to handle accounting processes when two or more subsidiaries of a company frequently do business with each other. Partners can exchange transactions, such as sales and purchases, and handle them either manually or automatically. For example, when a partner sends a sales journal line to another partner, a purchase journal line is created for the receiving partner.

The intercompany chart of accounts can be, for example, a version of the synchronization partner's chart of accounts. Each partner maps their accounts to the intercompany chart of accounts. Each partner also maps their dimensions and dimension values to the intercompany dimensions.

## Before you start

Before you start to set up your intercompany partnership, there are a few decisions to make.

|Decision  |Description  |
|---------|---------|
|Which chart of accounts should be the basis for the intercompany chart of accounts?     | All companies in the partnership must use the same intercompany chart of accounts. You can base your intercompany chart of accounts on the chart of accounts from one of the companies in the partnership, or create a new intercompany chart of accounts. You map the accounts to use in the partnership in both ways, so that each partner both sends and receives transactions in the correct accounts. Learn more about setting up the intercompany chart of accounts at [Set up the intercompany charts of accounts](#set-up-the-intercompany-charts-of-accounts).         |
|Which dimensions should be the basis for the intercompany dimensions?     | If you use intercompany dimensions, they must be the same for all companies in the partnership. After you specify your intercompany dimensions, map their dimension values. Learn more about mapping dimension values at [Set up intercompany dimensions](#set-up-intercompany-dimensions).        |
|Which partners are customers or vendors, or both?     |  Learn more about setting up customers and vendor companies in an intercompany partnership at [Set up intercompany partners as customers and vendors](#set-up-intercompany-partners-as-customers-and-vendors).       |
|Do you want to specify bank accounts to use in the partnership?| You can speed up the process of registering payment transactions by specifying the bank account to use for each partner company. Learn more at [Specify bank accounts for intercompany partners](#specify-bank-accounts-for-intercompany-partners). |
|How do you want to identify the companies in the partnership?     | All parties must agree on a unique intercompany partner identification code for each company. You assign the code to customer and vendor cards to identify related transactions. Learn more about identifiers at [Create Number Series](ui-create-number-series.md).        |
|How do you want to handle item numbers?     | If intercompany lines contain items, you can either use your own item numbers, or you can set up your partner's item numbers for each item, either in the **Vendor Item No.** field or in the **Common Item No.** field on the item card. You can also use the **Item Reference** action to map your items' numbers to your intercompany partners descriptions of the items. To learn more about item references, go to [Use Item References](inventory-how-use-item-cross-refs.md).        |
|Are resources involved?     | If intercompany sales transactions include resources, fill in the **IC Partner Purch. G/L Acc. No.** field on the resource card for each resource. The field contains the number of the intercompany general ledger account that the amount for this resource posts to in the partner company. To learn more about resources, go to [Set Up Resources](projects-how-setup-resources.md).<br><br>**NOTE**<br>Intercompany purchase transactions that include resources, fixed assets, and item charges aren't fully supported. In the partner company, the **Line Type** field is blank on purchase document lines that include these entities. You must manually update the field.        |

## Overview of the steps to get started

Use the **Intercompany Setup** page to set up the following components of intercompany transactions:

* Your company's intercompany settings.
* The company that is the synchronization partner.
* The intercompany chart of accounts that all partners use to exchange transactions.
* The mappings between accounts in the chart of accounts and intercompany chart of accounts for inbound and outbound transactions for each partner.
* The intercompany dimensions and dimension values to use, and how they're mapped to dimensions for each partner.
* The companies that are the intercompany partners.
* The companies that are vendors or customers, or both.

## Set up a synchronization partner

All partners must use the same intercompany chart of accounts and, if needed, the same intercompany dimensions. You can save time when you set up the partnership by using the chart of accounts and dimensions for one of the partners as a baseline for the intercompany chart of accounts and dimensions. The company that you use as the baseline is called the *synchronization partner*. Typically, the synchronization partner is the headquarter company, but it doesn't have to be.

On the **Intercompany Setup** page, each partner specifies the synchronization partner in the **Synchronization Partner** field. Afterward, the intercompany chart of accounts and intercompany dimensions are automatically specified for them, based on the setup for the synchronization partner. The partners then use the **Intercompany Chart of Accounts Mapping** and **Intercompany Dimension Mapping** pages to map their chart of accounts and dimensions to the intercompany chart of accounts and dimensions, and vice versa. 

> [!NOTE]
> It's important to map accounts and dimensions in both directions. That is, both to the intercompany chart of accounts and dimensions, and from them to your own accounts and dimensions.

### Connect with partners in another tenant or environment

If one or more partners' [!INCLUDE [prod_short](includes/prod_short.md)] is in another tenant or environment, there are a few extra steps to create the connection. The steps apply to all partners in another tenant or environment.

* Set up [!INCLUDE [prod_short](includes/prod_short.md)] as a registered app in Azure portal.
* Add and enable the app registration in [!INCLUDE [prod_short](includes/prod_short.md)].
* Exchange information about their intercompany setups. Each partner can get this information from the **Intercompany Setup**, **Actions**, **Connection Details**.

   |Copy from the partner's setup  |Copy to your setup  |
   |---------|---------|
   |Current Connection URL     |IC Partner's Connection URL         |
   |Current Company ID     |IC Partner's Company ID         |
   |Intercompany ID     |IC Partner's Intercompany ID         |
   |Company Name     |IC Partner's Company Name         |

* Exchange the following authentication settings so that [!INCLUDE [prod_short](includes/prod_short.md)] can authenticate when it connects. Each partner can get this information from their registered app. To learn more about how to create a registered app, go to [Create a registered app in Azure portal](#create-a-registered-app-in-azure-portal).  

  * Client ID
  * Client secret
  * Token endpoint
  * Redirect URL

Run the **Intercompany Setup**, **Actions**, **Connection Details** in all companies to specify the information.

#### Create a registered app in Azure portal

This process is only necessary if you want to connect with a partner whose [!INCLUDE [prod_short](includes/prod_short.md)] is in a different tenant or environment.

> [!TIP]
> It's a good idea to have a text editor open, such as Notepad, while you create your registered app. You'll need some of the information when you run the **Intercompany Setup**, **Actions**, **Connection Details**, so it's nice to have the information handy.

1. Go to [Azure portal](https://portal.azure.com/#home).
2. Choose the **Microsoft Entra ID** service.
3. In the navigation pane, choose **App registrations**.
4. On the **App registrations** page, choose **new registration**.
5. Give the application a name.
6. Choose the **Accounts in any organizational directory (Any Microsoft Entra ID tenant - Multitenant)** account type.
7. For the redirect URI, in the **Select a platform** field, choose **Web**, and then provide the URI. For example, \**https://businesscentral.dynamics.com/OAuthLanding.htm**.

  If you're working with an embed ISV, you might need a different URI.

8. Register the app.
9. On the **Intercompany App** page, on the navigation pane, choose **API permissions**.
10. Choose the **Add a permission** action.
11. On the **Microsoft APIs** tab, choose **Dynamics 365 Business Central**.
12. On the **Request API Permissions** pane, choose **Application permissions**, and then choose the **API.ReadWrite.All** permission.
13. On the **Intercompany App | API permissions** page, choose the **Grant admin consent for Contoso** action, and then grant consent.
14. On the navigation pane, choose **Certificates & secrets**.
15. Choose the **Client secrets** tab, and then choose **New client secret**.
16. On the **Add a client secret** pane, enter a name for the secret, and specify when it expires.

  > [!NOTE]
  > All partners who are in different environments must renew the secret before it expires.

  > [!IMPORTANT]
  > Copy the ID in the **Value** field before you leave the **Intercompany App | Certificates & secrets** page. You'll need it in a later step, and it won't be available after you leave the page. For example, paste the value in a text editor.

17. On the navigation pane, choose **Overview**.
18. Copy the value in the **Application (client) ID** field. For example, paste the value in a text editor.
19. Choose the **Endpoints** action, and then copy the value in the **OAuth 2.0 token endpoint (v2)** field. For example, paste the value in a text editor.
20. Copy the value in the **Directory (tenant) ID** field. For example, paste the value in a text editor.
21. In the token value you copied, replace **organizations** with the value you copied from the **Directory (tenant) ID** field in the previous step.

#### Add and enable your registered app in Business Central

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Microsoft Entra Application Card**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]
3. In the **State** field, choose **Enabled**. 
4. Choose the **Grant Consent** action. 
5. In the **Permission Set** field, choose **D365 INTERCOMPANY CE & DATA ACCESS IC CE** permission sets.

## Set up the intercompany charts of accounts

All partners must use the same intercompany chart of accounts, and map the accounts in their own chart of accounts to it. If the chart of accounts for your company defines the intercompany chart of accounts for your partner companies, follow the steps in this section.

If you're using an XML file that contains the intercompany chart of accounts, follow the steps in [Import or export an intercompany chart of accounts](intercompany-how-setup.md#import-or-export-an-intercompany-chart-of-accounts).  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Chart of Accounts** action.
3. To add accounts, do one of the following on the **Intercompany Chart of Accounts** page:
    * Choose **New**, and then enter each account on a line on the page.  
    * If your intercompany chart of accounts is identical or similar to your regular chart of accounts, you can fill on the page automatically by choosing the **Copy from Chart of Accounts** action. You can edit the new lines as needed.
    * If you set up an intercompany chart of accounts for a synchronization partner, use the **Synchronization Setup** action to copy those accounts.

    > [!TIP]
    > If you copy the intercompany chart of accounts from a synchronization partner, you can use the **Synchronization Setup** action to update your intercompany accounts with any changes the partner makes to theirs.

The next step is to map your chart of accounts to the intercompany chart of accounts. Learn more at [Map the intercompany chart of accounts to your company's chart of accounts](#map-the-intercompany-chart-of-accounts-to-your-companys-chart-of-accounts).

### Import or export an intercompany chart of accounts

The synchronization company can share its chart of accounts with partners by exporting it to a file. Partners can import the file to get the chart of accounts.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Chart of Accounts** action.
3. On the **Intercompany Chart of Accounts** page, choose the **Import/Export** action, and then choose either **Import** or **Export**.
4. Choose the file to import or export.  

The **Intercompany Chart of Accounts** page is filled with new or edited G/L account lines according to the intercompany chart of accounts in the file. Any existing, unrelated lines on the page remain unchanged.

## Map the intercompany chart of accounts to your company's chart of accounts  

After you define or import the intercompany chart of accounts, map each intercompany account with one of your accounts. On the **Intercompany Chart of Accounts** page, you specify how intercompany G/L accounts on incoming transactions map to G/L accounts from your company's chart of accounts.

If the intercompany accounts and your accounts have the same numbers, you can map the accounts automatically.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.  
2. Choose the **IC Chart of Accounts** action.

    > [!TIP]
    > To access the actions on the page, you might need to expand the page to the wide layout view.

3. On the **Intercompany Chart of Accounts** page, choose the **Chart of Accounts Mapping** action.
4. You can map the accounts manually, or automatically.

    * To manually create the mapping, on the **Intercompany Chart of Account** and **G/L Chart of Accounts** panes, choose an account, and then choose an account in the **G/L No.** and **IC No.** fields.
    * To automatically map accounts that have the same numbers, select the lines that you want to map, choose the **Map to Acc. with Same No** action, and then choose the chart of accounts to update.

    > [!TIP]
    > If you want to map many or perhaps all accounts, choose a line, choose :::image type="icon" source="media/show-more-options-icon.png" border="false":::, and then choose **Select More**.

## Set up intercompany dimensions

If partners exchange transactions with dimensions linked to them, agree on the dimensions that all of you use. For example, the synchronization company can create a simplified version of their dimensions, export them to an XML file, and then distribute the file to each partner. Each partner can import the XML file on the **Intercompany Dimensions** page and then map the intercompany dimensions to their dimensions. Learn more at [Map intercompany dimensions to your company's dimensions](#map-intercompany-dimensions-to-your-companys-dimensions).

> [!NOTE]
> Each company must map their dimensions to the intercompany dimensions for outgoing documents and incoming documents. Mapping accounts in both directions is important, and helps maintain consistency across the companies.

If partners use the synchronization partner's intercompany dimensions, follow the steps in this section. If you want to share using an XML file that contains the intercompany dimensions, follow the steps in [Import or export intercompany dimensions](#import-or-export-intercompany-dimensions).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.  
2. Choose the **IC Dimensions** action.
3. To add dimensions, do one of the following on the **Intercompany Dimensions** page:
    * Choose **New**, and then enter each dimension on a line.  
    * If your intercompany dimensions are identical or similar to your regular dimensions, you can fill on the page automatically by choosing the **Copy from Dimensions** action. Afterward, you can edit the lines as needed.
    * If you specify intercompany dimensions for a synchronization partner, use the **Synchronization Setup** action to copy those dimensions.

    > [!TIP]
    > If you copy the intercompany dimensions from a synchronization partner, you can use the **Synchronization Setup** action to update your intercompany dimensions with any changes the partner makes to theirs.  

### Import or export intercompany dimensions  

The synchronization company can share its dimensions with partners by exporting them to a file. Partners can import the file to get the dimensions.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Dimensions** action.  
3. On the **Intercompany Dimensions** page, choose the **Import/Export** action, and then choose either **Import** or **Export**.
4. Choose the file to import or export.

The next step is to map the dimensions with the intercompany dimensions. Learn more at [Map intercompany dimensions to your company's dimensions](#map-intercompany-dimensions-to-your-companys-dimensions).

### Map intercompany dimensions to your company's dimensions

After you specify the dimensions you use, map each intercompany dimension with one of your company's dimensions, and vice versa. Use the **Intercompany Dimensions Mapping** page to specify the mapping. Afterward, repeat the process for the dimension values.

* Specify how intercompany dimensions on incoming transactions map to dimensions from your company's list of dimensions.
* Specify how your dimensions translate to intercompany dimensions on *outgoing transactions*.

If any of the intercompany dimensions have the same code as the corresponding dimensions in your company, you can automatically map the dimensions.  

In the following steps, you first map intercompany dimensions to dimensions for incoming documents in the **Intercompany Dimensions** pane. Then, you map dimensions to intercompany dimensions for outgoing documents on the **Current Company Dimensions** pane.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. Choose the **IC Dimensions** action.
3. On the **Intercompany Dimensions** page, choose the **Dimensions Mapping** action.
4. You can map the dimensions manually, or automatically.

    * To manually create the mapping, on the **Intercompany Dimensions** and **Current Company Dimensions** panes, choose a dimension, and then choose a dimension in the **Dim. Code** and **IC Dim. Code** fields.
    * To automatically map dimensions that have the same code, select the lines that you want to map, choose the **Map dimensions with same code** action, and then choose the dimensions to update. 

    > [!TIP]
    > If you want to map many or perhaps all dimensions, choose a line, choose :::image type="icon" source="media/show-more-options-icon.png" border="false":::, and then choose **Select More**.

5. Choose the **Dimension Values Mapping** action.
6. On the **Intercompany Dimension Values Mapping** page, the steps to create the mapping are similar to what you just did for dimensions.

## Set up intercompany general journal templates and batches

You must set up a general journal template and a general journal batch to use by default for intercompany transactions. The template and batch are especially important if you automatically accept intercompany transactions from your partners. To learn more about autoaccepting transactions, go to [Autoaccept transactions from intercompany partners](#autoaccept-transactions-from-intercompany-partners).

* General journals are used to post to general ledger accounts and other accounts, such as bank, customer, and vendor accounts. Posting with a general journal always creates entries on general ledger accounts. Use the **Intercompany General Journal** page to set up the general journal batch to use. The settings that are specific to intercompany transactions are the accounts you specify in the **IC Account Type** and **IC Account No** fields.
* Journal templates give you a journal page designed for a specific purpose. That is, the fields in journal templates are exactly the ones needed for a particular part of the program. Use the **General Journal Templates** page to set up a template to use for intercompany transactions.

To learn more about general journal templates and batches, go to [Use journal templates and batches](ui-work-general-journals.md#use-journal-templates-and-batches).

## Set up a company for intercompany transactions

The following steps assume that a synchronization partner is set up with the chart of accounts and dimensions on which you base the intercompany chart of accounts and dimensions. You can set them up yourself, but it's typically faster to get started, and maintenance is easier, to you use a synchronization partner. To learn more about the synchronization partner, go to [Set up a synchronization partner](#set-up-a-synchronization-partner).

> [!TIP]
> It's a good idea to fill in the fields on the **General** FastTab on the **Intercompany Setup** page for each partner before you add their partners. When you add partner companies that are in the same tenant, [!INCLUDE [prod_short](includes/prod_short.md)] gets their IC code and company name from their setup on the General FastTab. The **Company Name** field will verify that their IC code is unique.

> [!NOTE]
> If you'll use a synchronization partner, leave the **Synchronization Partner** field blank when you set that company up for the partnership.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.  
2. On the **Intercompany Setup** page, fill in the fields on the **General** FastTab. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!NOTE]
> In [!INCLUDE[prod_short](includes/prod_short.md)] online, you can't use file locations to transfer transactions to your partners because [!INCLUDE[prod_short](includes/prod_short.md)] can't access your local network. Therefore, if you choose **File Location** in the **Transfer Type** field, the **Folder Path** field is not available. Instead, the file will be downloaded to the **Downloads** folder on your computer. You then send the file to someone in the partner company, for example, by email. For a more direct process, we recommend that you choose **Email**.

The next step is to set up the partner companies.

## Set up intercompany partners

Each partner must add all other companies in the partnership as a partner.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. On the **Intercompany Partners** FastTab, choose **Add**.
3. In the **Transfer Type** field, specify how you send data to the partner.

   > [!NOTE]
   > The **File Location** option works only for [!INCLUDE [prod_short](includes/prod_short.md)] on-premises.

4. Fill in the remaining fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
5. Repeat steps 3 and 4 for all companies in the partnership.

> [!NOTE]
> For intercompany posting, if you turn on the **Auto. Accept Transaction** toggle on the **Intercompany Partner** page [!INCLUDE[prod_short](includes/prod_short.md)] suppresses messages that warn about purchase invoices duplicating the original purchase order. It's important to have a business process for managing duplicates. For example, by deleting such purchase orders when the purchase invoice is received from the intercompany partner.

### Set up intercompany partners as customers and vendors

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intercompany Setup**, and then choose the related link.
2. On the **Intercompany Partners** FastTab, open the card page for the partner.
3. Depending on what you want to do, choose the customer or partner in the **Customer No.** or **Vendor No.** fields.

    > [!NOTE]
    > If the customer or vendor hasn't been created, you can choose **+New** in the drop-down menu to set them up. To learn more about creating customers and vendors, go to [Register New Customers](sales-how-register-new-customers.md) and [Register New Vendors](purchasing-how-register-new-vendors.md).

    > [!TIP]
    > You can also specify a customer or vendor as an intercompany partner by filling in the **IC Partner Code** field on the **Customer Card** and **Vendor Card** pages.

### Set up default intercompany partner general ledger accounts  

On the **G/L Account Card** page, for accounts that you regularly use on outgoing intercompany sales or purchase lines, you can specify a default intercompany partner general ledger account. For example, for your receivables accounts, you can enter the corresponding payables accounts from the intercompany chart of accounts. The receivables and payables accounts are used as the off-setting account for the intercompany partner when you post transactions on intercompany general journals.  

Then, when you enter a general ledger account in the **Bal. Account No.** field on an intercompany line with **Intercompany Partner** in the **Account Type** field, the **IC Partner G/L Account** field is automatically filled in.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. Open the G/L account that's used for intercompany transactions, and in the **Default IC Partner G/L Account** field, enter the intercompany general ledger account that your partner post to when you post to the general ledger account on the line.
3. Repeat step 2 for each account that you often enter in the **Bal. Account No.** field on a line in an intercompany journal or document.

### Autoaccept transactions from intercompany partners

To make it faster to process intercompany transactions, you can specify that you want to automatically create journal lines based on an intercompany partner's posts from the **IC General Journal** page. To autocreate incoming and outgoing transactions, you must turn on the following toggles for each partner:

* On the **Intercompany Setup** page, turn on the **Auto. Send Transactions** toggle for the synchronization partner. Then specify where to create received intercompany journal transactions by filling in the **Default IC Gen. Jnl. Template** and **Default IC Gen. Jnl. Batch** fields.

    > [!TIP]
    > If the **Default IC Gen. Jnl. Template** field is blank, you need to set up a general journal template to use for your intercompany general journals. To learn more about templates and batches, go to [Set up intercompany general journal templates and batches](#set-up-intercompany-general-journal-templates-and-batches)    

* On the **Intercompany Partner** page, turn on the **Auto Accept Transactions** toggle.

The journal lines are created for you, but not posted.

### Specify bank accounts for intercompany partners

To facilitate fast payments, specify one or more bank accounts to use for intercompany partners. When a partner uses an intercompany general journal to make a payment, they can specify the bank account on the line. The bank account is used as the balancing account in the receiving company, which minimizes the need to manually enter transactions.

* To specify the bank account to use, on the **Intercompany Partners** page, choose the **Bank Accounts** action. On the **Intercompany Bank Account Card**, enter the account information.

## Troubleshoot your intercompany setup

On the **Intercompany Setup** page, the **Intercompany Setup Diagnostics** pane contains tiles that indicate whether all of the components needed to exchange intercompany transactions are set up. The tiles are also available on the Business Manager Role Center. Choose the tiles to find out what's missing. For an overview of the required components, go to [Overview of the steps to get started](#overview-of-the-steps-to-get-started).

## Related information

[Managing Intercompany Transactions](intercompany-manage.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with General Journals](ui-work-general-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-item-variants
---
title: Manage product variants
description: Learn how you can record products that are almost identical but vary in color, size, or material as item variants.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: item, variant, finished good, component, raw material, assembly item, item substitution
ms.search.form: 30, 5717, 31, 32, 346, 9091, 5718, 5716, 5720, 1384, 1383, 35, 5404, 1378, 5719
ms.date: 06/13/2024
ms.service: dynamics-365-business-central
---

# Manage product variants

Item variants are a great way to keep your list of products under control. For example, you have a large number of items that are almost identical and vary only in color. You can define each variant as a separate item. But you can also choose to set up one item and specify the various colors as variants of the item.  

> [!TIP]
> For a practical introduction to using variants in production, see [Walkthrough: Variants](contoso-coffee/manufacturing/variants.md) for the Contoso Coffee demo data.  

## Add variants to an item

It's easy enough to define variants for an item.  

### To add variants

1. Open [the **Items List** page](https://businesscentral.dynamics.com/?page=31), open the relevant item.  
2. On the **Item** card, choose the **Related** action, then choose **Item**, and then choose the **Variants** action.  
3. On the **Item Variants** page, list the variants.  

Then, when you create a sales document and add the item, you can specify the variant of the item in the Variant **Code** field. The same applies to purchasing documents.  

## Item availability by variant

[!INCLUDE [inventory_variant-availability](includes/inventory_variant-availability.md)]

## Require use of variants

Starting in 2022 release wave 2, admins can require that users specify the variant in documents and journals for items that have variants. To activate the capability, on the **Inventory Setup** page, and select the **Variant Mandatory if Exists** field. You can override this global setting for specific items.  

On item cards, the **Variant Mandatory if Exists** field has the following options:

|Field value |Description|
|---------|----|
|Default (No)| The setting from **Inventory Setup** applies to this item.|
|No| Users aren't required to specify a variant for this item.|
|Yes| If the item has one or more variants, users must specify the relevant variant. If they don't, they're blocked from posting the transaction.|

> [!NOTE]
> These settings don't affect items that don't have variants.

If the capability is switched on, you can't post an entry if the variant isn't specified.

## Categories, attributes, and variants

[!INCLUDE[inventory_variant](includes/inventory_variant.md)]

## Related information

[Register New Items](inventory-how-register-new-items.md)    
[Set Up General Inventory Information](inventory-how-setup-general.md)    
[Walkthrough: Variants](contoso-coffee/manufacturing/variants.md)    
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-define-ext-text
---
title: Add extended text
description: You can add extra lines to extend the standard text that describes an item, a G/L account, and other data.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 391, 30
ms.date: 08/21/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Add extended text

Use extended texts to communicate additional information for items, stock-keeping units, general ledger accounts, project planning lines, and resources. For example, the extra details might be about special prices, terms, or handling instructions. Provide the information by adding extra lines as extended text. You can also set up conditions for use of the extra lines.  

The following section describes how to add extended text to a description of an item. The same steps apply to stock-keeping units, general ledger accounts, project planning lines, and resources.  

## To define extended text for a description

1. Open the card for an item that you want to add extended text to, and then choose the **Extended Text** action.
2. Fill in the **Code** and **Description** fields.
3. Choose the **New**.
4. Fill in the **Language Code** field, or turn on the **All Language Codes** toggle if you use language codes.
5. Fill in the **Starting Date** and **Ending Date** fields if you want to limit the dates on which the extended text is used.
6. On the **Lines** FastTab, in the **Text** field, enter the extended text.
7. On the **Sales**, **Purchases**, and **Service** FastTabs, turn on the toggles for the documents you want to include the extended text.
8. Close the page.

You can now add this extended text to documents. The following procedure explains how to add extended text to a sales order, but the same steps apply to any other document that you specified for the extended text.  

## To add an extended item text on a sales order line

1. Open a sales order that has a sales line for an item with extended text. To learn more, go to [Sell Products](sales-how-sell-products.md).
2. Select the line, and then choose the **Insert Ext. Text** action.

## Related information

[Setting Up Inventory](inventory-setup-inventory.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-return-order-overview
---
title: Return Order Overview (Power BI report)
description: The Return Order Overview report tracks and analyzes return orders, providing insights into the financial effect on the organization.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37105_Primary
ms.date: 05/20/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Return Order Overview (Power BI Report)

[!INCLUDE[applies-to-2025w1](includes/applies-to-2025w1.md)]

The **Return Order Overview** report tracks and analyzes return orders, providing insights into return amounts, quantities, reasons for return, and the financial effect on the organization. The report gives a high-level summary of return trends for item categories and customers, and analyzes the return amount over time.

:::image type="content" source="media/powerbi/sales/sales-returns-overview.png" alt-text="Screenshot of the Return Order Overview report" lightbox="media/powerbi/sales/sales-returns-overview.png":::

## Use the report

Leadership and management teams use the report to identify key factors that cause return orders and credit memos.

For CEOs, you want to evaluate return trends to inform key business decisions. For example, you identify 60% of return reasons are attributed to damage during delivery. In response, you engage a new logistics partner to optimize shipping procedures and minimize product returns.

As a product manager, you want to identify the item attributes which contribute the most to return orders, to inform future product development. By analyzing the return amount, you identify a specific item category with lower profitability. These insights help identify a persistent component fault and implement production process improvements to reduce item defects.

As a salesperson, this report helps you monitor individual customer returns, to assist with managing client relationships. Using this report, you notice that a particular customer has the highest [Return Rate](sales-powerbi-sales-kpis.md#return-rate) and their return amount increased over the past month. Using this information, you decide to offer a special discount to rebuild client trust in the business.

## Key performance indicators

The report includes the following key performance indicators (KPIs) and measures:

- [Sales Amount](sales-powerbi-sales-kpis.md#sales-amount)
- [Sales Quantity](sales-powerbi-sales-kpis.md#sales-quantity)
- [Gross Profit](sales-powerbi-sales-kpis.md#gross-profit)
- [Return Rate](sales-powerbi-sales-kpis.md#return-rate)
- [No. of Return Orders](sales-powerbi-sales-kpis.md#no-of-return-orders)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)]

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sales Line
- Value Entry
- Customer
- Item Category
- Reason Code

## Try the report

Try the report here: [Return Order Overview](https://businesscentral.dynamics.com?page=37105)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-experiences
---
title: Change which features are displayed
description: Learn what the Essentials and Premium user experience tiers mean for the user interface, application areas, and your company.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: essential, basic, user interface, application area, experience
ms.search.form: 1,
ms.date: 03/11/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Change which features are displayed

[!INCLUDE[prod_short](includes/prod_short.md)] is designed to help you run your business regardless of the size and complexity. At the core of the product, you find essential features, such as financial reporting, sales, purchasing, and inventory management. As business complexity increases, you can turn on functionality for manufacturing and service management, for example.

You can define the product complexity level, and thereby which features the company's users get access to, by changing the **Experience** setting on the **Company Information** page. Note that the experience setting can also be changed by adding certain extensions from AppSource. For more information, see [Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md).

The following table lists the experiences that are currently available.

| Experience | Impact on User Interface |
| --- | --- |
| **Essentials** |Shows all actions and fields for all common business functionality.|
| **Premium** |Shows all actions and fields for all business functionality, including Manufacturing and Service Management.|

The experiences that can be selected in [!INCLUDE[prod_short](includes/prod_short.md)] reflect the solution licenses, called plans, that are defined for the product. For information about the Essentials and Premium plans, see [Business Central](https://go.microsoft.com/fwlink/?linkid=2264940) on the Microsoft Dynamics 365 marketing site. See also the [[!INCLUDE[prod_short](includes/prod_short.md)] Licensing Guide](https://go.microsoft.com/fwlink/?linkid=2264939).

> [!IMPORTANT]  
> Users of type Team Member, Internal Admin, External Accountant, and Delegated Admin can be assigned a different plan than other users in the solution. Only users of type Evaluation or Premium can change the value in the **Experience** field from Essentials to Premium.

> [!NOTE]
> In 2024 release wave 1, a user with the Premium plan can sign in to a company that's using the Essentials plan. However, the Premium user can't use any of the features that the Premium license provides. The same isn't true in the opposite direction. Users who have the Essentials plan can't sign in to a company that's using the Premium plan.

Prior to defining a company's experience setting, you define users' access to specific functions and pages by assigning permission sets. For more information, see [Assign Permissions to Users and Groups](ui-define-granular-permissions.md).

The **Experience** setting applies to all users in a company, but each user can personalize their own experience further by changing page layouts and content. For more information, see [Personalize Your Workspace](ui-personalization-user.md).

## Enabling premium features after upgrading a plan

Users are assigned to plans in Microsoft 365 Admin Center in connection with the general work to create the Business Central users. For more information, see [Add users and assign licenses at the same time](/microsoft-365/admin/add-users/add-users?view=o365-worldwide&preserve-view=true).

### To update plan changes in users groups

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

When you have made a change to users plans in Microsoft 365 Admin Center, such as assigned more users to the Premium plan, you must update [!INCLUDE[prod_short](includes/prod_short.md)] to reflect the change.

1. Sign is as an administrator.
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
3. On the **Users** page, choose the **Update users from Microsoft 365** action.

### To select the Premium experience

You can now proceed to select the new experience.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Company Information**, and then choose the related link.
2. On the **Company Information** page, on the **User Experience** FastTab, select Premium  in the **Experience** field.

## Help assumes the Premium experience

All feature descriptions in user documentation for [!INCLUDE[prod_short](includes/prod_short.md)] assume the **Premium** experience, meaning the descriptions cover the full scope of UI elements.

## Related information

[Personalize Your Workspace](ui-personalization-user.md)  
[Customizing Business Central](ui-customizing-overview.md)  
[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  
[Creating New Companies](about-new-company.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-how-to-post-service-orders
---
title: How to post service orders
description: When you have created a service order, filled in all the necessary information and made any modifications, you can post the service order. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 03/07/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Post service orders and credit memos

After you create a service order, when you're ready you can post it. The order must contain at least one service item line and one service line. If the order has more than one service line, all lines post at the same time.  

If you have a large number of service orders, you can save time by using a batch job to post them. You can run the batch job from any service order.

> [!Tip]
> Before you post a service document, it's a good idea to use the **Test Report** action to to check for errors or missing information. If there are errors, you must correct the problem. You can print a new test report to verify the fix, and then post the document.

## To post a service order

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the service order.  
3. On the **Service Order** page, choose one of the following actions.  

    |**Action**|**Result**|  
    |------------------|----------------|  
    |**Test Report** | Checks all parts of the document and presents the result in a report. If the report indicates any errors or a lack of information, you must correct the problem. You can then print a new test report.|  
    |**Post** | Posts the order without printing a shipment or an invoice.|  
    |**Post and Print** | Posts the order and prints a shipment (if you ship the order without invoicing it) or an invoice (if you invoice the order).|  
    |**Post Batch** | Posts multiple service orders at one time once.|  

4. For the **Post** action, there are several options that control what happens.  

    |**Posting Option**|**Result**|  
    |------------------------|----------------|  
    |**Ship** | Posts shipment of the items.|  
    |**Invoice** | Invoices items that have already been shipped.|  
    |**Ship and Invoice** | Invoices and ships the items.|  
    |**Ship and Consume** | Posts shipment and consumption on the order. It updates the relevant quantities on the service lines of the order and on the previously posted service shipment document.|  

You can post consumption only if the line contains a quantity that shipped but isn't invoiced or consumed.  

When you post the order, [!INCLUDE [prod_short](includes/prod_short.md)] creates the corresponding ledger entries and posted documents and updates the service order.  

## To batch post service orders

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Choose the **Post Batch** action.  
3. You can set a filter to select specific service order numbers or an interval of order numbers for the batch job to process.  
4. Choose **OK** to start the batch job.  

## To post a service credit memo  

After you create a service credit memo, you can post it when you're ready. If there are errors or a lack of information on the credit memo while posting, an error message displays and stops the process.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Credit Memos**, and then choose the related link.  
2. Create a new service credit memo. Choose the **New** action.  
3. Fill in the necessary fields.  
4. Choose the **Post** action. If you want to print the credit memo at the same time as your post, choose the **Post and Print** action instead.  
5. To test credit memos before you post them, choose **Test Report**. When you run the report, [!INCLUDE [prod_short](includes/prod_short.md)] verifies the posting dates in the document.  
6. To post several service credit memos at the same time, run the **Batch Post Service Cr. Memos** batch job. Using the batch job is helpful when you have to post a lot of credit memos.  

> [!NOTE]  
> It is important to enter all the necessary information on the credit memos before you batch post them. Otherwise, it is possible that they will not be posted. When the batch job finishes, a message shows how many of the service credit memos it posted.  

## To post consumption from a service order  

The following procedure describes how to post the items, resource hours, and costs used for a specific service operation for which you won't charge your customer. You can post consumed items, hours, or costs only for a posted shipment that has no posted invoices or consumption.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the service order to post consumption for.  
3. Choose the service item. Choose the **Service Lines** action.  
4. Find the required entries, and specify the quantities for which you'll post consumption in the **Qty. to Consume** field. The quantity can't be larger than the quantity already shipped and the quantity remaining but not invoiced after partial invoicing of this shipment.  

    > [!NOTE]  
    > To register consumption for a project, fill in the **Project No.**, **Project Task No.**, and the **Project Line Type** fields on the service line.  

5. Choose the lines to post, and then choose the **Post** action. On the page that opens, select **Ship and Consume**.  

The service is posted as either partially or fully consumed, depending on the value in the **Qty. to Consume** field, and the relevant ledger entries are created. Also, previously posted service shipment documents are updated chronologically with the consumed quantities. The relevant quantities are updated on the service lines of the order.  

## To post shipments from service orders  

After you specify the details of a service, you can adjust and post the quantities of items used, time spent, and costs incurred. As a result, [!INCLUDE[prod_short](includes/prod_short.md)] makes the necessary changes to reflect the new state of your inventory and current status of the specific order processing.  

The following procedure shows how to post shipment of service line items in locations that aren't set up to require warehouse handling.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Order**, and then choose the related link.
2. Open the service order, and then choose the **Service Lines** action.  
3. On the **Service Lines** page, find the required entries and then specify the quantity to post in the **Qty. to Ship** field.  

   > [!NOTE]  
   > The quantity to ship value depends on whether you want to fully or partially post the shipment. If you choose to ship fully, the value in the **Qty. to Ship** field must be equal to the value in the **Quantity** field. When you post a partial shipment, you must specify the quantity you want to ship initially. If you already shipped part of the service on the order, make a note of the value in the **Quantity Shipped** field. The maximum quantity you can enter in the **Quantity to Ship** field is the number of units that haven't shipped.  

4. Choose the **Post** action, and then choose **Ship**.

[!INCLUDE[prod_short](includes/prod_short.md)] creates ledger entries (in the warranty ledger, item ledger, service ledger, or G/L), produces the posted service shipment document, and updates the relevant fields on the service lines of the service order.  

If the location is set up to require warehouse handling, shipping and moving service line items works in the same way as they do for other source documents. The only difference is that service line items can be consumed either externally or internally, and therefore require two different release functions. To learn more about shipping service line items in advanced warehouse configurations, go to [Picking Items for Warehouse Shipments](warehouse-how-to-pick-items-for-warehouse-shipment.md).  

## Combine shipments from multiple service orders into a single service invoice

If needed, you can gather posted shipments that you haven't invoiced in a single invoice. For example, combining shipments can reduce the overall number of invoices to process, which can lower administrative costs and save time for your bookkeeping team. To learn more, go to [Combine shipments on a single invoice](sales-how-to-combine-shipments-on-a-single-invoice.md).

## To undo posted consumption  

You can cancel the consumption on the service orders. For example, because it was posted by mistake.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Service Shipments**, and then choose the related link.  
2. Open the posted service shipment for which the erroneous consumption was posted.  
3. Choose the **Service Shipment Lines** action.  
4. Choose the lines that contain the incorrect consumption, and then choose the **Undo Consumption** action.  

 A balancing service shipment line is inserted with negative values in the quantity fields for the selected lines.  
  
> [!NOTE]  
> You can't undo service consumption if:  

> * The service order has been closed.  
> * It was posted to a project, so there are project ledger entries linked to it.  

## To post service lines  

If you have to work on a service order for a considerable time without posting it, you might want to post some of the service lines linked to it as a way, for example, of keeping your inventory updated. You can post by specifying the relevant quantities on the lines to be posted. You might choose to post the lines one by one or by selecting several lines at a time.  

The following procedure describes shipment posting directly from a service order in locations without warehouse handling set up. If the location is set up to require warehouse handling, then shipment posting happens in a different warehouse document, depending on the location setup.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Orders**, and then choose the related link.  
2. Open the service order, and then choose the **Service Lines** action.  
3. On the lines you're going to post, fill in the **Qty. to Ship**, **Qty. to Invoice**, and **Qty. to Consume** fields, depending on how you post the lines.  
4. Choose the **Post** action.

## Related information

[Posting in Service Management](service-service-posting.md)  
[Create a Service Order](service-how-to-create-service-orders.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-data-retention-policies
---
title: Clean Up Data with Retention Policies
description: You can specify how often you want to delete certain types of data.
author: brentholtorf
ms.topic: how-to
ms.author: bholtorf
ms.search.keywords: delete, data, retention, policy, policies
ms.search.form: 3903, 3901
ms.date: 01/27/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Define Retention Policies

This article describes how administrators can define retention policies to specify how often to delete outdated data in tables that contain log entries and archived records. For example, cleaning up log entries can make it easier to work with the more relevant data. Policies can delete data based on an expiration date, or you can add filters to include only certain expired data.

## Required setups and permissions

Before you can create retention policies, you must set up the tables to include and the periods of time to keep data.

|Setup  |Description  |
|---------|---------|
|**Allowed Tables**     |We provide a list of tables that you can include in retention policies. If you want to add tables from an extension to a retention policy, a developer must add their tables to the list. To learn more, go to [Include your extension in a retention policy](admin-data-retention-policies.md#include-your-extension-in-a-retention-policy-requires-help-from-a-developer).          |
|**Retention Periods**     |Specify periods of time for which to keep data in the tables in a policy. The periods determine how often data is deleted.         |

Additionally, you must have the **SUPER** user permissions or the **Retention Policy Setup** permission set. Users who have the Retention Policy Setup permission set can define retention policies for tables. That's true, even if they don't have Read and Delete permissions for the tables. The job queue entry must run as a user with permissions to read and delete the data. Don't grant the Retention Policy Setup permission set to users who shouldn't be allowed to delete data.

> [!NOTE]
> If you're using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, and you want to try out retention policies in the the Cronus demonstration database, there are a few things you need to do. The demonstration company doesn't contain tables that you can use with retention policies, so you need to add them. To do that, create a new, blank company in the demonstration database. In the new company, import the RapidStart configuration package for your country/region that corresponds to the standard NAV17.0.W1.ENU.STANDARD.rapidstart package. The setup data for retention policies will be available in the new company.

### Create retention periods

Retention periods can be as long or as short as you want. To create retention periods, on the **Retention Policies** page, use the **Retention Period** action. The periods you define are available for all policies.

> [!NOTE]
> For compliance reasons, we have defined a minimum retention period for some tables. If you set a retention period that's shorter than minimum required, a message displays the mandatory period.

### Set up a retention policy

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Retention Policies**, and choose the related link.
2. Select **New** to create a new retention policy. 
3. In the **Table ID** field, choose the table that you want to include in the policy.
4. In the **Retention Period** field, specify the length of time for which to keep the data in the table.
5. Optional: You can apply the policy to specific data in a table, rather than all records, by filtering the data for each line. The policy will apply only to the records that the filters return. To specify the filter criteria, turn off the **Apply to all records** toggle. The **Record Retention Policy** FastTab displays, where you can set filter criteria. To learn more about how filters work, go to [Filtering](ui-enter-criteria-filters.md#filtering).

   > [!NOTE]
   > Each line has its own retention period. If you specify different retention periods for the same data, the longest period is used. Also, some tables contain filters that you can't change or remove. To help you identify these filters, they appear in a lighter color font.

#### Video guidance

This video provides an example of how to set up a retention policy.

>[!VIDEO https://learn-video.azurefd.net/vod/player?id=511928c9-f956-45f6-8748-0c96f7ff0d33]

## Apply retention policies

You can use a job queue entry to apply retention policies to delete data automatically, or you can manually apply policies.

To apply a retention policy automatically, just create and enable a policy. When you enable a policy,, [!INCLUDE [prod_short](includes/prod_short.md)] creates a job queue entry that applies the it according to its retention period. All retention policies will use the same job queue entry. By default, the job queue entry applies the policy every day at 0200. You can change the default, but if you do we recommend that it runs outside business hours. To learn more, go to [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md). 

You can manually apply a policy by using the **Apply Manually** action on the **Retention Policies** page. If you want to always apply a policy manually, turn on the **Manual** toggle. The job queue entry will disregard the policy when it runs.

## View retention policy log entries

You can view activity related to retention policies in the **Retention Policy Log** page. For example, entries are created when a policy is applied, or if errors occurred.

## Include your extension in a retention policy (requires help from a developer)

By default, retention policies cover only [!INCLUDE[prod_short](includes/prod_short.md)] in the list we provide. You can remove default tables from the list, and you can add tables that you own. That is, you can't add a table that you did not create yourself. For example, you can't add other tables from [!INCLUDE[prod_short](includes/prod_short.md)] or from an extension that you have purchased.

To add your tables to the list of allowed tables, a developer must add some code. For example, to the installer codeunit for the extension (a codeunit with the *install* subtype).

When a developer adds a table, they can specify mandatory and default filters. Mandatory filters can't be removed or modified later when you add tables to define a retention policy. The default filters are just suggestions.

The following are examples of how to add a table to the list of allowed tables with, and without, mandatory or default filters. For a more complex example, go to codeunit 3999 "Reten. Pol. Install - BaseApp".

```al
 trigger OnInstallAppPerCompany()
    var
        RetenPolAllowedTables: Codeunit "Reten. Pol. Allowed Tables";
    begin
        RetenPolAllowedTables.AddAllowedTable(Database::"Retention Policy Log Entry");
    end;
```

The following example includes a mandatory filter.

```al
 trigger OnInstallAppPerCompany()
    var
        ChangeLogEntry: Record "Change Log Entry";
        RetenPolAllowedTables: Codeunit "Reten. Pol. Allowed Tables";
        RetentionPeriod: Enum "Retention Period Enum";
        RecRef: RecordRef;
        TableFilters: JsonArray;
        Enabled: Boolean;
        Mandatory: Boolean;
    begin
        ChangeLogEntry.Reset();
        ChangeLogEntry.SetFilter("Field Log Entry Feature", '%1|%2', ChangeLogEntry."Field Log Entry Feature"::"Monitor Sensitive Fields", ChangeLogEntry."Field Log Entry Feature"::All);
        RecRef.GetTable(ChangeLogEntry);
        Enabled := true;
        Mandatory := true;
        RetenPolAllowedTables.AddTableFilterToJsonArray(TableFilters, RetentionPeriod::"28 Days", ChangeLogEntry.FieldNo(SystemCreatedAt), Enabled, Mandatory, RecRef);
        RetenPolAllowedTables.AddAllowedTable(Database::"Change Log Entry", ChangeLogEntry.FieldNo(SystemCreatedAt), TableFilters);
    end;
```

After a developer has added tables to the list, an administrator can include them in a retention policy. 

## Related information

[Analyzing Retention Policy Trace Telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-retention-policy-trace)  
[Auditing Changes in Business Central](across-log-changes.md)  
[Filtering](ui-enter-criteria-filters.md#filtering)  
[Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-reports
---
title: Built-in finance reports in Business Central
description: Explore the built-in financial reports in the standard version of Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: Report_4, Report_6, Report_7, Report_9, Report_10, Report_25, Report_27, Report_28, Report_33, Report_38, Report_4405, Report_10007, Report_10008
ms.date: 05/20/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Built-in finance reports in Business Central

[!INCLUDE [prod_short](includes/prod_short.md)] includes several built-in reports, tracing functions, and tools to help auditors or controllers who are responsible for reporting to the finance department.

## Explore finance reports with Report Explorer

[!INCLUDE [finance_reports_report_explorer](includes/finance-reports-report-explorer-include.md)]

## Finance report overview

[!INCLUDE [tip_open_report_from_docs](includes/tip-open-report-from-docs.md)]

[!INCLUDE [finance_reports](includes/finance-reports-include.md)]

## Related information

[Accounts Receivable Reports](receivables-reports.md)  
[Accounts Payable Reports](payables-reports.md)  
[Fixed Assets Reports](fa-reports.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Financial analytics](bi.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-connect-disconnect-income-document-records
---
title: Create Incoming Document Records From Docs
description: You can store external business documents by attaching the document files to the related incoming document records.
author: jswymer
ms.topic: how-to
ms.search.keywords: electronic document, e-invoice, incoming document, OCR, ecommerce, document exchange, import invoice
ms.date: 02/27/2024
ms.author: jswymer
ms.reviewer: jswymer
ms-service: dynamics-365-business-central
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Create incoming document records directly from documents and entries

You can store external business documents in [!INCLUDE[prod_short](includes/prod_short.md)] by attaching the document files to the related incoming document records. If the document, such as a purchase invoice, didn't start its existence as an incoming document record, you can still create and connect an incoming document record to it later. You can also attach incoming document files to posted purchase and sales documents and to vendor, customer, and general ledger entries by using the **Incoming Document Files** FactBox in, for example, the **Posted Purchase Invoices** and **Vendor Ledger Entries** pages.

From the **Chart of Accounts** and **General Ledger Entries** pages, you can use a search function to find general ledger entries for posted purchase and sales documents that don't have incoming document records and then centrally link to existing records or create new ones with attached document files. For more information, see [Find Posted Documents without Incoming Document Records](across-how-find-posted-documents-without-income-document-records.md).

The following procedures show how to attach a file to a vendor ledger entry or an existing purchase invoice that wasn't created from an incoming document record. Attaching a file to posted purchase or sales documents works in a similar way.

[!INCLUDE [incoming-doc-archived-doc](includes/incoming-doc-archived-doc.md)]

## Create and connect an incoming document record from a purchase invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoices**, and then choose the related link.
2. Select the line for a purchase invoice that you want to attach a file to, and then choose the **Create Incoming Document from File** action.
3. Alternatively, select the line for a purchase invoice that you want to attach a file to, and then choose the **Attach File** action.
4. On the **Insert File** page, do one of the following steps to attach a file that represents the incoming document in question:

   [!INCLUDE[file-upload](includes/file-upload.md)]


## Create and connect an incoming document record from a vendor ledger entry

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Vendor Ledger Entries**, and then choose the related link.
2. Select a line for a vendor ledger entry that you want to attach a file to, and then choose the **Create Incoming Document from File** action.
3. Alternatively, select a line for a vendor ledger entry that you want to attach a file to, and then choose the **Attach File** action.
4. On the **Insert File** page, do one of the following steps to attach a file that represents the incoming document in question:

   [!INCLUDE[file-upload](includes/file-upload.md)]


## Remove a connection from an incoming document record to a posted document

You can remove file attachments from non-posted documents at any time by deleting the related incoming document record. If the document is posted, then you must first remove the connection from the incoming document record.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Incoming Documents**, and then choose the related link.
2. Select the line for an incoming document record connected to a posted document that you want to remove, and then choose the **Remove Reference to Record** action.

The connection to the posted document is removed. You can now proceed to connect another incoming document record to the posted document as described in this article.

## Related information

[Create Incoming Document Records](across-how-create-income-document-records.md)
[Use OCR to Turn PDF and Image Files into Electronic Documents](across-how-use-ocr-pdf-images-files.md)
[Find Posted Documents without Incoming Document Records](across-how-find-posted-documents-without-income-document-records.md)
[Incoming Documents](across-income-documents.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-setup-unrealized-vat
---
title: Set up unrealized value added tax
description: If you're using cash-based accounting, you can specify how to handle unrealized VAT for sales and purchases.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: cash, VAT, unrealized, cash-based
ms.search.form: 118, 472, 473
ms.date: 08/13/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Set up unrealized VAT for cash-based accounting

If you're using cash-based accounting methods, you can set up [!INCLUDE[prod_short](includes/prod_short.md)] to handle unrealized VAT.

## To use general ledger accounts for unrealized VAT

You can choose to have VAT amounts calculated and posted to a temporary general ledger account when an invoice is posted, and then posted to the correct general ledger account and included in VAT statements when the actual payment of the invoice is posted. Before you can do this, you must complete the [VAT posting setup](finance-setup-vat.md).

To use accounts for unrealized VAT, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, and enter **General Ledger Setup**.
2. On the **General Ledger Setup** page, select the **Unrealized VAT** check box.
3. Choose the **Search for Page or Report** icon ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do"), and enter **VAT Posting Setup**.
4. On the **VAT Posting Setup** page, choose the VAT posting group, and then choose the **Edit** action.
5. In the **Unrealized VAT Type** field, choose an option to specify how to allocate payments to the invoice amount (excluding VAT) and the VAT amount itself, and how to transfer VAT amounts from the unrealized VAT account to the realized account. The following table describes the options.

| Option | Description |
| --- | --- |
| Blank | Choose this option if you don't want to use the unrealized VAT feature. |
| Percentage | Payments cover both VAT and the invoice amount in proportion to the payment's percentage of the remaining invoice amount. The paid VAT amount is transferred from the unrealized VAT account to the realized VAT account. |
| First | Payments cover VAT first and then invoice amounts. In this case, the amount transferred from the unrealized VAT account to the VAT account will equal the amount of the payment until the total VAT has been paid. |
| Last | Payments cover the invoice amount first and then VAT. In this case, no amount will be transferred from the unrealized VAT account to the VAT account until the total amount of the invoice, excluding VAT, has been paid. |
| First (Fully Paid) | Payments will cover VAT first (like the _First_ option), but no amount will be transferred to the VAT account until the full amount of VAT has been paid. |
| Last (Fully Paid) | Payments will cover invoice amount first (like the _Last_ option), but no amount will be transferred to the VAT account until the full amount of VAT has been paid. |

6. In the **Sales VAT Unreal. Account** field, choose the account for unrealized sales VAT.

    > [!NOTE]  
    > The VAT amount will be posted to this account, and stay there until the customer payment is posted. The amount is then transferred to the account for sales VAT.
7. In the **Purch. VAT Unreal. Account** field, enter the general ledger account for unrealized purchase VAT.

> [!NOTE]  
> The VAT amount will be posted to this account, and stay there until the customer payment is posted. The amount is then transferred to the account for purchase VAT.

## Related information
[Set Up Calculations and Posting Methods for Value Added Tax](finance-setup-vat.md)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-define-check-layouts
---
title: Specify the Layout of a Check
description: You can design and print your checks in different formats to conform with standards set by your local authorities.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: print check, customize
ms.search.form: 374, 404
ms.date: 11/11/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Select a check layout

You can design your checks to conform with the standards set by the local authorities. Check images can be printed in English, French, or Spanish.

Checks are designed to print in both the United States and Canadian check image formats in either a check-stub-check format or a stub-stub-check format.

## To select a check layout

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Selections Bank Account**, and then choose the related link.
2. On the **Report Selection - Bank Acc.** page, in the **Usage** field, select **Check**.
3. Select one of the following report IDs.

| Report ID | Report Name | Description |
| --- | --- | --- |
| 1401 |Check |This report is the default report. |
| 10411 |Check (Stub/Stub/Check) |This report is designed to print checks in a stub/stub/check format. |
| 10412 |Check (Stub/Check/Stub) |This report is designed to print checks in a stub/check/stub format. |
| 10413 |Three Checks per Page |This report is designed to print three checks on each page. |

After you set up check layouts, you can print checks from the **Payment Journal** page. Learn more in [Work with Checks](payables-how-work-checks.md).

To change one of these default check layouts, use either the Word or the RDLC integration to do so. Learn more in [Create and Modify Custom Report Layouts](ui-how-create-custom-report-layout.md).

## Use MICR and security fonts

The online version of [!INCLUDE[prod_short](includes/prod_short.md)] contains preinstalled fonts on the servers that can be used when defining check layouts. The following outlines which fonts are available and have links to detailed information by the 3rd-party suppliers of the fonts.

> [!Important]
> MICR and check security fonts in [!INCLUDE[prod_short](includes/prod_short.md)] are licensed in a font package from IDAutomation.com, Inc. These products may only be used as part of and in connection with [!INCLUDE[prod_short](includes/prod_short.md)].

In update 15.3 and later, Magnetic Ink Character Recognition (MICR) fonts are installed and available to use. Both the E-13B and the CMC-7 standards are supported. Special security fonts are also available to generate text, names, amounts, and the currency symbols such as Dollar, Euro, Pound, and Yen, which are hard to tamper with once a check is printed.

> [!NOTE]
> - For security and legal reasons, you cannot upload custom fonts to the [!INCLUDE[prod_short](includes/prod_short.md)] online environment.
> - With [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, the MICR and check security fonts from IDAutomation.com aren't available by default. You must purchase them from IDAutomation.com or another supplier. Once you have the fonts, install them on the computer that runs the [!INCLUDE[server](includes/server.md)]. As a minimum, install the fonts for the user that runs the [!INCLUDE[server](includes/server.md)] instance, that is, the service account. To install the fonts, follow the instructions from the font supplier or refer to [Add a Font](https://support.microsoft.com/en-us/office/add-a-font-b7c5f17c-4426-4b53-967f-455339c564c1).

### MICR E-13B specifications

The following illustration summarizes specifications for the MICR E-13B fonts that can be useful when calibrating fonts to be on check layouts with specific MICR printers.

![MICR E-13B Specifications.](media/font_MICR_E-13B_Specifications.png "MICR E-13B Specifications")

### Delimiter characters

![Delimiter characters.](media/font-micr-letters.png "Delimiter characters")

The full specification of MICR E-13B fonts can be found in the supplier's documentation here: (https://www.idautomation.com/micr-fonts/e13b/).

### MICR CMC-7 specifications

The following CMC-7 fonts are available in [!INCLUDE[prod_short](includes/prod_short.md)] online:

- IDAutomationCMC7
- IDAutomationCMC7n10
- IDAutomationCMC7n25
- IDAutomationCMC7n40

The following illustration summarizes specifications for the MICR CMC-7 fonts that can be useful when calibrating fonts to be on check layouts with specific MICR printers.

![MICR CMC-7 Specifications.](media/font_MICR_CMC-7_Specifications.png "MICR CMC-7 Specifications")

### Delimiter characters

![Delimiter characters for CMC-7.](media/font-cmc7-letters.png "Delimiter characters for CMC-7")

The full specification of MICR CMC-7 fonts can be found in the supplier's documentation here: (http://www.idautomation.com/micr-fonts/cmc7/).

### Secure font specifications

The following illustration summarizes specifications for check security fonts that can be useful when calibrating fonts to be on check layouts with specific MICR printers.

![Check Security Font Specifications.](media/font_check-security-font_Specifications.png "Check Security Font Specifications")

The full specification of check security fonts can be found in the supplier's documentation here: (https://www.idautomation.com/security-fonts/).

Fonts for other purposes are also available in [!INCLUDE[prod_short](includes/prod_short.md)]. Learn more in [Available Fonts](ui-fonts.md)

## Related information

[Get started creating report layouts](ui-get-started-layouts.md)  
[Fonts in Business Central](ui-fonts.md)  
[Managing payables](payables-manage-payables.md)  
[Reconciling bank accounts](bank-manage-bank-accounts.md)  
[Completing period-end processes](year-how-complete-period-end-processes.md)  
[Work with Business Central](ui-work-product.md)  
[General business functionality](ui-across-business-areas.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-setup
---
title: Set up fixed assets
description: Learn about the sequence of tasks to set up fixed assets, such as machinery or buildings.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.keywords: machinery, buildings
ms.search.form: 5607,
ms.date: 05/19/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Setting up fixed assets

Before you can work with fixed assets (FA), you need to define a few things:  

* How you depreciate fixed assets.  
* How you record acquisition costs, depreciations, and other values in the general ledger.  
* Optionally, how to record insurance and maintenance on fixed assets.

The sections in this article link to more information about how to set up fixed assets. After you finish the setup, you can start working with fixed assets. For more information, see [Using Fixed Assets](fa-manage.md).  

> [!NOTE]  
> You can record fixed asset transactions in the **Fixed Asset G/L Journal** or **Fixed Asset Journal** pages, depending on whether the transactions are for financial reporting or for internal management. The help articles for fixed assets only describes how to use the **Fixed Asset G/L Journal** page.  

When you enable a fixed asset activity in the **G/L Integration** section on the **Depreciation Book Card** page, use the **Fixed Asset G/L Journal** page to post transactions for the activity.

## Required setup tasks

The following table contains a sequence of tasks to set up fixed assets, and links to related articles.

| To... | Go to... |
|---|---|
| Set-up default G/L accounts, allocation keys, journal templates and batches for fixed asset posting, and set up fixed asset classes and subclasses, such as Tangible and Intangible. |[Set Up General Fixed Assets Information](fa-how-setup-general.md) |
| Create depreciation books, define various depreciation methods, integrate with the general ledger, and enable duplication of entries in several depreciation books. |[Set Up Fixed Asset Depreciation](fa-how-setup-depreciation.md) |

## Optional setup tasks (insurance, maintenance, and user-defined depreciation methods)

The following table contains a sequence of optional tasks to set up fixed assets, such as insurance, maintenance and depreciation methods, and links to related articles. 

| To... | Go to... |
|---|---|
| Enable insurance of fixed assets, set up general insurance information, an insurance card per policy, and prepare journals to post insurance costs. |[Set Up Fixed Asset Insurance](fa-how-setup-insurance.md) |
| Enable maintenance of fixed assets, set up general maintenance information, set up maintenance posting accounts, and define types of maintenance work. |[Set Up Fixed Asset Maintenance](fa-how-setup-maintenance.md) |
| Learn about how to apply depreciation methods. |[Set Up User-Defined Depreciation Methods](fa-how-setup-user-defined-depreciation-method.md) |

## Related information

[Fixed Assets overview](fa-manage.md)  
[Fixed assets analytics overview](fa-analytics-overview.md)  
[Finance](finance.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-sustainability-accounts-ledger
---
title: Chart of sustainability accounts and ledger
description: Learn how to manage the chart of sustainability accounts, categories and subcategories, and details about sustainability ledger entries.
author: altotovi
ms.topic: how-to
ms.devlang: al
ms.search.keywords: Sustainability, ESG, emission, GHG, CSRD, CoA, Chart, Account, Ledger
ms.search.form: 6210, 6213, 6214, 6220
ms.date: 01/30/2025
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Chart of sustainability accounts and ledger

This article explains how to manage the chart of sustainability accounts (CoSA), categories and subcategories, and details about sustainability ledger entries.

## Chart of sustainability accounts

The CoSA forms the foundational structured list that is used to record all emissions, water, and waste data. It serves as a framework that categorizes and organizes sustainability accounts based on their attributes, such as the scope or other groupings. Each account is typically assigned a unique code or number for easy reference and tracking. It has the same structure as a traditional chart of accounts but is customized specifically to monitor sustainability-related data and metrics in an organization.  

Users can add sustainability account categories and sustainability account subcategories to define how the system behaves. In this way, they can select dedicated emissions, water, or waste for tracking, emission factors, formulas, and similar configurations.

> [!NOTE]
> Based on the greenhouse gas (GHG) standards, there are three emission scopes:
>
> - **Scope 1 emissions** include emissions from stationary and mobile combustion, and from inadvertent fugitive emissions.
> - **Scope 2 emissions** include indirect emissions from the generation of energy that is purchased from utility providers.
> - **Scope 3 emissions** include a wide spectrum of emissions, from purchased goods and services and capital goods, to fuel and energy–related activities, to upstream and downstream transportation, to generated waste, to business travel and employee commuting, and so on.
> - **Out of scope** is for situations where you can't assign a specific emission to the transaction.

> [!NOTE]
> You can also select **Water/Waste** as one of options in the **Emission Scope** when they want to post transactions related to the water and waste management.  

From the CoSA, you can do things such as:

- View reports that show sustainability ledger entries and balances.
- Open the sustainability account card to add or change settings.
- View the category and subcategory for the account.
- View separate balances for each emission for a single account.
- Add single or multiple dimensions to each account and set dimension filters.

You can add, change, or delete sustainability accounts. However, to prevent discrepancies, you can't delete a sustainability account if one or more ledger entries are associated with it.

### Add or change accounts

1. Select the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Sustainability Accounts**, and then select the related link.
2. On the **Chart of Sustainability Accounts** page, you can open each sustainability account, and then add or change settings. Hover over a field to read a short description.

For accounts of the **Total** account type, you must set the **Totaling** field.

For accounts of the **End-Total** type, the **Indent** action automatically sets the **Totaling** field. After you set up all the accounts, select the **Indent Chart of Sustainability Accounts** action to run the **Indent** action and set the **Totaling** field.

> [!IMPORTANT]
> The **Indent Chart of Sustainability Accounts** action overwrites the value of all fields for **End-Total** accounts. Therefore, if you entered definitions in the **Totaling** field for **End-Total** accounts before you ran the **Indent Chart of Sustainability Accounts** action, you must enter them again after you run it.  

### Delete accounts

You can delete a sustainability account. However, you must first make sure that no ledger entries are associated with it. Business Central prevents you from deleting a sustainability account if one or more ledger entries are associated with it.

## Account categories

You must add a sustainability account category to each sustainability account to define how the system behaves. You can select emission scopes (gas, water, or waste), dedicated to type of transaction to track, formulas, and similar configurations.  

To review sustainability account categories, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Account Categories**, and then select the related link.
2. On the **Sustainability Account Categories** page, you can edit the existing list or create a new category. To create a new category, select the **New** action.
3. Fill in the **Code** and **Description** fields.
4. In the **Emission Scope** field, select one of the scope options related to gas emissions or water or waste intensity.
5. Select the gas emissions, or water or waste intensity, that you want to track. Currently, the following options are available: **CO2**, **CH4**, **N2O**, **Water Intensity**, **Discharged Into Water**, and **Waste Intensity**. You can select any combination that you want to track, but you must select at least one of them.

    > [!NOTE]
    > If you choose one of gas emissions scopes as the **Emission Scope** you can select the **CO2**, **CH4**, or **N2O**, but you can't select the **Water Intensity**, **Discharged Into Water**, or **Waste Intensity**. Also, if you select **Water/Waste** as the **Emission Scope**, you can select only the  **Water Intensity**, **Discharged Into Water**, or **Waste Intensity**, but you can't select **CO2**, **CH4**, or **N2O**.

6. In the **Calculation Foundation** field, select the calculation foundation (formula) to use for emission calculations if you don't know the accurate emission or water or waste intensity amount.

    > [!NOTE]
    > If the formulas in the **Calculation Foundation** field aren't enough, you can extend the field and add more calculations for use in sustainability journals.

7. If you selected **Custom** in the **Calculation Foundation** field, you can configure a custom description in the **Custom Value** field.

If you set the **Calculation Foundation** field, the following table explains how [!INCLUDE [prod_short](includes/prod_short.md)] calculates emissions based on the option that you selected. In the table, **EF** represents the **Emission Factor** value that you can configure on the **Sustainability Account Subcategory** page.

| Emission Type | Calculation Foundation | Formula | Comment |
|---------------|------------------------|---------|---------|
| **Scope 1** | | | |
| Stationary combustion | Fuel/Electricity | *Emission* = *Fuel* &times; *EF* | *Fuel* = Amount of fuel that is spent for boilers, heaters, thermal oxidizers, and so on. |
| Mobile combustion | Fuel/Electricity | *Emission* = *Fuel* &times; *EF* | *Fuel* = Amount of fuel that is spent for on-road or off-road vehicles, rail, and so on. |
| | | *Emission* = *Distance* &times; *EF* | *Distance* = Mileage of on-road or off-road vehicles, rail, and so on. |
| Fugitive emissions | Installation | *Emission* = *Installation multiplier* &times; *Custom Amount* &divide; 100 &times; *Time Factor* &times; *EF* | *Custom Amount* = Assembly losses, annual leak rate, and so on. |
| **Scope 2** | | | |
| Utility providers | Fuel/Electricity | *Emission* = *Electricity* &times; *EF* | *Fuel/Electricity* = Electricity quantity, steam quantity, heating unit, and so on. |
| | Custom | *Emission* = *Custom Amount* &times; *EF* | *Custom Amount* = Thermal unit, ton-hour, and so on. |
| **Scope 3** | | | |
| Purchased goods and services, and capital goods | Custom | *Emission* = *Custom Amount* &times; *EF* | *Custom Amount* = Cost (GL), and so on. |
| Upstream transportation and distribution | Distance | *Emission* = *Distance* &times; *EF* | |
| | Distance | *Emission* = *Distance* &times; *Multiplier* &times; *EF* | *Multiplier* = Load Factor / Tons of cargo *|
| Downstream transportation and distribution | Distance | *Emission* = *Distance* &times; *EF* | |
| | Distance | *Emission* = *Distance* &times; *Multiplier* &times; *EF* | *Multiplier* = Load Factor / Tons of cargo *|
| Waste generated in operations and end-of-life treatment of sold products | Custom | *Emission* = *Custom Amount* &times; *EF* | *Custom Amount* = Waste |
| Business travel and employee commuting | Distance | *Emission* = *Distance* &times; *EF* | *Distance* = Mileage of the used company car, rental car, train, flight, and so on. |
| | Custom | *Emission* = *Custom Amount* &times; *EF* | *Custom Amount* = Hotel stays |
| | Fuel/Electricity | *Emission* = *Fuel* &times; *EF* | *Fuel* = Amount of fuel spent in the company car, rental car, and so on. This is the only formula used for water or waste intensity calculation. |

> [!IMPORTANT]
> This note applies to the formulas for **Upstream Transportation and Distribution** and **Downstream Transportation and Distribution** when you use the tons-of-cargo calculation model. While you can adapt the formulas, we recommend against using the exact number of tons of cargo as a multiplier. Instead, consult your sustainability advisor to ensure accurate calculations because emissions don't increase linearly with weight. A more accurate approach is to use the **Load Factor**, which represents the percentage of the truck's total capacity utilized (by weight or volume). The load factor can be calculated as **Weight of Cargo** / **Maximum Load Capacity of Truck**. But always confirm with your sustainability expert before you finalize calculations.

## Account subcategories

You must add a sustainability account subcategory to each sustainability account. This subcategory defines the emission factors that the formulas use, based on the emission tracking choice in the sustainability account category.

To review sustainability account subcategories, follow these steps:

1. Select the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Account Subcategories**, and then select the related link.
2. On the **Sustainability Account Subcategories** page, you can edit the existing list or create a new category. To create a new category, select the **New** action.
3. Fill in the **Code** and **Description** fields.
4. Based on the gas emissions that you track in the sustainability account category and connect this subcategory to, you can also set one or more emission factors:

    - **Emission Factor CO2** – The emission factor for carbon dioxide (CO<sub>2</sub>) emission.
    - **Emission Factor CH4** – The emission factor for methane (CH<sub>4</sub>) emission.
    - **Emission Factor N2O** – The emission factor for nitrous oxide (N<sub>2</sub>O) emission.
    - **Water Intensity Factor** - The intensity factor for Water.
    - **Discharged Into Water Factor** - The intensity factor for Discharged Into Water.
    - **Waste Intensity Factor** - The intensity factor for Waste.

5. If the subcategory is related to renewable energy, select the **Renewable Energy** field. However, you can select this field only if it's related to gas emissions and to water or waste.  

> [!NOTE]
> The **Import Data** and **Import From** fields are intended for integration with external systems that are used to collect emission factors. However, in **2024 release wave 1**, these fields can't be used as a feature by default.

You can have more than one account subcategory for a sustainability account, but only one can be set as the default value. You must set the default value for the account every time if you want to use it for posting.  

> [!TIP]
> For example, if you want to use one account for cars, but you have different types of cars with different emission factors. You can set up one account and create account subcategories for the different emission factors. When you work in a sustainability journal, you can change your account subcategory based on the car type.  

## Sustainability ledger entries

The sustainability ledger stores the history of all posted sustainability transactions and organizes all emission data according to the CoSA. When you post a sustainability journal, the data is recorded there. All active reports are generated based on the sustainability ledger entries.

To open this ledger for a specific account, use the **Ledger Entries** action on the **Chart of Sustainability Account** page. To open all the ledger entries, select the ![Lightbulb that opens the Tell Me feature 3.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sustainability Ledger Entries**, and then select the related link. Hover over a field to read a short description.

> [!IMPORTANT]
> After you post your data to the sustainability ledger, you can't delete it. If you made a mistake, you can post a reverse transaction that has the same details but uses the negative sign for the amount.

> [!NOTE]
> If you posted entries before enabling **CO<sub>2</sub>e** in the **Emission Fees** page, you can run the **Update Carbon Fees** action from the **Emission Fees** page to recalculate carbon equivalent to in all transactions in the **Sustainability Ledger Entries**.  

## Related information

[Finance](finance.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability Setup](finance-sustainability-setup.md)  
[How to record emissions](finance-sustainability-journal.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchases-powerbi-year-over-year
---
title: Year-Over-Year (Power BI Report)
description: The Year-Over-Year report is an important tool that business leaders use to analyze purchasing performance and track spending trends over time.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37015_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Year-Over-Year (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Year-Over-Year** report helps business leaders analyze purchasing performance and track spending trends over time. By comparing purchase amounts in the current year with amounts from the previous year, this report provides valuable insights into the efficiency and effectiveness of purchasing activities.

In addition to identifying trends and changes, the report helps leaders make informed decisions about future purchasing strategies. It's an important indicator of growth and spending patterns, providing an overview of the money you spend to make products and generate revenues.

Together with year-over-year financial figures, the report gives a comprehensive view of an organization's financial health. Tracking these figures helps leaders make informed decisions about resource allocation, budgeting, and forecasting.

:::image type="content" source="media/purchases/purchases-year-over-year.png" alt-text="Screenshot of the Year-over-Year Power BI report" lightbox="media/purchases/purchases-year-over-year.png":::

## Use the report

The report is intended for business leaders and managers.

COOs ensure that the purchasing department operates efficiently and effectively. One of the key metrics you monitor is the year-over-year growth in purchases. This report lets you quickly explore purchase trends over time, and identify areas of concern. For example, you might notice that purchases are increasing rapidly in a particular item category. You can use this information to discuss how to manage costs with the head of purchasing.

Purchasing managers ensure that the company sources goods at the best price without compromising quality. Use this report to track purchasing trends across different categories and identify areas where you can save. For example, you might notice a rapid increase in purchases of a category of products. With this information in mind, you can work with the manufacturing team to identify whether to change item planning or supplier selection to optimize product cost and quality.

## Key Performance Indicators (KPIs)

The *Year-Over-Year* report includes the following KPIs and measures: 

- [**Current Year**](purchases-powerbi-kpis.md#purchase-amount)
- [**Previous Year (Fiscal)**](purchases-powerbi-kpis.md#purchase-amount-py-fiscal)
- [**Current Year YOY (Fiscal)**](purchases-powerbi-kpis.md#purchase-amount-yoy-fiscal)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Value Entry
- Purchase Line
- Item
- Item Category

## Try the report

Try the report here: [Year-Over-Year](https://businesscentral.dynamics.com?page=37015)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Purchasing app](purchases-powerbi-app.md)  
[Ad hoc analysis of purchasing data](ad-hoc-analysis-purchasing.md)  
[Built-in purchasing reports](purchase-reports.md)  
[Purchasing analytics overview](purchasing-analytics-overview.md)  
[Purchasing overview](purchasing-manage-purchasing.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-install-app-for-teams
---
title: Install the Business Central app in Microsoft Teams
description: How to install the Business Central app for Microsoft Teams.
author: jswymer

ms.topic: get-started
ms.devlang: al
ms.search.keywords: Teams, MS Teams, Microsoft Teams, Skype, Link, Microsoft 365, collaborate, collaboration, teamwork
ms.date: 04/12/2021
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams

[!INCLUDE [online_only](includes/online_only.md)]

In this article, you learn how to install the [!INCLUDE [prod_short](includes/prod_short.md)] App for [Microsoft Teams](https://www.microsoft.com/microsoft-teams/). The app is available on the Teams marketplace, and you can use it with the Teams web, desktop, or mobile app.

> [!NOTE]
> Your administrator may have set things up so that the app is automatically installed for you. To check whether the app is installed, open Teams, then choose **Apps**. Search for **Business Central**, then choose it when you find it. If you see **Open** on the **Business Central** page, the app is already installed.  

## Prerequisites

- A [!INCLUDE [prod_short](includes/prod_short.md)] online user account is required for [!INCLUDE [prod_short](includes/prod_short.md)] app for Teams.

    If you’re not sure whether you have an account, or if you don’t know your credentials for signing in, contact your company administrator to help you get started.

- Access to the Teams desktop app or Teams in the browser. You can't install the [!INCLUDE [prod_short](includes/prod_short.md)] by using Teams mobile app.

- Your organization's policies allow you to install apps in Microsoft Teams.

## Add the Business Central app to Teams

There are three ways to install the Business Central app:

**Option 1: From a link**

This option is the quickest way to install the app.

1. Select this link: [https://teams.microsoft.com/l/app/84c2de91-84e8-4bbf-b15d-9ef33245ad29](https://teams.microsoft.com/l/app/84c2de91-84e8-4bbf-b15d-9ef33245ad29).

2. Wait for the Business Central app to appear.

    ![Install Business Central app in Teams.](media/teams-install-app.png)

3. Select **Add**.

**Option 2: From Teams**

1. Open and sign in to Teams.
2. In the left side, select **Apps**.
3. Search for **Business Central**.
4. Choose the app when you find it.
5. Choose **Add**.

> [!TIP]
> If you paste a link to a Business Central page into a Team conversation, and you don't have the app installed, you'll get a message like: **Business Central wants to show a preview of this link.** To install the app, select **Show Preview** and follow the instructions.

**Option 3: From Business Central**

1. Open Business Central.
2. Choose the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Business Central app for Teams**, and then choose the related link.  
3. Choose **Get the app from store**.
4. Wait for Teams to open and the Business Central app to appear, then choose **Add**.

> [!NOTE]
> With either option, you may be asked to sign in to [!INCLUDE [prod_short](includes/prod_short.md)]. Select the **sign in** link, and follow the instructions to enter sign-in name and password for [!INCLUDE [prod_short](includes/prod_short.md)].

## Next step

You're now ready to use the app in Teams to search for contacts or share Business Central records. For more information, see [Searching for Customers, Vendors, and Other Contacts from Microsoft Teams](across-search-contacts-teams.md) or [Share Records in Microsoft Teams](across-working-with-teams.md).

## Related information

[Business Central and Microsoft Teams Integration Overview](across-teams-overview.md)  
[Teams FAQ](teams-faq.md)  
[Troubleshooting Teams](admin-teams-troubleshooting.md)  
[Changing Company and Other Settings in Teams](across-teams-settings.md)  
[Developing for Teams Integration](/dynamics365/business-central/dev-itpro/developer/devenv-develop-for-teams)  


## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-sustainability-overview
---
title: Sustainability Overview
description: The Sustainability Overview gives you a high-level view of all the key sustainability metrics.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-overview
---

# Sustainability Overview (Power BI Report)

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

The Sustainability Overview report provides a high-level understanding of the emissions along with water and waste usage for an organization. This report can help you understand how your organization is tracking toward your sustainability goals, and where to make changes around emissions. Information is arranged by category, scope, and month, along with the water and waste types.

:::image type="content" source="media\sustainability\sustainability-overview.png" alt-text="Screenshot of the Sustainability Overview Power BI report" lightbox="media\sustainability\sustainability-overview.png":::

## Use the report

The report is intended for the following roles:

- Sustainability Managers
- Executives

Sustainability Managers use this report for quick and easy access to key KPI metrics along with detailed information on emissions in each category. With this information, you can then drill down into another report to get a better understanding of these values.

From an executive perspective, the report provides a clear overview to help you gain a high-level understanding of sustainability performance. You can leverage the data to make informed decisions to align with a long-term strategic objective.

## Key performance indicators (KPIs)

The Sustainability Overview report includes the following KPIs and measures:

- [CO2 Realized (%)](sustainability-powerbi-kpis.md#co2-realized-)
- [CH4 Realized (%)](sustainability-powerbi-kpis.md#ch4-realized-)
- [N2O Realized (%)](sustainability-powerbi-kpis.md#n2o-realized-)
- [Water Realized (%)](sustainability-powerbi-kpis.md#water-realized-)
- [Waste Realized (%)](sustainability-powerbi-kpis.md#waste-realized-)
- [CO2e Emissions](sustainability-powerbi-kpis.md#co2e-emissions)
- [CO2 Baseline](sustainability-powerbi-kpis.md#co2e-emissions)
- [CO2 Current Value](sustainability-powerbi-kpis.md#co2-current-value)

Choose the link for a KPI to learn more about what it means, how it's calculated, and what data is used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The Sustainability Overview report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sustainability Ledger Entry
- Sustainability Account Category

## Try the report

Try the report here: [Sustainability Overview](https://businesscentral.dynamics.com?page=37084)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-cost-components
---
title: Design Details - Cost Components | Microsoft Docs
description: Cost components are different types of costs that make up the value of an inventory increase or decrease.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/08/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Cost Components
Cost components are different types of costs that make up the value of an inventory increase or decrease.  

 The following table shows the different cost components and any subordinate cost components that they consist of.  

|Cost Component|Subordinate Cost Component|Description|  
|--------------------|--------------------------------|---------------------------------------|  
|Direct cost|Unit cost (direct purchase price)|Cost that can be traced to a cost object.|  
|Direct cost|Freight cost (item charge)|Cost that can be traced to a cost object.|  
|Direct cost|Insurance cost (item charge)|Cost that can be traced to a cost object.|  
|Indirect cost||Cost that cannot be traced to a cost object.|  
|Variance|Purchase variance|The difference between actual and standard costs, which is only posted for items using the **Standard** costing method.|  
|Variance|Material variance|The difference between actual and standard costs, which is only posted for items using the **Standard** costing method.|  
|Variance|Capacity variance|The difference between actual and standard costs, which is only posted for items using the **Standard** costing method.|  
|Variance|Subcontracted variance|The difference between actual and standard costs, which is only posted for items using the **Standard** costing method.|  
|Variance|Capacity overhead variance|The difference between actual and standard costs, which is only posted for items using the **Standard** costing method.|  
|Variance|Manufacturing overhead variance|The difference between actual and standard costs, which is only posted for items using the **Standard** costing method.|  
|Revaluation||A depreciation or appreciation of the current inventory value.|  
|Rounding||Residuals caused by the way in which valuation of inventory decreases are calculated.|  

> [!NOTE]  
>  Freight and insurance costs are item charges that can be added to an item’s cost at any time. When you run the **Adjust Cost - Item Entries** batch job, the value of any related inventory decreases are updated accordingly.  

## Related information  
 [Design Details: Inventory Costing](design-details-inventory-costing.md)   
 [Design Details: Variance](design-details-variance.md)
 [Managing Inventory Costs](finance-manage-inventory-costs.md)  
 [Finance](finance.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-categorize-items
---
title: Organize items in categories
description: To help you search for and find items, you can assign item attributes and organize items in categories.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: category, search, attribute, facet
ms.search.form: 5730, 5733, 5401
ms.date: 06/10/2024
ms.service: dynamics-365-business-central
---

# Categorize items

To maintain an overview of your items and to help you sort and find items, it's useful to organize your items in item categories.

To find items by characteristics, you can assign item attributes to items and also to item categories. For more information, see [Work with Item Attributes](inventory-how-work-item-attributes.md).
<br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=4c02e1d8-7569-4eb4-94cf-105899787978]

## To create an item category
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Categories**, and then choose the related link.
2. On the **Item Categories** page, choose the **New** action.
3. On the **Item Category Card** page, on the **General** FastTab, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. On the **Attributes** FastTab, specify any item attributes for the item category. For more information, see [To assign item attributes to item categories](inventory-how-work-item-attributes.md#assign-item-attributes-to-item-categories).

> [!NOTE]  
> If the item category has a parent item category, as indicated by the **Parent Category** field, then any item attributes that are assigned to that parent item category are prefilled on the **Attributes** FastTab.

> [!NOTE]  
> Item attributes that you assign to an item category will automatically apply to the item that the item category is assigned to.

If you change your mind about an item category, you can delete it. However, if the category is assigned to an item, you must remove that assignment beforehand.

## To assign an item category to an item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.
2. Open the card for the item that you want to assign to an item category.
3. Choose the lookup button in the **Item Category Code** field and select an existing item category. Alternatively, choose the **New** action to first create a new item category as explained in [To create an item category](inventory-how-categorize-items.md#to-create-an-item-category).

## Categories, attributes, and variants

[!INCLUDE[inventory_variant](includes/inventory_variant.md)]

## Related information

[Work with Item Attributes](inventory-how-work-item-attributes.md)    
[Manage Product Variants](inventory-item-variants.md)    
[Register New Items](inventory-how-register-new-items.md)    
[Inventory](inventory-manage-inventory.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-how-transfer-bank-funds
---
title: Transfer bank funds
description: You can transfer amounts from one bank account to another, including different currencies, by posting the transaction in the general journal.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: bank account transfer, multiple currencies
ms.search.form: 39
ms.date: 07/25/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Transfer bank funds

You might sometimes need to transfer an amount from one bank account in [!INCLUDE[prod_short](includes/prod_short.md)] to another. To do this, you must post the transaction on the **General Journals** page. The task varies depending on whether the bank accounts use the same currency or different currencies.

## To post a transfer between bank accounts with the same currency code

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.
2. On a journal line, fill in the **Posting Date** and **Document No.** fields.
3. In the **Account Type** field, select **Bank Account**.
4. In the **Account No.** field, select the bank from which you want to transfer the funds.
5. In the **Amount** field, enter the amount to be transferred.

    Next, you must specify the balancing account. If you can't see the relevant fields, then choose the **Show More Columns** action to view all available fields.
6. In the **Bal. Account Type** field, select **Bank Account**.
7. In the **Bal. Account No.** field, select the bank account to which you want to transfer the funds.
8. Post the journal.

## To post a transfer between bank accounts with different currency codes

To transfer funds between bank accounts that use different currencies, you must post two general journal lines.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.
2. Create two journal lines, and fill in the **Posting Date** and **Document No.** fields.
3. On the first journal line, in the **Type** field, select **Bank Account**.
4. In the **Account No.** field, select the bank account from which you want to transfer the funds.
5. In the **Amount** field, enter the amount in the currency of the bank account with or without a minus sign.

    > [!TIP]
    > An amount without a sign is a debit, and an amount with a minus sign is a credit.

    > [!NOTE]
    > Some companies prefer to transfer between accounts on separate journal lines. Other companies prefer to post everything on one journal line by using a balancing account. Check with your local expert if you're not sure what to do.
    >
    > If your company prefers to use a balancing account, then set the **Bal. Account Type** field to **Bank Account**, and set the **Bal. Account No.** field to the bank account to which you want to transfer the funds. Then proceed to step 9 or 10.
    >
    > If your company prefers to use a separate journal line, then move on to the next step.
6. On the second journal line, in the **Type** field, select **Bank Account**.
7. In the **Account No.** field, select the bank account to which you want to transfer the funds.
8. In the **Amount** field, enter the amount in the currency of the bank account with or without a minus sign.

    > [!TIP]
    > An amount without a sign is a debit, and an amount with a minus sign is a credit.
9. If the exchange rates used in the journal are different than the exchange rates on the **Currency Exchange Rates** page, enter a new journal line for the exchange rate gain or loss.  

    1. Enter **G/L Account** in the **Account Type** field.  

    2. Enter the G/L account number for exchange rate gain or loss in the **Account No.** field.  

    3. Enter the exchange rate gain or loss in the **Amount** field with or without a minus sign.

    > [!TIP]
    > An amount without a sign is a debit, and an amount with a minus sign is a credit.
10. Post the journal.

## Related information

[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Setting Up Banking](bank-setup-banking.md)  
[Work with General Journals](ui-work-general-journals.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-to-remove-and-reapply-item-entries
---
title: Remove and reapply item entries
description: You can view and manually change certain item application entries that are created automatically during inventory transactions.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 506, 521, 9125
ms.date: 07/30/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Remove and reapply item ledger entries
On the **Application Worksheet** page, you can view and manually change certain item application entries that are created automatically during inventory transactions.  

When you post a transaction where items are moved in or out of inventory, an item application is created between each inventory increase and inventory decrease. These applications determine the flow of costs from the goods that are received in inventory to the cost of goods going out of inventory. Because of the way the unit cost is calculated, an incorrect item application could lead to a skewed average cost and a skewed unit cost. For more information, see Design Details: Item Application.

The following scenarios might require that you undo an application or reapply item ledger entries:

- You have forgotten to make a fixed application.
- You have made an incorrect fixed application.
- You have to return an item to which a sale has already been applied.

If possible, use a document to reapply an item ledger entry. For example, if you must make a purchase return of an item to which a sale has already been applied, you can reapply by creating and posting the purchase return document by using the correct application in the **Appl.-to Item Entry** field on the purchase return line. You can use the **Get Posted Document Lines to Reverse** function or the **Copy from Document** function in the purchase return document to make this easier. When you post the document, the item ledger entry is automatically reapplied. For more information, see [Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md).

If you can't use a document to reapply, such as when you have to correct a fixed application, then use the **Application Worksheet** page to correct an application.

> [!Warning]  
> The following are important considerations to remember when you are working with the application worksheet:
    - You should not leave application entries unapplied for long periods of time because other users cannot process the items until you reapply the application entries or close the **Application Worksheet** page. Users who try to perform actions that involve a manually unapplied application entry receive the following error message: “You cannot perform this action because entries for item XXX are unapplied in the Application Worksheet by user XXX.”
    - You should only reapply item ledger entries during nonworking hours to avoid conflicts with other users who are posting transactions with the same items.
    - When you close the application worksheet, [!INCLUDE[prod_short](includes/prod_short.md)] performs a check to make sure that all entries are applied. For example, if you remove a quantity application but do not create a new application, and then you close the application worksheet, a new application is created. This helps keep the cost intact. However, if you remove a fixed application, a new fixed application is not automatically created when you close the worksheet. You must do this manually by creating a new application in the worksheet.
    - It is possible to remove applications from more than one entry at a time in the application worksheet. However, because applying entries affects the set of entries that are available for application, you cannot create an application for more than one entry at a time.
    - The application worksheet cannot make an application in the following situation: If there is not enough quantity on stock to apply, the application worksheet cannot make an application when you are trying to apply an inventory decrease entry without item tracking information to an inventory increase entry with item tracking information.

## To remove an item application by using the Application Worksheet

1.  Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Application Worksheet**, and then choose the related link.  
2.  The **Application Worksheet** page opens displaying existing item ledger entries for all items.  
3.  Enter filters on the **General** FastTab to make it easier to find the item ledger entry for which you want to change the application.  
4.  Select the item ledger entry, and then choose the **Applied Entries** action. The **View Applied Entries – Applied Entries** page opens to show the item ledger entry or entries that are currently applied to the selected entry.  
5.  Select the item ledger entry for which you want to remove the application.  
6.  Choose the **Remove Application** action. This removes the item application entry that links the two item ledger entries and moves it to the **View Applied Entries – Unapplied Entries** page.  
7.  Close the **View Applied Entries – Applied Entries** page.  

 The **Remaining Quantity** field of the two item ledger entries is increased by the quantity that has been unapplied. The removed item ledger entry is now available for reapplication on the **View Applied Entries – Unapplied Entries** page.  

> [!IMPORTANT]  
>  You should not leave application entries unapplied for longer periods of time because other users cannot process the affected items until you reapply the application entries or close the **Application Worksheet** page. The following error message is displayed if you try to perform actions that involve a manually unapplied application entry:  
>   
>  **You cannot perform this action because entries for item \<item\> are unapplied in the Application Worksheet by user \<user\>.**  

## To reapply an item application by using the Application Worksheet

1.  Choose the ![Lightbulb that opens the Tell Me feature 2.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Application Worksheet**, and then choose the related link.  
2.  The **Application Worksheet** page opens displaying existing item ledger entries for all items.  
3.  To reapply entries that were removed since the worksheet was opened, select the item ledger entry that you want to reapply, and then choose the **Reapply** action.  

    > [!NOTE]  
    >  This reapplication to the original balance also occurs automatically when you close the **Application Worksheet** page.  
4.  To apply an available open item ledger entry to another entry, select the item ledger entry that you want to apply. Choose the **Unapplied Entries** action. The **View Applied Entries – Unapplied Entries** page opens.  
5.  Select one or more item ledger entries that you want to apply to the entry selected on the **Application Worksheet** page, and then choose the **OK** button.  

     An item application entry is created between the two item ledger entries. The **Remaining Quantity** fields of the two entries are reduced by the applied quantity.  

    > [!NOTE]  
    >  If you have chosen to make an application that would create an infinite loop in the cost adjustment process, then the application that you proposed is not made. This can occur when the original entries created negative stock. The application is not made. Therefore, you must select a different entry for the application.  
6.  If the **Automatic Cost Adjustment** field in the **Inventory Setup** is set to **Always**, then the cost adjustment batch job is automatically run after you make a reapplication. Otherwise, run the **Adjust Cost - Item Entries** batch job to make sure that all costs are up to date.  

## Related information

[Close Open Item Ledger Entries Resulting from Fixed Application in the Item Journal](finance-how-to-close-open-item-ledger-entries-resulting-from-fixed-application-in-the-item-journal.md)    
 [Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md)    
 [Managing Inventory Costs](finance-manage-inventory-costs.md)   
 [Design Details: Item Application](design-details-item-application.md)    
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-setting-up-and-invoicing-sales-prepayments
---
title: Set up and invoicing sales prepayments
description: Prepayments are payments that are invoiced and posted to a sales or purchase prepayment order before final invoicing. 
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 01/29/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: Set up and invoicing sales prepayments

This walkthrough takes you through the process of setting up and using prepayments in [!INCLUDE [prod_short](includes/prod_short.md)]. [!INCLUDE [prepayment_def](includes/prepayment_def.md)]

[!INCLUDE [prepayment_req](includes/prepayment_req.md)]

For example, you can send more prepayment invoices if more items are added to the order.  

## About this walkthrough  

This walkthrough will take you through the following scenarios:  

- Setting up prepayments  
- Creating an order that requires a prepayment  
- Creating a prepayment invoice  
- Correcting the prepayment requirements on an order  
- Applying prepayments to an order  
- Invoicing the final amount on an order with prepayment  

### Roles

This walkthrough includes tasks for the following roles:  

- Accounting Manager (Phyllis)  
- Order Processor (Susan)  
- Accounts Receivable Administrator (Arnie)  

## Story

 Phyllis is an accounting manager and makes decisions about which customers are required to pay a deposit before items are manufactured or shipped. Phyllis sets up [!INCLUDE[prod_short](includes/prod_short.md)] to calculate prepayments automatically.  

 Susan is a sales order processor. When a customer calls to place an order, Susan enters the order into the system while the customer is on the telephone. This way, Susan can verify prices and payment terms with the customer immediately, and make changes to the order while negotiating with the customer.  

 Arnie works in the Accounts Receivable department and posts invoices and payments.  

 In this scenario, Phyllis sets up prepayment requirements for the customer Selangorian based on their credit history. Phyllis gives Susan instructions for how to handle their orders.  

 When the customer calls, Susan negotiates with the customer until they reach an agreement, and then chooses to calculate the prepayment in several different ways.  

 After Susan sends the prepayment invoice, the customer orders an extra item. Susan updates the order and creates a second prepayment invoice.  

 Arnie registers the customer's payment and applies it to the invoices, and then sends the final invoice.  

## Set up prepayments

Phyllis sets up the system to handle prepayments for customers.  

- Phyllis decides to have the same number series for prepayments as the one used for sales invoicing.  
- Phyllis sets application to check if prepayments are required before final invoicing on an order.  
- Phyllis sets up default values for a required prepayment percentage for particular items and customers.  

The following procedures describe how to complete Phyllis' tasks:  

### To set up number series for prepayments

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.  
2. On the **Sales & Receivables Setup** page, expand the **Number Series** FastTab.  
3. Verify that the number series for posted prepayment invoices in the **Posted Prepmt. Inv. Nos.** field is the same as for posted sales invoices (**Posted Invoice Nos.**), and the number series for posted prepayment credit memos (**Posted Prepmt. Cr. Memo Nos.**) is the same as for posted credit memos (**Posted Credit Memo Nos.**).  

### To block shipments for unpaid prepayment

1. On the **Sales & Receivables Setup** page, on the **General** FastTab, select the **Check Prepayment when Posting** check box.

Now you can't ship or invoice an order that has an unpaid prepayment amount.  

By default, Phyllis requires customer 20000 to be invoiced for a 30% down payment on all orders. Therefore, Phyllis will enter a default prepayment percentage on the customer card.  

Phyllis requires all customers to be invoiced a 20% deposit for item 1896-S. Customer 20000 has a poor payment history, so Phyllis requires a 40% prepayment from customer 20000 for item 1896-S. The following procedure illustrates how to set up default prepayment percentages.  

### To assign default prepayment percentages to customers and items

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.  
2. Open the card for customer 20000 (Trey Research).
3. On the **Payments** FastTab, in the **Prepayment %** field, enter **30**.  
4. Choose the **Related** action, select the **Sales** menu item, and then choose the **Prepayment Percentages** menu item.  
5. Fill in two lines on the **Sales Prepayment Percentages** page as follows.  

    |**Sales Type**|**Sales Code**|**Item No.**|**Prepayment %**|  
    |--------------------|--------------------|------------------|----------------------|  
    |**Customer**|**20000**|**1896-S**|**40**|
    |**Customer**|**20000**|**1900-S**|**30**|  
    
    > [!TIP]
    > Depending on your country/region, you must also specify a tax group code on the **Costs & Posting** FastTab for item 1896-S. When you use the demonstration company, this field is already set.

6. Close all pages.  

### To specify an account for sales prepayments in general posting setup

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Posting Setup**, and then choose the related link.  
2. Select the line where the **Gen. Bus. Posting Group** field is set to **DOMESTIC**, and the **Gen. Prod. Posting Group** field is set to **RETAIL**.  
3. In the **Sales Prepayments Account** field, specify the relevant account. Your selection is automatically saved.  

> [!TIP]
> If you cannot see the field in the **General Posting Setup** page, then use the horizontal scroll bar at the bottom of the page to scroll to the right.  

## Create an order that requires a prepayment

 In the following scenario, Susan, the order processor, creates an order when talking to a customer. The items the customer is ordering require a prepayment. Plus, the customer has made some late payments in the past. Susan's been instructed to require a fixed amount of **800** as a prepayment on the order.  

The customer asks to pay 35%, to which Susan agrees and changes the order.  

Susan creates the prepayment invoice and sends it to the customer.  

### To create a sales order with a prepayment

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Choose the **New** action.  
3. In the **Customer Name** field, choose **Trey Research**.  
4. Close the overdue balance warning that is displayed.  
5. Fill in two sales lines with the following information.  

    |**Type**|**No.**|**Quantity**|  
    |--------------|-------------|------------------|  
    |**Item**|**1896-S**|**1**|  
    |**Item**|**1900-S**|**1**|

    By default, the prepayment fields on the sales line are hidden. To display the fields, you must personalize the page. For more information, see [To start personalizing a page through the Personalizing banner](ui-personalization-user.md#start-personalizing-by-using-the-personalization-mode).

6. Verify that the **Prepayment %** field on the line with item **1900-S** contains **30**. The default value was taken from the sales header, which was populated from the customer card.  

    The **Prepayment %** field on the line with item **1896-S** contains **40**. 40 is the percentage you entered on the **Sales Prepayment Percentages** page for item **1896-S** and customer **20000**.  

    For more information, see [Set Up Prepayments](finance-set-up-prepayments.md).  
7. In the **Order** action, choose  **Statistics**.  
8. On the **Prepayment** FastTab, the **Prepayment Amount Excl. VAT** field contains **458.16**. If you create a prepayment invoice for the order now, 458.16 is the amount on the invoice.  

    In this scenario, Susan has been instructed to suggest a total prepayment of **800** for the order.  

    > [!IMPORTANT]  
    >  Depending on your country/region, the following step might not apply.  
9. Change the amount in the **Prepmt. Amount Excl. Tax** field to **800** and then close the page.  
10. Verify the **Prepayment %** field on the sales lines, and you'll see that it has been recalculated to **67.02438** and **67.02282**.  

     The recalculation includes all lines that have a prepayment percentage that is greater than 0.  

     Now the customer asks if the prepayment percent can be set to 35%. Susan's supervisor approves the change.
11. On the **Sales Order** page, on the **Prepayment** FastTab in the **Prepayment %** field, enter **35**.  
12. In the warning that appears, choose the **Yes** button. A rate of 35% will be applied as the payment percentage for the whole order.  
13. Verify that the lines have been updated correctly.  

## Create a prepayment invoice

After entering the correct prepayment values on the order, Susan creates the prepayment invoice and sends it to the customer.  

### To create a prepayment invoice

1. On the **Sales Order** page, choose **Actions**, then **Posting**, then **Prepayment** and then select **Post and Print Prepmt. Invoice**
2. Choose the **Yes** button to post the invoice.  

> [!NOTE]  
> Susan would now send the invoice to the customer.  

## Create an additional prepayment invoice

The following day, the customer calls Susan and makes changes to the order. The customer wants two of item 1896-S. Susan reopens the order, updates it, and then creates a second prepayment invoice for the order and sends it to the customer.  

### To create an additional prepayment invoice

1. On the **Sales Order** page, choose the **Release** action, and then **Reopen**.  
2. On the line for item **1896-S**, in the **Quantity** field, enter **2**.  

    In the **Order** action, choose **Statistics**. The **Prepayment Amount Excl. VAT** field now contains **768.04**, and the **Prepmt. Amt. Invoiced Excl. VAT** field contains **417.76**. These values show that there's an extra prepayment amount that hasn't been invoiced yet.  
3. To post an invoice for the extra prepayment amount, choose **Actions**, then **Posting**, then **Prepayment** and then select **Post and Print Prepmt. Invoice**
4. Choose the **Yes** button to post the invoice.  

## Apply the prepayments

The customer pays the prepayment amount. Arnie, from the accounting department, registers the payment, and applies it to the prepayment invoices.  

### To apply a payment to the prepayment invoices

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Cash Receipt Journals**, and then choose the related link.  
2. Fill in a journal line with the following information.  

    |Field name|Enter|  
    |----------------|-----------|  
    |**Document Type**|**Payment**|  
    |**Account Type**|**Customer**|  
    |**Account No.**|**20000**|  
3. Choose the **Process** action, and then **Apply Entries**.  
4. On the **Apply Customer Entries** page, select the first prepayment invoice, and then choose the **Process** action, and then choose the **Set Applies-to ID** action.  
5. Repeat the previous step for the second prepayment.  
6. Choose the **OK** button.  

    The **Amount** fields have now been filled in with the sum of the two prepayment invoices.  

7. To post the journal, choose the **Post/Print** action, then select **Post**.
8. Choose the **Yes** button.

## Invoice the remaining amount

Now Arnie has been informed that the items on the order have been shipped and that the order is ready for invoicing. Arnie creates the invoice for the order.  

### To invoice the remaining amount

1. Open the sales order.
2. Choose the **Posting** action, then **Post**.
3. Select **Ship and Invoice**, and then choose the **OK** button.
4. If you want to preview the invoice, choose the **Yes** button.

    > [!NOTE]  
    > Normally, the shipping department would have already posted the shipment.  

    Arnie can view the history to verify that the sales invoice was created as intended.

5. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Invoices**, and then choose the related link.  

## Update the status of prepaid orders and invoices automatically

You can speed up order and invoice processing by setting up job queue entries that automatically update the status of those documents. When a prepayment invoice is paid, the job queue entries can automatically change the document status from **Pending Prepayment** to **Released**. When you set up the job queue entries, the codeunits you'll need to use are **383 Upd. Pending Prepmt. Sales** and **383 Upd. Pending Prepmt. Purchase**. We recommend that you schedule the entries to run frequently, for example, every minute. For more information, see [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

## Next steps

This walkthrough covered the following steps to set up [!INCLUDE[prod_short](includes/prod_short.md)] to handle prepayments. 

- Set up default prepayment percentages on customers and items.
- Use different methods to calculate the prepayments on an order.  
- Calculate the prepayment amount as a percentage of the total on the order.
- Assign one total prepayment amount to the order.  

You've also posted a prepayment invoice, created a second prepayment invoice when the order has changed, and posted the final invoice for the remaining amount.  

The prepayments capabilities make it easy to set up and enforce prepayment rules for customers and items. They also let you to post every payment against an invoice.  

## Related information

[Invoicing Prepayments](finance-invoice-prepayments.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-consolidated-company-reporting-setup
---
title: Set up company consolidation
description: Learn how you can configure how data from different companies in Business Central is reported into a consolidation company.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 04/25/2025
ms.custom: bap-template
ms.search.keywords: consolidation, subsidiaries, consolidate
ms.search.form: 240, 1826, 1827
ms.service: dynamics-365-business-central
---

# Set up company consolidation

Before you can consolidate the general ledger entries of two or more companies (subsidiaries) into a consolidated company, you must prepare the charts of accounts and the consolidation company.  

Depending on the complexity of your businesses, there are two ways to set up consolidation:

* If you don't need advanced settings, such as including a company that you only own part of, you can use the **Company Consolidation** setup guide to quickly set-up a consolidation. The guide helps you through the basic steps.
* If you need more advanced settings, you can set up the consolidated company and business units yourself.
  * In each business unit, specify the general ledger accounts to include in the consolidation and the translation method for each account.
  * In the consolidated company, set up a business unit card for each company to include in the consolidation. The business unit card includes information such as the dates of the business unit's fiscal year, and the percentage of each account to include in the consolidation.

## Simple consolidation setup

If your consolidation is straightforward, for example because you wholly own the business units to consolidate, the **Company Consolidation** guide helps you through the following steps:

* Create a new consolidated company, or consolidate a company you already created. The company shouldn't contain transactions.
* Preview the results. [!INCLUDE[prod_short](includes/prod_short.md)] verifies that you can successfully transfer the master data and transactions to the consolidated company.

To use the assisted setup guide, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.
2. Choose **Process Consolidations**, and then complete each step in the Company Consolidation assisted setup guide.

## Advanced consolidation setup

If you need more advanced settings for your consolidation, you can set up consolidation manually. For example, if you have companies that you partially own, or you have companies that you don't want to include.  

### Set up the consolidated company

First, you must set up the consolidated company. You set up the consolidated company in the same way that you set up other companies. To learn more about setting up a company, go to [Getting Ready for Doing Business](ui-get-ready-business.md).  

The following list illustrates key aspects of the consolidated company.

1. Set up the chart of accounts.

    To learn more about setting up a chart of accounts, go to [Setting Up or Changing the Chart of Accounts](finance-setup-chart-accounts.md).  

    The charts of accounts can be identical across a business unit and the consolidated company, or the consolidated company can have a different chart of account. If a business unit's chart of accounts differs from the consolidated company's, you must map the accounts to the accounts in the business unit. To learn more, go to the [Prepare general ledger accounts for consolidation](#glacc) section.

2. Add business units.

    To consolidate several companies' data, you must set up the subsidiaries as business units and specify how much of their balances to include. To learn more about business units, to go the [Add business units](#busunit) section.

3. Specify exchange rates, if needed.

    Specify exchange rates if you consolidate data for business units that use different currencies. The exchange rates you can use are **Average Rate (Manual)** and **Closing Rate**. To learn more about exchange rates, go to [Specify exchange rates for consolidations](#exchrates).

4. Consolidate dimension information and general ledger accounts.

    To learn more, go to the [Include or exclude dimensions](#dim) section.

### <a name="busunit"></a>Add business units

In the consolidated company, set up each company that you want to consolidate data from as a business unit. Before you run a consolidation and generate your consolidation report, it's a good idea to verify the financial data in each business unit.

A significant part of setting up the business unit is to specify how the unit shares it's financial data with the consolidated company. There are manual and automated options:

* To use a manual process, for [!INCLUDE [prod_short](includes/prod_short.md)] online and on-premises, you can export an .xml file that contains the unit's general ledger entries. Then import the file in the consolidated company.
* To automate the data exchange, for [!INCLUDE [prod_short](includes/prod_short.md)] online you can use an API that [!INCLUDE [prod_short](includes/prod_short.md)] provides to share data across environments. If your companies are in the same environment, you can use the **Database** option.

> [!NOTE]
> The API option also lets you share general ledger entries from other [!INCLUDE [prod_short](includes/prod_short.md)] environments. To use the API option, the user who configures the consolidation must have permission to access G/L entries. For example, the D365 Basic and D365 Read permission sets provide access.

#### Set up business unit currencies

When you run consolidation for business units in a foreign currency, pay attention to the exchange rates that various parts of the process use. This is especially true when you rerun consolidation. Use the **Set Up Business Unit Currencies** page to easily keep track of the rates.

The **Set Up Business Unit Currencies** page gives you the last rates for average and closing. You can look up the exchange rates in the currency exchange rate table, which makes it easier to validate rates. You can change the rates for the current run by entering the values or copying them from previous runs. To copy rates, choose **Select from previous consolidation**. This page is valuable when you want to rerun a previous consolidation and use a previous closing rate. This step helps to correctly revaluate your balance sheet items. The **Select from previous consolidation** page is also useful if you just want to view the rates that were used, for example, when you're troubleshooting. The page is filtered to runs that included the selected business unit.

You start the **Run Consolidation** batch job from the **Business Units** list page. You can also find the **Set Up Business Unit Currencies** page by choosing the **Exchange Rates** action.

> [!NOTE]
> The exchange rate setup pages for average and closing that are currently available on the **Business Unit** card will be deprecated in a future version. However, you can still maintain these rates if you have business units that you import through files.

#### Create a business unit

1. Sign in to the consolidated company.
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Business Units**, and then choose the related link.  
3. Choose **New**, and then fill in the required fields on the **General** and **G/L Accounts** FastTabs. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!IMPORTANT]
    > When you fill in the **Starting Date** and **Ending Date** fields, make sure you comply with GAAP rules concerning the fiscal periods of the business unit versus the parent company.
4. On the **Data Import** FastTab, in the **Default Data Import** field, specify how you share general ledger entries with the consolidated company:

   * To share data between companies in the same environment, choose **Database**.
   * To share data between companies in different environments, choose **API**, and then fill in the **API's Endpoint** field.
        
        To get the endpoint URL, in the business unit company's [!INCLUDE [prod_short](includes/prod_short.md)], open the **Consolidation Setup Page** and check the Current environment's API Endpoint field value. 
   * To export an .xml file and manually share it, choose **File Format**.

### <a name="glacc"></a>Prepare general ledger accounts for consolidation

The chart of accounts for a company that you will consolidate must specify accounts for consolidation. For each posting general ledger account in each company, you must specify the general ledger account in the consolidated company to transfer the balance to. This mapping lets you consolidate companies that have different charts of accounts.

If the chart of accounts in the business unit differs from the consolidated company, you must prepare general ledger accounts for consolidation. You can specify the accounts to post debits and credits to, and the method to use to translate currencies in the consolidated company.

1. In each business unit's [!INCLUDE [prod_short](includes/prod_short.md)], choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
2. Open the card for the account, and then fill in the fields on the **Consolidation** FastTab. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

> [!NOTE]
> If you don't fill in the **Consol. Debit Acc.** and **Consol. Credit Acc.** fields, [!INCLUDE [prod_short](includes/prod_short.md)] assumes they're mapped to the same accounts in the consolidated company.

> [!TIP]
> There might be scenarios where you don't want to include an account in a consolidation. For example, if you want your consolidation company to reflect only the balance sheets from the subsidiary companies. To exclude an account from consolidation, turn on the **Exclude from Consolidation** toggle for the account.

### <a name="exchrates"></a>Specify exchange rates for consolidations

If a business unit uses a different currency than the consolidated company, you must specify exchange rate methods for each account before you consolidate. For each account, the content of the **Consol. Translation Method** field determines the exchange rate. In the consolidated company, on each business unit card, in the **Currency Exchange Rate Table** field you specify whether consolidation uses exchange rates from the business unit or the consolidated company. If you use exchange rates from the consolidated company, you can change the exchange rates for a business unit. For business units, if the **Currency Exchange Rate Table** field on the business unit card contains **Local**, you can change the exchange rate from the business unit card. The exchange rates are copied from the **Currency Exchange Rate** table, but you can change them before consolidating.

The following table describes the exchange rate methods you can use for accounts.

|Exchange rate | Typical use |
|---|---|
|Average Rate (Manual) | You manually calculate the average rate for the period to consolidate. Calculate the average either as an arithmetic average or as a best estimate, and specify the result for each business unit. Use for income statement accounts.|
|Closing Rate | Used for balance sheet accounts.|
|Historical Rate | The exchange rate that was valid when the transaction occurred.|
|Composite Rate | The current period amounts are translated at the average rate and added to the previously recorded balance in the consolidated company. You typically use this method for retained earnings accounts. Those accounts include amounts from different periods, so they contain amounts translated with different exchange rates.|
|Equity Rate | This option is similar to **Composite**. Differences post to separate general ledger accounts.|

To specify exchange rates for a business unit, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Business Units**, and then choose the related link.  
2. On the **Business Unit List** page, choose the business unit, and then choose the **Exchange Rates** action.  
3. On the **Setup Business Unit Currencies** page, fill in the fields as necessary. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

### <a name="dim"></a>Include or exclude dimensions

You can consolidate dimension information and general ledger accounts.

* On the dimensions, specify the **Consolidation Code** field, or leave it blank.
  * To exclude a dimension in the consolidation, leave the **Consolidation Code** field blank on the dimension, and don't choose dimensions in the **Copy Dimensions** fields in any consolidation functions or reports.
  * To include dimension information in the consolidation, leave the **Consolidation Code** field blank. However, the consolidation works only if the dimension values in the business unit are the same as the consolidated company.
  * To consolidate the dimension value code in the business unit with a different dimension value code in the consolidated company, fill in the **Consolidation Code** field on the dimensions.  
* Add the dimensions to the general ledger accounts.

### <a name="exclude"></a>Exclude a company from consolidation

If you don't want to include a business unit in the consolidation, you can exclude it. To do that, go to the business unit card, and clear the **Consolidate** checkbox.

### <a name="include"></a>Include a partially owned company in consolidation

If you own only part of a company, you can include a percentage of each transaction that reflects the percentage you own. For example, if you own 70% of the company, consolidation includes $70 of an invoice for $100. To specify the percentage of the company you own, go to the business unit card and enter the percentage in the **Consolidation %** field.  

## Related information

[Consolidating Financial Data from Multiple Companies](finance-consolidated-company-reporting.md)  
[Managing Intercompany Transactions](intercompany-manage.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Exporting Your Business Data to Excel](about-export-data.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-powerbi-install-business-central-apps
---
title: Installing Power BI apps for Business Central
description: Learn how to install Power BI apps for your Business Central.
author: kennieNP
ms.topic: get-started
ms.devlang: al
ms.search.keywords: analysis, reporting, business intelligence, KPI, installation, administration
ms.date: 06/11/2025
ms.author: kepontop
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Install [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps for [!INCLUDE [prod_short](includes/prod_short.md)]

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

This article describes how to install [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps for [!INCLUDE [prod_short](includes/prod_short.md)]. The apps are specific to each functional area of [!INCLUDE [prod_short](includes/prod_short.md)]. The apps include:

- APIs for reading data.
- [!INCLUDE [powerbi-name](includes/powerbi-name.md)] semantic models and reports.
- Pages that embed the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports in [!INCLUDE [prod_short](includes/prod_short.md)].
- Navigation links on Role Centers and Role Explorer.

## Prerequisites

To install [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps for [!INCLUDE [prod_short](includes/prod_short.md)], you must have:

- An environment in [!INCLUDE [prod_short](includes/prod_short.md)] online (it comes ready to integrate with [!INCLUDE [powerbi-name](includes/powerbi-name.md)].)

- Entitlements/permissions in [!INCLUDE [powerbi-name](includes/powerbi-name.md)] to:

    - Install template apps from AppSource.
    - Use shared workspaces.

The prerequisites for [!INCLUDE [powerbi-name](includes/powerbi-name.md)] can be met with a [!INCLUDE [powerbi-pro](includes/powerbi-pro-license-name.md)] license for the following users:

   - The user who installs the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] template app.
   - The user who refreshes the data.
   - Each user who accesses the reports, either in the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] service or embedded in [!INCLUDE [prod_short](includes/prod_short.md)].

An alternative to using [!INCLUDE [powerbi-pro](includes/powerbi-pro-license-name.md)] licenses is to use [!INCLUDE [powerbi-name](includes/powerbi-name.md)] or [!INCLUDE [fabric-name](includes/fabric-name.md)] Premium capacity.

To learn more, go to [Get started with [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports in [!INCLUDE [prod_short](includes/prod_short.md)]](across-working-with-powerbi.md#get-started).

## Installing a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app

[!INCLUDE [powerbi-apps-overview](includes/powerbi-apps-overview.md)]

Each app consists of two parts:

- A connector (AL) app that contains APIs, setup pages, and embed pages. Connectors are preinstalled with [!INCLUDE [prod_short](includes/prod_short.md)].
- A [!INCLUDE [powerbi-name](includes/powerbi-name.md)] template app that contains a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] semantic model and [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports.

You must install and configure both apps for the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports to work.

### Installing the connector (AL) app

The connector apps are preinstalled with [!INCLUDE [prod_short](includes/prod_short.md)].

### Installing a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] template app

Template apps are available to install from Microsoft AppSource. To install or update one or more of the template apps, go to one of the install links in the following table and select **Get it now**.

| To get the template app for... | In [!INCLUDE [prod_short](includes/prod_short.md)] versions | Use this install link |
|--------------------------------| -------------- | ------------------------------------------------- |
| Finance                        | 26.2 and later | https://aka.ms/bc-pbi-finance-app                 |
| Inventory                      | 26.2 and later | https://aka.ms/bc-pbi-inventory-app               |
| Inventory Valuation            | 26.2 and later | https://aka.ms/bc-pbi-inventory-valuation-app     | 
| Manufacturing                  | 26.2 and later | https://aka.ms/bc-pbi-manufacturing-app           |
| Purchasing                     | 26.2 and later | https://aka.ms/bc-pbi-purchase-app                |
| Projects                       | 26.2 and later | https://aka.ms/bc-pbi-projects-app                |
| Sales                          | 26.2 and later | https://aka.ms/bc-pbi-sales-app                   |
| Subscription Billing           | 26.2 and later | https://aka.ms/bc-pbi-subscription-billing-app    |
| Sustainability                 | 26.2 and later | https://aka.ms/bc-pbi-sustainability-app          |


| To get the template app for... | In [!INCLUDE [prod_short](includes/prod_short.md)] versions | Use this install link |
|--------------------------------| ------------ | -------------------------------------------------- |
| Finance                        | 25.2 to 26.1 | https://aka.ms/bc-pbi-finance-app-25-2             |
| Inventory                      | 25.2 to 26.1 | https://aka.ms/bc-pbi-inventory-app-25-2           |
| Inventory Valuation            | 25.2 to 26.1 | https://aka.ms/bc-pbi-inventory-valuation-app-25-2 | 
| Manufacturing                  | 25.2 to 26.1 | https://aka.ms/bc-pbi-manufacturing-app-25-2       |
| Purchasing                     | 25.2 to 26.1 | https://aka.ms/bc-pbi-purchase-app-25.2            |
| Projects                       | 25.2 to 26.1 | https://aka.ms/bc-pbi-projects-app-25-2            |
| Sales                          | 25.2 to 26.1 | https://aka.ms/bc-pbi-sales-app-25-2               |

Sign in to Microsoft AppSource using your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] account credentials. Follow the instructions to install the app in [!INCLUDE [powerbi-name](includes/powerbi-name.md)].

In the authentication step, choose **OAuth2** and set the **Privacy level setting for this data source** field to **Organizational**.

:::image type="content" source="media/powerbi/power-bi-install-app-authenticate.png" alt-text="Screenshot of the Power BI app installer." lightbox="media/powerbi/power-bi-install-app-authenticate.png"::::::

After you install it, the [!INCLUDE [prod_short](includes/prod_short.md)] [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app appears under **Apps** in [!INCLUDE [powerbi-name](includes/powerbi-name.md)], and there's a workspace with the same name that you can use to configure the app.

When you install the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] template app in your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] subscription, you must choose a workspace for the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] semantic model and reports. We recommend that you use one workspace for each app because it's easier to set up functional boundaries with access controls for users and user groups.

> [!IMPORTANT]
> To install a [!INCLUDE [powerbi-name](includes/powerbi-name.md)] template app, you need a [!INCLUDE [powerbi-pro](includes/powerbi-pro-license-name.md)] license.

### Need Power BI apps for multiple companies?

[!INCLUDE [powerbi-apps-per-company-include](includes/powerbi-apps-per-company-include.md)]

## Run the Connect to Power BI assisted setup guide

After you install your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps, you can configure them to suit your business:

- Get help with the set-up process by using the **Connect to Power BI** assisted setup guide.
- Set up things yourself on the [Power BI Connector Setup](https://businesscentral.dynamics.com?page=36951) page.

The assisted setup guide helps you configure the following components:

1. [Calendar Type](#configure-the-calendar-type)
1. [UTC Offset](#specify-the-utc-offset)
1. [Date Table Range](#set-up-a-date-table-range)
1. [Work Days](#specify-work-days)
1. [Report Mapping](#map-embedded-reports)

### Configure the calendar type

Choose the type of calendar the year boundaries apply to.

- **Fiscal**: A 12-month calendar that begins in any month and ends 12 months after.
- **Standard**: A 12-month calendar that begins on January 1 and ends on December 31.
- **Weekly**: A calendar that supports 445, 454, or 544 week groupings. The first and last day of the year might not correspond to a first and last day of a month, respectively.

> [!IMPORTANT]
> By default, all [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports are configured to use Fiscal Calendar date fields and Fiscal Time Intelligence measures.

<!-- If you choose a calendar type other than Fiscal, you will need to edit the Power BI reports and change the date field references and measure references accordingly.  -->

### Specify the UTC offset

The UTC offset defines the UTC time zone in the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] date table.

The UTC offset allows your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] semantic model to accurately calculate what the current day is in respect to your geographical location. This setting is necessary because your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps might be hosted in a data center located in a different region.

UTC offsets are based on [!INCLUDE [prod_short](includes/prod_short.md)] time zones.

### Set up a date table range

The **Starting Date** and **Ending Date** fields are set automatically based on your accounting periods in [!INCLUDE [prod_short](includes/prod_short.md)]. Based on these dates, [!INCLUDE [powerbi-name](includes/powerbi-name.md)] generates a series of continuous dates for your date table.

> [!NOTE]
> If your budgets extend past the last date in your Account Period table, you must manually set the ending date to accommodate the extended range.

### Specify work days

You can define the days of the week you consider as work days. The default setting is Monday to Friday.

### Map embedded reports

To enable the embedded report pages in [!INCLUDE [prod_short](includes/prod_short.md)], you must set up links to the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps in the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] service.

1. For each functional area in [!INCLUDE [prod_short](includes/prod_short.md)], select the ellipsis to open the **Select Power BI Workspace** page.
1. Select the workspace where you store the corresponding [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app.
1. Select the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] report (app) you want to map.

## Restrict the amount of data that loads to Power BI

If you want to restrict the amount of data that loads to the semantic model in [!INCLUDE [powerbi-name](includes/powerbi-name.md)], you can define filters on each app.

On the [Power BI Connector Setup](https://businesscentral.dynamics.com?page=36951) page, choose an app for which you want to set up data filtering. The semantic models use these settings when they refresh the data.

All apps support start and end date filtering, where you specify the start and end date of an interval.

Some apps also support other filter options, such as *Start/End Date* or *Relative Date*. With the *Relative Date* type, you can apply a custom date formula.

## Connect the Power BI semantic models to Business Central

Do this part of the configuration in the semantic models in your [Power BI service](https://app.powerbi.com).

Each semantic model requires two parameters:

- Environment (holds the environment name)
- Company (holds the company name. The company parameter is case sensitive. )

You can find these values in the connection details of the assisted setup guide or on the [Power BI Connector Setup](https://businesscentral.dynamics.com?page=36951) page.

To set or change values for the parameters, open the app workspace in your [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)]. Locate the semantic model, and choose **More options**. Now choose **Settings**, and then **Parameters**.

## Get the latest data (refresh the semantic model)

Each [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app is based on a semantic model (also known as a dataset) that gets data from [!INCLUDE [prod_short](includes/prod_short.md)] APIs. Make sure that the data in your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] reports is up to date with the data in [!INCLUDE [prod_short](includes/prod_short.md)]. This concept is referred to as *refreshing* the model. Depending on your [!INCLUDE [powerbi-name](includes/powerbi-name.md)] setup, refreshing might not happen automatically. You can refresh data manually, or by scheduling a refresh. You can do a manual refresh at any time. A scheduled refresh lets you refresh data automatically at defined time intervals.

To learn more, go to [Refresh [!INCLUDE [powerbi-name](includes/powerbi-name.md)] semantic models](/dynamics365/business-central/across-working-with-powerbi#work-with-power-bi-reports).

## Job queue entry for updating dimension set entries

For dimension set entries to show up in the [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps, the job queue entry that runs the *Update Dim. Set Entries* codeunit must run at least one time. If you change dimension sets or values, the codeunit must run again. Therefore, we recommend that you run the corresponding job queue entry one time each week, or maybe once a night outside normal working hours.

## Want links to show up in Report Explorer?

The profiles (roles) selected to display in the Role Explorer control the functional areas that show in Report Explorer. To specify whether profiles display, turn on or turn off the **Enabled** and **Show in Role Explorer** toggles on the **Profiles** page.

> [!TIP]
> For the built-in profiles that show in Report Explorer, the **Description** field contains **Navigation menu only**.

## Permissions

In [!INCLUDE [prod_short](includes/prod_short.md)], the user account you use to refresh the semantic model in [!INCLUDE [powerbi-name](includes/powerbi-name.md)] must have **Read** permissions to the tables in the model. The tables are documented in the KPI article for the app. For example, for the [!INCLUDE [power-bi-sales-app-name](includes/power-bi-sales-app-name.md)], to explore the [!INCLUDE [prod_short](includes/prod_short.md)] tables that a user needs Read permissions for, go to [KPIs and measures in the Power BI Sales app](sales-powerbi-sales-kpis.md).

In the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)], we recommend that you add multiple admins for each [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app workspace. Grant Read permissions to users who should be able to view report pages in an app.

For the embedded pages in [!INCLUDE [prod_short](includes/prod_short.md)], there are permission sets for each [!INCLUDE [powerbi-name](includes/powerbi-name.md)] app. If you need to exclude read access to all or some of these pages, you can exclude the permission set (or permission on individual pages) for the users.

## Governance of [!INCLUDE [powerbi-name](includes/powerbi-name.md)] workspaces

Consider having the template app workspaces highly governed and not used directly for the embedded experience. To learn more, go to [Workspace governance level](/power-bi/guidance/powerbi-implementation-planning-workspaces-tenant-level-planning#workspace-governance-level).

Instead, consider having a single workspace per company that you use for the embed experience. In this workspace, keep copies or custom versions of the template reports. This helps mitigate the problem of losing report customizations when you upgrade the template app workspace. To learn more about how to copy a report to another workspace, go to [Copy reports from other workspaces](/power-bi/connect-data/service-datasets-copy-reports).

## Updating a Power BI app

The [!INCLUDE [prod_short](includes/prod_short.md)] [!INCLUDE [powerbi-name](includes/powerbi-name.md)] apps are available as template app on AppSource. When a new version of a template app becomes available, we notify you in two ways:

- An update banner displays in the [!INCLUDE [powerbi-service-name](includes/powerbi-service-name.md)] informing you that a new version is available.
- A notification displays in Power BI's notification pane.

When you update a template app, it's important that you're aware of your options and how they might overwrite earlier changes to the reports. You can choose to:

- Update the workspace and the app.
- Update workspace content only, without updating the app.
- Install another copy of the app in a new workspace.

To learn more, go to [Install, share, and update template apps in your organization](/power-bi/connect-data/service-template-apps-install-distribute#update-a-template-app).

## Related information

[Power BI apps FAQ](across-powerbi-apps-faq.md)  
[Power BI apps by functional area](across-powerbi-apps-by-functional-area.md)  
[Introduction to Business Central and Power BI](admin-powerbi.md)  
[Work with Power BI reports](across-working-with-powerbi.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-outlook
---
title: Get the Business Central Add-in for Outlook
description: Learn how to install the Business Central add-in for Outlook for your organization or for your own use. 
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.keywords: SMTP, mail, Microsoft 365, Outlook
ms.search.form: 1831, 1832
ms.date: 10/21/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Get the Business Central add-in for Outlook

With [!INCLUDE[prod_short](includes/prod_short.md)], you can manage business interactions with your customers and vendors, directly in [!INCLUDE [outlook-name](includes/outlook-name.md)]. With the [!INCLUDE[prod_short](includes/prod_short.md)] [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)] add-in, you can view financial data related to customers and vendors. You can also create and send financial documents, such as quotes and invoices.  

There are two ways to get the Business Central add-in for Outlook installed, depending on your role in the organization:

- As a Microsoft 365 administrator, use *Centralized Deployment* to install the add-in automatically for the entire organization, groups, or specific users.

- As any user, install the add-in for your own use if not already done by your admin.

## About the Business Central add-in for Outlook

The Business Central add-in for Outlook consists of two smaller add-ins:

- Contact insights

    This add-in provides users with [!INCLUDE[prod_short](includes/prod_short.md)] customer or vendor information in Outlook emails and calendar appointments. It also enables you to create and send [!INCLUDE[prod_short](includes/prod_short.md)] business documents, such sales quotes and invoices to a contact. <!--To support these task, the add-in adds actions to the Outlook ribbon, in the **Business Central** group. --> 

- Document view

    When an email refers to a business document number in the email body, this add-in provides a direct, in-line link from email body to the actual business document in [!INCLUDE[prod_short](includes/prod_short.md)].

For more information about what you do with the add-ins, see [Use Business Central as your Business Inbox in Outlook](work-outlook-addin.md).

Each add-in is provided as an XML file, called a *manifest*, which must be installed in Outlook of anyone who wants this functionality. These files describe how to activate the add-ins and connect to Business Central when they're used in Outlook. Working with these files is typically done by an admin. As a user, in most cases, you won't have to handle with these files directly. Either your admin will set up the add-in to install automatically for you or you'll use the built-in assisted setup to handle the installation.

> [!IMPORTANT]
> Working with multiple environments? The Business Central add-in for Outlook is designed to work with a single Business Central environment. When the add-in is installed, the name of the environment is included in the add-in's manifest. This configuration means that the add-in will only connect to the environment that it was installed from. To use the add-in with a different environment, you'll open the environment and install the add-in again.

## Deploy the add-in by using Centralized Deployment as an admin

Centralized Deployment is a feature in Microsoft 365 admin center that you use to automatically install add-ins in users' Office apps, like Outlook. It's the recommended way for admins to deploy for Office add-ins to users and groups within your organization.

> [!NOTE]
> For Business Central on-premises, see [Setting Up the Add-In for Outlook Integration with Business Central On-Premises](/dynamics365/business-central/dev-itpro/administration/setting-up-office-add-ins-outlook-inbox) in the administration content (English only).

### Prerequisites

- A Microsoft 365 subscription  
- Users are assigned a Microsoft 365 license  
- Your Microsoft 365 account has at least the [Exchange Administrator](/entra/identity/role-based-access-control/permissions-reference#exchange-administrator) role

### Deploy the add-in

1. In Business Central, select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then select the related link.
1. Select **Outlook Add-in Centralized Deployment** to start the assisted setup guide.
1. Review the first page and select **Next** to open the page for downloading the add-ins.
1. In the **Deploy** column, select the check box for the add-ins that you want to deploy, then select **Download and Continue**.

    A file with the name *OutlookAddins.zip* is downloaded to your device.

1. At this point, you're finished with the work you need to do in Business Central, so you can select **Done**.

   >[!TIP]
   > Before you select **Next**, select the **Go to Microsoft 365 (opens in a new window)** link to open and sign in to the Microsoft 365 admin center in a new browser window. You'll have to go to the Microsoft 365 admin center in a later step anyways.

1. Go the folder where the OutlookAddins.zip was downloaded, and extract the **Contact Insights.xml** and **Document View.xml** files from the .zip to a folder of your choice.

    For more information, see [Zip and Unzip files and folders](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5).
1. Sign in to the Microsoft 365 admin center, then go to [Integrated Apps](https://go.microsoft.com/fwlink/?linkid=2163967).

1. Select **Upload custom apps**.
1. On the **Upload Apps to deploy** page, set **App type** to **Office Add-in**.
1. Select **Upload manifest file (.xml) from device** > **Choose file**.
1. Choose one of the add-in files **Context Insights.xml** or **Documents.xml** that you extracted earlier.
1. Follow the instructions to assign users and deploy the add-in.
1. Repeat step 9 through 11 for the other add-in file if you want.

> [!IMPORTANT]
> A green check mark appears when the add-in is deployed to the admin center. However, it can take up to 24 hours before users see the add-in in the [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)] app. Users might have to restart Outlook as well.

When finished, you can always change the deployment in Microsoft 365 admin center, like assigning more users. For more information about deploying add-ins in the admin center, see [Deploy add-ins in the admin center](/microsoft-365/admin/manage/centralized-deployment-faq?view=o365-worldwide#how-do-you-target-add-in-user-assignments-with-centralized-deployment-&preserve-view=true).

## <a name="install"></a>Install the add-in for your own use

If your organization allows it, you can install the Business Central add-in for just yourself. Contact your administrator if you're not sure.

1. In Business Central, go to the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Outlook Add-in**, and then select the related link.
2. Read the page and select **Next** when ready.
3. If you want to receive a welcome email message from Business Central with overview of using the add-in, turn on **Send sample email message**.
4. Select **Finish** to complete the installation.

Business Central now connects to your email server and installs the add-in in your [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)]. This operation doesn't take long. You're now ready to start using the add-in in [!INCLUDE [outlook-name-short](includes/outlook-name-short.md)].

### <a name="onprem"></a>For Business Central on-premises

If you're using Business Central on-premises, installing the add-in might be slightly different.

1. In Business Central, go to the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Get the Outlook Add-in**, then select the related link.
1. Read the page and select **Next** when ready.
1. Do one of the following steps, depending on the page you see:

    - If you see the **Install to my Outlook** button, select it and you're all done.
    - If you see the **Next** button, select it. On the next page, if you want to receive a welcome email message from Business Central with overview of using the add-in, turn on **Send sample email message**. Then, select **Finish** and you're all done.
    - If you see the **Download Add-in** button, select it, then continue to the next step.
1. When you select **Download Add-in**, a file with the name *OutlookAddins.zip* is downloaded to your device. You should find the file at the top of the browser.

   Go the folder where the OutlookAddins.zip was downloaded, and extract the **Contact Insights.xml** and **Document View.xml** file from the .zip to a folder of your choice. For more information about how to extract files, see [Zip and Unzip files and folders](https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5).

1. In your browser, visit [https://aka.ms/olksideload](https://aka.ms/olksideload). This link opens Outlook on the web, and then loads the **Add-Ins for Outlook** dialog.
1. Select **My add-ins** > **Add a custom add-in** > **Add from a file**.
1. Select one of the .xml files that you extracted, like **Contact Insights.xml**, then select **Open** > **Install**.
1. Repeat step 6 and 7 for the other .xml file, if you downloaded one.

You're now ready to start using the add-in in Outlook.

Learn more about installing add-ins in Outlook at [Use add-ins in Outlook](https://support.microsoft.com/en-us/office/use-add-ins-in-outlook-1ee261f9-49bf-4ba6-b3e2-2ba7bcab64c8).

## Related information

[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Getting Business Central on my Mobile Device](install-mobile-app.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Finance](finance.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Minimum Requirements for Outlook](product-requirements.md#outlook)  
[Use add-ins in Outlook on the web](https://support.office.com/article/Using-Add-ins-in-Outlook-on-the-web-8f2ce816-5df4-44a5-958c-f7f9d6dabdce?appver=OWB150)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-configuring-api-template
---
title: Configure API Templates
description: Describing the steps you must go through to configure API templates for Dynamics 365 Business Central.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: API templates, configuring templates
ms.search.form: 5469
ms.date: 06/07/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Configure API Templates

The API library for [!INCLUDE[prod_short_md](includes/prod_short.md)] provides a simplified representation of the underlying entities. All the properties in the application are not exposed through the associated API. The **API Setup** page allows you to define templates that are used to populate empty properties on an entity when you create a POST action through the API. 

For example, if a configuration template is defined for the item entity, when a new item record is created through the items API, any properties for the new item that are not defined in the API call will be populated from the selected template. If, for example, no value is defined for the **Gen. Prod. Posting Group** field through the API, but a value is defined in the selected template, then the posting group value defined in the template will be applied to the new item. 

## Setting up the Entity Template

To use templates with the API library, you must first set up and define properties for the templates. You can set up these templates on the **Configuration Templates** page. For more information, see [Migrate On-Premises Data to Business Central Online](/dynamics365/business-central/dev-itpro/administration/migrate-data) (in English only) in the administration content.  

## Assign the template to an API

To assign a template to an API, you must go through the following steps.

> [!NOTE]  
> API templates can only be set up with the following API pages: contacts, countriesRegions, currencies, customers, employees, itemCategories, paymentMethods, paymentTerms, shipmentMethods, unitsOfMeasure, and vendors.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **API Setup**, and choose the related link.
2. Choose **New**, and then choose the **Order** value for the record.  

    If there is more than one template selected for an API (Page ID), the templates are applied in the order defined in the **Order** column.  

    When each template is applied, field values defined in the template are only applied to fields that have not already had a value defined, either explicitly in the API, or in a previously applied template in the order.  
3. Select a **Page ID** value.  

    This is the page for the API to which the template will be applied. The **Page ID** lookup provides a list of all APIs available in the library.
4. Select a value in the **Template Code** field.  

    The template code is the code for the template that was defined on the **Configuration Templates** page. The template values defined are applied to the API.  
5. In the **Conditions** field, specify which template should be applied.  

    The defined template is applied to a new record created through the API if, and only if, the conditions defined in the **Conditions** field are met by the values already defined for the new instance of the entity.

## Related information

[API Documentation](/dynamics-nav/fin-graph)  
[Develop Connect Apps for [!INCLUDE[prod_short_md](includes/prod_short.md)]](/dynamics365/business-central/dev-itpro/developer/devenv-develop-connect-apps)  
[Enabling the APIs](/dynamics-nav/enabling-apis-for-dynamics-nav)  
[Endpoints for the APIs](/dynamics-nav/endpoints-apis-for-dynamics)  
[Administration](admin-setup-and-administration.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-reports
---
title: Production Reports and Analytics
description: See which production reports and analytics are available in the standard version of Business Central so that you can keep track of your business.
author: brentholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: Report_5802, Report_5871, Report_5872, Report_99000753, Report_99000756, Report_99000757, Report_99000758, Report_99000762, Report_99000791, Report_99000780, Report_99000783, Report_99000784, Report_99000788, Report_99000767, Report_99000791

ms.date: 06/01/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Production Reports and Analytics in Business Central

Production reporting in [!INCLUDE [prod_short](includes/prod_short.md)] allows production and business professionals to get insights and statistics about current and past production activities.  

## Explore production reports with Report Explorer

[!INCLUDE [report-explorer-manufacturing](includes/report-explorer-manufacturing.md)]

## Reports

[!INCLUDE [production_reports](includes/production-reports-include.md)]

## Tasks

The following articles describe some of the key tasks for analyzing the state of your business:

* [View Load on Work and Machine Centers](production-how-to-view-the-load-on-work-centers.md)  
* [View the Availability of Items](inventory-how-availability-overview.md)

## Related information

[Setting Up Manufacturing](production-configure-production-processes.md)  
[Manufacturing](production-manage-manufacturing.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-examples-custom-financial-reports
---
title: Create custom financial reports
description: Learn how to create your own trial balance, balance sheet, and income statement reports.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 09/11/2024
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: 108, 490, 790
ms.service: dynamics-365-business-central
---

# Walkthrough: Create custom financial reports

The examples in this article describe how to create the following reports:

* Example 1 creates a Trial Balance report
* Example 2 creates a Balance Sheet report
* Example 3 creates an Income Statement report

> [!NOTE]
> The examples are based on the demonstration data that [!INCLUDE [prod_short](includes/prod_short.md)] provides for its CRONUS demonstration company.

> [!TIP]
> Formulas are expressed as a row number reference, such as "R" or "CA" (current assets), which adds all accounts with row number "R" or "CA."

## Example 1: Trial Balance

In this example, we have a new financial report called **Trial Balance** and a new row definition called **TB**.

:::image type="content" source="media/trialbalanceselection.png" alt-text="Shows the trial balance selection.":::

1. Open the new Trial Balance report.
1. Open the **TB** row definition, and choose **Insert**.
1. Choose the **Insert G/L Accounts** action to open the G/L Accounts page.
1. Filter the **Account Type** column to **Posting**.

   > [!TIP]
   > To quickly apply the filter, choose any row that has Posting in the Account Type column, and then right-click the Account Type column header and choose **Filter to this value**.

1. On the first line, choose **Show more options** :::image type="content" source="media/show-more-options-icon.png" alt-text="Show more options icon.":::, and then choose **Select more**.
1. Select all lines by choosing the radio button next to the first column header.

   :::image type="content" source="media/account type select all.png" alt-text="Shows how to select all lines.":::

1. Choose **OK** to assign all general ledger accounts with a totaling type of Posting to your row definition.

   > [!TIP]
   > To sum the results of all lines, add a formula on the last line of the row definition. Because this is a trial balance report, the expected result is zero.

Your trial balance report is complete. To view the report, choose the report on the Financial Reporting page, and then choose **View Financial Report**. Choose the column definition you prefer for the report. Often used column definitions for a trial balance report are **Balance Only**, **M-Balance**, and **Default**.

> [!TIP]
> If you add a new general ledger account to the chart of accounts, you must update your row definition to include it. Otherwise, your trial balance report won't balance to zero.

## Example 2: Balance Sheet

In this example, we have a new financial report called **Balance Sheet** and a new row definition called **BS**.

:::image type="content" source="media/balance sheet selection.png" alt-text="Shows a balance sheet selection in financial reporting.":::

1. Open the Balance Sheet report.
1. Open the **BS** row definition.
1. Map the accounts as shown in the following table. This example maps the balance sheet to the chart of accounts in the CRONUS demonstration company.

| Row No.| Description | Totaling Type | Totaling  | Row Type  | Bold  |
|---------|---------|---------|---------|---------|---------|
| | **Current Assets**| Formula | |Balance at Date    | Yes |
|CA | Cash                | Posting Accounts | 18000..18999 |Balance at Date|     |
|CA | Accounts Receivable | Posting Accounts | 15000..15999 |Balance at Date|    |
|CA |  Other Receivables  | Posting Accounts | 13000..13999 |Balance at Date|    |
|CA | Inventory           | Posting Accounts | 14000..14999 |Balance at Date|    |
|CA |Prepaid Expenses     | Posting Accounts | 16000..16999 |Balance at Date|    |
|CA |Other Current Assets | Posting Accounts | 100000..11999|Balance at Date|    |
|F1 | **Total Current Assets**  | Formula    |              |Balance at Date|    |
|   |                           | Formula    |              |Balance at Date|    |
|   | **Long Term Assets**      |            |              |Balance at Date|Yes |
|LTA|Fixed Assets         | Posting Accounts| 10000..12899  |Balance at Date|    |
|LTA|Accumulated Depreciation| Posting Accounts|12900..12999|Balance at Date|    |
|LTA|Other Long Term Assets | Posting Accounts|17000..17999|19000..19999|Balance at Date|
|F2 |**Total Long Term Assets**|Formula     |   LTA         |Balance at Date | Yes |
|   |                          | Formula    |               |Balance at Date |     |
|F3 | **Total Assets**         |            | F1+F2         | Balance at Date|     |

The following table describes the fields on the **Row Definition** page.

|Field  |Description  |
|---------|---------|
|Row No.      |Alphanumeric codes are used for each section. The codes let you group by row number when you use formulas. Groupings help make formulas shorter and more simple. Each formula line is labeled with an alphanumeric code for easy identification.         |
|Description  | Used to hold the words to label each row of the report.        |
|Totaling type| Formula is used in three ways:<br><br>* To add the results of rows together.<br><br>* When combined with a section header or total.<br><br>* When inserting a blank row into the report.<br><br> Posting accounts are used to indicate that the row pulls the result of posted transactions based on the accounts listed in the Totaling column. |
|Totaling | Contains either a range of accounts shown as 10000..11999, or multiple nonconsecutive ranges of accounts shown as 17000..17999\|19000..19999.<br><br> Formulas are expressed as a row number reference, such as CA, which adds all accounts with Row No. of CA.<br><br> Following the general accounting convention of displaying financial report lines in the order of liquidity, general ledger accounts initially appear out of order. Notice that accounts show in the ranges created for each line. Totaling ranges let the report update dynamically when you add a new general ledger account to your chart of accounts.  |
|Row type     | Balance at Date is used for Balance Sheet reports.        |
|Bold         | Section headers and totals are set to Bold so they stand out.        |

> [!TIP]
> This example shows a summarized balance sheet, where each line is a group of related balance sheet accounts. Your report’s level of summarization is up to you. Good financial report design tries to provide enough detail to tell the story of financial performance without detailing every account. Avoid creating a balance sheet that is a categorized trial balance. It can be hard for people to digest such a large amount of information.

Continue to add balance sheet sections as shown in the following table. You can incorporate your own account groupings to create or replicate your company’s method of displaying accounts.  

The last line of this report is a check figure that the report complies with the accounting equation where Assets=Liabilities+Equity. The result of this check figure should be zero. If it isn't zero, it's a good indication that there's a problem:

* Some accounts aren't included in the report.
* Accounts might be included more than once.
* A formula in the report isn't calculating correctly.

| Row No. | Description | Totaling Type | Totaling | Row Type  | Bold  |
|---------|---------|---------|--------- |---------|---------|
|| **Current Liabilities**| Formula | |Balance at Date| Yes|
|CL|Accounts Payable|Posting Accounts|22100..22399|Balance at Date||
|CL|Accrued Payroll|Posting Accounts|23500..25399|26100..26399|Balance at Date|
|CL|Accrued Tax|Posting Accounts|23100..23499|Balance at Date||
|CL|Accrued Other|Posting Accounts|26400..29999|Balance at Date||
|CL|Other Current Liabilities|Posting Accounts|22400..23099|25400..26099|Balance at Date|
|F4|**Total Current Liabilities**|Formula|CL|Balance at Date| Yes |
|||Formula||Balance at Date||
||**Long Term Liabilities**|Posting Accounts||Balance at Date| Yes |
|LTL|Notes Payable|Posting Accounts|20000..21299|Balance at Date||
|LTL|Other Long Term Liabilities|Posting Accounts|21300..22099|Balance at Date||
|F5|**Total Long Term Liabilities**|Formula|LTL|Balance at Date| Yes |
|||Formula||Balance at Date||
|F6|**Total Liabilities**|Formula|F4+F5|Balance at Date| Yes |
|||Formula||Balance at date||
||**Equity**|Formula||Balance at Date||
|E|Common Stock|Posting Accounts|30000..30299|Balance at Date||
|E|Retained Earnings|Posting Accounts|30300..39999|Balance at Date||
|E|Current Year Earnings|Posting Accounts|40000..99999|Balance at Date||
|F7|**Total Equity**|Formula|E|Balance at Date||
|||Formula||Balance at Date||
|F8|**Total Liabilities and Equity**|Formula|F6+F7|Balance at Date| Yes |
|||Formula||Balance at Date||
|F9|Check Figure|Formula|F3+F8|Balance at Date||

Your balance sheet financial report is complete. To view the report, choose the report on the Financial Reporting page and select **View Financial Report**. Select any column definition to use with this report. The column definitions that are typically used for a balance sheet are **Balance Only**, **M-Balance**, and **Default**. You can also create a new column definition if you want.

The following image shows the structure of the report in this example.

:::image type="content" source="media/balance sheet report example.png" alt-text="Shows the structure of the balance sheet report"::: 

## Example 3: Income Statement

In this example, we have a new financial report called **Income Statement** and a new row definition called **IS**.

:::image type="content" source="media/income statement selection.png" alt-text="Shows the income statement selection.":::

1. Open the **Income Statement** report.
1. Open the **IS** row definition.
1. Map the accounts as shown in the following table. This example maps the balance sheet to the chart of accounts in the CRONUS demonstration company.

| Row No.  | Description  | Totaling Type  | Totaling  | Row Type  | Bold  |
|---------|---------|---------|--------- |---------|---------|
||**Revenue**|Formula||Net Change| Yes |
|R|Product Revenue|Posting Accounts|40000..40209|Net Change||
|R|Job Revenue|Posting Accounts|40410..40429|Net Change||
|R|Services Revenue|Posting Accounts|40210..40309|40430..40909|Net Change|
|R|Other Revenue|Posting Accounts|40310..40409|40920..40939|Net Change|
|R|Discounts and Returns|Posting Accounts|40910..40919|40940..49999|Net Change|
|F1|**Total Revenue**|Formula|R|Net Change| Yes |
|||Formula||Net Change||
||**Cost of Goods**|Formula||Net Change||
|C|Materials|Posting Accounts|50000..50209|Net Change||
|C|Labor|Posting Accounts|50210..59999|Net Change||
|C|Manufacturing Overhead|Posting Accounts|60000..69999|Net Change||
|F2|**Total Cost of Goods**|Formula|C|Net Change| Yes |
|||Formula||Net Change||
|F3|**Gross Margin USD**|Formula|F1+F2|Net Change| Yes |
|F4|**Gross Margin %**|Formula|F3/F1*100|Net Change| Yes |

The following table describes the fields on the **Row Definition** page.

|Field  |Description  |
|---------|---------|
|Row No.      |Alphanumeric codes are used for each section. The codes let you group by row number when you use formulas. Groupings help make formulas shorter and more simple. Each formula line is labeled with an alphanumeric code for easy identification.         |
|Description  | Used to hold the words to label each row of the report.        |
|Totaling type| Formula is used in three ways:<br><br>* To add the results of rows together.<br><br>* When combined with a section header or total.<br><br>* When inserting a blank row into the report.<br><br> Posting accounts are used to indicate that the row pulls the result of posted transactions based on the accounts listed in the Totaling column. |
|Totaling | Contains either a range of accounts shown as 40000..40209, or multiple nonconsecutive ranges of accounts shown as 40210..40309\|40430..40909.<br><br> Formulas are expressed as a row number reference, such as CA, which adds all accounts with Row No. of CA.<br><br> Following the general accounting convention of displaying financial report lines in the order of liquidity, general ledger accounts initially appear out of order. Notice that accounts show in the ranges created for each line. Totaling ranges let the report update dynamically when you add a new general ledger account to your chart of accounts.  |
|Row type     | Balance at Date is used for Balance Sheet reports.        |
|Bold         | Section headers and totals are set to Bold so they stand out.        |

> [!TIP]
> This example shows a summarized income statement, where each line is a group of related incomes statement accounts. Your report’s level of summarization is up to you. Good financial report design attempts to provide enough detail to tell the story of financial performance without detailing every account. Avoid creating an income statement that's a categorized trial balance. It can be hard for people to digest such a large amount of information.

Continue to add income statement sections as shown in the following table. You can incorporate your own account groupings to create or replicate your company’s method of displaying accounts.  

The last line of this report is a check figure that the report complies with the accounting equation where Assets = Liabilities + Equity. The result of this check figure should always be zero. If it isn't zero, it's a good indication that there's a problem:

* Some accounts aren't included in the report.
* Accounts might be included more than once.
* A formula in the report isn't calculating correctly.

|Row No.  |Description  |Totaling Type  |Totaling  |Row Type  |Bold  |
|---------|---------    |---------      |--------- |---------|---------|
||**Operating Expense**|Formula||Net Change| Yes |
|OE|Salaries and Wages|Posting Accounts|70000..72109|Net Change||
|OE|Employee Benefits|Posting Accounts|72110..73299|Net Change||
|OE|Employee Insurance|Posting Accounts|73300..74109|Net Change||
|OE|Employee Tax|Posting Accounts|74110..79999|Net Change||
|OE|Depreciation|Posting Accounts|80000..89999|Net Change||
|OE|Other Expense|Posting Accounts|90000..99999|Net Change||
|F5|**Total Operating Expense**|Formula|OE|Net Change| Yes |
|||Formula||Net Change||
|F6|**Net (Income) / Loss**|Formula|F1+F2+F5|Net Change||
|||Formula||Net Change||
|F7|Total of Income Statement|Posting Accounts|40000..99999|Net Change||
|F8|Check Figure|Formula|F6-F7|Net Change||

Your income statement report is complete. To view the report, choose the report on the **Financial Reporting** page, and select **View Financial Report**. Select any column definition you like to use with this report. The often used column definitions for an income statement are **M-NetChang** and **PTD + YTD**. You can also create a new column definition.

The following image shows the structure of the report in this example.

:::image type="content" source="media/income statement report.png" alt-text="Shows the structure of the income statement report.":::

## Related information

[Primary capabilities of financial reporting](finance-financial-reporting-capabilities.md)  
[Walkthrough: Make cash flow forecasts using financial reports](walkthrough-making-cash-flow-forecasts-by-using-account-schedules.md)  
[Prepare financial reporting with financial data and account categories](bi-how-work-account-schedule.md)  
[Financial analytics overview](bi.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-about-cost-accounting
---
title: About cost accounting
description: Cost accounting can help you understand the costs of running a business. Cost accounting information is designed to analyze various issues.  
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: concept-article
ms.search.form: 1101, 1103, 1105, 1108, 1111, 1112, 1124, 1123
ms.date: 07/25/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# About cost accounting

Cost accounting can help you understand the costs of running a business. Cost accounting information is designed to analyze:  

- What types of costs your business incurs.  
- Where the costs occur.
- Who bears the costs.

In cost accounting, you allocate actual and budgeted costs of operations, departments, products, and projects to analyze the profitability of your company.  

## Workflow in cost accounting

Cost accounting has the following main components:  

- Cost types, cost centers, and cost objects  
- Cost entries and cost journals  
- Cost allocations  
- Cost budgets
- Cost reporting  

The following diagram shows the workflow in cost accounting.  

![Cost Accounting overview.](media/costaccountingoverview.png "CostAccountingOverview")  

## Cost types, cost centers, and cost objects

You define cost types, cost centers, and cost objects to analyze what the costs are, where the costs come from, and who should bear the costs.  

First, you define a chart of cost types with a structure and functionality that resembles the general ledger chart of accounts. You can create your own chart of cost types or do so by transferring the general ledger income statement accounts.  

Cost centers are departments and profit centers responsible for costs and income. Often, there are more cost centers set up in cost accounting than in any dimension that is set up in the general ledger. In the general ledger, typically only the first level cost centers for direct costs and the initial costs are used. In cost accounting, more cost centers are created for extra allocation levels.  

Cost objects are products, product groups, or services a company offers. These objects are the "finished goods" that carry the costs.  

You can link cost centers to departments and cost objects to projects in your company. Through the general ledger, you can link cost centers and cost objects to any dimensions and supplement that information with subtotals and titles.  

## Cost entries and cost journals

Operational costs can be transferred from the general ledger. You can automatically transfer the cost entries from the general ledger to cost entries with each posting. You can also use a batch job to transfer general ledger entries to cost entries based on daily or monthly summary posting.  

In cost journals, you can post cost and activities that don't come from the general ledger or aren't generated by allocations. For example, you can post pure operational costs, internal charges, allocations, and corrective entries between cost types, cost centers, and cost objects individually, or on a recurring basis.  

## Cost allocations

Allocations move costs and revenues between cost types, cost centers, and cost objects. Overhead costs are first posted to cost centers and later charged to cost objects. An example would be a sales department that sells several products at the same time. The department's overhead costs, such as salaries, supplies, and travel expenses, are initially assigned to the sales cost center. The costs are then allocated between the different products (cost objects) sold, together with the materials purchased (direct cost).

The allocation base and the accuracy of the allocation definition influence the results of cost allocations. The allocation definition allocates costs first from so-called precost centers to main cost centers, and then from cost centers to cost objects.  

Each allocation consists of an allocation source and one or more allocation targets. You can allocate actual values or budgeted values using the static allocation method based on a definite value. For example, square footage, or an established allocation ratio of 5:2:4. You can also allocate actual values or budgeted values by using the dynamic allocation method with nine predefined allocation bases and 12 dynamic date ranges.  

## Cost budgets

Similar to budgeting in the general ledger, you can create budgets to plan for costs during a certain period (a fiscal year, for example), which can be applied to a cost center (company department), or a cost object (product or service). You can create as many cost budgets as you need. You can then copy the cost budget to the general ledger budget and vice versa. And you can transfer budgeted costs as actual costs.

## Cost reporting

Most reports and statistics are based on the posted cost entries. You can set the sorting of the results and use filters to define which data must be displayed. You can create reports for cost distribution analysis. In addition, you can use the standard financial reports to define how your reports for the chart of cost types are displayed.  

## Related information

[Accounting for Costs](finance-manage-cost-accounting.md)  
[Finance](finance.md)  
[Terminology in Cost Accounting](finance-terminology-in-cost-accounting.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-kpis
---
title: Finance App KPIs and measures (Power BI)
description: Get an overview of all the KPIs and measures in the semantic model for the Finance Power BI app.
author: kennienp
ms.author: kepontop
ms.reviewer:
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Power BI Finance app KPIs and measures

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

This page provides a list of all Key Performance Indicators (KPIs) included in the semantic model for the Power BI Finance report. 

Explore the list of KPIs below to learn more about how they can help you achieve your business goals. 

Each KPI and measure is described, including how it is calculated and what data was used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]


## Activity KPIs

- [% Change in Operating Profit - EBIT](#-change-in-operating-profit---ebit) 
- [% Change in Revenue](#-change-in-revenue) 
- [Asset Turnover Ratio](#asset-turnover-ratio)  
- [Average Collection Period (Days)](#average-collection-period-days)  
- [Cash Conversion Cycle - CCC](#cash-conversion-cycle---ccc)
- [Days Payable Outstanding - DPO](#days-payable-outstanding---dpo)  
- [Days Sales Of Inventory - DSI](#days-sales-of-inventory---dsi)  
- [Days Sales Outstanding - DSO](#days-sales-outstanding---dso)  
- [Degree Of Operating Leverage - DOL](#degree-of-operating-leverage---dol)  
- [Inventory Turnover](#inventory-turnover)  
- [No. of Days](#no-of-days)


### % Change in Operating Profit - EBIT
**Formula**  
( [Operating Profit - EBIT (Balance at Date)](#operating-profit---ebit-balance-at-date) - [Operating Profit - EBIT (Beginning Balance)](#operating-profit---ebit-beginning-balance) ) / [Operating Profit - EBIT (Beginning Balance)](#operating-profit---ebit-beginning-balance)

**Data Sources**
- G/L Entry
- G/L Account Category

### % Change in Revenue 
**Formula**  
( [Revenue (Balance at Date)](#revenue-balance-at-date) - [Revenue (Beginning Balance)](#revenue-beginning-balance) ) / [Revenue (Beginning Balance)](#revenue-beginning-balance)

**Data Sources**
- G/L Entry
- G/L Account Category

### Asset Turnover Ratio 
**Formula**  
[Revenue](#revenue) / [Assets](#assets)

**Data Sources**
- G/L Entry
- G/L Account Category

### Average Collection Period (Days) 
**Formula**  
( [No. of Days](#no-of-days) * [Accounts Receivable (Average)](#accounts-receivable-average) ) / [Revenue](#revenue)

**Data Sources**
- Date
- G/L Entry
- G/L Account Category

### Cash Conversion Cycle - CCC 
**Formula**  
[Days Sales Of Inventory - DSI](#days-sales-of-inventory---dsi) + [Days Sales Outstanding - DSO](#days-sales-outstanding---dso) - [Days Payable Outstanding - DPO](#days-payable-outstanding---dpo)

**Data Sources**
- G/L Entry
- G/L Account Category

### Days Payable Outstanding - DPO 
**Formula**  
 ( [Accounts Payable](#accounts-payable) / [Cost of Goods Sold](#cost-of-goods-sold) ) * [No. of Days](#no-of-days)

**Data Sources**
- Date
- G/L Entry
- G/L Account Category

 
### Days Sales Of Inventory - DSI 
**Formula**  
( [Inventory](#inventory) / [Cost of Goods Sold](#cost-of-goods-sold) ) * [No. of Days](#no-of-days)

**Data Sources**
- Date
- G/L Entry
- G/L Account Category

### Days Sales Outstanding - DSO 
**Formula**  
 ( [Accounts Receivable](#accounts-receivable) / [Revenue](#revenue) ) * [No. of Days](#no-of-days)

**Data Sources**
- Date
- G/L Entry
- G/L Account Category

### Degree Of Operating Leverage - DOL 
**Formula**  
[% Change in Operating Profit - EBIT](#-change-in-operating-profit---ebit) / [% Change in Revenue](#-change-in-revenue)

**Data Sources**
- G/L Entry
- G/L Account Category

### Inventory Turnover
**Formula**  
[Cost of Goods Sold](#cost-of-goods-sold) / [Inventory (Average)](#inventory-average)

**Data Sources**
- G/L Entry
- G/L Account Category

### No. of Days
**Formula**

The No. of Days measure calculates the total number of days within a selected period by counting the rows between the earliest (MIN) and latest (MAX) dates in the Date table. This measure provides a count of days for the specified date range in the context.

**Date Sources**
- Date

## Balance Sheet Measures

- [Accounts Payable](#accounts-payable)   
- [Accounts Payable (Neg)](#accounts-payable-neg)   
- [Accounts Receivable](#accounts-receivable)   
- [Accounts Receivable (Average)](#accounts-receivable-average)   
- [Accounts Receivable (Beginning Balance)](#accounts-receivable-beginning-balance)   
- [Assets](#assets)
- [Capital Employed](#capital-employed)   
- [Current Assets](#current-assets)   
- [Current Liabilities](#current-liabilities)
- [Equity](#equity)   
- [Fixed Assets](#fixed-assets)   
- [Inventory](#inventory)   
- [Inventory (Average)](#inventory-average)   
- [Inventory (Beginning Balance)](#inventory-beginning-balance)   
- [Liabilities](#liabilities)
- [Liabilities & Equity](#liabilities--equity)   
- [Liabilities (Neg)](#liabilities-neg)   
- [Liquid Assets](#liquid-assets)   
- [Longterm Liabilities](#longterm-liabilities)   
- [Payroll Liabilities](#payroll-liabilities)   
- [Purchase Prepayments](#purchase-prepayments)   
- [Shareholders' Equity](#shareholders-equity)   
- [Working Capital](#working-capital)   

### Accounts Payable
**Formula**  
The Accounts Payable measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Accounts Payable* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Accounts Payable (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Accounts Payable (Neg)
**Formula**  
The Accounts Payable measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Accounts Payable* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Accounts Payable (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories
 
### Accounts Receivable
**Formula**  
The Accounts Receivable measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Accounts Receivable* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Accounts Receivable (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Accounts Receivable (Average) 
**Formula**  
( [Accounts Receivable (Beginning Balance)](#accounts-receivable-beginning-balance) + [Accounts Receivable](#accounts-receivable) ) / 2

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Accounts Receivable (Beginning Balance) 
**Formula**  
The Accounts Receivable (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [accounts receivable](#accounts-receivable) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Assets
**Formula**  
The Assets measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Assets* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Assets (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Current Assets
**Formula**  
The Current Assets measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Current Assets* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Current Assets (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Fixed Assets
**Formula**  
The Fixed Assets measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Fixed Assets* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Fixed Assets (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Inventory
**Formula**  
The Inventory measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Inventory* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Inventory (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Inventory (Average)
**Formula**  
( [Inventory (Beginning Balance)](#inventory-beginning-balance) + [Inventory](#inventory) ) / 2

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Inventory (Beginning Balance) 
**Formula**  
The Inventory (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Inventory](#inventory) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Liquid Assets
**Formula**  
The Liquid Assets measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Cash* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Liquid Assets (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Capital Employed
**Formula**  
[Assets](#assets) - [Current Liabilities](#current-liabilities)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
 
### Equity
**Formula**  
The Equity measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Equity* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Equity (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 

### Current Liabilities
**Formula**  
The Current Liabilities measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Current Liabilities* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Current Liabilities (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
### Liabilities

**Formula**  
The Liabilities measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Liabilities* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Liabilities (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
 
### Liabilities (Neg)
**Formula**  
The Liabilities measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Liabilities* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Liabilities (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 

### Liabilities & Equity  
**Formula**  
[Liabilities](#liabilities) + [Equity](#equity)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 

### Longterm Liabilities  
**Formula**  
The Longterm Liabilities measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Longterm Liabilities* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Longterm Liabilities (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
 
### Payroll Liabilities   
**Formula**  
The Payroll Liabilities measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Payroll Liabilities* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Payroll Liabilities (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
 
### Purchase Prepayments   
**Formula**  
The Purchase Prepayments measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Purchase Prepayments* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Purchase Prepayments (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
 
### Shareholders Equity   
**Formula**  
The Shareholders Equity measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Common Stock* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Shareholder's Equity (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
   
### Working Capital 
**Formula**  
[Current Assets](#current-assets) + [Current Liabilities](#current-liabilities)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories 
 
## Income Statement Measures
- [Cost of Goods Sold](#cost-of-goods-sold)
- [Depreciation and Amortization](#depreciation-and-amortization)
- [Expense](#expense) 
- [Expense (Balance at Date)](#expense-balance-at-date)  
- [Expense (Beginning Balance)](#expense-beginning-balance)  
- [Extraordinary Expense](#extraordinary-expense)   
- [Extraordinary Expense (Balance at Date)](#extraordinary-expense-balance-at-date)   
- [Extraordinary Expense (Beginning Balance)](#extraordinary-expense-beginning-balance)   
- [Extraordinary Revenue](#extraordinary-revenue)   
- [Extraordinary Revenue (Balance at Date)](#extraordinary-revenue-balance-at-date)   
- [Extraordinary Revenue (Beginning Balance)](#extraordinary-revenue-beginning-balance)   
- [FX Gains Revenue](#fx-gains-revenue) 
- [FX Gains Revenue (Balance at Date)](#fx-gains-revenue-balance-at-date) 
- [FX Gains Revenue (Beginning Balance)](#fx-gains-revenue-beginning-balance)  
- [FX Losses Expense](#fx-losses-expense)     
- [FX Losses Expense (Balance at Date)](#fx-losses-expense-balance-at-date)     
- [FX Losses Expense (Beginning Balance)](#fx-losses-expense-beginning-balance)    
- [Interest Expense](#interest-expense)   
- [Interest Expense (Balance at Date)](#interest-expense-balance-at-date)   
- [Interest Expense (Beginning Balance)](#interest-expense-beginning-balance)   
- [Interest Revenue](#interest-revenue)    
- [Interest Revenue (Balance at Date)](#interest-revenue-balance-at-date)   
- [Interest Revenue (Beginning Balance)](#interest-revenue-beginning-balance)   
- [Operating Expense - OPEX](#operating-expense---opex) 
- [Operating Expense - OPEX (Balance at Date)](#operating-expense---opex-balance-at-date)   
- [Operating Expense - OPEX (Beginning Balance)](#operating-expense---opex-beginning-balance)    
- [Operating Revenue](#operating-revenue)   
- [Operating Revenue (Balance at Date)](#operating-revenue-balance-at-date)   
- [Operating Revenue (Beginning Balance)](#operating-revenue-beginning-balance)   
- [Purchases](#purchases)  
- [Revenue](#revenue) 
- [Revenue (Balance at Date)](#revenue-balance-at-date) 
- [Revenue (Beginning Balance)](#revenue-beginning-balance) 
- [Tax Expense](#tax-expense)   
- [Tax Expense (Balance at Date)](#tax-expense-balance-at-date)   
- [Tax Expense (Beginning Balance)](#tax-expense-beginning-balance)   

### Cost of Goods Sold
**Formula**  
The Cost of Goods Sold measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Cost of Goods Sold* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Cost of Goods Sold (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Depreciation and Amortization
**Formula**  
The Depreciation and Amortization measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Depreciation and Amortization* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Depreciation and Amortization Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Expense
**Formula**  
The Expense measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Expense (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Expense (Balance at Date)  
**Formula**  
The Expense measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Expense (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Expense (Beginning Balance)  
**Formula**  
The Expense (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Expense](#expense) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Extraordinary Expense
**Formula**  
The Extraordinary Expense measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Extraordinary Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Extraordinary Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Extraordinary Expense (Balance at Date)
**Formula**  
The Extraordinary Expense (Balance at Date) measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Extraordinary Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Extraordinary Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Extraordinary Expense (Beginning Balance)  
**Formula**  
The Extraordinary Expense (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Extraordinary Expense](#extraordinary-expense) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Extraordinary Revenue
**Formula**  
The Extraordinary Revenue measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Extraordinary Revenue* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Extraordinary Revenue (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Extraordinary Revenue (Balance at Date)
**Formula**  
The Extraordinary Revenue (Balance at Date) measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Extraordinary Revenue* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Extraordinary Revenue (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Extraordinary Revenue (Beginning Balance)  
**Formula**  
The Extraordinary Revenue (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Extraordinary Revenue](#extraordinary-revenue) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period. It then multiplies the result by -1 to display the balance as a positive value.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories


### FX Gains Revenue
**Formula**  
The FX Gains Revenue measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *FX Gains Revenue* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **FX Gains Revenue (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### FX Gains Revenue (Balance at Date)
**Formula**  
The FX Gains Revenue measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *FX Gains Revenue* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **FX Gains Revenue (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### FX Gains Revenue (Beginning Balance)  
**Formula**  
The FX Gains Revenue (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [FX Gains Revenue](#fx-gains-revenue) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### FX Losses Expense
**Formula**  
The FX Losses Expense measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *FX Losses Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **FX Losses (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### FX Losses Expense (Balance at Date)
**Formula**  
The FX Losses Expense measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *FX Losses Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **FX Losses Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### FX Losses Expense (Beginning Balance)  
**Formula**  
The FX Losses Expense (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [FX Losses Expense](#fx-losses-expense) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Interest Expense
**Formula**  
The Interest Expense measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Interest Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Interest Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Interest Expense (Balance at Date)  
**Formula**  
The Interest Expense measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Interest Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Interest Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Interest Expense (Beginning Balance)  
**Formula**  
The Interest Expense (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Interest Expense](#interest-expense) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Interest Revenue
**Formula**  
The Interest Revenue measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Income, Interest* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Interest Revenue (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Interest Revenue (Balance at Date)
**Formula**  
The Interest Revenue measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Income, Interest* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Interest Revenue (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Interest Revenue (Beginning Balance)  
**Formula**  
The Interest Revenue (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Interest Revenue](#interest-revenue) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Expense - OPEX
**Formula**  
[Expense](#expense) - [Interest Expense](#interest-expense) - [FX Losses Expense](#fx-losses-expense) - [Tax Expense](#tax-expense) - [Extraordinary Expense](#extraordinary-expense)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Expense - OPEX (Balance at Date) 
**Formula**  
[Expense (Balance at Date)](#expense-balance-at-date) - [Interest Expense (Balance at Date)](#interest-expense-balance-at-date) - [FX Losses Expense (Balance at Date)](#fx-losses-expense-balance-at-date) - [Tax Expense (Balance at Date)](#tax-expense-balance-at-date) - [Extraordinary Expense (Balance at Date)](#extraordinary-expense-balance-at-date)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Expense - OPEX (Beginning Balance)  
**Formula**  
[Expense (Beginning Balance)](#expense-beginning-balance) - [Interest Expense (Beginning Balance)](#interest-expense-beginning-balance) - [FX Losses Expense (Beginning Balance)](#fx-losses-expense-beginning-balance) - [Tax Expense (Beginning Balance)](#tax-expense-beginning-balance) - [Extraordinary Expense (Beginning Balance)](#extraordinary-expense-beginning-balance)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Revenue
**Formula**  
[Revenue](#revenue) - [Interest Revenue](#interest-revenue) - [FX Gains Revenue](#fx-gains-revenue) - [Extraordinary Revenue](#extraordinary-revenue)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Revenue (Balance at Date)  
**Formula**  
[Revenue (Balance at Date)](#revenue-balance-at-date) - [Interest Revenue (Balance at Date)](#interest-revenue-balance-at-date) - [FX Gains Revenue (Balance at Date)](#fx-gains-revenue-balance-at-date) - [Extraordinary Revenue (Balance at Date)](#extraordinary-revenue-balance-at-date)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Revenue (Beginning Balance)  
**Formula**  
[Revenue (Beginning Balance)](#revenue-beginning-balance) - [Interest Revenue (Beginning Balance)](#interest-revenue-beginning-balance) - [FX Gains Revenue (Beginning Balance)](#fx-gains-revenue-beginning-balance) - [Extraordinary Revenue (Beginning Balance)](#extraordinary-revenue-beginning-balance)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Purchases
**Formula**  
The Purchases measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Purchases* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Purchases (Level 3 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Revenue
**Formula**  
The Revenue measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Income* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Revenue (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Revenue (Balance at Date)  
**Formula**  
The Revenue measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Income* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Revenue (Level 1 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Revenue (Beginning Balance)  
**Formula**  
The Revenue (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Revenue](#revenue) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Tax Expense
**Formula**  
The Tax Expense measure calculates the [Net Change](#net-change) for general ledger accounts categorized as *Tax Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Tax Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Tax Expense (Balance at Date)  
**Formula**  
The Tax Expense measure calculates the [Balance at Date](#balance-at-date) for general ledger accounts categorized as *Tax Expense* on the [G/L Account Category](https://businesscentral.dynamics.com?page=790) page and where this category is mapped to the **Tax Expense (Level 2 Category)** on the [Power BI Account Categories](https://businesscentral.dynamics.com?page=36961) page. 

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Tax Expense (Beginning Balance)  
**Formula**  
The Tax Expense (Beginning Balance) measure calculates the [Balance at Date](#balance-at-date) for [Tax Expense](#tax-expense) up to the earliest date in the selected period. The measure calculates the beginning balance by identifying the earliest date in the selected period, removing any existing date filters to consider all historical dates, and then limiting results to transactions on or before this earliest date. This approach yields the balance as of the start of the selected period.

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

## Liquidity KPIs
- [Cash Ratio](#cash-ratio) 
- [Current Ratio](#current-ratio) 
- [Quick Ratio](#quick-ratio) 

### Cash Ratio
**Formula**  
[Liquid Assets](#liquid-assets) / [Current Liabilities](#current-liabilities)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Current Ratio
**Formula**  
[Current Assets](#current-assets) / [Current Liabilities](#current-liabilities)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Quick Ratio
**Formula**  
 ( [Current Assets](#current-assets) - [Inventory](#inventory) - [Purchase Prepayments](#purchase-prepayments) ) / [Current Liabilities](#current-liabilities)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Profitability KPIs
- [Debt Ratio](#debt-ratio)
- [Debt/Equity Ratio](#debtequity-ratio)  
- [EBITDA](#ebitda)
- [Gross Profit](#gross-profit)
- [Gross Profit Margin](#gross-profit-margin)
- [Net Profit](#net-profit)
- [Net Profit Margin](#net-profit-margin)
- [Operating Profit - EBIT](#operating-profit---ebit)
- [Operating Profit - EBIT (Balance at Date)](#operating-profit---ebit-balance-at-date)
- [Operating Profit - EBIT (Beginning Balance)](#operating-profit---ebit-beginning-balance)
- [Operating Profit Margin](#operating-profit-margin) 
- [Return On Assets - ROA](#return-on-assets---roa) 
- [Return On Capital Employed - ROCE](#return-on-capital-employed---roce)
- [Return On Equity - ROE](#return-on-equity---roe)
- [Return On Net Assets - RONA](#return-on-net-assets---rona)  
- [Shareholder Equity Ratio](#shareholder-equity-ratio)  

### Debt Ratio 
**Formula**  
[Liabilities](#liabilities) / [Assets](#assets)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Debt/Equity Ratio 
**Formula**  
[Liabilities](#liabilities) / [Shareholder's Equity](#shareholders-equity)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### EBITDA
**Formula**  
[Operating Profit - EBIT](#operating-profit---ebit) + [Depreciation and Amortization](#depreciation-and-amortization)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Gross Profit
**Formula**  
[Revenue](#revenue) - [Cost of Goods Sold](#cost-of-goods-sold)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Gross Profit Margin
**Formula**  
[Gross Profit](#gross-profit) / [Revenue](#revenue)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Net Profit
**Formula**  
[Revenue](#revenue) - [Cost of Goods Sold](#cost-of-goods-sold) - [Expense](#expense)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Net Profit Margin
**Formula**  
[Net Profit](#net-profit) / [Revenue](#revenue)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Profit - EBIT
**Formula**  
[Operating Revenue](#operating-revenue) - [Operating Expense - OPEX](#operating-expense---opex)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Profit - EBIT (Balance at Date)
**Formula**  
[Operating Revenue (Balance at Date)](#operating-revenue-balance-at-date) - [Operating Expense - OPEX (Balance at Date)](#operating-expense---opex-balance-at-date)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Profit - EBIT (Beginning Balance)
**Formula**  
[Operating Revenue (Beginning Balance)](#operating-revenue-balance-at-date) - [Operating Expense - OPEX (Beginning Balance)](#operating-expense---opex-balance-at-date)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Operating Profit Margin
**Formula**  
[Operating Profit - EBIT](#operating-profit---ebit) / [Operating Revenue](#operating-revenue)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Return On Assets - ROA
**Formula**  
[Net Profit](#net-profit) / [Assets](#assets)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Return On Capital Employed - ROCE 
**Formula**  
[Operating Profit - EBIT](#operating-profit---ebit) / [Capital Employed](#capital-employed)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Return On Equity - ROE 
**Formula**  
[Net Profit](#net-profit) / [Shareholder's Equity](#shareholders-equity)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Return On Net Assets - RONA
**Formula**  
[Net Profit](#net-profit) / ( [Fixed Assets](#fixed-assets) + [Working Capital](#working-capital) )

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

### Shareholder Equity Ratio
**Formula**  
[Shareholder's Equity](#shareholders-equity) / [Assets](#assets)

**Data Sources**
- G/L Entry
- G/L Account Category
- Account Categories

## Customer Ledger Measures
- [Bucket 1 (Receivables)](#bucket-1-receivables)
- [Bucket 2 (Receivables)](#bucket-2-receivables)
- [Bucket 3 (Receivables)](#bucket-3-receivables)
- [Bucket 4 (Receivables)](#bucket-4-receivables)
- [Current (Receivables)](#current-receivables)
- [Amount Receivable (LCY)](#amount-receivable-lcy)
- [Balance (Accounts Receivable)](#balance-accounts-receivable)
- [Original Amount (LCY)](#original-amount-lcy)

### Bucket 1 (Receivables)
**Formula**   
The Bucket 1 (Receivables) measure  calculates the [Amount Receivable (LCY)](#amount-receivable-lcy) due, posted, or documented within the first aging bucket. The measure uses the value of the `Aging Bucket Period` to determine the length of each aging bucket, and then calculates the starting date for each bucket based on the current date.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry

### Bucket 2 (Receivables)
**Formula**   
The Bucket 2 (Receivables) measure  calculates the [Amount Receivable (LCY)](#amount-receivable-lcy) due, posted, or documented within the second aging bucket. The measure uses the value of the `Aging Bucket Period` to determine the length of each aging bucket, and then calculates the starting date for each bucket based on the current date.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry
- Date

### Bucket 3 (Receivables)
**Formula**   
The Bucket 3 (Receivables) measure  calculates the [Amount Receivable (LCY)](#amount-receivable-lcy) due, posted, or documented within the third aging bucket. The measure uses the value of the `Aging Bucket Period` to determine the length of each aging bucket, and then calculates the starting date for each bucket based on the current date.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry
- Date

### Bucket 4 (Receivables)
**Formula**   
The Bucket 4 (Receivables) measure  calculates the [Amount Receivable (LCY)](#amount-receivable-lcy) due, posted, or documented within the fourth aging bucket. The measure uses the value of the `Aging Bucket Period` to determine the length of each aging bucket, and then calculates the starting date for each bucket based on the current date.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry
- Date

### Current (Receivables)
**Formula**
Current (Receivables) measure calculates the [Amount Receivable (LCY)](#amount-receivable-lcy) for the given period where the data is on or before the last date in the period.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry
- Date

### Amount Receivable (LCY)
**Formula**   
The Amount Receivable (LCY) measure calculates the total amount of receivables in the local currency for a given period. The measure sums up the amount (in local currency) of the Customer Ledger Entries table to determine the total amount of receivables.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry

### Balance (Accounts Receivable)
**Formula**   
The Balance (Accounts Receivable) measure calculates the total balance of accounts receivable up to a specific date. The measure uses the [Amount Receivable (LCY)](#amount-receivable-lcy) measure and applies a filter to only include transactions on or before the selected date.

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry
- Date

### Original Amount (LCY)
**Formula**   
The Original Amount (LCY) measure calculates the total amount of original entries for customers in the local currency. The measure sums up the amount (in local currency) of the Customer Ledger Entries table, but only includes entries with the entry type of "Initial Entry".

**Data Sources**
- Customer Ledger Entry
- Detailed Customer Ledger Entry

## Vendor Ledger Measures
- [Bucket 1 (Payables)](#bucket-1-payables)
- [Bucket 2 (Payables)](#bucket-2-payables)
- [Bucket 3 (Payables)](#bucket-3-payables)
- [Bucket 4 (Payables)](#bucket-4-payables)
- [Current (Payables)](#current-payables)
- [Amount Payable (LCY)](#amount-payable-lcy)
- [Balance (Accounts Payable)](#balance-accounts-payable)
- [Original Amount](#original-amount)

### Bucket 1 (Payables)
**Formula**   
The Bucket 1 (Payables) measure calculates the [Amount Payable (LCY)](#amount-payable-lcy) within the first aging bucket. The first uses the `Aging Bucket Period` to determine the length of the first aging bucket and calculates the starting date for the bucket based on the current date.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry
- Date

### Bucket 2 (Payables)
**Formula**   
The Bucket 2 (Payables) measure calculates the [Amount Payable (LCY)](#amount-payable-lcy) within the second aging bucket. The second uses the `Aging Bucket Period` to determine the length of the second aging bucket and calculates the starting date for the bucket based on the current date.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry
- Date

### Bucket 3 (Payables)
**Formula**   
The Bucket 3 (Payables) measure calculates the [Amount Payable (LCY)](#amount-payable-lcy) within the third aging bucket. The third uses the `Aging Bucket Period` to determine the length of the third aging bucket and calculates the starting date for the bucket based on the current date.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry
- Date

### Bucket 4 (Payables)
**Formula**   
The Bucket 4 (Payables) measure calculates the [Amount Payable (LCY)](#amount-payable-lcy) within the fourth aging bucket. The fourth uses the `Aging Bucket Period` to determine the length of the fourth aging bucket and calculates the starting date for the bucket based on the current date.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry
- Date

#### Current (Payables)
**Formula**
Current Payables measures calculates the [Amount Payable (LCY)](#amount-payable-lcy) where the Due Date is on or after the last date in period.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry
- Date

### Amount Payable (LCY)
**Formula**   
The Amount Payable (LCY) measure calculates the total amount of payables in the local currency for a given period. The measure sums up the values in the amount (in local currency) column of the Vendor Ledger Entry table to determine the total amount of payables.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry
- Date

### Balance (Accounts Payable)
**Formula**   
The Balance (Accounts Payable) measure  calculates the total balance of accounts payable up to a specific date. The measure uses the [Amount Payable (LCY)](#amount-payable-lcy) measure and applies a filter to only include transactions on or before the selected date.

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry

### Original Amount
**Formula**   
The Original Amount measure calculates the total amount of original entries for vendors. The measure uses the [Amount Payable (LCY)](#amount-payable-lcy) measure and applies a filter to the Vendor Ledger Entries table to only include entries with the Entry Type equal to "Initial Entry".

**Data Sources**
- Vendor Ledger Entry
- Detailed Vendor Ledger Entry

## G/L Entry Measures
- [Amount](#amount)
- [Balance](#balance)
- [Balance at Date](#balance-at-date)
- [Balance at Date (Neg)](#balance-at-date-neg)
- [Net Change](#net-change)
- [Net Change (Neg)](#net-change-neg)
- [Variance to Budget](#variance-to-budget)
- [Variance to Budget %](#variance-to-budget-)

### Amount
**Formula**   
The Amount measure sums all values in the amount column of the G/L Entry table.

**Data Sources**
- G/L Entry

### Balance
**Formula**   
The Balance measure calculates the total [Amount](#amount) across all dates, ignoring any filters on the `Date` table. By removing date-based filtering, this measure provides the full balance from the start to the end of the dataset, regardless of any date selections applied in the report.

**Data Sources**
- G/L Entry

### Balance at Date
**Formula**   
The Balance at Date measure calculates the cumulative [Amount](#amount) up to the latest date in the current filter context. It removes all date filters, then re-applies a filter to include only dates up to and including the maximum date within the selection. This provides a running balance up to the specified date.

**Data Sources**
- G/L Entry

### Balance at Date (Neg)
**Formula**   
The Balance at Date (Neg) measure, abbreviated for Balance at Date (Negative), shows the [Balance at Date](#balance-at-date) measure as a negative value.

*Balance at Date (Neg) = [Balance at Date](#balance-at-date) x -1*

**Data Sources**
- G/L Entry

### Net Change
**Formula**   
The Net Change measure is a filtered version of [Amount](#amount), focusing on non-closing entries to show only the net activity. Net Change filters out entries where **Closing Entry** is TRUE, excluding closing entries from its calculation.

**Data Sources**
- G/L Entry

### Net Change (Neg)
**Formula**   
The Net Change (Neg) measure, abbreviated for Net Change (Negative), shows the [Net Change](#net-change) measure as a negative value.

*Net Change (Neg) = [Net Change](#net-change) x -1*

**Data Sources**
- G/L Entry

### Variance to Budget
**Formula**   
The Variance to Budget measure calculates the difference between the actual net change and the budget amount.

*Variance to Budget = [Net Change](#net-change) - [Budget Amount](#budget-amount)*

**Data Sources**
- G/L Entry
- G/L Budget Entry

### Variance to Budget %
**Formula**   
*Variance to Budget % = [Variance to Budget](#variance-to-budget) / [Net Change](#net-change)*

**Data Sources**
- G/L Entry
- G/L Budget Entry

## G/L Budget Entry Measures
- [Budget Amount](#budget-amount)
- [Budget Amount at Date](#budget-amount-at-date)

### Budget Amount
**Formula**   
The Budget Amount measure sums up all the budgeted amounts from the G/L Budget Entry table.

**Data Sources**
- G/L Budget Entry

### Budget Amount at Date
**Formula**   
The Budget Balance at Date measure calculates the budgeted balance at a specific date.

**Data Sources**
- G/L Budget Entry

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-data-exchange
---
title: Electronic documents in Business Central
description: This is an overview of how to use the Data Exchange Framework to manage the exchange of data in business documents like bank files and currency exchange rates.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.keywords: Data exchange framework, data files, data exchange, electronic document, invoice, Business Central, business document, standard-compliant file
ms.date: 06/10/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Exchanging Data Electronically
You can use the Data Exchange Framework to manage the exchange of business documents, bank files, currency exchange rates, and any other data files with your business partners.

In the standard version of [!INCLUDE[prod_short](includes/prod_short.md)], the Data Exchange Framework is used in processes such as exchanging electronic documents, importing and exporting bank files, and updating exchange rates for currencies. For more information, see [About the Data Exchange Framework](across-about-the-data-exchange-framework.md).

As an administrator or Microsoft partner, you can use the framework in new integration features by specifying the data to exchange, and how to exchange it. For more information, see [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).

The following table describes a sequence of tasks, with links to the topics that describe them.  

|To|See|  
|--------|---------|  
|Learn how the Data Exchange Framework works.|[About the Data Exchange Framework](across-about-the-data-exchange-framework.md)|  
|Prepare to exchange data in a file by reusing the file’s XML schema. Set up data exchange definitions. Set up master data for electronic document sending. Set up various bank import/export fields.|[Setting Up Data Exchange](across-set-up-data-exchange.md)|  
|Based on data exchange definitions, send PEPPOL invoices, receive PEPPOL invoices, import bank statements, and export bank payment files.|[Exchanging Data](across-exchange-data.md)|  

## Related information  
[About the Data Exchange Framework](across-about-the-data-exchange-framework.md)  
[Use XML Schemas to Prepare Data Exchange Definitions](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md)  
[Setting Up Data Exchange](across-set-up-data-exchange.md)  
[Exchanging Data](across-exchange-data.md)  
[Incoming Documents](across-income-documents.md)  
[General Business Functionality](ui-across-business-areas.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/faqs-bank-reconciliation
---
title: FAQ for bank account reconciliation assist with Copilot (preview)
description: This FAQ provides information about the AI technology used for reconciling bank accounts and statements in Business Central. It includes key considerations and details about how AI is used, how it was tested and evaluated, and any specific limitations.
ms.date: 04/01/2025
ms.custom: 
  - responsible-ai-faqs
ms.topic: faq
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.search.keywords: copilot, AI 
ms.collection:
  - bap-ai-copilot
---

# FAQ for bank account reconciliation assist with Copilot

These frequently asked questions (FAQ) describe the AI impact of Microsoft Copilot assistance with bank account reconciliation in [!INCLUDE[prod_short](includes/prod_short.md)].

## What is bank reconciliation assist?

Bank reconciliation is a common accounting task where organizations review their bank account statements to identify transactions that should be registered in [!INCLUDE[prod_short](includes/prod_short.md)]. For example, this task is used to identify periodic bank fees or small employee expenses.

Bank reconciliation is typically a multi-step process. First, bank statements are imported into [!INCLUDE[prod_short](includes/prod_short.md)]. Next, transactions are matched with ledger entries. Finally, new ledger entries are posted to reflect any residual transactions that weren't previously known to your ledgers.

Copilot in [!INCLUDE[prod_short](includes/prod_short.md)] reduces the manual effort by matching more transactions and suggesting general ledger (G/L) accounts that you can post to.

## What are the capabilities of bank reconciliation assist?

Copilot provides AI-powered assistance with two distinct tasks:

- Improved matching of transactions with ledger entries

    [!INCLUDE[prod_short](includes/prod_short.md)] offers automated rules that automatically match many bank transactions with ledger entries. However, these rules are inflexible and often result in many unmatched transactions, each of which requires manual inspection and comparison. Copilot uses AI technology to inspect those unmatched transactions and identify more matches, based on the dates, amounts, and descriptions. For example, if a customer paid multiple invoices in one lump sum, Copilot reconciles the single bank statement line with the multiple invoice ledger entries.

- Suggested G/L accounts

    For residual bank transactions that can't be matched to any ledger entries, Copilot uses AI technology to compare the transaction description with G/L account names and then suggest the most likely G/L account to post to. For example, if unmatched transactions have the narrative *Fuel Stop 24*, Copilot might suggest that you post them to the *Transportation* account.

Copilot doesn't connect to your bank to retrieve or send transactions. This task remains fully within your control. It's a prerequisite for using Copilot's assistance, regardless of whether the transactions are added to [!INCLUDE[prod_short](includes/prod_short.md)] by using a digital bank connection, imported from a bank statement file, or manually entered.

## What is the intended use of bank reconciliation assist?

Bank account reconciliation assist is designed to improve the accuracy of ledgers by helping customers identify new transactions that they should account for in [!INCLUDE[prod_short](includes/prod_short.md)]. It isn't intended for fraud detection or to identify whether customers paid on time.

## How was bank reconciliation assist evaluated? What metrics are used to measure performance?

Bank account reconciliation assist was tested by using combinations of synthetic bank transaction data and similar G/L accounts and ledger entries that cover the typical variations and data limits for each field and in different languages. Test data represents both typical usage and usage by bad actors. Performance was measured in comparison to manual reconciliation of the same data.

## What are the limitations of bank reconciliation assist? How can users minimize the impact of these limitations when they use the system?

Bank account reconciliation assist performs best when G/L account names, ledger entry descriptions, and bank transaction descriptions are all in the same language. Mixed languages or mixed languages for transaction descriptions often result in fewer matches and suggestions.

Suggested ledger accounts performs best in one of the supported languages (see the next section for a list of languages). Users might experience fewer transaction matches and fewer suggested ledger accounts in other languages.

## In which geographies and languages is bank reconciliation assist available? 

[!INCLUDE[copilot-geo-and-language-availability](includes/copilot-geo-and-language-availability.md)]

## What is expected of system users when they operate bank account reconciliation assist?

### During bank account reconciliation

AI-powered matches and suggestions might sometimes be incorrect or incomplete. Users of bank account reconciliation assist must review the accuracy of the matches and suggestions that Copilot provides before they choose to keep them. Copilot's matches and suggestions aren't saved to the [!INCLUDE[prod_short](includes/prod_short.md)] database until you select the **Keep it** button and close the Copilot window. You can edit and correct any matches or suggestions before you choose to keep them.

### After bank account reconciliation is completed

We recommend that users also verify accuracy and correct any discrepancies after they close the Copilot window. This process should include the following activities:

- Review the reconciliation test report.
- Ensure that your organization has the appropriate review and audit processes in place.
- Reopen any posted reconciliations by using the **Undo** function.
- Correct any erroneous ledger entries through reverse posting of entries.

## What is expected of administrators and system users when they operate bank account reconciliation assist?

System users, such as accountants, treasurers, or other people who work on business accounting, should always review the accuracy of matches and suggestions that Copilot provides before they choose to keep them. After reconciliation with Copilot, we recommend that these users review the reconciliation test report to verify accuracy and identify any discrepancies.

Administrators should ensure that the appropriate accounting users are granted access to this capability.

## Is Copilot the only means of completing bank account reconciliation?

No. Use of Copilot is optional. [!INCLUDE[prod_short](includes/prod_short.md)] offers traditional, non-AI-powered means of importing bank statements, running predefined matching rules, and manually applying matches and posting to appropriate ledger accounts. Both the traditional approach and Copilot can be used simultaneously in an organization.

## How do I give feedback about AI-generated content?

Each time that Copilot provides matches or suggestions, you can provide feedback to Microsoft directly from the Copilot window by using the like (thumbs up) and dislike (thumbs down) controls. Your feedback remains anonymous, and we use this data to improve the quality of the service.

## Related information

[Reconcile bank accounts with Copilot](bank-reconciliation-with-copilot.md)  
[Copilot data movement across geographies](/dynamics365/business-central/ai-copilot-data-movement)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-archive-documents
---
title: Archive sales, purchase, project, and service documents
description: You can archive orders, quotes, return orders, and blanket orders.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 12/09/2024
ms.custom: bap-template
ms.search.form: 42, 49, 50, 459, 460, 5159, 5162, 5164, 5167, 6627, 6630, 6644, 9305, 9306, 9346, 9347, 9348, 9349
ms.service: dynamics-365-business-central
---
# Archive documents

You can archive sales, purchase, and service orders, quotes, return orders, and blanket orders. If you're using Project Management features, you can also archive your projects. You can archive documents and projects several times. A different archived version saves each time.

For sales documents, if the original still exists and isn't posted, you can use the **Restore** action to overwrite it with an archived version.

> [!NOTE]
> You can only restore sales documents and projects. The action isn't available for archived purchase documents.

For archived documents where the original is deleted, you can reuse the content by copying the data, for example, by using the **Copy from Document** action.  

To explore archived documents, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Archive**, and then choose the related link. If the archive you're interested in doesn't display right away in the **Go to Reports and Analysis** section, you might need to choose **Show more**.

## To set up automatic document archiving

You can automate archiving to create a new version of the archived document when someone does the following things:

* Changes the status or deletes a document or project.
* Prints, downloads, or sends a document by email.
* Converts a quote to an order or invoice.
* Posts an order.

The following steps describe how to set up automatic archiving of sales documents from the **Sales & Receivables Setup** page. The steps are similar for purchase documents and projects.

* For purchase documents, use the **Purchase & Payables** page.
* For projects, use the **Project Setup** page.
* For services, use the **Service Management Setup** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.
2. On the **Archiving** FastTab, specify whether to turn on automatic archiving for the various types of sales documents. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)]

The following table describes the options for the **Archive Quotes** field.

|Option|Description|
|------|-----------|
|**Never**| Don't archive sales quotes when they're deleted.|
|**Question**|Prompt the user to choose whether to archive sales quotes when they're deleted.|
|**Always**|Archive a sales quote automatically when you delete it.|

## To manually archive a sales order

The following procedure describes how to manually archive a sales order. The steps are similar for all documents and projects that you can archive.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Open a sales order that you want to archive.  
3. Choose the **Archive Document** action.

The sales order is archived. You can view it on the **Archived Sales Orders** page.

## To restore a nonposted sales document or a project from the archive

You can restore documents only if the original document isn't posted.

The following procedure describes how to restore an archived sales order to the original sales order. The steps are similar for all orders, blanket orders, return orders, and quotes.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Order Archives**, and then choose the related link.
2. Select the archived sales order, or version of it, that you want to restore, and then choose the **Restore** action.  

The contents of the original sales order or project are replaced with the archived version.

## To delete archived versions

Use a retention policy to clean up archived versions that you no longer need. Retention policies let administrators define how long they want to store data. For example, they can set up a policy that deletes data after an expiration date. To learn more, go to [Define Retention Policies](admin-data-retention-policies.md).

There are a few things to note about creating retention policies for archived documents and projects:

* If the original document isn’t deleted, [!INCLUDE [prod_short](includes/prod_short.md)] you can’t delete the archived versions. Archived versions don’t expire as long as the original exists.
* When you set up the retention policy, you can specify that you want the policy to delete all archived versions except the most recent. For example, you might have 10 versions and want to keep a copy of the latest. 
* [!INCLUDE [prod_short](includes/prod_short.md)] calculates the expiration date for documents based on the date of the most recent archived version.

## Related information

[Track Document Lines](across-how-to-track-document-lines.md)  
[Sales](sales-manage-sales.md)  
[General Business Functionality](ui-across-business-areas.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-table-structure
---
title: Design Details - Table Structure | Microsoft Docs
description: To understand how the dimension entry storing and posting is redesigned, it's important to understand the table structure.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/08/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design details: table structure

To understand how dimension entries are stored and posted, it's important to understand the table structure.  

## Table 480, Dimension Set Entry  

You can't change this table. After data is written to the table, you can't delete or edit it.

|Field No.|Field Name|Data Type|Comment|  
|---------------|----------------|---------------|-------------|  
|1|**ID**|Integer|>0.0 is reserved for the empty dimension set. References field 3 in table 481.|  
|2|**Dimension Code**|Code 20|Table relation to table 348.|  
|3|**Dimension Value Code**|Code 20|Table relation to table 349.|  
|4|**Dimension Value ID**|Integer|References field 12 in table 349. It's the secondary key that is used when traversing table 481.|  
|5|**Dimension Name**|Text 30|CalcField. Lookup to table 348.|  
|6|**Dimension Value Name**|Text 30|CalcField. Lookup to table 349.|  

## Table 481, Dimension Set Tree Node  
You can't change this table. It's used to search for a dimension set. If the dimension set isn't found, a new set is created.  

|Field No.|Field Name|Data Type|Comment|  
|---------------|----------------|---------------|-------------|  
|1|**Parent Dimension Set ID**|Integer|0 for top level node.|  
|2|**Dimension Value ID**|Integer|Table relation to field 12 in table 349.|  
|3|**Dimension Set ID**|Integer|AutoIncrement. Used in field 1 in table 480.|  
|4|**In Use**|Boolean|False if not in use.|  

## Table 482 Reclas. Dimension Set Buffer  
This table is used when you change a dimension value code, for example, on an item ledger entry by using the **Item Reclassification Journal** page.  

|Field No.|Field Name|Data Type|Comment|  
|---------------|----------------|---------------|-------------|  
|1|**Dimension Code**|Code 20|Table relation to table 348.|  
|2|**Dimension Value Code**|Code 20|Table relation to table 349.|  
|3|**Dimension Value ID**|Integer|References field 12 in table 349.|  
|4|**New Dimension Value Code**|Code 20|Table relation to table 349.|  
|5|**New Dimension Value ID**|Integer|References field 12 in table 349.|  
|6|**Dimension Name**|Text 30|CalcField. Lookup to table 348.|  
|7|**Dimension Value Name**|Text 30|CalcField. Lookup to table 349.|  
|8|**New Dimension Value Name**|Text 30|CalcField. Lookup to table 349.|  

## Transaction and Budget Tables  
In addition to other dimension fields in the table, this field is important:  

|Field No.|Field Name|Data Type|Comment|  
|---------------|----------------|---------------|-------------|  
|480|**Dimension Set ID**|Integer|References field 1 in table 480.|  

### Table 83, Item Journal Line  
In addition to other dimension fields in the table, these fields are important.  

|Field No.|Field Name|Data Type|Comment|  
|---------------|----------------|---------------|-------------|  
|480|**Dimension Set ID**|Integer|References field 1 in table 480.|  
|481|**New Dimension Set ID**|Integer|References field 1 in table 480.|  

### Table 349, Dimension Value  
In addition to other dimension fields in the table, these fields are important.  

|Field No.|Field Name|Data Type|Comment|  
|---------------|----------------|---------------|-------------|  
|12|**Dimension Value ID**|Integer|AutoIncrement. Used for references in table 480 and table 481.|  

### Tables That Contain the Dimension Set ID Field
 The **Dimension Set ID** field (480) exists in the following tables. For the tables that store posted data, the field only provides a noneditable display of dimensions, which is marked as Drill-down. For the tables that store working documents, the field is editable. The buffer tables that are used internally don't need editable or noneditable capabilities.  

 Field 480 is noneditable in the following tables.  

|Table No.|Table Name|  
|---------------|----------------|  
|17|**G/L Entry**|  
|21|**Cust. Ledger Entry**|  
|25|**Vendor Ledger Entry**|  
|32|**Item Ledger Entry**|  
|110|**Sales Shipment Header**|  
|111|**Sales Shipment Line**|  
|112|**Sales Invoice Header**|  
|113|**Sales Invoice Line**|  
|114|**Sales Cr.Memo Header**|  
|115|**Sales Cr.Memo Line**|  
|120|**Purch. Rcpt. Header**|  
|121|**Purch. Rcpt. Line**|  
|122|**Purch. Inv. Header**|  
|123|**Purch. Inv. Line**|  
|124|**Purch. Cr. Memo Hdr.**|  
|125|**Purch. Cr. Memo Line**|  
|169|**Job Ledger Entry**|  
|203|**Res. Ledger Entry**|  
|271|**Bank Account Ledger Entry**|  
|281|**Phys. Inventory Ledger Entry**|  
|297|**Issued Reminder Header**|  
|304|**Issued Fin. Charge Memo Header**|  
|5107|**Sales Header Archive**|  
|5108|**Sales Line Archive**|  
|5109|**Purchase Header Archive**|  
|5110|**Purchase Line Archive**|  
|5601|**FA Ledger Entry**|  
|5625|**Maintenance Ledger Entry**|  
|5629|**Ins. Coverage Ledger Entry**|  
|5744|**Transfer Shipment Header**|  
|5745|**Transfer Shipment Line**|  
|5746|**Transfer Receipt Header**|  
|5747|**Transfer Receipt Line**|  
|5802|**Value Entry**|  
|5832|**Capacity Ledger Entry**|  
|5907|**Service Ledger Entry**|  
|5908|**Service Header**|  
|5933|**Service Order Posting Buffer**|  
|5970|**Filed Service Contract Header**|  
|5990|**Service Shipment Header**|  
|5991|**Service Shipment Line**|  
|5992|**Service Invoice Header**|  
|5993|**Service Invoice Line**|  
|5994|**Service Cr. Memo Header**|  
|5995|**Service Cr. Memo Line**|  
|6650|**Return Shipment Header**|  
|6651|**Return Shipment Line**|  
|6660|**Return Receipt Header**|  
|6661|**Return Receipt Line**|  

Field 480 is editable in the following tables.  

|Table No.|Table Name|  
|---------------|----------------|  
|36|**Sales Header**|  
|37|**Sales Line**|  
|38|**Purchase Header**|  
|39|**Purchase Line**|  
|81|**Gen. Journal Line**|  
|83|**Item Journal Line**|  
|89|**BOM Journal Line**|  
|96|**G/L Budget Entry**|  
|207|**Res. Journal Line**|  
|210|**Project Journal Line**|  
|221|**Gen. Jnl. Allocation**|  
|246|**Requisition Line**|  
|295|**Reminder Header**|  
|302|**Finance Charge Memo Header**|  
|5405|**Production Order**|  
|5406|**Prod. Order Line**|  
|5407|**Prod. Order Component**|  
|5615|**FA Allocation**|  
|5621|**FA Journal Line**|  
|5635|**Insurance Journal Line**|  
|5740|**Transfer Header**|  
|5741|**Transfer Line**|  
|5900|**Service Header**|  
|5901|**Service Item Line**|  
|5902|**Service Line**|  
|5965|**Service Contract Header**|  
|5997|**Standard Service Line**|  
|7134|**Item Budget Entry**|  
|99000829|**Planning Component**|  

Field 480 exists in the following buffer tables.  

|Table No.|Table Name|  
|---------------|----------------|  
|49|**Invoice Post. Buffer**|  
|212|**Project Posting Buffer**|  
|372|**Payment Buffer**|  
|382|**CV Ledger Entry Buffer**|  
|461|**Prepayment Inv. Line Buffer**|  
|5637|**FA G/L Posting Buffer**|  
|7136|**Item Budget Buffer**|  

## Related information

[Dimension Set Entries Overview](design-details-dimension-set-entries-overview.md)  
[Design Details: Searching for Dimension Combinations](design-details-searching-for-dimension-combinations.md)   
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-average-collection-period
---
title: Average Collection Period
description: The Average Collection Period report provides a snapshot of the average days taken to collect account receivable payments.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36992_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Average Collection Period (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Average Collection Period** report shows the average number of days it takes for your company to receive payments from customers. The report can help you assess the efficiency of your receivables collection process.

:::image type="content" source="media/finance/average-collection-period-report.png" alt-text="Screenshot of the Average Collection Period report" lightbox="media/finance/average-collection-period-report.png":::

## Use the report

The audiences for the report are:

- Executives
- Directors
- Other high-level decision makers

Executive or finance managers use this report to monitor and track the effectiveness of your collection process. By analyzing and tracking the average collection period in days, you can identify trends that might affect cash flow. The report can help ensure that you collect receivables quickly enough to cover upcoming cash needs, and help you plan for better cash flow. By monitoring the average collection period, you can anticipate cash flow shortages.

## Key Performance Indicators (KPIs)

The *Average Collection Period* report includes the following KPIs and measures: 

- [**Average Collection Period (Days)**](finance-powerbi-kpis.md#average-collection-period-days)
- [**No. of Days**](finance-powerbi-kpis.md#no-of-days)
- [**Revenue**](finance-powerbi-kpis.md#revenue)
- [**Accounts Receivable (Average)**](finance-powerbi-kpis.md#accounts-receivable-average)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- G/L Entry
- G/L Accounts
- G/L Account Categories

## Try the report

Try the report here: [Average Collection Period](https://businesscentral.dynamics.com?page=36992)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-manage-sustainability
---
title: Sustainability management overview
description: Learn about the sustainability management feature by using the provided information and resources.
author: altotovi
ms.topic: concept-article
ms.devlang: al
ms.search.keywords: Sustainability, ESG, emission, GHG, CSRD, carbon, CO2
ms.search.form: 
ms.date: 09/06/2024
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Sustainability management overview

> [!IMPORTANT]
> This feature is available in Business Central starting from **2024 release wave 1**.  

Business Central offers a sustainability management feature that helps you monitor and manage your organization's and its effect on the environment. This feature is designed to oversee and regulate an organization's environmental footprint by tracking various greenhouse gas (GHG) emissions. In this way, it facilitates proper insights. The feature supports the basic process of collecting emission data via sustainability journals or purchase documents, and recalculation of emissions to CO2 equivalent. You can either manually enter known data or use built-in methods for calculating emissions footprints; calculation using formulas are available for use only when using sustainability journals.   

> [!NOTE]
> This solution is still in early stages of development and new set of features will be added with the next release.  

The first version of the feature focuses on GHG emissions. The environmental, social, and governance (ESG) standard defines three emission scopes:

- **Scope 1 emissions** include emissions from stationary and mobile combustion, and from inadvertent fugitive emissions.
- **Scope 2 emissions** include indirect emissions from the generation of energy that is purchased from utility providers.
- **Scope 3 emissions** include a wide spectrum of emissions, from purchased goods and services and capital goods, to fuel and energy–related activities, to upstream and downstream transportation, to generated waste, to business travel and employee commuting, and so on.

With this feature, you can:

- Set up emission factors for different sources and categories of GHG emissions.
- Record emission data in sustainability journals, either manually or by using predefined calculation methods.
- Record emission data directly working with purchase documents.
- Record purchase of carbon credit using purchase documents.
- Calculate internal carbon fee.
- Recalculate emission of all gasses to CO2 equivalent using formulas.
- Post emission entries (and carbon credits) to the sustainability ledger, where you can view and analyze the emission data by various dimensions.
- Set scorecards and goals and compare them with baseline and targeted values.
- Generate sustainability reports that show your organization's GHG emissions performance.
- Use financial reports for cross functional reporting.

To get started with sustainability management, use the following articles.

| Article | Description |
|---------|-------------|
| **Feature** |             |
| [Sustainability setup](finance-sustainability-setup.md) | This article provides information to help you correctly configure the whole Sustainability module. |
| [Chart of sustainability accounts and ledger](finance-sustainability-accounts-ledger.md) | This article provides information on how to set up charts of sustainability accounts (CoSA), account categories, and subcategories. And also, how to analyze information in sustainability ledger entries. |
| [Record sustainability entries](finance-sustainability-journal.md) | Use this article to learn how to work with all types of sustainability journals. |
| [Work with carbon credits](sustainability-carbon-credit.md) | Learn how to set up and purchase carbon credit. |
| [Work with sustainability certificates](sustainability-certificates.md) |  Learn what the sustainability certificates are and how to set up and use them.  |
| **Planning** |             |
| [Sustainability scorecards and goals overview](sustainability-scorecards-goals.md) | Learn how to set up and use sustainability scorecards and goals. |
| **Reporting** |             |
| [Ad-hoc analysis of sustainability data](ad-hoc-analysis-sustainability.md) | This article provides information about how to use ad-hoc analysis to analyze sustainability data directly from list pages and queries. |
| [Sustainability reports and analytics in Business Central](sustainability-reports.md) | This article provides information about how to use integrated reports and analytics related to Sustainability in Business Central. |
| [Analyzing sustainability entries with financial reports](sustainability-fin-reporting.md) | Describes how to use financial reports to create various views and reports for analyzing sustainability performance data. |
| **Integrations** |             |
| [Sustainability API](/dynamics365/business-central/dev-itpro/api-sustainability/sustainability-api?toc=/dynamics365/business-central/toc.json) | Use this article to learn how to create connected apps that establish a point-to-point connection between Business Central and non-Microsoft sustainability solutions or services using APIs. |

## Related information

[Sustainability setup](finance-sustainability-setup.md)    
[Chart of sustainability accounts and ledger](finance-sustainability-accounts-ledger.md)    
[Record sustainability entries](finance-sustainability-journal.md)    
[Ad-hoc analysis of sustainability data](ad-hoc-analysis-sustainability.md)    
[Sustainability reports and analytics in Business Central](sustainability-reports.md)   
[Sustainability API](/dynamics365/business-central/dev-itpro/api-sustainability/sustainability-api?toc=/dynamics365/business-central/toc.json)    
[Finance](finance.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-workflow
---
title: Workflows in Dynamics 365 Business Central
description: Use built-in workflow capabilities to set up approval workflows to supplement automated workflows based on Power Automate.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.service: dynamics-365-business-central
ms.topic: article
ms.date: 06/12/2025
ms.custom: bap-template 
---
# Workflows in Business Central

You can set up and use workflows to connect business-process tasks performed by different users. System tasks, such as automatic posting, can be included as steps in workflows. System tasks can be preceded or followed by user tasks. Requesting and granting approval to create new records are typical workflow steps.

The default version of [!INCLUDE [prod_short](includes/prod_short.md)] supports these types of workflows:
  
* Power Automate flows

  * Automated flows that are triggered by events (such as record or document creation, modification, or deletion) in [!INCLUDE[prod_short](includes/prod_short.md)]. Also included are approval flows created in Power Automate that trigger when an approval is requested in [!INCLUDE[prod_short](includes/prod_short.md)].
  * Instant flows that are manually triggered from the **Automate** action menu on lists, cards, and document pages.

    Create and manually trigger a Power Automate flow on a [!INCLUDE[prod_short](includes/prod_short.md)] record, such as a customer, item, or sales order, with options to manipulate information both internally and externally (using integrated tools).

* Approval workflows based on built-in workflow templates

  On the **Workflow Templates** page, you can see all available workflows. The trial version of [!INCLUDE[prod_short](includes/prod_short.md)] includes many preconfigured workflows represented by workflow templates you can copy to create new ones. When you open a template from the **Workflow Templates** page, and the workflow name starts with *MS-*, then the template was added by Microsoft.

## Power Automate flows

With [!INCLUDE [prod_short](includes/prod_short.md)] online, you can sign up for Power Automate to build powerful automated workflows. You run those workflows from inside [!INCLUDE [prod_short](includes/prod_short.md)]. The flows can connect internal and external data sources and tools, without coding knowledge.

|To... |Go to...|
|-------|-------|
|Get started with Power Automate, creating flows, and running instant flows|[Use Power Automate Flows in [!INCLUDE[prod_short](includes/prod_short.md)]](across-how-use-financials-data-source-flow.md)|
|Learn details of how to create, edit, and manage flows|[Set Up Automated Flows](/dynamics365/business-central/dev-itpro/powerplatform/automate-workflows) and [Set Up Instant Flows](/dynamics365/business-central/dev-itpro/powerplatform/instant-flows)|
|Set up Power Automate integration with [!INCLUDE[prod_short](includes/prod_short.md)] for users as an admin|[Set Up Power Automate Integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-setup)|

## Approval workflows

Create an approval workflow by defining what starts the workflow and what happens next, as follows:

* A workflow event, which is moderated by event conditions.
* A workflow response, which is moderated by response options.

To define workflow steps, fill in fields on workflow lines using the event and response values that represent supported scenarios.

Examples of approval workflow events include the creation of sales or purchase orders/quotes/invoices, price changes, vendor or customer edits, and more.

[!INCLUDE[workflow](includes/workflow.md)]

| To... | Go to... |
|--|--|
| Set up approval workflow users, specify how users get notified, and create new workflows. (To create new workflows for unsupported scenarios, implement the required workflow elements by customizing the application code.) | [Set Up Approval Workflows](across-set-up-workflows.md) |
| Enable approval workflows, act on workflow notifications, including requesting and approving a workflow step. Archive and delete workflows. | [Use Approval Workflows](across-use-workflows.md) |

<!--
| Integrate company data with Power Automate workflows, using both internal and external sources and events to create and automate tasks or workflows. | [Use Power Automate Flows in [!INCLUDE[prod_short](includes/prod_short.md)]](across-how-use-financials-data-source-flow.md) |-->

## Related information

[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Managing Projects](projects-manage-projects.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Troubleshoot Your [!INCLUDE[prod_short](includes/prod_short.md)] Automated Workflows](across-flow-troubleshoot.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-run-mps-and-mrp
---
title: Run Full Planning, MPS, or MRP
description: The planning system can calculate either Master Production Schedule (MPS) or Material Requirements Planning (MRP) on request, or both at the same time.
author: brentholtorf
ms.topic: how-to
ms.search.form: 99000852, 99000860
ms.date: 06/10/2025
ms.author: bholtorf
ms.reviewer: bholtorf
ms.custom: bap-template 

ms.service: dynamics-365-business-central
---
# Run Full Planning, MPS, or MRP

The terms "running the planning worksheet" or "running MRP" refer to calculating the master production schedule (MPS) and material requirements planning (MRP). The calculation is based on actual and forecasted demand. The planning system can calculate MPS and MRP on request, or both at the same time.  

- MPS is the calculation of a master production schedule based on actual demand and the demand forecast. The MPS calculation is used for end items that have a forecast or a sales order line. These items are called MPS items and are identified dynamically when the calculation starts.  
- MRP is the calculation of material requirements based on actual demand for components and the demand forecast on the component level. MRP is calculated only for items that aren't MPS items. The purpose of MRP is to provide timed, formal plans to supply the appropriate quantity of the item at the appropriate time and location.  

The planning algorithms for MPS and MRP are the same. The algorithms pertain to netting, reusing existing replenishment orders, and action messages. The planning system process examines what is, or will be, needed (demand) and what's on-hand or expected (supply). When you net these quantities against each other, [!INCLUDE[prod_short](includes/prod_short.md)] provides action messages. Action messages are suggestions to create a new order, change an order (quantity or date), or cancel an order. The term "order" includes purchase orders, assembly orders, production orders, and transfer orders.

You can track the links that the planning creates between demand and supply on the **Order Tracking** page. Learn more at [Track Relations Between Demand and Supply](production-how-track-demand-supply.md).

Planning results depend on settings on items, assembly BOMs, production BOMs, and routings.  

## Methods for generating a plan  

- **Calculate Regenerative Plan:** Process or regenerate the material plan. This process starts by deleting all planned supply orders that are currently loaded. All items in the database are replanned.  
- **Calculate Net Change Plan**: Process a net change plan. Items are considered in net change planning from two types of changes:  
   - **Demand/supply changes:** These changes include modifications to quantities on sales orders, demand forecasts, assembly orders, production orders, or purchase orders. An unplanned inventory level change is also considered a quantity change.  
   - **Planning parameter changes:** These changes include changes in safety stock, reorder point, routing, bill of material, and changes to the time bucket or lead time calculation.  
- **Get Action Messages:** Serves as a short-term planning tool by issuing action messages to alert the user of modifications made since the last time you calculated a regenerative or net change plan.  

With each planned method, [!INCLUDE[prod_short](includes/prod_short.md)] generates worksheet entries that assume infinite capacity. When you develop schedules, work center and machine center capacity isn't considered.  

> [!IMPORTANT]  
> Calculate Regenerative Plan is the most common process. The Calculate Plan and Carry out Action Messages, however, can run the Calculate Net Change Plan process.  
>
> You can run the Get Action Messages Plan between regenerative and net change planning runs to obtain an immediate view of the effect of schedule changes. However, it isn't meant to replace the full regenerative or net change planning processes.  

## To calculate the planning worksheet
  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheets**, and then choose the related link.  
2. Choose the **Calculate Regenerative Plan** action to open the **Calculate Plan** page.  
3. On the **Options** FastTab, fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**MPS**|Calculate a master production schedule. Items with open sales orders or demand forecasts are considered in this run. <br/>The MPS calculation includes other demands, such as safety stock, reorder point, or open production component lines for such items. That ensures that the planning system deals with the complete inventory profile.  |  
    |**MRP**|Calculate material requirements planning. Items with dependent requirements are considered in this run. Typically, MPS and MRP are run at the same time. To run MPS and MRP at the same time, on the **Manufacturing Setup** page, on the **Planning** FastTab, select the **Combined MPS/MRP Calculation** field.|  
    |**Starting Date**|Evaluate inventory availability. If an item's on-hand quantity is below the reorder point, the system forward-schedules a replenishment order from this date. If an item is below its safety stock (as of the starting date), the system back-schedules a replenishment order due on the planning starting date.|  
    |**Ending Date**|The ending date of the planning horizon. After this date, demand and supply aren't considered. If the reorder cycle for an item extends beyond the ending date, the effective planning horizon for that item is equal to the order date plus the reorder cycle.<br/><br/> The planning horizon is the time that the plan is extended to. If the horizon is too short, items with a longer lead time aren't ordered on time. If the horizon is too long, too much time is spent reviewing and processing information that likely changes. You can set one planning horizon for production and a longer one for purchases, although it isn't required. A planning horizon for purchases and production should be set to cover the total lead time for components.|  
    |**Stop and Show First Error**|Select this option if you want the planning run to stop as soon as it encounters an error. A message displays with information about the error. If an error exists, only the successful planning lines made before the error show in the planning worksheet. If you don't select this field, the **Calculate Plan** batch job continues until it completes. Errors don't interrupt the batch job. If one or more errors exist, a message displays after completion with information about how many items are affected. The **Planning Error Log** page opens to provide more details about the error and links to the affected item cards.|  
    |**Use Forecast**|Select a forecast to include as demand when you run the planning batch job. The default forecast is set up on the **Planning** FastTab on the **Manufacturing Setup** page.|  
    |**Exclude Forecast Before**|Define how much of the selected forecast to include in the planning run by entering a date before which forecast demand isn't included.|  
    |**Respect Planning Parameters for Exception Warnings**|By default, this field is selected.<br/><br/> Supply on planning lines with warnings is normally not modified according to planning parameters. Instead, the planning system only suggests a supply to cover the exact demand quantity. However, you can define certain planning parameters for planning lines to be respected with certain warnings.<br/><br/>|  

4. On the **Item** FastTab, set filters to run the planning based on the item, item description, or location.  
5. Choose the **OK** button. The batch job runs and planning lines are added to the planning worksheet.  

## To perform action messages
  
1. On the **Planning Worksheet** page, choose the **Carry Out Action Message** action.  
2. On the **Options** FastTab, specify how to create the supplies. Fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Production Order**|Specify how to create production orders directly from the planning line proposals. You can create either planned or firm planned production orders.|  
    |**Assembly Order**|Specify how to create assembly orders directly from the planning line proposals.|  
    |**Purchase Order**|Specify how to create purchase orders directly from the planning line proposals.<br/><br/> If you chose to copy the planning line proposals for purchase orders to the requisition worksheet, select the template and worksheet name.|  
    |**Transfer Order**|Specify how to create transfer orders directly from the planning line proposals.<br/><br/> If you chose to copy the planning line proposals for transfer orders to the requisition worksheet, select the template and worksheet name.|  
    |**Combine Transfer Orders**|Select whether to combine transfer orders.|  
    |**Stop and Show First Error**|Select this option if you want the **Carry Out Action Msg. - Plan.** batch job to stop as soon as it finds an error. Aa message displays information about the error. If an error exists, only the planning lines processed before the error create supply orders.|  

3. On the **Planning Line** FastTab, you can set filters to limit the perform action messages.  
4. Choose the **OK** button.  

The batch job deletes the lines in the planning worksheet after it handles the action message. The other lines remain in the planning worksheet until they're either accepted at a later date or else deleted. You can also delete the lines manually.  

## Action messages
  
The order tracking system issues action messages when it can't balance the existing order network. The messages can be viewed as a suggestion for you to process changes that reestablish balance between supply and demand.  

The generation of action messages occurs one level at a time, for each item's low-level code. This step makes sure that all items that experience changes in supply or demand are considered.  

To avoid small, unneeded, or unimportant action messages, you can set dampeners. Dampeners restrict the generation of action messages to only those changes that exceed the defined quantity or number of days.  

After you review the action messages and determine whether to accept some or all of the suggested changes, select the **Accept Action Message** field. Next, update the schedules accordingly.  

> [!NOTE]  
> An action message is a suggestion to create a new order, cancel an order, or change the quantity or date of an order. An order is a purchase order, transfer order, or production order.  

In response to any supply/demand imbalances, the following action messages are generated.  

|Action Message|Description|  
|--------------------|---------------------------------------|  
|**New**|If a demand can't be fulfilled by suggesting action messages to **Change Qty.**, **Reschedule**, or **Reschedule & Change Qty.** on existing orders, the action message **New** is generated to suggest a new order. The message **New** is also generated if there aren't supply orders in the reorder cycle of the item. This option determines the number of periods forward and backward in the availability profile when it searches for an order to reschedule.|  
|**Change Quantity**|When the quantity changes for a demand that's tracked to a supply order, the action message **Change Qty.** is generated. The message indicates that the related supply should be changed relative to the change in demand. If a new demand emerges, [!INCLUDE[prod_short](includes/prod_short.md)] searches for the nearest existing unreserved supply order in the reorder cycle, and issues a change of action message for that order.|  
|**Reschedule**|When a date change for a supply or demand order causes an imbalance in the order network, the action message **Reschedule** is generated. If there's a one-to-one relationship between demand and supply, an action message is generated to suggest that you move the supply order. If the supply-order covers demand from more than one sales order, the supply order is rescheduled equal to the date of the first demand.|  
|**Resch. & Chg. Qty.**|If both the dates and quantities of an order change, you must change plans regarding both. Action messaging gathers both actions in one message, **Resched. and Chg. Qty.**, to ensure that the order network returns to balance.|  
|**Cancel**|If you delete a demand that was covered on an order-to-order basis, an action message is generated to cancel the related supply order. If the relationship isn't order-to-order, an action message is generated to change in order to reduce the supply. If through other factors, such as inventory adjustments, a supply order isn't required at the time you generate the action messages, [!INCLUDE[prod_short](includes/prod_short.md)] suggests an action message of **Cancel** in the worksheet.|  

## Related information  

[Planning](production-planning.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Design Details: Supply Planning](design-details-supply-planning.md)  
[Setup Best Practices: Supply Planning](setup-best-practices-supply-planning.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-manage
---
title: Manage fixed assets
description: Learn about the fixed assets functionality and get an overview of how to work with and manage your fixed assets.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: machinery, buildings
ms.search.form: 5601_Primary, 5604, 5606, 5664, 5601, 5602, 5658, 5603, 5671, 5641, 5629, 5633, 5634, 5649, 5622, 5650
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Manage fixed assets

The fixed assets functionality in [!INCLUDE[prod_short](includes/prod_short.md)] provides an overview of your fixed assets and helps ensure that their depreciation is correct. It also helps you track maintenance costs, manage insurance policies, post fixed asset transactions, and generate various reports and statistics.

## What is a fixed asset?

Fixed assets differ from other items in your warehouse. A fixed asset, also known as a capital asset, is a tangible piece of property, plant, or equipment (PP&E) that you own or manage with the expectation that it will continue to help generate income. An asset is fixed when it’s an item that your business won’t consume, sell, or convert to cash within the next calendar year. Fixed assets are different than current assets, which are in cash or slated to be converted to cash within the next 12 months. Fixed assets also differ from your inventory, because inventory is typically consumed within a short time.

## Types of fixed assets

Businesses typically invest in a few types of fixed assets. Some examples are:

- Buildings and facilities
- Computer equipment and software
- Furniture and fixtures
- Machinery
- Vehicles

## Understanding fixed asset accounting

Fixed asset accounting means keeping precise financial records about your capital assets. These records include details about the five stages in an asset's lifecycle. After your initial purchase, each fixed asset’s lifecycle includes at least three of the following stages:

- Acquisition: You add a new fixed asset to your books.
- Depreciation: You record an asset's periodic decline in value, which you use a depreciation method to calculate. To learn more, go to [FA Depreciation Calculation](LocalFunctionality/India/FA_Depreciation.md).
- Revaluation: You record an assessment of the current fair market value of an asset. To learn more, go to [Revalue Fixed Assets](fa-how-revalue.md).
- Impairment: You record a reduction in value due to events or circumstances.
- Disposal: You sell, scrap, or use another way dispose of an asset at the end of its service life.

Audits are also included in the detailed checks of your company’s accounting records after closing the books for the financial year. Whether internal or external, audits are where you might notice inconsistencies or differences between your notes and the actual state of your assets. Audits promote transparency in your assets and accounting if you’re losing more money than anticipated.

## Video overview

The following video covers the basics of fixed assets:

> [!Video https://learn-video.azurefd.net/vod/player?id=32fa27be-9e9a-4637-bc9b-87eb994f5ae0]

## Initial setup of fixed assets

Before you can manage fixed assets, you must complete the following setups:

- Default values
- Fixed asset accounting
- Posting groups and types
- Allocation keys
- Fixed asset journals

To learn more, go to [Setting Up Fixed Assets](fa-setup.md).

## Fixed assets analytics

This section describes the analytical tools you can use to get insights into data about your fixed assets.

| To... | See |
| --- | --- |
| Learn about capabilities for analyzing data about fixed assets. | [Fixed assets analytics overview](fa-analytics-overview.md) |
| Do ad-hoc analysis of fixed assets data directly on list pages and queries. | [Ad-hoc analysis of fixed assets data](ad-hoc-analysis-fa.md) |
| Explore built-in reports for fixed assets. | [Built-in fixed assets reports](fa-reports.md) |
| Monitor maintenance costs. | [Monitor maintenance costs](fa-how-maintain.md#monitor-maintenance-costs)|
| Monitor insurance coverage. | [Monitor insurance coverage](fa-how-insure.md#to-monitor-insurance-coverage) |
| View disposal ledger entries. | [View disposal ledger entries](fa-how-dispose-retire.md#to-view-disposal-ledger-entries) |
| View projected disposal values. | [View projected disposal values](fa-how-manage-budgets.md#to-view-projected-disposal-values) |

## Register fixed assets

For each fixed asset, you must set up a card that contains information about them. For example, you can set up buildings or production equipment as main assets with a component list. You can group assets in various ways, such as by class, department, or location. Then you can acquire, maintain, and sell the fixed assets. You can also set up budgeted assets. Budgeting lets you include any anticipated acquisitions and sales in reports.

| To  | See |
| --- | --- |
| Manage fixed asset budgets, budget acquisition costs, budget disposals of fixed assets, and budget depreciation. |[Manage Budgets for Fixed Assets](fa-how-manage-budgets.md) |
| Create fixed assets, assign depreciation methods, post acquisitions, salvage values, and print fixed asset lists. |[Acquire Fixed Assets](fa-how-acquire.md) |

## Set up depreciations for your fixed assets

To track fixed asset depreciations and other financial transactions for fixed assets, set up one or more depreciation books for each one. There are a few steps to depreciate assets:

1. Run a report that calculates periodic depreciation.
1. Fill in a journal with the resulting entries.
1. Post the journal.

[!INCLUDE[prod_short](includes/prod_short.md)] supports several depreciation methods. To learn more, go to [Depreciation Methods](fa-depreciation-methods.md). You can set up multiple depreciation books for each fixed asset for different purposes, such as one for tax reporting and another for internal reporting.

| To  | See |
| --- | --- |
| Learn about different fixed asset depreciation methods. |[Depreciation Methods](fa-depreciation-methods.md) |
| Calculate depreciation, post depreciation, and analyze depreciation in fixed assets reports. |[Depreciate or Amortize Fixed Assets](fa-how-depreciate-amortize.md) |
| View changed depreciation book values. | [View changed depreciation book values](fa-how-trans-split-combine.md#to-view-changed-depreciation-book-values-due-to-fixed-asset-reclassification) |
| Manually record fixed asset transactions on the **Fixed Asset G/L Journal** page or on the **Fixed Asset Journal** page, depending on whether the transactions are for financial reporting or for internal management. | [Set Up Fixed Asset Depreciation](fa-how-setup-depreciation.md) |

## Fixed assets maintenance and insurance

You can record maintenance costs and the next service date for each asset. Tracking maintenance expenses can be important for budgeting purposes and deciding whether to replace a fixed asset. You can attach each fixed asset to one or more insurance policies, and verify that policy premiums align with the value of the assets.

| To  | See |
| --- | --- |
| Record service visits, post maintenance costs, and monitor maintenance costs. |[Maintain Fixed Assets](fa-how-maintain.md) |
| Monitor maintenance costs. | [Monitor maintenance costs](fa-how-maintain.md#monitor-maintenance-costs)|
| Update insurance information, post acquisition costs to insurance policies, modify insurance coverage, view insurance statistics, and list insurance policies. |[Insure Fixed Assets](fa-how-insure.md) |
| Monitor insurance coverage. | [Monitor insurance coverage](fa-how-insure.md#to-monitor-insurance-coverage) |

## Reclassify, transfer, split up/combine, adjust value, write-down, and dispose fixed assets

| To  | See |
| --- | --- |
| Reclassify fixed assets, transfer fixed assets to different locations, split up or combine assets. |[Transfer, Split, or Combine Fixed Assets](fa-how-trans-split-combine.md) |
| Adjust values of fixed assets, post appreciation, and post write-down transactions. |[Revalue Fixed Assets](fa-how-revalue.md) |
| Post disposal transactions, view disposal ledger entries, and post partial disposals. |[Dispose of or Retire Fixed Assets](fa-how-dispose-retire.md) |
| View disposal ledger entries. | [View disposal ledger entries](fa-how-dispose-retire.md#to-view-disposal-ledger-entries) |
| View projected disposal values. | [View projected disposal values](fa-how-manage-budgets.md#to-view-projected-disposal-values) |

## Tips for improving your fixed asset accounting

There are a few things you can implement in your accounting strategy for fixed assets that can help ensure you’re maximizing your earnings.

- Establish a threshold for capitalization. When you purchase an item, determine a fixed amount for capitalization. The amount helps ensure your accounting books are consistent, and makes it easier for you and your team to spot accounting errors.
- Reevaluate equipment lifecycle. It's important to correctly estimate the length of time you can use your fixed assets for their original purpose. Because accounting and depreciation rely on accurate lifecycle estimates, reevaluate when necessary because it might change over time.
- Tag your assets. It’s essential to track and tag your assets throughout their lifecycle because many factors can affect their value. Tagging helps track your items throughout the stages of their lifecycle, and help prevent theft, eliminate misplacement, and support financial statistics.
- Automate insight with fixed asset accounting software. Automating manual activities to track your data with fixed asset accounting software make processes easier to complete. Password protection can help provide access only to the people who need it and are trained for it.

## Related information

[Setting Up Fixed Assets](fa-setup.md)  
[Fixed assets analytics overview](fa-analytics-overview.md)  
[Finance overview](finance.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Which Features are Displayed](ui-experiences.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-inventory-adjustment-value-entry-posting-date
---
title: Posting date on value entries
description: Learn how the Adjust Cost - Item Entries batch job identifies and assigns a posting date to the value entries that the batch job is about to create.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 09/17/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Posting Date on Adjustment Value Entry

This article provides guidance for users of the Inventory Costing functionality in [!INCLUDE[prod_short](includes/prod_short.md)], and in particular for how the **Adjust Cost - Item Entries** batch job identifies and assigns a posting date to the value entries that the batch job is about to create.

## How posting dates are assigned

The **Adjust Cost – Item Entries** batch job assigns a posting date to the value entry it is about to create in the following steps:  

1. Initially the Posting Date of the entry to be created is the same date as the entry it adjusts.  

2. The Posting Date is validated against Inventory Periods and/or General Ledger Setup.  

3. Assignment of Posting Date; If the initial Posting Date is not within allowed posting date range the batch job will assign an allowed Posting Date from either General Ledger Setup or Inventory Period. If both Inventory Periods and allowed posting dates in General Ledger Setup are defined, the later date of the two will be assigned to the Adjustment Value Entry.  

Let’s review this process more in practice. Assume we have an Item Ledger Entry of Sale. The item was shipped on September 5, 2020 and it was invoiced the day after.  

#### Item Ledger Entry

|Entry No.  |Item No.  |Posting Date  |Entry Type  | Document No. |Location Code  |Quantity  |Cost Amount (Actual)  |Invoiced Quantity  |Remaining Quantity  |
|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
|319     |A         |2020-09-05     |  Sale       |102033     |  Blue       | -1    |    -11     |-1     |    0     |

Below are the related value entries:

- **Entry No. 379** represents the shipment and carry the same Posting Date as the parent Item ledger Entry.  
- **Entry No. 381** represents the invoice.  
- **Entry No. 391** is an Adjustment of the invoicing Value Entry (Entry No. 381 above).  

|Entry No.  |Item No.  |Posting Date  |Item Ledger Entry Type  |Entry Type  |Document No.  |Item Ledger Entry No.  |Location Code  |Item Ledger Entry Quantity  |Invoiced Quantity  |Cost Amount (Actual)  |Cost Amount (Expected)  |Adjustment  |Applies-to Entry  |Source Code  |
|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|--------|---------|---------|---------|---------|
|379     |  A       |    2020-09-05     |    Sale     | Direct Cost   | 102033        |319     | Blue        | -1       |0         |  0       |     -10   |No   |0    |Sales          |
|381     |  A       |    2020-09-06     |    Sale     | Direct Cost   | 103022        |319     | Blue        |  0       |-1        |-10       |    10     | No  |0      |       Sales   |
|391     |  A       |    2020-09-10     |    Sale     | Direct Cost   | 103022        |319     | Blue        |  0       |0         |-1        |    0     |Yes   |    181   | INVTADJMT   |

To assign the posting date for **Entry No. 391** the following steps were applied:

1. The **Adjustment Value Entry** to be created (**Entry No. 391**) is assigned same **Posting Date** as the entry it adjusts.

2. The **Adjust Cost – Item Entries** batch job determines if the initial Posting Date of the Adjustment Value Entry is within allowed posting date range based upon Inventory Periods and/or General Ledger Setup.  

Let’s review the above mentioned Sale by adding setup of allowed posting date ranges.  
  
#### Inventory Periods

|Ending Date  |Name  |Closed  |
|---------|---------|---------|
|2020-01-31     |January 2020      |  Yes    |
|2020-02-28     |February 2020     |  Yes    |
|2020-03-31     |March 2020        |  Yes    |
|2020-04-30     |April 2020        |  Yes    |
|2020-05-31     |May   2020        |  Yes    |
|2020-06-30     |June   2020       |  Yes    |
|2020-07-31     |July  2020        |  Yes    |
|2020-08-31     |August   2020     |  Yes    |
|2020-09-30     |September   2020  |         |
|2020-10-31     |October   2020    |         |
|2020-11-30     |November   2020   |         |
|2020-12-31     |December   2020   |         |

The first allowed posting date is the first day in the first open period, which is September 1, 2020.  

#### General Ledger Setup

|Field|Value  |
|---------|---------|
|Allow Posting From:  |  2020-09-10      |
|Allow Posting To:    |  2020-09-30      |
|Register Time:       |         |
|Local Address Format:|   Post Code      |  

The first allowed posting date is the date stated in field **Allow Posting From**: September 10, 2020. If both Inventory Periods and allowed posting dates in **General Ledger Setup** are defined, the later date of the two will define the allowed posting date range.  

**Assignment of an allowed posting date**  

The initial assigned Posting Date was September 6 as illustrated in step 1. However, in the second step the Adjust Cost – Item entries batch job identifies that earliest allowed Posting Date is September 10 and thereby assigns September 10 to the Adjustment Value Entry (**Entry No. 391**), below.  


|Entry No.  |Item No.  |Posting Date  |Item Ledger Entry Type  |Entry Type  |Document No.  |Item Ledger Entry No.  |Location Code  |Item Ledger Entry Quantity  |Invoiced Quantity  |Cost Amount (Actual)  |Cost Amount (Expected)  |Adjustment  |Applies-to Entry  |Source Code  |
|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
|379     |  A       |    2020-09-05     |    Sale     | Direct Cost   | 102033        |319     | Blue        | -1       |0         |  0       |     -10   |No   |0    |Sales          |
|381     |  A       |    2020-09-06     |    Sale     | Direct Cost   | 103022        |319     | Blue        |  0       |-1        |-10       |    10     | No  |0      |       Sales   |
|391     |  A       |    **2020-09-10**     |    Sale     | Direct Cost   | 103022        |319     | Blue        |  0       |0         |-1        |    0     |Yes   |    181   | INVTADJMT   |

## Common problems with the "Adjust Cost - Item entries"-batch job

There are two scenarios that the support team encounters frequently enough for them to warrant their own problem resolution articles.

### Error message: "Posting Date is not within your range of allowed posting dates…"

If you encounter this error you need to adjust the dates for which the user is allowed to post entries. To learn more, see [Error Message "Posting Date is not within your range of allowed posting dates"](design-details-inventory-adjustment-value-entry-allowed-posting-dates.md).

### Posting Date on Adjustment Value Entry versus Posting Date on entry causing the adjustment such as Revaluation or Item charge

To learn more, see [Posting Date on Adjustment Value Entry Compared to the Source Entry](design-details-inventory-adjustment-value-entry-source-entry.md).

## Related information  

[Design Details: Inventory Costing](design-details-inventory-costing.md)  
[Design Details: Item Application](design-details-item-application.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-invoice-sales
---
title: Invoice sales
description: Learn how to create a sales invoice or sales order to record a sale to a customer.
author: brentholtorf
ms.topic: how-to
ms.search.keywords: bill, sale, invoice, order
ms.search.form: 43, 48, 9301
ms.date: 05/19/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap-template
---
# Invoice sales

You can usually create either a sales order or sales invoice to record your agreement with a customer to sell certain products on certain delivery and payment terms.  

However, you must use a sales order instead of a sales invoice if you:  

* Need to ship only part of an order quantity, for example, because the full quantity isn't on hand.  
* Ship products after you post the corresponding sales invoices.
* Sell items your vendor delivers directly to your customer, known as drop shipment. Learn more at [Make Drop Shipments](sales-how-drop-shipment.md).  

In all other situations, sales orders and sales invoices work in the same way. Learn more about how to use sales orders at [Sell Products](sales-how-sell-products.md).

You can negotiate with the customer by first creating a sales quote, which you can convert to a sales invoice when you agree on the sale. Learn more at [Make Sales Quotes](sales-how-make-offers.md).

## Create sales invoices

If the customer decides to buy, you post the sales invoice to create the related quantity and value entries. When you post the sales invoice, you can also email it as a PDF attachment. You can prefill the email body with a summary of the invoice and payment information, such as providing a link to PayPal. Learn more at [Send Documents by Email](ui-how-send-documents-email.md#to-send-documents-by-email). When the customer pays the invoice, you can register that payment in different ways, depending on the size and preferred workflows of your organization. Learn more at [Registering Payments](#register-payments) section.  

Item cards can be of the **Inventory**, **Service**, or **Non-Inventory** type to specify if the item is a physical inventory unit, a labor time unit, or a physical unit not kept on inventory, respectively. Learn more at [Register New Items](inventory-how-register-new-items.md). The sales invoice process is the same for all three item types.

You can fill customer fields on the sales invoice in one of two ways, depending on whether the customer is already registered. See step 2 in the following procedure.

### To create a sales invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, and then choose the related link.  
2. In the **Customer Name** field, enter the name of an existing customer. If, however, the customer is new and therefore not registered, follow these steps to populate standard customer information on the **Sales Invoice** page:

    1. In the **Customer Name** field, enter the name of the new customer.
    2. In the dialog box about registering the new customer, choose **OK**.
    3. On the **Select a template for a new customer** page, choose a template to base the new customer card on, then choose **OK**.
    4. A new customer card displays the information on the selected customer template. Fill in the remaining fields. Learn more at [Register New Customers](sales-how-register-new-customers.md).  
    5. When you complete the customer card, choose **Close** to return to the **Sales Invoice** page.

   Several fields on the sales invoice are now filled with information that you specified on the new customer card.  
3. Fill in the remaining fields on the **Sales Invoice** page as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!NOTE]  
    > If you allow the customer to pay immediately, for example, by cash or PayPal, then fill in the **Payment Method Code** field. The payment is then recorded as soon as you post the sales invoice. If you select *Cash*, then the payment is recorded in a specified balancing account.

    You're now ready to fill in the **Lines** FastTab with products you're selling to the customer or for any transaction with the customer you want to record in a general ledger (G/L) account.

4. On the **Lines** FastTab, in the **Type** field, select the type of product, charge, or transaction you post for the customer on the sales line.
   > [!TIP]
   > If you set up recurring sales lines for the customer, such as a monthly replenishment order, you can reflect that in the order by choosing the **Get Recurring Sales Lines** action.
5. In the **No.** field, select a record to post according to the value in the **Type** field.

    You leave the **No.** field blank in the following cases:

    * If the line is for a comment. Write the comment in the **Description** field.
    * If the line is for a catalog item. Choose the **Select Catalog Items** action. Learn more at [Work With Catalog Items](inventory-how-work-nonstock-items.md).

6. In the **Quantity** field, enter how many units of the product, charge, or transaction the line should record for the customer.  

    > [!NOTE]  
    > If the item is of the **Service** type, or the **Type** field contains **Resource**, then the quantity is a time unit, such as hours, as indicated in the **Unit of Measure Code** field on the line. Learn more at [Set Up Item Units of Measure](inventory-how-setup-units-of-measure.md)

    The value in the **Line Amount** field is calculated as *Unit Price* × *Quantity*.  

    The price and line amounts are with or without sales tax, depending on what you selected in the **Prices Including Tax** field on the customer card.  
7. If you want to give a discount, enter a percentage in the **Line Discount %** field. The value in the **Line Amount** field updates accordingly.  

    If special item prices are set up on the **Sales Prices and Sales Line Discounts** FastTab on the customer or item card, upon meeting the price criteria the price and amount on the sales line automatically update. Learn more at [Record Sales Price, Discount, and Payment Agreements](sales-how-record-sales-price-discount-payment-agreements.md).  
8. Repeat steps 4 through 7 for every product or charge that you want to invoice the customer for.

    The totals fields under the lines are automatically updated, as you create or modify lines, to display the amounts posted to the ledgers.

    > [!NOTE]
    > In rare cases, the posted amounts might differ from what displays in the totals fields. The difference is typically due to rounding calculations for VAT or sales tax.<br /><br />To verify the amounts before you post, use the **Customer Statistics** FactBox. Also, when you choose the **Release** action, the values in the totals fields update to include rounding calculations.

9. In the **Inv. Discount Amount Excl. Tax** field, enter an amount that should be deducted from the value shown in the **Total Incl. Tax** field.

    If you set up invoice discounts for the customer, then the specified percentage value is automatically inserted in the **Invoice Discount %** field if the discount criteria are met, and the related amount is inserted in the **Inv. Discount Amount Excl. Tax** field. Learn more at [Record Sales Price, Discount, and Payment Agreements](sales-how-record-sales-price-discount-payment-agreements.md).

10. When the sales invoice lines are completed, choose the **Post and Send** action.  

The **Post and Send Confirmation** dialog box displays the customer's preferred method of receiving documents. You can change the sending method by choosing the lookup button for the **Send Document to** field. Learn more at [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).

The related item and customer ledger entries are now created in your system, and the sales invoice is output as a PDF document. The sales invoice is removed from the list of sales invoices and replaced with a new document in the list of posted sales invoices.  

### Calculate invoice discounts on sales

[!INCLUDE [sales-invoice-discounts](includes/sales-invoice-discounts.md)]

## Posted invoices

[!INCLUDE [posted-invoices](includes/posted-invoices.md)]

You can easily correct or cancel a posted sales invoice before the final payment. For example, you might want to correct a typing mistake, or the customer requests a change. Learn more at [Correct or Cancel Unpaid Sales Invoices](sales-how-correct-cancel-sales-invoice.md). If the posted sales invoice is paid, you must create a sales credit memo to reverse the sale. Learn more at [Process Sales Returns or Cancellations](sales-how-process-sales-returns-cancellations.md).  

[Open the **Posted Sales Invoices** list](https://businesscentral.dynamics.com/?page=143) in [!INCLUDE [prod_short](includes/prod_short.md)].

## Register payments

Depending on your business needs, you can get paid and register a payment in different ways: manually, automatically, and through payment services.  

You can process the payments straight from the customer card. Use the **Register Customer Payments** action to get an overview of unpaid invoices for that customer. Then, mark the invoice as paid partially or in full. This payment reconciliation processes your customer payments by matching amounts received in your bank account with the related unpaid sales invoices, and then posts the payments. Learn more in the [To reconcile payments individually](receivables-how-reconcile-customer-payments-list-unpaid-sales-documents.md#to-register-customer-payments-individually) section.  

In business environments where the customer pays after delivery. According to the payment terms, a posted sales invoice remains open (unpaid) until someone verifies the payment and applies it to the posted sales invoice. You can apply payments manually or automatically. Learn more at [Reconcile Customer Payments with the Cash Receipt Journal or from Customer Ledger Entries](receivables-how-apply-sales-transactions-manually.md) and [Reconcile Payments Using Automatic Application](receivables-how-reconcile-payments-auto-application.md).  

In business environments where customers pay immediately, such as via PayPal or cash, payment is recorded immediately when you post the sales invoice. Also, the posted sales invoice is closed as fully applied. You select the relevant method in the **Payment Method Code** field on the sales order. For electronic payments, such as PayPal, you must also fill in the **Payment Service** field. Learn more at [Enable Customer Payments Through Payment Services](sales-how-enable-payment-service-extensions.md).

You can even create directly paid invoices for unregistered customers by setting up a "cash customer" card for them, which you point to on the sales invoice. Learn more at [Set Up Cash Customers](finance-how-to-set-up-cash-customers.md).  

> [!TIP]
> If you want to send your customers reminders of overdue payments, you need to first set up reminder levels and terms. Learn more at [Set Up Reminder Terms and Levels](finance-setup-reminders.md).  

## External document numbers

[!INCLUDE [ext-doc-no-sales](includes/ext-doc-no-sales.md)]

## Related information

[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Print the Picking List](sales-how-print-picking-list.md)  
[Inventory](inventory-manage-inventory.md)  
[Send Documents by Email](ui-how-send-documents-email.md#to-send-documents-by-email)  
[Collect Outstanding Balances](receivables-collect-outstanding-balances.md)  
[Bulk Invoicing from Microsoft Bookings in Business Central](finance-bookings.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/hr-how-register-employees
---
title: Register Employees and Modify Information
description: Describes how to use the Human Resources functionality to register new personnel or edit employee information for existing staff.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: personnel, people, employee, staff, HR
ms.search.form: 5200, 5201, 5204, 5206, 5208, 5209, 5211, 5221, 5228
ms.date: 06/16/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Register Employees

To use the Human Resources functionality, you must first add each employee by filling out the fields on the **Employee Card** page.

## Adding new employees

You can add new employees manually, by filling out the fields on the **Employee Card** page, or you can use templates that contain predefined information. For example, you can create a templates for different types of employee profiles. Using templates saves time when adding new employees, and helps ensure that the information is correct each time. If you create templates for more than one type of employee, you can choose the template to use when you add an employee. If you create only one template it will be used for all new employees. After you create a template, you can use the **Apply Template** action to apply it to one or more selected employees. To create a template, you fill in the information that you want to reuse on the Employee Card page, and then save it as a template.

> [!TIP]
> It can be helpful to personalize the **Employee Template** page when you create a template. For example, you might want to add a field that is not already displayed on the page. For more information, see [Personalize Your Workspace](ui-personalization-user.md#start-personalizing-by-using-the-personalization-mode).

You can modify an employee's details at any time. Keeping employee records up-to-date can simplify personnel-related tasks. For example, if an employee's address changes, you register this on the Employee Card page.

> [!NOTE]  
> You can reimburse employees for their expenses during business activities. For this purpose, you must fill in the fields on the **Payments** FastTab on the **Employee Card** page. For more information, see [Record and Reimburse Employees' Expenses](finance-how-record-reimburse-employee-expenses.md).

## To set up an employee

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Employees**, and then choose the related link.
2. Choose the **New** action.
3. On the **Employee Card** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## To insert a picture of an employee

If you have a picture of an employee, you can insert it on the employee card.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Employees**, and then choose the related link.
2. Open the card for the relevant employee.
3. In the **Employee Picture** FactBox, choose the drop-down button, and then choose **Import**.
4. On the **Select a picture to upload** page, then do one of the following steps to upload the picture file:

   [!INCLUDE[file-upload](includes/file-upload.md)]

The picture is inserted in the **Employee Picture** FactBox.

## To register various information about an employee

On the employee card, you can set up information, such as union membership, relatives, and contracts for the employee. The following describes how to set up an alternate address. The steps are similar for all other information that you can set up from an employee card.

You can use alternate addresses to keep track of your employees’ location, for example if they are stationed abroad, on a long business trip, or residing at a summer residence.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Employees**, and then choose the related link.
2. Open the card for the relevant employee.
3. Choose the **Alternate Addresses** action.
4. **In the Alternate Address List** page, fill in the fields as necessary.
5. Repeat step 4 for each alternate address.

## Related information

[Record and Reimburse Employees' Expenses](finance-how-record-reimburse-employee-expenses.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Which Features are Displayed](ui-experiences.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-process-sales-returns-cancellations
---
title: Process sales returns or cancellations
description: Describes how to create a sales credit memo to process a return, cancellation, or reimbursement for items or services you have received payment for.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: undo, credit memo, return
ms.search.form: 44, 134, 143, 6629, 6630, 6633, 6662, 9302, 9304, Report_6646
ms.date: 02/26/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Process sales returns or cancellations

If a customer wants to return items or be reimbursed for items or services that you have sold and received payment for, you must create and post a sales credit memo that specifies the requested change. To include the correct sales invoice information, you can do the following tasks:  

- Create the sales credit memo directly from the posted sales invoice.
- Create a new sales credit memo with copied invoice information.

If you need more control of the sales return process, such as warehouse documents for the item handling, or a better overview when receiving items from multiple sales documents with one sales return, then you can create sales return orders. A sales return order automatically issues the related sales credit memo and other return-related documents, such as a replacement sales order, if needed. For more information, see [Process sales return orders](sales-how-process-sales-returns-orders.md).

> [!NOTE]  
> If a posted sales invoice has not yet been paid, then you can use the **Correct** or **Cancel** functions on the posted sales invoice to reverse transactions. These functions only work for unpaid invoices, and they do not support partial returns or cancellations. For more information, see [Correct or Cancel Unpaid Sales Invoices](sales-how-correct-cancel-sales-invoice.md).

A return or reimbursement might relate to only some of the items or services on the original sales invoice. In that case, you must edit information on the lines on the sales credit memo or sales return order. When you post the sales credit memo or sales return order, the sales documents that are affected by the change are reversed and a refund payment can be created for the customer. For more information, see [Making Payments](payables-make-payments.md).  

The credit memo posting will also revert any item charges that were assigned to the posted document, so that the item's value entries are the same as before the item charge was assigned.

> [!NOTE]
> The bookkeeping aspects of sales returns, such as the payments to customers as reimbursement, is considered bookkeeping work and not described here. For more information, see [Managing Payables](payables-manage-payables.md).

## To create a sales credit memo from a posted sales invoice  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Invoices**, and then choose the related link.  
2. On the **Posted Sales Invoices** page, select the posted sales invoice that you want to reverse, choose the **Cancel** action, and then choose the **Create Corrective Credit Memo** action.

    The sales credit memo header contains some information from the posted sales invoice. You can edit this, for example, with new information that reflects the return agreement.  
3. Edit information on the lines according to the agreement, such as the number of returned items or the amount to reimburse.
4. Choose the **Prepare** action, and then choose the **Apply Entries** action.
5. On the **Apply Customer Entries** page, select the line with the posted sales document that you want to apply the sales credit memo to, and then choose the **Applies-to ID** action.

    The identifier of the sales credit memo displays in the **Applies-to ID** field.
6. In the **Amount to Apply** field, enter the amount that you want to apply if it's smaller than the original amount.  

    At the bottom of the **Apply Customer Entries** page, you can see the total amount to apply to reverse all involved entries, namely when the value in the **Balance** field is zero.
7. Choose the **OK** button. When you post the sales credit memo, it is applied to the posted sales documents.

    After you create or edit sales credit memo lines, and the single or multiple applications are specified, you can post the sales credit memo.  
8. Choose the **Posting** action, then choose the **Post and Send** action.  

The **Post and Send Confirmation** dialog box opens showing the preferred sending method for the customer. You can change the sending method by choosing the lookup button for the **Send Document** to field. For more information, see [Set Up Document Sending Profiles](sales-how-setup-document-send-profiles.md).  

The posted sales documents that you applied the credit memo to are now reversed, and a refund payment can be created for the customer. The sales credit memo is removed and replaced with a new document in the list of posted sales credit memos.

## To create a sales credit memo by copying a posted sales invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Credit Memos**, and then choose the related link.
2. Choose the **New** action to open a new empty sales credit memo.
3. In the **Customer Name** field, enter the name of an existing customer.
4. Choose the **Prepare** action, then choose the **Copy Document** action.
5. On the **Copy Sales Document** page, in the **Document Type** field, select **Posted Invoice**.
6. Choose the **Document No.** field to open the **Posted Sales Invoices** page, and then select the posted sales invoice record that contains lines that you want to reverse.
7. Select the **Recalculate Lines** check box if you want the copied posted sales invoice lines to be updated with any changes in item price and unit cost since the invoice was posted.
8. Choose the **OK** button. The copied invoice lines are inserted in the sales credit memo.
9. Complete the sales credit memo as explained in [To create a sales credit memo from a posted sales invoice](sales-how-process-sales-returns-cancellations.md#to-create-a-sales-credit-memo-from-a-posted-sales-invoice).

## To create a sales allowance
You can send a customer a credit memo with a price reduction if the customer has received slightly damaged items or received the items late.  
You can post this reduced price as an item charge in a credit memo or a return order and assign it to the posted shipment. The following describes it for a sales credit memo, but the same steps apply to a sales return order.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Credit Memos**, and then choose the related link.
2. Choose the **New** action to open a new empty sales credit memo.
3. Fill in the credit memo header with relevant information about the customer that you want to give the sales allowance to.  
4. On the **Lines** FastTab, in the **Type** field, select **Charge (Item)**.  
5. In the **No.** field, select the appropriate item charge value.  
     You might want to create a special item charge number to cover sales allowances.  
6. In the **Quantity** field, enter **1**.  
7. In the **Unit Price Excl. Tax** field, enter the amount of the sales allowance.  
8. Assign the sales allowance as an item charge to the items in the posted shipment. For more information, see [Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md). When you have assigned the allowance, return to the **Sales Credit Memo** page.  

When you post the sales return order, the sales allowance is added to the relevant sales entry amount. In this way, you can maintain accurate inventory valuation.

## To combine return receipts
You can combine return receipts if your customer returns several items that are covered by different sales return orders.  

When you receive the items into your warehouse, post the relevant sales return orders as received. This creates posted return receipts.  

When you're ready to invoice this customer, instead of invoicing each sales return order separately, you can create a sales credit memo and automatically copy the posted return receipt lines to this document. Then you can post the sales credit memo and conveniently invoice all the open sales return orders at once.  

To combine return receipts, the **Combine Shipments** check box must be selected on the **Customer Card** page.  

### To manually combine return receipts  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Credit Memos**, and then choose the related link.  
2. Choose the **New** action.
3. On the **General** FastTab, fill in the fields as necessary.  
4. Choose the **Get Return Receipt Lines** action.  
5. Select the return receipt lines that you want to include in the credit memo:  

    - To insert all lines, select all lines, and then choose the **OK** button.  

    - To insert specific lines, select the lines, and then choose the **OK** button.  
6.  If an incorrect shipment line was selected or you want to start over, you can simply delete the lines on the credit memo and rerun the **Get Return Receipt Lines** function.  
7.  Post the invoice.  

### To automatically combine return receipts

You can automatically combine return receipts and have the option of automatically posting the credit memos using the  **Combine Return Receipts** function.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Combine Return Receipts**, and then choose the related link.
2. On the **Combine Return Receipts** page, fill in the fields to select the relevant return receipts.
3. Select the **Post Credit Memos** check box. If not, you must manually post the resulting purchase credit memos.
4. Choose the **OK** button.  

### To remove a received and invoiced return order

When you invoice return receipts in this way, the return orders from which the return receipts were posted still exist, even if they have been fully received and invoiced.  

When return receipts are combined on a credit memo and posted, a posted sales credit memo is created for the credited lines. The **Quantity Invoiced** field on the originating sales return order is updated based on the invoiced quantity.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Delete Invoiced Sales Return Orders**, and then choose the related link.  
2. Specify in the **No.** filter field which return orders to delete.  
3. Choose the **OK** button.  

Alternatively, delete individual sales return orders manually.  

## Inventory costing

To preserve correct inventory valuation, you typically want to put returned items back in inventory at the unit cost that they were sold at, not at their current unit cost. This is referred to as exact cost reversing.

Two functions exist to assign exact cost reversing automatically:  

|Function|Description|  
|------------------|---------------------------------------|  
|**Get Posted Document Lines to Reverse** function on the **Sales Return Order** page|Copies lines of one or more posted documents to be reversed into the sales return order. For more information, see [Create a sales return order based on one or more posted sales documents](sales-how-process-sales-returns-orders.md#create-a-sales-return-order-based-on-one-or-more-posted-sales-documents).|  
|**Copy Document** function in the **Sales Credit Memo** and **Sales Return Order** pages|Copies both the header and lines of one posted document to be reversed.<br /><br /> Requires that the **Exact Cost Reversing Mandatory** check box is selected on the **Sales & Receivables Setup** page.|

To assign exact cost reversing manually, you must choose the **Appl.-from Item Entry** field on any type of return document line, and then select the number of the original sales entry. This links the sales credit memo or sales return order to the original sales entry and ensures that the item is valued at the original unit cost.

For more information, see [Design Details: Inventory Costing](design-details-inventory-costing.md).

## Related information

[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Managing Payables](payables-manage-payables.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-bookmarks
---
title: Bookmark link to page or report on role center
description: Using the bookmark icon, you can add an action that opens a page or report from the navigation menu of your role center.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.search.form: 
ms.date: 07/25/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Bookmark a page or report on your role center

Using the bookmark icon, you can add an action that opens a page or report from the navigation menu of your role center. Bookmarks allow you to quickly reach your favorite content or business tasks. You add the bookmark from the target page or report, meaning the screen that you want the link on the role center to open.

The bookmark icon is shown in the top-right corner of a page and also in the **Tell Me** window where you can efficiently bookmark multiple pages or reports. If a bookmark already exists for the page, then the icon is dark, and the tooltip says "Bookmarked".

## Bookmark the target page

1. Open any page that you want a link for on your role center.
2. Choose the ![Bookmark.](media/ui_bookmark_icon.png "Bookmark") icon.

An action named after the page is now added to the navigation menu on your role center.

## Bookmark the target report

1. Open any report request page that you want a link for on your role center.
2. Choose the ![Bookmark.](media/ui_bookmark_icon.png "Bookmark") icon.

An action named after the report is now added to the navigation menu on your role center.

## Bookmark a page or report from the Tell Me window

1. Open the **Tell Me** window and enter, for example, **Sales Orders**.
2. Hover over the search result for the **Sales Orders** page or report, and then choose the ![Bookmark.](media/ui_bookmark_icon.png "Bookmark") icon.

An action named after the page or report is now added to the navigation menu on your role center.

## Frequently asked questions  

### Can I reorganize my bookmarks?

Yes. You can personalize your role center and move actions into a more optimal sequence or move them into existing groups or subgroups.  
Learn how to [Personalize Your Workspace](ui-personalization-user.md).

### How do I remove a bookmark?

On the target page or report, choose the bookmark icon again to remove the involved action from your role center. You can also personalize your role center and temporarily hide actions without fully removing them.

### Where do I find my bookmarks?

When adding a bookmark to a page or report, the new action is added to the top navigation menu on your current home screen (role center). If you happen to have many actions, you may need to activate the **More** button to display all of them because the new action is always appended at the end of those actions.
<!-- Should we add a screenshot here? -->

### I don't have a bookmark icon. Is something wrong?

The ability to bookmark a page or report is one of many user personalization features in Business Central. If the bookmark icon isn't displayed, it's likely that your administrator has disabled personalization.

### Why can't I bookmark certain pages or reports?

Not all pages and reports can be bookmarked. When a page or report is run within some special context governed by the business application, the bookmark icon isn't displayed. For example, pages that cannot be found in the **Tell Me** window but are launched from elsewhere will not display a bookmark icon. Similarly, report request pages that are only used to collect filters without running the report will not display a bookmark icon.

  See technical details about [RunRequestPage](/dynamics365/business-central/dev-itpro/developer/methods-auto/report/reportinstance-runrequestpage-method) and [FilterPageBuilder](/dynamics365/business-central/dev-itpro/developer/methods-auto/filterpagebuilder/filterpagebuilder-data-type).

### When clearing my personalization, will my bookmarks also be cleared?

Yes. Bookmarks reside in the navigation menu. If you clear changes to the navigation menu from any page, or clear all personalization on the role center, all your new actions will be permanently removed.

### Why does the bookmark icon continue to indicate it's still not bookmarked?

When you add a bookmark, the new action is added to the navigation menu on the role center and subsequent visits to the page or report show a dark bookmark icon. If you personalize your role center and reorganize your actions by moving them into groups, the bookmark icon will no longer be dark and you can add another bookmark to that same page or report. This allows you to add multiple actions to the same page or report and categorize them into different groups.

### Why does my link to a report display a different report?

Some reports may be substituted by other reports after applying an extension to Business Central. When substitution occurs, the text of the new action isn't updated and will continue to display the name of the original report, but navigate to the newer report. To correct the text of the new action, you can remove the new action and add it again.
<!-- For more information on report substitution, see this link UNAVAILABLE AT THIS TIME -->

### Is bookmarking available for XMLports?

No. At this time, adding actions to open XMLports isn't possible from the user interface.

### Will my bookmarks be translated when I change my language in Business Central?

When you add a new action, any translated text that was available at the time is used when bookmarking. If new translated text is added later, then the new action will not include the newer translations.

### Why can't I add text in a page right after opening it with the bookmark?

When a page is bookmarked, the page will always open in the view mode from the bookmark&mdash;even if it was in the edit mode when it was bookmarked. Selecting the **Make changes on the page** icon ![Shows the pencil icon for editing the page.](media/edit-pencil.png) will let you add text in the fields that are editable.

## Related information

[Personalize your workspace](ui-personalization-user.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change basic settings](ui-change-basic-settings.md)  
[Change which features are displayed](ui-experiences.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-report-intrastat
---
title: Work with Intrastat reporting
description: Learn how to report trade with companies in other EU countries/regions using the Intrastat system.
author: altotovi
ms.topic: how-to
ms.devlang: al
ms.search.keywords: electronic document, Intrastat, trade, EU, European Union
ms.search.form: 308, 309, 310, 311, 325, 326, 327, 328, 405, 406, 4810, 4811, 8451, 12202, 31077
ms.date: 08/26/2024
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Work with Intrastat reporting

All companies in the European Union (EU) must report their trade with other EU countries/regions. You must report the movement of goods to the statistics authorities in your country/region every month, and the report must be delivered to the tax authorities. Intrastat is the system for collecting trade statistics of goods within these countries/regions. You use **Intrastat Report** to complete periodic Intrastat reporting (typically monthly), collecting, recording, and reporting trade of goods as per local government legislation.

Intrastat reporting is based on basic EU regulations that apply to all countries/regions; however, in practice, there are some differences within the individual countries/regions. Each country/region has its rules of what exactly and how to report.

> [!IMPORTANT]  
> This article describes the new Intrastat experience available in [!INCLUDE[prod_short](includes/prod_short.md)] starting in the 2022 release wave 2, which includes extended features, but if you didn't upgrade your solution, read the previous version's Intrastat setup and usage article at [Set Up and Report Intrastat](finance-how-setup-report-intrastat-v20.md).

> [!NOTE]  
> Intrastat information doesn't apply to the movement of services between countries/regions, but only goods (Items and Fixed Assets). If the local government requires registering  the movement of services between countries/regions, it can be done using the **Service Declaration** feature.
>
> This features is available as an app at [AppSource](https://go.microsoft.com/fwlink/?linkid=2081646). At that time, to use it, you must first install it on the **Extension Management** page. Learn more about this functionality [here](finance-how-setup-use-service-declaration.md).  

## Fill in the Intrastat report

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat Report List**, and choose the related link.
2. Choose **New** action to create a new **Intrastat Report**.
3. If you need to enter some internal information about the **Intrastat Report**, fill in this information in the **Description** field.
4. In the **Statistic Period** field, specify the month to report data for. Enter the period as a four-digit number with no spaces or symbols. Depending on your country/region, enter either the month first and then the year, or vice versa. For example, enter either *2206* or *0622* for June 2022.
5. Choose the **Suggest Lines** action. The **Starting Date** and **Ending Date** fields will already contain the dates specified for the statistics period on the Intrastat report header.
6. In the **Cost Regulation %** field, you can enter a percentage to cover transport and insurance. If you enter a percentage, the content of the **Statistical Value** field in the journal is proportionally higher. But if you want to use this feature, you must switch the **Amount incl. Item Charges** field to **Yes**.
7. You can eventually set up extra configurations on the **Additional** FastTab:
   1. **Skip Recalculation for Zero Amounts** to specify that lines without amounts won't be recalculated during the batch job.
   2. **Skip Zero Amounts** to specify that item ledger entries without amounts won't be included in the batch job.
   3. **Skip Non-Invoiced Entries** to specify if item ledger entries that are shipped or received but not yet invoiced must be excluded from the process.
8. Choose **OK** to start the batch job.

The batch job retrieves all the item entries in the statistics period and inserts them as lines in the **Intrastat Report** lines. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## Modify the Intrastat report

If needed, you can modify the lines, but whenever you change a value in the Intrastat report line, the **Correction** field will be automatically marked as **Yes**. Eventually, you can add a new line manually if there's a reason for that. To add a new line manually:

1. On the **Intrastat Report** page, choose the **New Line** action in the **Lines** FastTab.
2. Choose the **Receipt** or **Shipment** option in the **Type** field.
3. In the **Source Type** field, choose one of the sources: **Item Entry**, **FA Entry**, or **Job Entry**.
4. Based on the **Source Type** in the **Item No.** field, you can choose an **Item** (in both cases, **Item Entry** or **Job Entry**) or **Fixed Assets**.
5. Fill in other fields as you need for the Intrastat reporting.

> [!NOTE]  
> When you manually add a new line to the Intrastat report, the **Date** field in the line must be inside the **Statistic Period** range you added on the header.

## Validate Intrastat lines

After you fill in the **Intrastat Report**, you can run the **Checklist Report** action to ensure that all information in the **Intrastat Report** is correct. Mandatory fields you have set on Intrastat Report Checklist page that is missing values will be shown in **Errors and warning** FactBox on the **Intrastat Report** page.

Run the **Intrastat Report Checklist** report to check Intrastat lines before they're exported to the required format. The check is run inside the **Intrastat Report**.

## Recalculate weight or supplementary unit of measure

If you got the error message *'Total Weight' in Intrastat Report Line must not be blank*, it's probably because you didn't set the **Net Weight** field on the used source, item, or fixed asset. In this case, search for the item or fixed asset card and add the required value. After that, you just need to reopen the **Intrastat Report** and follow these steps:

1. Choose the **Recalc. Weight/Suppl. UOM** action to recalculate the **Total Weight** and/or **Supplementary Quantity**.
2. Choose one of the options:

    1. **Weight** – to recalculate only the **Total Weight**, based on the current information about **Net Weight** on the item and fixed asset cards.
    2. **Supplemental UOM Qty** – to recalculate only the **Supplementary Quantity** on the **Intrastat Report** line if it exists, based on the current information about **Supplementary UOM** on the item and fixed asset cards.
    3. **Both** – to recalculate both **Total Weight** and **Supplementary Quantity**, based on the current information on the item and fixed asset cards.
3. Choose **OK** to start the batch job.

## Report Intrastat in a file

You can submit the Intrastat report as a file based on different local authorities' requirements. Before creating the file, you should run the **Checklist Report** to check if all lines contain all necessary and valid information. To create a file:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Intrastat List**, then choose the related link.
2. Choose **Intrastat Report** you want to report as a file.
3. If you haven't already done this, fill in the **Intrastat Report** manually or choose the **Suggest Lines** action.
4. Choose the **Create File** action.
5. The Intrastat file will be saved in the required format.

Once you create the file, [!INCLUDE[prod_short](includes/prod_short.md)] will automatically fill in the following details about reporting:

* The **Export Date** to specify the date when the report has been exported.
* The **Export Time** to specify the time when the report has been exported.

> [!NOTE]  
> Next time you create a file, the **Export Date** and **Export Time** fields will only keep information about the last file you created.

## Intrastat rules

### Grouping lines

In **Intrastat Report** lines, there's no grouping by any fields. All entries are copied from the original source, so you can quickly locate them based on the combination of **Source Type** and **Source Entry No**.

Grouping required by authorities will be provided in the exported file. You need to configure this in the **Data Exchange Definition**, which is fully configurable. Learn more at [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).

### Fixed assets reporting

Fixed assets will be shown in the Intrastat lines only if:

* The **FA Posting Type** in the **FA Ledger Entry** field is **Acquisition Cost** and if the **Document Type** is **Invoice** in the case of purchases, and
* The **FA Posting Type** in the **FA Ledger Entry** field is **Proceeds on Disposal** and if the **Document Type** is **Invoice** in the case of sales.

### Intrastat report statuses

When you work with the **Intrastat Report** you'll see a **Status** field on the document header. You can find the following statuses together with related rules:

* **Open**: This status is created automatically when you create a new Intrastat report and you can make all operations in this status.
* **Released**: [!INCLUDE[prod_short](includes/prod_short.md)] automatically changes the status to *Released* when you create a file. From that moment, you can't modify your **Intrastat Report**. If you need to change something and report again, you can use the **Reopen** action to reopen the Intrastat report. Once the document is reopened, you can use the **Release** action to release the document again.
* **Reported**: Specifies whether the entry has already been reported to the tax authorities. This isn't a regular status but an independent field, and even if you reopened the Intrastat report, it would still show that the file is already created for this report.

### Locations in Intrastat reporting 

[!INCLUDE[prod_short](includes/prod_short.md)] always uses the information in the **Country/Region Code** field on the **Location Card** page as the country for **send from** or for **receive to** goods. When this information doesn't exist or location wasn't used, the system uses the information from the **Company Information** page.   

> [!NOTE]  
> If the company operates from more than one country, Intrastat reporting desn't work for all countries where locations are configured. Reporting is based only for the main country, as it's not currently possible to use multi-country reporting.  

### Triangular trade in Intrastat

Triangular trade involves trade between three countries or regions where goods bypass the reporting company's country. In Business Central, this can be facilitated through the [Drop Shipment](sales-how-drop-shipment.md) functionality. To enable this option, activate the **Include Drop Shipment** field in the **Intrastat Report Setup**.  

When you enable this option, the system uses the following rules, but only if you have the **Drop Shipment** marked in the **Sales Order**: 

| Receiving from | Delivering to | Expected Intrastat Result |
|----------|------------|----------------------|
| Country as in the **Company Information** | Country as in the **Company Information** | No Intrastat lines |  
| Country as in the **Company Information** | EU country different from the country in the **Company Information** | Intrastat shipping line | 
| Country as in the **Company Information** | Non-EU country | No Intrastat lines |   
| EU country different from the country in the **Company Information** | Country as in the **Company Information** | Intrastat receiving line | 
| EU country different from the country in the **Company Information** | EU country different from the country in the **Company Information** | No Intrastat lines |
| EU country different from the country in the **Company Information** | Non-EU country | No Intrastat lines | 
| Non-EU country | Country as in the **Company Information** | No Intrastat lines |  
| Non-EU country | EU country different from the country in the **Company Information** | No Intrastat lines |
| Non-EU country | Non-EU country | No Intrastat lines |   

## Related information

[Set Up Intrastat Reporting](finance-how-setup-report-intrastat.md)    
[Financial Management](finance.md)    
[Drop Shipment](sales-how-drop-shipment.md)    
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-how-maintain
---
title: Maintain fixed assets
description: Record repairs and service on a fixed asset to preserve its value.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: repair, service
ms.search.form: 5642, 5625
ms.date: 11/11/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Maintain fixed assets

Maintenance costs are operating expenses for the things you do to preserve the condition of your fixed assets. Unlike capital improvements, maintenance doesn't increase the value of your assets.

Each time you send a fixed asset for service, you record information such as the service date, the vendor who did the work, and the service agent's phone number. You enter maintenance information on several pages:

* Fixed Asset Card
* Purchase Order
* Purchase Invoice
* Fixed Asset G/L Journal

Indexation is used to adjust values for general price-level changes. Use the **Index Fixed Assets** action to recalculate maintenance costs.

## Record a maintenance cost directly on a fixed asset

Every time you do maintenance for an asset, such as a service visit, you can record it on the **Maintenance Registrations** page.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.  
2. Select the fixed asset that you want to record maintenance for, and then choose the **Maintenance Registration** action.
3. On the **Maintenance Registration** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

## Post maintenance costs from a fixed asset G/L journal

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Book List**, and then choose the related link.  
2. Select the depreciation book that is assigned to the fixed asset, and then choose the **Edit** action.
3. On the **Depreciation Book Card** page, make sure the **Maintenance** checkbox isn't selected so that you don't post maintenance costs to the general ledger.
4. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **FA G/L Journals**, and then choose the related link.  
5. Create an initial journal line and fill in the fields as necessary.
6. In the **FA Posting Type** field, select **Maintenance**.
7. Choose the **Insert FA Bal. Account** action. A second journal line is created for the balancing account that is set up for maintenance posting.

    > [!NOTE]  
    > Step 7 only works if you set up the following: On the **FA Posting Group Card** page for the posting group of the fixed asset, the **Maintenance Account** field contains the general ledger debit account and the **Maintenance Bal. Account** field contains the general ledger account to which you want to post balancing entries for appreciation. For more information, see [To set up fixed asset posting groups](fa-how-setup-general.md#to-set-up-fixed-asset-posting-groups).
8. Choose the **Post** action.

## Record maintenance cost from a purchase invoice

The following steps describe how to record maintenance costs for a fixed asset from a purchase invoice. The steps are similar for purchase orders.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoice**, and then choose the related link.
2. On the **General** FastTab, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
3. On the **Lines** FastTab, in the **Type** field, choose **Fixed Asset**.
4. In the **No.** field, choose the asset, and then specify the quantity and cost.
5. In the **FA Posting Type** field, choose **Maintenance**.
6. Post the purchase invoice.

## Follow up on service visits

You can print the **Maintenance - Next Service** report to list the assets that are scheduled for service. You can also use this report when you want to update the **Next Service Date** field on fixed asset cards.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Maintenance Next Service**, and then choose the related link.  
2. Fill in the **Starting Date** and **Ending Date** fields.  
3. Choose the **Print** or **Preview** button.


## Monitor maintenance costs

[!INCLUDE[prod_short](includes/prod_short.md)] provides dedicated reports and statistics pages for use in analyzing fixed assets maintenance.  

To learn more about the built-in reports for fixed asset maintenance, go to [Fixed assets maintenance reports](fa-reports.md#fixed-assets-maintenance-reports).

### Overview of maintenance costs

You can view statistics to monitor maintenance costs.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.
2. Select the fixed asset you want to view maintenance costs for, and then choose the **Depreciation Books** action.
3. On the **FA Depreciation Books** page, select the relevant fixed asset depreciation book, and then choose the **Statistics** action.
4. On the **Fixed Asset Statistics** page, choose the **Maintenance** field.

Use the **Maintenance Ledger Entries** page to view the entries that make up the amount in the **Maintenance** field.

### View or print maintenance costs for multiple fixed assets

In the **Maintenance - Analysis** report, you can select to examine maintenance based on one, two, or three maintenance codes for a specific date or period. The report can show the total for all selected assets, or a total for each asset.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Maintenance Analysis**, and then choose the related link.
2. Fill in the fields as necessary.
3. Choose the **Print** or **Preview** button.

To learn more, go to [Maintenance - Analysis](reports/report-5630.md).

## View maintenance ledger entries

You can also explore maintenance costs by viewing the maintenance ledger entries.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.
2. Select the fixed asset that you want to view ledger entries for, and then choose the **Depreciation Books** action.
3. On the **FA Depreciation Books** page, select the relevant fixed asset depreciation book, and then choose the **Maintenance Ledger Entries** action.

## View or print maintenance ledger entries for multiple fixed assets

In the **Maintenance - Details** report, you can view or print maintenance ledger entries for one or many fixed assets.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Maintenance Details**, and then choose the related link.
2. Fill in the fields as necessary.
3. Choose the **Print** or **Preview** button.

## Related information

[Maintenance - Analysis](reports/report-5630.md)  
[Fixed assets maintenance reports](fa-reports.md#fixed-assets-maintenance-reports)  
[Fixed Assets](fa-manage.md)  
[Setting Up Fixed Assets](fa-setup.md)  
[Finance](finance.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchases-powerbi-moving-averages
---
title: Moving Averages (Power BI Report)
description: The Moving Averages report provides a comprehensive overview of your organization's average purchase over a 30-day period.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37012_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---
# Moving Averages (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Moving Averages** report provides a comprehensive overview of your average purchases over a 30-day period. This report focuses on the purchase amount and compares the current purchase amount to a 30-day average. The comparison lets you quickly identify deviations from the norm. Use this information to address issues and ensure that purchasing activities align with business operations and profitability.

:::image type="content" source="media/purchases/purchases-moving-averages.png" alt-text="Screenshot of the Moving Averages Power BI report" lightbox="media/purchases/purchases-moving-averages.png":::

## Use the report

The report helps management teams find key trends and make changes based on average purchase metrics.

CEOs need to track the moving average of purchase amounts over a specific period. Use this report to see performance trends and get help to make short term strategic decisions based on the trends.

Purchasing managers want to know which periods have a higher demand than others to plan purchasing schedules and budget accordingly. Use the report to analyze historical data and forecast upcoming trends so you can optimize inventory levels and reduce stock-outs.

For example, you might notice that purchasing demands are often higher towards the end of the year. You can work with your team to plan ahead and allocate staff to handle workload spikes.


## Key Performance Indicators (KPIs)

The *Moving Averages* report includes the following KPIs and measures: 

- [**Purchase Amount**](purchases-powerbi-kpis.md#purchase-amount)
- [**Purchase Amount Average 30D**](purchases-powerbi-kpis.md#purchase-amount-avg-30d-fiscal)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Value Entry
- Purchase Line

## Try the report

Try the report here: [Moving Averages](https://businesscentral.dynamics.com?page=37012)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Purchasing app](purchases-powerbi-app.md)  
[Ad hoc analysis of purchasing data](ad-hoc-analysis-purchasing.md)  
[Built-in purchasing reports](purchase-reports.md)  
[Purchasing analytics overview](purchasing-analytics-overview.md)  
[Purchasing overview](purchasing-manage-purchasing.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-how-setup-maintenance
---
title: Set Up FA Maintenance
description: To manage fixed asset repairs and service, you specify general maintenance information, codes for the type of work, and a posting account for costs.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: repair, service
ms.search.form: 5600, 5642
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up Fixed Asset Maintenance
To manage fixed asset maintenance, you must first set up some general maintenance information, a posting account for maintenance costs, and maintenance codes for types of work, such as Routine Service or Repair.

## To set up general maintenance information
If you set up the fields for maintenance, you can post maintenance expenses from the fixed asset journal.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.
2. Select the fixed asset that you to define insurance coverage for, and then choose the **Edit** action.
3. On the **Maintenance** FastTab, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

## To set up maintenance codes
When you post maintenance costs from a general journal, you fill in the **Maintenance Code** field to record what kind of maintenance has been performed, such as routine service or repair.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Maintenance**, and then choose the related link.
2. On the **Maintenance** page, set up codes for different types of maintenance work.

## To set up maintenance expense accounts
To post maintenance costs, you must first enter an account number on the **FA Posting Groups** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **FA Posting Groups**, and then choose the related link.
2. Fill in the **Maintenance Expense Account** field for each posting group.

> [!NOTE]  
>   To define that maintenance costs are allocated to departments or projects, set up an allocation keys. For more information, see [Set Up General Fixed Assets Features](fa-how-setup-general.md).

## Related information
[Setting Up Fixed Assets](fa-setup.md)  
[Fixed Assets](fa-manage.md)  
[Finance](finance.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-how-setup-depreciation
---
title: Set Up FA Depreciation
description: There are various methods of depreciation. In Business Central you define an asset's depreciation method on the **Fixed Asset Card** page.
author: brentholtorf


ms.topic: how-to
ms.search.keywords: write down
ms.search.form: 5611_Primary, 
ms.date: 06/28/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Set Up Fixed Asset Depreciation

You can use various methods of depreciation for preparing financial statements and income tax returns. Many large corporations use straight-line depreciation in their financial statements because this generally permits reporting higher earnings. For income tax purposes, however, many businesses use an accelerated depreciation method, such as declining-balance depreciation. You define an asset's depreciation method with the **Depreciation Method** field on the **Fixed Asset Card** page. For more information about what the different methods do, see [Depreciation Methods](fa-depreciation-methods.md).

You set up depreciation books where you define the different ways depreciation must be calculated for different types of fixed assets. Each depreciation book specifies individual depreciation terms. For example, you can specify that a fixed asset should be depreciated over a period of three years in one book and over a period of five years in another book.

When you have created the relevant depreciation books, you must assign one or more depreciation books to each fixed asset. A depreciation book that is assigned to a fixed asset is referred to as a fixed asset depreciation book. You can set up an unlimited number of depreciation books for a fixed asset.  

## To create a depreciation book

In a fixed asset depreciation book, you specify how fixed assets are depreciated. To accommodate various methods of depreciation, you can set up multiple depreciation books.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Books**, and then choose the related link.
2. On the **Depreciation Books List** page, choose the **New** action.
3. On the **Depreciation Book Card** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!NOTE]  
    > You can record fixed asset transactions on the **Fixed Asset G/L Journal** page or on the **Fixed Asset Journal** page, depending on whether the transactions are for financial reporting or for internal management. Follow the next step to define which type of journal is used for the different fixed asset activities by default.
4. On the **Integration** FastTab, select the check box for each fixed asset activity whose transactions you want to post using the **Fixed Asset G/L Journal** page.
5. Repeat steps 2 through 4 for each depreciation method or posting method that you want to assign to fixed assets as a depreciation book.

> [!IMPORTANT]
> Choose the **Use Rounding in Periodic Depr.** field to round the calculated periodic depreciation amounts to whole numbers. For example, if your company also uses invoice rounding to whole numbers in the **General Ledger Setup** page, rounding also depreciation amounts to whole numbers can help provide transparency.

For example, if you dispose of a fixed asset where the depreciation book does not specify rounding, but your company's general ledger setup requires rounding, then, when you dispose of the fixed asset, you will see an error message that an amount must be rounded on a ledger entry.  

## To assign a depreciation book to a fixed asset

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.
2. Select the fixed asset that you want to set up a fixed asset depreciation book for.
3. On the **Depreciation Book** FastTab, fill in the fields as necessary.
4. If you need to assign more than one depreciation book to the fixed asset, choose the **Add More Depreciation Books** action.
5. Alternatively, choose the **Depreciation Books** action to specify one or more fixed asset depreciation books.

    > [!NOTE]  
    >   When you use the manual depreciation method, you must enter depreciation manually in the fixed asset G/L journal. The **Calculate Depreciation** function omits fixed assets that use the manual depreciation method. You can use this method for assets that are not subject to depreciation, such as land.

    > [!NOTE]  
    > When you use the user-defined depreciation method, you need to assign the depreciation book in a different way. For more information, see [Set Up User-Defined Depreciation Method](fa-how-setup-user-defined-depreciation-method.md).

## To assign a depreciation book to multiple fixed assets with a batch job

If you want to assign a depreciation book to several fixed assets, you can use the **Create FA Depreciation Books** batch job to create fixed asset depreciation books.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Assets**, and then choose the related link.
2. Select the fixed asset that you want to set up a assign a depreciation book to, and then choose the **Edit** action.
3. On the **Depreciation Book Card** page, choose the **Create FA Depreciation Books** action.
4. On the **Create FA Depreciation Books** page, fill in the **Depreciation Book** field.
5. Choose the **Copy from FA No.** field, and then select the fixed asset number that you want to use as the basis for creating new fixed asset depreciation books.

    If you fill in this field, the depreciation fields in the new fixed asset depreciation books will contain the same information as the corresponding fields in the fixed asset depreciation book that you copy from. Leave the field blank if you want to create new fixed asset depreciation books with empty depreciation fields.  
6. On the **Fixed Asset** FastTab, you can set a filter to select the assets that you want to create the fixed asset depreciation books for.
7. Choose the **OK** button.

## To set up depreciation posting types

For each depreciation book, you must set up how you want [!INCLUDE[prod_short](includes/prod_short.md)] to handle various posting types. For example, whether posting should be debit or credit and whether the posting type should be included in the depreciable basis.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Books**, and then choose the related link.  
2. Select the depreciation book that you want to set up, and them choose the **FA Posting Type Setup** action.
3. On the **FA Posting Type Setup** page, fill in the fields as necessary.

    > [!NOTE]  
    >   You cannot insert or delete lines on the **FA Posting Type Setup** page. You can only modify the existing lines.

We recommend that you do not change the setup for depreciation books for entries that have already been posted. Changes will not affect the entries that are already posted, which would make depreciation book statistics misleading.

## To set up default templates and batches for fixed asset depreciation

For each depreciation book, you define a default setup of templates and batches. You use these defaults to duplicate lines from one journal to another, create journal lines using the **Calculate Depreciation** or **Index Fixed Assets** batch jobs, duplicate acquisition costs in the insurance journal.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Books**, and then choose the related link.  
2. Select the depreciation book that you want to define default journals for, and then choose the **FA Journal Setup** action.  
3. If you want to have a default setup for each user, choose the **User ID** field to select from the **Users** page.  
4. In the other fields, select the journal template or journal batch that must be used by default.  

## Fiscal Year 365 Days Field Depreciation

When the Calculate Depreciation batch job calculates depreciations, the batch job normally uses a standardized year of 360 days where each of the 12 months has 30 days.

If you select this field, the Calculate Depreciation batch job uses the calendar year of 365 days instead, where each month is calculated with the same number of days as in the calendar. The only exception is February in leap years, which the batch job will treat as having 28 days and not 29. Because of that, all years, also leap years, are considered to have 365 days.

## Related information

[Setting Up Fixed Assets](fa-setup.md)  
[Fixed Assets](fa-manage.md)  
[Finance](finance.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/work-outlook-addin
---
title: Using Business Central with Outlook
description: This service has deep integration with Microsoft 365 enabling you to manage all your business interactions and mail with customers and vendors directly in Outlook.
author: jswymer
ms.topic: how-to
ms.devlang: al
ms.search.keywords: SMTP, mail, Microsoft 365
ms.date: 06/14/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Use Business Central as your Business Inbox in Outlook

[!INCLUDE[prod_short](includes/prod_short.md)] offers an add-in that lets you manage business interactions with your customers and vendors, directly in Microsoft Outlook. With the [!INCLUDE[prod_short](includes/prod_short.md)] add-in for Outlook, you can see financial data related to customers and vendors, and create and send financial documents, such as quotes and invoices.

[!INCLUDE[prod_short](includes/prod_short.md)] add-in consists of two separate add-ins that provide the following capabilities:

- Contact insights

   This add-in lets you look up [!INCLUDE[prod_short](includes/prod_short.md)] customer or vendor information in Outlook emails and calendar appointments. It also lets you create and send [!INCLUDE[prod_short](includes/prod_short.md)] business documents, such a sales quote or invoice to a contact.

- Document view

   When a business document is sent in an email, the add-in provides a direct link from email to the actual business document in [!INCLUDE[prod_short](includes/prod_short.md)].

## Get started

1. The first thing to do is get the [!INCLUDE[prod_short](includes/prod_short.md)] add-in installed in Outlook. Your administrator may have already installed the add-in for you. So if you're not sure, check with your administrator or see the next step to verify whether it's installed.

    If the add-in hasn't been installed for you, see [Install the add-in for your own use](admin-outlook.md#install). 

2. With the add-in installed, you can access the **[!INCLUDE[prod_short](includes/prod_short.md)]** add-in from any new or existing email message or calendar appointment in Outlook.

    Start by signing in to Outlook and opening an email message. Then, if you're using the Outlook app, go to the ribbon, and look for **[!INCLUDE[prod_short](includes/prod_short.md)]**.  Or if you're using Outlook on the web, at the top the email message, select **Apps** ![Shows the apps button in Outlook.](media/apps-icon.png) > **Business Central** ![Business Central add-in icon in Outlook.](media/outlook-business-central-icon.png) or go to the more actions ![Show more actions for an email in Outlook.](media/outlook-more-actions-button.png) button.

    ![Access Business Central add-ins in Outlook.](media/outlook-business-central-addin.png)

   If you've installed the add-in on your own and chose to get a sample email, check your inbox for the welcome email. This email provides information to help you get started.

The first time you use the add-in, in [!INCLUDE[prod_short](includes/prod_short.md)] add-in pane, you might be asked to sign in. In this case, choose **Sign in now** and follow the instructions onscreen to sign in to Business Central using your account.

> [!TIP]
> If you use the new Outlook on the web, you can pin **[!INCLUDE[prod_short](includes/prod_short.md)]** so that it is always immediately visible, instead of having to go to the more actions button, making it convenient to view contact insights while you browse through different emails.

For more information, see [Use add-ins in Outlook on the web](https://support.office.com/article/using-add-ins-in-outlook-on-the-web-8f2ce816-5df4-44a5-958c-f7f9d6dabdce?ns=OLWAO365B&version=16).  

## Work with contacts and documents using the Contact Insights add-in

Let's say that you get an email from a customer that wants to get a quote on some items. Directly in Outlook, you open the [!INCLUDE[prod_short](includes/prod_short.md)] add-in, which recognizes the sender as a customer, and opens the customer card for that company. From this dashboard, you see overview information for the customer, and drill down for more detail on specific documents. You can also dig into the sales history for the customer. If it's a new contact, you can create them as a new customer in [!INCLUDE[prod_short](includes/prod_short.md)] without leaving Outlook.  

In the add-in, you can create a sales quote and send it back to this customer without leaving Outlook. All of the information that you need to send the sales quote is available in your business inbox in Outlook. Once you have the data entered, you post the quote and send it by email. [!INCLUDE[prod_short](includes/prod_short.md)] generates a .PDF file with the sales quote and attaches it to the email message that you draft in the add-in.  

Similarly, if you get an email from a vendor, you can use the add-in to work with vendors and purchase invoices.  

Sometimes you want to see more fields than you can see in the add-in, such as when you want to fill in lines in an invoice. To give you a bit more space to work with, you can pop out the add-in to a separate page. It's still part of Outlook, but you have more space. As you enter data for the document in the pop-out view, the changes are automatically saved. 
The following sections lead you through some basic tasks to give you a general understanding how to use it.

> [!TIP]
> The tasks explain how to use the add-in from an email message. But you can do the same from a calendar appointment in Outlook.

### Look up a business contact when composing an email

1. Create a new email message.
2. In the ribbon, go to **[!INCLUDE[prod_short](includes/prod_short.md)]** and choose **Contact Insights**. Or if you're using Outlook on the web, at the top of the message, select **Apps** ![Shows the apps button in Outlook.](media/apps-icon.png) > **Business Central** ![Business Central add-in icon in Outlook.](media/outlook-business-central-icon.png) > **Contact Insights**.
3. In the **[!INCLUDE[prod_short](includes/prod_short.md)]** add-in pane that opens, scan for and choose the contact you want.

    An overview of the contact displays in the pane and the contact is added in the **To** line of the email.

### View and change the contact details or switch company

The action bar at the top of the [!INCLUDE[prod_short](includes/prod_short.md)] add-in pane includes several actions that let your dig deeper into details about the contact and change things.

![Business Central add-in action bar in Outlook.](media/outlook-addin-action-bar.png)

For example, you can open the full contact details as you would see them in [!INCLUDE[prod_short](includes/prod_short.md)]. If you work with more that one [!INCLUDE[prod_short](includes/prod_short.md)] company, you can easily switch between companies.

### Track incoming documents

Perhaps you use the **Incoming Documents** list in [!INCLUDE[prod_short](includes/prod_short.md)] to track documents for processing that vendors send to you, such as a purchase invoice that needs to be paid. If you do, you can easily create Incoming Documents records from the Outlook add-in and include the email attachments.

1. When you receive an email from a vendor that has an attachment, choose ![Business Central add-in icon in Outlook.](media/outlook-business-central-icon.png) **[!INCLUDE[prod_short](includes/prod_short.md)]**  > **Contact Insights**.  

2. In the action bar of the add-in, choose **Show more actions**, then choose the **Send to Incoming Documents…** action.  

### Create and send new document to a contact

1. In the ribbon or at the bottom of the email message, choose ![Business Central add-in icon in Outlook.](media/outlook-business-central-icon.png) **[!INCLUDE[prod_short](includes/prod_short.md)]** > **New**, then choose the type of document you want to create, such as **Sales Quote**.
2. Make changes to the document in the **[!INCLUDE[prod_short](includes/prod_short.md)]** add-in pane.
3. When the document is ready to send to the contact, in the action bar, choose **Show more actions**, then choose the **Send by Email** action.

### Attach files to records

Your email inbox often serves as a source of incoming files that initiate or unblock workflows. Files can include things like PDF invoice payments, photos of goods, or requirements in a Word document. When working in Outlook with Business Central records like vendors, customers, purchase invoices, or sales orders, you can attach these files to the records.

There's a couple ways you can attach files. One way is to upload files from your device. The other way is upload files that are attached to an email. For example, suppose you get an email with files from a contact. The add-in will automatically display the contact record that matches the email sender. From there, you can navigate to a document for the contact, like the latest sales order. Once you've identified the order that the email relates to, you quickly upload the files from the email to that order.

![Shows how to add attachments from an email to records in Business Central.](media/outlook-attach-files.png)

After attaching a file, coworkers can instantly download and view the file from the **Attachments** FactBox in any of their Business Central clients. Or, they can open the file in OneDrive to share and collaborate with their department.

#### How to attach a file

1. Open the email, choose ![Business Central add-in icon in Outlook.](media/outlook-business-central-icon.png) **[!INCLUDE[prod_short](includes/prod_short.md)]**  > **Contact Insights**.
2. In the action bar of the add-in, choose **Show more actions** > **Attachments**.

    The **Attached Documents** page opens to list any documents that are already attached to the record.
3. Choose **Attached File(s)...**, then choose one of the following options:

   - Choose **Attach from email** to upload all or selected files that are attached to the email.
   - Choose **Upload from file** to upload one or files from your device.

> [!NOTE]
> You can't attach files to all records. This feature is available for records that use the **Attachments** FactBox, such as a vendor, customer, purchase invoice, or sales order.

## View a document from an email using the Document View add-in

Whether it's an email you sent or received, you can surface any [!INCLUDE[prod_short](includes/prod_short.md)] document, like the sales quote, directly in Outlook. From there, you can make changes and navigate to related information&mdash;just as you would from within [!INCLUDE[prod_short](includes/prod_short.md)].

If you're using the Outlook app, just choose **Document Link** at the top of the email message. For Outlook on the web, look for the document reference link in the email message. The reference link text will include the document number, which is based on the number series used in [!INCLUDE[prod_short](includes/prod_short.md)]. For example, the link for a sales quote would be something like **Sales Quote S-QUO1000**.  

> [!TIP]
> Starting in 2022 release wave 1, documents open in a new browser window with all the capabilities that you know from [!INCLUDE [prod_short](includes/prod_short.md)]. You can navigate from a document to a list and back again, open lists in Excel, send documents to be printed, and run or preview related reports. You also have all of the familiar keyboard shortcuts right there when you open documents from Outlook.  

## Related information

[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Getting Business Central on my Mobile Device](install-mobile-app.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Finance](finance.md)  
[Sales](sales-manage-sales.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Minimum Requirements for Outlook](product-requirements.md#outlook)  
[Use add-ins in Outlook on the web](https://support.office.com/article/Using-Add-ins-in-Outlook-on-the-web-8f2ce816-5df4-44a5-958c-f7f9d6dabdce?appver=OWB150)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-define-granular-permissions
---
title: Define granular permissions
description: This article describes how to define granular permissions and assign each user the permission sets that they need to do their jobs.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: access, right, security
ms.search.form: 1, 119, 8930, 9800, 9802, 9807, 9808, 9816_Primary, 9830, 9831, 9855_Primary, 9862_Primary, 9874_Primary, 9878_Primary, 9865_Primary
ms.date: 05/28/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Assign permissions to users and groups

In combination with the user's license, the [!INCLUDE[prod_short](includes/prod_short.md)] security system controls user access to objects in each database or environment. For each user, you can specify whether they're able to read, modify, or enter data in database objects. To learn more, go to [Data Security](/dynamics365/business-central/dev-itpro/security/data-security?tabs=object-level) in the developer and administration content for [!INCLUDE[prod_short](includes/prod_short.md)].

Before you assign permissions to users and groups, you must define who can sign in by creating users according to their license. To learn more, go to [Create Users According to Licenses](ui-how-users-permissions.md).

In [!INCLUDE[prod_short](includes/prod_short.md)], there are two levels of permissions to database objects:

- Overall permissions according to the license, also referred to as the entitlement.

  The licenses include default permission sets. Admins can customize these default permissions for the relevant license types. To learn more, go to [Configure permissions based on licenses](ui-how-users-permissions.md#licensespermissions).  

- Detailed permissions that you assign in [!INCLUDE[prod_short](includes/prod_short.md)].

This article describes how to define, use, and apply permissions in [!INCLUDE [prod_short](includes/prod_short.md)] to change the default configuration.  

[!INCLUDE [prod_short](includes/prod_short.md)] online includes default user groups that are assigned to users automatically based on their license. You can change the default configuration by modifying or adding security groups, permission sets, and permissions. The following table outlines key scenarios for modifying the default permissions.  

|To...  |Go to...  |
|---------|---------|
|Make it easier to manage permissions for multiple users, you can organize them in security groups and then assign or change one permission set for many users in one action.| [Control access to Business Central using security groups](ui-security-groups.md) or [Manage permissions through user groups (legacy)](ui-legacy-user-groups.md) |
|Manage permission sets for specific users | [Assign permission sets to users](#assign-permission-sets-to-users) |
|Learn how to define a permission set|[Create a permission set](#create-a-permission-set)|
|View or troubleshoot a user's permissions|[Get an overview of a user's permissions](#get-an-overview-of-a-users-permissions)|
|Learn about record-level security|[Security filters limit a user's access to specific records in a table](#security-filters-limit-a-users-access-to-specific-records-in-a-table)|

> [!NOTE]
> A broader way to define which features users have access to is by setting the **Experience** field on the **Company Information** page. To learn more, go to [Change Which Features are Displayed](ui-experiences.md).
>
> You can also define the features that are available to users in the user interface and how they interact with them through pages. You define features through profiles that you assign to different types of users according to their job role or department. To learn more, go to [Manage Profiles](admin-users-profiles-roles.md) and [Customizing [!INCLUDE[prod_short](includes/prod_short.md)]](ui-customizing-overview.md).

## Create a permission set

> [!NOTE]
> Rather than adding permissions individually, you can add entire permission sets. If needed, you can then exclude individual permissions in them. To learn more, go to [To add other permission sets](#to-add-other-permission-sets). To make that possible, we replaced the Permission Set page with a new one. The key differences are the new **Permission Sets** and **Results** panes, and the **Included permissions** FactBox. To continue using the replaced Permissions page, on the **Permission Sets** page, choose the **Permissions (legacy)** action.

When you add a system permission, your user-defined permission set is automatically updated with any changes that Microsoft makes to those permissions.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Permission Sets**, and then choose the related link.
1. Choose the **New** action.
1. On the new line, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
1. Choose the **Permissions** action.
1. On the **Permission Set** page, in the **Type** field, include or exclude permissions to the object as follows:

   To include the permission, choose **Include**, and then choose level of access to give in the **Read Permission**, **Insert Permission**, **Modify Permission**, **Delete Permission**, and **Execute Permission** fields. The following table describes the options.

   |Option|Description|Ranking|
   |------|-----------|-------|
   |**Blank**|The user can't perform the action on the object.|Lowest|  
   |**Yes**|The user can perform the action on the object.|Highest|
   |**Indirect**|The user can perform the action on the object, but only through another related object that the user has full access to. For more information, see [Example - Indirect Permission](#example---indirect-permission) in this article, and [Permissions Property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-permissions-property#example---indirect-permission) in Developer and IT-Pro Help.|Second highest|
  
   To exclude the permission, or one or more access levels, choose **Exclude**, and then choose the level of access to give. The following table describes the options.

   |Option|Description|
   |------|-----------|
   |**Blank**|Use the access level based on the hierarchy of permissions in the set.  |
   |**Exclude**|Remove the specific access level for the object.|
   |**Reduce to indirect**|Change the access level to Indirect if any permission sets give Direct access to the object. For example, choose this option if the permission set gives Direct access to G/L entries but you don't want users to have full access to the entries.|
  
   > [!NOTE]
   > If a permission is in both an included and excluded permission set, the permission is excluded.

1. Use the **Object Type** and **Object ID** fields to specify the object you're giving access to.

   > [!TIP]
   > New lines show default values. For example, the **Object Type** field contains **Table Data**, and the **Object ID** field contains **0**. The default values are just placeholders, and aren't used. You must choose a type of object and an object in the **Object ID** field before you can create another new line.

1. Optional: If you're defining permissions for a Table Data object type, in the **Security Filter** field you can filter the data that a user can access in fields on the selected table. For example, you might want to let a user access only records that contain information about a particular customer. To learn more, go to [Security filters limit a user's access to specific records in a table](#security-filters-limit-a-users-access-to-specific-records-in-a-table) and [Using Security Filters](/dynamics365/business-central/dev-itpro/security/security-filters).
1. Optional: On the **Permission Sets** pane, add one or more other permission sets. To learn more, go to [To add other permission sets](#to-add-other-permission-sets).

> [!IMPORTANT]
> Use caution when assigning **Insert Permission** or **Modify Permission** to the **9001 User Group Member** or **9003 User Group Permission Set** table. Any users assigned to the permission set could potentially assign themselves to other user groups, which in turn might give them unintended permissions.

### Example - Indirect Permission

You can assign Indirect permission to allow a user to use an object, but only through another object. For example, a user has permission to run codeunit 80, Sales-Post. The Sales-Post codeunit performs many tasks, including modifying table 37, Sales Line. When the user posts a sales document using the Sales-Post codeunit, [!INCLUDE[prod_short](includes/prod_short.md)] checks whether the user has permission to modify the Sales Line table. If not, the codeunit can't complete its tasks, and the user receives an error message. If so, the codeunit runs successfully.

However, the user doesn't need to have full access to the Sales Line table to run the codeunit. If the user has Indirect permission for the Sales Line table, the Sales-Post codeunit runs successfully. When a user has Indirect permission, they can only modify the Sales Line table by running the Sales-Post codeunit or another object that has permission to modify the Sales Line table. The user can only modify the Sales Line table when doing so from supported application areas. The user can't run the feature inadvertently or maliciously by other methods.

### To add other permission sets

Expand a permission set by adding other permission sets to it. Afterward, you can include or exclude specific permissions, or entire permission sets, in each set you add. This setting includes permissions in the Extension and System type permission sets, which otherwise isn't allowed. Exclusions apply only to the permission set you're expanding. The original set isn't affected.

On the **Permission Set** page, add a permission set on the **Permission Sets** pane. The **Result** pane lists all added permission sets. To explore the permissions that are included in a set you added, choose the set on the Result pane so the **Included permissions** FactBox shows the permissions.

On the **Result** pane, use the **Inclusion Status** field to identify the permission sets in which you excluded permissions or permission sets. If something's excluded, the status is **Partial**.

For an overall view of permissions in the permission set, choose the **View all permissions** action. The **Expanded Permissions** page shows all permissions that were already assigned to the permission set and the permissions in the added permission sets.

To fully exclude all permissions from a permission set, on the **Result** pane, select the line, choose **Show more options**, and then choose **Exclude**. When you exclude a permission set, a line is created on the **Permission Sets** pane of the type Excluded. If you excluded a permission set, but want to include it again, delete the line on the **Permission Sets** pane.

To fully or partially exclude a specific permission in a set you added, under **Permissions**, create a line for the object. The access level fields, such as **Insert Permission**, **Modify Permission**, and so on, all contain **Exclude**. To allow a certain access level, choose the appropriate option.

Excluding a permission set excludes all of the permissions in the set. [!INCLUDE [prod_short](includes/prod_short.md)] calculates permissions as follows:

1. Calculate the full list of included permissions
1. Calculate the full list of excluded permissions
1. Remove excluded permissions from the list of included permissions (removing an indirect permission is the same as Reduce to Indirect)

## Copy a permission set

Create a new permission set by copying another. The new set includes all of the permissions and permission sets from the set you copied. How the permissions and permission sets are arranged in the new permission set differs, depending on your choice in the **Copy operation** field. The following table describes the options.

|Option  |Description  |
|---------|---------|
|**Copy by reference**     | The original permission set and all of the permission sets that were added to it are listed on the **Results** pane.       |
|**Flat permission copy**  | All permissions from all permission sets are included in a flat list on the **Permissions pane**. Permissions aren't organized by permission set.        |
|**Clone**     | Create an exact copy of the original permission set.        |

1. On the **Permission Sets** page, select the line for a permission set that you want to copy, and then choose the **Copy Permission Set** action.
1. On the **Copy Permission Set** page, specify the name of the new permission set.
1. In the **Copy operation** field, specify how to arrange permission in the new permission set.
1. Optional: If you're adding a System permission set, you might want to be notified if the name or content of the original permission set changes in a future version. This lets you consider whether to update your user-defined permission set. To receive a notification, turn on the **Notify on Changed Permission Set** toggle.

> [!NOTE]
> The notification requires that the **Original System permission set changed** notification is enabled on the **My Notifications** page.

## Create or modify permissions by recording your actions

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Permission Sets**, and then choose the related link.

   Alternatively, on the **Users** page, choose the **Permission Sets** action.
1. On the **Permission Sets** page, choose the **New** Action.
1. On a new line, fill in the fields as necessary.
1. Choose the **Permissions** action.
1. On the **Permissions** page, choose the **Record Permissions** action, and then choose the **Start** action.

   Recording must be done either by using the **Open this page in a new windows** (pop-out) feature to have the **Permissions** recording window side-by-side, or by working within the same tab.  
    A recording process now starts and captures all of your actions in the user interface.
1. Go to the various pages and activities in [!INCLUDE[prod_short](includes/prod_short.md)] that you want users with this permission set to access. You must carry out the tasks that you want to record permissions for.
1. When you want to finish the recording, return to the **Permissions** page, and then choose the **Stop** action.
1. Choose the **Yes** button to add the recorded permissions to the new permission set.
1. For each object in the recorded list, specify whether users are able to insert, modify, or delete records in the recorded tables.

### To export and import a permission set

To quickly set up permissions, you can import permission sets that you exported from another [!INCLUDE[prod_short](includes/prod_short.md)] tenant.

In multitenant environments, a permission set is imported into a specific tenant. In other words, the scope of the import is *Tenant*.

1. In tenant 1, on the **Permission Sets** page, select the line or lines for the permission sets to export, and then choose the **Export Permission Sets** action.

   An XML file is created in the download folder on your machine. By default, the name is *Export Permission Sets.xml*.

1. In tenant 2, on the **Permission Sets** page, select the **Import Permission Sets** action.
1. On the **Import Permission Sets** dialog page, consider if you want to merge existing permission sets with any new permission sets in the XML file.

   If you select the **Update existing permissions** checkbox, existing permission sets that match names in the XML file merge with the imported permission sets.

   If you don't select the **Update existing permissions** checkbox, permission sets that match names in the XML file are skipped during import. In that case, you're notified about the permission sets that are skipped.

1. From the **Import** dialog page, find and select the XML file to be imported, and then choose the **Open** action.

The permission sets are imported.

## Remove obsolete permissions from all permission sets

On the **Permission Sets** page, choose the **Remove Obsolete Permissions** action.

## Set up time constraints for users

Administrators can define periods of time during which specified users are able to post. Administrators can also specify if the system logs how much time users are signed in. Similarly, administrators can assign responsibility centers to users. To learn more, go to [Work with Responsibility Centers](inventory-responsibility-centers.md).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then choose the related link.
1. On the **User Setup** page opens, choose the **New** action.
1. In the **User ID** field, enter the ID of a user, or choose the field to see all current Windows users in the system.
1. Fill in the fields as necessary.

## Control access to specific companies

When you have multiple companies in Business Central, managing permissions across companies requires extra consideration. You might not want users to have identical access rights to all companies. Instead, you might need to grant users' permissions based on their company affiliations. When you assign permission sets to individual users or security groups, you can select a specific company to which the permission set applies. The company isn't explicitly specified within the permission set, but rather when the permission set is assigned to the user or security group.

If you don't specify the company when assigning a permission set, the permission set then applies to all companies. If you want a permission set to apply to more than one company, but not all companies, add the permission set specifically for each company separately.

To learn how, go to [Assign permission sets to users](#assign-permission-sets-to-users) or [Assign permissions to a security group](ui-security-groups.md#assign-permissions-to-a-security-group).

## Review the permissions in a security group

On the **Security Groups** page, the FactBox pane shows the **Permission Sets** that are assigned to the group. Each user listed in the **Members** card has those permissions. The **Permission Set by Security Group** action provides a more detailed view. There you can also explore the individual permissions in each security group.

Permissions are also available on the **Users** page. The FactBox pane shows the **Permission Sets from Security Group** and **Security Group Memberships** cards for the selected user.

## Assign permission sets to users

A permission set is a collection of permissions for specific database objects. All users must be assigned one or more permission sets before they can access [!INCLUDE[prod_short](includes/prod_short.md)].  

A [!INCLUDE[prod_short](includes/prod_short.md)] solution contains predefined permission sets that Microsoft or your solution provider add. You can also add new permission sets tailored to meet the needs of your organization. To learn more, go to [Create a permission set](#create-a-permission-set).

> [!NOTE]
> If you don't want to restrict a user's access more than already defined by the license, you can assign a special permission set called **SUPER** to the user. This permission set ensures that the user can access all objects specified in the license.
>
> A user with the Essential license and the SUPER permission set has access to more functionality than users with the Team Member license and the SUPER permission set.

You can assign permissions sets to users in two ways:

- From the **User Card** page, by selecting permission sets to assign to the user.
- From the **Permission Set by User** page, by selecting users that a permission set is assigned to.

### To assign a permission set on a user card

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
1. Select the user that you want to assign permission to.

   Any permission sets that are already assigned to the user are displayed in the **Permission Sets** FactBox.
1. Choose the **Edit** action to open the **User Card** page.
1. On the **User Permission Sets** FastTab, on a new line, fill in the fields as necessary. To learn more, go to [Create or edit a permission set](ui-define-granular-permissions.md#create-a-permission-set).

   If you want the permission set to apply to a specific company, select the company in the **Company** field. If you want the permission set to apply to all companies, leave the **Company** field blank. [Learn more](#control-access-to-specific-companies).

## To assign a permission set on the Permission Set by User page

This method makes it easier for you to assign different permission sets to multiple users. 

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
1. On the **Users** page, choose the **Permission Set by User** action.
1. If you want the permission sets to apply only to a specific company, set the **Company name** field to that company. If you want the permission set to apply to all companies, leave the **Company name** field blank. [Learn more](#control-access-to-specific-companies).
1. On the **Permission Set by User** page, select the **[user name]** checkbox on a line for the relevant permission set to assign the set to the user.

    Select the **All Users** checkbox to assign the permission set to all users.

## Get an overview of a user's permissions

You can view other users' effective permissions only if you're assigned to the SECURITY or SUPER permissions. 

The **Effective Permissions** page offers additional information about the source of each permission. For example, whether the source is a security group, or a permission is inherited. The page also contains a column where administrators can review the security filters that are applied. To learn more about security filters, go to [Security filters limit a user's access to specific records in a table](#security-filters-limit-a-users-access-to-specific-records-in-a-table).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
1. Open the card of the relevant user.
1. Choose the **Effective Permissions** action.

   The **Permissions** part lists all the database objects that the user has access to. You can't edit this section.

   The **By Permission Set** part shows the assigned permission sets through which the permissions are granted to the user, the source and type of the permission set, and to which extent the different access types are permitted.

   For each row that you select in the **Permissions** section, the **By Permission Set** section shows which permission set or sets that the permission is granted through. In this section, you can edit the value in each of the five access type fields, **Read Permission**, **Insert Permission**, **Modify Permission**, **Delete Permission**, **Execute Permission**.

   > [!NOTE]  
   > Only permission sets of type **User-Defined** can be edited.
   >
   > Rows of source Entitlement originate from the subscription license. The permission values of the entitlement overrule values in other permission sets if they have a higher ranking. A value in a nonentitlement permission set that has a higher ranking than the related value in the entitlement is surrounded by brackets. The brackets indicate that it isn't effective because the entitlement overrules it.
   >
   > To learn more about ranking, go to [Create a permission set](ui-define-granular-permissions.md#create-a-permission-set).  

1. To edit a permission set, in the **By Permission Set** part, on the line for a relevant permission set of type **User-Defined**, choose one of the five access type fields and select a different value.
1. To edit individual permissions within the permission set, choose the value in the **Permission Set** field to open the **Permissions** page.

> [!NOTE]  
> When you edit a permission set, the changes also apply to other users that have the permission set.

### Security filters limit a user's access to specific records in a table

For record-level security in [!INCLUDE[prod_short](includes/prod_short.md)], use security filters to limit a user's access to data in a table. You create security filters on table data. A security filter describes a set of records in a table that a user has permission to access. You can specify, for example, that a user can only read the records that contain information about a particular customer. In this way, the user can't access the records that contain information about other customers. To learn more, go to [Using Security Filters](/dynamics365/business-central/dev-itpro/security/security-filters) in the administration content.

## View permission changes telemetry

You can set up [!INCLUDE[prod_short](includes/prod_short.md)] to send changes that are done to permission to an Application Insights resource in Microsoft Azure. Then, using Azure Monitor, you create reports and set up alerts on the gathered data. To learn more, go to the following articles in the [!INCLUDE[prod_short](includes/prod_short.md)] Developer and admin help:

- [Monitoring and Analyzing Telemetry - Enabling Application Insights](/dynamics365/business-central/dev-itpro/administration/telemetry-overview#enable)
- [Analyzing Field Monitoring Telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-permission-changes-trace)

## Delegated admin users

[!INCLUDE [admin-gdap-users](includes/admin-gdap-users.md)]

## Related information

[Create Users According to Licenses](ui-how-users-permissions.md)  
[Manage Profiles](admin-users-profiles-roles.md)  
[Change Which Features are Displayed](ui-experiences.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)]](ui-customizing-overview.md)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Administration](admin-setup-and-administration.md)  
[Add Users to Microsoft 365 for business](/microsoft-365/admin/add-users/add-users)  
[Security and Protection in Business Central](/dynamics365/business-central/dev-itpro/security/security-and-protection) in Developer and IT-pro Help  
[Assign a telemetry ID to users](/dynamics365/business-central/dev-itpro/administration/telemetry-enable-application-insights#assign-a-telemetry-id-to-users)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-work-general-journals
---
title: Working with general journals to post directly to G/L
description: Learn about using journals to post financial transactions to general ledger accounts and other accounts, such as bank and vendor accounts.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 02/06/2025
ms.custom: bap-template
ms.search.keywords: journals, recurring, accrual, renumber, bulk-post
ms.search.form: 39, 101, 102, 182, 184, 185, 201, 207, 250, 251, 253, 255, 256, 261, 262, 283, 519, 750, 751, 752, 753, 754, 755, 12409, 12410, 12411, 1290, 10101, 11400, 11402, 11403, 11405, 11300, 2000000, 2000001, 2000003, 2000020, 2000021, 2000022
---
# Work with general journals

Most financial transactions are posted to the general ledger through documents such as purchase invoices and sales orders. However by posting journal lines, you can also process business activities such as:

* Purchasing
* Payments
* Using recurring journals to post accruals
* Refunding employee expenses

Most journals are based on the general journal, and you can process all transactions on the **General Journals** page. Learn more at [Post Transactions Directly to the General Ledger](finance-how-post-transactions-directly.md).  

For example, you can use post employee expenses for reimbursement. Learn more at [Record and Reimburse Employees' Expenses](finance-how-record-reimburse-employee-expenses.md).

However, [!INCLUDE [prod_short](includes/prod_short.md)] also offers journals that are optimized for specific types of transactions, such as the *Payment Journal* for registering payments. Learn more at [Record Payments and Refunds in the Payment Journal](payables-how-post-payments-refunds.md).  

You use general journals to post financial transactions to general ledger accounts and various other accounts. The other accounts include bank, customer, vendor, and employee accounts. Posting with a general journal creates entries on general ledger accounts even when, for example, you post a journal line to a customer account. The entry is posted to a general ledger receivables account through a posting group.

The information that you enter in a journal is temporary and can be changed while it's in the journal. When you post the journal, the information is transferred to entries on individual accounts, where it can't be changed. You can, however, unapply posted entries, and you can post reversing or correcting entries. Learn more at [Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md).

> [!NOTE]
> [!INCLUDE[journal-showhide-columns-inline-tip](includes/journal-showhide-columns-inline-tip.md)]  

## Add context to general journal transactions

When you create a journal, you can add links that give context to its transactions. When you post the journal, [!INCLUDE [prod_short](includes/prod_short.md)] copies the links to the posted journal and ledger entries the journal creates. For example, providing links can make life easier for your auditor. If you keep images of your expense receipts on your company's Sharepoint site, you can add links to the files. When you post the journal to submit your expenses, your auditor can quickly get to the receipt files.

## Use journal templates and batches

There are several general journal templates. Each journal template is represented by a dedicated page with particular functions and the fields that are required to support those functions, such as the **Payment Reconciliation Journals** page to process bank payments and the **Payment Journals** page to pay your vendors or reimburse your employees. Learn more at [Make Payments](payables-make-payments.md) and [Reconcile Customer Payments with the Cash Receipt Journal or from Customer Ledger Entries](receivables-how-apply-sales-transactions-manually.md).

For each journal template, you can set up your own personal journal as a journal batch. For example, you can define your own journal batch for the payment journal that has your personal layout and settings. The following tip is an example of how to personalize a journal.

> [!TIP]  
> If you select the **Suggest Balancing Amount** checkbox on the line for your batch on the **General Journal Batches** page, then the **Amount** field on, for example, general journal lines for the same document number is automatically prefilled with the value that is required to balance the document. Learn more at [Letting [!INCLUDE[prod_short](includes/prod_short.md)] Suggest Values](ui-let-system-suggest-values.md).

> [!TIP]
> You can add or remove fields in journals by personalizing them. Learn more at [Personalize Your Workspace](ui-personalization-user.md).

### Validating general journal batches

You can turn on a background check that helps prevent delays when posting. The check notifies you when a mistake in the financial journal you're working on will prevent you from posting the journal. On the **General Journal Batches** page, you can choose **Background Error Check** to have [!INCLUDE[prod_short](includes/prod_short.md)] validate finance journals, such as general or payment journals, while you're working on them.

When you enable the validation, the **Check Document** or **Journal Check** FactBoxes show issues in the current line and the whole batch. Validation happens when you load a finance journal batch, and when you choose another journal line. The **Issues total** tile in the FactBox shows the total number of issues that [!INCLUDE[prod_short](includes/prod_short.md)] found, and you can choose it to open an overview of the issues.

You can use the **Show Lines with Issues** and **Show All Lines** actions to toggle between journal lines that do or don't have issues. The **Journal Line Details** FactBox provides quick overview and access to data from journal lines, such as the G/L account, customer, or vendor, and the posting setup for specific accounts.

[!INCLUDE [background_doc_journal_check](includes/background_doc_journal_check.md)]  

## Understanding main accounts and balancing accounts

If you set up default balancing accounts for the journal batches on the **General Journals** page, the balancing account is filled in automatically when you fill in the **Account No.** field. Otherwise, fill in both the **Account No.** and **Bal. Account No.** fields manually. A positive amount in the **Amount** field is debited to the main account and credited to the balancing account. A negative amount is credited to the main account and debited to the balancing account.

> [!NOTE]  
> VAT is calculated separately for the main account and the balancing account, so they can use different VAT percentage rates.

## Work with recurring journals

A recurring journal is a general journal with specific fields for managing transactions that you often post with few, if any, changes. For example, transactions for expenses such as rent, subscriptions, electricity, and heat. Using recurring journals lets you post fixed and variable amounts, and specify automatic reversal entries for the day after the posting date. Allocation keys let you divide the recurring entries among various accounts. Learn more at [Allocating Recurring Journal Amounts to Several Accounts](#allocating-recurring-journal-amounts-to-several-accounts).

With a recurring journal, you create the entries that you post regularly only one time. For example, the accounts, dimensions, dimension values, and so on, stay in the journal after posting. If changes are needed, you can make them each time you post.

### Recurring Method field

The **Recurring Method** field is important. It determines how to treat the amount on the journal line after posting. For example, if you use the same amount every time you post the line, you can let the amount remain. If you'll use the same accounts and text on the line, but the amount varies every time you post, you can delete the amount after posting.

| To | See |
| --- | --- |
|F Fixed|The amount on the journal line remains after posting. Lines with amounts of zero remain in the journal, but aren't posted. You can update the amount in a later run.  |
|V Variable|The amount on the journal line is deleted after posting.|
|B Balance|The posted amount on the account on the line is allocated among the accounts specified for the line in the Gen. Jnl. Allocation table. The balance on the account is set to zero. Remember to fill in the **Allocation %** field on the **Allocations** page. For more information, see [Allocating Recurring Journal Amounts to Several Accounts](#allocating-recurring-journal-amounts-to-several-accounts).|
|RF Reversing Fixed|The amount on the journal line remains after posting, and a balancing entry is posted on the next day.|
|RV Reversing Variable|The amount on the journal line is deleted after posting, and a balancing entry is posted on the next day.|
|RB Reversing Balance|The posted amount on the account on the line is allocated among the accounts specified for the line on the **Allocations** page. The balance on the account is set to zero, and a balancing entry is posted on the next day.|
|BD Balance by Dimension|The journal line allocates costs based on a G/L account's balance by dimension. You're prompted to set the dimension filters to be used to calculate the source G/L account's balance by dimension from which you want to allocate costs. As an alternative, choose the **Set Dimension Filters** action later.|
|RBD Reversing Balance by Dimension|The journal line allocates costs based on a G/L account's reversing balance by dimension. You're prompted to set the dimension filters to use to calculate the source G/L account's balance by dimension from which you want to allocate costs. You can also choose the **Set Dimension Filters** action later.|

> [!NOTE]  
> The VAT fields can be filled in on either the recurring journal line or on the allocation journal line but not on both. That is, they can be filled in on the **Allocations** page only if the corresponding lines in the recurring journal are not filled in.

### Recurring Frequency field

This date formula field determines how often to post the entry on the journal line, and it must be filled in. Learn more at [Use Date Formulas](ui-enter-date-ranges.md#use-date-formulas).

#### Examples

If the journal line must be posted every month, enter **1M**. After every posting, the date in the **Posting Date** field will be updated to the same date in the next month.

If you want to post an entry on the last day of every month, you can take one of the following actions:

* Post the first entry on the last day of a month by entering 1D+1M-1D (1 day + 1 month - 1 day). With this formula, the posting date is calculated correctly regardless of how many days there are in the month.

* Post the first entry on any day of the month by entering 1M+CM. With this formula, the posting date will be after one full month + the remaining days of the current month.

### Expiration Date field

This field determines the date on which the line is posted for the last time. The line won't be posted after this date.

The advantage of using the Expiration Date field is that the line isn't deleted from the journal immediately. You can enter a later date so that you can use the line in the future.

If the field is blank, the line is posted every time until you delete it from the journal.

### Allocating recurring journal amounts to several accounts

On the **Recurring General Journals** page, you can choose the **Allocations** action to specify how to allocate amounts on the recurring journal line to several accounts and dimensions. Allocation acts as balancing account line for the recurring journal line.

Like a recurring journal, you enter an allocation one time and it stays in the allocation journal after posting. You don't need to enter amounts and allocations every time you post the recurring journal line.

> [!NOTE]
> You can't use allocation accounts in journal batches that have an approval workflow for creating journal lines.

If the recurring method in the recurring journal is set to **Balance** or **Reversing Balance**, dimension value codes in the recurring journal are disregarded when the account is set to zero. If you allocate a recurring line to dimension values on the **Allocations** page, only one reversing entry is created.

> [!NOTE]
> If you allocate a recurring journal line that contains a dimension value code, don't enter the same code on the **Allocations** page. If you do, the dimension values will be incorrect.  

To allocate recurring journal amounts based on dimensions, set the **Recurring Method** field to **Balance by Dimension** or **Reversing Balance by Dimension**. If the recurring method in the recurring journal is set to **Balance by Dimension** or **Reversing Balance by Dimension**, dimension value codes in the recurring journal are considered when the account is set to zero. If you allocate a recurring line to dimension values on the **Allocations** page, reversing entries are created that match the number of dimension value combinations that the balance is comprised of. If you allocate account balance through a recurring journal that contains a dimension value code, remember to use **Balance by Dimension** or **Reversing Balance by Dimension** to ensure that the dimension values are correctly balanced or reversed from the source account.  

For example, your company has a couple of business units and a handful of departments that your controllers set up as dimensions. To speed up the purchase invoice entry process, you decide to require the accounts payable clerks to enter only business unit dimensions. Since each business unit has specific allocation keys for the Department dimension, such as based on the number of employees, you can use the **BD Balance by Dimension** or **RBD Reversing Balance by Dimension** recurring methods to reallocate expenses for each business unit to the right departments based on the allocation keys.  

> [!NOTE]
> Dimensions that you set on allocation lines are not automatically calculated, and you must specify which dimension values must be set on the allocation accounts. In case you want to preserve the link between the source account dimension and the allocation account dimension, we recommend that you use the [Cost Accounting](finance-about-cost-accounting.md) capabilities instead.

#### Example: Allocating Rent Payments to Different Departments

You pay rent monthly, so you enter the amount on the cash account on a recurring journal line. On the **Allocations** page, you can use the Department dimension to divide the expense among several departments. For example, according to the number of square feet that each department occupies. The calculation is based on the allocation percentage on each line. You can allocate in different ways:

* Enter different accounts on different allocation lines to divide rental expense among several accounts.
* Enter the same account but use different dimension value codes for the Department dimension on each line.

[!INCLUDE [rev-general-journal](includes/rev-general-journal.md)]

### Calculate the reversal date

When using recurring general journals to post accruals at the end of a period, it's important to have full control over reversal entries. On the **Recurring General Journals** page, the **Reversal Date Calculation** field lets you control the date that reversal entries are posted when reversal recurring methods are used.

#### Example

Accruals are typically posted with **Fixed**, **Variable**, or **Balance** recurring methods on the journal line. The posting date of the posted amount on the account on journal line is calculated using the recurring frequency. The posting date for the balancing entry is calculated using the **Reversal Date Calculation** field, as follows:

* If the field is blank, the balancing entry will be posted the next day.
* If the field contains a date formula (for example, **5D** for five days), the balancing entry is posted with a posting date calculated using the reversal date calculation.

> [!NOTE]
> By default, the **Reversal Date Calculation** field is not available on the **Recurring General Journals** page. To use the field, you must add it by personalizing the page. For more information, see [Personalize Your Workspace](ui-personalization-user.md).

## Work with standard journals

When you create journal lines that you know you're likely to create again later, you can save them as a standard journal before you post the journal. The same applies for item journals and general journals.

> [!NOTE]
> Standard journals might not contain all of the fields you want to include in the resulting ledger entries. For example, if you're using a standard general journal to register a payment, the ledger entries won't contain the Payment Method Code field.

> [!NOTE]  
> The following procedures refer to the item journal, but the information also applies to the general journal.

### To save a standard journal

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Journals**, and then choose the related link.
2. Enter one or more journal lines.
3. Select the journal lines that you want to reuse.
4. Choose the **Save as Standard Journal** action.
5. In the **Save as Standard Item Journal** request page, define a new or existing standard item journal that the lines should be saved in.

    If you have one or more standard item journals, and you want to replace one of them with the new set of item journal lines, in the **Code** field, select the item journal.
6. Choose **OK** to verify that you want to replace the content of the existing standard item journal.
7. To save the values in the **Unit Amount** field of the standard item journal, choose the **Save Unit Amount** field.
8. To save the values in the **Quantity** field, choose the **Save Quantity** field.
9. Choose **OK** to save the standard item journal.

When you save the standard item journal, the Item Journal page displays so you can post it.

### To reuse a standard journal

> [!NOTE]
> Standard journals don't always have the same fields as general journals. When you use the Get Standard Journals action to copy the fields to the general journal, the general journal might have less information than if you created it manually. 

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Journals**, and then choose the related link.
2. Choose the **Get Standard Journals** action.
3. To review a standard item journal before you select it for reuse, choose the **Show Journal** action.

    Changes you make in a standard item journal are implemented right away, and they'll be there next time you open or reuse the standard item journal. Be sure that the change is important enough to generally apply. Otherwise, make the specific change in the item journal after the standard item journal lines are added. See step 4.
4. On the **Standard Item Journals** page, select the standard item journal to reuse, and then choose **OK**.

    The item journal contains the lines you saved. If the item journal already has lines, the new lines appear after them.

    If you didn't turn on the **Save Unit Amount** toggle when you saved the journal, the **Unit Amount** field on lines added from the standard journal contain the value from the **Unit Cost** field on the item card.

    > [!NOTE]  
    > If you turned on the **Save Unit Amount** or **Save Quantity** toggles when you saved the journal, make sure the new values are correct before you post the item journal.
    >
    > If the inserted item journal lines contain saved unit amounts that you don't want to post, you can adjust it to the current value of the item.

5. Select the item journal lines you want to adjust, and then choose the **Recalculate Unit Amount** action. This action updates the Unit Amount field with the current unit cost of the item.
6. Choose the **Post** action.

## To renumber document numbers in journals

To avoid posting errors caused by the document number, you can use the **Renumber Document Numbers** action before you post a journal.

In all journals that are based on the general journal, the **Document No.** field is editable so that you can specify different document numbers for different journal lines or the same document number for related journal lines.

If the **No. Series** field on the journal batch is filled, then the posting function in general journals requires that the document number on individual or grouped journal lines be in sequential order. Just choose the **Renumber Document Numbers** action, and relevant **Document No.** fields are then updated. If related journal lines are grouped by document number before you used the function, they remain grouped, but might be assigned a different document number.  

This function also works on filtered views.

Renumbering document numbers respects related applications, such as a payment application made from the document on the journal line to a vendor account. Accordingly, the **Applies-to ID** and **Applies-to Doc. No.** fields are updated on the ledger entries.

### To renumber documents in journals

The following procedure is based on the **General Journals** page, but applies to all other journals that are based on the general journal, such as the **Payment Journals** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Journals**, and then choose the related link.
2. When you're ready to post the journal, choose the **Renumber Document Numbers** action.

Values in the **Document No.** field are changed, where required, so that the document number on individual or grouped journal lines are in sequential order. After documents are renumbered, you can post the journal.

## Related information

[Post Transactions Directly to the General Ledger](finance-how-post-transactions-directly.md)  
[Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md)  
[Allocate Costs and Income](year-allocate-costs-income.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Close Open Item Ledger Entries Resulting from Fixed Application in the Item Journal](finance-how-to-close-open-item-ledger-entries-resulting-from-fixed-application-in-the-item-journal.md)  
[Revalue Inventory in the Revaluation Journal](inventory-how-revalue-inventory.md)  
[Count, Adjust, and Reclassify Inventory Using Journals](inventory-how-count-adjust-reclassify.md)  
[Reconcile Customer Payments with the Cash Receipt Journal or from Customer Ledger Entries](receivables-how-apply-sales-transactions-manually.md)  
[Reconcile Vendor Payments with the Payment Journal or from Vendor Ledger Entries](payables-how-apply-purchase-transactions-manually.md)  
[Work with Intercompany Documents and Journals](intercompany-how-work-documents-journals.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-interaction-attachments
---
title: Attachments for interactions
description: You can attach files, such as Word documents, to add details about an interaction.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: relationship, prospect
ms.search.forms: 5082,
ms.date: 09/05/2023
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Attachments for interactions

The files that are attached to interactions aren't attached to the interaction directly. They come from one of the following places:

* The interaction template that you used to create the interaction. To learn more about setting up templates, go to [Set up interaction templates](marketing-interactions.md#set-up-interaction-templates).
* The segment that you created the interaction for. To learn more about segments, go to [Manage Interactions for Segments](marketing-interaction-segments.md).

## View attachments

Attachments are available when you view recorded interactions on the **Interaction Log Entries** page. Choose the **Show Attachments** action.

## Types of files you can attach

Attachments can be almost any type of file, such as Word documents, PowerPoint presentations, Excel or text files.

> [!TIP]
> [!INCLUDE [prod_short](includes/prod_short.md)] integrates with Word, which lets you use features such as merge fields on Word templates. To learn more about using Word templates, go to [Use Word Templates for Bulk Communication](ui-mail-merge.md).

## What you can do with attachments

You can perform the following actions with attachments:

* **Open**: Start the associated program—Microsoft Word, for example—and the document opens. You can then modify it.
* **Import**: Import attachments. For example, you can scan a received letter, import it, and attach it to the interaction that records the reception of that letter.
* **Export**: Export attachments to a location on a disk file.
* **Remove**: Remove the current attachment from an interaction template.
* **Copy**: Copy attachments from another interaction template.

## Related information

[Record Interactions With Contacts](marketing-interactions.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/payables-reports
---
title: Accounts payables analytics
description: See which analytics options are available in Business Central so that you can keep track of your accounts payable.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 347, Report_33, Report_301, Report_304, Report_305, Report_312, Report_317, Report_319, Report_321, Report_322, Report_329
ms.date: 07/15/2024
ms.service: dynamics-365-business-central
---
# Accounts payable analytics

[!INCLUDE [prod_short](includes/prod_short.md)] has built-in reports and analytics that can help you manage your accounts payable. The tools go beyond traditional reporting constraints to help you efficiently design various types of reports, such as Power BI, Data Analysis, or Excel.  

## Analyze accounts payable with Power BI

The [!INCLUDE [powerbi-finance-app-name](includes/power-bi-finance-app-name.md)] has multiple reports that are relevant in accounts payable.

:::image type="content" source="media/finance/aged-payables-report.png" alt-text="Screenshot of the Aged Payables (Back Dating) report" lightbox="media/finance/aged-payables-report.png":::

| To... | Open in Business Central (CTRL+select) | Learn more |
| ----- | ---------------------------------------- | ---------- |
| [!INCLUDE [pbireport-aged-payables-back-dating-include](includes/pbireport-aged-payables-back-dating-include.md)] | [Aged Payables (Back Dating)](https://businesscentral.dynamics.com?page=36994) | [About Aged Payables (Back Dating)](finance-powerbi-aged-payables-back-dating.md) |
| [!INCLUDE [pbireport-detailed-vendor-ledger-entries-include](includes/pbireport-detailed-vendor-ledger-entries-include.md)] | [Detailed Vendor Ledger Entries](https://businesscentral.dynamics.com?page=36996) | [About Detailed Vendor Ledger Entries](finance-powerbi-detailed-vendor-ledger-entries.md) |

To learn more, go to [Power BI finance app](finance-powerbi-app.md).

## Analyze accounts payable with Data Analysis

You can use Data Analysis on the **Vendor Ledger Entries** page to see what you owe your vendors, possibly broken down into time intervals for when amounts are due. 

:::image type="content" source="media/data-analysis-vendor-ledger-entries.png" alt-text="Example of how to do data analysis on the Vendor Ledger Entries page." lightbox="media/data-analysis-vendor-ledger-entries.png":::

To learn more, go to [Using data analysis to analyze accounts payable](ad-hoc-analysis-finance.md#example-finance-accounts-payable).

## Explore finance reports with Report Explorer

[!INCLUDE [finance_reports_report_explorer](includes/finance-reports-report-explorer-include.md)]

## Accounts payable report overview

[!INCLUDE [payables_reports](includes/payables-reports-include.md)]

## Analyze your payment practice

You can use the [Payment Practice](https://businesscentral.dynamics.com?page=687) page to show how quickly you pay your vendors. You can base the report on a specific period, or by the size of the vendor company in terms of its number of employees. Some countries require this report. 

For more information, go to the [Payment practices page](ui-payment-practices.md).


## Related information

[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Payment practices page](ui-payment-practices.md)  
[Purchasing analytics](purchasing-analytics-overview.md)  
[Financial analytics](bi.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-set-up-email-logging
---
title: Set Up Email Logging
description: Learn how to turn email interactions between salespeople and customers into real sales opportunities.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 11/14/2024
ms.custom: bap-template
ms.search.keywords: relationship, prospect, opportunity, email
ms.search.form: 1680, 1811, 5076
ms.service: dynamics-365-business-central
---
# Track Email Message Exchanges Between Salespeople and Contacts

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Get more out of the communications between your salespeople and customers by turning email exchanges into actionable opportunities. [!INCLUDE[prod_short](includes/prod_short.md)] can work with Exchange Online to keep a log of the inbound and outbound messages. You can view and analyze the contents of each message on the **Interaction Log Entries** page.

> [!IMPORTANT]
> For [!INCLUDE[prod_short](includes/prod_short.md)] online, [!INCLUDE[prod_short](includes/prod_short.md)] and Exchange Online must be on the same tenant.

## To set up email logging

### Set up public folders and rules for email logging in Exchange Online

[!INCLUDE[admin-setup-email-public-folder](includes/admin-setup-email-public-folder.md)]

Next, you connect [!INCLUDE[prod_short](includes/prod_short.md)] with Exchange Online.

### Set Up a shared mailbox and rules for email logging in Exchange Online

> [!NOTE]
> These steps require administrator access for Exchange Online.

Prepare a shared mailbox in the Exchange admin center. Alternatively, you can also use Exchange Online PowerShell. For more information, see [Create a shared mailbox](/microsoft-365/admin/email/create-a-shared-mailbox) or [Exchange Online PowerShell](/powershell/exchange/exchange-online-powershell?view=exchange-ps&preserve-view=true).

> [!NOTE]
> If you use Exchange Management PowerShell, your changes are available in the Exchange admin center after a delay. The delay might be several hours.

### Add a user account for members of the shared mailbox

The account that you use for email logging is an Exchange Online account. The scheduled job uses the account to connect to the shared mailbox and process emails. This account shouldn't be associated with a specific person. Add the email account to the members for the shared mailbox. For more information, see [Use the EAC to edit shared mailbox delegation](/exchange/collaboration-exo/shared-mailboxes#use-the-eac-to-edit-shared-mailbox-delegation).

### Allow other users to see logged emails

You can allow another user to open an email message in Exchange that is related to an interaction log entry from [!INCLUDE[prod_short](includes/prod_short.md)]. To do that, give the user ``Read`` permission to the **Archive** folder in the shared mailbox. For more information, see [Exchange Online PowerShell](/powershell/exchange/exchange-online-powershell?view=exchange-ps&preserve-view=true).

### Create mail flow rules

Mail flow rules look for specific conditions on messages and take action on them. Create two mail flow rules based on the information in the following table. For more information, see [Manage mail flow rules in Exchange Online](/exchange/security-and-compliance/mail-flow-rules/manage-mail-flow-rules?preserve-view=true) and [Mail flow rule actions in Exchange Online](/exchange/security-and-compliance/mail-flow-rules/mail-flow-rule-actions?preserve-view=true).

|Purpose  |Name  |Apply this rule if...  |Do the following...  |
|---------|---------|---------|---------|
|A rule for incoming email     |Log Email Sent to This Organization|The sender is located outside the organization, and the recipient is located inside the organization|BCC the email account that is specified for the shared mailbox.|
|A rule for outgoing email     |Log Email Sent from This Organization|The sender is located inside the organization, and the recipient is located outside the organization.|BCC the email account that is specified for the shared mailbox.|

> [!NOTE]
> [!INCLUDE[prod_short](includes/prod_short.md)] only processes messages in the Inbox folder in the shared mailbox. If a rule moves messages from the Inbox to another folder, those messages will not be processed. Additionally, messages in the Junk Mails folder are also ignored.

## Set Up [!INCLUDE[prod_short](includes/prod_short.md)] to log email messages

Get started with email logging in two easy steps:

1. Connect [!INCLUDE[prod_short](includes/prod_short.md)] with Exchange Online for your Microsoft 365 subscription. Exchange Online handles your email messages. We made this step easy by providing an assisted setup guide. You just need your administrator credentials for your administrator account in Microsoft 365. To start the guide, go to the **Assisted Setup** page, and then select the **Set up email logging** guide.  

2. Make sure that the email addresses for your sales people and contacts in [!INCLUDE[prod_short](includes/prod_short.md)] are valid. To do that, for each customer or salesperson, open the **Contact** or **Salesperson/Purchaser** card and have a look in the **Email** field.

    > [!Tip]
    > After you complete the steps in the guide you can check whether the connection was successful. Search for **Email Logging**, choose **Actions**, and then choose **Validate Setup**.

## View email message exchanges in the Interaction Log

[!INCLUDE[prod_short](includes/prod_short.md)] creates an entry on the **Interaction Log** page each time a salesperson and a contact exchange an email message. To view the interaction log, open the **Contact** card for the person, choose **Related**, then **History**, and then **Interaction Log Entries**. There are a few things you can do with each entry in the log, for example:

* View the content of the email message that was exchanged by selecting **Process** and then **Show Attachments**.
* Turn an email exchange into a sales opportunity. If an entry looks promising, you can turn it into an opportunity and then manage its progress toward a sale. To turn an email exchange into an opportunity, choose the entry, then **Process**, and then **Create Opportunity**. For more information, see [Managing Sales Opportunities](marketing-manage-sales-opportunities.md).

## Mailbox and folder limits in Exchange Online

There are mailbox and folder limits in Exchange Online, such as limits for folder sizes and the number of messages. For more information, see [Exchange Online limits](/office365/servicedescriptions/exchange-online-service-description/exchange-online-limits#storage-limits) and [Limits for public folders in Exchange Server](/Exchange/collaboration/public-folders/limits?view=exchserver-2019&preserve-view=true).

[!INCLUDE[prod_short](includes/prod_short.md)] stores logged email messages in a folder in Exchange Online. [!INCLUDE[prod_short](includes/prod_short.md)] also stores a link to each logged message. The links open the logged messages in Exchange Online from the Interaction Log Entries, Contact Card, and Salespersons Card pages in [!INCLUDE[prod_short](includes/prod_short.md)]. If a logged message is moved to another folder, the link is broken. For example, a message might be moved manually, or Exchange Online might automatically start AutoSplit when a storage limit is reached.

The following steps can help you avoid breaking links to messages in Exchange Online.

1. Don't move existing messages to another folder after you change settings for your email logging setup. Keeping existing messages put preserves the links. Links to messages in the new folder are valid.
2. Avoid reaching the mailbox and folder limits. If you're about to reach a limit, take the following steps:
    1. Set up a new shared mailbox in Exchange Online.
    2. Update your email flow rules in Exchange Online.
    3. Update your email logging setup in Business Central accordingly

## Connect on-premises versions to Microsoft Exchange

You can connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to Exchange on-premises or Exchange Online for email logging. For both versions of Exchange, settings for the connection are available on the **Marketing Setup** page. For Exchange Online, you can also use an assisted setup guide.

<!-- [!IMPORTANT]
> The new experience doesn't support a connection to Exchange on-premises. If you must use Exchange on-premises, do not enable the feature update for the new experience.

## Connect to Exchange on-premises
<!--
## [Current Experience](#tab/current-experience)
To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to Exchange on-premises, on the **Marketing Setup** page, you can use **Basic** as the **Authentication Type**, and then enter credentials for the user account for Exchange on-premises. Then turn on the **Enabled** toggle to start logging email.

## [New Experience](#tab/new-experience)
The new experience does not support connections to Exchange on-premises.
-->
## Connect to Exchange Online

To connect to Exchange Online, you must register an application in Microsoft Entra ID. Provide the application ID, key vault secret, and the redirect URL to use for the registration. The redirect URL is preset and should work for most installations. For more information, see [To register an application in Microsoft Entra ID for connecting from Business Central to Exchange Online](#to-register-an-application-in-microsoft-entra-id-for-connecting-from-business-central-to-exchange-online). 

You must also use **OAuth2** as the **Authentication Type**. You must also register an application in Microsoft Entra ID. Provide the application ID, key vault secret, and the redirect URL to use for the registration. The redirect URL is prepopulated and should work for most installations. For more information, see [To register an application in Microsoft Entra ID for connecting from Business Central to Exchange Online](#to-register-an-application-in-microsoft-entra-id-for-connecting-from-business-central-to-exchange-online).

You must set up your installation to use HTTPS. For more information, see [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection). If you're setting up your server to have a different home page, you can change the URL. The client secret is saved as an encrypted string in your database.

### To register an application in Microsoft Entra ID for connecting from Business Central to Exchange Online

The following steps assume that you use Microsoft Entra ID to manage identities and access. For more information, see [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app). 

1. In the Azure portal, under **Manage**, choose **Authentication**.
2. Under **Redirect URL**, add the redirect URL that is suggested on the **Email Logging** page in [!INCLUDE[prod_short](includes/prod_short.md)]. If the redirect URL field on the Email Logging page is empty, find the suggested redirect URL on the **Assisted Setup** page. To open the page, on the **Email Logging** page, choose **Actions**, and then **Assisted Setup**.

    > [!NOTE]
    > If you do not specify the redirect URL, you can do so later by choosing **Add a platform**, and then choosing **Web** to add the web application and the redirect URL.

3. Under **Manage**, choose **API permissions**, and choose **Microsoft Graph**, and then choose **Delegated permissions**.
4. Use the search box to find and select **Mail**, and then add the **Mail.ReadWrite.Shared** permission.
5. Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app. You use the secret either in the **Client Secret** field on the **Email Logging** page in [!INCLUDE[prod_short](includes/prod_short.md)].
6. Choose **Overview**, and then find the **Application (client) ID** value. This value is the client ID of your application. You must enter it either in the **Client ID** field on the **Email Logging** page.
7. In [!INCLUDE[prod_short](includes/prod_short.md)], set up email logging on the **Email Logging** page, or use the **Assisted Setup** guide for assistance.

### Use Another Identity and Access Management Service

If you aren't using Microsoft Entra ID to manage identities and access, you need some help from a developer. If you prefer to store the app ID and secret in a different location, you can leave the Client ID and Client Secret fields blank and write an extension to fetch the ID and secret from the location. You can provide the secret at runtime by subscribing to the OnGetEmailLoggingClientId and OnGetEmailLoggingClientSecret events in codeunit 1641 "Setup Email Logging."

## To start logging email

1. To start logging email, on the **Email Logging** page, turn on the **Enabled** toggle.
2. Sign in with the Exchange Online account that the scheduled job uses to connect to the shared mailbox and process emails.

    > [!NOTE]
    > If you are not prompted to sign in the the Exchange Online account, it might be because your browser is blocking pop-ups. To sign in, allow pop-ups from https://login.microsoftonline.com.

## To stop logging email

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Email Logging**, and then choose the related link.
2. Turn off the **Enabled** toggle.

## To change the user account used for email logging

### [!INCLUDE[prod_short](includes/prod_short.md)] Online

1. Sign in to [!INCLUDE[prod_short](includes/prod_short.md)] with the account that the scheduled job uses to connect to the shared mailbox and process emails. This account must have access to both [!INCLUDE[prod_short](includes/prod_short.md)] and Exchange Online.
2. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Email Logging**, and then choose the related link. 
3. Choose **Related**, and then **Job Queue Entry**.
4. Restart the **Email Logging** job.

### [!INCLUDE[prod_short](includes/prod_short.md)] on-premises

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Email Logging**, and then choose the related link.
2. Choose **Actions**, and then **Renew Token**.
3. Sign in with the Exchange Online account that the scheduled job uses to connect to the shared mailbox and process emails.

## Related information

[Managing Relationships](marketing-relationship-management.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/touch-gestures
---
title: "Touch and pen gestures"
description: "Learn about touch and pen gestures that help you work efficiently with your data from tablets and phones."
author: jswymer

ms.topic: article
ms.devlang: al
ms.search.keywords: accessibility, shortcuts, charts, tiles
ms.date: 04/29/2021
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Touch and Pen Gestures for Tablet and Phones 

This article provides some of the special gestures that you can use when working with [!INCLUDE[prod_short](includes/prod_short.md)] from a tablet or phone.

|Feature area|What do you want to do|Gesture|Tablet support|Phone support|
|------------|----------------------|-------|--------------|-------------|
|Charts|See a tooltip for a visual element of a chart, like a bar in a bar chart or slice in a pie chart.|Tap and hold the element|Yes|Yes|
|Lists|Scroll a list horizontally to move columns in and out of view|Swipe left or right on the list|Yes|No|
||Open the options menu on a tile|Tap and hold the tile|Yes|Yes|
||Take action on a tile or open a menu of swipe actions |Swipe left or right on the tile|No|Yes|
|Power BI Reports|Enable a report from the **Power BI Report Selection** page |Swipe left on the report tile|No|Yes|
||Disable a report from the **Power BI Report Selection** page |Swipe right on the report tile|No|Yes|

<!-- ## Charts

Business Central built-in charts display useful information about business data and KPIs. You can get additional information about the data by using the tooltips that are available on top of the data. To access a tooltip, tap and hold or hover over the data.

-->

## Related information

[Keyboard Quick Reference - PC Only](keyboard-shortcuts-cheatsheet.md)  
[Assistive Features](ui-accessibility.md)  
[Getting Started](/dynamics365/business-central/ui-get-ready-business)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-tax-concept
---
title: Sales tax in the default version
description: Learn about how the base version of Business Central supports sales tax, and get a description of the basic concept.
author: altotovi
ms.topic: article
ms.devlang: al
ms.search.keywords: tax, posting, sales tax
ms.search.form: 10, 315, 466, 467, 468, 469, 10015, 10016, 10101
ms.date: 07/11/2024
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Sales tax in the default version of Business Central

A **sales tax** is a tax that applies to the purchase of goods and services for consumers and to the sale of goods and services for businesses. Sales tax, ideally, should apply to all final consumption with few exemptions. Exemptions in final consumptions depend on local authorities but, generally speaking, business-to-business transactions are exempted from sales tax.  

Typically, sales taxes apply to the retail sale of goods and services and are a percentage of the total purchase amount. Retailers are responsible for calculating and collecting sales tax at the time of purchase.  

[!INCLUDE[prod_short](includes/prod_short.md)] is available in countries/regions that use value-added tax (VAT) or that use sales tax. The default version of [!INCLUDE[prod_short](includes/prod_short.md)] has basic support for sales tax and richer support in the versions of the application used in the United States and Canada.

> [!IMPORTANT]
> Although sales tax is available in the default version, Microsoft supports the use of sales tax in the United States and Canada only.

## Related information

[Report Sales Tax in the US](localfunctionality/UnitedStates/us-sales-tax.md)    
[Report Sales Tax in Canada](localfunctionality/canada/ca-sales-tax.md)    
[Financial Management](finance.md)  
[Report VAT to Tax Authorities](finance-how-report-vat.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-process-purchase-returns-cancellations
---
title: Process returns or cancellations
description: Explains how to create and post a purchase credit memo when you want to return items to a vendor or cancel purchased services.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: cancel, undo, correct
ms.search.form: 6640, 6643, 9307, 9309, 9308, 6652, 145, 147
ms.date: 06/10/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Process purchase returns or cancellations

If you want to return items to your vendor or cancel services you purchased, you can create and post a purchase credit memo that specifies the requested change to the original purchase invoice. To include the correct purchase invoice information, you can create the purchase credit memo directly from the posted purchase invoice or you can create a new purchase credit memo with copied invoice information.

If you need more control of the purchase return process, such as warehouse documents for the item handling or better overview when shipping back items from multiple purchase documents with one purchase return, then you can create purchase return orders. A purchase return order automatically issues the related purchase credit memo. Learn more at [To create a purchase return order based on one or more a posted purchase documents](purchasing-how-process-purchase-returns-cancellations.md#to-create-a-purchase-credit-memo-from-a-posted-purchase-invoice).

> [!NOTE]  
> If a posted purchase invoice isn't paid, you can use the **Correct** or **Cancel** actions on the posted purchase invoice to automatically reverse the transactions. These actions only work for unpaid invoices, and they don't support partial returns or cancellations. Also, you can't correct or cancel purchase invoices that were posted with receipts from more than one purchase order. Learn more at [Correct or Cancel Unpaid Purchase Invoices](purchasing-how-correct-cancel-unpaid-purchase-invoices.md).

Typically, you create a purchase credit memo or purchase return order in reaction to a credit memo sent to you by a vendor. You can use purchase credit memos or purchase return orders to document your credit memo process. For example, they're useful for accounting purposes or to control the shipping of the items.

The change might relate to all or only some of the products on the original purchase invoice. Accordingly, you can partially return received items or ask for partial reimbursement of received services. In that case, you must edit the information on the purchase credit memo or purchase return order.

In addition to the original posted purchase invoice, you can apply the purchase credit memo or purchase return order to other purchase documents. For example, another posted purchase invoice because you're also returning items delivered with that invoice.

The credit memo posting also reverts item charges that were assigned to the posted document, so that the item's value entries are the same as before you assigned the item charge.

## Inventory costing

To keep inventory valuation correct, you typically want to pick return items from inventory at the unit cost that they were purchased at, not at their current unit cost. This process is referred to as exact cost reversing.

There are two actions that assign exact cost reversing automatically.  

|Function|Description|  
|------------------|---------------------------------------|  
|**Get Posted Document Lines to Reverse** action on the **Purchase Return Order** page|Copies lines of one or more posted documents to be reversed into the purchase return order. Learn more at [To create a purchase return order based on one or more posted purchase documents](purchasing-how-process-purchase-returns-cancellations.md#to-create-a-purchase-return-order-based-on-one-or-more-posted-purchase-documents).|  
|**Copy from Document** action on the **Purchase Credit Memo** and **Purchase Return Order** pages|Copies both the header and lines of one posted document to reverse.<br /><br /> Requires that the **Exact Cost Reversing Mandatory** checkbox is selected on the **Purchases & Payables Setup** page.|

To assign exact cost reversing manually, choose the **Appl.-from Item Entry** field on any type of return document line, and then select the number of the original purchase entry. This setting links the purchase credit memo or purchase return order to the original purchase sales entry. It also ensures that the item is valued at the original unit cost.

Learn more at [Design Details: Inventory Costing](design-details-inventory-costing.md).

## To create a purchase credit memo from a posted purchase invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Purchase Invoices**, and then choose the related link.  
2. On the **Posted Purchase Invoices** page, select the posted purchase invoice that you want to reverse, and then choose the **Create Corrective Credit Memo** action.

    Most fields on the purchase credit memo header are filled with the information from the posted purchase invoice. You can edit all the fields, for example with new information that reflects the return agreement.
3. Edit information on the lines according to the agreement, such as the number of items returned or the amount to be reimbursement.
4. Choose the **Apply Entries** action.
5. On the **Apply Vendor Entries** page, select the line with the posted purchase document that you want to apply the purchase credit memo to, and then choose the **Applies-to ID** action. The number of the purchase credit memo is inserted in the **Applies-to ID** field.
6. In the **Amount to Apply** field, enter the amount that you want to apply if smaller than the original amount.

    At the bottom of the **Apply Vendor Entries** page, you can see the total amount to apply to reverse all involved entries, namely when the value in the **Balance** field is zero.
7. Choose the **OK** button. When you post the purchase credit memo, it's applied to the specified posted purchase documents.
8. Choose the **Post** action.

The posted purchase invoices that you apply the credit memo to are now reversed. If you already paid the original invoice, the vendor should now refund the payment to you. If the credit memo is only for part of the product on the original invoice, you might only pay the remaining amount on the original purchase invoice to close it.

The purchase credit memo is removed and replaced with a new document in the list of posted purchase credit memos.

## To create a purchase credit memo by copying a posted purchase invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Credit Memos**, and then choose the related link.
2. Choose the **New** action to open a new empty purchase credit memo.
3. In the **Vendor** field, enter the name of an existing vendor.
4. Choose the **Copy from Document** action.
5. On the **Copy Purchase Document** page, in the **Document Type** field, select **Posted Invoice**.
6. Choose the **Document No.** field to open the **Posted Purchase Invoices** page, and then select the posted purchase invoice that contains lines that you want to reverse.
7. Select the **Recalculate Lines** check box if you want the copied posted purchase invoice lines to be updated with any changes in item price and unit cost since the invoice was posted.
8. Choose the **OK** button. The copied invoice lines are inserted in the purchase credit memo.
9. Complete the purchase credit memo as explained in [To create a purchase credit memo from a posted purchase invoice](purchasing-how-process-purchase-returns-cancellations.md#to-create-a-purchase-credit-memo-from-a-posted-purchase-invoice).

## To create a purchase return order based on one or more posted purchase documents

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Return Orders**, and then choose the related link.  
2. Choose the **New** action.  
3. Fill in the fields on the **General** FastTab as necessary.
4. On the **Lines** FastTab, fill the lines manually, or copy information from other documents to fill the lines automatically:

    - Use the **Get Posted Document Lines to Reverse** action to copy one or more posted document lines from one or more posted documents. This action always exactly reverses the costs from the posted document line.
    - Use the **Copy from Document** action to copy an entire existing document to the return order. It can be either a posted or unposted document. This action only enables exact cost reversing when the **Exact Cost Reversing Mandatory** checkbox is selected on the **Sales & Receivables Setup** page.  

5. Choose the **Get Posted Document Lines to Reverse** action.
6. At the top of the **Posted Purchase Document Lines** page, select the **Show Reversible Lines Only** checkbox if you only want lines that have quantities that aren't yet returned. For example, if a posted purchase invoice quantity was already returned, you might not want to include that quantity on a new purchase return document.

    > [!NOTE]  
    > This field only works for posted receipts and posted invoice lines. It doesn't work for posted return or posted credit memo lines.  

    The left side of the page lists the different document types. The number in brackets shows the number of documents available of each document type.

7. In the **Document Type Filter** field, select the type of posted document lines you want to use.  
8. Select the lines that you want to copy to the new document.  

    > [!NOTE]  
    > If you use <kbd>Ctrl</kbd>+<kbd>A</kbd> to select all lines, all lines within the filter you set are copied, but the **Show Reversible Quantity Only** filter is ignored. For example, suppose you filtered the lines to a particular document number with two lines, and one of which was already returned. Even if the **Show Reversible Quantity Only** field is selected, if you select <kbd>Ctrl</kbd>+<kbd>A</kbd> to copy all lines, both lines are copied, instead of only the one that isn't reversed.  

9. Choose the **OK** button to copy the lines to the new document.  

    The following processes occur:  

    - For posted document lines of the type **Item**, a new document line is created as a copy of the posted document line, with the quantity that isn't reversed yet. The **Appl.-to Item Entry** field shows the number of the item ledger entry of the posted document line.  

    - For posted document lines that aren't of the type **Item**, such as item charges, a new document line is created as a copy of the original posted document line.  

    - Calculates the **Unit Cost (LCY)** field on the new line from the costs on the corresponding item ledger entries.  

    - If the copied document is a posted shipment, posted receipt, posted return receipt, or posted return shipment, the unit price is calculated automatically from the item.  

    - If the copied document is a posted invoice or credit memo, the unit price, invoice discounts, and line discounts from the posted document line are copied.  

    - If the posted document line contains item tracking lines, the **Appl.-to Item Entry** field on the item tracking lines is filled with the appropriate item ledger entry numbers from the posted item tracking lines.  

     When you copy from a posted invoice or posted credit memo, you copy the invoice discounts and line discounts that were valid at the time the document posted. Be aware, however, that if the **Calc. Inv. Discount** toggle on the **Purchases & Payables Setup** page is turned on, the invoice discount recalculates when you post the new document line. The amount for the new line might therefore be different than the line amount for the posted document line, depending on the new calculation of the invoice discount.  

    > [!NOTE]  
    > If part of the quantity of the posted document line is reversed, sold, or consumed, a line is created for the quantity that remains in inventory or that wasn't returned. If the full quantity of the posted document line was already reversed, a new document line isn't created.  
    >
    > If the flow of goods in the posted document is the same as the flow of goods in the new document, a copy of the original posted document line in the new document is created. The **Appl.-from Item Entry** field isn't filled in because exact cost reversing isn't possible. For example, if you use the **Get Posted Document Lines to Reverse** action to get a posted purchase credit memo line for a new purchase credit memo, only the original posted credit memo line is copied to the new credit memo.  

10. On the **Purchase Return Order** page, in the **Return Reason Code** field on each line, select the reason for the return.
11. Choose the **Post** action.

## To create a replacement purchase order from a purchase return order

You might agree with your vendor that they compensate you for a purchased item by replacing the item. The replacement item can be the same or it can be different. This situation could occur if the vendor mistakenly shipped the wrong item.  

1. On the **Purchase Return Order** page for an active return process, on an empty line, make a negative entry for the replacement item by entering a negative amount in the **Quantity** field.  
2. Choose the **Move Negative Lines** action.  
3. On the **Move Negative Purchase Lines** page, fill in the fields as necessary.
4. Choose the **OK** button. The negative line is deleted from the purchase return order, and a new purchase order is created. Learn more at [Record Purchases](purchasing-how-record-purchases.md).  

## To create a purchase allowance

If you receive items that what you want, for example, the items are damaged, the wrong color, or the wrong size, the vendor might offer you a purchase allowance.  

You can post this reduced purchase cost as an item charge on a credit memo or return order and link it to the posted receipt. The following steps describe it for a purchase return order, but the same steps apply to a purchase credit memo.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Credit Memos**, and then choose the related link.
2. Choose the **New** action to open a new empty purchase credit memo.  
3. Fill in the credit memo header with information about the vendor who sent you the purchase allowance.  
4. On the **Lines** FastTab, in the **Type** field, select **Charge (Item)**.  
5. In the **No.** field, select the appropriate item charge value.  

    You might want to create a special item charge number to cover purchase allowances.  
6. In the **Quantity** field, enter **1**.  
7. In the **Direct Unit Cost** field, enter the amount of the purchase allowance.  
8. Assign the purchase allowance as an item charge to the items in the posted receipt. For more information, see [Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md). After you assign the allowance, return to the **Purchase Credit Memo** page.

When you post the purchase return order, the purchase allowance is added to the relevant purchase entry amount. In this way, you can maintain accurate inventory valuation.  

## To combine return shipments

If you want to return items covered by different purchase return orders to the same vendor, you can use the **Combine Return Shipments** action.  

When you ship the items, you post the related purchase return orders as shipped, which creates posted purchase return shipments.  

When you're ready to invoice these items, instead of invoicing each purchase return order separately, you can create a purchase credit memo and automatically copy the posted purchase return shipment lines to it. Then you can post the purchase credit memo and invoice all the open purchase return orders at the same time.  

When return shipments are combined on a credit memo and posted, then a posted purchase credit memo is created for the invoiced lines. The **Quantity Invoiced** field on the originating purchase return order is updated based on the invoiced quantity. However, the original purchase return order isn't deleted, even if it was fully received and invoiced. You must delete the purchase return order manually.

> [!NOTE]  
> The following procedure assumes that there are several purchase return orders for the vendor, and that they're posted as shipped.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Credit Memos**, and then choose the related link.  
2. Choose the **New** action.  
3. On the **General** FastTab, fill in the fields as necessary.  
4. Choose the **Get Return Shipment Lines** action.  
5. Select multiple return shipment lines that you want to include in the invoice.  

    If an incorrect return shipment line was selected or you want to start over, you can just delete the lines on the purchase credit memo and then use the **Get Return Shipment Lines** action again.  
6. Choose the **Post** action.  

### To remove open purchase return orders after combined return shipment posting  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Delete Invoiced Purchase Return Orders**, and then choose the related link.  
2. Fill in the fields as necessary, and then choose the **OK** button.  
3. Alternatively, delete the individual purchase return orders manually.

## Related information

[Purchasing](purchasing-manage-purchasing.md)  
[Record Purchases](purchasing-how-record-purchases.md)  
[Correct or Cancel Unpaid Purchase Invoices](purchasing-how-correct-cancel-unpaid-purchase-invoices.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Process Sales Returns or Cancellations](sales-how-process-sales-returns-cancellations.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/reports-develop-reports
---
title: Develop report layouts and datasets
description: Provides an overview of Business Central data.
author: kennieNP
ms.topic: conceptual
ms.devlang: al
ms.reviewer: bholtorf
ms.search.keywords: feature overview
ms.date: 02/03/2022
ms.author: kepontop
ms.service: dynamics-365-business-central
---

# Develop Business Central report layouts and datasets

Reports in [!INCLUDE[prod_short](includes/prod_short.md)] have a report object that defines their dataset and layouts. The dataset provides the data in the report, and the layouts control how the data is presented.  

## Developing report layouts

Want to modify the layout of a report? For Excel and Word layouts, you can do that yourself. If you want pixel-perfect RDLC layouts though, you might need help from a developer. 

The following table provides links to articles that describe options for customizing reports.

| To | See |
|--|--|
| Learn about the different types of report layouts (Word, Excel, and RDLC) | [Layout types (Word, Excel, and RDLC)](ui-manage-report-layouts.md) |
| Learn how to create a new report layout. | [Create a new Layout](ui-get-started-layouts.md?tabs=copy#create) |
| Learn which fonts in [!INCLUDE[prod_short](includes/prod_short.md)] online you can use in report layouts. | [Using fonts in Layouts](ui-fonts.md) |
| Learn how to work with Word layouts. | [Work with Word Layouts](ui-how-add-fields-word-report-layout.md) |
| Learn how to import and export layout files. | [Import/Export a Layout](ui-how-import-and-export-report-layout.md) |
| Learn how to update a layout definition in [!INCLUDE[prod_short](includes/prod_short.md)] with a new layout file. | [Import/Export a Layout](ui-how-import-and-export-report-layout.md) |
| Learn how to change the default layout for a report. | [Change the default Layout](ui-how-change-layout-currently-used-report.md) |
<!-- | To learn how to work with Excel layouts | [Work with Excel Layouts](ui-how-add-fields-word-report-layout.md) | -->

## Developing report datasets

 Datasets define the data that's available in a report. To change the dataset for a report, you need a developer that knows about the AL programming language and the tools to develop report objects and report extensions.

| To | Go to |
|--|--|
| Learn how to program reports in AL. | [Report Development Guide](/dynamics365/business-central/dev-itpro/developer/devenv-reports) |
| Learn how to make reports perform. | [Report Performance Tuning Guide](/dynamics365/business-central/dev-itpro/performance/performance-developer#writing-efficient-reports) |

## Related information

[Business Intelligence and Reporting Overview](reports-use-reports.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-item-tracking
---
title: Design Details - Item Tracking
description: The item tracking system provides easy handling of serial and lot numbers, which may be needed for meeting legal requirements or assist with warranty handling. 
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 06/15/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Item Tracking
As the flow of goods in today's supply chain becomes more and more complex, the ability to keep track of items is increasingly important to the companies involved. Monitoring an item's transaction flow is a legal requirement in the business of medical and chemical supply, but other businesses may want to monitor products with warranties or expiration dates for customer service reasons.  

An item tracking system should provide a company with easy handling of serial and lot numbers, considering each unique piece of merchandise: when and where received, where stored, when and where sold. [!INCLUDE[prod_short](includes/prod_short.md)] has gradually expanded its coverage of this business requirement and today provides application-wide functionality and a solid core on which to develop extensions.  

## In This Section  
[Design Details: Item Tracking Design](design-details-item-tracking-design.md)  
[Design Details: Item Tracking Posting Structure](design-details-item-tracking-posting-structure.md)  
[Design Details: Active versus Historic Item Tracking Entries](design-details-active-versus-historic-item-tracking-entries.md)  
[Design Details: Item Tracking Lines Page](design-details-item-tracking-lines-window.md)  
[Design Details: Item Tracking Availability](design-details-item-tracking-availability.md)  
[Design Details: Item Tracking and Planning](design-details-item-tracking-and-planning.md)  
[Design Details: Item Tracking and Reservations](design-details-item-tracking-and-reservations.md)  
[Design Details: Item Tracking in the Warehouse](design-details-item-tracking-in-the-warehouse.md)

## Related information

[Work with Serial, Lot, and Package Numbers](inventory-how-work-item-tracking.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-assembly-order-posting
---
title: Design Details - Assembly Order Posting
description: Assembly order posting is based on the same principles as when posting the similar activities of sales orders and production consumption/output.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.date: 06/15/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Design Details: Assembly Order Posting
Assembly order posting is based on the same principles as when posting the similar activities of sales orders and production consumption/output. However, the principles are combined in that assembly orders have their own posting UI, like that for sales orders, while the actual entry posting happens in the background as direct item and resource journal postings, like that for production consumption, output, and capacity.  

Similarly to production order posting, the consumed components and the used resources are converted and output as the assembly item when the assembly order is posted. For more information, see [Design Details: Production Order Posting](design-details-production-order-posting.md). However, the cost flow for assembly orders is less complex, especially because assembly cost posting only occurs once and therefore does not generate work-in-process inventory.  

The following journal postings occur during assembly order posting:  

-   The item journal posts positive item ledger entries, representing output of the assembly item, from the assembly order header  
-   The item journal posts negative item ledger entries, representing consumption of assembly components, from the assembly order lines.  
-   The resource journal posts usage of assembly resources (time units), from the assembly order lines.  
-   The capacity journal posts value entries relating to the resource usage, from the assembly order lines.  

The following diagram shows the structure of item and resource ledger entries that result from assembly order posting.  

![Item, resource, and capacity ledger entries resulting from assembly order posting.](media/design_details_assembly_posting_1.png "Item, resource, and capacity ledger entries resulting from assembly order posting")  

> [!NOTE]  
>  Machine and work centers are included to illustrate that capacity ledger entries are created from both production and assembly.  

The following diagram shows how assembly data flows into ledger entries during posting:  

![Assembly-related entry flow during posting.](media/design_details_assembly_posting_2.png "AAssembly-related entry flow during posting")  

## Posting Sequence  
The posting of an assembly order occurs in the following order:  

1.  The assembly order lines are posted.  
2.  The assembly order header is posted.  

The following table outlines the sequence of actions.  

|Action|Description|  
|------------|-----------------|  
|Initialize Posting|1.  Make preliminary checks.<br />2.  Add posting number and modify the assembly order header.<br />3.  Release the assembly order.|  
|Post|<ol><li>Create the posted assembly order header.</li><li>Copy comment lines.</li><li>Post assembly order lines (consumption):<br /><br /> <ol><li>Create a status page to calculate assembly consumption.</li><li>Get the remaining quantity on which the item journal line will be based.</li><li>Reset the consumed and remaining quantities.</li><li>For assembly order lines of type Item:<br /><br /> <ol><li>Populate fields on the item journal line.</li><li>Transfer reservations to the item journal line.</li><li>Post the item journal line to create the item ledger entries.</li><li>Create warehouse journal lines and post them.</li></ol></li><li>For assembly order lines of type Resource:<br /><br /> <ol><li>Populate fields on the item journal line.</li><li>Post the item journal line. This creates capacity ledger entries.</li><li>Create and post resource journal line.</li></ol></li><li>Transfer field values from the assembly order line into a newly created posted assembly order line.</li></ol></li><li>Post the assembly order header (output):<br /><br /> <ol><li>Populate fields on the item journal line.</li><li>Transfer reservations to the item journal line.</li><li>Post the item journal line to create the item ledger entries.</li><li>Create warehouse journal lines and post them.</li><li>Reset the assembly quantities and remaining quantities.</li></ol></li></ol>|  

> [!IMPORTANT]  
>  Unlike for production output, which is posted at expected cost, assembly output is posted at actual cost.  

## Cost Adjustment  
 Once an assembly order is posted, meaning that components (material) and resources are assembled into a new item, then it should be possible to determine the actual cost of that assembly item, and the actual inventory cost of the components involved. This is achieved by forwarding costs from the posted entries of the source (the components and resources) to the posted entries of the destination (the assembly item). The forwarding of costs is done by calculating and generating new entries, called adjustment entries that become associated with the destination entries.  

 The assembly costs to be forwarded are detected with the Order Level detection mechanism. For information about other adjustment detection mechanisms, see [Design Details: Cost Adjustment](design-details-cost-adjustment.md).  

### Detecting the Adjustment  
The order Level detection function is used in conversion scenarios, production and assembly. The function works as follows:  

-   Cost adjustment is detected by marking the order whenever a material/resource is posted as consumed/used.  
-   Cost is forwarding by applying the costs from material/resource to the output entries associated with the same order.  

The following graphic shows the adjustment entry structure and how assembly costs are adjusted.  

![Assembly-related entry flow during cost adjustment.](media/design_details_assembly_posting_3.png "Assembly-related entry flow during posting")  

### Performing the Adjustment  
The spreading of detected adjustments from material and resource costs onto the assembly output entries is performed by the **Adjust Cost – Item Entries** batch job. It contains the Make Multilevel Adjustment function, which consists of the following two elements:  

-   Make Assembly Order Adjustment – which forwards cost from material and resource usage to the assembly output entry. Lines 5 and 6 in the algorithm below are responsible for that.  
-   Make Single Level Adjustments – which forwards costs for individual items using their costing method. Lines 9 and 10 in the algorithm below are responsible for that.  

![Summary of the cost adjustment algorithm for assembly posting.](media/design_details_assembly_posting_4.jpg "Summary of the cost adjustment algorithm for assembly posting")  

> [!NOTE]  
>  The Make WIP Adjustments element, in lines 7 and 8, is responsible for forwarding production material and capacity usage to the output of unfinished production orders. This is not used when adjusting assembly order costs as the concept of WIP does not apply to assembly.  

For information about how costs from assembly and production are posted to the general ledger, see [Design Details: Inventory Posting](design-details-inventory-posting.md).  

## Assembly Costs are Always Actual  
 The concept of work in process (WIP) does not apply in assembly order posting. Assembly costs are only posted as actual cost, never as expected cost. For more information, see [Design Details: Expected Cost Posting](design-details-expected-cost-posting.md).  

This is enabled by the following data structure.  

-   In the **Type** field on item journal lines, in the **Capacity Ledger Entry** and **Value Entry** tables, *Resource* is used to identify assembly resource entries.  
-   In the **Item Ledger Entry Type** field on item journal lines, in the **Capacity Ledger Entry** and **Value Entry** tables, *Assembly Output* and *Assembly Consumption* are used to identify the output assembly item entries and the consumed assembly component entries respectively.  

In addition, posting group fields on the assembly order header and assembly order lines are populated by default as follows.  

|Entity|Type|Posting Group|Gen. Prod. Posting Group|  
|------------|----------|-------------------|------------------------------|  
|Assembly Order Header|Item|Inventory Posting Group|Gen. Prod. Posting Group|  
|Assembly Order Line|Item|Inventory Posting Group|Gen. Prod. Posting Group|  
|Assembly Order Line|Resource||Gen. Prod. Posting Group|  

Accordingly, only actual costs are posted to the general ledger, and no interim accounts are populated from assembly order posting. For more information, see [Design Details: Accounts in the General Ledger](design-details-accounts-in-the-general-ledger.md)  

## Assemble to Order  
The item ledger entry that results from posting an assemble-to-order sale is fixed applied to the related item ledger entry for the assembly output. Accordingly, the cost of an assemble-to-order sale is derived from the assembly order that it was linked to.  

Item ledger entries of type Sale that result from posting assemble-to-order quantities are marked with **Yes** in the **Assemble to Order** field.  

Posting sales order lines where a part is inventory quantity and another part is assemble-to-order quantity results in separate item ledger entries, one for the inventory quantity and one for the assemble-to-order quantity.  

### Posting dates

In general, posting dates are copied from a sales order to the linked assembly order. The posting date in the assembly order is automatically updated when you change the  posting date in the sales order directly or indirectly, such as if you change the posting date in the warehouse shipment, inventory pick, or as part of a bulk posting.

You can change the posting date in the assembly order manually. However, it can not be later then posting date in the linked sales order. The system will keep this date unless you update the posting date in the sales order.


## Related information  
 [Design Details: Inventory Costing](design-details-inventory-costing.md)   
 [Design Details: Production Order Posting](design-details-production-order-posting.md)   
 [Design Details: Costing Methods](design-details-costing-methods.md)  
 [Managing Inventory Costs](finance-manage-inventory-costs.md)  
 [Finance](finance.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-reconciliation-with-copilot
---
title: Reconcile bank accounts with Copilot (preview)
description: Learn how to use Copilot to reconcile bank accounts in Business Central.
author: jswymer 
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: how-to 
ms.collection:
  - get-started
  - bap-ai-copilot
ms.date: 04/01/2025
ms.custom: bap-template 
---

# Reconcile bank accounts with Copilot

This article explains how bank account reconciliation assist can help you reconcile bank transactions with ledger entries in Microsoft Dynamics 365 Business Central.

## About bank account reconciliation assist

Bank account reconciliation assist is a set of AI-powered features that help you reconcile bank accounts. It offers two distinct tasks through Copilot:

- Improved matching of transactions with ledger entries

    As you might already know, the **Match Automatically** button on the **Bank Acc. Reconciliation** page automatically matches most bank transactions with ledger entries. We refer to this operation as *automatch*. Although automatch works well, the algorithms that it uses can sometimes result in many unmatched transactions. Copilot uses AI technology to inspect those unmatched transactions and identify more matches, based on the dates, amounts, and descriptions. For example, if a customer paid multiple invoices in one lump sum that you have registered as individually paid invoices, Copilot reconciles the single bank statement line with the multiple bank ledger entries.

    [Learn more about this task](#reconcile-bank-accounts-with-copilot).

- Suggested general ledger (G/L) accounts

    For residual bank transactions that can't be matched to any ledger entries, Copilot compares the transaction description with G/L account names and then suggests the most likely G/L account to post to. For example, if unmatched transactions have the narrative *Fuel Stop 24*, Copilot might suggest that you post them to the *Transportation* account.

    [Learn more about this task](#post-unmatched-bank-transaction-amounts-to-suggested-gl-accounts).

## Supported languages

[!INCLUDE[copilot-language-support](includes/copilot-language-support.md)]

## Prerequisites

- The **Bank account reconciliation** capability is activated. An administrator must complete this task. Learn more in [Configure Copilot and agent capabilities](enable-ai.md).
- You're familiar with bank account reconciliation in Business Central. Learn more in [Reconcile Bank Accounts](bank-how-reconcile-bank-accounts-separately.md).

## Reconcile bank accounts with Copilot

<!-- Similar to the **Match Automatically** capability on the **Bank Acc. Reconciliation** page, Bank account reconciliation assist can also automatically matches transactions in banks statements with bank entries. The difference is that **Match Automatically** uses a native rules-based algorithm, while Bank account reconciliation assist is based AI technology though Copilot. Bank account reconciliation assist is intended to supplement the **Match Automatically** capability. While **Match Automatically** is fairly successful at matching transactions, there are some instances where it can't&mdash;which is where Bank account reconciliation assist comes. By using the **Reconcile with Copilot** action on **Bank Acc. Reconciliation** page, you can find even more matches.-->

Copilot in bank account reconciliation is intended to supplement the automatch operation. Therefore, when you use Copilot, the automatch operation runs first to make the initial matches. Then Copilot runs to try to match transactions that the automatch operation didn't handle.

You can use two approaches to reconcile bank accounts with Copilot:

- Use Copilot to start a new reconciliation on a bank account, directly from the **Bank Account Reconciliations** list.
- Use Copilot on a new or existing reconciliation on a **Bank Acc. Reconciliation** card.

# [From the Bank Account Reconciliation list](#tab/fromlist)

For this approach, you create and reconcile a new bank account reconciliation from scratch. This approach requires that you select the bank account. If the bank account isn't linked to an online account, you must also import the bank statement file.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Account Reconciliations**, and then select the related link.
1. Select ![Shows the copilot icon](media/copilot-icon.png) **Start a Copilot prompt action** > **Reconcile** to open the **Reconcile with Copilot** window.
1. Set the **Perform reconciliation for this bank account** field to the bank account that you want to reconcile.

    ![Screenshot that shows the Reconcile with Copilot window for reconciling from scratch.](media/reconcile-bank-accounts-new-copilot.svg)

1. If the selected bank account isn't linked to an online bank account, you must import the bank statement file. To import the file, either select the value in the **Use transaction data from** field or select the paper clip button next to the **Generate** button. Then use **Select the file to import** to import the bank statement file by either dragging it from your device or browsing your device.
1. To reconcile with Copilot, select **Generate**.

    Copilot starts to generate proposed matches. When it finishes, the **Reconcile with Copilot** window shows the results of the matching process.

1. Review the proposed matches as described in the next section.

# [From a Bank Acc. Reconciliation card](#tab/fromcard)

For this approach, you use Copilot either on a new bank account reconciliation that you manually create or by editing an existing reconciliation.

1. Select the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Account Reconciliations**, and then select the related link.
1. Follow one of these steps:

    - Select **New** to start a new reconciliation. Add the statement lines, either manually or by using **Suggest Lines** action to get a copy of the bank ledger entries as a starting point.
    - Select and open an existing reconciliation in the list.

1. On the **Bank Acc. Reconciliation** card, select ![Shows the Copilot icon](media/copilot-icon-rainbow.png) > **Reconcile with Copilot** in the upper-right corner.

    ![Screenshot that shows the Reconcile with Copilot button on a Bank Acc. Reconciliation card.](media/bank-reconciliation-copilot-card.png)

    Copilot starts to generate proposed matches. When it finishes, the **Reconcile with Copilot** window shows the results of the matching process.

1. Review the proposed matches as described in the next section.
---

### Review, save, or discard proposed matches

After you run Copilot, the **Reconcile with Copilot** window shows the detailed results, including any proposed matches. At this point, no match that Copilot proposed has been saved. Therefore, you have an opportunity to inspect the proposals and save or discard them as you want.

![Screenshot that shows proposed matches in the Reconcile with Copilot window.](media/bank-reconciliation-copilot-window.png)

The **Reconcile with Copilot** window is divided into two sections. The upper section provides some general details about the result. The lower section, **Match proposals**, lists the matches that Copilot proposed.

The following table describes the fields in the upper section.

| Field | Description |
|---|---|
| Auto-matched | The number of bank statement lines that the automatch operation matched. Select the value to view the reconciliation card. |
| Copilot matched | The number of bank statement lines that Copilot proposed matches for. You can view details of the matches in the **Match proposals** section. |
| Statement Ending Balance | The ending balance that is shown on the bank statement that you're reconciling with. |
| Post if fully applied | Turn on this option to automatically post the bank account reconciliation when all lines (100 percent) are matched and you select **Keep it**. |

In the **Match proposals** section, review the proposed matches line by line. Then take the appropriate action:

- To discard a single proposed match, select it in the list, and then select **Delete Line**.
- To discard all proposed matches and close the **Reconcile with Copilot** window, select the ![Discard button.](media/copilot-delete-trash-can.png) **Discard it** button next to the **Keep it** button at the bottom of the window.
- To automatically post the fully matched reconciliation when you save it, turn on the **Post if fully applied** option.
- To save the matches that are currently shown in the **Reconcile with Copilot** window, select **Keep it**.

## Post unmatched bank transaction amounts to suggested G/L accounts

This section explains how to use Copilot to post unreconciled bank account statement line amounts (as specified in the **Difference** field) to a G/L account. This task can be done only from an existing reconciliation.

1. Go to the **Bank Account Reconciliations** list, and open the existing reconciliation that includes the unreconciled lines.

    This step gives you a clear view of any unreconciled bank statement lines that must be transferred to the G/L account.

1. In the **Bank statement lines** pane, identify the unmatched bank statement lines, and select one or more lines that you want to reconcile.

    Copilot focuses on the selected lines to post new payments to the G/L account.

1. Select ![Shows the Copilot icon](media/copilot-icon-rainbow.png) > **Post Difference to G/L Account** to start the process.

    ![Screenshot that shows the Post Difference to G/L Account button on the Bank Acc. Reconciliation card.](media/bank-reconciliation-transfer-gl-copilot-card.png)

    Copilot starts to generate proposals for posting new payments.

1. After Copilot finishes generating proposals, the **Copilot Proposals for Posting Differences to G/L Accounts** window appears.

    The **Match proposals** section of this window shows the proposals. The experience resembles the experience for reconciling with Copilot.

    ![Screenshot that shows Copilot Proposals for Posting Differences to G/L Accounts window.](media/bank-reconciliation-gl-transfer-proposed-matches-v2.png)

    To post the differences as regular journal entries, you must specify the general journal template and batch to use. This allows you to reverse the transaction if you need to later.

1. Review the proposals line by line to ensure the accuracy of the suggested payments for posting.

    - If you drill down on the proposal by selecting it in the list, you're taken to a list of accounts. From there, you can select another account. You can do this type of manual correction only when you use the **Post Difference to G/L Account** flow, not the matching flow.
    - If you select **Save** next to a proposal, you can add the mapping to the **Text-to-Account Mapping** page. Then, the next time that this text appears during matching, it's mapped to the proposed account.

1. Discard or save proposals.

    - To discard a specific proposal, select it in the list, and then select **Delete Line**. To discard all proposals and close Copilot, select the ![Discard button.](media/copilot-delete-trash-can.png) **Discard it** button next to the **Keep it** button at the bottom of the window.
    - If the proposals meet your requirements, and you want to save them, select **Keep it**.

         This step confirms the transfer of the currently selected proposals from the bank account ledger to the G/L account. It posts new payments to the proposed G/L accounts and applies corresponding lines to the resulting bank account ledger entries.

## Next steps

[Validate your bank account reconciliation](bank-how-reconcile-bank-accounts-separately.md#validate-your-bank-reconciliation)

## Related information

[Troubleshoot Copilot and agent capabilities](ai-copilot-troubleshooting.md)  
[Responsible AI FAQ for bank reconciliation assist](faqs-bank-reconciliation.md)  
[Setting Up Banking](bank-setup-banking.md)  
[Reconcile Bank Accounts](bank-how-reconcile-bank-accounts-separately.md)  
[Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-date-calculation-for-purchases
---
title: Calculate Dates for purchases
description: This article describes how you can calculate dates for purchases. 
author: brentholtorf 
ms.topic: how-to
ms.devlang: al
ms.search.keywords: purchase order, purchase, date, receipt, delivery, lead time
ms.search.forms: 
ms.date: 04/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Calculate Dates for purchases

If you want to have items in inventory on a certain date, [!INCLUDE[prod_short](includes/prod_short.md)] can automatically calculate the date on which you must order them. 

The result is the date on which you can pick the items that you ordered.  

If you specify a requested receipt date on a purchase order line, the calculated order date is the date on which you must place the order. The date on which the items will be available for picking displays in the **Expected Receipt Date** field.  

If you don't specify a requested receipt date, the date you expect to receive the items is based on order date on the line. 

The receipt date is also the date when the items will be available for picking.  

> [!TIP]
> By default, many of the date fields this article mentions are hidden on purchase order lines. If a field isn't available, you can add it by personalizing the page. For more information, see [Personalize Your Workspace](ui-personalization-user.md).

## Calculating with a requested receipt date

If there's a requested receipt date on the purchase order line, that date is the basis for the following calculations:  

- requested receipt date - lead time calculation = order date  
- requested receipt date + inbound whse. handling time + safety lead time = expected receipt date  

If you specify a requested receipt date on a purchase order line, that date is assigned to new lines as you create them. You can change or remove the date on the lines.  

> [!NOTE]
> If your process is based on backward calculation, for example, if you use the requested receipt date to get the order date, we recommend that you use date formulas that have fixed durations, such as "5D" for five days or "1W" for one week. Date formulas without fixed durations, such as "CW" for current week or CM for current month, can result in incorrect date calculations. For more information about date formulas, see [Work with Calendar Dates and Times](ui-enter-date-ranges.md).

## Calculating without a requested receipt date

If you enter a purchase order line without a requested receipt date, the **Order Date** field on the line shows the date in the **Order Date** field on the purchase order header. This date is either the date you entered or the work date. The dates are then calculated for the purchase order line, with the order date as the starting point, as follows:  

- order date + lead time calculation = planned receipt date  
- planned receipt date + inbound whse. handling time + safety lead time = expected receipt date  

If you change the order date on the line, [!INCLUDE[prod_short](includes/prod_short.md)] recalculates the other dates.  

## Default values for lead time calculation

[!INCLUDE[prod_short](includes/prod_short.md)] uses the date formula in the **Lead Time Calculation** field on the purchase order line to calculate the order and expected receipt dates.  

You can manually specify the date formula on lines. Otherwise, [!INCLUDE[prod_short](includes/prod_short.md)] will use the formulas that are defined on the following pages in this order of priority:

1. Item/Vendor Catalog
2. Item Card
3. Stockkeeping Unit Card
4. Vendor Card

## Related information

[Date Calculation for Sales](sales-date-calculation-for-sales.md)  
[Calculate Order Promising Dates](sales-how-to-calculate-order-promising-dates.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-emissions-by-category-and-scope
---
title: Emissions by Category and Scope
description: The Emission by Scope report organizes emission types based on the account category and scope to show how they're tracking.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 05/26/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Emissions by Category and Scope (Power BI Report)

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

The Emission by Category and Scope report gives an overview of values for individual emissions. The report organizes emissions values by account category, subcategory, and then the different scopes. With this breakdown, you can identify key account categories that are tracking high emissions and make an informed decision on where to make changes.

:::image type="content" source="media\sustainability\emissions-by-category-and-scope.png" alt-text="Screenshot of the Emissions by Category and Scope Power BI report" lightbox="media\sustainability\emissions-by-category-and-scope.png":::

## Use the report

Sustainability Managers use the report to get clear, concise information about the organization's emissions. The report can help identify irregularities based on a specific scope or a category.

Procurement Managers use this report to analyze the impacts of Scope 3 emissions related to the purchase of goods and services. This analysis can help to identify key suppliers and prioritize partnerships with more sustainable vendors.

## Key performance indicators (KPIs)

The Emission by Category and Scope report includes the following KPIs and measures:

- [CO2 Emissions](sustainability-powerbi-kpis.md#co2-emissions)
- [CH4 Emissions](sustainability-powerbi-kpis.md#ch4-emissions)
- [N2O Emissions](sustainability-powerbi-kpis.md#n2o-emissions)

Choose the link for a KPI to learn more about what it means, its calculation, and what data is used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The Emission by Category and Scope report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Sustainability Ledger Entry
- Sustainability Account Category

## Try the report

Try the report here: [Emissions by Category and Scope](https://businesscentral.dynamics.com?page=37088)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability management overview](finance-manage-sustainability.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-register-consumption-and-output
---
title: Register consumption output for a production order
description: This article explains how to register consumption and output for a released production order line.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.form: 5510,
ms.date: 04/08/2025
ms.service: dynamics-365-business-central

---
# Register consumption and output for a released production order

Use the **Production Journal** page to register consumption output for a released production order. The journal combines the functions of the separate consumption journal and output journals into one journal. You open the combined journal from a released production order. Its purpose is to manually post the consumption of components, the quantity of end items produced, and the time spent on operations. The values post to ledger entries under the released production order. Consumption quantities post as negative item ledger entries, output quantities post as positive ledger entries, and time spent posts as capacity ledger entries. The posted values also display at the bottom of the journal as actual quantities.  

> [!NOTE]  
> Because consumption data is processed together with output data, this journal displays linked components and operations in a logical process structure. Components are indented under their respective operation. This linking requires that you use routing link codes. To learn more about routing links, go to [To create routing links](production-how-to-create-routings.md#to-create-routing-links).  

> [!NOTE]  
> Components without routing link codes list first in the journal.  

## To register consumption and output  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon enter **Released Prod. Orders**, and then choose the related link.  
2. Open a released production order line that's ready to register. On the **Lines** FastTab, choose the **Line** action, and then choose the **Production Journal** action.  

    The **Production Journal** page shows journal lines for the production order line according to the **Prod. Order Component** and **Prod. Order Routing** pages. These lines come from the production BOM and routing assigned to the item that is being produced. To learn more, go to [Create Production BOMs](production-how-to-create-routings.md).  

3. In the **Posting Date** field, enter a posting date that applies to all lines. The work date is entered by default. The field is meant as a quick way to align posting dates on all lines, if relevant.  

    > [!NOTE]  
    > Posting dates on individual lines override this field.  

4. In the **Flushing Method Filter** field, you can choose to also view consumption and output that is posted automatically according to the flushing methods defined for the item and resource respectively. To learn more, go to [Enable Flushing of Components According to Operation Output](production-how-to-flush-components-according-to-operation-output.md).

5. Enter the consumption and output quantities.  
  
    On each type of line in the journal, only the relevant fields are shown. Other fields are blank and you can't edit them.  

    When you open the journal, it shows the quantities to post. If nothing is posted so far, all quantity fields show the expected quantities from the production order. If partial postings were done, the quantity fields on the lines show the remaining quantities. The quantities and times already posted for the order display at the bottom of the journal as actual entries.  

    > [!TIP]
    > For the quantities in the **Output Quantity** field, you can specify which values to preset when you first open the journal. On the **Manufacturing Setup** page, on the **General** FastTab, enter the value in the **Preset Output Quantity** field.

    > [!NOTE]  
    > Only the output quantity on the last journal line of entry type **Output** adjusts the inventory level when posting the journal. Therefore, don't post the journal with the expected output quantity preset on the last output line until all end items are produced.  

6. Select the **Finished** field of output lines to indicate that the operation is finished. This field is related to the **Routing Status** field on a production order routing line.  
7. Choose the **Post** action to register the quantities and then close the journal.  

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

    If values remain to be posted, the journal contains the remaining values the next time you open it. Posted values show as actual values in the bottom of the journal.  

    > [!NOTE]  
    > If an item that's being consumed is blocked, the journal doesn't post consumption quantities for it. If a machine or work center is blocked, the journal doesn't post output quantities or process times for the output line.  

    > [!NOTE]  
    > If you close the journal without posting, the changes are lost.  

> [!WARNING]  
> Only one person can use the **Production Journal** page at a time. For example, User 2 opens the page and enters data when User 1 is already working on the page. User 2 might lose their data when User 1 closes the page.  

## Related information  

[Cancel production orders that have consumption](production-cancel-production-orders-that-have-consumption.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/design-details-general-journal-post-line-overview
---
title: General Journal Post Line Overview
description: This topic introduces changes to Codeunit 12, Gen. Jnl.-Post Line, and is the only place to insert general ledger, VAT, and customer and vendor ledger entries.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: design, general ledger, post
ms.date: 06/15/2021
ms.author: bholtorf

ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# General Journal Post Line Overview

Codeunit 12, **Gen. Jnl.-Post Line**, is the major application object for general ledger posting and is the only place to insert general ledger, VAT, and customer and vendor ledger entries. This codeunit is also used for all Apply, Unapply and Reverse operations.  
  
In Microsoft Dynamics NAV 2013 R2, the codeunit was redesigned because it had become very large, with approximately 7,600 code lines. The architecture was changed and the codeunit has been made simpler and more maintainable. This documentation describes the changes and provides information that you will need for upgrade.  
  
## Old Architecture  
The old architecture had the following features:  
  
* There was extensive use of global variables, which increased the possibility of hidden errors due to use of variables with the wrong scope.  
* There were many long procedures (with more than 100 code lines) that also had high cyclomatic complexity (that is, a lot of CASE, REPEAT, IF nested statements), which made the code very difficult to read and maintain.  
* Several procedures that were only used locally and were only meant to be used locally were not marked as local.  
* Most procedures had no parameters and used global variables. Some used parameters and overrode global variables with locals.  
* Code patterns for searching the general ledger accounts and creating general ledger and VAT entries was not standardized and varied from place to place. In addition, there was a lot of code duplication and broken symmetry between customer and vendor code.  
* A large part of the code in codeunit 12, approximately 30 percent, related to payment discount and tolerance calculations, although these features are not needed in many countries or regions.  
* Posting, Apply, Unapply, Reverse, Payment Discount and Tolerance, and Exchange Rate Adjustment were married together in codeunit 12 using a long list of global variables.  
  
### New Architecture  
In [!INCLUDE[prod_short](includes/prod_short.md)], codeunit 12 has had the following improvements:  
  
* Codeunit 12 has been refactored into smaller procedures (all less than 100 code lines).  
* Standardized patterns for the search of general ledger accounts have been implemented by using helper functions from Posting Group tables.  
* A Posting Engine Framework has been implemented to manage the start and finish of transactions and to isolate the creation to general ledger and VAT entries, the collection of VAT adjustment, and the calculation of additional currency amounts.  
* Code duplication has been eliminated.  
* Many helper functions have been transferred to corresponding customer and vendor ledger entry tables.  
* The use of global variables has been minimized, so that each procedure uses parameters and encapsulates its own application logic.  
  
## Related information

[Design Details: Posting Interface Structure](design-details-posting-interface-structure.md)  
[Design Details: Posting Engine Structure](design-details-posting-engine-structure.md)  
[Design Details: General Journal Post Line (Dynamics NAV)](/dynamics-nav-app/design-details-general-journal-post-line)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-analytics-overview
---
title: Fixed assets analytics
description: Learn how to gather, analyze, and share data about fixed assets for business intelligence.
author: brentholtorf
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: bi, power BI, analysis, KPI
ms.search.form: 5601, 5600, 5615, 5616, 5617, Report_5600, Report_5601, Report_5603, Report_5604, Report_5605, Report_5606, Report_5607, Report_5608, Report_5610
ms.date: 05/22/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Fixed assets analytics

Businesses with fixed assets capture a lot of data about them during daily activities. That data supports valuable business intelligence (BI) for fixed assets managers:

- Asset acquisitions
- Asset deprecation
- Insurance and maintenance
- Asset budgets

[!INCLUDE[prod_short](includes/prod_short.md)] provides features to help you gather, analyze, and share data about your organization's fixed assets:

- Financial reporting (for financial statements and KPIs on fixed assets accounts)
- Ad-hoc analysis on lists
- Ad-hoc analysis of data in Excel (using open in Excel)
- Built-in fixed assets analytics tools
- Built-in fixed assets reports

> [!NOTE]
> Analytics for fixed assets is a little different than other areas. You need to analyze data that's already present, such as asset acquisitions, deprecation, and insurance, but also data about future (projected) data, such as depreciation and asset retirements. For the latter type of analysis, [!INCLUDE[prod_short](includes/prod_short.md)] has built-in reports that can calculate these numbers.

Each feature has its advantages and disadvantages, depending on the type of data analysis and the role of the user. To learn more, go to [Analytics, business intelligence, and reporting overview](reports-bi-reporting.md).

This article describes ways use these analytical features to get insights into your fixed assets.

## Analytics needs in asset management

When thinking of analytics needs in asset management, it might help to use a persona-based model that describes their analytics needs at a high-level.

:::image type="content" source="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas.svg" alt-text="Illustration of different personas for analytics" lightbox="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas.svg":::

When it comes to data, people in different roles have different needs, and they use the data in different ways. For example, people in asset management and finance interact with data differently than people in sales.

:::image type="content" source="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas-scenarios.svg" alt-text="Illustration of how different personas have different analytics needs." lightbox="/dynamics365/business-central/dev-itpro/developer/media/analytics-personas-scenarios.svg":::

| Role              | Data aggregation  | Typical ways to consume data                          | 
|-------------------|-------------------| ----------------------------------------------------- |
|CFO / COO / CEO                 | Performance data  | KPIs <br> Dashboards <br> Financial reports           |
|Asset Management / Controller   | Trends, summaries | Built-in managerial reports <br> Ad-hoc analysis      | 
|Bookkeeper                      | Detailed data     | Built-in operational reports <br> On-screen task data |

## Asset Management KPIs

A key performance indicator (KPI) is a measurable value that shows how effectively you’re meeting your goals. In asset management, people often use the following KPIs to monitor their organization's use of assets:

- Total Asset Turnover
- Return on Assets

## Use financial reporting to produce financial statements and KPIs related to fixed assets

The **Financial Reporting** feature gives you insights into the financial data shown on your chart of accounts (COA). You can set up financial reports to analyze figures in general ledger (G/L) accounts, and compare general ledger entries with budget entries. Specifically for asset management, you can set up financial reports on the general ledger (G/L) accounts that you use to track fixed assets postings.

Dimensions play an important role in business intelligence. A dimension is data that you can add to an entry as a parameter. Dimensions let you group entries that have similar characteristics, such as customers, products, and salesperson, and easily retrieve these groups for analysis. Among other purposes, you use dimensions when you define analysis views and create financial reports. Learn more at [Work with Dimensions](finance-dimensions.md).

To learn more about financial reporting, go to [Prepare Financial Reports with Financial Data and Account Categories](bi-how-work-account-schedule.md).

## Finance reporting across business units or legal entities (related to fixed assets)

Some organizations use [!INCLUDE [prod_short](includes/prod_short.md)] in multiple business units or legal entities. Others use [!INCLUDE [prod_short](includes/prod_short.md)] in subsidiaries report to parent organizations. [!INCLUDE [prod_short](includes/prod_short.md)] gives accountants tools that help them transfer general ledger entries from two or more companies (subsidiaries) into a consolidated company. Specifically for asset management, you might want to consolidate general ledger entries for your fixed assets accounts to be able to track fixed assets KPIs across business units or legal entities.

To learn more, go to [Company consolidation](finance-consolidated-company-reporting.md).

## Ad-hoc analysis of fixed assets data

Sometimes, you just need to check whether the numbers add up correctly, or quickly confirm a figure. The following features are great for ad-hoc analyses:

- Data analysis on ledger list pages
- Open in Excel

The data analysis feature lets you open almost any list page, such as **General Ledger Entries** or **Fixed Asset Ledger Entries**, enter analysis mode, and then group, filter, and pivot data as you see fit.

:::image type="content" source="media/data-analysis-fa-ledger-entries-asset-overview-current-value.png" alt-text="Example of how to do data analysis on the FA Ledger Entries page to see asset value." lightbox="media/data-analysis-fa-ledger-entries-asset-overview-current-value.png":::

Similarly, you can use the **Open in Excel** action to open a list page for ledger entries, optionally filter the list to a subset of the data, and then use Excel to work with the data. For example, by using features such as Analyze Data, What-If Analysis, or Forecast Sheet.

<!-- :::image type="content" source="media/open-in-excel-gl-entries.png" alt-text="Example of how to do data analysis on the G/L entries data using Excel." lightbox="media/open-in-excel-gl-entries.png"::: -->

[!INCLUDE [onedrive-excel-online](includes/onedrive-excel-online.md)]

For more information on how to do ad-hoc analysis on Fixed Assets ledgers, see [Ad-hoc analysis of fixed assets data](ad-hoc-analysis-fa.md).


## Built-in reports for fixed assets

[!INCLUDE [prod_short](includes/prod_short.md)] includes several built-in reports, tracing functions, and tools to help auditors or controllers who report on fixed assets.

[!INCLUDE [fa_reports_report_explorer](includes/fa-reports-report-explorer-include.md)]

For more information about reports that are relevant for fixed assets, see [Built-in fixed assets reports](fa-reports.md).

## On-screen fixed assets analytics

[!INCLUDE [prod_short](includes/prod_short.md)] has several pages that give you fixed assets overviews and tasks to do. Here are some examples to get you started:

- [Calculate depreciation, post depreciation, and analyze depreciation](fa-how-depreciate-amortize.md)
- [Monitor maintenance costs](fa-how-maintain.md#monitor-maintenance-costs)
- [Monitor insurance coverage](fa-how-insure.md#to-monitor-insurance-coverage)
- [View changed depreciation book values](fa-how-trans-split-combine.md#to-view-changed-depreciation-book-values-due-to-fixed-asset-reclassification)
- [View disposal ledger entries](fa-how-dispose-retire.md#to-view-disposal-ledger-entries)
- [View projected disposal values](fa-how-manage-budgets.md#to-view-projected-disposal-values)

### Show fixed asset general ledger entries and balances from the Chart of Accounts page

The Chart of Accounts page shows all general ledger accounts with aggregated numbers in the general ledger. From this page, you can do things like:  

- View reports that show general ledger entries and balances.  
- Review a list of posting groups for that account.
- View separate debit and credit balances for a single account.

Specifically for fixed assets, you can create a view on the Chart of Accounts page that only shows asset accounts, or maybe only the asset accounts you use for posting fixed assets entries.

:::image type="content" source="media/chart-of-accounts-page-fa.png" alt-text="Example of how the Chart of Accounts page shows finance insights" lightbox="media/chart-of-accounts-page-fa.png":::

To learn more, go to [Understand the Chart of Accounts](finance-general-ledger.md#the-chart-of-accounts).

### Analyze data by dimensions (related to fixed assets)

Dimensions are values that categorize entries so you can track and analyze them on documents, such as FA journals. Dimensions can, for example, indicate the department or location an entry came from.  

So, instead of setting up separate general ledger accounts for each department or location, you can use dimensions as a basis for analysis and avoid having to create a complicated chart of accounts structure.

To learn more, go to [Analyze Data by Dimensions](bi-how-analyze-data-dimension.md)

## Related information

[Handling finance reporting across business units or legal entities](finance-consolidated-company-reporting.md)  
[Prepare Financial Reports with Financial Data and Account Categories](bi-how-work-account-schedule.md)  
[Understand the Chart of Accounts](finance-general-ledger.md#the-chart-of-accounts)  
[Ad-hoc analysis of fixed assets data](ad-hoc-analysis-fa.md)   
[Built-in fixed assets reports](fa-reports.md)  
[Analytics, business intelligence, and reporting overview](reports-bi-reporting.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-to-create-prepayment-invoices
---
title: Create prepayment invoices
description: Handle situations where you or your vendor require prepayment. Use the default percentages for each sales or purchase line or adjust the amount as necessary.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 07/23/2024
ms.custom: bap-template
ms.search.form: 42, 50, 9305, 9307
ms.service: dynamics-365-business-central
---
# Create prepayment invoices

If you require customers to pay before you'll ship their order, you can use the prepayment features. The same applies if your vendor requires you to pay before they ship an order to you.  

You can start the prepayment process when you create a sales or purchase order. The default prepayment percentage for an item on the order, or for the customer or vendor, will be included in the prepayment invoice. You can also specify a prepayment percentage to the entire document.

After you create a sales or purchase order, you can create a prepayment invoice for it. Either use the default percentages for each sales or purchase line, or adjust the amount. For example, you might specify a total amount for the entire order.  

The following procedure describes how to invoice a prepayment for a sales order. The steps are similar for purchase orders.  

## To create a prepayment invoice

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Create a new sales order for the relevant customer. For more information, see [Sell Products](sales-how-sell-products.md).  

    On the **Prepayment** FastTab, the **Prepayment %** field specifies the percentage to use to calculate the prepayment amount. If there's a default prepayment percentage on the customer card, the field is filled in automatically. You can change the percentage. <!--This percentage is applied to lines where the item on that line does not already specify a prepayment percentage. The prepayment percentage is only copied from the header to lines that do not copy the default prepayment percentage from the item.-->  

    Choose the **Compress Prepayment** field if you want to create lines on the prepayment invoice that combine lines from the sales order if:  

    - They have the same general ledger account for prepayments as determined by the general posting setup.  
    - They have the same dimensions.  

    If you want to specify a prepayment invoice with one line for each sales order line that has a prepayment percentage, don't choose the **Compress Prepayment** field.  

    The due date for the prepayment is calculated automatically based on the value of the **Prepmt. Payment Terms Code**.

    > [!NOTE]
    > When some lines on an invoice require 100% prepayment and other lines don't, and there's VAT on the prepayment account, the rounded amount might cause an error when you create a prepayment invoice. The error occurs because the prepayment invoice amount is higher than the amounts on the document lines. To fix the problem, change the amounts on one or all of the lines that require 100% prepayment. The change will recalculate the VAT amount rounding and use the accumulated rounding difference on the last modified line.
    >
    > Two more ways to fix the problem are:
    >
    > * Create a separate VAT product posting group and a VAT posting setup with a separate VAT identifier and use that for the items or lines that require 100% prepayment. Rounding is done for each VAT identifier, so separate rounding will be done for items that are assigned to the VAT product posting group.
    > * Use a separate invoice for the items or lines that do and don't require 100% prepayments.

3. Fill in the sales lines.  

    If you've specified a default prepayment percentage either for the customer or on the **Prepayment** FastTab on this document, this value is copied to each line. You can change the contents of the **Prepayment %** field on the line.  

    > [!TIP]
    > If you do not see the **Prepayment %** field, you can add it through personalization.  For more information, see [Personalize Your Workspace](ui-personalization-user.md).

4. To view the total prepayment amount, choose the **Statistics** action.

    If you want to adjust the total prepayment amount for the order, you can change the contents of the **Prepayment Amount** field on the **Sales Order Statistics** page.  

    If the **Prices Including VAT** field is selected, the **Prepayment Amount Incl. VAT** field is editable.  

    If you change the contents of the **Prepayment Amount** field, the amount will be distributed proportionately between all lines, except lines that have **0** in the **Prepayment %** field.  

5. To print a test report before posting the prepayment invoice, choose the **Prepayment** action, and then choose the **Prepayment Test Report** action.  
6. To post the prepayment invoice, choose the **Prepayment** action, and then choose the **Post Prepayment Invoice** action.  

    To post and print the prepayment invoice, choose the **Post and Print Prepmt. Invoice** action.  

You can issue other prepayment invoices for the order. To issue another invoice, increase the prepayment amount on one or more lines, adjust the document date if necessary, and post the prepayment invoice. A new invoice will be created for the difference between the prepayment amounts invoiced so far and the new prepayment amount.  

> [!NOTE]  
> If you are located in North America, you cannot change the prepayment percentage after the prepayment invoice has been posted. This is prevented in the North American version of [!INCLUDE[prod_short](includes/prod_short.md)] because the calculation of sales tax will otherwise be incorrect.  

 When you're ready to post the rest of the invoice, post it as you would post any invoice, and the prepayment amount will automatically be deducted from the amount due.  

## Update the status of prepaid orders and invoices automatically

You can speed up order and invoice processing by setting up job queue entries that automatically update the status of those documents. When a prepayment invoice is paid, the job queue entries can automatically change the document status from **Pending Prepayment** to **Released**. When you set up the job queue entries, the codeunits you'll need to use are **384 Upd. Pending Prepmt. Sales** and **384 Upd. Pending Prepmt. Purchase**. We recommend that you schedule the entries to run frequently, for example, every minute. For more information, see [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

## Related information

[Invoicing Prepayments](finance-invoice-prepayments.md)  
[Walkthrough: Setting Up and Invoicing Sales Prepayments](walkthrough-setting-up-and-invoicing-sales-prepayments.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Personalize Your Workspace](ui-personalization-user.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/service-fulfill-service-contracts
---
title: Overview of Tasks to Fulfill Service Contracts
description: Outlines tasks involved in fulfilling service contracts with your customers like setting up standard contractual agreements with customizable templates and more.
author: brentholtorf
ms.topic: overview
ms.devlang: al
ms.search.keywords: contract, agreement, configure
ms.date: 06/23/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Fulfilling Service Contracts 
One way to set up a service management business is to have standard contractual agreements between you and your customers that describe the level of service and the service expectations. You can create contract templates that include necessary information, such as customer, start date of contract, and invoice period.  
  
After you set up the template, you can customize the resulting contract to keep track of service hours, or other items that may vary from customer to customer. You can also set up a contract manually from a service contract quote. Finally, you can adjust your service pricing to keep track of discounts that a specific customer qualifies for, by specifying the discount amount on the **Service Contract** page.  

The following table describes a sequence of tasks, with links to the topics that describe them.   
  
|**To**|**See**|  
|------------|-------------|  
|Handle a service item under multiple contracts. | [Multiple Contracts](service-multiple-contracts.md)|  
|Create service contracts either manually, or from a service contract quote.| [Create Service Contracts and Service Contract Quotes](service-how-to-create-service-contracts-and-service-contract-quotes.md)|
|Adjust the annual amount of a service contract or contract quote, so make sure that you invoice the right amount.|[Change the Annual Amount on Service Contracts or Contract Quotes](service-how-to-change-the-annual-amount-on-service-contracts-or-contract-quotes.md)|

## Related information
[Planning Service](service-plan-service.md)  
[Delivering Service](service-deliver-service.md)  
[Setting Up Service Management](service-setup-service.md)  
[Create Service Contracts and Service Contract Quotes](service-how-to-create-service-contracts-and-service-contract-quotes.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-to-update-standard-costs
---
title: Update standard costs
description: You must periodically update the standard costs of components and roll the new costs up to the parent item.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 5841
ms.date: 07/30/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Update standard costs
You must periodically update the standard costs of components and roll the new costs up to the parent item. The process typically consists of the following four steps:  

1.  Update costs at the component and capacity levels. For more information, see the **Suggest Item Standard Cost** batch job.  
2.  Consolidate and roll up the component and capacity costs to calculate the total manufacturing or assembly cost of the items.  
3.  Implement the standard costs that are entered when you run the previous batch jobs. The standard costs don't take effect until they're implemented. Use the **Implement Standard Cost Changes** batch job, which updates the changes in the standard cost on items with the ones in the Standard Cost Worksheet table.  
4.  Implement the changes to update the **Unit Cost** field on the item card and perform inventory revaluation. For more information, see [Revalue Inventory](inventory-how-revalue-inventory.md).  

For more information, see [About Calculating Standard Cost](finance-about-calculating-standard-cost.md).
  
## To update standard costs

1.  Run the **Adjust Cost-Item Entries** batch job. To start the batch job, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Adjust Cost-Item Entries**, and then choose the related link. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)] Review the results and make changes as necessary.  
2.  Run the **Post Inventory Cost to G/L** batch job. To start the batch job, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Post Inventory Cost to G/L**, and then choose the related link. [!INCLUDE [tooltip-inline-tip_md](includes/tooltip-inline-tip_md.md)] Review the results and make changes as necessary.  
3.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Standard Cost Worksheet**, and then use one or more of the following actions:

    1.  Run the **Suggest Item Standard Cost** batch job.  
    2.  Review the results and make changes as necessary.  
    3.  Run the **Suggest Capacity Standard Cost** batch job.  
    4.  Review the results and make changes as necessary.
    5. Run the **Roll Up Standard Cost** batch job.
    6.  Review the results and make changes as necessary.
    7.  Run the **Implement Standard Cost Changes** batch job.  
4.  Review and post the **Item Revaluation Journals** page, which has been populated with entries from the previous steps in this process.  

## Related information

 [About Calculating Standard Cost](finance-about-calculating-standard-cost.md)   
 [Managing Inventory Costs](finance-manage-inventory-costs.md)   
 [Design Details: Costing Methods](design-details-costing-methods.md)   
 [Finance](finance.md)  
 [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/analysis-mode
---
title: Analyze list page and query data using data analysis
description: Learn how to use the analysis mode in Business Central to analyze data.
author: jswymer 
ms.author: jswymer
ms.reviewer: solsen
ms.topic: how-to
ms.date: 05/09/2025
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.search.form: 456, 457, 458, 459, 460, 461, 16, 22, 25, 26, 27, 31, 143, 144, 9300, 9301, 9303, 9304, 9305, 9306, 9307, 9309, 9310, 9311
---
# Analyze list page and query data using data analysis feature

> **APPLIES TO:** Public preview in [!INCLUDE [prod_short](includes/prod_short.md)] 2023 release wave 1 for analyzing list pages. Generally available in [!INCLUDE [prod_short](includes/prod_short.md)] 2023 release wave 2 for analyzing data from list pages and queries.

This article explains how to use the data analysis feature from list pages and queries. The data analysis lets you analyze data directly from the page, without having to run a report or open another application, such as Excel. The feature provides an interactive and versatile way to calculate, summarize, and examine data. Instead of running reports using different options and filters, you can add multiple tabs that represent different tasks or views on the data. Some examples are: "My customers," "Follow up items," "Recently added vendors," "Sales statistics," or any other view you can imagine.

> [!TIP]
> A good thing about the data analysis feature is that it doesn't change the underlying data of a list page or query. It also doesn't change the layout of the page or query when it isn't in analysis mode. So the best way to learn about what you can do in analysis mode is to try things out.

## Prerequisites

- If you're using [!INCLUDE [prod_short](includes/prod_short.md)] version 22, the data analysis feature is in preview. So, an admin must enable it before you can use it. To enable it, go to the **Feature Management** page and switch on **Feature Update: Analysis mode, quickly analyze data directly in Business Central**. [Learn more about Feature Management](/dynamics365/business-central/dev-itpro/administration/feature-management).
- In version 23 and later, your account must be assigned the **DATA ANALYSIS - EXEC** permission set or include execute permission on the system object **9640 Allow Data Analysis mode**. As an admin, you can exclude these permissions for users who you don't want to access the analysis mode.

> [!NOTE]
> Some list pages don't offer the **Enter analysis mode** toggle for turning on analysis mode. The reason is that developers can disable analysis mode on specific pages by using the [AnalysisModeEnabled property](/dynamics365/business-central/dev-itpro/developer/properties/devenv-analysismodeenabled-property) in AL.

## Get started

Follow these steps to start using the analysis mode.

> [!TIP]
> Analysis mode also includes a Copilot feature called *analysis assist* that can help you get started. [Learn more about analysis assist with Copilot.](analysis-assist.md)

1. Open the list page or query.

   For example, to work with the **Customer Ledger Entries** page, select the ![Magnifying glass that opens the Tell Me feature.](media/ui-search/search_small.png) icon (<kbd>Alt</kbd>+<kbd>Q</kbd>), enter *customer ledger entries*, and then choose the related link. 

1. In the action bar at the top of the page, select the **Enter analysis mode** ![Shows the button for turning on analysis mode](media/analysis-mode-icon.png) button.

    The analysis mode opens the data in an experience that's optimized for data analysis. While in analysis mode, the normal action bar is replaced with a special analysis mode bar. The following figure illustrates the different areas of a page in the analysis mode.

   [![Shows an overview of a page in the analysis mode](media/analysis-mode-overview-3.png)](media/analysis-mode-overview-3.png#lightbox)

   Each area is explained in the sections that follow.

1. Use the different areas to manipulate, summarize, and analyze data. See the sections that follow for details.

1. When you want to stop the analysis mode, select the **Leave analysis mode** ![Shows the button for turning off analysis mode](media/analysis-mode-exit-icon.png) button.

   The analysis tabs that you added remain until you delete them. If you return to the analysis mode again, you see them exactly as you left them.

> [!NOTE]
> The data shown in analysis mode is controlled by the filters or views set on the list page. This allows you to pre-filter data before entering analysis mode.

## Work with analysis mode

In the analysis mode, the page is divided into two areas:

- The main area, which consists of the data area (1), summary bar (2), and tabs bar (5).
- The data manipulation area, which consists of two panes: columns (3) and analysis filters (4).

### Data area (1)

The data area is where the rows and columns of the list page query are shown and data is summarized. The data area provides a versatile way to control the layout of columns and a quick way to get a summary of the data. For columns that contain numeric values, the sum of all values in the column is shown in the last row, unless you define row groups. In this case, the sums appear as a subtotal for the groups.  

:::image type="content" source="media/analysis-mode-data-area.png" alt-text="Shows an overview of a data area on a page in the analysis mode" lightbox="media/analysis-mode-data-area.png":::

- To move a column, select it and drag it to where it makes the most sense in your analysis.
- To sort on a column, select the column header. To sort on multiple columns, select and hold the <kbd>Shift</kbd> key while selecting the column headers you want to sort on.
- To access several actions that you can do on columns, right-click the column or hover over it and select the menu icon ![Shows the icon on a column in analysis mode that opens a menu of actions](media/analysis-mode-column-menu-icon.png). For example:

  - To pin a column to the data area so that it doesn't move off the screen when you scroll, select ![Shows the icon on a column in analysis mode that opens a menu of actions](media/analysis-mode-column-menu-icon.png) > **Pin column** > **Pin left** the column part.
  - Define data filters directly on the column definition instead of going to the **Analysis Filters** panes. You can still peek in on details about related data and for each line, and open the card to learn more about a given entity.   
- Use the data area to interact with the data. For columns that contain numeric, summable values, you can get descriptive statistics on a set of fields by marking them. The statistics appear in the status bar (2) along the bottom of the page.

Note that in the data area, you can filter on all columns, including totals such as sum or count. 

:::image type="content" source="media/analysis-mode-filter-on-totals.png" alt-text="Screenshot of how to filter on totals in analysis mode" lightbox="media/analysis-mode-filter-on-totals.png":::

### Summary bar (2)

The summary bar is along the bottom of the page and displays statistics about the data in the list page or query. As you interact with columns whose values can be summed, like selecting multiple rows in a column that displays amounts, the data updates.

:::image type="content" source="media/analysis-mode-totals-row.png" alt-text="Shows an overview of a summary bar on the analysis mode" lightbox="media/analysis-mode-totals-row.png":::

The following table describes the different numbers that are shown in the totals area:

|Number|Description|
|-|-|
|Rows|The number of selected rows as a part of the total number of available rows. |
|Total rows|The number of rows in the unfiltered list or query.|
|Filtered|The number of rows displayed as a result of the filters applied to the list or query.|
|Average|The average value in all the selected summable fields.|
|Count|The number of selected rows.|
|Min|The minimum value in all the selected summable fields.|
|Max|The maximum value in all the selected summable fields.|
|Sum|The sum total of all the values in the selected summable fields.|

### Columns (3)

The **Columns** pane is one of two panes that work together to define your analysis. The other area is the **Analysis filters** pane. The **Columns** pane is used to summarize the data. Use the **Columns** pane to define which columns should be included in the analysis.

:::image type="content" source="media/analysis-mode-columns-3.png" alt-text="Shows an overview of the columns pane in the analysis mode" lightbox="media/analysis-mode-columns-3.png":::

|Areas|Description|
|-|-|
|Search/check or clear all boxes|Search for columns. To select/clear all columns, select the checkbox.|
|Check boxes|This area includes a checkbox for each field in the list's or query's source table. Use this area to change what columns are shown. Select a checkbox to show a column for the field on the page; clear the checkbox to hide the column. |
|Row groups|Use this area to group and sum data by one or more fields. You can only include non-numeric fields, like text, date, and time fields. Row groups are used often in pivot mode.|
|Values|Use this area to specify fields that you want a sum total for. You can only include fields that contain numbers that can be added together; for example, not text, date, or time fields.|

To move a field from one area to another, select the grab icon ![Shows the button for grabbing a field in the analysis mode](media/column-grab-icon.png) next to the column in the list and drag it into the target area. You're prevented from moving a field to an area where it isn't allowed.

> [!NOTE]
> If you use personalization to add or remove fields from a list page, your choice of visibility is reflected in the **Columns** pane. An added field has the **Show** checkbox cleared. To include the added field in an analysis definition, select the checkbox in the **Columns** pane. To learn more about personalization, go to [Add/remove fields and columns on a page](ui-personalization-user.md#fields).

#### Add fields from related tables

> [!NOTE]
> Adding fields from related tables is available from version 26.2 and to use it, you must have the **Add Related Fields** permission set. 
>
> The feature is enabled with the feature key `Add fields from related tables in analysis mode`. Learn more in [Add fields from related tables in analysis mode feature key](analysis-mode-feature-key.md).

Starting with [!INCLUDE [prod_short](includes/prod_short.md)] version 26.2, analysis mode allows you to add fields from related tables to your analysis view. For example, if you're analyzing the **Customer** page, you can add fields from the **Location** table. You can then group data by these related fields, enabling a more comprehensive and advanced data analysis.

To add fields from related tables, you select the **Add columns from** option from the **Analysis** context menu. Now, you see the tables related to the current page's source table as suggestions. When you choose the related table, an **Insert column(s) from** dialog opens with all the fields that are available in that table. You can also use the **Choose a source page** dropdown to navigate through and find fields that you'd like to see in your analysis view. When you have chosen the field or fields to add, these are added to the **Columns** pane and to the data area. Use the **Remove related columns** option to remove the related fields from the analysis tab. 

:::image type="content" source="media/analysis-view-add-columns.png" alt-text="Add columns from option":::

If you want to see all table suggestions, choose **Other source...** from the **Add columns from** menu. This opens an **Insert column(s)** dialog, where you pick the source and related table, the source page they are available on, and then the field or fields to show on your analysis view.

:::image type="content" source="media/analysis-view-other-source.png" alt-text="Add columns from another source":::

##### Things to check

If you don't find the table or field that you're looking for, there are a few things to check:

- The table must be related to the source table of the page you're analyzing. 
- You must have permission to access the table or field. If you don't have permission, the field won't be available in the list of fields to add.
- The field must be a field that can be added to the analysis. For example, you can't add fields that are internal or not allowed in customizations.
- The table or field must have a page associated with it. If the table or field doesn't have a page, you won't be able to add it to the analysis.
- Certain types of fields, such as Media fields, aren't supported in analysis mode.
- When you add related fields, all calculated fields are lost. 


### Analysis filters (4)

The **Analysis filters** pane lets you set further data filters on columns to limit the entries in the list. Set filters on columns to limit the entries in the list and subsequent sums to only those entries you're interested in based on a criteria you define. For example, suppose you're only interested in data for a specific customer or sales orders that exceed a specific amount. To set a filter, select the column, choose the comparison operation from the list (like **Equals** or **Starts with**), and then enter the value.

:::image type="content" source="media/analysis-mode-filters-2.png" alt-text="Shows an overview of the filters pane in the analysis mode" lightbox="media/analysis-mode-filters-2.png":::

> [!NOTE]
> The additional filters only apply to the current analysis tab. This allows you to define exactly the extra data filters that are needed for a specific analysis.

### Tabs (5)

The tabs area at the top lets you create different configurations (columns and analysis filters) on separate tabs, where you can manipulate data on the tabs independently of each other. There's always at least one tab, called **Analysis 1** by default. Adding more tabs is beneficial for saving frequently used analysis configurations on a dataset. For example, you might have tabs for analyzing data in the pivot mode, and other tabs that filter to a subset of rows. Some tabs might show a detailed view with many columns, and others only display a few key columns.

Here are some pointers on working with multiple analysis tabs:

- To add a new tab, select the large **+** sign next to the last analysis tab.
- Select the down arrow on a tab to access a list of actions you can do on a tab, like rename, duplicate, delete, and move.

   - **Delete** deletes the tab you currently have open. **Delete All** deletes all tabs that you added, except the default **Analysis 1** tab.
- You can't completely remove the **Analysis 1**, but you can rename it by using the **Rename** action and clear the changes you made by using **Delete** or **Delete All**.  

- The analysis tabs that you add and configure remain until you delete them. If you return to the analysis mode, they're exactly as you left them.

   > [!TIP]
   > The tabs that you set up are only visible to you. Other users will only see tabs they've set up.
- You can copy analysis tabs. Copying can be useful, for example, for experimenting with changing a tab without changing the original. Copying is also useful if you want to create different variations of the same analysis.

## Date hierarchies

In analysis mode, date fields of the dataset are generated in a Year-Quarter-Month hierarchy of three separate fields. This hierarchy is based on the normal calendar, not any fiscal calendars defined in Business Central.

The extra fields are named *\<field name\> Year*, *\<field name\> Quarter*, and *\<field name\> Month*. For example, if the dataset includes a field called *Posting Date*, then the corresponding date hierarchy consists of fields called *Posting Date Year*, *Posting Date Quarter*, and *Posting Date Month*.

> [!NOTE]
> The date hierarchy currently only applies to fields of type date, not for fields of type datetime.

## Pivot mode

You can use pivot mode to analyze large amounts of numerical data, subtotaling data by categories and subcategories. The pivot mode is like [pivot tables in Microsoft Excel](https://support.microsoft.com/office/create-a-pivottable-to-analyze-worksheet-data-a9a84538-bfe9-40a9-a8e9-f99134456576).

To turn pivot mode on and off, turn on the **Pivot Mode** toggle on the **Columns** pane (3). When you turn on pivot mode, the **Column labels** area appears in the pane. Use the **Column labels** area to group sum totals for rows into categories. Fields that you add to the **Column labels** area show as columns in the data area (1).

Building out the data analysis in pivot mode involves moving fields into the three areas: **Row groups**, **Columns labels**, and **Values**. The following figure illustrates where the fields map to the data area (1), where `sum` is the calculated data, and optionally **Values**.

<table>
<tr><th></th><th>Column label</th><th></th><th>Column label</th><th></th></tr>
<tr><th>Row group</th><th>Value</th><th>Value</th><th>Value</th><th>Value</th></tr>
<tr><td>row</td><td>sum</td><td>sum</td><td>sum</td><td>sum</td></tr>
<tr><td>row</td><td>sum</td><td>sum</td><td>sum</td><td>sum</td></tr>
<tr><td>row</td><td>sum</td><td>sum</td><td>sum</td><td>sum</td></tr>
<tr><td>row</td><td>sum</td><td>sum</td><td>sum</td><td>sum</td></tr>
</table>

> [!TIP]
> Columns that only have a few possible values are the best candidates for using in column **Values**.

## Want to Export data to Excel?

Right-click on the data area or a selection of cells to export data.

:::image type="content" source="media/data-analysis-export-to-excel.png" alt-text="Screenshot of how to export data from an analysis to Excel":::


## Analyze large amounts of data

If the dataset you want to analyze exceeds 100,000 rows, we suggest you enter an analysis mode that's optimized for large datasets. There are currently two limitations if you switch to this mode: 

- Formatting of fields of the following four data types might change: 

   - currency 
   - decimals (always shown with two decimals) 
   - dates (always shown in the format YYYY-MM-DD)
   - timezones
- Fields that are used in pivot mode and added to column labels must have a low number of distinct values.

   If you enable pivot mode and drag a field into the **Column labels** area, where the underlying data for that field has too many distinct values, your browser tab might become unresponsive. The browser eventually closes, requiring you to start over in a new session. In this case, either don't pivot on that field or set a filter on the field before you add it to the **Column labels** area.

## Share data analysis

After you prepare an analysis on a tab, you can share it as a link with coworkers and others in your organization directly from the client. Only recipients who have permission to the company and the data can use the link.

1. On the analysis tab, select the down arrow, and then select **Copy link**.

   :::image type="content" source="media/analysis-mode-copy.png" alt-text="Shows the action for copying an analysis" lightbox="media/analysis-mode-copy.png":::

   The **Link to \<tab name\>** dialog opens.

1. By default, the analysis you share links to the page or query in the company you're currently working in, which is indicated by `company=<company_name>` in the URL field next to the **Copy** button. If you want to send a link to an analysis that isn't associated with a specific company, set the **Company:** field to **Do not link to a specific company**.

   :::image type="content" source="media/analysis-link-copied.svg" alt-text="Shows the copy link dialog for an analysis tab" lightbox="media/analysis-link-copied.svg":::

1. Select **Copy**.
1. Paste the link into the communication media of your choice, like Word, Outlook, Teams, or OneNote.
1. Recipients can select the link and open the analysis for the page or query in [!INCLUDE [prod_short](includes/prod_short.md)]. They're prompted to specify a name for the new analysis tab that they create.  

## Examples of how to analyze data

Use the **Data Analysis** feature for quick fact checking and ad hoc analysis:

- If you don't want to run a report.
- If a report for your specific need doesn't exist.
- If you want to quickly iterate to get a good overview on a part of your business.

The following sections provide examples of scenarios for many of the functional areas in [!INCLUDE [prod_short](includes/prod_short.md)].

### Example: Finance (Accounts Receivables)

To see what your customers owe you, maybe broken down into time intervals for when amounts are due, follow these steps:

1. Open the [Customer Ledger Entries](https://businesscentral.dynamics.com/?page=25) list, and choose :::image type="content" source="media/analysis-mode-icon.png" alt-text="Enter analysis mode."::: to turn on analysis mode.
1. Go to the **Columns** menu and remove all columns (select the box next to the *Search* field on the right).
1. Turn on the **Pivot Mode** toggle (located above the **Search** field on the right).
1. Drag the **Customer Name** field to the **Row Groups** area, and drag **Remaining Amount** to the **Values** area.
1. Drag the **Due Date Month** field to the **Column Labels** area.
1. Use the **Analysis Filters** menu (located below the **Columns** menu on the right) to apply a filter and analyze data for a given year or quarter.
1. Rename your analysis tab to **Aged Accounts by Month**, or something that describes this analysis.

### Ad hoc data analysis examples by functional area

Many of the functional areas in [!INCLUDE[prod_short](includes/prod_short.md)] have articles with ad hoc data analysis examples.

[!INCLUDE[ad-hoc-analysis-scenarios-table](includes/ad-hoc-analysis-scenarios-table.md)]

## Limitations in 2023 release wave 1 (preview)

The public preview of this feature has the following limitations:

- The analysis mode view has a limit of 100,000 rows. If you exceed this, you get a message telling you so. To work around this limitation, set filters on the page before you switch to analysis mode, if possible. For example, you want to analyze a certain group of customers or only want data from the current year. You can also choose a predefined view if it would work for your analysis.
- The share data analysis feature isn't available.
- The ability to save preferred data analysis choices on list pages and save analysis menus per analysis tab are currently not available.

## Related information

[Ad-hoc data analysis by functional area](ad-hoc-data-analysis-by-functional-area.md)   
[Ad hoc data analysis](reports-adhoc-analysis.md)  
[View and Edit in Excel](across-work-with-excel.md)  end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-define-and-allocate-costs
---
title: Defining and allocating costs
description: Cost allocations move costs and revenues between cost types, cost centers, and cost objects. You can define as many allocations as you need.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 1102, 1105, 1106, 1107, 1109, 1114
ms.date: 07/26/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Defining and allocating costs

Cost allocations move costs and revenues between cost types, cost centers, and cost objects. You can define as many allocations as you need. Each allocation consists of:  

- An allocation source.  
- One or more allocation targets.  

The allocation source establishes which costs must be allocated, and the allocation targets determine where the costs must be allocated. For example, an allocation source can be the costs for the Electricity and Heating cost type. You allocate all electricity and heating costs to three cost centers: Workshop, Production, and Sales. These cost centers are your allocation targets.  

For each allocation source, you define an allocation level, a validity period, and a variant as grouping identifier. You can use a batch job to set filters to select allocation definitions and then run cost allocations automatically.  

For each allocation target, you define an allocation base. The allocation base can be either static or dynamic.  

- Static allocation bases are based on a definite value, such as square footage or an established allocation ratio, such as 5:2:4.  
- Dynamic allocation bases depend on changeable values, such as the number of employees in a cost center or sales revenue of a cost object throughout a certain time period.  

The following table describes a sequence of tasks, with links to the articles that describe them.

## Set up allocation source and targets

Each allocation consists of an allocation source and one or more allocation targets. The allocation source defines which costs will be allocated. The allocation targets determine where the costs will be allocated.  

### To set up cost allocations

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Cost Allocation**, and then chose the related link.  
2. On the **Cost Allocation** page, choose the **Edit** action.  
3. Enter an ID for the allocation source in the **ID** field.  
4. Define a level as a number between 1 and 99 in the **Level** field. The allocation posting will follow the order of the levels.  
5. Enter a cost type to define which cost types will be allocated in the **Cost Type Range** field. If all costs for a cost type are allocated, no range is defined.  
6. Enter a cost center together with costs to be allocated in the **Cost Center Code** field.  
7. Enter a cost object together with costs to be allocated in the **Cost Object Code** field. Most often, this field stays empty, because cost objects are rarely allocated to other cost objects.  
8. Enter a cost type in the **Credit to Cost Type** field. The costs that are allocated will be credited to the source cost type. The credit posting will be posted to the cost type given here.  
9. On the **Lines** FastTab, define the allocation targets. On the first line, enter a cost type in the **Target Cost Type** field. It defines which cost type the allocation is debited to.  
10. On the first line, enter the first allocation target in the **Target Cost Center** field or **Target Cost Object** the field. These two fields define which cost center or cost object the allocation is debited to. You can only fill in one of these fields, but not both.  
11. Repeat the same steps on the second line to set up additional allocation targets.  
12. After you have set up the allocation target and sources, choose the **Calculate Allocation Key** action to calculate the total share values.  

> [!NOTE]  
> Select the **Blocked** check box to deactivate the allocation setup.

## To set filters for dynamic allocation bases

The dynamic allocation method is based on changeable values. For example, the number of employees in a cost center or the items sold of a cost object in a specific time period. There are nine pre-defined allocation bases and twelve dynamic date ranges. You set different filters based on the allocation base.  

### Set filters

The following table shows which filters are possible for different allocation bases and which values are valid in the **No. Filter** and **Group Filter** fields. Select <kbd>F1</kbd> in the **Date Filter Code** field to read detailed descriptions.  

|**Base**|**No. Filter**|**Date Filter Code**|**Cost Center Filter**|**Cost Object Filter**|**Group Filter**|  
|--------------|----------------------------------------|----------------------------------------------|------------------------------------------------|------------------------------------------------|------------------------------------------|  
|G/L Entries|G/L Account|Yes|Yes|Yes|N/A|  
|G/L Budget Entries|G/L Account|Yes|Yes|Yes|G/L Budget Name|  
|Cost Type Entries|Cost Type|Yes|Yes|Yes|N/A|  
|Cost Budget Entries|Cost Type|Yes|Yes|Yes|Budget Name|  
|No of Employees|N/A|Yes|Yes|Yes|N/A|  
|Items Sold (Qty)|Item No.|Yes|Yes|Yes|Inventory Posting Group|  
|Items Purchased (Qty)|Item No.|Yes|Yes|Yes|Inventory Posting Group|  
|Items Sold (Amount)|Item No.|Yes|Yes|Yes|Inventory Posting Group|  
|Items Purchased (Amount)|Item No.|Yes|Yes|Yes|Inventory Posting Group|

## Scenario 1: Defining static allocations based on allocation ratio

Static allocation method is based on a definite value, such as square meters used, or an established allocation ratio such as 5:2:4.  

This article describes how to define three new allocation target cost objects for the allocation source PROD cost center using the established allocation ratio 5:2:4. The three target cost objects are ACCESSO, PAINT, and FITTINGS.  

> [!NOTE]  
> The example uses the demo data in the [!INCLUDE[prod_short](includes/prod_short.md)].  

### To define the allocation source PROD cost center on the General FastTab  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Cost Allocation**, and then choose the related link.  
2. On the **Cost Allocation** page, choose the **New** action.  
3. In the **ID** field, select <kbd>Enter</kbd> or enter an ID.  
4. In the **Level** field, enter **1**.  
5. In the **Valid From** and **Valid To** fields, enter appropriate dates.  
6. In the **Cost Center Code** field, enter **PROD**.  
7. In the **Credit to Cost Type** field, enter the cost type **9903**.  

### To define the allocation target cost objects on the Lines FastTab  

1. On the first line, in the **Target Cost Type** field, enter **9903**.  
2. On the first line, in the **Target Cost Object** field, select **ACCESSO**.  
3. On the first line, in the **Allocation Target Type** field, select **All Costs** to define how all accrued costs are allocated.  
4. On the first line, in the **Base** field, select **Static** to use the static allocation method.  
5. On the first line, in the **Share** field, enter the allocation ratio **5**.  
6. On the second line, in the **Target Cost Type** field, enter **9903**.  
7. On the second line, in the **Target Cost Object** field, select **PAINT**.  
8. On the second line, in the **Allocation Target Type** field, select **All Costs** to define how all accrued costs are allocated.  
9. On the second line, in the **Base** field, select **Static** to use the static allocation method.  
10. On the second line, in the **Share** field, enter the allocation ratio **2**.  
11. On the third line, in the **Target Cost Type** field, enter **9903**.  
12. On the third line, in the **Target Cost Object** field, select **FITTINGS**.  
13. On the third line, in the **Allocation Target Type** field, select **All Costs** to define how all accrued costs are allocated.  
14. On the third line, in the **Base** field, select **Static** to use the static allocation method.  
15. On the third line, in the **Share** field, enter the allocation ratio **4**.  

> [!IMPORTANT]  
> [!INCLUDE[prod_short](includes/prod_short.md)] automatically calculates the **Percent** field using a percentage rate that is dependent on all three allocation ratios that are entered in the **Share** field for all three lines.

## Scenario 2: Defining dynamic allocations based on Items sold

This topic shows an example of how to define allocations by using the dynamic allocation method. In the example, you change the dynamic allocation of the costs for the SALES cost center to support the new cost object IT EQUIPMENT. IT EQUIPMENT packages have item numbers in the range from 8904-W to 8924-W. You use the previous year’s sales figures to calculate the share. The allocation is posted to the helping cost type 9903.  

> [!NOTE]  
> The example uses the demo data in the [!INCLUDE[prod_short](includes/prod_short.md)].  

### To define dynamic allocations based on items sold in the previous year  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Cost Allocation**, and then choose the related link.  
2. On the **Cost Allocation** page, choose the **New** action.  
3. In the **ID** field, select <kbd>Enter</kbd> or enter an ID.  
4. In the **Level** field, enter **1**.  
5. In the **Valid From** and **Valid To** fields, enter appropriate dates.  
6. In the **Cost Center Code** field, enter **SALES**.  
7. In the **Credit to Cost Type** field, enter the cost type **9903**.  
8. In the **Target Cost Type** field, enter the cost type **9903**.  
9. In the **Target Cost Object** field, choose **New** to create a new cost object IT EQUIPMENT and fill in fields as necessary. Select **IT EQUIPMENT**. Leave the **Target Cost Center** field blank.  
10. In the **Allocation Target Type** field, select **All Costs** to define how all accumulated costs are allocated.  
11. In the **Base** field, select the allocation base **Items Sold (Amount)**.  
12. In the **No. Filter** field, enter **8904-W..8924-W**.  
13. In the **Date Filter Code** field, enter **Last Year**.  
14. Choose the **Calculate Allocation Key** action to calculate the share.  

> [!IMPORTANT]  
> [!INCLUDE[prod_short](includes/prod_short.md)] uses the previous years’ sales figures to calculate a share of 1596.50 LCY with 100 percent for the IT EQUIPMENT packages. This means that all of the items sold last year will be allocated to the cost object IT EQUIPMENT.

## Related information

 [Setting Up Cost Accounting](finance-set-up-cost-accounting.md)  
 [Transferring and Posting Cost Entries](finance-transfer-and-post-cost-entries.md)  
 [Accounting for Costs](finance-manage-cost-accounting.md)  
 [Terminology in Cost Accounting](finance-terminology-in-cost-accounting.md)  
 [About Cost Accounting](finance-about-cost-accounting.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-print-picking-list
---
title: Print inventory picking list from sales order
description: You can print an inventory picking list directly from a sales order, sales, invoice, and other outbound sales documents.
author: brentholtorf
ms.topic: how-to
ms.search.keywords:
ms.search.forms: 9305,
ms.date: 05/13/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap-template
---
# Print the picking list

You can print an inventory picking list directly from a sales order and other documents that initiate the shipment of items.

This report is typically used in companies without dedicated functionality for warehouse management, so that an inventory worker can view or print the picking list from the related sales document. In companies with higher volume or more complex processes, shipping and picking are planned and performed in dedicated warehouse documents. Learn more at [Outbound Warehouse Flow](design-details-outbound-warehouse-flow.md).

## To print a picking list from a sales order

The following procedure is based on a sales order. The steps are similar for all other documents that can be used to initiate shipment of items, such as a transfer order.

1. Choose the ![Search for Page or Report.](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Sales Orders**, and then choose the related link.  
2. Open the sales order that you want to pick items for.  
3. Choose the **Report** action, and then choose the **Picking List by Order** action.  
4. Choose the **Print** button to print the picking list or choose the **Preview** button to view it on the screen.

You can also save the picking list as a document, for example, to send to someone or to add as an attachment to the sales order. Learn more at [Manage Attachments, Links, and Notes on Cards and Documents](ui-how-add-link-to-record.md).

> [!NOTE]
> If you used the **Explode BOM** function on the sales order, then only the components of the related assembly item are shown in the report. Learn more at [Work with Bills of Material](inventory-how-work-BOMs.md).

## To print a single set of pick instructions for multiple sales documents

You can use filters to consolidate picking for several sales documents into a single set of pick instructions.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.
1. Choose the **Pick Instruction** action.
1. In the **Document Type** field, choose the type of document you're working with.
1. In the **No.** field, enter a filter to identify the documents. The following are examples of ways to filter.

   * To filter on a consecutive series of document numbers, enter the first and last document numbers separated by **..**. For example, **10000..10010**.
   * To filter on specific documents, enter each document number separated by a **|**. For example, **10000|10005|10010**.

To learn more about filter criteria and operators, go to [Enter filter criteria](ui-enter-criteria-filters.md#enter-filter-criteria).

## Related information

[Inventory](inventory-manage-inventory.md)  
[Outbound Warehouse Flow](design-details-outbound-warehouse-flow.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-how-block-items
---
title: How to block items or item variants from sales, purchasing, and production
description: You can block items and item variants from being entered on lines in sales or purchase documents, and from being posted in a transaction. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: item, variant, product
ms.date: 02/05/2025
ms.service: dynamics-365-business-central
---

# Block items or item variants from use in sales, purchasing, service, and production

You can block items and item variants from being entered on lines in sales or purchase documents, and service and production orders. You can also block them from being posted in any kind of transaction. For example, blocking for use in all transactions is useful when an item has a known defect. If you choose a blocked item or variant on a sales or purchase document, or a service or production order, a message lets you know that the item is blocked.

The following table describes what happens when items or variants are blocked.  

|Option|Description|  
|--------------------|------------|  
|**Sales Blocked**|You can't choose the item or variant on a sales document or a sales item journal.|  
|**Service Blocked**|You can't choose the item or variant on service management transactions. To learn more about blocking service items, go to [Block items, item variants, or specific service items](service-how-to-create-service-items.md#block-items-item-variants-or-specific-service-items).|
|**Purchasing Blocked**|You can't choose the item or variant on a purchase document, a purchase item journal, or in purchase planning processes.|  
|**Production Blocked**|You can't choose the item or variant on production orders. Also, you can't use the following actions:</br></br>* Post output in output journals or production journals.</br>* Refresh the production order.</br>* Replan the production order.</br>* Calculate subcontracts in the subcontracting worksheet skips the lines with blocked items or variants. |  

> [!NOTE]
> Customers can return blocked items, which means that these settings don't apply to return orders and credit memos.

When you use the **Copy from Document** action to create new documents based on existing documents, you're notified if items or variants on the source document lines are blocked. The blocked document lines are excluded from the new document, and a notification shows an overview of all document lines that are blocked in the source document.

## To block an item

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Depending on what you want to do, select the item, and then turn on one or more of the following toggles:

    * **Sales Blocked**
    * **Service Blocked**
    * **Purchasing Blocked**  
3. To block the item from use in production output, fill in the **Production Blocked** field.

## To block an item variant  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, and then choose the related link.  
2. Select the item that has a variant you want to block, choose **Variants**, and then select one or more of the following checkboxes:  

    * **Blocked**
    * **Sales Blocked**
    * **Service Blocked**
    * **Purchasing Blocked**  

3. To block the variant from use in production output, fill in the **Production Blocked** field.

## Related information  

[Register New Items](inventory-how-register-new-items.md)  
[Inventory](inventory-manage-inventory.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-how-setup-bank-data-conversion-service
---
title: Set Up Bank Data Conversion
description: You can set up bank accounts to keep track of transactions and import or export bank feeds, such as Yodlee.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: Yodlee, feed, stream, data exchange, AMC, bank file import, bank file export, re-export, bank transfer, AMC, AMC Banking 365 Fundamentals extension, funds transfer
ms.search.form: 304, 20106, 20105, 20100, 20101, 20107, 20109
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set Up the AMC Banking 365 Fundamentals extension
A global provider of services to convert payment information to any data format that your bank requires is connected and ready to be enabled in [!INCLUDE[prod_short](includes/prod_short.md)]. This is referred to in [!INCLUDE[prod_short](includes/prod_short.md)] as the AMC Banking 365 Fundamentals extension.

You can export payment lines from the **Payment Journal** page to a file or a data stream that you then upload to your bank for automatic processing so that you do not have to make electronic payments individually. For more information, see [Export Payments to a Bank File](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md#exporting-payments-to-a-bank-file).

You can import bank statement files into the **Payment Reconciliation Journal** page by using the AMC Banking 365 Fundamentals extension to convert a file that you receive from your bank to a data stream that [!INCLUDE[prod_short](includes/prod_short.md)] can import. For more information, see [Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md).

As an alternative to importing bank statements with the AMC Banking 365 Fundamentals extension, you can use the Envestnet Yodlee Bank Feeds service. For more information, see [Set Up the Envestnet Yodlee Bank Feeds Service](bank-how-setup-bank-statement-service.md).

To import or export bank files, you must set up your own bank account and your vendors' bank accounts. For more information, see [Set Up Bank Accounts](bank-how-setup-bank-accounts.md).

> [!NOTE]  
> The AMC Banking 365 Fundamentals extension may impose a limit on the number of lines that can be exported in one file. You will receive an error message if the limit is exceeded. It is recommended that bank statement files do not exceed 1000 lines as the processing time in the AMC Banking 365 Fundamentals extension may otherwise increase significantly.

## To sign your company up for the AMC Banking 365 Fundamentals extension
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Data Conv. Service Setup**, and then choose the related link.  
2. The **Bank Data Conv. Service Setup** page opens with three fields prefilled with relevant URLs of the provider of AMC Banking 365 Fundamentals extension.

    > [!NOTE]  
    >   In the CRONUS International Ltd. demonstration database, the User Name and Password fields are prefilled with demonstration logon information, which you will replace with your company’s actual information as you sign up for the AMC Banking 365 Fundamentals extension.
3. In the **Sign-up URL** field, choose the browser button to open the service provider’s sign-up page.  
4. On the sign-up page of the bank data service provider, enter the user name and password for your company’s subscription to the service, and then complete the sign-up process as instructed by the service provider.

    Your company is now signed up for the AMC Banking 365 Fundamentals extension. Proceed to enter the user name and password that you specified for the service in the related setup fields in [!INCLUDE[prod_short](includes/prod_short.md)].

5. On the **Bank Data Conv. Service Setup** page, in the User **Name** field, enter the same value that you entered as logon name on the service provider’s page in step 4.
6. In the **Password** field, enter the same value that you entered in the **Password** field on the service provider’s page in step 4.

> [!NOTE]  
> You login data is automatically encrypted.

## To view or update the list of currently supported bank data formats
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Data Conv. Service Setup** , and then choose the related link.
2. On the **Bank Data Conv. Service Setup** page, choose the **Bank Name - Data Conversion List** action to open the list of bank names representing bank data formats that are supported by the conversion service.
3. On the **Bank Name - Data Conversion List** page, choose the **Update Bank Name List** action.

The list of bank data formats that are supported by the AMC Banking 365 Fundamentals extension is now updated. This is the list of bank names, filtered by the country/region, that you can select from in the **Bank Name - Data Conversion** field on the **Bank Account Card** page.

> [!NOTE]  
>   The update of supported bank data formats also occurs when you select or enter a value in the **Bank Name - Data Conversion** field on the bank account.

You have now signed up for the AMC Banking 365 Fundamentals extension. Proceed to reflect the sign-up information on every bank account that will use the service.

## Related information
[Setting Up Banking](bank-setup-banking.md)  
[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/resources-for-users
---
title: Resources for users
description: Resources for users are a set of resources, services, and tools for using Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.date: 05/29/2024
ms.topic: article
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Resources for users

Are you using [!INCLUDE [prod_short](includes/prod_short.md)] and looking for relevant resources? Find everything you need in this article, and remember to bookmark [aka.ms/BCUsers](https://aka.ms/BCUsers).

## Hot topics right now

Register for the [!INCLUDE [prod_short](includes/prod_short.md)] Launch Event on [aka.ms/BCLE](https://aka.ms/BCLE).

## Latest release and updates  

- [!INCLUDE [prod_short](includes/prod_short.md)] release plan: [aka.ms/BCReleasePlan](https://aka.ms/BCReleasePlan) 
- Major updates: [aka.ms/BCUpdates](https://aka.ms/BCUpdates)
- Minor updates: [aka.ms/BCLastMinorUpdate](https://aka.ms/BCLastMinorUpdate) 
- Missing a feature? Post or vote for ideas on: [aka.ms/BCIdeas](https://aka.ms/BCIdeas) 
- Where is [!INCLUDE [prod_short](includes/prod_short.md)] available? [aka.ms/BCCountries](https://aka.ms/BCCountries)
- Read the capability guide for [!INCLUDE [prod_short](includes/prod_short.md)]: [aka.ms/BCcapabilities](https://aka.ms/BCcapabilities)
- Still on-premises? Learn more at [Software Lifecycle Policy and Dynamics 365 Business Central on-premises Updates](/dynamics365/business-central/dev-itpro/terms/lifecycle-policy-on-premises)
- Alert Microsoft about an upcoming regulatory feature: [aka.ms/BCAlerts](https://aka.ms/BCAlerts)
- Optional features that are now mandatory: [aka.ms/BCFeatureMgmt](https://aka.ms/BCFeatureMgmt)

## Stay up to date on what's new

- Watch the [!INCLUDE [prod_short](includes/prod_short.md)] Launch Event sessions: [aka.ms/BCLE](https://aka.ms/BCLE).

## Social and blogs

- Stay tuned about what’s going on in the #MSDyn365BC community: [twitter.com/MSDYN365BC](https://twitter.com/MSDYN365BC) (Use #BCALHelp on X, formerly known as Twitter, for quick hints on how to do things) 
- Follow us on LinkedIn: [aka.ms/BCLinkedIn](https://aka.ms/BCLinkedIn)
- Be a part of the community for [!INCLUDE [prod_short](includes/prod_short.md)]: [community.dynamics.com/forums/thread/?partialUrl=business](https://community.dynamics.com/forums/thread/?partialUrl=business) 
- Visit our blog for IT professionals and decision makers: [cloudblogs.microsoft.com/dynamics365/it/product/business-central](https://www.microsoft.com/en-us/dynamics-365/blog/business-leader/product/dynamics-365-business-central/)

## Customer onboarding and resources

- Discover all [!INCLUDE [prod_short](includes/prod_short.md)] apps on AppSource: [aka.ms/BCAppSource](https://appsource.microsoft.com/marketplace/apps?page=1&product=dynamics-365-business-central)
- Get [!INCLUDE [prod_short](includes/prod_short.md)] on your mobile devices: [aka.ms/BusinessCentralApp](https://aka.ms/BusinessCentralApp)
- Get the [!INCLUDE [prod_short](includes/prod_short.md)] installable app on your desktop: [aka.ms/BCPWA](https://aka.ms/BCPWA)
- Learn about onboarding experiences in [!INCLUDE [prod_short](includes/prod_short.md)]: [aka.ms/BCOnboarding](https://aka.ms/bconboarding)
- Find productivity tips: [aka.ms/BCProductivity](https://aka.ms/BCProductivity) 
- Learn about keyboard shortcuts: [aka.ms/BCKeys](https://aka.ms/BCKeys)

## Reporting and business intelligence

- Get started with reporting: [aka.ms/BCReporting](https://aka.ms/BCReporting)
- Find sample Excel layouts: [aka.ms/BCExcelSamples](https://aka.ms/BCExcelSamples)
- Explore [!INCLUDE [prod_short](includes/prod_short.md)] and Power BI: [aka.ms/BCPBI](https://aka.ms/BCPBI)

## Power Platform

- [!INCLUDE [prod_short](includes/prod_short.md)] and Power BI: [aka.ms/BCPBI](https://aka.ms/BCPBI)
- [!INCLUDE [prod_short](includes/prod_short.md)] and Power Automate: [aka.ms/BCAutomate](https://aka.ms/BCAutomate) 
- [!INCLUDE [prod_short](includes/prod_short.md)] and Power Apps: [aka.ms/BCPApps](https://aka.ms/BCPApps)

## Migrating from on-premises to online

- Discover assets for transitioning Dynamics GP, Dynamics NAV, Dynamics SL, [!INCLUDE [prod_short](includes/prod_short.md)] on-premises customers to [!INCLUDE [prod_short](includes/prod_short.md)] online: [aka.ms/BCMigrations](https://aka.ms/BCMigrations)  
- Use migration tools: [Migrate Data](/dynamics365/business-central/dev-itpro/administration/migrate-data) 

## Telemetry and performance

- App performance documentation: [aka.ms/BCPerformance](https://aka.ms/BCPerformance)
- Telemetry documentation: [aka.ms/BCTelemetry](https://aka.ms/BCTelemetry) 
- Environment telemetry data and Power BI: [aka.ms/BCTelemetryReport](https://aka.ms/BCTelemetryReport) 

## Security, privacy, and compliance

- Security and privacy documentation: [aka.ms/BCSecurity](https://aka.ms/BCSecurity) 
- Security in [!INCLUDE [prod_short](includes/prod_short.md)]: [aka.ms/BCSecurity](https://aka.ms/BCSecurity)
- Databases and backups: [aka.ms/bcbackups](https://aka.ms/BCBackups)
- Compliance overview: [aka.ms/BCCompliance](https://aka.ms/BCCompliance)
- Application compliance: [aka.ms/BCAppCompliance](https://aka.ms/BCAppCompliance)

## Licensing and pricing

- [Business Central licensing guide](https://go.microsoft.com/fwlink/?LinkId=866544&clcid=0x409)

## Shopify integration

- Shopify start: [aka.ms/BCShopifyStart](https://aka.ms/BCShopifyStart)
- Shopify FAQ: [aka.ms/BCShopifyFAQ](https://aka.ms/BCShopifyFAQ)
- Shopify consultant: [aka.ms/BCShopifyConsultant](https://aka.ms/BCShopifyConsultant)

## Events for customers

- [!INCLUDE [prod_short](includes/prod_short.md)] Launch Event: [aka.ms/BCLE](https://aka.ms/BCLE)
- [DynamicsMinds](https://www.dynamicsminds.com/)
- [UG Summit](https://www.summitna.com/)
- [DynamicsCon](https://dynamicscon.com/)

## Related information

[Welcome to [!INCLUDE[prod_long](includes/prod_long.md)]](welcome.md)  
[Business Functionality](across-business-functionality.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-legacy-user-groups
---
title: Manage permissions through user groups (legacy)
description: This article describes how to use users groups to define user permissions.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: how-to
ms.search.keywords: access, right, security, permissions
ms.search.form: 1, 119, 8930, 9800, 9807, 9808, 9830, 9831, 9802, 9855, 9862, 9875_Primary, 9874_Primary, 9873_Primary, 9872_Primary, 9877_Primary, 9869_Primary, 9868_Primary, 9871_Primary
ms.date: 05/28/2025
ms.service: dynamics-365-business-central
---

# Manage permissions through user groups (legacy)

[!INCLUDE [2023rw1-sec-group-long](includes/2023rw1-sec-group-long.md)]

User groups help you manage permission sets across the company. [!INCLUDE [prod_short](includes/prod_short.md)] online includes default user groups that are assigned to users automatically based on their license. You can add users manually to a user group, and you can create new user groups as copies of existing ones.  

You start by creating a user group. Then you assign permission sets to the group to define which object users of the group can access. When you add user to the group, the permission sets defined for the group applies to the user.

Permission sets assigned to a user through a user group stay synchronized. A change to the user group permissions is automatically propagated to the users. If you remove a user from a user group, the involved permissions are automatically revoked.

## Add users to a user group

The following procedure explains how to create user groups manually. To learn how to create user groups automatically, go to [To copy a user group and all its permission sets](#copy-a-user-group-and-all-its-permission-sets).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Groups**, and then choose the related link.

    1. Alternatively, on the **Users** page, choose the **User Groups** action.
2. On the **User Group** page, choose the **User Group Members** action.
3. On the **User Group Members** page, choose the **Add Users** action.

## Copy a user group and all its permission sets

To quickly define a new user group, you can copy all permission sets from an existing user group to your new user group.

> [!NOTE]
> The user group members aren't copied to the new user group. You must add them manually afterwards. To learn more, go to [To add users to a user group](#add-users-to-a-user-group).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Groups**, and then choose the related link.
2. Select the user group that you want to copy, and then choose the **Copy User Group** action.
3. In the **New User Group Code** field, enter a name for the group, and then choose the **OK** button.

The new user group is added to the **User Groups** page. Proceed to add users. To learn more, go to [To add users to a user group](#add-users-to-a-user-group) section.  

> [!IMPORTANT]
> A validation error displays if you try to assign a user group that refers to a permission set which was defined in an extension that you uninstalled. It's because the App ID of the extension is validated whenever something references it. To assign that user group to a user, either:
>
> - Reinstall the extension.
> - Remove the reference of the uninstalled extension from the permission set.
> - Remove that permission set from the user group.

## Assign permission sets to user groups

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Groups**, and then choose the related link.
2. Select the user group that you want to assign permission to.  

    Any permission sets that are already assigned to the user are displayed in the **Permission Sets** FactBox.
3. Choose the **User Permission Sets** action to open the **User Permission Sets** page.
4. On the **User Permission Sets** page, on a new line, fill in the fields as necessary.

## Assign a permission set on the Permission Set by User Group page

The following procedure explains how to assign permission sets to a user group on the **Permission Set by User Group** page.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.
2. On the **Users** page, select the relevant user, and then choose the **Permission Set by User Group** action.
3. On the **Permission Set by User Group** page, select the **[user group name]** field on a line for the relevant permission set to assign the set to the user group.
4. Select the **All User Groups** checkbox to assign the permission set to all user groups.

You can also assign permissions sets directly to a user.
license configurations on the **License Configuration** page. Choose a license, and then delete all permission sets assigned to it.

## Convert users groups to security groups

> [!NOTE]
> Security groups replace user groups in 2024 release wave 2 (version 25) and later. If you're using on-premises version 22, 23, or 24, use the assisted setup guide to convert user groups to permission sets and transition to security groups.

Security groups are very similar to the user groups that are currently available. However, user groups are only relevant for [!INCLUDE [prod_short](includes/prod_short.md)]. Security groups are based on groups in Microsoft Entra ID or Windows Active Directory, depending on whether you're using [!INCLUDE [prod_short](includes/prod_short.md)] online or on-premises, respectively. Groups benefit administrators because they can use them with other Dynamics 365 apps. For example, if salespeople use [!INCLUDE [prod_short](includes/prod_short.md)] and SharePoint, administrators don't have to recreate the group and its members.

### Convert user groups to permission sets

In 2023 release wave 1 and later, you can convert user groups to permission sets in your tenant. The permission sets provide the same functionality as user groups. Here are some examples:

* You can use the **Users** FactBox to manage permissions for users.
* You can drill down on the permission set name to add other permission sets to the set you're working on. To learn more, go to [To add other permission sets](ui-define-granular-permissions.md#to-add-other-permission-sets).

Use the **User Group Migration** assisted setup guide to convert your groups. To start the guide, on the **Feature Management** page, find **Feature: Convert user group permissions**, and then choose **All Users** in the **Enabled For** field. The assisted setup guide offers the following options for the conversion.

|Option  |Description  |
|---------|---------|
|Assign to user     | Assign the permissions in user groups directly to the users who were assigned to the group, and remove their user group assignments.        |
|Convert to a permission set     | Create a new permission for the permissions in each user group. The new permission set is assigned to all members of each user group.          |

### License configurations still apply

You can configure permissions in [!INCLUDE [prod_short](includes/prod_short.md)] based on licenses. Those permissions are directly assigned to new users. These configurations still apply, even if you start using security groups.

To use security groups exclusively, we recommend that you remove the license configurations. To learn more about license configurations, go to [Create Users According to Licenses](ui-how-users-permissions.md).

You can remove license configurations on the **License Configuration** page. Choose a license, and then delete all permission sets assigned to it.

## Related information

[Create Users According to Licenses](ui-how-users-permissions.md)  
[Set Up Business Central Access in Teams with Microsoft 365 Licenses](admin-access-with-m365-license-setup.md)  
[Learn about groups and access rights in Microsoft Entra ID](/azure/active-directory/fundamentals/concept-learn-about-groups)  
[Microsoft Entra security groups](/windows-server/identity/ad-ds/manage/understand-security-groups)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/purchasing-how-register-new-vendors
---
title: Register a new vendor
description: Learn how to fill in a vendor card to register a new vendor or supplier, and how to save vendor cards as templates.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: supplier
ms.search.form: 26, 27, 34, 461, 786, 1379, 1385, 1386, 1628
ms.date: 06/10/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Register new vendors

Vendors provide the products you sell. Each vendor you purchase from must be registered with a vendor card.

Before you register new vendors, you must set up various purchase codes to select from when you fill in vendor cards. After all the required master data is created, you can add unique characteristics for a vendor, such as prioritize the vendor for payment purposes or list items that the vendor and other vendors supply. Another group of setup tasks for vendors is to record your agreements concerning discounts, prices, and payment methods. Learn more at [Setting Up Purchasing](purchasing-setup-purchasing.md).

Vendor cards hold the information required to buy products from each vendor. Learn more at [Record Purchases](purchasing-how-record-purchases.md) and [Register New Items](inventory-how-register-new-items.md).
<br /><br />  

> [!Video https://learn-video.azurefd.net/vod/player?id=7188b662-bc49-45ef-8152-82898076b235]

## Adding new vendors

You can add new vendors manually, by filling out the **Vendor Card** page, or you can use templates that contain predefined information. For example, you can create templates for different types of vendor profiles. Using templates saves time when adding new vendors, and helps ensure the information is correct each time.

> [!NOTE]  
> If vendor templates exist for different vendor types, when you create a new vendor you can select the appropriate template. If only one vendor template exists, new vendors always use that template.

After you create a template, you can use the **Apply Template** action to apply it to one or more selected vendors. To create a template, fill in the information you want to reuse on the **Vendor Card** page, then save it as a template. Learn more in the [To save the Vendor Card Page as a template](purchasing-how-register-new-vendors.md#to-save-the-vendor-card-as-a-template) section.

> [!TIP]
> It can be helpful to personalize the **Vendor Template** page when you create a template. For example, if you want to add a field that isn't already displayed on the page. Learn more at [Personalize your workspace](/dynamics365/business-central/ui-personalization-user#start-personalizing-by-using-the-personalization-mode).

You can also create a vendor from a contact. Learn more at [Creating a customer, vendor, employee, or bank account from a contact](marketing-create-contact-companies.md#to-create-a-customer-vendor-employee-or-bank-account-from-a-contact).

Remit-to addresses are used when you print checks to pay your vendors, and vendors can have multiple remit-to addresses for payments. For example, a vendor might supply an item from a subsidiary company, but wants to receive payment at their headquarters. [!INCLUDE [prod_short](includes/prod_short.md)] lets you set up multiple mailing addresses for each vendor, and you can choose the correct location to send payments to on an invoice-by-invoice basis.

You specify remit-to addresses on **Vendor Card** pages, and on the **Shipping & Payments** FastTab on purchase orders and invoices. The remit-to code on the vendor ledger entry is assigned when you create payment journal lines by using:

* The **Pay Vendor** or **Create Payment** actions on the **Vendors** list page or **Vendor Card** page.
* The **Apply Entries** action on a payment journal.

You can overwrite this value.

### To create a new vendor

[!INCLUDE[create_new_vendor](includes/create_new_vendor.md)]

> [!TIP]  
> If you don't know the invoicing address to be used for every invoice from a vendor, don't fill in the **No.** field on the **General** FastTab. Instead, choose the pay-to vendor number after you fill in a purchase quote, order, or invoice header.

The vendor is now registered, and the vendor card is ready to use on purchase documents.

If you want to use this vendor card as a template when you create new vendor cards, you can save it as a vendor template. Learn more in the [To save the vendor card as a template](#to-save-the-vendor-card-as-a-template) section.

### Deleting and editing vendor information

You can edit the information on vendor cards at any time. However, if you posted a transaction for a vendor, you can't delete the card because you might need the ledger entries for auditing. To delete vendor cards with ledger entries, contact your Microsoft partner to do so through code.

> [!TIP]
> You can change the International Bank Account Number (IBAN) on a vendor bank account without the change affecting your historical credit transfer register entries. Credit transfer register entries store the *Recipient IBAN* and the *Recipient Bank Account No.* specified in the **Vendor Bank Account** and **Recipient Name** fields from the **Vendor Card** page when the entries were created.

> [!TIP]
> You can add alternative addresses on vendor cards by choosing the **Order Addresses** action.

## To save the vendor card as a template

1. On the **Vendor Card** page, choose the **Save as Template** action. The **Vendor Template** page opens showing the vendor card as a template.
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
3. To reuse dimensions in templates, choose the **Dimensions** action. The **Dimension Templates** page opens showing any dimension codes set up for the vendor.
4. Edit or enter dimension codes to apply to new vendor cards created using the template.
5. After you complete the new vendor template, choose **OK**.  
   The vendor template is added to the list of vendor templates. You can use it to create new vendor cards.

## Related information

[Merge Duplicate Records](sales-how-merge-duplicate-records.md)  
[Create Number Series](ui-create-number-series.md)  
[Set Up Vendor Bank Account](purchasing-how-set-up-vendors-bank-accounts.md)  
[Set Up Purchasers](purchasing-how-setup-purchasers.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Record Purchases](purchasing-how-record-purchases.md)  
[Use Online Maps to Find Locations and Directions](across-online-maps.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-how-setup-use-service-declaration
---

title: Set Up and Use the Service Declaration Extension
description: Learn how to set up and use Service Declaration (Intrastat for Services) features to report service trade with companies in other EU countries/regions.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 12/21/2022
ms.custom: bap-template
ms.search.keywords: electronic document, Intrastat, trade, EU, service, declaration, 
ms.search.form: 30, 76, 5010, 5022, 5023, 5024, 5800
---
# The Service Declaration Extension

In some EU countries/regions, authorities require that businesses report the export of services to other EU countries/regions. The **Service Declaration** extension lets you collect information about service trade in the EU and report it to the authorities. Although its name is **Service Declaration**, you can also use it as **Intrastat for Services**. This extension is available for all EU countries/regions as a W1 version, and it can be used as-is in Belgium. For other countries/regions, an extension based on the country/region is required. If a country/region only needs a different format, you can use the report configuration in the **Data Exchange Framework** to change the format.

## Enable the Service Declaration extension

After you install the extension in your environment, you need to enable it.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Set up an IRS 1096 feature**, and then choose the related link.
2. Follow steps in the assisted setup guide. The most of fields are configured by default.
3. Add only **Service Transaction Types** in the second step by choosing the **Open the service transaction types page to specify the list of codes** option.
4. Before you start, check the **Total number of codes** to understand how many service transaction types are already specified.
5. Choose **Finish** in the last step to finish the configuration.

## Set up the Service Declaration extension

You can set up the extension manually, or by using a reporting file on the **Data Exchange Definitions** page.

### To set up Service Declaration manually

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Declaration Setup**, and then choose the related link.
2. On the **General** FastTab, configure the fields described in the following table:

    |Field  |Description  |
    |---------|---------|
    |**Declaration No. Series**     | Specifies the number series to use to assign IDs to new records.        |
    |**Report Item Charges**  | Specifies whether item charges must be reported. If enabled, [!INCLUDE [prod_short](includes/prod_short.md)] checks the service transaction code for item charges and includes them in service declarations.        |
    |**Sell-To/Bill-To Customer No.**     | Specifies the customer to use to compare their country code with the country code on the **Company Information** page. Only documents where these two codes are different are included in the service declaration.<br><br>* **Bill-To.**: Use the country code from the **Bill-to Customer** <br<br>* **Sell-To.**: Use the country code from the **Sell-to Customer**.        |
    |**Buy-From/Pay-To Vendor No.**  | Specifies which vendor to use to compare their country code with the country code from the **Company Information** page. Only documents where these two codes are different are included in the service declaration.<br><br> * **Buy-From.**: Use the country code from the **Buy-From Vendor**. <br><br> * **Pay-To.**: Use the country code from the **Pay-To Vendor**.         |
    |**Data Exch. Def. Code**  | Specifies the data exchange definition code used to generate the exported file for the service declaration.        |
    |**Enable Tax Registration No.**     |  Specifies whether the **Tax Registration No.** is enabled for the service declaration.       |

3. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Transaction Types**, and then choose the related link.
4. On the lines, specify **Codes** and **Descriptions** for the service transaction types you use.

### Set up a reporting file

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Data Exchange Definitions**, and then choose the related link.
2. Choose the **New** action.
3. On the **General** FastTab, describe the data exchange definition by specifying the data file type, column separator, related codeunits, XMLport, and filling in the other fields.
4. On the **Line Definitions** FastTab, describe the formatting of lines in the data file by filling the fields based on the **Line Type** field and where you need to define the number of columns for this line.
5. On the **Column Definitions** FastTab, fill in the line for each planned column.
6. Choose the **Field Mapping** action on the **Line Definitions** FastTab to open the **Field Mapping** page.
7. Create a new entry, and on the **General** FastTab, choose the **Table ID** (for **Service Declaration Line**, choose **5024**), and then fill in the fields as follows:
   1. In the **Key Index** field, specify the key index to sort the source records by before exporting.
   2. Select the **Mapping Codeunit**.
8. On the **Field Mapping** FastTab, add the columns you previously configured in the **Column Definitions** FastTab, and then add the following:
   1. Specify the **Field ID** for each of the columns.
   2. Specify the **Transformation Rule** for each column as needed. The rule transforms imported text to a supported value before it can be mapped to a specified field in [!INCLUDE[prod_short](includes/prod_short.md)]. When you choose a value in this field, the exact value is entered in the **Transformation Rule** field in the **Data Exch. Field Mapping Buf.** table, and vice versa.
9. To group entries based on columns, choose the fields to use for grouping on the **Field Grouping** FastTab.

> [!NOTE]
> [!INCLUDE[prod_long](includes/prod_long.md)] comes with a preconfigured data exchange definition for **Service Declaration** for all localized countries/regioins. Learn more about creating a new data exchange definition at [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).

## Other related configurations

Before using the Service Declaration extension, configure some fields for items, resources, and item charges.

### Items

Set up information related to Service Declaration on Item Card pages:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, then choose the related link.
2. Select the item you want to configure.
3. Expand the **Item** FastTab, and configure the following fields:
   1. In the **Type** field, choose **Service**.
   2. In the **Service Transaction Type Code** field, specify the code for a **Service transaction type**.
   3. If you don’t want to include this service item in service declarations, choose the **Exclude From Service Declaration** field.

### Resources

Set up information related to Service Declaration on Resource Card pages:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Resources**, then choose the related link.
2. Select the resource you want to configure.
3. Expand the **General** FastTab, and configure the following fields:
   1. In the **Service Transaction Type Code** field, specify the code for a **Service transaction type**.
   2. If you don’t want to include this resource in service declarations, choose the **Exclude From Service Declaration** field.

### Item Charges

Set up information related to Service Declaration for item charges:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Item Charges**, then choose the related link.
2. Select the item charge you want to configure.
3. In the **Service Transaction Type Code** field, specify the code for a **Service transaction type**.
4. If you don’t want to include this item charge in service declarations, select the **Exclude From Service Declaration** field.

## Create new service declaration

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Declarations**, and then choose the related link.
2. Choose the **New** action.
3. On the **General** FastTab, fill in the following fields:
    1. In the **Config. Code** field, specify the configuration code that is used to suggest lines and create files. You need to choose one as a **Service Declaration**.
    2. In the **Starting Date** and **Ending Date** fields, specify the start and end dates of the period to include in the service declaration.
4. Choose the **Suggest lines** action to start a batch job that collects lines from documents and fills in the service declaration lines.

The batch job retrieves all entries from applicable purchase and sales documents in the required period and adds them on the service declaration lines. Hover over fields in lines to read a short description.

## Modify a service declaration

If needed, you can modify the lines or add new ones.

1. On the **Service Declaration** page, choose the **New Line** action in the **Lines** FastTab.
2. In the **Document Type** field, choose the option related to the document you want to use.
3. Based on the **Document Type**, fill in the **Document No.** field.
4. Fill in the remaining fields.

## Overview the service declaration lines

After you create a service declaration, use the **Overview** action to get an overview of the service declaration lines. You can group and summarize the lines in the same way as the exported file. You can also open the lines in Excel.

## Report Service Declaration in a file

You can submit the service declaration as a file based on different local authorities' requirements. To create a file:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Service Declarations**, then choose the related link.
2. Choose the service declaration you want to report as a file.
3. Fill in the service declaration manually, or choose the **Suggest Lines** action.
4. Choose the **Create File** action.
5. The service declaration file is saved in the required format.

## Other considerations

When you're using the **Service Declaration** extension, there are a few more things to consider. For example, it's important that your groups match requirements from authorities. It's also important that services are included correctly on sales and purchase documents.

### Grouping lines

On service declaration lines, there's no grouping by any field. All entries are copied from the original document as a source.

Grouping required by authorities is provided in the exported file. You must configure the groups in the **Data Exchange Definition**, which is fully configurable. Learn more at [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).

### Using services in document lines

When you create a purchase, sales, or service  invoice, there are two fields related to service declarations on their lines. Both fields are filled in with the default values from your item, resource, or item charge set ups.

- **Service Transaction Type Code** - Specifies the code for a service transaction type.
- **Applicable For Service Declaration** - Specifies whether an item or resource is applicable for a service declaration.

You can change the values in these fields, but if you select the **Applicable For Service Declaration** field, you must specify a value in the **Service Transaction Type Code** field. If you don't, you can't post the document.

If you specify a value in the **Service Transaction Type Code** field but don’t select the **Applicable For Service Declaration** field, you can post the document, but the line isn't calculated.

## Related information

[Set Up Intrastat Reporting](finance-how-setup-report-intrastat.md)
[Intrastat Reporting in Business Central](finance-how-report-intrastat.md)  
[Financial Management](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/production-how-to-post-consumption
---
title: Batch post consumption
description: If the flushing method is Manual, post the components manually using a consumption journal.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.form: 99000846, 99000850
ms.date: 03/20/2025
ms.service: dynamics-365-business-central
ms.custom: bap-template

---
# Batch post production consumption

If the flushing method is **Manual**, use a consumption journal to post the components manually.  

> [!NOTE]
> If you select the **Inventory Pick/Movement** option in the **Prod. Consumption Whse. Handling** field on the location card to indicate that the location requires inventory pick processing, you don't need to use this batch job. [!INCLUDE[prod_short](includes/prod_short.md)] handles consumption when you post the inventory pick. To learn more, go to [Pick for Production in Basic Warehouse Configurations](warehouse-how-to-pick-for-production.md).  

You can also set up [!INCLUDE[prod_short](includes/prod_short.md)] to automatically post (*flush*) components when you start or finish production orders. To learn more, go to [Enable Flushing of Components According to Operation Output](production-how-to-flush-components-according-to-operation-output.md).

## To post consumption for one or more production order lines

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Consumption Journal**, and then choose the related link.  
2. Fill in the fields with the production order data and the consumption data. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

    Use the **Calc. Consumption** action to generate journal lines from production orders based on the actual output (the quantity of finished goods that you reported) or on the expected output (the quantity of finished goods that you expect to produce).

    > [!NOTE]
    > If you configured the location to require warehouse pick processing, only quantities that are already picked through a warehouse activity can be entered in the **Quantity** field in the **Consumption Journal** page. It can't be a calculated quantity. To learn more, go to [Pick for Production or Assembly in Advanced Warehouse Configurations](warehouse-how-to-pick-for-internal-operations-in-advanced-warehousing.md).

3. Choose the **Post** action to post the consumption. The related inventories are reduced.

    [!INCLUDE [preview-posting-inventory](includes/preview-posting-inventory.md)]

[!INCLUDE [production-journals-edit-excel](includes/production-journals-edit-excel.md)]

## Related information

[Cancel production orders that have consumption](production-cancel-production-orders-that-have-consumption.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Setting Up Manufacturing](production-configure-production-processes.md)  
[Planning](production-planning.md)  
[Inventory](inventory-manage-inventory.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/reports-built-in-analytics
---
title: Built-in analytics
description: Provides an overview of all the features that support analytics tasks in the Business Central product.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: feature overview
ms.date: 04/30/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Built-in analytics

[!INCLUDE[prod_short](includes/prod_short.md)] comes with features that enable you to analyze data in an aggregated form. For example, you can use these features to track key performance indicators (KPIs) for your finances or analyze financial statements in Microsoft Excel. The following table provides links to articles that can help you learn how to use the built-in analytics.

| To | See |
| --- | --- |
|Analyze data with built-in Power BI reports. | [Work with Power BI Reports](across-working-with-powerbi.md) |
|Get insight into which reports users use| [Report usage telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-reports-trace)|

## Related information

[Analytics overview](reports-bi-reporting.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sustainability-powerbi-app
---
title: Sustainability Power BI app
description: The Power BI app for sustainability in Business Central provides comprehensive sustainability analytics to stakeholders at all levels of your organization.
author: altotovi
ms.author: altotovi
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 
ms.date: 06/04/2025
ms.service: dynamics-365-business-central
---

# Sustainability Power BI app

[!INCLUDE[applies-to-2025w2](includes/2025_releasewave1.md)]

The Sustainability Power BI app provides detailed insight into the emission usage of an organization to support Environment Social Governance (ESG) reporting. The report helps identify key areas to change. The app provides various reports that focus on areas that organizations want to track, such as [Water and Waste Analysis](sustainability-powerbi-water-and-waste-analysis.md), [Journey to Net Zero Carbon](sustainability-powerbi-journey-to-net-zero-carbon.md) and [Social Analysis](https://businesscentral.dynamics.com?page=37091).

## Sustainability analytics

To fit into this category, you might have a role such as:

- Sustainability Manager
- Data Analyst

### Example scenario: The sustainability team needs to review their water and waste usage over a period

As someone on the Sustainability team, you want to consistently review your water and waste usage at specific facilities. Using the [Water and Waste Analysis](sustainability-powerbi-water-and-waste-analysis.md) report, you can review the capacity at each facility and location to understand the available capacity, should you need it in the future.

:::image type="content" source="media\sustainability\water-waste-by-loc-fac.png" alt-text="Screenshot of the Water and Waste Analysis Snippet Power BI" lightbox="media\sustainability\water-waste-by-loc-fac.png":::

The report also allows the team to track different water and waste types along with the YOY and DOD change to ensure they're moving in the right direction.

## Sustainability analytics for the Executive team

To fit into this category, you might have a role such as:

- CEO
- Chief Operating Officer
- Chief Sustainability Officer

### Example scenario: Ensure targets are being met

For someone on the executive team, you need to ensure targets you put in place for the organization are being met. The [Realized Emissions vs. Target](sustainability-powerbi-realized-emissions-vs-target.md) report can quickly and efficiently compare your actual emissions with your target and make informed decisions about where to make changes.

:::image type="content" source="media\sustainability\co2e-comparision.png" alt-text="Screenshot of the Realized Emissions vs Target Snippet Power BI" lightbox="media\sustainability\co2e-comparision.png":::

You can compare the data in this report with the [Journey to Net Zero Carbon](sustainability-powerbi-journey-to-net-zero-carbon.md) report to ensure your organization is on the right track.

:::image type="content" source="media\sustainability\journey-to-net-zero-snip.png" alt-text="Screenshot of the Journey To Net Zero Carbon Snippet Power BI" lightbox="media\sustainability\journey-to-net-zero-snip.png":::

For an executive looking for a quick, high-level view for their organization, you can use the [Sustainability Overview](sustainability-powerbi-sustainability-overview.md) report.

## Alternative use cases

While the reports benefit these examples, in some scenarios other roles can also use this report pack. For example, a Procurement Manager might use the [Emissions by Category and Scope](sustainability-powerbi-emissions-by-category-and-scope.md) report to review Scope 3 so they can identify better vendors. Or, a member of the Human Resources team can use the [Social Analysis](sustainability-powerbi-social-analysis.md) report to get a view of employee activities.

## Use the reports

The following table provides descriptions on how you can use each report in the Power BI Sustainability app.

|To... | Open in Business Central (CTRL+select) | Learn more |
|------|---------------------------------------|----------- |
|The **Sustainability Overview** report gives you a high-level view of all the key sustainability metrics.| [Sustainability Overview](https://businesscentral.dynamics.com?page=37084) | [About Sustainability Overview](sustainability-powerbi-sustainability-overview.md)|
|The **Journey to Net Zero** report highlights the journey to net zero within an organization.| [Journey to Net Zero Carbon](https://businesscentral.dynamics.com?page=37090) | [About Journey to Net Zero Carbon](sustainability-powerbi-journey-to-net-zero-carbon.md)|
|The **Realized Emissions vs Target** report breaks down your carbon emissions and allows for comparison against the target. You can effectively monitor planned progress and drive continuous improvement to sustainability goals.| [Realized Emissions vs Target](https://businesscentral.dynamics.com?page=37085) | [About Realized Emissions vs. Target](sustainability-powerbi-realized-emissions-vs-target.md)|
|The **Realized Emissions vs Baseline** report breaks down your carbon emissions and allows for comparison against a defined baseline period. This comparison lets you track progress against the baseline and monitor trends against a previous period.| [Realized Emissions vs Baseline](https://businesscentral.dynamics.com?page=37086) | [About Realized Emissions vs. Baseline](sustainability-powerbi-realized-emissions-vs-baseline.md)|
|The **Water and Waste Analysis** report allows you to effectively monitor your water and waste usage by different metrics such as water type, intensity type, and responsibility center.| [Water and Waste Analysis](https://businesscentral.dynamics.com?page=37087) | [About Water and Waste Analysis](sustainability-powerbi-water-and-waste-analysis.md)|
|The **Emissions by Category and Scope** report breaks down each emission type based on the account category and the scope to show how each account and scope is tracking. | [Emissions by Category and Scope](https://businesscentral.dynamics.com?page=37088) | [About Emissions by Category and Scope](sustainability-powerbi-emissions-by-category-and-scope.md)|
|The **CO2e Analysis** report provides detailed insight into your CO2e emissions and how you purchase carbon credit.| [CO2e Analysis](https://businesscentral.dynamics.com?page=37089) | [About CO2e Analysis](sustainability-powerbi-co2e-analysis.md)|
|The **CO2e Key Influencers** report identifies the key factors behind increases in CO2e emissions. It highlights the most impactful variables and trends based on the sustainability account categories.| [CO2e Key Influences](https://businesscentral.dynamics.com?page=37093) | [About CO2e Key Influences](sustainability-powerbi-co2e-key-influences.md)|
|The **CO2e Decomposition Tree** report breaks down CO2e emission metrics into its key contributing components to help you understand what's driving changes in CO2 emissions, and why.| [CO2e Decomposition Tree](https://businesscentral.dynamics.com?page=37108) | [About CO2e Decomposition Tree](sustainability-powerbi-co2e-decomposition-tree.md)|
|The **Social Analysis** report displays employee details as part of social reporting for ESG. | [Social Analysis](https://businesscentral.dynamics.com?page=37091) | [About Social Analysis](sustainability-powerbi-social-analysis.md)|

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Related information

[Sustainability Overview (Power BI Report)](sustainability-powerbi-sustainability-overview.md)  
[Sustainability reports and analytics in Business Central](sustainability-reports.md)  
[Sustainability scorecards and goals overview](sustainability-scorecards-goals.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-share-onedrive
---
title: Opening Business Central Files in OneDrive
description: Learn how you can share Business Central data through OneDrive for Business. 
author: jswymer
ms.topic: how-to
ms.search.keywords:
ms.date: 08/03/2022
ms.author: jswymer

ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Opening and Sharing Business Central Files in Microsoft OneDrive

[!INCLUDE[prod_short](includes/prod_short.md)] makes it easy to store, manage, and share files with other people through Microsoft OneDrive for Business. On most pages with available files, such as the Report Inbox or when files are attached to records, you'll find **Open in OneDrive** and **Share** actions.


:::image type="content" source="media/onedrive-overview-report-inbox-w-outline.png" alt-text="The Open in OneDrive and Share actions for reports":::


:::image type="content" source="media/one-drive-attachments-w-outline.png" alt-text="The Open in OneDrive and Share actions for attachments":::


## Open in OneDrive

The **Open in OneDrive** action copies the file to your OneDrive and then opens the file in an application such as Microsoft Excel online, Microsoft Word online, or Microsoft PowerPoint online. 

<!--## Working with different types of files-->

When you choose **Open in OneDrive**, [!INCLUDE[prod_short](includes/prod_short.md)] identifies Excel, Word, and PowerPoint files and opens them in their online applications, that is, Excel online, Word online and PowerPoint online. 

Using the online versions of these applications, you can annotate, edit, and collaborate with others without leaving the browser.

For other popular file types, such as PDFs, text files, and images, OneDrive provides file viewers that offer features for printing, sharing, and more. If a file can't be viewed in OneDrive, you might be prompted to download it.

## Share

The **Share** action copies the file to your OneDrive so you can see with whom you've already shared it as well as share the file with other people. When you select the **Share** action, the following page opens.

:::image type="content" source="media/share-to-onedrive-dialog-v2.PNG" alt-text="Share file in OneDrive":::

If you're familiar with OneDrive, you may recognize the above-referenced page. You'll see you have two options for sharing the file: **Send link** and **Copy link**.

- **Send link** let's you share the files with specific people. The people you share the file will get an email with a link to the file. The file will also appear in the **Shared** section of their OneDrive. Start by typing the email addresses or contact names in the **Name, group or email field**. Include a message below the  **Name, group or email field**, if you want.

  > [!TIP]
  > If you want to compose your message in Outlook, select the **Outlook** button. The link will be inserted into a draft email and everyone you entered to share with will be in the **To** list. With this option, you can author emails using all of Outlook's features, including formatting text, adding other attachments, inserting pictures or tables, and adding CC or BCC recipients.

- **Copy link** copies a file link you can use to share the file through applications such as Facebook, Twitter, or email. 

Before you send or copy a file link, set the permission level you want people to have. You can see the current setting under **Send link** or **Copy link**. In most cases, it will be **Anyone with the link can edit**, depending on your administrator's settings. To change the permissions, select the link and make changes on the **Link Settings** page.

The sharing feature in Business Central is based on OneDrive. Learn more about OneDrive sharing and permissions at [Share OneDrive files and folders](https://support.microsoft.com/en-us/office/share-onedrive-files-and-folders-9fcc2f7d-de0c-4cec-93b0-a82024800c07).

> [!NOTE]
> The **Share** action isn't available in the Business Central app for mobile devices.

## First-time sign in from Business Central

When you use the **Open in OneDrive** or **Share** action for the first time, [!INCLUDE[prod_short](includes/prod_short.md)] does the following things:

1. Opens the **Please review terms and conditions** page. Read the page, and if you agree with the terms and conditions, select **Agree** to continue.
2. Creates a folder named [!INCLUDE[prod_short](includes/prod_short.md)] in OneDrive. 
3. Within the [!INCLUDE[prod_short](includes/prod_short.md)] folder, it creates a folder with the same name as the company you're working in. If you work in more than one company, [!INCLUDE[prod_short](includes/prod_short.md)] creates a folder for each company you're working in when you use the **Open in OneDrive** or **Share** action. 
4. Puts a copy of the file you selected in the company name folder, and then opens the file. 

Then, the next time you use the **Open in OneDrive** or **Share** action, [!INCLUDE[prod_short](includes/prod_short.md)] only copies and opens the file. 

## Managing multiple copies of a file

When you choose **Open in OneDrive** or **Share**, the file is copied from [!INCLUDE[prod_short](includes/prod_short.md)] to your folder in OneDrive. If you edit the file in OneDrive, that file will be different from the [!INCLUDE[prod_short](includes/prod_short.md)] file. To update [!INCLUDE[prod_short](includes/prod_short.md)] with the latest file version, remove the existing file from [!INCLUDE[prod_short](includes/prod_short.md)] and upload the latest copy.

If a file with the same name already exists in OneDrive, you'll be given the following choices:

- **Use existing**

  This option opens or shares the file that's already stored in OneDrive, instead of copying the file from Business Central.
  
- **Replace**
  
  This option replaces the existing file in OneDrive with the file you selected from Business Central. The original file isn't lost&mdash;you can see and restore it using the version history in OneDrive. Learn more at [Restore a previous version of a file stored in OneDrive](https://support.microsoft.com/office/restore-a-previous-version-of-a-file-stored-in-onedrive-159cad6d-d76e-4981-88ef-de6e96c93893).

- **Keep both**

  This option keeps the existing file as-is and saves the file you selected from Business Central under a different name. The new name is similar to the existing name, except with a suffix number such  “Items (2).xlsx”.

## About your Business Central folder on OneDrive

The folder and its content are private until you decide to share them with others. So you might decide to share content with one or more of your coworkers, or even people outside of your organization. 

You can access your OneDrive from the **My Settings** page by choosing the link in the **Cloud Storage** field. Learn more at [Share OneDrive files and folders](https://support.microsoft.com/en-us/office/share-onedrive-files-and-folders-9fcc2f7d-de0c-4cec-93b0-a82024800c07).

:::image type="content" source="media/my-settings-cloud-storage.PNG" alt-text="The Cloud Storage field in My Settings":::

<!--## Extending the Connection to OneDrive
You can create an extension and connect it to... For more information, see...-->

## Related information

[Business Central and OneDrive Integration](across-onedrive-overview.md)  
[Managing OneDrive Integration with Business Central](admin-onedrive-integration.md)  
[OneDrive FAQ](admin-onedrive-faq.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-to-delete-workflows
---
title: How to Delete Approval Workflows
description: If you're certain that a workflow is no longer being used, you can delete it. All workflow step instances defined in the workflow must be status **Completed**.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.form: 1500, 
ms.date: 09/08/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Delete Approval Workflows

If you're certain a workflow is no longer being used, you can delete it. All workflow step instances defined in the workflow must have a **Completed** status.

> [!CAUTION]
> When you delete a workflow, all information in the workflow is lost.

On the **Workflow** page, you create a workflow by listing the involved steps on the lines. Each step consists of a workflow event, moderated by event conditions, and a workflow response, moderated by response options. You define workflow steps by filling fields on workflow lines using fixed lists of event and response values representing scenarios supported by the application code. Learn more at [Create Approval Workflows](across-how-to-create-workflows.md).

## Delete a workflow

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, then choose the related link.
2. Select the workflow you want to delete.
3. Choose the **Delete** action.
4. Alternatively, open the workflow you want to delete.
5. On the **Workflow** page, choose the **Delete** action.

> [!NOTE]
> Deleting a workflow requires it to be disabled. To disable a workflow, open it in the **Workflows** page, then turn off the **Enabled** toggle.

## Related information

[Create Approval Workflows](across-how-to-create-workflows.md)  
[Enable Approval Workflows](across-how-to-enable-workflows.md)  
[Use Approval Workflows](across-use-workflows.md)  
[View Archived Workflow Step Instances](across-how-to-view-archived-workflow-step-instances.md)  
[Walkthrough: Setting Up and Using a Purchase Approval Workflow](walkthrough-setting-up-and-using-a-purchase-approval-workflow.md)  
[Setting Up Approval Workflows](across-set-up-workflows.md)  
[Workflow](across-workflow.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/reports-adhoc-analysis
---
title: Ad-hoc data analysis
description: Provides an overview of features that support ad-hoc data analyses in Business Central.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: get-started
ms.search.keywords: feature overview
ms.date: 04/30/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Ad-hoc data analysis

Sometimes you need to analyze data in [!INCLUDE[prod_short](includes/prod_short.md)] in a way that the standard reports don't support. These analyses are often called "ad-hoc." The following table provides links to articles that can help you learn how to do ad-hoc analyses.

| To | See |
| --- | --- |
| Analyze data on a list by sorting, searching, and filtering it. | [Sorting, Searching, and Filtering](ui-enter-criteria-filters.md) and [Searching and Filtering FAQ](ui-search-filter-faq.yml) |
| Save the settings you use frequently on a list as a view | [Save and personalize list views](ui-views.md)|
| View and analyze data from a page in Microsoft Excel | [View and Edit in Excel](across-work-with-excel.md) |
| Analyze list data directly from a page |[Analyze list data using data analysis mode](analysis-mode.md)|
| View and analyze data from a report dataset in Excel | [ Analyzing Report Data with Excel and XML](report-analyze-excel.md) |

## Ad-hoc data analysis by functional area

The general content about ad-hoc data analysis is also available in special versions for many of the functional areas in [!INCLUDE[prod_short](includes/prod_short.md)]. 

[!INCLUDE[ad-hoc-analysis-scenarios-table](includes/ad-hoc-analysis-scenarios-table.md)]

## Related information

[Analytics overview](reports-bi-reporting.md)   

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-powerbi-gross-requirement
---
title: Gross Requirement (Power BI report)
description: The Gross Requirement report looks at all outbound transactions within the system to identify the quantity required per item. 
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: conceptual
ms.search.keywords: reporting
ms.search.form: 37027_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Gross Requirement (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Gross Requirement** report looks at all outbound transactions to determine the quantity required per item.

The report shows the gross requirement for an item and the different documents that include it. This information is coupled with the **Project Available Balance** that calculates the balance at any point in time.

:::image type="content" source="media/inventory/gross-requirement.png" alt-text="Screenshot of the Gross Requirement Power BI Report" lightbox="media/inventory/gross-requirement.png":::

## Use the report

The report helps management and procurement officers to determine whether the organization is keeping up with demand.

Managers can use the report to ensure that stock levels are high enough to maintain the production schedule and sales demand for each item. The report helps identify bottlenecks in production by showing items where the available inventory doesn't meet the gross requirement.

Procurement officers can view sales and production volumes and ensure your available balance meets the requirements for each item. With this information, you can make informed decisions on the items you should replenish.

## Key Performance Indicators (KPIs)

The *Gross Requirement* report includes the following KPIs:

- [**Gross Requirement**](inventory-powerbi-kpis.md#gross-requirement)
- [**Project Available Balance**](inventory-powerbi-kpis.md#projected-available-balance)
- [**Qty. on Sales Order**](inventory-powerbi-kpis.md#qty-on-sales-order)
- [**Qty. on Purch. Return**](inventory-powerbi-kpis.md#qty-on-purch-return)
- [**Qty. on Service Order**](inventory-powerbi-kpis.md#qty-on-service-order)
- [**Qty. on Projects**](inventory-powerbi-kpis.md#qty-on-projects)
- [**Qty. on Prod. Order Comp Lines**](inventory-powerbi-kpis.md#qty-on-prod-order-comp-lines)
- [**Trans. Order Shipment (Qty)**](inventory-powerbi-kpis.md#trans-order-shipment-qty)
- [**Planning Issues (Qty)**](inventory-powerbi-kpis.md#planning-issues-qty)
- [**Qty. on Asm. Component**](inventory-powerbi-kpis.md#qty-on-asm-component)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)] 


## Data used in the report

The report uses data from the following tables in [!INCLUDE [prod_short](includes/prod_short.md)]:

- Item
- Item Ledger Entries
- Assembly Lines
- Job Planning Lines
- Prod Order Component Line
- Production Order Lines
- Purchase Lines
- Sales Lines
- Service Lines
- Transfer Lines

## Try the report

Try the report here: [Gross Requirement](https://businesscentral.dynamics.com?page=37027)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Inventory app](inventory-powerbi-app.md)  
[Ad hoc analysis of inventory data](ad-hoc-analysis-inventory.md)  
[Built-in inventory and warehouse reports](inventory-WMS-reports.md)  
[Inventory analytics overview](inventory-analytics-overview.md)  
[Inventory overview](inventory-manage-inventory.md)end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-business-functionality
---
title: Business functionality supported by Business Central
description: Provides a feature overview of all the business functions and departments supported by application areas, such as finance, inventory, and project management.
author: brentholtorf
ms.topic: get-started
ms.devlang: al
ms.search.keywords: feature overview
ms.search.form: 9020, 9022, 9026, 9027, 9030, 9000, 9009, 9004, 9005, 9024, 9006, 9007, 9010, 9016, 9017
ms.date: 11/13/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Business functionality

[!INCLUDE[prod_short](includes/prod_short.md)] provides functionality for common business processes in small and medium-sized companies, mainly within wholesale and professional services. However, more complex processes, such as assembly, manufacturing, service, and directed warehouse management are also supported. Learn how to get a free trial [here](trial-signup.md).  

[!INCLUDE [about-ui-learn](includes/about-ui-learn.md)]

[!INCLUDE[prod_short](includes/prod_short.md)] includes standard configurations for most business processes, but you can change the configuration to suit your business needs. From your Role Center, you can access assisted setup guides that help you configure certain scenarios and add features to [!INCLUDE[prod_short](includes/prod_short.md)]. Several areas of business functionality must be set up manually. The [Business Central quick start](quick-start-business-central.md) articles help you take the first steps towards making [!INCLUDE [prod_short](includes/prod_short.md)] your own. Learn more at [Setting Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md).

| To | Go to |
| --- | --- |
|Make and collect payments, manage your cash flow, defer income and revenue, prepare year-end closing, and manage fixed assets.|[Finance](finance.md)|
|Get insight to the performance of your business activities through budgets, account schedules, and analysis views.|[Financial Business Intelligence](bi.md)|
|Manage sales processes and information, such as quotes, orders, returns, and customer accounts, and make drop shipments.|[Sales](sales-manage-sales.md)|
|Manage purchasing processes and information, such as invoices, orders, returns, and vendor accounts, and purchase items from sales documents. |[Purchasing](purchasing-manage-purchasing.md)|
|Register new inventory or service-type items, categorize items for easy searching, adjust inventory levels, and perform common inventory costing tasks.|[Inventory](inventory-manage-inventory.md)|
|Create projects and schedule resources for projects, manage project budgets, monitor progress, and track machine and employee hours.|[Project Management](projects-manage-projects.md)|
|Organize your fixed assets, ensure correct periodic depreciation, and keep track of maintenance costs.|[Fixed Assets](fa-manage.md)|
|Manage and support your sales efforts, and focus your interactions on preferred customers and contacts.|[Relationship Management](marketing-relationship-management.md)|
|Keep detailed records of your employees, and register absences for analysis purposes. |[Human Resources](hr-manage-human-resources.md)|
|Plan the production operations required to transform inputs into finished goods.|[Planning](production-planning.md)|
|Put salable items together in simple steps to make a new item, such as a kit.|[Assembly Management](assembly-assemble-items.md)|
|Define shop floor resources and their capacity, schedule operations, pull production components, and execute production operations.|[Manufacturing](production-manage-manufacturing.md)|
|Ensure an effective flow of received and shipped goods.|[Warehouse Management Overview](design-details-warehouse-management.md)|
|Schedule service calls and set up service orders, and track repair parts and supplies.|[Service Management](service-service.md)|
|Set up and use workflows that connect tasks performed by different users or by the system, such as automatic posting. Request and grant approval to create or post documents are typical workflow steps.|[Workflow](across-workflow.md)|
|Enable users to exchange data with external sources during daily tasks, such as send/receive electronic documents, import/export bank files, and update currency exchange rates.|[Exchanging Data Electronically](across-data-exchange.md)|
|Record external documents in [!INCLUDE[prod_short](includes/prod_short.md)], including their file attachments, then manually create the related documents or automatically convert the files to electronic documents.|[Incoming Documents](across-income-documents.md)|

## Related information

[Administration](admin-setup-and-administration.md)  
[Explore Dynamics 365 Business Central capabilities](https://dynamics.microsoft.com/business-central/capabilities/)  
[Getting Ready for Doing Business](ui-get-ready-business.md)  
[Setting Up [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-create-cost-budgets
---
title: Creating cost budgets
description: This article provides an overview of where to create and analyze cost budgets. Budgeting in cost accounting resembles budgeting in the general ledger.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.search.form: 1115, 1116, 1117, 1118, 1119, 1120, 1121, 1131, 1132, 1133
ms.date: 07/26/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Creating cost budgets

Budgeting in cost accounting resembles budgeting in the general ledger. A cost budget is created based on cost types just as a budget for the general ledger is created based on general ledger accounts.  

A cost budget is created for a certain period of time, for example, a fiscal year. You can create as many cost budgets as needed. You can create a new cost budget manually, or by importing a cost budget, or by copying an existing cost budget as the budget base. For more information, see [Create G/L Budgets](finance-how-create-budgets.md).

You use the following pages to create and analyze cost budgets. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon to find a page, and then read the tooltip for each.

|To|See|  
|--------|---------|  
|Transfer budgets from the general ledger.|**Copy G-L Budget to Cost Acctg.** batch job|  
|Copy cost budgets.|**Copy Cost Budget** batch job|  
|Allocate budgets.|**Cost Allocation** page|  
|See cost budget registers and cost budget entries.|**Cost Budget Registers** page|  
|Print cost budget comparisons using various reports.|**Cost Acctg. Balance-Budget** report<br /><br /> **Cost Acctg. Statement-Budget** report<br /><br /> **Cost Budget by Cost Center** report<br /><br /> **Cost Budget by Cost Object** report|  

## Related information

[Accounting for Costs](finance-manage-cost-accounting.md)  
[Create G/L Budgets](finance-how-create-budgets.md)  
[Terminology in Cost Accounting](finance-terminology-in-cost-accounting.md)  
[Defining and Allocating Costs](finance-define-and-allocate-costs.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-put-items-away-with-inventory-put-aways
---
title: How to Put Items Away with Inventory Put-aways
description: Learn how to use inventory put-away documents to record and post put-away and receipt information.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 09/19/2023
ms.custom: bap-template
ms.search.forms: 7375, 
---
# Put Items Away with Inventory Put-aways

In [!INCLUDE[prod_short](includes/prod_short.md)], you receive items and put them away using one of four methods, as described in the following table.

|Method|Inbound Process|Require Receipts|Require Put-aways|Complexity Level (Learn more at [Warehouse Management Overview](design-details-warehouse-management.md))|  
|------------|---------------------|--------------|----------------|------------|  
|A|Post receipt and put-away from the order line|||No dedicated warehouse activity.|  
|B|Post receipt and put-away from an inventory put-away document||Turned on|Basic: Order-by-order.|  
|C|Post receipt and put-away from a warehouse receipt document|Turned on||Basic: Consolidated receive/ship posting for multiple orders.|  
|D|Post receipt from a warehouse receipt document and post put-away from a warehouse put-away document|Turned on|Turned on|Advanced|  

Learn more at [Inbound Warehouse Flow](design-details-inbound-warehouse-flow.md).

This article refers to method B in the table.

When your location is set up to require put-away processing but not receive processing, use an **Inventory Put-away** document to record and post put-away and receipt information for your source documents. Inbound source documents can be purchase orders, sales return orders, and inbound transfer orders.

> [!NOTE]
> Production and assembly output also represent inbound source documents. Learn more about handling production and assembly output for internal processes at [Design Details: Internal Warehouse Flows](design-details-internal-warehouse-flows.md).

You can create an inventory put-away in three ways:  

* Create the inventory put-away directly from the source document itself.  
* Create inventory put-aways for several source documents at the same time by using a batch job.  
* Create the put-away in two steps by first by releasing the source document to make the items available to be put away. You can create the inventory put-away based on the source document by using the **Inventory Put-away** page.  

## To create an inventory put-away from the source document

1. In the source document, which can be a purchase order, sales return order, or inbound transfer order, choose the **Create Inventory Put-away/Pick** action.  
2. Select the **Create Invt. Put-away** checkbox.
3. Choose the **OK** button. A new inventory put-away is created.

## To create multiple inventory put-aways with a batch job

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Create Inventory Put-away/Pick/Movement**, and then choose the related link. 
2. On the **Warehouse Request** FastTab, use the **Source Document** and **Source No.** fields to filter on certain types of documents or ranges of document numbers. For example, you can create put-aways for purchase orders only.
3. On the **Options** FastTab, select the **Create Invt. Put-away** checkbox.
4. Choose the **OK** button. The specified inventory put-aways are created.

## To create the put-away in two steps

### To request an inventory put-away by releasing the source document

When you release purchase orders, sales return orders, and inbound transfer orders, the items on the orders become available to be put away. The following steps describe how to make the items on a purchase order ready to be put away.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, and then choose the related link.
2. Select the purchase order that you want to release, and then choose the **Release** action.  

### To create an inventory put-away based on the source document

A warehouse employee can create a new inventory put-away based on the released source document.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Inventory Put-away**, and then select the related link.  
2. Choose the **New** action.  
3. In the **Source Document** field, select the type of source document you are putting away for.  
4. In the **Source No.** field, select the source document.  
5. Alternatively, choose the **Get Source Document** action to select the document from a list of inbound source documents that are ready for put-away at the location.  
6. Choose the **OK** button to fill the put-away lines according to the selected source document.  

## To record the inventory put-away

1. On the **Inventory Put-aways** page, open a previously created put-away document.  
2. In the **Bin Code** field on the put-away lines, the bins where the items must be put away are suggested based on the items' default bin. You can change the bin if needed.  
3. Perform the put-away, and then enter the actual quantity that was put away in the **Qty. to Handle** field.

    If you must place the items for one line in more than one bin, for example because the designated bin is full, use the **Split Line** action on the **Lines** FastTab. The action creates a line for the remaining quantity to handle.  
4. After you put the items away, choose the **Post** action.  

    * Post the receipt of the source document lines that have been put away
    * If the location uses bins, posting will also create warehouse entries to post the bin quantity changes.

    [!INCLUDE [preview-posting-warehouse](includes/preview-posting-warehouse.md)]

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-how-to-view-synchronization-status
---
title: View the Status of Synchronization Jobs
description: Use the Coupled Data Synchronization Errors page to view the status of synchronization jobs that have been run for coupled records in integrations.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: sales, crm, integration, sync, synchronize
ms.search.form: 6250
ms.date: 06/14/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# View the Status of Synchronization Jobs


Use the **Coupled Data Synchronization Errors** page to view the status of synchronization jobs that have been run for coupled records in a Dataverse or [!INCLUDE[crm_md](includes/crm_md.md)] integrations. This includes jobs that were run from the job queue and manual synchronization jobs that ran on records from [!INCLUDE[prod_short](includes/prod_short.md)]. For example, viewing their status is helpful when troubleshooting because it gives you access to details about errors related to coupled records. Typically, these types of errors are caused by user actions, for example, when:  

* Two people made a change to the same data in both business apps.
* Someone deleted data in one of the apps, but not both.

> [!Note]
> The **Coupled Data Synchronization Errors** page shows information about jobs related to coupled records. If you resolve all of the errors but records are still not synchronizing, it might have something to do with a setting for the integration. Typically, your administrator will need to resolve those types of errors.   

## Example
This video shows an example of how to troubleshoot errors that happened while synchronizing with [!INCLUDE[prod_short](includes/cds_long_md.md)]. The process will be the same for all integrations. 

> [!VIDEO https://go.microsoft.com/fwlink/?linkid=2097304]


## To view and resolve synchronization errors for coupled records
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Coupled Data Synchronization Errors**, and then choose the related link.
2. The **Coupled Data Synchronization Errors** page shows issues that occurred when you synchronized coupled records. The following table includes actions that you can use to resolve issues one by one:

|Action|Description|
|----|----|
|**Remove Coupling**|Uncouples the records and they will no longer synchronize. To restart the synchronization you must couple them again. |
|**Retry** and **Retry All**|For each record where an error is found, synchronization is skipped unless you fix the issue. Retry will include the selected record in the next synchronization, and **Retry All** includes all of the records.|
|**Synchronize**|The app will try to resolve a conflict where data was changed in both business apps. You can choose the data to use.|
|**Restore Records** and **Delete Records**|These are useful when a record was deleted in one of the business apps. Delete Records deletes the record or row in the app where it still exists. Restore Records recreates the record or row in the business app where it was deleted.|

> [!NOTE]
> To reduce the number of conflicts you need to resolve, you can set up your integration table mappings to apply these actions automatically. For more information, [Mapping Integration Tables](admin-how-to-modify-table-mappings-for-synchronization.md#mapping-integration-tables).

## To view the synchronization log for a specific (manually synchronized) record
1. Open, for example, a customer, item or any other record that is synchronizing data between [!INCLUDE[prod_short](includes/prod_short.md)] and Dataverse or [!INCLUDE[crm_md](includes/crm_md.md)].
2. Choose the **Synchronization Log** action to view the synchronization log for a selected record. For example, a specific customer you synchronized manually.

## Remove Couplings Between Records
When something goes wrong in your integration and you need to uncouple records to stop synchronizing them, you can do so for one or more records at a time. You can uncouple one or more records from list pages or the **Coupled Data Synchronization Errors** page by choosing one or more lines and choosing **Delete Coupling**. You can also remove all couplings for one or more table mappings on the **Integration Table Mappings** page. 

If an entity with a unidirectional coupling is deleted in [!INCLUDE[prod_short](includes/prod_short.md)], you must manually delete the broken coupling. To do that, on the **Coupled Data Synchronization Errors** page, choose the **Find for Deleted** action, and then delete the couplings.

## Related information  
[Setting Up User Accounts for Integrating with Dynamics 365 Sales](admin-setting-up-integration-with-dynamics-sales.md)  
[Use Dynamics 365 Sales from Business Central](marketing-integrate-dynamicscrm.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/marketing-processing-sales-opportunities
---
title: Process Sales Opportunities in Sales Cycles
description: This topic describes the different ways you can process sales opportunities in sales cycles and move an opportunity through the stages of a sales cycle.
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: how-to
ms.search.keywords: relationship, prospect
ms.date: 12/28/2023
ms.custom: bap-template

ms.service: dynamics-365-business-central
---
# Process Sales Opportunities

After you create an opportunity, there are several features for managing the opportunity and moving it through to completion.

## View opportunities

Existing sale opportunities are available on the **Opportunity List** page. The following table describes ways to access the page to process sales opportunities.

| To view opportunities for | Then |
| --- | --- |
| All salespeople and contacts |Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Opportunity List**, and then choose the related link. |
| A specific sales person |Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Salespeople**, and then choose the related link. Select the salesperson, choose the **Opportunities** action, and then choose the **List** action. |
| A specific contact |Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Contacts**, and then choose the related link. Select the contact from the list, and then choose the **Opportunities** action. |

Each of these tasks opens the **Opportunity List** page.

## Close opportunities

You can close opportunities when the negotiations are over. When you close an opportunity, you can specify whether it was won or lost, and the reasons for closing it. To specify a reason, you must set up closed opportunity codes.

1. On the **Opportunity List** page, select the opportunity, and the choose the **Close** action. The **Close Opportunity** page opens.
2. Fill in the relevant fields, and then choose the **OK** button.

   The **Close Opportunity Code** and **Date Closed** fields are required fields and must be filled in before you can choose the **OK** button.

   In the **Close Opportunity Code** field, you can choose from one of the existing close opportunity codes or add a new code. To add a new code, from the drop-down list, choose **Select from full list**, and then choose **new**. On the new blank line, fill in the **Code**, **Type**, and **Description** fields, and then choose the **OK** button.

## Create quotes for opportunities

> [!NOTE]
> You can only create sales quotes from opportunities where the contact type is Company.

1. On the **Opportunity List** page, select the opportunity, and then choose the **Assign Sales Quote** action. The **Sales Quote** page opens.
2. Fill in the relevant fields.

## Create sales orders for opportunities

You can make sales orders from the sales quotes that you have created for your opportunities. Before you can create sales orders for your contacts, you must create the contact as a customer. For more information, see [Create Contacts](marketing-create-contact-companies.md).

1. On the **Opportunity List** page, find the opportunity that you have created a sales quote for.
2. Choose the **Assign Sales Quote** action. The **Sales Quote** page opens to show the sales quote that you have assigned to the opportunity.
3. Fill in the additional fields, and then choose the **Make Order** action.

When handling sales opportunities, you may need to create a quote for the contact that the opportunity is linked to.

## Delete opportunities

You can delete opportunities, for example, after you conclude a deal. However, you can only delete closed opportunities. There are two ways to delete closed opportunities. You can delete individual closed opportunities from the **Opportunity List** page or you can run the **Delete Opportunities** batch job to delete multiple opportunities based on specified criteria.

To delete closed opportunities from the **Opportunity List** page, select the opportunity, and then choose the **Delete** action.

To delete closed opportunities by using the **Delete Opportunities** batch job, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Data Administration**, and then choose the related link.
2. Choose the **Delete Opportunities** action, and then set the filters that specify the closed opportunities to delete.
3. Choose the **OK** button.

After you delete an opportunity, it's removed it from the **Opportunity List** page.

## Move an opportunity through sales cycle stages

If an opportunity follows a sales cycle, you can move it to the next or previous stage, and even skip a stage.

1. On the **Opportunity List** page, choose the **Update** action. The **Update Opportunity** opens,
2. Use the **Action Type** field to move the opportunity through the sales cycle stages:
   * **Next** moves the opportunity forward one stage.
   * **Skip** moves the opportunity forward one or several stages in the sales cycle, which you specify in the **Presentation** field. You can only skip stages that have been set up to allow skipping.
   * **Previous** moves the opportunity back one stage.
   * **Jump** moves the opportunity back one or several stages in the sales cycle, which you specify in the **Presentation** field.
   * **Update** enables you to change information (such as to modify your evaluation of their chances of success and estimated values) without moving to another stage.
3. Fill in the other fields as needed, and then choose the **OK** button.

## Related information

[Sales](sales-manage-sales.md)  
[Creating and Managing Contacts](marketing-contacts.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-edocuments-connectors
---
title: Connect E-Documents to external access points
description: Learn how to set up E-Documents in Business Central to send and receive electronic documents with different external access points.
author: altotovi
ms.topic: how-to
ms.devlang: al
ms.search.keywords: electronic document, electronic invoice, e-document, e-invoice, access-point, endpoint, connector, Peppol
ms.search.form: 
ms.date: 09/17/2024
ms.author: altotovi
ms.service: dynamics-365-business-central
ms.reviewer: solsen
---

# Connect E-Documents to external access points

[!INCLUDE [e-documents connectors](includes/edocuments-connectors-include.md)]

You can use E-Documents in Business Central to send and receive electronic documents with your business partners. To receive documents, you need to connect E-Documents to an external access point that handles the communication and validation of the documents. 

 > [!NOTE]
 > These connections require communication with external service providers who might be subject to additional payment and require contracts with them. To obtain all the necessary credentials, contact the service providers.

The steps to connect E-Documents to an external access point depend on the type of connector you choose.    

> [!NOTE]
> Ask your service provider for all the necessary details to establish a connection with their access point that follows.  

## Pagero service

1. On the **E-Document External Connection Setup** page, select the **Open OAuth 2.0 setup** action to open the **OAuth 2.0 Setup** page.  
2. On the **OAuth 2.0 setup** page, select the **Request Authorization Code** action. You're redirected to the external service authorization webpage and prompted for your sign-in details.
3. Copy the authorization code into the **Enter Authorization Code** field.  
4. Select **Refresh Access Token** to make sure that you can refresh the token. 
5. On the **E-Document External Connection Setup** page, fill in the following fields:

    | Field name | Description |
    |---|---|
    | FileAPI URL | Specify the file API URL. |
    | Fileparts URL | Specify the fileparts URL. |
    | DocumentAPI URL | Specify the document API URL. |
    | Company ID | Specify the company ID. |
    | Send Mode | Specify the send mode. You can select **Production**, **Test**, or **Certification**. |

6. Continue with the [nonservice provider setup steps](finance-how-setup-edocuments-external.md).  

## Avalara service

> [!NOTE]
> The Avalara connector in [!INCLUDE[prod_short](includes/prod_short.md)] is available from version 25.1

1. On the **Avalara Connection Setup** page, enter the **Client ID** and **Client Secret** fields. In the **Send Mode** field, choose the **Production**, **Test**, or **Certification** option, based on your plans. 
2. Select the **Select Avalara Company Id** action, and choose the right company. Make sure you enter values into the **Company Name** and **Company ID** fields.  
3. Select the **Select Avalara Mandate** action, and select the right **E-Document Service**, and then pick appropriate **Country Mandate** code on the **Avalara Mandate List** page. 
4. Navigate back to the **E-Document Service** page, and validate that the **Avalara Mandate** field in the **Avalara** FastTab is set with the value you chose. 
5. Continue with the [non-service provider setup steps](finance-how-setup-edocuments-external.md).

## Available service providers

At this moment, [!INCLUDE[prod_short](includes/prod_short.md)] supports Pagero and Avalara access points for e-documents, but more access points are in the process of development. This page is updated with the parameters for new connectors when they're ready. You can also find more connectors on AppSource.

> [!NOTE]
> This page doesn't show how to connect with the local service providers. If [!INCLUDE[prod_short](includes/prod_short.md)] support some of them, it will be explained in the country-specific documentation.  

Microsoft doesn't have a contractual obligation with Pagero and Avalara. That means, if you want to use their connectors, you must have a contract with them.

## Related information

- [How to set up e-documents in Business Central](finance-how-setup-edocuments.md)  
- [How to set up e-documents connector with external endpoints](finance-how-setup-edocuments-external.md)    
- [How to use e-documents in Business Central](finance-how-use-edocuments.md)    
- [How to extend e-documents in Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-extend-edocuments)    
- [Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-how-to-sell-items-assembled-to-order
---
title: Sell Items Assembled to Order
description: Learn how to sell an item that is assembled to order.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 11/23/2022
ms.search.keywords: kit, kitting, substitute items
ms.search.form: 900, 901, 902, 903, 904, 907, 910, 916, 920, 921, 922, 923, 940, 941, 942, 930, 931, 932, 914, 915, 905
ms.custom: bap-template
---
# Sell Items Assembled to Order

Items that are set up for assemble-to-order aren't expected to be in inventory and will be assembled when it's included on a sales order. An item is set up for assemble-to-order when the **Assembly Policy** field on the item card contains **Assemble-to-Order**. When you enter the item on a sales order line, an assembly order is automatically created and linked to the sales order.  

> [!NOTE]  
> If assemble-to-order items are already in inventory, you can deduct that quantity from the assembly order and reserve it from inventory. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md).  

In this procedure, you process the sale of an item that will be assembled according to specifications that are requested by the customer. The steps include: 

* Creating a sales order line.
* Customizing the assembly item by editing its components and resources.
* Checking availability to establish a delivery date.
* Releasing the sales order to be assembled and immediately shipped.  

> [!NOTE]  
> The following procedure does not include the steps for creating a standard sales order that happen before the step where you enter the assemble-to-order item on a sales order line. Learn more about creating sales orders at [Sell Products with a Customer Sales Order](sales-how-sell-products.md).  

## To sell an item that is assembled to order

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2. Create a sales order. 
3. In the **No.** field, enter an item that is set up to be assembled to order.  
4. In the **Location Code** field, define which location the item will be sold from. The assembly process will occur at that location.  
5. In the **Quantity** field, enter how many units to sell.  

    > [!NOTE]  
    >  If one or more components of the requested assembly item quantity aren't available, an availability warning page opens. <!-- Check whether the field help would be useful. For more information, see Assembly Availability.  -->

    An assembly order is created and linked to the sales order line. The due date of the assembly order is the shipment date of the sales order line.  

    The quantity to sell is copied to the **Qty. to Assemble to Order** field, which indicates that the item setup expects you'll assemble the full quantity on the sales line. You can decrease the quantity to assemble, for example, if you know that some items are already available. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-inventory-items-in-assemble-to-order-flows.md).  

6. If the customer wants an additional item in a kit, on the **Lines** FastTab, choose the **Line** action, choose the **Assemble to Order** action, and then choose the **Assemble-to-Order Lines** action to view and change the standard assembly components. Alternatively, choose the **Qty. to Assemble to Order** field.  
7. On the **Assemble-to-Order Lines** page, create a new line of type **Item** for the additional assembly component.  

    You can also customize the order by increasing the quantity of one standard item in the kit. You can do this by increasing the value in the **Quantity Per** field on the specific assembly order line.  

    > [!NOTE]  
    >  The **Assemble-to-Order Lines** page only contains the basic fields for customizing the component list, adding item tracking numbers, or solving component availability issues. To add more assembly order information, such as the assembly order starting date, choose the **Show Documents** action. This opens a full view of the assembly order that is linked to the sales order line. You can't change the contents of most fields on the assembly order header, and you can't post assembly output from it. You must post the shipment of the sales order line.  
    >
    >  On the linked assembly orders, only the **Starting Date** field can be changed. Changing the starting date lets assembly workers specify that they're starting assembly earlier than the due date. All fields on the lines of the linked assembly order can be changed so that warehouse workers can enter consumption figures during the process.  

8. Review or react to component availability issues. For example, select a substitute item.  
9. Close the **Assemble-to-Order Lines** page. The linked assembly order is ready, and workers can start to assemble the customized items.  
10. On the sales order, choose the **Release** action to notify the assembly department that the assembly process can start. Learn more at [Assemble Items](assembly-how-to-assemble-items.md).  

> [!NOTE]  
> Item substitutions don't automatically replace an item with another item, for example, when creating a sales order or in a BOM. Instead, you'll be alerted to the fact that a substitution is available.

## Related information

[Assembly Management](assembly-assemble-items.md)  
[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)  
[Register New Items](inventory-how-register-new-items.md)  
[Inventory](inventory-manage-inventory.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-cds-company-concept
---
title: Data ownership models for synchronization
description: Companies are both a legal and business constructs, and they are used to secure and visualize business data.
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords: CDS, Dataverse, integration, sync
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Data ownership models for synchronization

[!INCLUDE[prod_short](includes/cds_long_md.md)] requires that you specify an owner for the data you store. For more information, see [Types of tables](/powerapps/maker/data-platform/types-of-entities) in the Power Apps documentation. When you set up integration between [!INCLUDE[prod_short](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)] you must choose the **User or team** ownership for records that are synchronized. Actions that can be performed on these records can be controlled on a user level. <!--We recommend the Team ownership model because it makes it easier to manage ownership for multiple people.NO LONGER TRUE IN DATAVERSE-->

## Team Ownership
In [!INCLUDE[prod_short](includes/prod_short.md)], a company is a legal and business table that offers ways to secure and visualize business data. Users always work in the context of a company. The closest that [!INCLUDE[prod_short](includes/cds_long_md.md)] comes to this concept is the business unit table, which does not have legal or business implications.

Because business units lack legal and business implications, you cannot force a one-to-one (1:1) mapping to synchronize data between a company and a business unit, either one-way or bi-directional. To make synchronization possible, when you enable synchronization for a company in [!INCLUDE[prod_short](includes/prod_short.md)], the following happens in [!INCLUDE[prod_short](includes/cds_long_md.md)]:

* We create a company table that is equivalent to the company table in [!INCLUDE[prod_short](includes/prod_short.md)]. The name of the company is suffixed with "BC Company ID." For example, Cronus International Ltd. (93555b1a-af3e-ea11-bb35-000d3a492db1).
* We create a default business unit that has the same name as the company. For example, Cronus International Ltd. (93555b1a-af3e-ea11-bb35-000d3a492db1).
* We create separate owner team with the same name as the company and associate it with the business unit. The name of the team is prefixed with "BCI -." For example, BCI - Cronus International Ltd. (93555b1a-af3e-ea11-bb35-000d3a492db1).
* Records that are created and synchronized to [!INCLUDE[prod_short](includes/cds_long_md.md)] are assigned to the "BCI Owner" team that is linked to the business unit.

> [!NOTE]
> If you rename a company in [!INCLUDE[prod_short](includes/prod_short.md)], the names of the company, business, and team that we create automatically in [!INCLUDE[prod_short](includes/cds_long_md.md)] are not updated. Because only the company ID is used for integration, this does not affect synchronization. If you want the names to match you must update the company, business unit, and team in [!INCLUDE[prod_short](includes/cds_long_md.md)].

The following image shows an example of this data setup in [!INCLUDE[prod_short](includes/cds_long_md.md)].

![The root business unit is on top, the teams are in the center, and then the companies are at the bottom.](media/cds_bu_team_company.png)

In this configuration, records that are related to the Cronus US company will be owned by a team that is linked to the Cronus US business unit in [!INCLUDE[prod_short](includes/cds_long_md.md)]. Users who can access that business unit through a security role that is set to business unit–level visibility in [!INCLUDE[prod_short](includes/cds_long_md.md)] can now see those records. The following example shows how to use teams to provide access to those records.

* The Sales Manager role is assigned to members of the Cronus US Sales team.
* Users who have the Sales Manager role can access account records for members of the same business unit.
* The Cronus US Sales team is linked to the Cronus US business unit that was mentioned earlier. Members of the Cronus US Sales team can see any account that is owned by the Cronus US user, which would have come from the Cronus US company table in [!INCLUDE[prod_short](includes/prod_short.md)].

However, the 1:1 mapping between business unit, company, and team is just a starting point, as shown in the following image.

![The security role controls data visibility.](media/cds_bu_team_company_2.png)

In this example, a new EUR (Europe) root business unit is created in [!INCLUDE[prod_short](includes/cds_long_md.md)] as the parent for both Cronus DE (Gernamy) and Cronus ES (Spain). The EUR business unit is not related to synchronization. However, it can give members of the EUR Sales team access to account data in both Cronus DE and Cronus ES by setting the data visibility to **Parent/Child BU** on the associated security role in [!INCLUDE[prod_short](includes/cds_long_md.md)].

Synchronization determines which team should own records. This is controlled by the **Default owning team** field on the BCI row. When a BCI record is enabled for synchronization we automatically create the associated business unit and owner team (if it doesn't already exist), and set the **Default owning team** field. When synchronization is enabled for an table, administrators can change the owning team, but a team must always be assigned.

> [!NOTE]
> Records become read-only after a company is added and saved, so be sure to choose the correct company.

## Choosing a different business unit
You can change the business unit selection if you are using the Teams ownership model. If you use the Person ownership model, the default business unit is always selected. 

If you choose another business unit, for example, one that you created earlier in [!INCLUDE[prod_short](includes/cds_long_md.md)], it will keep its original name. That is, it will not be suffixed with the company ID. We will create a team that does use the naming convention.

When changing a business unit, you can choose only the business units that are one level below the root business unit.

## Person Ownership
If you choose the Person ownership model you must specify each salesperson who will own new records. The business unit and team are created as described in the [Team Ownership](admin-cds-company-concept.md#team-ownership) section.

The default business unit is used when the Person ownership model is chosen, and you cannot choose another business unit. The team that is associated with the default business unit will own records for common tables, such as the Product table, that are not related to specific salespersons.

When you couple salespersons in [!INCLUDE[prod_short](includes/prod_short.md)] to users in [!INCLUDE[prod_short](includes/cds_long_md.md)], [!INCLUDE[prod_short](includes/prod_short.md)] will add the user to the default team in [!INCLUDE[prod_short](includes/cds_long_md.md)]. You can verify that users are added by looking at the **Default Team Member** column on the **Users - Common Data Service** page. If the user is not added, you can add them manually by using the **Add Coupled Users to Team** action. For more information, see [Synchronizing Data in Business Central with Dataverse](admin-synchronizing-business-central-and-sales.md).

## Related information
[About [!INCLUDE[prod_short](includes/cds_long_md.md)]](admin-common-data-service.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-column-definitions
---
title: Column definitions in Financial Reporting
description: Describes how column definitions in financial reporting work.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 03/13/2025
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: 103, 104, 108, 195, 196, 197, 198, 488_Primary, 489_Primary, 490, 764, 765, 766
ms.service: dynamics-365-business-central
---

# Column definitions in Financial Reporting

Use column definitions to specify the columns to include in a report. For example, you can design a report layout to compare net change and balance for the same period this year and last year. You can have up to 15 columns in a column definition. For example, multiple columns are useful for displaying budgets for 12 months with a column that shows the total.

## Create a new column definition

To create a new column definition, follow these steps:

1. On the **(Financial Report) Column Definitions** page, choose the **New** action.
1. Provide a unique name for the definition.
1. In the **Description** field, provide a descriptive name for the definition. This description provides context when you use the definition, but doesn't show on the report.
1. Provide an internal description for the definition.

## Edit the content of a column definition

To edit the content of a column definition, follow these steps.

> [!NOTE]
> Printed, previewed, and saved versions of a financial report display a maximum of five columns. In contrast, if a financial report is only meant for analysis on the **Financial Report** page, you can create as many columns as you want.

1. On the **(Financial Report) Column Definitions** page, select the definition, and then choose the **Edit Column Definition** action.
1. On the **Column Definition** page, create a row for each column of financial data that should show in the financial report. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
1. Choose **OK**.

> [!TIP]
> Open the **Financial Report** page from time to time to verify that the new column definition works as intended.

## Built-in column definitions

[!INCLUDE[prod_short](includes/prod_short.md)] provides sample column definitions that can help you to quickly get started setting up finance reports that suit your needs.

<!-- update this when we release the new templates in 24.1
| Column definition code | Description | How to use this column definition | 
| ------------------- | ----------- | ------------------------------ | 
| TBA 1 | TBA 1 | TBA 1 |
| TBA 2 | TBA 2 | TBA 2 |
| TBA 3 | TBA 3 | TBA 3 |
| TBA 4 | TBA 4 | TBA 4 |
-->

## Example: Create a column definition to calculate percentages

You might want to include a column in a financial report to calculate percentages of a total. For example, if you have rows that break down sales by dimension, you might want a column to indicate the percentage of total sales in each row.

1. Choose the ![Lightbulb that opens the Tell Me feature 2.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Financial Reports**, then choose the related link.
1. On the **Financial Reports** page, select a financial report.  
1. Choose the **Edit Financial Report** action to set up a financial report row to calculate the total on which the percentages are based.  
1. Add a line immediately above the first row for which you want to display a percentage.  
1. Fill in the fields on the line as follows: 
    1. In the **Totaling Type** field, enter **Set Base for Percent**. 
    1. In the **Totaling** field, enter a formula for the total that the percentage is based on. For example, if row 11 contains the total sales, enter **11**.  
1. Choose the **Edit Column Definition** action to set up a column.  
1. Fill in the fields on the line as follows. 
    1. In the **Column Type** field, select **Formula**. 
    1. In the **Formula** field, enter a formula for the amount you want to calculate a percentage for, followed by the percentage sign (%). So, if column number N contains the net change, enter **N%**.  
1. Repeat steps 4 through 7 for each group of rows you want to break down by percentage.

## Comparing accounting periods using period formulas

Your financial report can compare the results of different accounting periods, such as the past month versus the same month last year. To do that, open the **Column Definition** page, and personalize it by adding the **Comparison Period Formula** field as a column. Learn more at [Personalize Your Workspace](ui-personalization-user.md). You can then set that field to a period formula.  

An accounting period doesn't need to match the calendar. However, each fiscal year must have the same number of accounting periods, although each period can be different in length.  

[!INCLUDE[prod_short](includes/prod_short.md)] uses the period formula to calculate the duration of the comparison period in relation to the period represented by the date filter on the report. The comparison period is based on the period of the start date of the date filter. The following table shows the abbreviations for period specifications.

| Abbreviation | Description                                                                           |
| ------------ | ------------------------------------------------------------------------------------- |
| P            | Period.                                                                                |
| LP           | Last period of a fiscal year, half-year, or quarter.                                   |
| CP           | Current period of a fiscal year, half-year, or quarter. Use CP in formulas to set the period that starts or ends the formula. For example, FY\[1..CP\] denotes the time from the beginning of the current fiscal year to the current period.|
| FY           | Fiscal year. For example, FY\[1..3\] denotes the first quarter of the current fiscal year. |

Examples of formulas:

| Formula | Description |
|-----|-----|
| \<Blank\>       | Current period. |
| \-1P            | Previous period.            |
| \-1FY\[1..LP\]  | Entire previous fiscal year.                  |
| \-1FY           | Current period in previous fiscal year.       |
| \-1FY\[1..3\]   | First quarter of previous fiscal year.        |
| \-1FY\[1..CP\]  | From the beginning of the previous fiscal year to the current period in the previous fiscal year, including both periods. |
| \-1FY\[CP..LP\] | From the current period in previous fiscal year to the last period of the previous fiscal year, including both periods.   |

To calculate by regular time periods, enter a formula in the **Comparison Date Formula** field instead. For example, if the field is set to -1Y, [!INCLUDE [prod_short](includes/prod_short.md)] compares to the same period one year earlier.

> [!NOTE]
> It isn't always obvious which periods you're comparing because you can set a date filter on a report that spans dates that are different than the accounting periods in your chart of accounts. So, if you create a financial report where you want to compare this period to the same period last year, set the **Comparison Date Formula** field to **-1FY**. Then, run the report on **February 28th** and set the date filter to **January and February**. As a result, the financial report compares January and February this year to January last year, which is the only completed accounting period of the two for last year.  

Learn more at [Work with Calendar Dates and Times](ui-enter-date-ranges.md).

## Find the reports that use a column definition

[!INCLUDE[prod_short](includes/introduced_in_2025rw1.md)]

Before you change a column definition, it can be helpful to know which reports use it so that you understand the effect of your change. To find out which reports use a column definition, follow these steps:

1. On the **(Financial Report) Column Definitions** page, select the definition, and then choose the **Edit Column Definition** action.
1. To open a list of reports that use the definition, choose the **Where-Used** action.

## Best practices for working with column definitions

<!-- [!INCLUDE [report-best-practices-column-defs](includes/report-best-practices-column-defs2.md)] -->

## Import or export financial report column definitions

Starting with the 2024 release wave 1 (version 24.1), you can import and export financial report column definitions as RapidStart configuration packages. For example, configuration packages are useful for sharing information with other companies. The package is created in a .rapidstart file, which compresses the contents.

> [!NOTE]
> When you import financial report column definitions, they replace existing records with the same names. The configuration package for a report definition won't overwrite any existing row or column definitions that are used in the report definition.

To import or export financial report column definitions, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature 4.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Column Definitions**, and then choose the related link.
1. Choose the row definition, and then choose the **Import Column Definition** or **Export Column Definition** action, depending on what you want to do.

## Related information
<!-- 
2025w1: add link to administrator article for Financial Report Lifecycle telemetry 
-->

[Row definitions in financial reporting](bi-row-definitions.md)  
[Prepare financial reporting](bi-how-work-account-schedule.md)  
[Financial analytics overview](bi.md)  
[Finance](finance.md)  
[Setting Up Finance](finance-setup-finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-powerbi-project-tasks
---
title: Project Tasks (Power BI report)
description: The Project Tasks report breaks down each project and their tasks.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 37034_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Project Tasks (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Project Tasks** report breaks down each project and shows metrics for their tasks so it easy to identify how each task is performing.

:::image type="content" source="media/projects/project-tasks.png" alt-text="Screenshot of the Project Tasks Power BI Report" lightbox="media/projects/project-tasks.png":::

## Use the report

Project Managers use the report to track the progress of project tasks and make good decisions about the resources involved. This report can also provide cost and pricing information to ensure you stay within budget.

## Key Performance Indicators (KPIs)

The *Project Tasks* report includes the following KPIs:

- [**Actual (Total Price)**](projects-powerbi-kpis.md#actual-total-price)
- [**Actual (Total Cost)**](projects-powerbi-kpis.md#actual-total-cost)
- [**Actual Profit**](projects-powerbi-kpis.md#actual-profit)
- [**Actual Profit Margin %**](projects-powerbi-kpis.md#actual-profit-margin-)
- [**Billable (Invoiced Price)**](projects-powerbi-kpis.md#billable-invoiced-price)
- [**Billable (Total Price)**](projects-powerbi-kpis.md#billable-total-price)
- [**Budget (Total Cost)**](projects-powerbi-kpis.md#budget-total-cost)
- [**Realization %**](projects-powerbi-kpis.md#realization-)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Project
- Project Planning Lines
- Project Ledger Entries
- Task

## Try the report

Try the report here: [Project Task](https://businesscentral.dynamics.com?page=37034)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Projects app](projects-powerbi-app.md)  
[Built-in Projects reports](project-reports.md)  
[Project management analytics overview](projects-analytics-overview.md)  
[Project management overview](projects-manage-projects.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-powerbi-app
---
title: Power BI Sales app
description: The Power BI Sales app provides comprehensive sales analytics to stakeholders at all levels of your organization.
author: kennieNP
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36998, 36999, 37000, 37001, 37002, 37003, 37004, 37005, 37006, 37007, 37008, 37066, 37100, 37101, 37102, 37103, 37104, 37105
ms.date: 10/26/2024
ms.service: dynamics-365-business-central
---

# Power BI Sales app

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The reports in the Power BI Sales app provide comprehensive sales analytics to stakeholders at all levels of your organization.

Executives and the leadership team can use the [Sales Overview](sales-powerbi-sales-overview.md), [Period-Over-Period Growth](sales-powerbi-period-over-period-growth.md), and [Month-To-Date](sales-powerbi-month-to-date.md) reports to identify trends in sales performance.

Managers and team leaders can track individual sales team performance using the [Sales by Salesperson](sales-powerbi-sales-by-salesperson.md) report. They can also monitor overall team progress toward meeting sales goals by comparing actual results against targets in the [Actual vs. Budget](sales-powerbi-actual-vs-budget.md)  report.

Sales teams can use aggregated reports, such as the [Sales by Item](sales-powerbi-sales-by-item.md) and [Sales by Customer](sales-powerbi-sales-by-customer.md) reports, to identify top-selling items and the customers that generate the most revenue. You can drill down from these aggregated views into transaction-level data for more detailed analyses.

You can use the reports in the Power BI Sales app for different things, depending on your role. This article provides some examples of use cases for different roles in your organization.

## Sales analytics for the leadership team

The leadership team can use the app to gain a high-level overview of the organization's sales trends and financial health. The app helps leaders identify spending patterns, monitor budget adherence, and make strategic decisions to improve financial performance. It provides a clear picture of sales efficiency and highlights areas for potential cost reduction.

To fit this category, you might have a role such as:

- Executive
- Director
- Other high-level decision maker

### Example scenario: preparing for an upcoming board meeting

Imagine you're the CEO of a company, and you're preparing for an upcoming board meeting. You need to present an analysis of your company's sales performance for the current fiscal year. To better understand the company's current position, you can use the Power BI Sales app.

Start by reviewing the [Period-Over-Period Growth](sales-powerbi-period-over-period-growth.md) report, which provides a quick, comparative view of the current year versus the previous year. Sales are up by 35%, outlined by the [Sales Amount MATG % (Fiscal)](sales-powerbi-sales-kpis.md#sales-amount-matg--fiscal) metric shown in the following image.

:::image type="content" source="media/powerbi/sales/sales-period-over-period-fiscal-year.png" alt-text="Screenshot of the Sales Period-Over-Period Power BI report" lightbox="media/powerbi/sales/sales-period-over-period-fiscal-year.png":::

Next, you review the [Sales by Customer](sales-powerbi-sales-by-customer.md) report to identify which group of customers contributed most to sales. The **Sales by Customer** matrix shows that domestic customers outperformed foreign customers by contributing 56.59% to the total annual sales, as the following image shows.

:::image type="content" source="media/powerbi/sales/sales-by-customer-matrix.png" alt-text="Screenshot of the Sales by Customer matrix" lightbox="media/powerbi/sales/sales-by-customer-matrix.png":::

Finally, you review the [Moving Averages](sales-powerbi-moving-average.md) report, which visualizes [Sales Amount](sales-powerbi-sales-kpis.md#sales-amount) and [Sales Amount Average 30D](sales-powerbi-sales-kpis.md#sales-amount-avg-30d-fiscal). The 30 day average smooths out the sales trend for the year and provides more good news for the company. On average, sales were stable through the first half of the year and then increased through the second half of the year.

:::image type="content" source="media/powerbi/sales/30-Day-Moving-Average.png" alt-text="Screenshot from the Moving Average Power BI report" lightbox="media/powerbi/sales/30-Day-Moving-Average.png":::

The insights you gained from this report let you confidently present your organization's sales performance to the board, armed with data-driven analysis and a deeper understanding of your company's current position.

## Sales analytics for the management team

The goal of the sales management team is to effectively oversee and manage sales processes. <!--This app allows you to track -->

To fit this category, your job title might be:

- Sales Manager
- Sales Team Leader

### Example scenario: driving sales over the next two quarters

As a Sales Manager, you're tasked with driving sales over the next two quarters. You turn to the Power BI Sales app to understand the sales team's current standing.

Start by reviewing the [Sales by Salesperson](sales-powerbi-sales-by-salesperson.md) report to evaluate individual team performance. You quickly identify Jim Olive as the top performer, generating 83% of the total sales for the year. You also see that Helena Ray was the most profitable salesperson on the team, but only by a small margin.

:::image type="content" source="media/powerbi/sales/sales-by-salesperson-matrix.png" alt-text="Screenshot of the Sales by Salesperson matrix" lightbox="media/powerbi/sales/sales-by-salesperson-matrix.png":::

You know that clear targets help Lina and Helena reach their maximum potential. By establishing a new sales budget with revised targets for each salesperson, you can provide your team with the tools they need to progress. Using the [Actual vs. Budget](sales-powerbi-actual-vs-budget.md) report, you monitor progress to ensure the team is on track to meet their new goals.

The [Daily Sales](sales-powerbi-daily-sales.md) report lets you monitor the team's progress over the next two quarters. You can use the heat map to gauge which day of the week the team performs best, and when the company should roll out marketing incentives to help drive customer engagement.

:::image type="content" source="media/powerbi/sales/sales-daily-sales-heat-map.png" alt-text="Screenshot of the heatmap in the Daily Sales Power BI report" lightbox="media/powerbi/sales/sales-daily-sales-heat-map.png":::

## Sales analytics for daily sales work

People who work with sales on a daily basis often focus on handling day-to-day sales tasks with greater accuracy and efficiency.

To fit this category, you might have a job title such as:

- Account Manager
- Sales Person

### Example scenario: using data to drive day-to-day sales

After the sales team receives the new sales targets from the sales manager, they're eager to improve their performance and meet the revised goals. To shape an effective strategy as a salesperson, you turn to the Power BI Sales app for insights into the company's sales patterns.

Start by analyzing the [Sales by Item](sales-powerbi-sales-by-item.md) and [Sales by Customer](sales-powerbi-sales-by-customer.md) reports to identify high-potential products and key customers. These aggregated reports provide a clear view of where opportunities lie. That information helps you focus on the customers and items most likely to generate growth and help your team achieve their targets.

:::image type="content" source="media/powerbi/sales/sales-by-customer-matrix-2.png" alt-text="Screenshot of the Sales by Customer matrix version 2" lightbox="media/powerbi/sales/sales-by-customer-matrix-2.png":::

The [Sales by Item](sales-powerbi-sales-by-item.md) report highlights product performance by clearly identifying which items generate the most revenue and, conversely, which items experienced a decline in sales. Targeting key products lets you and your team prioritize your efforts on highly profitable items and items with growing demand.

:::image type="content" source="media/powerbi/sales/sales-by-item-matrix.png" alt-text="Screenshot of the Sales by Item matrix" lightbox="media/powerbi/sales/sales-by-item-matrix.png":::

## Report overview in the Power BI Sales app

[!INCLUDE [power-bi-sales-app](includes/power-bi-sales-app.md)]


## Related information

[Installing Power BI apps for Business Central](across-powerbi-install-business-central-apps.md)   
[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Ad hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Built-in sales reports](sales-reports.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Sales overview](sales-manage-sales.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-about-finished-production-order-costs
---
title: About Finished Production Order Costs
description: Finishing the production order is key to completing the costing lifecycle of a production item. Final costs are calculated in Adjust Cost Item Entries batch job.
author: brentholtorf
ms.topic: concept-article
ms.search.form: 99000867
ms.date: 06/16/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# About Finished Production Order Costs

Finishing the production order is an important task in completing the costing lifecycle of the item that is being produced. Final costs, including variances in a standard cost environment, actuals in a FIFO, Average, or LIFO cost environment, are calculated using the **Adjust Cost - Item Entries** batch job, which allows for financial reconciliation of the costs of item production. For a production order to be considered for cost adjustment, the status must be **Finished**. It is therefore critical that upon completion, the status of a production order is changed to **Finished**.  

## Example

In a standard cost environment, when you consume material to produce an item, stated simply, the cost of the item plus labor and overhead go into WIP. When the item is produced, WIP is reduced by the amount of the standard cost of the item. Typically, these costs do not net to zero. So that these costs can net to zero, you must run the **Adjust Cost - Item Entries** batch job, noting that only production orders with the status of **Finished** will be considered for adjustment.  

## Related information

[Managing Inventory Costs](finance-manage-inventory-costs.md)  
[Manufacturing](production-manage-manufacturing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/welcome
---
title: Welcome to Microsoft Dynamics 365 Business Central
description: Learn about capabilities and work scenarios in Business Central that help companies manage their business, including finance, manufacturing, sales, shipping, project management, services, and more.
author: jswymer
ms.topic: landing-page
ms.devlang: al
ms.date: 01/03/2025
ms.author: jswymer
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Welcome to [!INCLUDE[prod_long](includes/prod_long.md)]

[!INCLUDE[prod_short](includes/prod_short.md)] is a business management solution for small and mid-sized organizations that automates and streamlines business processes and helps you manage your business. Highly adaptable and rich with features, [!INCLUDE[prod_short](includes/prod_short.md)] enables companies to manage their business, including finance, manufacturing, sales, shipping, project management, services, and more. Companies can easily add functionality that is relevant to the region of operation, and that is customized to support even highly specialized industries. [!INCLUDE[prod_short](includes/prod_short.md)] is fast to implement, easy to configure, and simplicity guides innovations in product design, development, implementation, and usability.  

If you already have [!INCLUDE[prod_short](includes/prod_short.md)], sign in at [https://businesscentral.dynamics.com](https://businesscentral.dynamics.com). Otherwise, [get the overview](https://dynamics.microsoft.com/business-central/overview/), [take the guided tour](https://dynamics.microsoft.com/guidedtour/dynamics/business-central/1/1), and then [learn how to start a free trial](trial-signup.md). Check out the [quickstart articles](quick-start-business-central.md) to help you get to know [!INCLUDE [prod_short](includes/prod_short.md)]. To learn more about onboarding to [!INCLUDE[prod_short](includes/prod_short.md)], go to [Get Ready for Doing Business](ui-get-ready-business.md).  

## Core business functionality

[!INCLUDE[prod_short](includes/prod_short.md)] provides features for typical business processes, mainly within wholesale and professional services. However, it also supports more complex processes, such as assembly, manufacturing, service, and directed warehouse management. Standard configurations for most business processes are built in, but you can customize them to suit your business needs.

Maybe start with a short tour of some of the key capabilities for managing finances. <br><br>  

> [!Video https://learn-video.azurefd.net/vod/player?id=2887ddfe-3d46-47b3-8308-9715457ef939]

| To... | Learn more here... |
| ----- | ------------------ |
|Make and collect payments, manage your cash flow, defer income and revenue, prepare year-end closing, and manage fixed assets.|[Finance](finance.md)|
|Manage sales processes and information, such as quotes, orders, returns, and customer accounts, and make drop shipments.|[Sales](sales-manage-sales.md)|
|Manage purchasing processes and information, such as invoices, orders, returns, and vendor accounts, and purchase items from sales documents. |[Purchasing](purchasing-manage-purchasing.md)|
|Register new inventory or service-type items, categorize items so they're easy to search for, adjust inventory levels, and track inventory costs.|[Inventory](inventory-manage-inventory.md)|
|Create projects and schedule resources for them, manage project budgets, monitor progress, and track machine and employee hours.|[Project Management](projects-manage-projects.md)|
|Organize your fixed assets, ensure correct periodic depreciation, and track maintenance costs.|[Fixed Assets](fa-manage.md)|
|Plan the production operations required to turn components into finished goods.|[Planning](production-planning.md)|
|Assemble components into finished items, or combine them in kits.|[Assembly Management](assembly-assemble-items.md)|
|Define shop floor resources and their capacity, schedule operations, pull production components, and manage production operations.|[Manufacturing](production-manage-manufacturing.md)|
|Ensure that you receive, store, transfer, and ship goods effectively.|[Warehouse Management Overview](design-details-warehouse-management.md)|
|Schedule service calls, manage service orders, and track repair parts and supplies.|[Service Management](service-service.md)|

To learn more, go to [Business functionality supported by Business Central](across-business-functionality.md).

## Copilot and AI

With Copilot in [!INCLUDE [prod_short](includes/prod_short.md)], small and medium-sized organizations empower their employees through intuitive AI tools that boost creativity and save time.

![Shows a link to an analysis tab in the chat with Copilot pane](media/chat-analysis-tab.png)

| To... | Learn more here... |
| ----- | ------------------ |
| Calculate, summarize, and analyze data by expressing what you want in natural language. For example, "sort on quantity from smallest to largest" or "show average cost per category." | [Analyze data in lists with Analysis Assist Copilot](analysis-assist.md) |
| Help you reconcile bank accounts | [Reconcile bank accounts with Copilot](bank-reconciliation-with-copilot.md) |
| Get answers about your company data and to get assistance with tasks and subject matters related to [!INCLUDE [prod_short](includes/prod_short.md)]. | [Chat with Copilot](chat-with-copilot.md) |
| Automate how you receive and process vendor invoices. | [Map e-documents to purchase order lines with Copilot](map-edocuments-with-copilot.md) |
| Get assistance with authoring marketing text (product descriptions) for the items you sell in your online shops. | [Marketing text suggestions with Copilot](ai-overview.md) |
| Create sales documents faster by letting Copilot suggest items to add to lines on sales documents. | [Suggest lines on sales documents with Copilot](sales-suggest-sales-lines-with-copilot.md) |
| Automate the process of creating sales orders.| [Sales Order Agent](sales-order-agent.md ) |
| Find and assign substitute items faster. | [Suggest substitute items with Copilot](suggest-item-substitutions-copilot.md) |

To learn more, go to [About Copilot in Business Central](copilot-overview.md).

## Analytics

Empower any role in your organization with the insights they need to make decisions based on data. Use financial reporting and KPIs in your leadership team, create overview reports for middle management, and operational reports for staff. Group and pivot data from any list to do ad-hoc analyses. Export and analyze your data in Excel, if that app is your tool of choice. Each area in the application comes with standard, easy to use tools for data analysis.

:::image type="content" source="media/finance/financial-overview.png" alt-text="Screenshot of the Finance Overview report" lightbox="media/finance/financial-overview.png":::

| To... | Learn more here... |
| ----- | ------------------ |
| Set up financial reports to analyze figures in general ledger (G/L) accounts, and compare general ledger entries with budget entries. | [Using Financial reporting to produce financial statements and KPIs](bi.md) |
| Analyze your business KPIs with built-in [!INCLUDE [power-bi-name](includes/powerbi-name.md)] reports | [Power BI apps/reports by functional area](across-powerbi-apps-by-functional-area.md) |
| Analyze (group, filter, and pivot) data directly in [!INCLUDE[prod_short](includes/prod_short.md)] | [Perform ad-hoc data analysis](reports-adhoc-analysis.md) |
| Get an overview of built-in reports in [!INCLUDE[prod_short](includes/prod_short.md)] | [Report overview](reports-available-reports.md) |

To learn more, go to [Analytics overview](reports-bi-reporting.md).

## Connect to other Microsoft apps

Empower people to be more collaborative, productive, and impactful with the power of collaborative applications. When [!INCLUDE [prod_short](includes/prod_short.md)] and other Microsoft apps work together, small and medium-sized businesses can boost productivity and redefine how they get work done. With data delivered directly to familiar Microsoft Office apps such as Outlook, Excel, and collaborative tools such as Microsoft Teams, you get the information you need without switching between applications.

![Shows how to add attachments from an email to records in Business Central.](media/outlook-attach-files.png)

| To... | Learn more here... |
| ----- | ------------------ |
| Connect Teams to [!INCLUDE[prod_short](includes/prod_short.md)] and efficiently share and interact with real-time data, transforming Teams into a centralized hub for all your daily operations. | [Sharing Business Central records and page links in Microsoft Teams](across-working-with-teams.md) |
| Connect real-time data from [!INCLUDE[prod_short](includes/prod_short.md)] to Outlook. Save time with visibility into customer and vendor information such as sales, purchase details, and more without leaving your inbox. | [Use Business Central as your Business Inbox in Outlook](work-outlook-addin.md) |
| Export any [!INCLUDE[prod_short](includes/prod_short.md)] data to Excel. Save time by bulk updating records in Excel and uploading the revised records to [!INCLUDE[prod_short](includes/prod_short.md)]. Get timely operational insights from [!INCLUDE[prod_short](includes/prod_short.md)] as Excel reports. | [View and edit in Excel from Business Central](across-work-with-excel.md) |

<!-- 
TODO: need a landing page for Microsoft 365 integrations 
-->

## Connect to Power Platform

Integrating [!INCLUDE[prod_short](includes/prod_short.md)] with the Microsoft Power Platform offers a solution that enhances business productivity and efficiency. It provides a set of tools that enable you to analyze data, build solutions, automate processes, and create virtual agents.

:::image type="content" source="media/power-automate-menu.svg" alt-text="Shows the Automate action in the action bar with expanded actions.":::

| To... | Learn more here... |
| ----- | ------------------ |
| Set up and use Power Automate workflows to connect the business tasks that different users do. | [Use Power Automate flows in Business Central](across-how-use-financials-data-source-flow.md) |
| Get insights into your [!INCLUDE[prod_short](includes/prod_short.md)] data with Power BI and create custom visualizations and reports. | [Work with Power BI reports in Business Central](across-working-with-powerbi.md) |
| Build Power App solutions for your business domain with [!INCLUDE[prod_short](includes/prod_short.md)] data and processes | [Connecting to Your Business Central Data to Build a Business App Using Power Apps](across-how-use-financials-data-source-powerapps.md) |

<!-- 
TODO: need a landing page for Power Platform integrations 
-->

## Get help inside [!INCLUDE [prod_short](includes/prod_short.md)]

Did you get to this article from inside [!INCLUDE [prod_short](includes/prod_short.md)]? If you aren't sure where to find what you're looking for, you can **Filter by title** in the table of contents to the left, or you can use the **Search** field at the top of the browser window.  

You can also use the search capabilities in [!INCLUDE [prod_short](includes/prod_short.md)] to find relevant documentation. To learn more, go to [Finding Pages and Information with Tell Me](ui-search.md).

[!INCLUDE [ua-get-help](includes/ua-get-help.md)]

## Microsoft Learn

In the table of contents to the left, you can find information about using [!INCLUDE[prod_short](includes/prod_short.md)] in your company. Also, check out the [Learn more using the product documentation](product-help-and-support.md#learn-more-using-the-product-documentation) section.

You can dive into online guided training paths at your own pace at [Microsoft Learn](/training/dynamics365/business-central?WT.mc_id=dyn365bc_landingpage-docs). The learning paths and modules can help you build the skills you need to help you earn credentials. To learn more, go to [Get started with Microsoft Dynamics 365 Business Central](/training/paths/get-started-dynamics-365-business-central/).

If you prefer watching content rather than read it, then [visit our video library](across-videos.md).

> [!NOTE]
> Unless otherwise specified, articles on Microsoft Learn reflect the latest version of [!INCLUDE[prod_short](includes/prod_short.md)] online. If your organization uses a different version of [!INCLUDE[prod_short](includes/prod_short.md)] online, some capabilities might not yet be available. Also, if your organization uses [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, you might be using an earlier version. To learn more, go to [Frequently Asked Questions](across-faq.yml).

## Related information

[Explore Dynamics 365 Business Central capabilities](https://www.microsoft.com/dynamics-365/products/business-central#Features)  
[Business Central quickstarts](quick-start-business-central.md)  
[Getting Started with Business Central](ui-get-ready-business.md)  
[Dynamics 365 Business Central training](/training/dynamics365/business-central?WT.mc_id=dyn365bc_landingpage-docs)  
[Resources for Help and Support](product-help-and-support.md)  
[Learn more using the product documentation](product-help-and-support.md#learn-more-using-the-product-documentation)  
[What's new and changed](/dynamics365/business-central/dev-itpro/whatsnew/overview)  
[Major Updates and Minor Updates of Business Central Online](/dynamics365/business-central/dev-itpro/administration/update-rollout-timeline)  
[Dynamics 365 Business Central on microsoft.com](https://www.microsoft.com/dynamics-365/products/business-central/)  
[[!INCLUDE[prod_short](includes/prod_short.md)] Compliance](compliance/compliance-overview.md)  
[[!INCLUDE[prod_short](includes/prod_short.md)] Online Service Terms](compliance/compliance-service-compliance.md#service-terms)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-personalization-user
---
title: Personalize your workspace
description: Learn how to customize the user interface and personalize your workspace to suit your way of working and personal preferences in Business Central.
author: jswymer
ms.topic: how-to
ms.service: dynamics-365-business-central
ms.custom: bap-template
ms.reviewer: jswymer
ms.search.keywords: customize, personalize, personalization, hide columns, remove fields, move fields, resize column, change column width
ms.search.form: 9020, 9022, 9026, 9027, 9030, 9000, 9009, 9004, 9005, 9024, 9006, 9007, 9010, 9016, 9017
ms.date: 02/14/2025
ms.author: jswymer
---

# Personalize your workspace

You can personalize your workspace to suit your work and preferences. Change pages so that they display only the information you need, where you need it. Personalization affects only your workspace. It doesn't change how others work. You can personalize all types of pages, including the [role center](ui-change-basic-settings.md#role-center) page.

The adjustments outlined in this article are applied universally across all your devices and browsers. There are other modifications, not detailed here, that only affect the specific device and browser on which they're made. Learn more about the differences in [Where is personalization stored?](ui-personalization-stored.md).

## Video and training

The following video shows some of the ways in which you can personalize your Role Center.

> [!Video https://learn-video.azurefd.net/vod/player?id=d76e5d60-ecc2-462b-bba2-18d6deee3534]

For online training, go to [Personalize the Microsoft Dynamics 365 Business Central user interface](/training/modules/personalize-ui-dynamics-365-business-central/).

## About personalization

You can make various adjustments, such as move or hide fields, columns, actions, and entire parts, and add new fields. You do most adjustments by first activating the **Personalizing** banner using the [personalization mode](#start-personalizing-by-using-the-personalization-mode). You can also readily make the following adjustments on any list page without using the personalization mode:

- [Resize a column](#resize-a-column)
- [Create, rename, or edit a view](ui-views.md)
- [Bookmark the page](ui-bookmarks.md)
- [Hide or resize a FactBox](#hide-or-resize-a-factbox)
- Expand/collapse hierarchical list

### Resize a column

There are two ways to change the width of a column in any list, including in dropdown lists for looking up field values:

- Select and drag the boundary between two columns in the header of a list.
- Double-click the boundary between two columns to autofit the width of the column. The width adjusts to the optimal size for readability.

### Hide or resize a FactBox

A FactBox is a pane along the right side of a page that displays more information related to the record on the page.

:::image type="content" source="media/factbox.png" alt-text="Shows the FactBox position in the web client":::

- To hide or show the FactBox, select the ![Shows the collapse or expand FactBox icon in Business Central](media/collapse-expand-factbox.png) **Collapse/Expand the FactBox pane** icon at the top of the FactBox pane.
- To resize the FactBox, drag the vertical divider between the FactBox and main content. Double-click the divider to reset the width to default.

   If you can't resize the FactBox, you're either using Business Central version earlier than 26.0, or **Feature: Optimize screen estate usage for web** isn't turned on in **Feature Management**. Contact your admin, or learn more in [Enabling Upcoming Features Ahead of Time](/dynamics365/business-central/dev-itpro/administration/feature-management).

## Start personalizing by using the personalization mode

1. Open any page that you want to personalize.
1. In the upper-right corner, select **Settings** ![Settings.](media/ui-experience/settings_icon_small.png "Settings icon for role center") and then choose the **Personalize** action.

    The **Personalizing** banner appears at the top to indicate that you can start making changes.

    > [!NOTE]
    > To navigate during personalization, use <kbd>Ctrl</kbd>+<kbd>Click</kbd> on an action if it is highlighted by the arrowhead.

    If you see **Personalize lock** ![Personalize Lock](media/personalization-lock-icon.png "Personalize lock") or **Personalization blocked** ![Personalization blocked](media/personalization-blocked-icon.png "Personalization blocked") on the banner, you can't personalize the page. For more information, see [Why a Page is Locked from Personalization](ui-personalization-locked.md).

1. To change a user interface (UI) element, point to the element, such as an action, a field, or a part. The element is immediately highlighted with an arrowhead or border. Choose the element, and then choose either **Move**, **Remove**, **Hide**, **Show**, **Show under "Show more"**, **Show when collapsed**, **Show always**, **Set/Clear Freeze Pane**, or **Include/Exclude from Quick Entry**, depending on the type and state of the UI element.
1. To add a field, choose the **+ Field** action. From the **Add Field to Page** pane, drag and drop a field into the desired position on the page.
1. When you finish changing the layout of one or more pages, choose **Done** on the **Personalizing** banner.

For more information, see [What You Can Personalize](#What).

## <a name="What"></a>What you can personalize

|What you want to do|How to do it|Remarks|
|----|------------|-------|
|Move something, like a field, column in list, tile, action, or part to another place on the page.|Point anywhere on what you want to move, and drag it to its new position. A thick horizontal or vertical line indicates the position.<br /><br />![Cannot move here icon](media/personalization-cannot-move-here.png "Personalizing mode - Cannot move here icon") indicates that you can't move the element to the selected position.|Parts are subdivisions or areas on a page that contain things like multiple fields, another page, a chart, or tiles.<br /><br />[Learn more about personalizing actions](#Actions)<br>[Learn more about personalizing parts](#Parts)|
|Hide an element currently shown, like a field, column in list, tile, action, or part.|Select the element, select the arrowhead, and then select <b>Hide</b>.|In the personalization mode, hidden actions are grayed with italic text, and hidden parts are shaded with diagonal lines. Hidden fields and columns aren't indicated directly on the page, but you can locate them by using the <b>Add Field to Page</b> pane. ([Learn more about working fields.](#fields))<br><br>When you exit personalization mode, all elements disappear from view. If the field you hide is also shown on the FastTab heading when the FastTab is collapsed, the field no longer appears there.|
|Show an action or part that is currently hidden.|For a grayed (hidden) element, choose the arrowhead, and then choose <b>Show</b>.|The hidden element is visible again.|
|Add a hidden field|In the <b>Personalizing</b> banner, choose the <b>+ Field</b> action.<br /></br>The <b>Add Field to Page</b> pane opens on the right side of the page. If you select a field in the pane, its hidden location appears on the page.<br /><br />To add a field, drag it from the pane, or from its hidden location, to the position that you want it. A thick horizontal or vertical line indicates the position.<br><br> Another way is to select the arrowhead in the field's hidden location and select **Show**. |Each page includes a predefined set of fields that you can choose to display.<br /><br />[Learn more about working fields.](#fields) |
|Display a field in the heading of a collapsed FastTab.|Choose the arrowhead, and then choose <b>Show when collapsed</b>. <br /> <br />If you don't see this option, it's set already. In this case, to stop displaying the field on the FastTab heading, choose <b>Show always</b>.|*FastTab* is the term used for a group of fields that appear under a common heading. Use the <b>Show when collapsed</b> option to display the most important fields. If you select a field in the heading, the FastTab opens and focuses on the selected field.<br /><br />This option is only applicable if a page has more than one FastTab. If there's only one FastTab, it can't be collapsed, so the <b>Show when collapsed</b> option isn't available.|
|Make a field display only when you select **Show more**.|Choose the arrowhead, and then choose <b>Show under "Show More"</b>.|If you don't see the <b>Show More</b> option, it's set already. In this case, to make a field display always, not just when you select **Show more**, choose <b>Show always</b>.|
|Change whether a field can be edited.|Select the field, select the arrowhead on the field, and then select <b>Lock editing</b> to prevent changing the field's value or <b>Unlock editing</b> to allow changing the field's value.|You can only unlock fields that you previously locked yourself. Some fields are locked by default, either by design or by a profile admin who [customized the page](ui-personalization-manage.md). These fields can't be unlocked.|
|Change the freeze pane in a list to another column. |Choose the arrowhead of the column that you want as the last column of the freeze pane, and then choose <b>Set Freeze Pane</b>.<br /><br/>If you want to set the freeze pane back to its original position, choose the arrowhead for the current freeze pane column, and choose <b>Clear Freeze Pane</b>. Note: You can't remove this freeze pane.|The freeze pane specifies the columns that always appear on the left side of the list, even as you scroll horizontally.|  
|Skip over a field when pressing Enter.|Choose the arrowhead next to the field, or column heading in a list, and choose **Exclude from Quick Entry**.  | If you don't see **Exclude from Quick Entry**, then the field is already skipped. In this case, to stop skipping the field, choose **Include in Quick Entry**.<br><br>[Learn more about Quick Entry.](ui-enter-data.md#QuickEntry)|
|Reorder and remove views representing filtered lists.|Choose the arrowhead next to a view, and then choose **Move**, **Remove**, or **Hide**.|[Learn more about saving and personalizing list views.](ui-views.md)|  
|Add a new action to a page or report on your Role Center.|From the target page, report request page, or Tell Me window, choose the bookmark icon.|[Learn more about bookmarking pages and reports.](ui-bookmarks.md)|
|Always start a list as expanded or collapsed.|Choose the **Expand All** or **Collapse All** button in the upper-left corner of the list. Alternatively, choose the **Expand All** or **Collapse All** action in the menu of the first column. |Applies to collapsible hierarchy lists.|

## <a name="Actions"></a>Personalize action bar and menus

Personalization lets you decide which actions to show on the navigation and action bars and on Role Centers, and where to show them. You can show, hide, or move individual actions or action groups.

The following video shows how you can personalize actions on pages and Role Centers.

> [!VIDEO https://learn-video.azurefd.net/vod/player?id=88d1055a-6b3d-4767-bbf7-98a78170e394]

Personalizing the navigation and action bars is done basically the same as with other UI elements. However, what you can do with an action or group depends on where the action or group is located. The best way to find out is to enter personalizing mode and then let the arrowheads guide you.

There are a couple of terms that you should be familiar with to better understand action personalization: *action group* and *promoted category*.  

An *action group* is an element that expands to display other actions or groups. For example, on the **Sales Orders** page, one action group is the **Functions** action that appears when you choose the **Actions** action.

A *promoted category* is an action group that appears before the vertical line `|` on the action bar. The categories typically include the most commonly used actions, so that you can quickly find them. For example, on the **Sales Orders** page, the **Order**, **Release**, and **Posting** actions are promoted categories.

> [!NOTE]  
> To clear personalization, select the arrowhead around the part's designer menu, and then choose **Clear personalization**.

### Remove, hide, and show actions and action groups

When you want to show or hide an action, the options under the arrowhead define what you can do depending on the action's state. 

1. Choose the arrowhead for an action or action group.
2. Choose from one of the following options:

   |Option|What it does|
   |------|------------|
   |**Remove**|This option appears if the selected action is also shown somewhere else on the navigation bar or action bar. Choosing this option deletes the action from the selected location so that it no longer appears. The action or action group remains in the other locations. |
   |**Hide**|This option appears if the action or action group isn't located anywhere else on the navigation bar or action bar. Like **Remove**, choosing this option makes the action or action group disappear from the navigation bar or action bar. However, in personalizing mode, the action, or action group is still shown in the current position, except that it appears dimmed.|
   |**Show**|This option appears if the action or action group is hidden (dimmed). Choosing this option makes the action or action group appear on the navigation bar or action bar.|

### Move actions and action groups

A horizontal line between two actions or a border around an action group indicates where you can drop actions or actions groups. There are the following limitations:

- You can move individual actions into the promoted categories, but you can't rearrange the order of the actions in the category.
- You can't move an action group into a promoted category.

To move an action or action group, drag and drop it into the desired position, like you do with fields and columns.

To move an action or action group into another action group that is empty, drag the action or action group to the new group and drop it in the **Drop an action here** box.

### About the Automate menu

- You can't hide or move the **Automate** menu or the **Power Automate** submenu and its actions.
- You can move flows included under the **Automate** item, but you can't hide them using personalization. Moving the flow makes a copy the flow in the destination, it doesn't remove it from the **Automate** item.

> [!TIP]
> As an administrator, you can hide the **Automation** item from users. Learn more at [Set Up Power Automate Integration](/dynamics365/business-central/dev-itpro/powerplatform/power-automate-setup).

## <a name="Parts"></a>Personalize parts

Hover over or select <kbd>Alt</kbd>+<kbd>Up Arrow</kbd> to get information about a field.

Parts are areas on a page that are typically composed of multiple fields, charts, or other content. A part shows a colored border when you focus on the part. For example, a Role Center home screen has multiple parts. Because of their well-defined boundary, you can personalize the entire part and its contents.

- To move a part, drag and drop it into the desired position. A colored line indicates valid positions on the screen. For example, FactBoxes can only be moved next to other FactBoxes in the FactBox pane.
- You can hide a part by choosing the **Hide** option under the arrowhead.
- When you start personalizing or navigate to a new page, any parts that are currently hidden appear on the page with distinctive visuals to indicate they're hidden. You can unhide that part by choosing the **Show** option under the arrowhead.

You can clear all personalization changes that you made within a single part by choosing the **Clear personalization** option under the part's arrowhead. Clearing personalization of a part only affects changes to the contents of the part. It doesn't affect the placement or visibility of the part on the page.  

## <a name="fields"></a> Work with fields and columns

When personalizing a page, you use the **Add field to page** pane to include fields or columns on the page that are currently hidden from view. To open this pane, select the **+ Field** action near the top of the page. Unlike other hidden elements, hidden fields aren't indicated on the page itself in personalization mode. However, you can identify hidden fields by using the **Add field to page** pane.

Here are some general guidelines to follow when using the **Add field to page** pane:

- By default, the pane lists all hidden fields. To find hidden fields, look for the ![Shows the hidden field icon](media/hidden-icon.png "Shows the hidden field icon") icon.
- You can filter the list to show other fields, for example, those fields currently shown on the page, by selecting the **Recommended fields** button above the list and choosing a filter option. The name of the button changes based on the filter option you choose.
  
   :::image type="content" source="media/personlaization-filter.svg" alt-text="Shows the filter button in the Add a field pane in the personalization mode.":::
- Selecting a field in the list highlights its location on the page. If the field is hidden, its location shows in a shaded state.
- To get more details about a field in the list, hover over it or select <kbd>Alt</kbd>+<kbd>Up Arrow</kbd> to display a tooltip.
- The fields available in the **Add field to page** pane are determined by the developer of the page and its source table or by a profile admin who [customized the page](ui-personalization-manage.md). You can't create new ones.
- Some pages have multiple page fields that map to the same source table. The pane shows both/all of those page fields independently. Showing/hiding/moving those fields is also independent without one affecting the other.

### Add a field so it's visible on the page

From the **Add field to page** pane, there are two ways to include a hidden field on the page:

- Drag the field to the desired position. A thick horizontal or vertical line indicates the target location.
- Select the field in the list, then go to the shaded field on the page and select the **Show** option.

> [!NOTE]
> Some fields that you add won't be editable on the page when you're done with personalization. These fields are either originally designed this way or an administrator [customized](ui-personalization-manage.md) the page to prevent you from editing them.

## Clear personalization

At some point, you might want to undo some or all of the personalization changes that you made to a page over time.

1. On the **Personalizing** banner, choose the **Clear personalization** action.
2. Choose one of the following options.  

   > [!CAUTION]
   > Clearing personalization can't be undone.

   |Option|What it does|
   |------|------------|
   |**Only Navigation Menu**|Clears any personalization changes that you made to the navigation menu that is shared across the Role Center and other pages. Such changes include any new actions that were added as bookmarks, and any changes to links and groups in the menu.|  
   |**Only Actions**|Clears any personalization changes that you made on the navigation or action bars on the page.|
   |**Only Fields and Columns**|Clears any personalization changes that you made to the page except changes on the navigation or action bars. Such changes include changes to fields, columns, parts, and tiles. |
   |**All**|Clears all personalization changes that you made to the page so it looks like it did originally. Such changes include changes to navigation and action bars, fields, columns, parts, and tiles.|

## Tips and other points of interest

To help you better understand personalization, here are some pointers:

- When you make changes to a card page that you open from a list, the changes take effect on all records that you open from that list. For example, let's say you open a specific customer from the Customers list page, and then personalize the page by adding a field. When you open other customers from the list, the field that you added is also shown.
- Changes that you make affect all your Role Centers. For example, if you make a change to the Customer list when the Role Center is set to Business Manager, you also see the change on the **Customers** page when the Role Center is set to Sales Order Processor.
- Changes to a page in a pane take effect on the page wherever it appears.  
- You can't personalize a page that's in [analysis mode](analysis-mode.md). The **Analyze** switch is deactivated. If you happen to switch to personalization mode while the page is in analysis mode, then analysis mode is automatically switched off.
- Some pages have multiple page fields that map to the same source table. The pane shows both/all of those page fields independently. Showing/hiding/moving those fields is also independent without one affecting the other.
- If a part or group is hidden, ghosted fields still show inside it, but you can't drag-and-drop or add/show that field until you make the group/part visible.

> [!NOTE]
> Due to restrictions on design capabilities in the web client, it's currently not possible to customize or personalize the controls within the `grid` and `fixed` syntax. It applies to all design modes, not just personalization.
>
> Administrators can make the same layout changes as users by customizing a profile (role), which can be assigned to multiple users. To learn more about pages for Roles, go to [Customize Pages for Roles](ui-personalization-manage.md)<br /><br />
Administrators can also override or disable users' personalization, and they can define which features are even available for users to see in all or specific companies. For more information, see [Customize Business Central](ui-customizing-overview.md).

## Related information

[Customize Pages for Profiles](ui-personalization-manage.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Change Basic Settings](ui-change-basic-settings.md)  
[Change Which Features are Displayed](ui-experiences.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-extend-trial
---
title: Extend your trial version of Business Central
description: If you need more time to decide whether to subscribe to Dynamics 365 Business Central, you can extend your trial version once. Learn about your options.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords:
ms.date: 05/07/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Need more time to decide whether to subscribe?

It's important to make the right decision when choosing a business application, and we know that it can take time to explore all of the corners in [!INCLUDE[prod_short](includes/prod_short.md)]. If you need more time to finish your evaluation, you can extend the trial period yourself for another 30 days. When the expiration date for your trial period is approaching, we display a notification to alert you when you sign in. The notification contains a link to the **Extend Trial Period** guide that you can use to extend your trial period. The extra 30 days start the moment you choose **Extend Trial** in the guide.

Extending the trial period yourself is a one time-thing though. You can't extend it twice, at least not yourself. If you already extended the period, your Microsoft partner can extend it for you again, which is also a one-time thing. If you aren't already working with a partner, see [How do I find a reselling partner?](/dynamics365/business-central/across-faq#how-do-i-find-a-reselling-partner).  

## To extend your trial period

1. Sign in to [!INCLUDE[prod_short](includes/prod_short.md)] at [https://businesscentral.dynamics.com/](https://businesscentral.dynamics.com/).

    Sign in with the email account that you used when you signed up for the trial.  

    If you signed up with an email account from a [30-day trial of Microsoft 365](/microsoft-365/commerce/sign-up-for-office-365-trial), then you must first extend your Microsoft 365 trial, or buy a Microsoft 365 subscription. For more information, see [Extend your trial for Microsoft 365 for business](/microsoft-365/commerce/extend-your-trial).
2. In the notification at the top of the workspace, choose **Extend Trial**.

    If you dismissed the notification, you must sign out and then sign in again.

> [!TIP]
> If you cannot see the notification, you can force [!INCLUDE [prod_short](includes/prod_short.md)] to run the **Extend Trial** assisted setup guide by adding the ```?page=1828``` parameter to the URL, such as in the following example: [https://businesscentral.dynamics.com/?page=1828](https://businesscentral.dynamics.com/?page=1828)

## What happens if my trial period is expired?

If your first 30-day trial period is expired, you can extend it yourself. Just sign in to the demonstration company and start the **Extend Trial Period** guide from the notification.  

After you create your own company, sign out and then sign in again with the credentials for that company.  

If your organization has a reseller relationship with a partner, they can sign in to your [!INCLUDE[prod_short](includes/prod_short.md)] as a delegated administrator and run the same **Extend Trial Period** guide. For more information, see [Extending trials (as an administrator)](/dynamics365/business-central/dev-itpro/administration/tenant-administration#extending-trials).  

However, after this second extension gives your organization up to 90 days of trial, you must either subscribe to [!INCLUDE[prod_short](includes/prod_short.md)] or stop using it. If you decide to not continue, we recommend that you export any data that you rely on in your business.

When your extended trial period is expired, you can [subscribe](https://go.microsoft.com/fwlink/?linkid=828659) to [!INCLUDE[prod_short](includes/prod_short.md)] within 90 days and continue working in the company you created. 90 days after the extended trial expires, we'll delete your company and data unless you subscribe.  

[!INCLUDE [admin-viral-trial-expiry](includes/admin-viral-trial-expiry.md)]

## Related information

[Trials and Subscriptions (English only)](/dynamics365/business-central/dev-itpro/administration/trials-subscriptions?toc=/dynamics365/business-central/toc.json)  
[Creating New Companies](about-new-company.md)  
[How do I find a reselling partner?](/dynamics365/business-central/across-faq#how-do-i-find-a-reselling-partner)  
[Extending trials (as an administrator)](/dynamics365/business-central/dev-itpro/administration/tenant-administration#extending-trials)  
[Get Started as a Reseller of Business Central Online](/dynamics365/business-central/dev-itpro/administration/get-started-online)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-collect-payments-with-sepa-direct-debit
---
title: SEPA Direct Debit in Business Central
description: With your customer's consent, you can collect payments directly from the customer's bank account according to the SEPA format.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.form: 371, 423, 424, 427, 1208, 1207, 1230
ms.date: 07/17/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Collect payments with SEPA Direct Debit

With your customer's consent, you can collect payments directly from the customer's bank account according to the SEPA format.  

First, set up the export format of the bank file that instructs your bank to perform a direct debit. Then, set up the customer's payment method. Last, set up the direct-debit mandate that reflects your agreement with the customer to collect their payments in a certain agreement period.  

To instruct the bank to transfer the payment amount from the customer's bank account to your company's account, you create a direct-debit collection entry, which holds information about bank accounts, the affected sales invoices, and the direct-debit mandate. You then export an XML file that is based on the collection entry, which you send to your bank for processing. Any payments that couldn't be processed will be communicated to you by your bank, and you must then manually reject the direct debit-collection entries in question.  

You can set up standard customer sales codes with the direct-debit payment method and mandate information. You can then use the **Create Standard Cust. Invoices** batch job to generate multiple sales invoices with the direct-debit information prefilled. This is can be done manually or automatically, according to the payment due date.  

When payments are successfully processed, as communicated by your bank, you can post the payment receipts either directly from the **Direct Debit Collect. Entries** page or by moving the payment lines to the journal where you post payment receipts, such as the **Cash Receipt Journals** page. Alternatively, depending on your cash management process, you can wait and just apply the payments as a part of bank reconciliation.  

> [!NOTE]  
> To collect payments using SEPA Direct Debit, the currency on the sales invoice must be EURO.  

## How to set up SEPA Direct Debit

From the **Direct Debit Collections** page, you can export instructions to your electronic bank to perform a direct debit collection from the customer's bank account to your bank account according to the SEPA Direct Debit format.

> [!NOTE]
> The global version of [!INCLUDE[prod_short](includes/prod_short.md)] supports the SEPA direct debit format only. Your country/region version may support other formats for electronic payment. See under **Local Functionality** in the table of contents.  

To enable export of a bank file format that aren't supported out of the box in [!INCLUDE[prod_short](includes/prod_short.md)], you can set up a data exchange definition by using the data exchange framework. For more information, see [Set Up Data Exchange Definitions](across-how-to-set-up-data-exchange-definitions.md).  

Before you can process customer payments electronically by exporting direct debit instructions in the SEPA Direct Debit format, you must perform the following setup steps:  

* Set up the export format of the bank file that instructs your bank to perform a direct debit collection from the customer's bank account to your bank account.  
* Set up the customer's payment method.  
* Set up the direct-debit mandate that reflects your agreement with the customer to collect their payments in a certain agreement period.  

### To set up your bank account for SEPA Direct Debit

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.  
2. Open the bank account that you want to use for direct debit.  
3. On the **General** FastTab, in the **SEPA Direct Debit Exp. Format** field, choose the option for SEPA Direct Debit.  

### To set up the customer's payment method for SEPA Direct Debit

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Payment Methods**, and then choose the related link.  
2. Choose the **New** action.  
3. Set up a payment method. Fill in the direct debit\-specific fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Direct Debit**|Specify if the payment method is for SEPA Direct Debit collection.|  
    |**Direct Debit Pmt. Terms Code**|Specify the payment terms, such as DON'T PAY, that are displayed on sales invoices that are paid with SEPA Direct Debit to indicate to the customer that the payment will be collected automatically. Alternatively, leave the field empty.|  

    > [!NOTE]  
    >  Do not enter a value in the **Bal. Account No.** field.  

4. Choose the **OK** button to close the **Payment Methods** page.  
5. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.  
6. Open the customer card for the customer that you want to set up for SEPA Direct Debit collection.  
7. Choose the **Payment Method Code** field, and then select the payment method code that you specified in step 3.  
8. Repeat steps 6 and 7 for all customers that you want to set up for SEPA Direct Debit collection.  

#### To set up the direct-debit mandate that represents the customer agreement

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Customers**, and then choose the related link.  
2. Open the card for the customer that you want to set up for SEPA Direct Debits.  
3. Choose the **Bank Accounts** action.  
4. On the **Customer Bank Account List** page, select the customer bank account that will use direct debits, and then choose the **Direct Debit Mandates** action from **New**.  
5. On the **SEPA Direct Debit Mandates** page, fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Customer Bank Account Code**|Specifies the bank account from which direct\-debit payments are collected. This field is filled automatically.|  
    |**Valid From**|Specify the date when the direct\-debit mandate starts.|  
    |**Valid To**|Specify the date when the direct\-debit mandate ends.|  
    |**Date of Signature**|Specify the date when the customer signed the direct\-debit mandate.|  
    |**Type of Payment**|Specify if the agreement covers multiple (**Recurring**) or a single (**One Off**) direct debit collection.|  
    |**Expected Number of Debits**|Specify how many direct debit collections you expect to make. This field is only relevant if you selected **Recurring** in the **Sequence Type** field.|  
    |**Debit Counter**|Specifies how many direct debit collections have been made using this direct\-debit mandate. This field is automatically updated.|  
    |**Blocked**|Specify that direct debit collections can't be made using this direct\-debit mandate.|  

6. Repeat steps 1 through 5 for all customers that you want to set up for SEPA Direct Debits.  

 The direct-debit mandate is automatically inserted in the **Direct Debit Mandate ID** field when you create a sales invoice for the customer that you selected in step 2. For more information, see [Create Recurring Sales and Purchase Lines](sales-how-work-standard-lines.md).

## Creating SEPA Direct Debit Collection Entries and Export to a Bank File

To instruct the bank to transfer the payment amount from the customer's bank account to your company's account, you create a direct-debit collection, which holds information about the customer's bank account, the affected sales invoices, and the direct-debit mandate. From the resulting direct-debit collection entry, you then export an XML file that you send or upload to your electronic bank for processing. Any payments that couldn't be processed by the bank will be communicated to you by your bank, and you must then manually reject the direct debit-collection entries in question.  

 > [!NOTE]  
 > To collect payments using SEPA Direct Debit, the currency on the sales invoice must be EURO.  

### To create a direct-debit collection  

 1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Direct Debit Collections**, and then choose the related link.  
 2. On the **Direct Debit Collections** page, choose the **Create Direct Debit Collection** action.  
 3. On the **Create Direct Debit Collection** page, fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**From Due Date**|Specify the earliest payment due date on sales invoices that you want to create a direct-debit collection for.|  
    |**To Due Date**|Specify the latest payment due date on sales invoices that you want to create a direct-debit collection for.|  
    |**Partner Type**|Specify if the direct-debit collection is made for customers of type **Company** or **Person**.|  
    |**Only Customers With Valid Mandate**|Specify if a direct-debit collection is created for customers who have a valid direct-debit mandate. **Note:**  A direct-debit collection is created even if the **Direct Debit Mandate ID** field isn't filled on the sales invoice.|  
    |**Only Invoices With Valid Mandate**|Specify if a direct-debit collection is only created for sales invoices if a valid direct-debit mandate is selected in the **Direct Debit Mandate ID** field on the sales invoice.|  
    |**Bank Account No.**|Specify which of your company's bank accounts the collected payment will be transferred to from the customer's bank account.|  
    |**Bank Account Name**|Specifies the name of the bank account that you select in the **Bank Account No.** field. This field is filled automatically.|  

 4. Choose the **OK** button.  

A direct-debit collection is added to the **Direct Debit Collections** page, and one or more direct-debit collection entries are created.  

### To export a direct-debit collection entry to a bank file

 1. On the **Direct Debit Collections** page, choose the **Direct Debit Collect. Entries** action.  
 2. On the **Direct Debit Collect. Entries** page, select the entry that you want to export, and then choose the **Create Direct Debit File** action.  
 3. Save the export file to the location from where you send or upload it to your electronic bank.  

      On the **Direct Debit Collect. Entries** page, the **Direct Debit Collection Status** field is changed to File Created. On the **SEPA Direct Debit Mandates** page, the **Debit Counter** field is updated with one count.  

 If the exported file can't be processed, for example because the customer is insolvent, you can reject the direct-debit collection entry. If the exported file is successfully processed by the bank, the due payments of the involved sales invoices are automatically collected from the involved customers. In that case you can close the collection.  

### To reject a direct-debit collection entry  

* On the **Direct Debit Collect. Entries** page, select the entry that wasn't successfully processed, and then choose the **Reject Entry** action.  

    The value in the **Status** field on the **Direct Debit Collect. Entries** page is changed to **Rejected**.  

### To close a direct-debit collection

* On the **Direct Debit Collect. Entries** page, select the entry that was successfully processed, and then choose the **Close Collection** action.  

    The related direct-debit collection is closed.  

 You can now proceed to post receipts of payment for the involved sales invoices. You can do this as you typically post payment receipts, such as on the **Payment Registration** page, or you can post the related payment receipts directly from the **Direct Debit Collect. Entries** page. For more information, see [Collect Payments with SEPA Direct Debit](finance-collect-payments-with-sepa-direct-debit.md).

## Posting SEPA Direct Debit Payment Receipts

When a direct debit collection is successfully processed by your bank, you can proceed to post receipt of the payment for the involved sales invoices. For more information, see [Create SEPA Direct Debit Collection Entries and Export to a Bank File](finance-collect-payments-with-sepa-direct-debit.md#creating-sepa-direct-debit-collection-entries-and-export-to-a-bank-file).  

You can post the payment receipt directly from the **Direct Debit Collections** page or the **Direct Debit Collect. Entries** page. Alternatively, you can relay the work to another user by preparing the related journal lines.  

### To post a direct-debit payment receipt from the Direct Debit Collections page

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Direct Debit Collections**, and then choose the related link.  
2. Select a line for a direct debit collection that has been exported to a bank file and successfully processed by the bank.
3. Choose the **Post Payment Receipts** action.  
4. On the **Post Direct Debit Collection** page, fill in the fields as described in the following table.  

    |Field|Description|  
    |---------------------------------|---------------------------------------|  
    |**Direct Debit Collection No.**|Specify the direct debit collection that you want to post payment receipt for.|  
    |**General Journal Template**|Specify which general journal template to use for posting the payment receipt, such as the template for cash receipts.|  
    |**General Journal Batch Name**|Specify which general journal batch to use for posting the payment receipt.|  
    |**Create Journal Only**|Select this check box if you don't want to post the payment receipt when you choose the **OK** button. The payment receipt will be prepared in the specified journal and won't be posted until someone posts the journal lines in question.|  

5. Choose the **OK** button.

## Related information

[Managing Receivables](receivables-manage-receivables.md)  
[Service Management](service-service.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-working-with-business-central-in-powerbi
---
title: Connect to Power BI from Business Central on-premises| Microsoft Docs
description: Getting insight, business intelligence, and KPIs from your Business Central data on-premises using Power BI.
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: account schedule, analysis, reporting, financial report, business intelligence, KPI
ms.date: 01/27/2025
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---
# Connect to Power BI from Business Central on-premises

## Get started

[!INCLUDE [prod_short](includes/prod_short.md)] on-premises must be enabled for Power BI integration. This task is typically done by an administrator. For more information about enabling Power BI integration with Business Central online, see [Set up Business Central on-premises for Power BI integration](admin-powerbi-setup.md).

Some features are only available with Business Central online, not on-premises. Learn more in [Introduction to Business Central and Power BI](admin-powerbi.md#get-ready-to-use-power-bi)

## <a name="setup"></a>Set up [!INCLUDE[prod_short](includes/prod_short.md)] on-premises for Power BI integration

This section explains the requirements for a [!INCLUDE[prod_short](includes/prod_short.md)] on-premises deployment to integrate with Power BI.

1. Configure either [NavUserPassword](/dynamics365/business-central/dev-itpro/administration/authenticating-users-with-navuserpassword) or [Microsoft Entra ID](/dynamics365/business-central/dev-itpro/administration/authenticating-users-with-azure-ad-overview) as the authentication method for the deployment.  

   > [!NOTE]
   > Power BI integration doesn't support Windows authentication.

1. Enable OData web services and the ODataV4 endpoint.

   Enable OData web service on the [!INCLUDE[server](includes/server.md)] and open the OData port in the firewall. Learn more in [Configuring Business Central Server - OData Web Services](/dynamics365/business-central/dev-itpro/administration/configure-server-instance#ODataServices).

   The local server must be accessible from the Internet.

1. Give [!INCLUDE[prod_short](includes/prod_short.md)] user accounts a web service access key.

   A web service access key is only needed to view [!INCLUDE[prod_short](includes/prod_short.md)] data in Power BI. You can assign a web service access key to each user account. Or instead, create a specific account with a web service access key for use by all users. Learn more in [Web Services Authentication](/dynamics365/business-central/dev-itpro/webservices/web-services-authentication#generate-a-web-service-access-key).

1. Create an application registration for [!INCLUDE[prod_short](includes/prod_short.md)] in Microsoft Azure.

   To view Power BI reports embedded in [!INCLUDE[prod_short](includes/prod_short.md)] pages, register an application for [!INCLUDE[prod_short](includes/prod_short.md)] in Microsoft Entra ID. The registered application needs permission to Power BI services. At a minimum, the app requires **User.ReadWrite.All** permission. For users to view reports from shared Power BI workspaces, the app requires **Workspace.Read.All** permission. Learn more in [Registering [!INCLUDE[prod_short](includes/prod_short.md)] on-premises in Microsoft Entra ID for Integrating with Other Services](/dynamics365/business-central/dev-itpro/administration/register-app-azure).

   > [!NOTE]
   > If your deployment uses NavUserPassword authentication, [!INCLUDE[prod_short](includes/prod_short.md)] connects to the same Power BI service for all users. You specify this service account as part of registering the application. With Microsoft Entra authentication, [!INCLUDE[prod_short](includes/prod_short.md)] connects to the Power BI service associated with the individual user accounts.

1. Make the initial connection from Business Central to Power BI.

   Before users can use Power BI in [!INCLUDE[prod_short](includes/prod_short.md)], an Azure application administrator must give consent to the Power BI service.

   To make the initial connection, open [!INCLUDE[prod_short](includes/prod_short.md)], and run **Get Started with Power BI** from the Home page. This action leads you through the consent process and checks your Power BI license. When you're prompted, sign in using a Microsoft Entra admin account. Learn more in [Connect to Power BI - one time only](across-working-with-powerbi.md#connect).

## Build Power BI reports displaying [!INCLUDE [prod_long](includes/prod_long.md)] data

You can make your Dynamics 365 Business Central data available as a data source in Power BI Desktop and build powerful reports of the state of your business.

Use Power BI Desktop to create reports that display Dynamics 365 Business Central data. After creating reports, you can publish them to your Power BI service or share them with all users in your organization. Once these reports are in the Power BI service, users set up for it can view the reports in  Business Central.

- For [!INCLUDE[prod_short](includes/prod_short.md)] on-premises, get the following information:

  - The OData URL for [!INCLUDE[prod_short](includes/prod_short.md)].
  
    Typically, this URL has the format `http[s]://[computer]:[port]/[serverinstance]/ODataV4`, for example, `https://localhost:7048/BC190/ODataV4`. If you have a multitenant deployment, include the tenant in the URL, for example, `https://localhost:7048/BC190/ODataV4?tenant=tenant1`.
  - A user name and web service access key of a [!INCLUDE[prod_short](includes/prod_short.md)] account.

    To get data from [!INCLUDE[prod_short](includes/prod_short.md)], Power BI uses basic authentication. So, you need a user name and web service access key to connect. The account might be your own user account, or your organization might have specific account for this purpose.

## <a name="getdata"></a>Add [!INCLUDE[prod_short](includes/prod_short.md)] as a data source in Power BI Desktop

The first task in creating reports is to add [!INCLUDE[prod_short](includes/prod_short.md)] as a data source in Power BI Desktop. Once connected, you can start to build the report.

1. Start Power BI Desktop.
1. Select **Get Data**.

    If you don't see **Get Data**, select the **File** menu, then **Get Data**.
1. On the **Get Data** page, select **Online Services**.
1. In the **Online Services** pane, connect to  [!INCLUDE [prod_short](includes/prod_short.md)] on-premises, select **Dynamics 365 Business Central (on-premises)**, then **Connect**.
1. Sign-in to [!INCLUDE [prod_short](includes/prod_short.md)] (one-time only).

   If you're not signed in to [!INCLUDE [prod_short](includes/prod_short.md)] from Power BI desktop before, you're prompted to sign in.

   For [!INCLUDE [prod_short](includes/prod_short.md)] on-premises, enter the OData URL for [!INCLUDE[prod_short](includes/prod_short.md)] and select **OK**. When prompted, enter the user name and password for the account for connecting to [!INCLUDE[prod_short](includes/prod_short.md)]. In the **Password** box, enter the web service access key. Select **Connect** when done.

   > [!NOTE]  
   > After you connect to [!INCLUDE[prod_short](includes/prod_short.md)], you aren't prompted again to sign in. [How do I change or clear the account I'm currently using to connect to Business Central from Power BI Desktop?](/dynamics365/business-central/power-bi-faq?tabs=designer#perms)

1. Once connected, Power BI contacts the Business Central service. The **Navigator** windows appears and displays available data sources for building reports. Select a folder to expand it and see the available data sources.

   These data sources represent all the web services and API pages published for [!INCLUDE [prod_short](includes/prod_short.md)]. The data sources are grouped by Business Central environments and companies.

   > [!NOTE]
   > The structure for Business Central on-premises is different because it doesn't support API pages.

1. Select the data source or sources that you want to add to your data model, and then select the **Load** button.
1. To add more Business Central data later, repeat the previous steps.

Once the data is loaded, view it in the right navigation on the page. At this point, you're successfully connected to your [!INCLUDE[prod_short](includes/prod_short.md)] data and can begin building your Power BI report.

> [!TIP]
> Learn more about Power BI Desktop in [Get started with Power BI Desktop](/power-bi/fundamentals/desktop-getting-started).

## Manage and modify reports

> [!NOTE]
> You can't manage and modify reports.

## Upload reports

For [!INCLUDE [prod_short](includes/prod_short.md)] on-premises, there are no demo reports available, so you have to start from scratch by using Power BI Desktop. Alternatively, Power BI reports can be distributed as files that you can upload directly from Power BI online service. Learn more in [Upload the report to the service](/power-bi/paginated-reports/paginated-reports-quickstart-aw#upload-the-report-to-the-service).

## Related information

[Business Central and Power BI](admin-powerbi.md)  
[Upload reports](across-working-with-business-central-in-powerbi.md#upload-reports)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-work-with-vat
---
title: How to work with VAT on sales and purchases
description: This article describes the various ways of working with VAT both manually and with automatic setup, to help you meet country/region specific regulations.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: VAT, sales, purchases
ms.search.form: 7, 118, 130, 142, 459, 460, 525
ms.date: 05/29/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---
# Work with VAT on sales and purchases

If your country or region requires you to calculate and report value-added tax (VAT) on sales and purchase transactions, you can set up [!INCLUDE[prod_short](includes/prod_short.md)] to calculate VAT. For more information, see [Setting Up to Calculations and Posting Methods for Value-Added Tax](finance-setup-vat.md).

There are, however, some VAT-related tasks that you can do manually. For example, you might need to correct a posted amount if you discover that a vendor uses a different rounding method.  

> [!TIP]
> You can let [!INCLUDE[prod_short](includes/prod_short.md)] validate VAT registration numbers and other company information when you create or update documents. For more information, see [Validate VAT Registration Numbers](finance-how-validate-vat-registration-number.md).

## Calculating and displaying VAT amounts on sales and purchase documents  

When you choose an item number in the **No.** field on a sales or purchase document, [!INCLUDE[prod_short](includes/prod_short.md)] fills in the **Unit Price** and **Line Amount** fields. The unit price comes from either the **Item** card or the item prices allowed for the item and customer. [!INCLUDE[prod_short](includes/prod_short.md)] calculates the line amount when you enter a quantity for the line.  

If you want the unit prices and line amounts to include VAT, for example, if you sell to retail consumers, choose the **Prices Including VAT** check box on the document. For more information, see [Including or Excluding VAT in Prices and Line Amounts](#including-or-excluding-vat-in-prices-and-line-amounts). 

You can calculate and display VAT amounts in sales and purchase documents differently. The difference depends on the type of customer or vendor you're dealing with. You can also change the calculated VAT amount manually, for example, so that it matches the VAT amount calculated by your vendor on a given transaction.

### Including or excluding VAT in prices and line amounts

If you choose the **Prices Including VAT** checkbox on a sales document, the **Unit Price** and **Line Amount** fields include VAT. By default, the values in these fields don't include VAT. The names of the fields reflect whether prices include VAT.  

You can set up the default setting of the **Prices Including VAT** for all sales documents for a customer in the **Prices Including VAT** field on the **Customer** card. You can also set up item prices to include or exclude VAT. Typically, prices on the Item Card exclude VAT.

The following table provides an overview of how the application calculates the unit price amounts for a sales document when prices aren't set up on the **Sales Prices** page:  

|**Price Includes VAT field on Item Card**|**Prices Including VAT field**|**Action Performed**|  
|-----------------------------------------------|----------------------------------------------------|--------------------------|  
|Not Enabled|Not Enabled|The **Unit Price** on the Item Card is copied to **Unit Price Excl. VAT** field on the sales lines.|  
|Not Enabled|Enabled|The application calculates the VAT amount per unit and adds to the **Unit Price** on the Item Card. This total unit price is then entered in the **Unit Price Incl. VAT field** on the sales lines.|  
|Enabled|Not Enabled|The application calculates the VAT amount included in the **Unit Price** field on the **Item Card** using the VAT percentage related to the VAT Bus. Posting Gr. (Price) and the VAT Prod. Posting Group combination. The **Unit Price** on the Item Card, reduced by the VAT amount, is then entered in the **Unit Price Excl. VAT** field in the sales lines. For more information, see [Using VAT Business Posting Groups and Customer Price Groups](finance-work-with-vat.md#using-vat-business-posting-groups-and-customer-price-groups).|  
|Enabled|Enabled|The **Unit Price** on the Item Card is copied to **Unit Price Incl. VAT** field on the sales lines.|

#### Using VAT business posting groups and customer price groups 

If you want prices to include VAT, you can use VAT business posting groups to calculate the amount based on the VAT posting setup for the group. For more information, see [Set up VAT business posting groups](finance-setup-vat.md#set-up-vat-business-posting-groups).

Depending on what you want to do, you can assign a VAT business posting group to customers or sales documents in the following ways:

* To use the same VAT rate for all customers, you can choose a group in the **VAT Business Posting Group (Price)** field on the **Sales & Receivables Setup** page.
* To use a VAT rate for a specific customer, you can choose a group in the **VAT Business Posting Group (Price)** field on the **Customer Card** page. 
* To use a VAT rate for a specific of customers, you can choose a group in the **VAT Business Posting Group (Price)** field on the **Customer Price Group** page. For example, this setting is useful when you want a price to apply to all customers in a certain geographical region or a specific industry.
* On all sales documents, in the **VAT Business Posting Group** field. The VAT amount specified for the group is used only for the document you're currently working on.

> [!NOTE]
> If you do not specify a group in the **VAT Business Posting Group (Price)** field VAT will not be included in prices.

#### Examples

Factors such as the country or region you're selling in, or the type of industries you sell to, can affect the amount of VAT that you must account for. For example, a restaurant might charge 6% VAT for meals that are eaten in-house, and 17% for takeaway. To accomplish that, you create a VAT business posting group (price) for in-house and one for takeaway.

## Working with VAT Date

### VAT Date in documents

When you create new sales or purchase documents, the **VAT Date** is based on the setting in the **Default VAT Date** field on the **General Ledger Setup** page. This default value can be the same as **Posting Date** or **Document Date**. If you need a different VAT date, you can manually change the value in the **VAT Date** field. When you post the document, the **VAT Date** is shown on the posting document and on the VAT and G/L entries.

> [!NOTE]
> If the **VAT Date** field isn't available on your documents or journals, that means that **Do not use VAT Date functionality** is chosen in the **VAT Date Usage** field on the **General Ledger Setup** page.  

> [!IMPORTANT]
> If you configure **Control VAT Period** in the **General Ledger Setup** as **Block posting within closed period**, or **Block posting within closed and warn for released period**, you can post document or journal only if the date in the **VAT Date** field is not in a closed period in **VAT Return Periods**. Even if the period in **VAT Return Periods** is open, you might get a warning based on the **VAT Return Status** and configuration in the **Control VAT Period**.

> [!IMPORTANT]
> Starting in version 23.1, you can prevent or allow posting of the **VAT Date** for specific data range, using the **Allow VAT Date From** and **Allow VAT Date To** fields in the **VAT Setup** and the **User Setup**. If you are using older versions, you can prevent or allow posting of the **VAT Date** for specific data range, using the **Allow Posting From** and **Allow Posting To** fields in the **General Ledger Setup** and the **User Setup**.  

> [!NOTE]
> If you leave the **VAT Date** blank, [!INCLUDE [prod_short](includes/prod_short.md)] will use your default setup from **Default VAT Date** in the **General Ledger Setup** as a **VAT Date** in the posted transaction.  

### Modifying the VAT Date in posted entries

If needed, you can change the VAT date posted documents. To change the date in the **VAT Date** field for posted documents, follow these steps:

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **VAT Entries**, and then choose the related link. 
2. Find the entry with wrong VAT date.  
3. Choose the **Edit list** action, and then enter the correct date in the **VAT Date** field.  
4. When you close the page, the VAT date changes in related **G/L Entries** and in the posted document.  

> [!NOTE]
> You can change the **VAT Date** field in **VAT Entries** only if your current date is not in a closed VAT return period. Even if the period in the **VAT Return Periods** field is open, you might get a warning based on the **VAT Return Status**.  

> [!NOTE]
> If your document has more than one **VAT Entry**, you only need to change the value in the **VAT Date** field in one entry related to the document. To keep entries consistent, [!INCLUDE[prod_short](includes/prod_short.md)] automatically changes the VAT date in VAT entries related to this transaction. [!INCLUDE [prod_short](includes/prod_short.md)] will update the **VAT Date** in other tables (GL Entries and documents), but only related to this transaction.  

## Correcting VAT amounts manually on sales and purchase documents  

You can make corrections to posted VAT entries so that you can change the total sales or purchase VAT amounts without changing the VAT base. For example, if you receive an invoice from a vendor with an incorrect VAT amount.  

Although you might have one or more combinations set up to handle import VAT, you must set up at least one VAT product posting group. For example, you can name it **CORRECT** for correction purposes, unless you can use the same general ledger account in the **Purchase VAT Account** field on the VAT posting setup line. For more information, see [Setting Up to Calculations and Posting Methods for Value-Added Tax](finance-setup-vat.md).

If a payment discount was calculated based on an invoice amount that includes VAT, you revert the payment discount part of the VAT amount when you grant the payment discount. You must activate the **Adjust for Payments Disc.** field in both the general ledger setup in general and the VAT posting setup for specific combinations of a VAT business posting group and a VAT product posting group.  

### To set the system up for manual VAT entry in sales documents

To enable manual VAT changes on sales documents, follow these steps. The steps are similar on the **Purchases & Payables Setup** page.

1. On the **General Ledger Setup** page, specify a **Max. VAT Difference Allowed** between the amount calculated by application and the manual amount.  
2. On the **Sales & Receivables Setup** page, turn on the **Allow Vat Difference** toggle.  

### To adjust VAT for a sales document

1. Open the relevant sales order.  
2. Choose the **Statistics** action.  
3. On the **Invoicing** FastTab, choose the value in the **No. of Tax Lines** field.
4. Edit the **VAT Amount** field.   

> [!NOTE]  
> The total VAT amount for the invoice, grouped by VAT identifier, is displayed in the lines. You can manually adjust the amount in the **VAT Amount** field on the lines for each VAT identifier. When you modify the **VAT Amount** field, application checks to ensure that you have not changed the VAT by more than the amount you have specified as the maximum difference allowed. If the amount is outside the range of the **Max. VAT Difference Allowed**, a warning will be displayed stating the maximum allowed difference. You will be unable to proceed until the amount is adjusted to within the acceptable parameters. Click **OK** and enter another **VAT Amount** that is within the allowed range. If the VAT difference is equal to or lower than the maximum allowed, the VAT will be divided proportionally among the document lines that have the same VAT identifier.  

## Calculating VAT manually using journals  

You can also adjust VAT amounts in general, sales, and purchase journals. For example, you might need an adjustment if you enter a vendor invoice in your journal and the VAT amount that [!INCLUDE[prod_short](includes/prod_short.md)] calculated and the VAT amount on the vendor's invoice differ.  

### To set the system up for manual VAT entry in general journals

You must perform the following steps before you manually enter VAT in a general journal.  

1. On the **General Ledger Setup** page, specify a **Max. VAT Difference Allowed** between the amount calculated by application and the manual amount.  
2. On the **General Journal Templates** page, choose the **Allow VAT Difference** check box for the relevant journal.  

### To set the system up for manual VAT entry in a sales and purchase journals

You must perform the following steps before you manually enter VAT in a sales or purchase journal.

1. On the **Purchases & Payables Setup** page, choose the **Allow VAT Difference** check box.  
2. Repeat step 1 for the **Sales & Receivables Setup** page.
3. After you complete the setup, you can adjust the **VAT Amount** field on the general journal line, or the **Bal. VAT Amount** field on the sales or purchase journal line. [!INCLUDE[prod_short](includes/prod_short.md)] verifies that the difference isn't greater than the specified maximum.  

> [!NOTE]  
> If the difference is greater, a warning will be displayed stating the maximum allowed difference. To continue, you must adjust the amount. Choose **OK** and then enter an amount that is within the allowed range. If the VAT difference is equal to or lower than the maximum allowed, [!INCLUDE[prod_short](includes/prod_short.md)] will show the difference in the **VAT Difference** field.  

## Posting Import VAT with Purchase Invoices
Instead of using journals to post an import VAT invoice, you can use a purchase invoice.  

### To set up purchasing for posting import VAT invoices

1. Set up a vendor card for the import authority that sends you the import VAT invoice. The **Gen. Bus. Posting Group** and **VAT Bus. Posting Group** must be set up in the same way as the general ledger account for the import VAT.  
2. Create a **Gen. Product Posting Group** for the import VAT and set up an import VAT **Def. VAT Product Posting Group** for the related **Gen. Product Posting Group**.  
3. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Chart of Accounts**, and then choose the related link.  
4. Select the import VAT general ledger account, and then choose the **Edit** action.  
5. On the **Posting** FastTab, select the **Gen. Prod. Posting Group** setup for import VAT. [!INCLUDE[prod_short](includes/prod_short.md)] automatically fills in the **VAT Prod. Posting Group** field.  
6. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **General Posting Setup**, and then choose the related link.  
7. Create a combination of the **Gen. Bus. Posting Group** for the VAT authority and the **Gen. Prod. Posting Group** for import VAT. For this combination, in the **Purchase Account** field, choose the import VAT general ledger account.  

### To create a new invoice for the import authority vendor after you complete the setup  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Invoices**, and then choose the related link.  
2. Create a new purchase invoice.  
3. In the **Buy-from Vendor No.** field, choose the import authority vendor, and then choose the **OK** button.  
4. In the purchase line, in the **Type** field, choose **G/L Account**, and in the **No.** field, choose the import VAT general ledger account.  
5. In the **Quantity** field, type **1**.  
6. In the **Direct Unit Cost Excl. VAT** field, specify the VAT amount.  
7. Post the invoice.  

## Processing certificates of supply

When you sell goods to a customer in another EU country/region, you must send the customer a certificate of supply that the customer must sign and return to you. The following procedures are for processing certificates of supply for sales shipments, but the same steps apply for service shipments of items, and return shipments to vendors.  

### To view certificate of supply details  
1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.  
2. Choose the relevant sales shipment to a customer in another EU country/region.  
3. Choose **Certificate of Supply Details**.  
4. By default, if the **Certificate of Supply Required** check box is selected for VAT Posting Group setup for the customer, the **Status** field is set to **Required**. You can update the field to indicate whether the customer returned the certificate.  

> [!Note]  
>  If the VAT Posting Group setup does not have the **Certificate of Supply Required** check box selected, then a record is created and the **Status** field is set to **Not Applicable**. You can update the field to reflect the correct status information. You can manually change the status from **Not Applicable** to **Required**, and from **Required** to **Not Applicable** as needed.  

   When you update the **Status** field to **Required**, **Received**, or **Not Received**, a certificate is created.  

> [!TIP]  
>  You can use the **Certificates of Supply** page to get a view of the status of all posted shipments for which a certificate of supply has been created.  

5. Choose **Print Certificate of Supply**.  

> [!Note]  
> You can preview or print the document. When you choose **Print Certificate of Supply** and print the document, the **Printed** check box is automatically selected. In addition, if not already specified, the status of the certificate is updated to **Required**. If needed, you include the printed certificate with the shipment.  

### To print a certificate of supply

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.  
2. Choose the relevant sales shipment to a customer in another EU country/region.  
3. Choose the **Print Certificate of Supply** action.  

> [!NOTE]  
> Alternatively, you can print a certificate from the **Certificate of Supply** page.  

4. To include information from the lines on the shipment document in the certificate, turn on the **Print Line Details** toggle.  
5. To have [!INCLUDE[prod_short](includes/prod_short.md)] create certificates for posted shipments that didn't have one, turn on the **Create Certificates of Supply if Not Already Created** toggle. When you turn on the toggle, new certificates are created for all posted shipments that don't have certificates within the selected range.  
6. By default, the filter settings are for the shipment document that you selected. Fill in the filter information to select a specific certificate of supply that you want to print.  
7. On the **Certificate of Supply** page, choose the **Print** action to print the report, or choose the **Preview** action to view it on the screen.  

   > [!Note]  
   > The **Certificate of Supply Status** field and the **Printed** field are updated for the shipment on the **Certificates of Supply** page.  

8. Send the printed certificate of supply to the customer for signature.  

### To update the status of a certificate of supply for a shipment  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Posted Sales Shipments**, and then choose the related link.  
2. Choose the relevant sales shipment to a customer in another EU country/region.  
3. In the **Status** field, choose the relevant option.  

   If the customer returned the signed certificate of supply, choose **Received**. The **Receipt Date** field is updated. By default, the receipt date is set to the current work date.  

   You can modify the date to reflect the date that you received the customer's signed certificate of supply. You can also add a link to the signed certificate using standard [!INCLUDE[prod_short](includes/prod_short.md)] linking.  

   If the customer doesn't return the signed certificate of supply, choose **Not Received**. You must then send the customer a new invoice that includes VAT, because the tax authority won't accept the original invoice.  

To view a group of certificates, start from the **Certificates of Supply** page, and then update the information about the status of outstanding certificates as you receive them from your customers. The updated information can be useful when you want to search for all certificates that have a certain status, for example, **Required**, for which you want to update their status to **Not Received**.  

### To update the status of a group of certificates of supply  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Certificates of Supply**, and choose the related link.  
2. Filter the **Status** field to the value that you want in order to create the list of certificates that you want to manage.  
3. To update the status information, choose **Edit List**.  
4. In the **Status** field, choose the relevant option.  

   If the customer returned the signed certificate of supply, choose **Received**. The **Receipt Date** field is updated. By default, the receipt date is set to the current work date.  

   You can modify the date to reflect the date that you received the signed the certificate of supply. You can also add a link to the signed certificate using standard [!INCLUDE[prod_short](includes/prod_short.md)] document linking.  

> [!NOTE]
> You cannot create a new certificate of supply on the **Certificate of Supply** page when you navigate to it using this procedure. To create a certificate for a shipment that was not set up to require one, open the posted sales shipment, and use either of two procedures described earlier:  
>
> * To manually create a certificate of supply certificate  
> * To print a certificate of supply.

## Related information

[Setting Up Calculations and Posting Methods for Value-Added Tax](finance-setup-vat.md)  
[Report VAT to a Tax Authority](finance-how-report-vat.md)  
[Validate a VAT Registration Number](finance-how-validate-vat-registration-number.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-personalization-stored
---
title: Where is personalization stored?
description: Learn which UI adjustments are automatically saved and roam with you across devices and browsers, while others only affect your current browser.
author: mikebc
ms.author: mikebc
ms.reviewer: jswymer
ms.topic: conceptual
ms.custom: bap-template 
ms.date: 02/14/2025
---
# Where is personalization stored?

When you interact with the Business Central web client to optimize your workspace, some user interface (UI) adjustments are automatically saved and roam with you across devices and browsers. Others are local and only affect your current browser.

- *Roaming personalization* is stored in the Business Central service and affects your experience no matter which device or browser you sign in to. Personalizing in one browser or device immediately affects other browsers or devices that you use. Roaming personalization is typically infrequent, more permanent, or time-consuming to recreate. Roaming settings can only be reset by clearing personalization from the Business Central web client.
- *Local personalization* is stored in your browser and only affects your experience when using different browser tabs in that same browser. It doesn't affect your Business Central experience on other devices, browsers, or browser profiles. UI adjustments that are saved locally are typically those adjustments that users frequently do and redo as they work in Business Central.  

  > [!NOTE]
  > If you delete the browsing data in your browser, specifically cookies and site data, you also delete any local personalization that you've done. To avoid deleting local personalization, make sure that the browser isn't set up to clear cookies and site data every time you close the browser. For example, in Microsoft Edge, you turn off the **Cookies and other site data** toggle in the **Privacy, search, and services** settings. Learn more at [Manage cookies in Microsoft Edge](https://support.microsoft.com/windows/manage-cookies-in-microsoft-edge-view-allow-block-delete-and-use-168dab11-0753-043d-7c16-ede5947fc64d#bkmk_deletecookieseverytimeyouclosethebrowser) or consult the documentation for your browser.

## Roaming versus local UI adjustments

The following table indicates which UI adjustments are roaming, local, or both. An \* indicates that the roaming personalization can be made without entering the personalization mode.  

|UI element|Options|Roaming|Local|
|-|-|:-:|:-:|
|Fields|Reorder or move to another group|X||
||Hide or show|X||
||Add or remove|X||
||Lock or unlock editing|X||
||Exclude or include in Quick Entry|X||
||Show when collapsed or show under **Show more**|X||
|Columns|Hide or show|X||
||Reorder |X||
||Resize|X*|X|
||Set freeze pane|X||
||Lock or unlock editing |X||
||Exclude or include in Quick Entry|X||
|List views|Add* or remove*|X||
||Hide or show|X*||
||Reorder|X*||
||Rename|X*||
|Cue tiles|Move|X||
||Hide|X||
|Role Center parts|Move|X||
||Hide or show|X||
|Actions|Move|X||
||Hide or show|X||
|Action bar|Hide or show|X||
||Pin or unpin||X|
||Show as menu or as action bar||X|
|Navigation menu|Hide or show link|X||
||Reorder or move to another group|X||
||Pin or unpin||X|
|Lists|Display as rows or tiles||X|
||Show or hide filter pane||X|
||Display in analysis mode||X|
|Hierarchical lists|Expand or collapse hierarchy|X*||
|Page|Show as wide or narrow||X|
||Bookmark the page|X*||
|Other UI|Collapse or expand field section||X|
||Resize, collapse, or expand FactBox pane||X|
||Show FactBox pane attachments or details||X|
||Collapse or expand page inspection pane||X|
||Collapse or expand part on a page||X|
||Show or hide teaching tips|X||

## Related information

[Personalize your workspace](ui-personalization-user.md)  
[Why a Page is Locked from Personalization](ui-personalization-locked.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bi-design-financial-reports
---
title: Design your own financial reports
description: Learn how to structure and design custom financial reports.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 07/11/2024
ms.custom: bap-template
ms.search.keywords: bi, power BI, analysis, KPI, account schedule, financial report
ms.search.form: 108, 490, 790
ms.service: dynamics-365-business-central
---

# Design your own financial reports

You can use financial reporting to create custom reports. For example, if you want more complex reports.

To create a new financial report, choose the **New** action. You can then give the report a name and add a description. Afterward, you can specify default settings for the report, such as:

* **Row Definition**
* **Column Definition**
* **Analysis Views**

## Copy an existing report

To copy an existing report, use the **Copy Financial Report** action. When you choose this option, you can rename the copied report. You can also copy and rename individual row definitions and column definitions.  

## Create your own row definition

To create your own row definition, choose **Edit Row Definition**. To explore existing row definitions, choose the **Name** field. Choose **New**, and give the row definition a name and description.

You now have a blank row definition that you can use to build your new report.  

> [!TIP]
> Take a moment to personalize your screen to show only the **Row No.**, **Description**, **Totaling Type**, **Totaling**, **Row Type**, and **Bold** columns. These columns are recommended as the minimum columns needed for a basic row definition. There are many columns available, which can be used as you become familiar with creating more advanced financial reports in [!INCLUDE [prod_short](includes/prod_short.md)].

When getting started with financial reporting, there are a few choices we recommended in fields. The following table describes the recommended choices.

|Field  |Option  |
|---------|---------|
|Row No.     |Alpha, numeric, or alphanumeric codes are used here to identify rows in formulas.         |
|Description  |Specifies the words to label each row of the report.         |
|Totaling Type    |The **Posting Accounts** and **Formulas** options are often used.         |
|Totaling     | Together with the **Totaling Type** of **Posting Accounts**, maps general ledger accounts to the report, either individually or in ranges.<br><br> Together with **Totaling Type** of the **Formula**, uses row references to the **Row No.** field to do basic addition, subtraction, multiplication, or division.          |
|Row Type     |**Net Change** is used for income statement reports.<br><br>**Balance at Date** is used for balance sheet reports.<br><br>**Beginning Balance** is used for cash flow statements.          |
|Bold     |  Simple formatting to apply to headers, subtotals, and other elements of the report that you want to emphasize.       |

## When to show the opposite sign in rows and columns

Use the **Show Opposite Sign** option to show the opposite sign in a credit balance account, such as revenue, for reports you present to people who aren't accountants.

> [!TIP]
> It's important to remember that you should use the **Show Opposite Sign** option on the posting account line for the account where the sign needs to be flipped. If you use the option on a formula such as gross margin, where both revenue and cost of goods sold are represented, the calculation will be incorrect. Pay extra attention when you use the setting in formulas.

## Create your own column definition

To create your own column definition, choose **Edit Column Definition**. To explore existing definitions, choose the **Name** field. Choose **New**, and give the new column definition a name and a description.

You now have a blank column definition that you can use to build your new report.  

> [!TIP]
> Take a moment to personalize your screen to show only the **Column No.**, **Column Header**, **Column Type**, **Ledger Entry Type**, **Budget Name**, **Formula**, and **Comparison Period Formula** columns. These columns are recommended as the minimum needed for a basic column definition. There are many columns available, which you can use as you become more familiar with creating advanced financial reports.

When getting started with financial reporting, there are a few field choices we recommended. The following table describes the recommendations.

|Field  |Option  |
|---------|---------|
|Column No.     |Alpha, numeric, or alphanumeric codes are used here to identify columns in formulas.         |
|Column Header     |Used to hold the words used to label each column of the report.         |
|Column Type     |The often used options are **Net Change**, **Balance at Date**, and **Formula**.<br><br>**Net Change** is used for income statement reports.<br><br>**Balance at Date** is used for balance sheet reports.<br><br>**Formula** uses row references to Column No. to do basic addition, subtraction, multiplication, and division.          |
|Ledger Entry Type     |Entries are used for general ledger entries.<br><br>**Budget Entries** are used for budget entry comparisons.         |
|Budget Name     |When using budget entries, select the budget to use.         |
|Formula     | Formula uses row references to Column No. to do basic addition, subtraction, multiplication, and division.        |
|Comparison Period Formula     | Holds various period-related formulas that determine the period for the report combined with the date filter.        |

## When to use a comparison period formula and comparison date formula in a column definition

There are two options for column definition comparisons for accounting periods:

* Comparison period formula
* Comparison date formula

Comparison period formula is often used for reports that show monthly, quarterly, or annual accounting periods. In most cases, financial reports use these increments of time.  

Comparison date formula is typically used for reports that show weekly or daily accounting periods. These increments of time are appropriate for operational reporting, such as daily sales or weekly invoicing.

### Column definitions that include budgets

Budgets can be included on any report when included on the column definition. By selecting a ledger entry type of **Budget Entries**, and entering the **Budget Name** for the selected budget, you can easily show comparisons of actual to budget in reports.

## Related information

[Examples of custom financial reports](bi-examples-custom-financial-reports.md)  
[Organize report data using account categories](bi-account-categories.md)  
[Primary capabilities of financial reporting](finance-financial-reporting-capabilities.md)  
[Financial analytics overview](bi.md)   end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/bank-how-setup-bank-statement-service
---
title: Set Up Yodlee Bank Feeds
description: You can convert payment information to any data format that your bank requires and enable the export or import of bank files.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: Yodlee, feed, stream, payment process
ms.search.form: 1280, 1290
ms.date: 03/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Set up the Envestnet Yodlee bank feeds service

You can import electronic bank statements from your bank to quickly fill on the **Payment Reconciliation Journal** page so you can apply payments and reconcile the bank account. For more information, see [Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md).

> [!IMPORTANT]
> Due to the Payment Services Directive in Europe (PSD2), after September 14, 2019, you will no longer be able to automatically import bank statements from banks in the United Kingdom into [!INCLUDE[prod_short](includes/prod_short.md)]. We are looking into the possibility of offering this feature again in the future.

> [!NOTE]
> The Envestnet Yodlee Bank Feeds service is only supported in the online version of Business Central. This functionality is not supported for on-premises versions of [!INCLUDE [prod_short](includes/prod_short.md)], or for [!INCLUDE [prod_short](includes/prod_short.md)] environments hosted on Embed ISV application services. To use this functionality on-premises, you must obtain a co-brand account from Envestnet, and you must add code to integrate with the Yodlee API.
>
> The Envestnet Yodlee Bank Feeds service is only supported in the United States and Canada.
> Only banks residing in these countries/regions are supported, even though banks from other countries/regions may appear in the Envestnet Yodlee Bank Feeds bank selection window in [!INCLUDE[prod_short](includes/prod_short.md)].

> [!IMPORTANT]
> For technical assistance with the Envestnet Yodlee functionality, contact Microsoft Support. Do not contact Envestnet Yodlee. For more information, see [Configuring Technical Support for Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/technical-support).

The Envestnet Yodlee Bank Feeds service is installed as an extension to [!INCLUDE[prod_short](includes/prod_short.md)] online and is ready to be enabled in the supported countries/regions. For more information, see [Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md).

After you enable the bank feed service, you must link a bank account to the online bank account that the feed will come from. You link bank accounts to online bank accounts in the following different scenarios:

* A bank account doesn't exist in [!INCLUDE[prod_short](includes/prod_short.md)] for your online bank account. Therefore, you create the bank account by linking from the online bank account.
* A bank account exists in [!INCLUDE[prod_short](includes/prod_short.md)], which you want to link to an online bank account.
* A linked bank account must be unlinked because you want to stop using the bank feed service for the account.
* Online bank accounts have changed and you want to update the information on bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)].

When the bank feed service is enabled, you can set a bank account up to automatically import new bank statements into the **Payment Reconciliation Journal** page every two hours. Transactions for payments that have already been posted as applied and/or reconciled on the **Payment Reconciliation Journal** page won't be imported. For more information, see the “To enable automatic import of bank statements” section.

> [!NOTE]  
> If you use the Set Up Company assisted setup guide, some of the steps in the following procedures happen automatically when you get to the company bank account setup. For more information, see [Getting Ready for Doing Business](ui-get-ready-business.md).

## To enable the bank feed service

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.
2. Open the bank account that you'll use for the bank feed service.
3. On the **Bank Account Card** page, in the **Bank Statement Import Format** field, select YODLEEBANKFEED.  

The bank feed service is enabled when you link a bank account to its related online bank account. See the next procedure.  

> [!NOTE]
> If you use the **Company Setup** assisted setup guide, then you enable the service by selecting the **Use a bank feed service** check box. For more information, see [Creating New Companies in Business Central](about-new-company.md).

## To create a new linked bank account

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.
2. Select the relevant bank account, and then choose the **Create New Linked Bank Account**. The **Bank Account Linking** page opens after a few moments.

    > [!NOTE]  
    > This page shows the actual web page of the Envestnet Yodlee Bank Feeds service. Terminology and functionality on the page may not match instructions provided in this topic.  
3. On the **Online Bank Account Linking** page, in the **Link Account** pane, use the Search function to find the bank where you have one or more online bank accounts.
4. Choose the bank name. The **Log In** pane opens.
5. Enter the username and password that you use to sign in to the online bank, and then choose the **Next** button.  
6. The bank feed service prepares to link the first online bank account at the specified bank to a new bank account in [!INCLUDE[prod_short](includes/prod_short.md)].

    > [!NOTE]  
    > If you have more than one online bank account at the bank, you must create additional bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)] for them. See steps 8 through 10.  

    After the process completes, the bank name will appear in the **My Accounts** pane on the **Linked** tab. The number in brackets indicates how many online bank accounts were linked.  
7. Choose the **OK** button.

    If you're only linking one online bank account, the **Bank Account Card** page opens and displays the name of the online bank account. In this case, the bank account linking task is completed. All that's left to do is to set up the bank account. For more information, see [Set Up Bank Accounts](bank-how-setup-bank-accounts.md).

    If you're linking more than one online bank accounts, the **Bank Account Linking** page opens and lists the online bank accounts that aren't yet linked to bank accounts in [!INCLUDE[prod_short](includes/prod_short.md)]. In that case, follow the next step.  
8. On the **Bank Account Linking** page, select the line for an online bank account, and then choose the **Link to New Bank Account** action.  

    The **Bank Account Card** page for a new bank account opens and displays the name of the online bank account.

    If a bank account already exists in [!INCLUDE[prod_short](includes/prod_short.md)] that you want to link the additional online bank account to, follow the next step.  
9. On the **Bank Account Linking** page, select the line for an online bank account, and then choose the **Link to Existing Bank Account** action.
10. On the **Bank Account List** page, select the bank account that you want to link to, and then choose the **OK** button.

## To link a bank account to an online bank account

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.
2. Select the line for a bank account that isn't linked to an online bank account, and then choose the **Link to Online Bank Account** action. The **Online Bank Account Linking** page opens with the name of the bank prefilled in the **Link Account** pane.
3. Choose the bank name. The **Log In** pane opens.
4. Enter the username and password that you use to sign in to the online bank, and then choose the **Next** button.  

    The bank feed service prepares to link your bank account in [!INCLUDE[prod_short](includes/prod_short.md)] to the related online bank account.  

    When the process has completed successfully, the bank name will appear in the **My Accounts** pane on the **Linked** tab. If the bank has more than one bank account, only the bank account that you selected in step 2 is linked.  
5. Choose the **OK** button.

On the **Bank Account List** page, the **Linked** check box is selected.

## To edit the credentials for an online bank account

1. Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.  
2. Choose the line for a bank account that is linked to an online bank account, and then choose the **Edit Online Bank Account Information** action.
3. Update the credentials.

## To unlink a bank account

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.  
2. Select the line for a linked bank account that you want to unlink from its related online bank account, and the choose the **Unlink Online Bank Account** action.

> [!NOTE]  
> If you choose **Yes** on the confirmation dialog, the link to the online bank account is removed, and the log-in details are cleared. To link the bank account to the online bank account again, you must log on to the bank again. For more information, see the “To link a bank account to an online bank account“ section.

## To update bank account linking

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.
2. Select the relevant bank account, and then choose the **Update Bank Account Linking** action.

If issues exist for any of the linked bank accounts on the **Bank Account List** page, the **Bank Account Linking** page opens specifying which bank accounts have issues. Issues can best be resolved by unlinking the online bank account and then re-creating the link. For more information, see the “To link a bank account to an online bank account“ section.

## To enable automatic import of bank statements

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Bank Accounts**, and then choose the related link.
2. Select the line for a linked bank account, and then choose the **Automatic Bank Statement Import Setup** action.
3. On the **Automatic Bank Statement Import Setup** page, in the **Number of Days Included** field, specify how far back in time to get new bank transactions for.

    > [!NOTE]  
    > It is recommended that you set this value to 7 days or more.  
4. Select the **Enabled** check box.  

Every hour, the **Payment Reconciliation Journal** page will display new payments that are made on the online bank account.

> [!NOTE]  
> Transactions for payments that have already been posted as applied and/or reconciled on the **Payment Reconciliation Journal** page will not be imported.

## Related information

[Setting Up Banking](bank-setup-banking.md)  
[Reconciling Bank Accounts](bank-manage-bank-accounts.md)  
[Applying Payments Automatically and Reconciling Bank Accounts](receivables-apply-payments-auto-reconcile-bank-accounts.md)  
[Customizing [!INCLUDE[prod_short](includes/prod_short.md)] Using Extensions](ui-extensions.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-review-accounts
---
title: Review general ledger accounts 
description: You can track your progress when you review amounts in general ledger accounts.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.date: 08/06/2024
ms.custom: bap-template
ms.search.form: 20, 22207,
ms.service: dynamics-365-business-central
---

# Review amounts in general ledger accounts

You might have general ledger accounts that you frequently keep an eye on. Or you might want to speed up the review process at the end of the month. For help with keeping track of what you've done, and to speed up reviews, use the **Review Entries** action on the **Chart of Accounts** or the **G/L Account Card** page for each account. 

## Set up accounts for reviews

On the **G/L Account Card** page for each account, specify how to allow reviews in the **Review Policy** field.

|Review Policy  |Description  |
|---------|---------|
|None     | You can't mark entries for the account as reviewed. For example, use this option for accounts such as payables, receivables, and bank accounts where there are other ways to review their amounts.        |
|Allow Review     | You don't have to include entries in a review, and the amounts of the debit and credit entries don't have to balance. You remove a review, for example, if you've made a mistake.        |
|Allow Review and Match Balance     | The total amounts of the debit and credit entries in the review must match. The **Debit** and **Credit** fields show those amounts, and the **Balance** field shows the total. This setting also lets you remove a review. When you remove a review from one or more entries, the debit and credit entries must still balance.        |

## Mark entries as reviewed

Choose the entries you've reviewed, and then use the **Set selected as reviewed** action. Each time you mark one or more entries as reviewed the entries are given the same number in the **Reviewed Identifier** column. The review identifier is a handy way to keep track of the entries that were reviewed at the same time. [!INCLUDE [prod_short](includes/prod_short.md)] also records the user who did the review, and when they did it.

If you mark entries as reviewed, but regret doing so, use the **Set selected as not reviewed** action.

* If the Review allowed policy is assigned to the account, the action resets the reviewed identifier to 0 and removes the person and date and time of the review. 
* If the Review allowed and match balance policy is assigned, the credit and debit must still balance. For example, if one of the entries in a review is a mistake, you can choose another entry with the correct value. The replacement entry doesn't have to have the same reviewed identifier.

> [!TIP]
> A fast way to choose multiple entries is to hold down Ctrl or Shift while you choose the entries. *Ctrl* lets you selects specific entries, and *Shift* selects all entries between the first and last entries you select.

## Review accounts that have old entries

You might have entries from past periods that you've already reviewed or just don't need a review. You just want to start reviewing entries from, for example, the beginning of the year or accounting period. You can leave the entries as is. However, if you want to analyze data in Excel or by using Analysis Mode, mark the entries as reviewed. To learn more about analyzing entries, go to [Analyze entries](#analyze-entries). To mark the entries as reviewed, add a filter on the Filter pane to display only those entries, and then choose the **Mark selected entries as reviewed** action.

## Filter entries

To get a clearer picture, there are several ways to filter entries on the **Review G/L Entries** page.

* Use the **Show Reviewed Entries** and **Hide Reviewed Entries** actions to show only the entries you have or haven't reviewed. To clear the filters, use the **Show all entries** action.
* Use the Filter pane. For example, you might filter by account number or, if you have older entries and want to mark them all as reviewed, by a posting date.

## Analyze entries

There are a couple of ways to analyze the general ledger entries you've reviewed.

* Turn on Analysis Mode, for example, to group entries according to their reviewed identifier. To learn more about Analysis Mode, go to [Analyze List Page Data Using Analysis Mode](analysis-mode.md).
* Export the entries to Excel.

## Related information

[Understand the General Ledger and Chart of Accounts](finance-general-ledger.md)    
[Set Up or Change the Chart of Accounts](finance-setup-chart-accounts.md)    
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-to-create-blanket-sales-orders
---
title: Work with blanket sales orders or purchase orders
description: Use blanket orders when a customer has agreed to buy large quantities that are to be delivered in several smaller shipments over a certain period of time. The same applies to purchasing.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.form: 507, 509, 6620, 6622, 6623, 9303, 9310
ms.date: 03/20/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Work with blanket sales orders or blanket purchase orders

A blanket sales order represents a framework for a long-term agreement between you and your customer. Similarly, you use blanket purchase orders to manage long-term agreements between you and your vendor.

A blanket order is typically made when a customer has committed to purchasing large quantities that are to be delivered in several smaller shipments over a certain period of time. Often blanket orders cover only one item with predetermined delivery dates. The main reason for using a blanket order rather than a sales order is that quantities entered on a blanket order don't affect item availability and thus can be used as a worksheet for monitoring, forecasting, and planning purposes.

On the blanket order, each separate shipment can be set up as an order line, which can then be converted into a sales order at the time of shipping.

An example of when a blanket sales order could be used is if a customer calls and places an order of 1000 units of an item and they want the items to be delivered in 250 units every week over the next month.

> [!NOTE]
> Blanket purchase orders work in a similar way as blanket sales orders. This documentation covers blanket sales orders only.

## To create a blanket sales order

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Blanket Sales Orders**, and then choose the related link.  
2. Choose the **New** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. Leave the **Order Date** field blank. When the separate sales orders are created from the blanket order, the order date of the sales order is set to equal the actual work date.
5. On the **Lines** FastTab, create separate lines for each shipment. For instance, if your customer wants 1000 units split out equally between four weeks, you would enter four separate lines of 250 units each.  

## To create a sales order from a blanket sales order  

1. To create an order for any of the lines in the blanket sales order, remove the quantity in the **Qty. to Ship** field on all the lines that you don't wish to ship at this time.  
2. When you're ready to create orders, choose the **Make Order** action, and then choose **Yes**. A message appears informing you that the blanket order has been assigned an order number. Note that the blanket order hasn't been deleted.  
3. Choose the **OK** button.  
4. To see the results of the preceding steps, choose the **Line** action, choose the **Unposted Lines** action, and then choose the **Orders** action.  
5. On the **Sales Lines** page, select the appropriate sales order, choose the **Line** action, and then choose the **Show Document** action.  

The following applies to sales orders after they have been created from blanket sales orders:  

- After the blanket order is converted into a sales order, the sales order contains all the lines from the blanket order. The lines where the quantity in the **Qty. to Ship** field was deleted appear, but with blank **Quantity** fields. You may choose to leave, edit, or delete the lines.  
- It's important to remember that the sales order line quantity must not exceed the quantity of the associated blanket order line. Otherwise, posting of the sales order won't be possible.  
- When the sales order is posted as shipped and/or invoiced, the **Quantity Shipped** and **Quantity Invoiced** fields are updated on the related blanket order.  
- The blanket order number and line number are recorded as properties of the sales lines when created from a blanket order.  
- When sales orders aren't created directly from the blanket order but still relate to it, a link between a sales order and a blanket order can be established by entering the associated blanket order number in the **Blanket Order No.** field on the sales order line.  
- After the sales order has been created for the total quantity of a blanket order line, no other sales order can be created for the same line. Users are prevented from entering a quantity in the **Qty. to Ship** field. If, however, additional quantities need to be added to a blanket order, the value in the **Quantity** field can be increased and additional orders can then be created.  
- The invoiced blanket sales order remains in the system until it's deleted, either by deleting individual blanket orders or by running the **Delete Invoiced Blanket Sales Orders** batch job.  
- If a customer is also recorded as a contact in the Marketing application area, and if you have specified an interaction template code for blanket sales order on the **Marketing Setup** page, an interaction is recorded in the Interaction Log Entry table when you select **Print** to print the blanket sales order.

## To view the status of a blanket sales order

You can see the status of a blanket sales order on the **Sales Blanket Order Statistics** page. This might be relevant when you start to invoice the order that is created from the blanket sales order.  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Blanket Sales Orders**, and then choose the related link.  
2.  Select a blanket sales order, and then choose the **Statistics** action.  
3.  On the **Sales Blanket Order Statistics** page, on the **General** FastTab, you can see summary information about the entire order based on the total quantity in the various **Quantity fields** on the blanket sales order lines.  

- On the **Invoicing** FastTab, you can see summary information based on the total quantity in the **Qty. to Invoice** fields on the sales blanket order lines.  
- On the **Shipping** FastTab, you can see summary information based on the total quantity in the **Qty. to Receive** fields on the sales blanket order lines.  
- On the **Prepayment** FastTab, you can see summary information about any prepaid amounts.  
- On the **Vendor** FastTab, you can see certain basic information about the vendor.

## To view unposted and posted blanket sales order lines

The link between the blanket sales order and the originating sales order, and any other sales document, is retained after posting as a list of posted and unposted sales order invoice lines.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon enter **Blanket Sales Orders**, and then choose the related link.
2. Open the blanket sales order you want to view.
3. To view unposted entries, select the line in question, choose the **Line** action, and then choose the **Unposted Lines** action. Choose one of the following options.  

|Option|Description|
|--|--|
|**Orders**|Specifies open orders associated with the selected line.|
|**Invoices**|Specifies open invoices that have been associated with the selected line. Open invoices are manually associated with a blanket order by entering the blanket order number on the sales invoice line.|
|**Return Orders**|Specifies open return orders that have been associated with the selected line.|
|**Credit Memos**|Specifies open credit memos that have been associated with the selected line.|

4. To view posted entries, select the line in question, choose the **Line** action, and then choose the **Posted Lines** action. Choose one of the following options.  

|Option|Description|
|---|----|
|**Shipments**|Posted shipments associated with the selected line.|
|**Invoices**|Posted invoices associated with the selected line.|
|**Return Receipts**|Posted return receipts that have been associated with the selected line.|
|**Credit Memos**|Posted credit memos that have been associated with the selected line.|

5. On the **Sales Lines** page, choose the **Show Document** action to view the entry.

## Related information

[Sales](sales-manage-sales.md)  
[Create Blanket Assembly Orders](assembly-how-to-create-blanket-assembly-orders.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/walkthrough-planning-supplies-automatically
---
title: Walkthrough - Planning supplies automatically
description: This walkthrough demonstrates how to use the supply planning system to automatically plan purchase and production orders on different sales orders. 
author: brentholtorf
ms.topic: article
ms.devlang: al
ms.search.keywords:
ms.date: 12/06/2023
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Walkthrough: Planning supplies automatically

<!-- [!INCLUDE[complete_sample_data](includes/complete_sample_data.md)]   -->

Phrases like "run planning" and "run MRP" refer to the calculation of the master production schedule (MPS) and the material requirements plan (MRP) based on actual and forecasted demand.  

-   MPS is the calculation of a master production schedule based on actual demand and the demand forecast. The MPS calculation is used for end items that have a forecast or a sales order line. These items are called "MPS items" and are identified dynamically when the calculation starts.  
-   MRP is the calculation of material requirements based on actual demand for components and the demand forecast on the component level. MRP is calculated only for items that aren't MPS items. The overall purpose of MRP is to provide time-phased formal plans, by item, to supply the right item at the right time, in the right place, in the right quantity.  

 The planning algorithms used for both MPS and MRP are identical. The planning algorithms use netting, reuse of existing supply orders, and action messages. The planning system process examines what is needed or will be needed (demand) and what is available or expected (supply). When these quantities are netted against each other, action messages are displayed in the planning worksheet. Action messages are suggestions to create a new supply order, change a supply order (quantity or date), or cancel an existing supply order. Supply orders can be production orders, purchase orders, and transfer orders. For more information, see [Design Details: Supply Planning](design-details-supply-planning.md).  

 The planning result is calculated partly from the demand-supply sets in the database and partly by the setup of stockkeeping unit cards or item cards, production BOMs, and routings.  

## About this walkthrough  
 This walkthrough demonstrates how to use the supply planning system to automatically plan all the purchase and production orders required to produce 15 touring bicycles demanded on different sales orders. To provide a clear and realistic walkthrough, the number of planning lines is delimited by filtering out all other demand-supply sets in the CRONUS demonstration company except the sales demand at location EAST.  

 This walkthrough illustrates the following tasks:  

-   Creating the sales order and calculating a complete supply plan.  
-   Viewing planning parameters and order tracking entries behind the planning lines.  
-   Automatically creating the suggested supply orders.  
-   Creating new sales demand and replanning accordingly.  

## Roles  

-   Production Planner  
-   Purchasing Agent  

## Prerequisites  
 To complete this walkthrough, you need:  

-   The CRONUS International Ltd. demonstration company.  
-   To change various item setup values by following the steps in the "Preparing Sample Data" section, later in this walkthrough.  

## Story  
 The customer, Cannon Group PLC, orders five touring bikes for shipment on 02-05-2021 (February 5).  

 Eduardo, the production planner, performs the routine supply planning for the first week of February 2021. Eduardo filters on their own location, EAST, and enters a planning interval of the work date (01-23-2021) to 02-07-2021 before calculating an initial supply plan.  

 The only demand that week is for the Cannon Group sales order. Eduardo sees that none of the planning lines have warnings, and proceeds to create supply orders without changes for the suggested planning lines.  

 The next day, before any of the initial supply orders are started or posted, Eduardo is notified when another customer orders ten touring bikes for shipment on 02-12-2021. Eduardo recalculates to adjust the supply plan according to the change of demand. The recalculation gives you a net change plan that suggests changes to both time and quantity of some of the supply orders created in the first run.  

 During the various planning steps, Eduardo looks up the involved orders, and uses the Order Tracking feature to see which demand is covered by which supply.  

## Preparing sample data  
 Create stockkeeping units (SKUs) for the touring bike and a selection of its components, item numbers 1001 to 1300. (Some components are excluded to simplify the procedures.) Adjust the planning parameters of the selected components to provide a more transparent planning result.  

### To create stockkeeping units  

1.  Open the item card for item 1001, Touring Bicycle.  
2.  Choose the **Create Stockkeeping Unit** action.  
3.  On the **Create Stockkeeping Unit** page, leave all options and filters unchanged, and then choose the **OK** button.  
4.  Repeat steps 1 through 3 for all items in the number range between 1100 and 1300.  

### To change selected planning parameters  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Stockkeeping Units**, and then choose the related link.  
2.  Open the EAST stockkeeping unit card for item 1100, Front Wheel.  
3.  On the **Planning** FastTab, fill in the fields as described in the following table.  

    |Reordering Policy|Safety Stock Quantity|Lot Accumulation Period|Rescheduling Period|  
    |-------------------------------------------|-----------------------------------------------|-------------------------------------------------|---------------------------------------------|  
    |Lot-for-Lot|Blank|2W|2W|  

4.  Repeat steps 2 and 3 for all SKUs in the number range between 1100 and 1300.  

 This completes the preparation of sample data for the walkthrough.  

## Creating a regenerative supply plan  
 In reaction to a new sales order for five touring bikes, Ricardo begins the planning process by setting options, filters, and planning interval to exclude all other demand except that of the first week of February at location EAST. Ricardo begins by calculating a master production schedule (MPS), and then proceeds to calculate a complete supply plan for all lower-level demand (MRP).  

### To create the sales order  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Orders**, and then choose the related link.  
2.  Choose the **New** action.  
3.  On the **Sales Order** page, fill in the fields as described in the following table.  

    |Sell-to Customer Name|Shipment Date|Item No.|Location|Quantity|  
    |----------------------------|-------------------|--------------|--------------|--------------|  
    |Cannon Group|02-05-2014|1001|EAST|5|  

4.  Accept the availability warning and choose the **Yes** button to record the new demand quantity.  

### To create a regenerative plan to fulfill demand at location EAST  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
2.  Choose the **Calculate Regenerative Plan** action.  
3.  On the **Calculate Plan - Plan. Wksh.** page, fill in the fields as described in the following table.  

    |Calculate Plan|Starting Date|Ending Date|Show results:|Limit totals to|  
    |--------------------|-------------------|-----------------|-------------------|---------------------|  
    |**MPS** = Yes<br /><br /> **MRP** = No|01-23-2021<br /><br /> (work date)|02-07-2021|1001..1300|Location Filter = EAST|  

4.  Choose the **OK** button to start the planning run.  

     One planning line is created suggesting that a planned production order is issued to produce the ten touring bikes, item 1001, by 02-05-2021, the shipment date of the sales order.  

     Next, verify that this planning line relates to the Cannon Group sales order by using the **Order Tracking** function, which dynamically links demand with its planned supply.  

5.  Select the new planning line, and then choose the **Order Tracking** action.  
6.  On the **Order Tracking** page, choose the **Show** action.  

     The sales order for five touring bikes shipping to customer number 10000 on 02-05-2021 is shown.  

7.  Close the **Sales Order** and **Order Tracking** pages.  

### To calculate MRP to include underlying component needs  

1.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
2.  Choose the **Calculate Regenerative Plan** action.  
3.  On the **Calculate Plan - Plan. Wksh.** page, fill in the fields as described in the following table.  

    |Calculate|Starting Date|Ending Date|Show results:|Limit totals to:|  
    |---------------|-------------------|-----------------|-------------------|----------------------|  
    |**MPS** = Yes<br /><br /> **MRP** = Yes|01-23-2021|02-07-2021|1001..1300|Location Filter = EAST|  

4.  Choose the **OK** button to start the planning run.  

     A total of 14 planning lines are created suggesting supply orders for all the demand that the touring bike sales order at EAST location represents.  

## Analyze the planning result  
 To analyze the suggested quantities, Eduardo drills down on selected planning lines to view order tracking entries and planning parameters.  

 On the **Planning Worksheet** page, note in the **Due Date** column that the suggested supply orders are scheduled backward from the due date of the sales order, 02-05-2021. The timeline begins on the top planning line with the production order to produce the finished touring bikes. The timeline ends on the bottom planning line with the purchase order for one of the lowest-level items, 1255, Socket Back, due on 01-30-2021. Like the planning line for item 1251, Axle Back Wheel, this line represents a purchase order for components that are due on the starting date of its produced parent, subassembly item 1250, which in turn is due on 02-03-2014. Throughout the worksheet, you can see that all underlying items are due on the starting date of their parents.  

 The planning line for item 1300, Chain Assy, suggests ten pieces. This deviates from the five pieces that we expect to need to fulfill the sales order. Proceed to view the order tracking entries.  

### To view order tracking entries for item 1300  

1.  Select the planning line for item 1300, and then choose the **Order Tracking** action.  

     The two lines on the **Order Tracking** page show that five pieces are tracked from the planning line (first order tracking line) to sales order 1001 (second order tracking line). The last five pieces suggested on the planning line aren't related to any document lines, but to a planning parameter, forecast entry, or blanket order entry. Such untracked quantities are summed in the **Untracked Quantity** field in the header of the **Order Tracking** page.  

2.  Choose the **Untracked Quantity** field.  

     The **Untracked Planning Elements** page shows that item 1300 uses a planning parameter, Minimum Order Quantity, of 10.00. Therefore, the planning line is for ten pieces in total, of which only five can be tracked to a demand. The last five pieces are an untracked quantity to satisfy the planning parameter. Proceed to review the planning parameter.  

### To check the planning parameter  

1.  On the **Untracked Planning Elements** page, select the order tracking line for item 1300.  
2.  Choose the **Item No.** field, and then choose the **Advanced** action.  
3.  On the **Item List** page, choose the **Stockkeeping Units** action.  
4.  On the **Stockkeeping Unit List** page, open the EAST stockkeeping unit card.  
5.  On the **Planning** FastTab, note that the **Minimum Order Quantity** field contains 10.  
6.  Close all pages except the **Planning Worksheet** page.  

### To view more order tracking entries  

1.  Select the planning line for item 1110, Rim, and then choose the **Order Tracking** action.  

     The **Order Tracking** page shows that five rims are needed for each production order for front and back wheels respectively.  

     The same order tracking applies to the planning lines for items 1120, 1160, and 1170. For item 1120, the **Quantity per** field on the production BOM of each wheel item is 50 PCS, which results in a total need of 100.  

     The planning line for item 1150 for six pieces looks irregular. Proceed to analyze.  

2.  Select the planning line for item 1150, and then, on then choose the **Order Tracking** action.  

     The **Order Tracking** page shows that five units are tracked to the front wheel, and one unit is untracked. Proceed to view the untracked quantity.  

3.  Choose the **Untracked Quantity** field.  

     The **Untracked Planning Elements** page shows that item 1150 uses a planning parameter, Order Multiple, of 2.00, which specifies that when the item is ordered, it must be in a quantity that is divisible by 2. The closest number to 5 that is divisible by 2 is 6.  

     The same order tracking applies to the planning lines for the Front Hub components, items 1151 and 1155, except that each need is multiplied by the scrap percentage that is defined for item 1150 in the **Scrap Percentage** field on the item card.  

 This completes the analysis of the initial supply plan. Notice that the **Accept Action Message** check box is selected in all planning lines indicating that they're ready to be converted to supply orders.  

## Carrying out action messages  
 Next, Eduardo converts the suggested planning lines to supply orders by using the **Carry Out Action Msg.** function.  

### To automatically create the suggested supply orders  

1.  Select the **Accept Action Message** check box on all planning lines with a warning of type Exception.  
2.  Choose the **Carry Out Action Message** action.  
3.  On the **Carry Out Action Msg.-Plan.** page, fill in the fields as described in the following table.  

    |Production Order|Purchase Order|Transfer Order|  
    |----------------------|--------------------|--------------------|  
    |Firm Planned|Make Purch. Orders|Make Trans. Orders|  

4.  Choose the **OK** button to automatically create all the suggested supply orders.  
5.  Close the empty **Planning Worksheet** page.  

 This completes the initial calculation, analysis, and creation of a supply plan for demand at location EAST in the first week of February. In the following section, another customer orders ten touring bikes, and Eduardo must replan.  

## Creating a net change plan  
 The next day, before any supply orders are started or posted, a new sales order arrives from Libros S.A. for ten touring bikes to be shipped on 02-12-2021. Eduardo is notified of the new demand, and proceeds to replan in order to adjust the current supply plan. Eduardo uses the Net Change Plan function to calculate only the changes that are made to demand or supply since the last planning run. In addition, Eduardo expands the planning period to 02-14-2021 to include the new sales demand on 02-12-2014.  

 The planning system calculates the best way to cover the demand for these two identical products, such as to consolidate some purchase and production orders, reschedule other orders, and create new orders where it's required.  

### To create the new sales, demand and replan accordingly  

1.  Choose the **New** action.  
2.  On the **Sales Order** page, fill in the fields as described in the following table.  

    |Sell-to Customer Name|Shipment Date|Item No.|Location|Quantity|  
    |----------------------------|-------------------|--------------|--------------|--------------|  
    |Libros S.A.|02-12-2021|1001|EAST|10|  

3.  Accept the availability warning and choose the **Yes** button to record the demand quantity.  
4.  Proceed to replan to adjust the current supply plan.  
5.  Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheet**, and then choose the related link.  
6.  Choose the **Calculate Net Change Plan** action.  
7.  On the **Calculate Plan - Plan. Wksh.** page, fill in the fields as described in the following table.  

    |Calculate Plan|Starting Date|Ending Date|Show results:|Limit totals to|  
    |--------------------|-------------------|-----------------|-------------------|---------------------|  
    |**MPS** = Yes<br /><br /> **MRP** = Yes|01-23-2021|02-14-2021|1001..1300|Location Filter = EAST|  

8.  Choose the **OK** button to start the planning run.  

 A total of 14 planning lines are created. Notice in the first planning line that the **Action Message** field contains **New**, the **Quantity** field 10, and the **Due Date** field 02-12-21. This new line for the top parent item, 1001, Touring Bike, is created because the item uses a reordering policy of **Order**, which means that it must be supplied in a one-to-one relationship to its demand, the sales order of ten pieces.  

 The next two planning lines are the production orders for touring bike wheels. Each existing order of five, in the **Original Quantity** field, is increased to 15, in the **Quantity** field. Both production orders have unchanged due dates, as indicated in the **Action Message** field that contains **Change Qty.** This is also the case for the planning line for item 1300, except its order multiple of 10.00 rounds the tracked demand for 15 pieces up to the 20.  

 All other planning lines have an action message of **Resched. & Chg. Qty.**. This means that apart from being increased in quantity, the due dates are moved in relation to the supply plan to include the extra quantity in the available production time (capacity). Purchased components are rescheduled and increased to supply the production orders. Proceed to analyze the new plan.  

## Analyze the changed planning result  
 Because all lot-for-lot-planned items within the filter, 1100 to 1300, have a rescheduling period of two weeks, their existing supply orders are all modified to meet the new demand, which occurs within the specified two weeks.  

 Several planning lines are multiplied by three to provide 15 touring bikes instead of 5, and the due dates are moved back in time to provide the increased quantities by the shipment date of the sales order to the Cannon Group. For these planning lines, all quantities can be tracked. The remaining planning lines are increased by ten pieces in addition to moving their due dates. For these planning lines, a part of the quantities are untracked due to different planning parameters. Proceed to view some of these order tracking entries.  

### To view order tracking entries for item 1250  

1.  Select the planning line for item 1250, and then choose the **Order Tracking** action.  

     The seven lines on the **Order Tracking** page show that five and ten pieces are tracked through the back wheel to the touring bikes on the two sales orders respectively.  

     The last five pieces are untracked. Proceed to analyze.  

2.  Choose the **Untracked Quantity** field.  

     The **Untracked Planning Elements** page shows that item 1250 uses a planning parameter, Order Multiple, of 10.00. Therefore, the planning line is for 20 pieces in total to round the actual need up to the nearest number divisible by 10. The last five pieces are an untracked quantity to satisfy the planning parameter.  

3.  Close all pages except the **Planning Worksheet** page.  

### To view an existing order  

1.  In the planning line for item 1250, choose the **Ref. Order No.** field.  
2.  On the **Firm Planned Prod. Order** page for the Back Hub. The existing order for ten pieces, which you created in the first planning run, opens.  
3.  Close the firm planned production order.  

 This completes the walkthrough of how the planning system is used to automatically detect demand, calculate the appropriate supply orders according to demand and planning parameters, and then automatically create different types of supply orders with the appropriate dates and quantities.  

## Related information  
 [Business Process Walkthroughs](walkthrough-business-process-walkthroughs.md)   
<!--  [Walkthrough: Planning Supplies Manually](walkthrough-planning-supplies-manually.md)    -->
 [Design Details: Supply Planning](design-details-supply-planning.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-post-sales
---
title: Posting sales documents
description: Learn about the different posting functions to post sales documents, and how you can update posted documents.
author: brentholtorf
ms.topic: concept-article
ms.devlang: al
ms.reviewer: bholtorf
ms.search.form: 130, 142, 1350
ms.date: 02/13/2024
ms.author: bholtorf

ms.service: dynamics-365-business-central
---
# Posting sales

Under the **Posting** menu in a sales document, you can choose between the following posting functions:

* **Post**
* **Post and New**
* **Post and Send**
* **Preview Posting**
* **Post Batch**
* **Test Report**

> [!NOTE]
> For sales orders, you can also see options related to the prepayments functionality. For more information, see [Invoicing Prepayments](finance-invoice-prepayments.md).

When you have completed all the lines and entered all the information on the sales order, you can post it. This creates a shipment and an invoice.

When a sales order is posted, the customer's account, the general ledger, and the item ledger entries are updated.

For each sales order, a sales entry is created in the **G/L Entry** table. An entry is also created in the customer's account in the **Cust. Ledger Entry** table and a general ledger entry is created in the relevant receivables account. In addition, posting the order might result in a VAT entry and a general ledger entry for the discount amount. Whether an entry for the discount is posted depends on the contents of the **Discount Posting** field on the **Sales & Receivables Setup** page.

For each sales order line, an item ledger entry will be created in the **Item Ledger Entry** table (if the sales lines contain item numbers) or a general ledger entry will be created in the **G/L Entry** table (if the sales lines contain a general ledger account). In addition to this, sales orders are always recorded in the **Sales Shipment Header** and **Sales Invoice Header** tables.

[!INCLUDE [order-ship-invoice](includes/order-ship-invoice.md)]

You can either post, or post and send. If you choose to post and send, a PDF file is generated that you can then send. You can also choose the **Post Batch** function, which lets you post several orders at the same time. For more information, see [Post Multiple Documents at the Same Time](ui-batch-posting.md).

## Viewing ledger entries

When the posting is completed, the posted sales lines are removed from the order. A message tells you when the posting is completed. After this, you'll be able to see the posted entries in the various pages that contain posted entries, such as the **Cust. Ledger Entries**, **G/L Entries**, **Item Ledger Entries**, **Posted Sales Shipments**, and **Posted Sales Invoices** pages.  

In most cases, you can open ledger entries from the affected card or document. For example, on the **Customer Card** page, choose the **Ledger Entries** action.

## Editing ledger entries

You can edit certain fields on posted purchase documents, such as the **Package Tracking No.** field. For more information, see [Edit Posted Documents](across-edit-posted-document.md). For more critical fields that affect the auditing trail, you must reverse or undo posting. For more information, see [Reverse Journal Postings and Undo Receipts/Shipments](finance-how-reverse-journal-posting.md).

## Related information

[Sales](sales-manage-sales.md)  
[Post Multiple Documents at the Same Time](ui-batch-posting.md)  
[Edit Posted Documents](across-edit-posted-document.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Correct or Cancel Unpaid Sales Invoices](sales-how-correct-cancel-sales-invoice.md)  
[Finding Pages and Information with Tell Me](ui-search.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-powerbi-project-invoiced-sales-by-type
---
title: Project Invoiced Sales by Type (Power BI report)
description: The Project Invoiced Sales by Type report describes your sales activities based on each project and each type of sales line.
author: kennienp
ms.author: kepontop
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 37038_Primary
ms.date: 10/28/2024
ms.service: dynamics-365-business-central
---

# Project Invoiced Sales by Type (Power BI Report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Project Invoiced Sales by Type** report breaks down your sales by each type of sales line, covering resources, items, and general ledger accounts. Use this report to track each different type and see how they're performing.

:::image type="content" source="media/projects/project-invoiced-sales-by-type.png" alt-text="Screenshot of the Project Invoiced Sales by Type Power BI Report" lightbox="media/projects/project-invoiced-sales-by-type.png":::

## Use the report

Project managers use the report to track the different type of sales entries. You can see how you charge for the different resources per project. Additionally, you can measure values for items and G/L accounts related to the project.

## Key Performance Indicators (KPIs)

The *Project Invoiced Sales by Type* report includes the following KPIs:

- [**% Invoiced**](projects-powerbi-kpis.md#-invoiced)
- [**Quantity**](projects-powerbi-kpis.md#quantity)
- [**Billable (Invoiced Price)**](projects-powerbi-kpis.md#billable-invoiced-price)
- [**Billable (Total Price)**](projects-powerbi-kpis.md#billable-total-price)
- [**Actual (Total Price)**](projects-powerbi-kpis.md#actual-total-price)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]


## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- Project
- Project Ledger Entries

## Try the report

Try the report here: [Project Invoiced Sales by Type](https://businesscentral.dynamics.com?page=37038)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Projects app](projects-powerbi-app.md)  
[Built-in Projects reports](project-reports.md)  
[Project management analytics overview](projects-analytics-overview.md)  
[Project management overview](projects-manage-projects.md)  
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/ui-how-run-batch-jobs
---
title: Run Batch Jobs and XMLports
description: You run batch jobs to process data and update information, for example, to do periodic accounting activities, or to do calculations.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: task, process
ms.search.form: 672, 676, 682
ms.date: 04/01/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Run Batch Jobs and XMLports

A batch job is a routine that processes data in batches, for example the **Adjust Exchange Rates** batch job. There are batch jobs that perform periodic accounting activities, such as closing the income statement at the end of a fiscal year. Many batch jobs do calculation work, such as calculation of finance charges, exchange rate adjustment, and calculation of unit prices.

A batch job is like a report, except the batch job uses the result of its work to update information directly, instead of printing the results.

You can schedule when a batch job runs. For more information, see [Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md).

## To run a batch job
1. To open the request page for the relevant batch job, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter the name of the batch job, and then choose the related link.
2. If there is an **Options** FastTab for the batch job, fill in the fields to determine what the batch job will do.
3. The page may contain one or more FastTab with filters, which you can use to limit the data included in the batch job. You can enter criteria in the suggested filters or add more filters.
4. Choose the **OK** button to start the batch job.

## Related information
[Sorting, Searching, and Filtering Lists](ui-enter-criteria-filters.md)  
[Use Job Queues to Schedule Tasks](admin-job-queues-schedule-tasks.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-reports
---
title: Sales report overview
description: See which sales reports and analytics are available in the standard version of Business Central so that you can keep track of your business.
author: brentholtorf
ms.topic: concept-article
ms.search.keywords: reporting
ms.search.form: Report_107, Report_108, Report_111, Report_112, Report_113, Report_119, Report_121, Report_129, Report_209, Report_708, Report_713, Report_718, Report_813, Report_7313
ms.date: 05/19/2025
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
ms.custom: bap-template
---

# Sales reports in Business Central

[!INCLUDE [prod_short](includes/prod_short.md)] includes several built-in reports to help sales organizations report on their data.

## Explore sales reports with Report Explorer

[!INCLUDE [sales_reports_report_explorer](includes/sales-reports-report-explorer-include.md)]

## Sales report overview

[!INCLUDE [sales_reports](includes/sales-reports-include.md)]

## Related information

[Ad-hoc analysis of sales data](ad-hoc-analysis-sales.md)  
[Power BI sales app](sales-powerbi-app.md)  
[Sales analytics overview](sales-analytics-overview.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Sales overview](sales-manage-sales.md)  
[Reserve Items](inventory-how-to-reserve-items.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-how-to-assemble-items
---
title: Assemble Items
description: Learn about assemble-to-order and assemble-to-stock processes in Business Central.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: how-to
ms.date: 11/23/2022
ms.search.keywords: kit, kitting
ms.search.form: 900, 901, 902, 903, 904, 907, 910, 916, 920, 921, 922, 923, 940, 941, 942, 930, 931, 932, 914, 915, 905
ms.custom: bap-template
---
# Assemble Items

If the **Replenishment System** field on the item card contains **Assembly**, the default method of supplying the item is to assemble it according to an assembly BOM, and potentially by a specific resource. Learn more at [Work with Assembly BOMs](assembly-how-work-assembly-boms.md). Learn more about how to set up an assembly item at [Understanding Assemble to Order and Assemble to Stock](assembly-assemble-to-order-or-assemble-to-stock.md).

You can set up assembly items for two assembly processes.

|Process  |Description  |
|---------|---------|
|Assemble to stock     | Items that you assemble and stock for future sales. For example, kits for an upcoming sales campaign. The items aren't related to a sales order, at least not yet. Typically, these items aren't customized for customer requests.        |
|Assemble to order     | Items that you don't want to stock. For example, because they're customized based on customer orders or to reduce the cost of on-hand inventory. |
  
This article describes the standard settings for assemble to stock. There might be other ways that are more suited for your business though. Learn more at [Sell Inventory Items in Assemble-to-Order Flows](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md) and [Sell Assemble-to-Order Items and Inventory Items Together](assembly-how-to-sell-assemble-to-order-items-and-inventory-items-together.md).

> [!NOTE]  
> Assembly components are handled in a special way in basic warehouse configurations. Learn more at [Handling Assemble-to-Order Items with Inventory Picks](warehouse-how-to-pick-items-with-inventory-picks.md#handling-assemble-to-order-items-with-inventory-picks).

## To assemble an item to stock

Follow the steps in this procedure to assemble an item to stock. To learn about assemble to order, go to [Sell Items Assembled to Order](assembly-how-to-sell-items-assembled-to-order.md).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assembly Orders**, and then choose the related link.  
2. Choose the **New** action. The **New Assembly Order** page opens.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
4. In the **Item No.** field, select the item that you want to assemble. You can select items that are set up for assembly and have an assembly BOM, or items without an assembly BOM. The latter is useful for unplanned assemblies or scenarios when you want to use item reclassification and track costs.  
5. In the **Quantity** field, enter how many units of the item that you want assembled.  

    > [!NOTE]  
    >  If one or more components are not available to fulfill quantity on the due date, the **Assembly Availability** page opens. The page shows how many assembly items can be assembled based on component availability. Learn more at [View the Availability of Items](inventory-how-availability-overview.md). When you close the page, the assembly order is created with availability alerts on the lines for the affected components.  

    The lines contain the contents of the assembly BOM and the specified quantities.  

    > [!NOTE]  
    >  If the **Assembly Availability** page opened when you filled in the assembly order header, each affected assembly order line contains a **Yes** in the **Avail. Warning** field with a link to detailed availability information. <!--check whether this field help is useful For more information, see Check Availability.--> You can resolve a component availability issue by:

    > * Postponing the starting date.
    > * Replacing the component with another item.
    > * Selecting an available substitution if one is defined.  

6. In the **Quantity to Assemble** field, enter how many units of the assembly item that you want to post as output the next time you post the assembly order. This quantity can be lower than the value in the **Quantity** field to reflect a partial output posting.  

    > [!NOTE]  
    >  To make sure that component consumption posting matches the assembly item output posting, the quantity fields in the assembly order lines automatically adjust to the value that you enter in the **Quantity to Assemble** field.  
7. On assembly order lines of type **Item** or **Resource**, in the **Quantity to Consume** field, specify how many units you want to post as consumed the next time that you post the assembly order.
8. When you are ready to partially or fully post, choose the **Post** action.  

    > [!NOTE]  
    >  If warnings are still present in the assembly order lines, you can't post the order. A message displays the component or components that are not in inventory.  

After posting succeeds, the assembly item is posted as output to the location code and potential bin code that are defined on the assembly order. For manually created assembly orders, the location may be copied from the **Default Location for Orders** setup field. For assemble-to-order flows, the location code may be copied from the sales order line.  

## Related information

[Assembly Management](assembly-assemble-items.md)  
[Work with Assembly BOMs](assembly-how-work-assembly-boms.md)  
[Inventory](inventory-manage-inventory.md)  
[Warehouse Management Overview](design-details-warehouse-management.md)
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-how-manage-many-income-document-records
---
title: Define Which Incoming Docs to See
description: Adjust the default view of incoming documents, such as e-invoices, to improve your overview of processed and unprocessed records.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: electronic document, e-invoice, incoming document, OCR, ecommerce, document exchange, import invoice
ms.date: 06/14/2022
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Manage Many Incoming Document Records

As you create or process incoming document records, the number of lines on the **Incoming Documents** page may grow to an extent where you lose overview. Therefore, you can set incoming document records to *Processed* to remove them from the default view. When you choose the **Show All** action, you can view both processed and unprocessed records.

> [!NOTE]  
> You cannot edit information, attach files, or perform other processes on incoming document records that are set to *Processed*. You must first set it to *Unprocessed*.

The **Processed** check box is automatically selected on incoming document records that have been processed, but you can also select or deselect the check box manually. Depending on your business process, an incoming document record may be processed when a related document has been created for it or a file has been attached.

> [!NOTE]  
> When you open the **Incoming Documents** page with the **My Incoming Documents** action on the Role Center, only unprocessed incoming document records are shown by default. This is referred to in this topic as "the default view".

## To remove incoming document records from the default view

1. On the **Incoming Documents** page, select one or more lines for incoming document records that you want to remove from the default view.
2. Choose the **Set to Processed** action.

    The incoming document records are removed from the default view, and the **Processed** check box is selected on the lines.

> [!NOTE]  
> You can also perform this action for the individual record on the **Incoming Document Card** page.

## To view all incoming document records

1. On the **Incoming Documents** page, choose the **Show All** action.

All incoming document records are displayed, including records where the **Processed** check box isn't selected.

## To add incoming document records to the default view

1. On the **Incoming Documents** page, choose the **Show All** action.
2. Select one or more lines for incoming document records that you want to appear in the default view.
3. Choose the **Set to Unprocessed** action.  

> [!NOTE]  
> You can also perform this action for the individual record on the **Incoming Document Card** page.

## Related information
  
[Create Incoming Document Records](across-how-create-income-document-records.md)
[Create Incoming Document Records Directly from Documents and Entries](across-how-connect-disconnect-income-document-records.md)
[Incoming Documents](across-income-documents.md)  
[Purchasing](purchasing-manage-purchasing.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/sales-how-process-sales-returns-orders
---
title: Process sales return orders
description: Describes how to create a sales return order to process a return, cancellation, or reimbursement for items or services you have been received payment for.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: undo, credit memo, return, order
ms.search.form: 44, 134, 144, 6629, 6630, 6633, 6662, 9302, 9304, Report_6646
ms.date: 03/05/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Process sales return orders  

If you need more control of the sales return process, such as warehouse documents for the item handling, or a better overview when receiving items from multiple sales documents with one sales return, then you can create sales return orders. A sales return order automatically issues the related sales credit memo and other return-related documents, such as a replacement sales order, if needed.

In addition to the original posted sales invoice, you can apply the sales credit memo or sales return order to other sales documents, for example another posted sales invoice because the customer is also returning items delivered with that invoice.

## Create a sales return order based on one or more posted sales documents  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Return Orders**, and then choose the related link.
2. Choose the **New** action.  
3. Fill in the fields on the **General** FastTab as necessary.
4. On the **Lines** FastTab, fill the lines manually, or copy information from other documents to fill the lines automatically:

    - Use the **Get Posted Document Lines to Reverse** function to copy one or more posted document lines from one or more posted documents. This function always exactly reverses the costs from the posted document line. This function is described in the following steps.    
    - Use the **Copy from Document** function to copy an existing document to the return order. Use this function to copy the entire document. It can be either a posted document or a document that isn't yet posted. This function only enables exact cost reversing when the **Exact Cost Reversing Mandatory** check box is selected on the **Sales & Receivables Setup** page.  

5. Choose the **Process** action, then choose the **Get Posted Document Lines to Reverse** action.
6. At the top of the **Posted Sales Document Lines** page, select the **Show Reversible Lines Only** check box if you want to see only lines that have quantities that haven't yet been returned. For example, if a posted sales invoice quantity has already been returned, you might not want to return that quantity on a new sales return document.

    > [!NOTE]  
    >  This field only works for posted shipments and posted invoice lines, not for posted return or posted credit memo lines.

    At the left side of the page, the different document types are listed, and the number in brackets shows the number of documents available of each document type.

7. In the **Document Type Filter** field, select the type of posted document lines you would like to use.  
8. Select the lines that you would like to copy to the new document.  

    > [!NOTE]  
    >  If you use <kbd>Ctrl</kbd>+<kbd>A</kbd> to select all lines, all lines within the filter you have set are copied, but the **Show Reversible Quantity Only** filter is ignored. For example, suppose you have filtered the lines to a particular document number with two lines, one of which has already been returned. Even if the **Show Reversible Quantity Only** field is selected, if you select <kbd>Ctrl</kbd>+<kbd>A</kbd> to copy all lines, both lines are copied, instead of only the one that has not yet been reversed.  

9. Choose the **OK** button to copy the lines to the new document.  

    The following processes occur:  

    -   For posted document lines of the type **Item**, a new document line is created that is a copy of the posted document line, with the quantity that hasn't yet been reversed. The **Appl.-from Item Entry** field is filled in as appropriate with the number of the item ledger entry of the posted document line.  

    -   For posted document lines that aren't of the type **Item**, such as item charges, a new document line is created that is a copy of the original posted document line.  

    -   Calculates the **Unit Cost (LCY)** field on the new line from the costs on the corresponding item ledger entries.  

    -   If the copied document is a posted shipment, posted receipt, posted return receipt, or posted return shipment, the unit price is calculated automatically from the item card.  

    -   If the copied document is a posted invoice or credit memo, the unit price, invoice discounts, and line discounts from the posted document line are copied.  

    -   If the posted document line contains item tracking lines, the **Appl.-from Item Entry** field on the item tracking lines is filled with the appropriate item ledger entry numbers from the posted item tracking lines.  

     When you copy from a posted invoice or posted credit memo, application copies any relevant invoice discounts and line discounts as valid at the time of posting that document from the posted document line to the new document line. Be aware, however, that if the **Calc. Inv. Discount** option is activated on the **Sales & Receivables Setup** page, then the invoice discount will be newly calculated when you post the new document line. The line amount for the new line might therefore be different than the line amount for the posted document line, depending on the new calculation of the invoice discount.  

     > [!NOTE]  
     >  If part of the quantity of the posted document line has already been reversed or sold or consumed, a line is created for only the quantity that remains in inventory or that has not been returned. If the full quantity of the posted document line has already been reversed, a new document line is not created.  
     >   
     >  If the flow of goods in the posted document is the same as the flow of goods in the new document, a copy of the original posted document line in the new document is created. The **Appl.-from Item Entry** field is not filled in because, in this case, exact cost reversing is not possible. For example, if you use the **Get Posted Document Lines to Reverse** function to get a posted sales credit memo line for a new sales credit memo, only the original posted credit memo line is copied to the new credit memo.  

10. On the **Sales Return Order** page, in the **Return Reason Code** field on each line, select the reason for the return.
11. Choose the **post** action.

## To create a replacement sales order from a sales return order
You might decide to compensate a customer for an item that you have sold them by replacing the item. You can make a replacement with the same item or a different item. This situation could occur if you mistakenly shipped the wrong item to the customer, for example.  

1. On the **Sales Return Order** page for an active return process, on an empty line, make a negative entry for the replacement item by inserting a negative amount in the **Quantity** field.  
2. Choose the **Move Negative Lines** action.
3. On the **Move Negative Sales Lines** page, fill in the fields as necessary.
4. Choose the **OK** button. The negative line for the replacement item is deleted from the sales return order and inserted in a new **Sales Order** page. For more information, see [Sell Products](sales-how-sell-products.md).

## To create return-related documents from a sales return order
You can have replacement sales orders, purchase return orders, and replacement purchase orders created automatically during the sales return process. This is useful, for example, in situations where you want to handle items with warranties provided by vendors.

1. On the **Sales Return Order** page for an active return process, choose the **Create Return-Related Documents** action.
2. In the **Vendor No.** field, enter the number of a vendor if you want to create vendor documents automatically.
3. If a returned item must be returned to the vendor, select the **Create Purch. Ret. Order** check box.
4. If a returned item must be ordered from the vendor, select the **Create Purchase Order** check box.
5. If a replacement sales order must be created, select the **Create Sales Order** check box.

## To create a restock charge
You might decide to charge your customer a restock fee to cover the physical handling costs of returning an item. This could occur if the customer mistakenly ordered the wrong item or changed their mind after receiving the item you sold them, for example.

You can post this increased cost as an item charge in a credit memo or a return order and assign it to the posted shipment. The following describes this for a sales return order, but the same steps apply to a sales credit memo.

1. Open the **Sales Return Order** page for an active return process.
2. On a new line, in the **Type** field, select **Charge (Item)**.  
3. Fill in the fields as for any item charge line. For more information, see [Use Item Charges to Account for Additional Trade Costs](payables-how-assign-item-charges.md).  

When you post the sales return order, the restock charge is added to the relevant sales entry amount. In this way, you can maintain accurate inventory valuation.  

## Related information

[Sales](sales-manage-sales.md)  
[Setting Up Sales](sales-setup-sales.md)  
[Managing Payables](payables-manage-payables.md)  
[Send Documents by Email](ui-how-send-documents-email.md)  
[Process Purchase Returns or Cancellations](purchasing-how-process-purchase-returns-cancellations.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/across-search-contacts-teams
---
title: Searching for Contacts from Microsoft Teams 
description: Learn how to look up Business Central customers, vendors, and other contacts from Microsoft Teams.
author: jswymer
ms.topic: get-started
ms.devlang: al
ms.search.keywords: Teams, MS Teams, Microsoft Teams, Skype, Link, Microsoft 365, contacts, search, messaging extensions
ms.date: 08/14/2024
ms.author: jswymer
ms.service: dynamics-365-business-central
ms.reviewer: jswymer
---

# Searching for Customers, Vendors, and Other Contacts from Microsoft Teams

[!INCLUDE [online_only](includes/online_only.md)]. Introduced in 2021 release wave 1.

[!INCLUDE [prod_short](includes/prod_short.md)] has a comprehensive business contact management system that is essential for users in sales, operations, or other departmental roles. If you're a user in one of these roles, you'll often need to look up, meet, or start a conversation with your vendors, customers, and other contacts. With the [!INCLUDE [prod_short](includes/prod_short.md)] app for Teams, you can do these tasks directly from Teams, without having to switch to [!INCLUDE [prod_short](includes/prod_short.md)]. From within Teams, you can:

- Look up [!INCLUDE [prod_short](includes/prod_short.md)] contacts from the Teams command box or from the message compose area. Contacts can include prospects, vendors, customers, or other business relationships.
- Share a contact as a card in a Teams conversation.
- View details about the contact, interaction history, and other insights like outstanding payments or open documents.

## Prerequisites

- You have access to Microsoft Teams.
- You've installed the [!INCLUDE [prod_short](includes/prod_short.md)] app in Teams. Learn more in [Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams](across-install-app-for-teams.md)
- You've got a [!INCLUDE [prod_short](includes/prod_short.md)] account with access to contacts in at least one company.

> [!NOTE]
> Whether you searching from the command box or message compose box, you may be asked to sign in or set up the app the first time. This step is necessary to search for contacts in the right Business Central company. Learn more about setting up the app to choose your company in [Changing Company and Other Settings in Teams](across-teams-settings.md).

## Look up contacts from the command box

The command box is at the top of every screen in Teams. It lets you search, take quick actions, or launch apps, like the [!INCLUDE [prod_short](includes/prod_short.md)] app. Searching from the command box is great for quickly looking up contacts and their related data for your own use. For example, suppose you want to look up an email address of a vendor to set up a calendar meeting. Or maybe you want to look up interaction history during a meeting with a customer.

1. In the command box, type **/Business Central**, then select the Business Central app from the results.

    ![Open Business Central app  to search for contacts from command box.](media/teams-contacts-command-1b.png)

2. In the **Business Central** box, start typing search text, like a name, address, or phone number.

    As you type, matching results will appear.

    ![Search Business Central contacts from command box in Teams.](media/teams-contacts-command-3.png)
3. Select a contact from the results.

    The contact card appears beneath the command box.

4. If you want to add the contact card into a conversation, go to the upper right corner of the card, select **... (More options)** > **Copy**. Then, paste the copy in the message compose box of a conversation.  

Learn more about the Teams command box at [Teams - Use the command box](https://support.microsoft.com/en-us/office/use-the-command-box-13c4e429-7324-4886-b377-5dbed539193b).

## Look up contacts from the message compose box

The advantage of using the message compose box is that you can add a contact card directly to a conversation, for others to see.

1. Next to the message compose box, select **+** and then select **Business Central** from the list to launch the app.

    ![Open Business Central app to search for contacts from message box.](media/teams-contacts-message-box-2.png)

2. In the **Business Central** box, start typing search text, like a name, address, or phone number.

    As you type, matching results will appear.

    ![Search for Business Central contacts from message box.](media/teams-contacts-6.png)
3. Select a contact from the results.

    The contact card appears in the message compose box.

> [!NOTE]
> The contact card isn't sent to the conversation right away for others to see. You have the opportunity to review the contents of the card, and add text before or after it as you like. Then, send your message to the chat when ready.

## Viewing contact card details

The contact card in Teams gives you a quick overview of the customer, vendor, or contact. The card is interactive&mdash;meaning you can view more information or even modify a contact by using the **Details** or **Pop-out** buttons.

The **Details** button opens a window within Teams that displays more information about the contact, but not as much as you'd see in [!INCLUDE [prod_short](includes/prod_short.md)]. To see all the information about a contact in [!INCLUDE [prod_short](includes/prod_short.md)], select **Pop-out**.

The contact card works just like cards for records, like items, customers, or sales orders. Learn more in [View card details](across-working-with-teams.md#view-card-details).

> [!NOTE]
> All participants in a Teams conversation will be able to view cards for Business Central contact that you submit to a conversation. But to view more details about records, by using the **Details** or **Pop out** buttons on a card, they'll need access to [!INCLUDE [prod_short](includes/prod_short.md)]. Learn more in [Managing Microsoft Teams Integration](admin-teams-integration.md#minimum-requirements-1).

## Related information

[Business Central and Microsoft Teams Integration Overview](across-teams-overview.md)  
[Install the [!INCLUDE [prod_short](includes/prod_short.md)] App for Microsoft Teams](across-install-app-for-teams.md)  
[Teams FAQ](teams-faq.md)  
[Changing Company and Other Settings in Teams](across-teams-settings.md)  
[Share Records in Microsoft Teams](across-working-with-teams.md)  
[Troubleshooting Teams](admin-teams-troubleshooting.md)  
[Developing for Teams Integration](/dynamics365/business-central/dev-itpro/developer/devenv-develop-for-teams)  

## [!INCLUDE[prod_short](includes/free_trial_md.md)]  


[!INCLUDE[footer-include](includes/footer-banner.md)]end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/assembly-how-work-assembly-boms
---
title: Work with assembly BOMs
description: You create an assembly BOM to specify the components required to put together the item that the BOM represents.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: assembly bom, bills of material, 
ms.search.form: 36, 5870, 5872, 5874
ms.date: 06/13/2024
ms.service: dynamics-365-business-central

---
# Work with assembly BOMs

You use assembly bills of materials (BOMs) to structure parent items that must be assembled from components with little to no resource use. An assembly BOM can be used, for example, to sell a parent item as a kit consisting of component items.

Use assembly orders to make finished items from components in a process that one or more basic resources can perform, which aren't machine or work centers, or without any resources. For example, an assembly process could be to pick two wine bottles and one coffee sack and pack them as a gift item.  

An assembly BOM is the master data that defines which component items go into an assembled end item and which resources are used to assemble the assembly item. When you enter an assembly item and a quantity on an assembly order, the assembly order lines are filled in according to the assembly BOM. The order has one assembly order line per component or resource. Learn more at [Assembly Management](assembly-assemble-items.md).

[!INCLUDE[prod_short](includes/prod_short.md)] also supports production BOMs. Production BOMs differ from assembly BOMs because they involve more complex procedures, such as resource usage, production routing, and work or machine centers. Learn more about the differences at [Work with Bills of Material](inventory-how-work-BOMs.md) and [Create Production BOMs](production-how-to-create-production-boms.md).

## To create an assembly BOM

To define an item that consists of other items, and perhaps the resources that assemble the item, you must create an assembly BOM.  

Assembly BOMs can have multiple levels, which means that a component on the assembly BOM can be an assembly item itself. In that case, the **Assembly BOM** field on the assembly BOM line contains **Yes**.

Special requirements apply to items on assembly BOMs regarding availability. Learn more at [To see the availability of an item by its use in assembly BOMs](inventory-how-availability-overview.md#to-view-the-availability-of-an-item-by-its-use-in-assembly-or-production-boms).

There are two parts to creating an assembly BOM:

- Setting up a new item.
- Defining the BOM structure of the assembly item.

1. Set up a new item. Learn more at [Register New Items](inventory-how-register-new-items.md).

   Proceed to enter components or resources on the assembly BOM.  
2. On the **Item Card** page for an assembly item, choose the **Assembly** action, then choose the **Assembly BOM** action.
3. On the **Assembly BOM** page, fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

> [!TIP]
> Assembly items can have variants, just like any other item, which helps you keep your list of products shorter. Learn more about the feature at [Manage Product Variants](inventory-item-variants.md).

## To edit assembly BOMs

You can edit the lines on an assembly BOM at any time. However, the BOM might be in use by ongoing sales or assemblies of the parent. Changing the BOM might affect those activities. Choose the **Where-Used** action to explore the items that use it and whether sales or assembly orders might be affected.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, then choose the related link.
2. Choose the **Yes** value in the **Assembly BOM** column.
3. On the **Assembly BOM** page, choose the **Edit List** action, then change any field as needed.

## To view components and resources indented according to the BOM structure

From the **Assembly BOM** page, you can open a separate page that shows the components and any resources indented according to their BOM position under the assembly item.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, then choose the related link.
2. Open the card for an assembly item. (The **Assembly BOM** field on the **Items** page contains **Yes**.)
3. On the **Item Card** page, choose the **Assembly** action, then choose the **Assembly BOM** action.
4. On the **Assembly BOM** page, choose the **Show BOM** action.

## To replace the assembly item with its components on document lines

From any sales and purchase document that contains an assembly item, you can use a special action to replace the line for the assembly item with new lines for its components. This action is useful, for example, if you want to sell the components as a kit that represents the assembly item.

The **Explode BOM** action is also available on the **Assembly BOM** page as a way to view subassembly items on an assembly BOM.

> [!CAUTION]  
> When you have used the **Explode BOM** action, you can't easily undo it. You must delete the sales order lines for the components and then reenter a sales order line for the assembly item.

The following procedure is based on a sales invoice. The same steps apply to other sales documents and all purchase documents.

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales Invoices**, then choose the related link.
2. Open a sales invoice that contains a line for an assembly item.
3. Choose the line for an assembly item, then **Explode BOM** line action.

All fields on the sales invoice line for the assembly item are cleared except for the **Item** and **Description** fields. Complete sales invoice lines are inserted for the components and possible resources that comprise the assembly item.

> [!NOTE]
> The **Picking List by Order** report is also changed to show the components only. This means that a warehouse worker picking the parent item, the assembly item, will not see it in the picking list. Learn more at [Print the Picking List](sales-how-print-picking-list.md).

## To calculate the standard cost of an assembly item

You calculate the unit cost of an assembly item by rolling up the unit cost of each component and resource in the item's assembly BOM.

The unit cost of an assembly BOM always equals the total of the unit costs of its components, including other assembly BOMs, and any resources.  

> [!NOTE]
> [!INCLUDE [bom-standard-cost](includes/bom-standard-cost.md)]

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Items**, then choose the related link.
2. Open the card for an assembly item. (The **Assembly BOM** field on the **Items** page contains **Yes**.)
3. On the **Item Card** page, choose the **Assembly BOM** action.
4. On the **Assembly BOM** page, choose the **Calc. Standard Cost** action.
5. Select one of the following options, then choose the **OK** button.

|Option |Description |
|-------|------------|
|**Top Level**|Calculates the assembly item's standard cost as the total cost of all purchased or assembled items on that assembly BOM regardless of any underlying assembly BOMs.|
|**All Levels**|Calculates the assembly's item standard cost as the sum of:</br></br>* The calculated cost of all underlying assembly BOMs on the assembly BOM.</br>* The cost of all purchased items on the assembly BOM.|

The costs of the items that make up the assembly BOM are copied from the component item cards. The cost of each item is multiplied by the quantity, and the total cost is shown in the **Unit Cost** field on the item card.

You can also calculate and update the standard cost for one or many items on the **Standard Cost Worksheet** page. Learn more at [Update Standard Costs](finance-about-calculating-standard-cost.md#updating-standard-costs-with-standard-cost-worksheet).  

## Related information

[Register New Items](inventory-how-register-new-items.md)  
[Manage Product Variants](inventory-item-variants.md)  
[View the Availability of Items](inventory-how-availability-overview.md)  
[Inventory](inventory-manage-inventory.md)  
[Work with Bills of Material](inventory-how-work-BOMs.md)  
[Create Production BOMs](production-how-to-create-production-boms.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/quick-start-reports-and-documents
---
title: Basic reports and documents output quick start
description: Business Central offers built-in templates for reports and documents, with many customization options to adapt them to your company's needs.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: article
ms.search.keywords: quickstart
ms.search.form: 
ms.date: 05/17/2024
ms.service: dynamics-365-business-central
ms.custom: bap-template
---

# Basic reports and documents output quick start

To adapt [!INCLUDE[prod_short](includes/prod_short.md)] to your company needs, set and use reports and customized documents suited to your business' processes and visual identity.

## Add your company logo to documents

[!INCLUDE[prod_short](includes/prod_short.md)] has templates set to use your company's logo to save you time customizing documents such as invoices, orders, and statements.

1. Choose the ![Sprocket icon to open the Settings menu.](media/ui-experience/settings_icon_small.png) menu, then choose the **Company Information** action.
2. Choose the **Picture** action and then select **Choose**.
3. Select the picture file on your device.

After the image displays in the **Picture** field, you can close the **Company Information** page.

## Run reports

Reports organize information from different sources in [!INCLUDE[prod_short](includes/prod_short.md)] and present it in a readable way that can be easily printed or digitally shared. Reports can be found on the pages they're contextually associated with. For example, the **Items** page lists reports related to inventory levels, purchases, sales, and more.

1. Open the page associated with the requested report, such as the **Items** page.
2. Choose the **Inventory - Top 10 List** report on the **Reports** menu.
3. On the report request page, set filters to narrow down the date range or change the reference unit of measure used in the report.
4. Choose the **Print** action and follow the device's printing steps.
    1. Alternatively, select the **Preview** action to display the report on the screen.

Learn more on filtering data, scheduling reports, and more at [Run and Print Reports](ui-work-report.md).

## Save reports as PDF, Excel, or Word documents

To quickly share reports, you can save [!INCLUDE[prod_short](includes/prod_short.md)] reports directly to PDF, Microsoft Excel, or Microsoft Word documents.

1. Repeat steps 1 to 3 from the [run reports](#run-reports) section above.
2. Choose the **Send to** action.
3. Select the file type, then choose **OK**.
r
The generated report file is automatically saved to your browser's download folder.

### Change report and document layouts

[!INCLUDE[prod_short](includes/prod_short.md)] comes with many built-in layouts for your reports and other generated documents, such as sales invoices. You can use applications like Microsoft Word or Excel to edit the layout templates for documents and reports, as described in the following example:

1. Choose the ![Lightbulb that opens the Tell Me feature 1.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Report Layouts**, then choose the related link.
2. On the **Report Layouts** page, choose the **Search** action to select the *StandardSalesInvoice.docx* layout, then choose the **Export Layout** action to download the layout template file.

    A Word document is saved to your device, with the same filename displayed on the **Report Layouts** page.
3. Open the layout file in Microsoft Word and edit the document, for example, by moving the date field (*DocumentDate*) or your logo, or by changing font sizes, then save the file.
4. Back on the **Report Layouts** page, choose the **New Layout** action.
5. On the **Add New Layout for a Report** page, enter a name and description on the **Layout Name** and **Description** fields, respectively, to make the layout easy to find.
6. Select the **Word** option in the **Format Options** field, then choose **OK**.
7. On the **Choose Word Layout** page, select **Choose** to open the edited layout file on your device.
8. Test the new layout by choosing the **Run Report** action.

Learn more about how to customize reports and documents to your business needs at [Report and Document Layouts](ui-manage-report-layouts.md).

## Related information

[Use Reports in Daily Work](reports-use-reports.md)  
[Available Reports in [!INCLUDE[prod_short](includes/prod_short.md)]](reports-available-reports.md)  
[Document Report Selection](across-report-selections.md)  
[Business Central Quick Starts](quick-start-business-central.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/inventory-responsibility-centers
---
title: How to work with responsibility centers
description: Responsibility center as administrative centers help companies set up user-specific views of sales and purchase documents related exclusively to each center.
author: brentholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords:
ms.search.forms: 5714, 5715
ms.date: 05/16/2024
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# Work with responsibility centers

Responsibility centers provide the ability to handle administrative centers. A responsibility center can be a cost center, a profit center, an investment center, or other company-defined administrative center. Examples of responsibility centers are a sales office, a purchasing department for several locations, and a plant planning office. For example, companies can set up user-specific views of sales and purchase documents related to a particular responsibility center.  

Using multiple locations together with responsibility centers provides the ability to manage business operations in flexible, optimal ways.

Multiple locations allow companies to manage their inventory in multiple locations using one database. Two concepts, locations and stockkeeping units, are the cornerstones of this granule. A location is defined as a place that handles physical placement and quantities of items. The concept is broad enough to include locations such as plants or production facilities and distribution centers, warehouses, showrooms, and service vehicles. A stockkeeping unit is defined as an item at a specific location and/or as a variant. Using stockkeeping units, companies with multiple locations can add replenishment information, addresses, and some financial posting information at the location level. As a result, they can replenish variants of the same item for each location and order items based on location-specific replenishment information.  

## To set up a responsibility center

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Responsibility Centers**, and then choose the related link.  
2. Choose the **New** action.  
3. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  

    If you're using responsibility centers to administer your company, it can be useful to have a default responsibility center.
4. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Company Information**, and then choose the related link.
5. On the **Shipping** FastTab, in the **Responsibility Center** field, enter a responsibility center code.

This code is used on all purchase, sales, or service documents, if the user, customer, or vendor has no default responsibility center. On sales, purchase, or service documents, you can enter another responsibility center than the default.

> [!NOTE]  
> When you enter a responsibility center code on a document, it affects the address, dimensions, and prices on the document.  

## To assign responsibility centers to users

You can set up users so that [!INCLUDE [prod_short](includes/prod_short.md)] retrieves only the documents relevant for their particular work areas. Users are associated with one responsibility center and work only with documents related to specific application areas at that particular center.  

To set this up, you assign responsibility centers to users in three functional areas: Purchases, Sales, and Service Management.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **User Setup**, and then choose the related link.  
2. On the **User Setup** page, select the user you want to assign a responsibility center to. If the user not is on the list, you must enter a user ID in the **User ID** field.  
3. In the **Sales Resp. Ctr. Filter** field, enter the responsibility center where the user will have tasks related to sales.  
4. In the **Purchase Resp. Ctr. Filter** field, enter the responsibility center where the user will have tasks related to purchasing.  
5. In the **Service Resp. Ctr. Filter** field, enter the responsibility center where the user will have tasks related to service management.  

> [!NOTE]  
> Users can view only those posted documents that related to their own responsibility center. However, they can view all ledger entries and navigate to other posted documents from the ledger entries.

## Related information

[Setting Up Inventory](inventory-setup-inventory.md)    
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)    
[Inventory](inventory-manage-inventory.md)    
[Warehouse Management Overview](design-details-warehouse-management.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)    
[Define an invoice posting policy for users](admin-setup-invoice-posting-policy.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-prepare-dynamics-365-for-sales-for-integration
---
title: Integrating with Dynamics 365 Sales
description: Learn how to get Dynamics 365 Business Central ready to integrate with Dynamics 365 Sales.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.search.keywords: sales, crm, integration, integrating
ms.date: 07/02/2024
ms.custom: bap-template
ms.service: dynamics-365-business-central
---
# Integrating with Dynamics 365 Sales

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

The sales person role is often considered as one the most outward-facing jobs in a business. However, it can be helpful for sales people to be able to look inward in the business and know what's happening on the back end. By integrating [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)], you can give your sales people that insight. The integration lets people view information in [!INCLUDE[prod_short](includes/prod_short.md)] while they're working in [!INCLUDE[crm_md](includes/crm_md.md)]. For example, when preparing a sales quote it could be useful to know whether you have enough inventory to fulfill the order. To learn more, go to [Use Dynamics 365 Sales from Business Central](marketing-integrate-dynamicscrm.md).

> [!NOTE]
> This article describes the process of integrating the online versions of [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)] through [!INCLUDE[prod_short](includes/cds_long_md.md)]. To learn more about on-premises configuration, go to [Preparing Dynamics 365 Sales for Integration on-premises](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration).

## Integrate through Dataverse

To make it easy to connect and synchronize data with other Dynamics 365 applications, [!INCLUDE[prod_short](includes/prod_short.md)] also integrates with [!INCLUDE[prod_short](includes/cds_long_md.md)]. For example, you can connect to [!INCLUDE[crm_md](includes/crm_md.md)], or even apps that you build yourself. If you're integrating for the first time, you must do so through [!INCLUDE[prod_short](includes/cds_long_md.md)]. To learn more, go to [Integration with Dataverse](admin-common-data-service.md).

If you already integrated [!INCLUDE[crm_md](includes/crm_md.md)] with [!INCLUDE[prod_short](includes/prod_short.md)], you can continue to synchronize data using your setup. However, if you upgrade or turn off your [!INCLUDE[crm_md](includes/crm_md.md)] integration, to turn it on again you must connect through [!INCLUDE[prod_short](includes/cds_long_md.md)]. To learn more, go to [Upgrading an Integration with Dynamics 365 Sales](admin-upgrade-sales-to-cds.md).

> [!NOTE]
> Reconnecting through [!INCLUDE[prod_short](includes/cds_long_md.md)] applies default synchronization settings, and overwrites any configurations you have. For example, the default table mappings are applied.

## Integration settings that are specific to a [!INCLUDE[crm_md](includes/crm_md.md)] integration

Integration with [!INCLUDE[prod_short](includes/prod_short.md)] happens through [!INCLUDE[prod_short](includes/cds_long_md.md)], and many standard settings and tables are provided. In addition to the standard settings, there are some that are specific to [!INCLUDE[crm_md](includes/crm_md.md)]. The following sections list those settings.

## Permissions and security roles for user accounts in Sales

When you install the Integration Solution, permissions for the integration user account are configured. If those permissions are changed, you might need to reset them. You can do that by reinstalling the Integration Solution by choosing **Redeploy Integration Solution** on the **Dynamics 365 Connection Setup** page. The following security roles are deployed:

* Dynamics 365 Business Central Integration Administrator
* Dynamics 365 Business Central Integration User

> [!NOTE]
> To use the **Open in Business Central** action in Sales, you must have the following privileges for the following tables:
>
> * You must have Read permissions for the Dynamics 365 Business Central Connection (nav_connection) table.
> * You must have Read, Write, and Delete permissions for the Default Dynamics 365 Business Central Connection (nav_defaultconnection) table.

### Connection settings in the setup guide

You can use an assisted setup guide to quickly set up the connection and specify advanced features, such as coupling between records.

1. Choose **Setup and Extensions**, and then choose **Assisted Setup**.
2. Choose **Set up the Dynamics 365 Sales Connection** to start the assisted setup guide.
3. Fill in the fields as necessary.
4. Optionally, there are advanced settings that can enhance security and enable more capabilities. The following table describes the advanced settings.  

| Field | Description |
|--|--|
| **Import Dynamics 365 Sales Solution** | Install and configure the integration solution in [!INCLUDE[crm_md](includes/crm_md.md)]. |
|**Automatically Synchronize Item Availability**|Specifies that the item availability job queue must be scheduled. The job queue runs every 30 minutes, and updates the availability of the coupled items.|
| **Enable Legacy Sales Order Integration** | When people create sales orders in [!INCLUDE[crm_md](includes/crm_md.md)] and fulfill orders in [!INCLUDE[prod_short](includes/prod_short.md)], this setting integrates the process in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Enable sales order processing integration](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration).<br><br>**Note:** You can't use this option if you use the **Bidirectional Synch of Sales Orders** option. The two settings are mutually exclusive. To learn more about this option, go to [Single and bi-directional synchronization of sales orders](#single-and-bi-directional-synchronization-of-sales-orders). |
|**Enable Dynamics 365 Sales Connection** | Enable the connection to [!INCLUDE[crm_md](includes/crm_md.md)]. |
| **Dynamics 365 SDK Version** | This is relevant only if you're integrating with an on-premises version of [!INCLUDE[crm_md](includes/crm_md.md)]. This SDK is the Dynamics 365 software development kit (also referred to as Xrm) you use to connect [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]. The version must be compatible with the SDK version that is used by [!INCLUDE[crm_md](includes/crm_md.md)], and equal to or newer than the version used by [!INCLUDE[crm_md](includes/crm_md.md)]. |
|**Bidirectional Synch of Sales Orders**|Synchronize sales orders in both directions. To learn more about this option, go [Single and bi-directional synchronization of sales orders](#single-and-bi-directional-synchronization-of-sales-orders).<br><br>**Note:** You can't use this option if you use the **Enable Legacy Sales Order Integration** option. The two settings are mutually exclusive.|

> [!TIP]
> If you also want to integrate with Microsoft Dynamics 365 Field Service, the guide provides an optional step that can help. To learn more about integrating with Field Service, go to [Integrate with Microsoft Dynamics 365 Field Service](admin-integrate-field-service.md).

### Connection settings on the Microsoft Dynamics 365 Connection Setup page

Enter the following information for the connection from [!INCLUDE[crm_md](includes/crm_md.md)] to [!INCLUDE[prod_short](includes/prod_short.md)].

| Field | Description |
|--|--|
|**Dynamics 365 Sales URL**|The URL of your [!INCLUDE[crm_md](includes/crm_md.md)] instance. This setting lets users open the records in [!INCLUDE[prod_short](includes/prod_short.md)] that correspond to records in [!INCLUDE[crm_md](includes/crm_md.md)]. For example, an account or product. The [!INCLUDE[prod_short](includes/prod_short.md)] records open in [!INCLUDE[prod_short](includes/prod_short.md)].|
|**Automatically Synchronize Item Availability**|Specifies that the item availability job queue must be scheduled. The job queue runs every 30 minutes, and updates the availability of the coupled items.|
|**Dynamics 365 SDK Version**|If you're integrating with an on-premises version of [!INCLUDE[crm_md](includes/crm_md.md)], you can use the Dynamics 365 software development kit (also referred to as Xrm) to connect [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]. The version that you select must be compatible with the SDK version that is used by [!INCLUDE[crm_md](includes/crm_md.md)]. This version equal to or newer than the version used by [!INCLUDE[crm_md](includes/crm_md.md)].|

In addition to these settings, enter the following settings for [!INCLUDE[crm_md](includes/crm_md.md)].

| Field | Description |
|--|--|
| **Sales Order Integration is Enabled** | Enable users to submit sales orders and activated quotes in [!INCLUDE[crm_md](includes/crm_md.md)] and then view and process them in [!INCLUDE[prod_short](includes/prod_short.md)]. This setting integrates the process in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Enable sales order processing integration](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration). |
| **Automatically Create Sales Orders** | Create a sales order in [!INCLUDE[prod_short](includes/prod_short.md)] when a user creates and submits one in [!INCLUDE[crm_md](includes/crm_md.md)]. |
| **Automatically Process Sales Quotes** | Process a sales quote in [!INCLUDE[prod_short](includes/prod_short.md)] when a user creates and activates one in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Handling Sales Quotes Data](/dynamics365/business-central/marketing-integrate-dynamicscrm?tabs=new-experience#handling-sales-quotes-data). |
|**Bidirectional Synch of Sales Orders**|Synchronize sales orders in both directions. To learn more, go to [Single and bi-directional synchronization of sales orders](#single-and-bi-directional-synchronization-of-sales-orders).|
<!--
### User Account Settings
Integration with Business Central through [!INCLUDE [cds_long_md](includes/cds_long_md.md)] requires an administrator user account and an account that is used only for the connection between the apps. This account is called the "integration user." When you install the CDS Base Integration Solution, permissions for the integration user account are configured in [!INCLUDE[crm_md](includes/crm_md.md)]. If those permissions are changed you might need to reset them. You can do that by reinstalling the Integration Solution or by manually resetting them. The following tables list the minimum permissions for the user accounts in [!INCLUDE[crm_md](includes/crm_md.md)].  -->
### Single and bi-directional synchronization of sales orders

When you set up your integration, there are options that control the direction in which you synchronize sales orders, and how you submit them.

The **Bidirectional Synch of Sales Orders** option lets you synchronize sales orders from Sales to [!INCLUDE [prod_short](includes/prod_short.md)], and vice versa. For example, if a customer changes their mind about the product or quantity in [!INCLUDE[crm_md](includes/crm_md.md)], you can archive the sales document and create a new document in [!INCLUDE[prod_short](includes/prod_short.md)]. The same is true for changes in [!INCLUDE[prod_short](includes/prod_short.md)]. For example, when prices, tax amounts, or expected shipment dates change, the changes synchronize to [!INCLUDE[crm_md](includes/crm_md.md)]. Bidirectional synchronization helps keep your sellers up to date with the latest changes and the status of sales orders.

For bidirectional synchronization, you make sales orders available for synchronization when you change their status to **Submitted** in Sales. When you set that status, you can no longer change information on the order's lines. When you synchronize, the order is transferred to [!INCLUDE [prod_short](includes/prod_short.md)] with the status **Released**. If there's a mistake, you can revert the order to **Open** (in [!INCLUDE [prod_short](includes/prod_short.md)]) or **Active** (in Sales), and then add or delete lines to correct the mistake, and submit the order again.

> [!TIP]
> When you enable the **Bidirectional Synch of Sales Orders** option, [!INCLUDE [prod_short](includes/prod_short.md)] creates a record on the **Sales Order Archives** page when you post or change information on an order. For example, the archived versions can be useful for exploring an order's history.

The **Enable Legacy Sales Order Integration** option synchronizes only from Sales to [!INCLUDE [prod_short](includes/prod_short.md)]. For this option, you use the **Submit** action in Sales to make orders available for synchronization. When you do, you can no longer change any information on the order. When you synchronize, the order is transferred to [!INCLUDE [prod_short](includes/prod_short.md)] with the status **Released**.

To use this option, you must provide credentials for an administrator user account in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Handle Sales Order Data](marketing-integrate-dynamicscrm.md#handle-sales-order-data).

> [!NOTE]
> The **Bidirectional Synch of Sales Orders** and **Enable Legacy Sales Order Integration** options are mutually exclusive. You can't use both options at the same time.

For both options, [!INCLUDE [prod_short](includes/prod_short.md)] shows all sales orders with the **Submitted** status on the **Orders - Microsoft Dynamics 365 Sales** page.

### Standard Sales entity mapping for synchronization

Entities in [!INCLUDE[crm_md](includes/crm_md.md)], such as orders, are integrated with equivalent types of tables in [!INCLUDE[prod_short](includes/prod_short.md)], such as sales orders. To work with [!INCLUDE[crm_md](includes/crm_md.md)] data you set up links, called couplings, between tables in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)].

The following table lists the standard mapping between tables in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] that [!INCLUDE[prod_short](includes/prod_short.md)] provides.

| [!INCLUDE[prod_short](includes/prod_short.md)] | [!INCLUDE[crm_md](includes/crm_md.md)] | Synchronization Direction | Default Filter |
|--|--|--|--|
| Unit of Measure | Unit Group | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Item | Product | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] | Sales contact filter: **Product Type** is **Sales Inventory** |
| Resource | Product | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] | Sales contact filter: **Product Type** is **Services** |
| Item Unit of Measure | CRM UOM |[!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)]| |
| Resource Unit of Measure | CRM UOM |[!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)]||
| Unit Group | CRM Uomschedule | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] ||
| Customer Price Group | Price List | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Sales Price | Product Price List | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] | [!INCLUDE[prod_short](includes/prod_short.md)] contact filter: **Sales Code** isn't blank, **Sales Type** is **Customer Price Group** |
| Opportunity | Opportunity | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[prod_short](includes/cds_long_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] |  |
| Sales Invoice Header | Invoice | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Sales Invoice Line | Invoice Product | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| Sales Order Header | Sales Order | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] <br><br> To synchronize in both directions, you must turn on the **Bidirectional Synch of Sales Orders** toggle on the **Dynamics 365 Connection Setup** page.| [!INCLUDE[prod_short](includes/prod_short.md)] Sales Header filter: **Document Type** is **Order** and **Status** is **Released** |
| Sales Order Notes | Sales Order Notes | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)] |  |

> [!NOTE]
> The mappings for the **Item Unit of Measure**, **Resource Unit of Measure**, and **Unit Group** tables are available only if your administrator turns on the **Unit Group Mapping** toggle on the **Microsoft Dynamics 365 Connection Setup** page. To learn more, go to [Synchronizing Items and Resources with Products in Different Units of Measure](admin-prepare-dynamics-365-for-sales-for-integration.md#synchronize-items-and-resources-with-products-with-different-units-of-measure).

## Synchronize items and resources with products with different units of measure

Businesses often produce or purchase the items in one unit of measure, and then sell them in another. To synchronize items that use multiple units of measure, you must turn on the **Unit Group Mapping** toggle on the **Microsoft Dynamics 365 Connection Setup** page.

When you turn on the feature update, a new Unit Group table is created and assigned to each item and resource in [!INCLUDE[prod_short](includes/prod_short.md)]. The tables let you map the Unit Group, Item Unit of Measure, and Resource Unit of Measure tables in [!INCLUDE[prod_short](includes/prod_short.md)] to the Dynamics 365 Sales Unit Group in [!INCLUDE[crm_md](includes/crm_md.md)]. The following image shows the mappings.

:::image type="content" source="media/unit group 1.png" alt-text="Table mappings for unit groups":::

You can create multiple units of measure for each unit group, and assign the groups to products in [!INCLUDE[crm_md](includes/crm_md.md)]. Afterward, you can synchronize the products with items and resources in [!INCLUDE[prod_short](includes/prod_short.md)]. You can manually couple item units of measure or resource units of measure with a unit group. When you do, if the unit group for the item or resource isn't coupled to a unit group in [!INCLUDE[crm_md](includes/crm_md.md)], [!INCLUDE[prod_short](includes/prod_short.md)] automatically creates the unit group in [!INCLUDE[crm_md](includes/crm_md.md)].

### Map items and resources to products

When you turn on the **Unit Group Mapping** toggle on the **Microsoft Dynamics 365 Connection Setup** page, the following happens:

* New mappings are created for items and resources.
* Existing mappings are deleted.
* A data upgrade creates unit groups for items and resources.

To use the new mappings, you must synchronize unit groups, item unit of measure, and resource unit of measures. You must also resynchronize items and resources.

> [!NOTE]
> [!INCLUDE[crm_md](includes/crm_md.md)] doesn't allow you to change a unit group for a product. Therefore, you must retire your products and uncouple the items and resources, and then synchronize by creating new products in [!INCLUDE[crm_md](includes/crm_md.md)]. 

The following steps describe the steps to start mapping unit groups:

1. Be sure that products in [!INCLUDE[crm_md](includes/crm_md.md)] aren't coupled with items or resources in [!INCLUDE[prod_short](includes/prod_short.md)]. If they are, go to the **Items** and/or **Resources** pages and use the filter options to select the coupled records. Then choose the **Dynamics 365 Sales** action, and select **Uncouple**. This action schedules a background job to uncouple the records. While the job is running, you can check its status by using the **Synchronization Log** action. To learn more, go to [Coupling and Synchronizing](admin-how-to-couple-and-synchronize-records-manually.md).
2. Because new products are created in [!INCLUDE[crm_md](includes/crm_md.md)] with new unit groups, to avoid duplicate names, do one of the following steps:

  * Rename your products, and then retire them in [!INCLUDE[crm_md](includes/crm_md.md)]. To learn more, go to [Retire products (Sales Hub)](/dynamics365/sales-enterprise/retire-product). To bulk edit your products in Microsoft Excel, sign in to Power Apps, choose your environment, go to the **Product** table, and then choose the **Data** tab. Clear any filters that are applied. In the **Data** group, choose the **Edit Data in Excel** action. Add a prefix or suffix to the coupled products, and then retire them.
    * Retire your products and delete them. 

3. Follow these steps to synchronize **Unit Groups**, **Unit of Measures**, **Items**, and **Resources**:
    1. In [!INCLUDE[prod_short](includes/prod_short.md)], open the **Dynamics 365 Sales Connection Setup** page.
    2. Use the **Run Full Synchronization** action to open the **Dataverse Full Synch. Review** page.
    3. For the **ITEM UOM**, **RESOURCE UOM**, AND **UNIT GROUP** mappings, choose the **Recommend Full Synchronization** action.
    4. Choose the **Sync All** action.

    > [!NOTE]
    > This action fully synchronizes all mappings. To prevent mappings from synchronizing, delete the mappings from the page. Deleting the mappings only removes them from the current full synchronization, and doesn't delete the mappings.
4. Choose the **ITEM-PRODUCT** mapping, and then choose the **Restart** action. Restarting creates new products from the items in [!INCLUDE[crm_md](includes/crm_md.md)], and assigns a new unit group that is specific to the item.
5. Choose the **RESOURCE-PRODUCT** mapping, and then choose the **Restart** action. Restarting creates new products from the resources in [!INCLUDE[crm_md](includes/crm_md.md)], and assigns a new unit group that is specific to the resources.

### Synchronization rules

The following table lists the rules that control the synchronization between [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)]. These rules are in addition to rules defined for [!INCLUDE [cds_long_md](includes/cds_long_md.md)], which also apply. To learn more, go to [Standard Entity Mapping](admin-synchronizing-business-central-and-sales.md#standard-table-mapping-for-synchronization).

> [!NOTE]  
> Changes to data that were made by the integration user account aren't synchronized. Therefore, we recommended that you don't change data while using that account. To learn more, go to [Setting Up User Accounts for Integrating with Dynamics 365 Sales](admin-setting-up-integration-with-dynamics-sales.md).

|Table|Rule|
|-----|----|
|Units of Measure|Units of measure are synchronized with unit groups in [!INCLUDE[crm_md](includes/crm_md.md)]. There can only be one unit of measure defined in the unit group.|
|Items|When it synchronizes items with [!INCLUDE[crm_md](includes/crm_md.md)] products, [!INCLUDE[prod_short](includes/prod_short.md)] automatically creates a price list in [!INCLUDE[crm_md](includes/crm_md.md)]. To avoid synchronization errors, you shouldn't modify this price list manually.|
|Resources|Resources are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] products that have product type Service.|
|Customer Price Groups|Customer price groups are synchronized with Sales price lists.|
|Sales Prices|Sales prices that have sales type Customer Price Group and have a sales code defined are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] price list lines|
|Opportunities|Opportunities are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] opportunities. The Salesperson Code value defines the owner of the coupled table in [!INCLUDE[crm_md](includes/crm_md.md)].|
|Posted Sales Invoices|Posted sales invoices are synchronized with sales invoices. Before an invoice can be synchronized, it's better to synchronize all other tables that can participate in the invoice, from salespersons to price lists. The Salesperson Code value in the invoice header defines the owner of the coupled table in Sales.|
|Sales Orders|When you enable sales order integration, when you release sales orders in [!INCLUDE[prod_short](includes/prod_short.md)] that were created from submitted sales orders in [!INCLUDE[crm_md](includes/crm_md.md)], they synchronize with sales orders in [!INCLUDE[crm_md](includes/crm_md.md)]. Before you synchronize orders, we recommend that you first synchronize all tables involved with the order. For example, sales persons and price lists. The Salesperson Code field in the order header defines the owner of the coupled table in [!INCLUDE[crm_md](includes/crm_md.md)].|

### Synchronization jobs for a Sales integration

The jobs are run in the following order to avoid coupling dependencies between tables. There are more jobs available from [!INCLUDE [cds_long_md](includes/cds_long_md.md)]. To learn more, go to [Use Job Queues to Schedule Tasks](./admin-job-queues-schedule-tasks.md).

1. UNITOFMEASURE - Dynamics 365 Sales synchronization job  
2. RESOURCE-PRODUCT - Dynamics 365 Sales synchronization job  
3. ITEM-PRODUCT - Dynamics 365 Sales synchronization job  
4. CUSTPRCGRP-PRICE - Dynamics 365 Sales synchronization job.
5. SALESPRC-PRODPRICE - Dynamics 365 Sales synchronization job.
6. POSTEDSALESINV-INV - Dynamics 365 Sales synchronization job.

### Default synchronization job queue entries

The following table describes the default synchronization jobs for [!INCLUDE[crm_md](includes/crm_md.md)].  

|Job Queue Entry|Description|Direction|Integration Table Mapping|Default Synchronization Frequency (mins)|Default inactivity sleep time (mins)|  
|---------------------|---------------------------------------|---------------|-------------------------------|-----|-----|  
|UNITOFMEASURE - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] unit groups with [!INCLUDE[prod_short](includes/prod_short.md)] units of measure.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|UNIT OF MEASURE|30|720<br> (12 hrs)|
|RESOURCE-PRODUCT - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] products with [!INCLUDE[prod_short](includes/prod_short.md)] resources.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|RESOURCE-PRODUCT|30|720<br> (12 hrs)|
|ITEM - PRODUCT - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] products with [!INCLUDE[prod_short](includes/prod_short.md)] items.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|ITEM-PRODUCT|30|1440<br> (24 hrs)|
|CUSTPRCGRP-PRICE - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] sales price lists with [!INCLUDE[prod_short](includes/prod_short.md)] customer price groups.| |CUSTOMER PRICE GROUPS-SALES PRICE LISTS|30|1440<br> (24 hrs)|
|SALESPRC-PRODUCTPRICE - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] product prices with [!INCLUDE[prod_short](includes/prod_short.md)] sales prices.||PRODUCT PRICE-SALES PRICE|30|1440<br> (24 hrs)|
|POSTEDSALESINV-INV - Dynamics 365 Sales synchronization job|Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] invoices with [!INCLUDE[prod_short](includes/prod_short.md)] posted sales invoices.|From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]|INVOICES-POSTED SALES INVOICES|30|1440<br> (24 hrs)|
|Customer Statistics - Dynamics 365 Sales synchronization|Updates [!INCLUDE[crm_md](includes/crm_md.md)] accounts with the latest [!INCLUDE[prod_short](includes/prod_short.md)] customer data. In [!INCLUDE[crm_md](includes/crm_md.md)], this information appears in **Business Central Account Statistics** quick view form of accounts that are coupled to [!INCLUDE[prod_short](includes/prod_short.md)] customers.<br /><br /> This data can also be updated manually from each customer record. To learn more, go to [Couple and Synchronize Records Manually](admin-how-to-couple-and-synchronize-records-manually.md). </BR></BR>**Note:**  This job queue entry is relevant only if the [!INCLUDE[prod_short](includes/prod_short.md)] integration solution is installed in [!INCLUDE[crm_md](includes/crm_md.md)]. |Not applicable|Not applicable|30|Not applicable|

## Connect to on-premises versions of Business Central 2019 release wave 1 and Microsoft Dynamics NAV 2018

The Microsoft Power Platform team [announced](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse) that it's deprecating the Office 365 authentication type. If you're using a version of [!INCLUDE[prod_short](includes/prod_short.md)] on-premises that's earlier than [!INCLUDE [prod_short](includes/prod_short.md)] 2019 release wave 1, you must use the OAuth authentication type to connect to [!INCLUDE[crm_md](includes/crm_md.md)] online. The steps in this section describe how to connect the following product versions:

* Business Central 2019 release wave 1
* Microsoft Dynamics NAV 2018

### Prerequisites

* You must have a Microsoft Azure subscription. A trial account works for application registration.
* [!INCLUDE[crm_md](includes/crm_md.md)] is configured to use one of the following authentication types:

   * Office 365 (legacy)

     > [!IMPORTANT]
     > Effective April 2022, Office365 (legacy) is no longer supported. To learn more, go to [Important changes (deprecations) coming in Power Apps, Power Automate and customer engagement apps](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).

   * OAuth

### Connect Business Central 2019 release wave 1 and Dynamics NAV 2018

1. Import the Microsoft Dynamics 365 Business Central Integration Solution into your [!INCLUDE[crm_md](includes/crm_md.md)] environment. The integration solution is available in the CrmCustomization folder on your [!INCLUDE[prod_short](includes/prod_short.md)] or Dynamics NAV 2018 installation DVD. Depending on your product version, import one of the following solutions:

   * For [!INCLUDE[prod_short](includes/prod_short.md)], the folder contains the DynamicsNAVIntegrationSolution_v9 and DynamicsNAVIntegrationSolution_v91. solutions. The solution you should import depends on the version of [!INCLUDE[crm_md](includes/crm_md.md)] you're connecting to. [!INCLUDE[crm_md](includes/crm_md.md)] online requires the DynamicsNAVIntegrationSolution_v91 integration solution.
   * For Dynamics NAV 2018, install the DynamicsNAVIntegrationSolution solution.

2. Create a non-interactive integration user in your [!INCLUDE[crm_md](includes/crm_md.md)] environment, and assign the user the following security roles. To learn more, go to [Create a non-interactive user account](/power-platform/admin/create-users-assign-online-security-roles#create-a-non-interactive-user-account).

   * Dynamics 365 Business Central Integration Administrator
   * Dynamics 365 Business Central Integration User

   > [!Important]
   > This user must not have the System Administrator security role. Also, you cannot use the system administrator account as the integration user.

3. In the Azure portal, create an app registration for [!INCLUDE[prod_short](includes/prod_short.md)]. To learn more, go to [Register an application in Microsoft Entra ID](/powerapps/developer/data-platform/walkthrough-register-app-azure-active-directory).
  
   > [!NOTE]
   > We recommend that you register the app in the same tenant as your [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment so that you don't have to consent to giving access to the environment. If you register the app in another environment, you must sign in to Microsoft Entra ID using the administrator account for your [!INCLUDE [cds_long_md](includes/cds_long_md.md)] environment and give consent.
   >
   > Additionally, the app that you register must not have a secret. Connecting an app with a secret to [!INCLUDE [cds_long_md](includes/cds_long_md.md)] is available only in [!INCLUDE [prod_short](includes/prod_short.md)] 2020 release wave 1 and later.
  
4. Depending on your product version, do one of the following steps:

    * In [!INCLUDE[prod_short](includes/prod_short.md)], search for **Microsoft Dynamics 365 Connection Setup**, and then choose the related link.
    * In Dynamics NAV 2018, search for **Microsoft Dynamics 365 for Sales Connection Setup**, and then choose the related link.

5. In the **Authentication Type** field, choose the option for OAuth.
6. Choose the CRM SDK version that matches solution version you imported in step 1.

   > [!NOTE]
   > This step is only relevant for [!INCLUDE[prod_short](includes/prod_short.md)].

7. Enter the URL of your [!INCLUDE[crm_md](includes/crm_md.md)] environment, and then enter the user name and password for the integration user. 

   * In [!INCLUDE[prod_short](includes/prod_short.md)], use the **Server Address** field.
   * In Dynamics NAV 2018, use the **Dynamics 365 Sales URL** field.

8. In the **Connection String** field, specify the ID of the app registration. This field has two tokens in which the ID of your application should be specified.

   |Token           |Description  |
   |----------------|-------------|
   |**AppId**       |Set to the application ID.      |
   |**RedirectUri** |Set to the application ID, but add the **app://** prefix.         |

    **Example**
    To review an example of the connection string, go to [Create a connection string](/power-apps/developer/data-platform/xrm-tooling/use-connection-strings-xrm-tooling-connect#create-a-connection-string) in the [!INCLUDE [cds_long_md](includes/cds_long_md.md)] documentation.
9. Enable the connection.

   > [!Note]
   > If you want to configure a connection to a [!INCLUDE[crm_md](includes/crm_md.md)] instance with a specific authentication type, fill in the fields on the **Authentication Type Details** FastTab. To learn more, go to [Authentication with Microsoft Dataverse web services](/powerapps/developer/data-platform/authentication). This step is not required when connecting an online version of [!INCLUDE[prod_short](includes/prod_short.md)].

## Related information

[Setting Up User Accounts for Integrating with [!INCLUDE[crm_md](includes/crm_md.md)]](admin-setting-up-integration-with-dynamics-sales.md)  
[Set Up a Connection to [!INCLUDE[crm_md](includes/crm_md.md)]](admin-how-to-set-up-a-dynamics-crm-connection.md)  
[Synchronizing Business Central and [!INCLUDE[crm_md](includes/crm_md.md)]](admin-synchronizing-business-central-and-sales.md)  
[Preparing Dynamics 365 Sales for Integration on-premises](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/fa-how-depreciate-amortize
---
title: Depreciate or amortize FA
description: You must define how you'll write-down, depreciate, or amortize each of your fixed assets, such as machinery and equipment, over their depreciable life.
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.devlang: al
ms.search.keywords: write down
ms.search.form: 5610, 5611, 5629, 5633, 5659, 5660, 5663, 5619, 5666, Report_5692_Primary
ms.date: 06/10/2024
ms.service: dynamics-365-business-central
---
# Depreciate or amortize fixed assets

Depreciation is used to allocate the cost of fixed assets, such as machinery and equipment, over their depreciable life. For each fixed asset, you must define how to depreciate it.  

 There are two ways to post depreciation:  

* Automatically, by running the **Calculate Depreciation** batch job.  
* Manually, by using the fixed asset G/L journal.  

[!INCLUDE[prod_short](includes/prod_short.md)] can calculate daily depreciation, which allows you to calculate depreciation for any period. You can therefore analyze current operating results on, for example, a monthly, quarterly, or annual basis. The calculation uses a standard year of 360 days and a standard month of 30 days. For more information, see [Depreciation Methods](fa-depreciation-methods.md).  

If several departments use a fixed asset, periodic depreciation can be automatically allocated to these departments according to a user-defined allocation table.  

You can cancel incorrect depreciation entries by using the **Cancel FA Ledger Entries** batch job. Afterward, you can post the correct amount by running the **Calculate Depreciation** batch job again. The errors you correct are posted as fixed asset error ledger entries.  

Indexation is used to adjust values for general price-level changes. You can use the **Index Fixed Assets** batch job to recalculate the depreciation amounts.  

## To calculate depreciation automatically

Once a month, or whenever you choose, you can run the **Calculate Depreciation** batch job. The batch job ignores fixed assets that were sold, are blocked or inactive, or use the manual depreciation method.  

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Calculate Depreciation**, and then choose the related link.  
2. Fill in the fields as necessary. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
3. Choose the **OK** button.  

    The batch job calculates the depreciation and creates lines in the fixed asset G/L journal.

4. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **FA G/L Journals**, and then choose the related link.  

    On the **Fixed Asset G/L Journal** page, in the **No. of Depreciation Days** field, you can see how many days of depreciation were calculated.  
5. Choose the **Post** action.  

> [!NOTE]
> Known limitation: If you set the **Use Force No. of Days** field to Yes, and the **Force No. of Days** field is set to a value where **Posting Date** minus **Number of Days** results in a date in the previous calendar year, the system will not let you post the depreciation.
> You can avoid it by reducing the **Force No. of Days** field to no more than than the calculated days until posting date using 30days/month OR set the flag **Fiscal Year 365 Days** in the Depreciation Book.
> We recommend the first option as you may not want to change the use of 30days/months for depreciation. For more information, see [Fiscal Year 365 Days Field Depreciation](fa-how-setup-depreciation.md#fiscal-year-365-days-field-depreciation).


## To post depreciation manually from the fixed asset G/L journal

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Asset G/L Journal**, and then choose the related link.  
2. Create an initial journal line and fill in the fields as necessary.  
3. In the **FA Posting Type** field, select **Depreciation**.  
4. Choose the **Insert FA Bal. Account** action. A second journal line is created for the balancing account that is set up for depreciation posting. For more information, see [To set up fixed asset posting groups](fa-how-setup-general.md#to-set-up-fixed-asset-posting-groups).
5. Choose the **Post** action to post the journal.  

The **Book Value** field on the **Fixed Asset Card** page is updated accordingly.

If you set up fixed asset allocation keys to allocate amounts to different departments or projects, the amounts are allocated during posting. For more information, see [Set Up General Fixed Assets Information](fa-how-setup-general.md).  

## To manage the ending book value

In the **Ending Book Value** field on the **FA Depreciation Books** page, you can specify the book value that you want your fixed asset to have in the current depreciation book after you fully depreciate it. You can enter the value manually, or you can fill in the **Default Ending Book Value** field on the related **Depreciation Book** page. The value automatically fills in the field.

> [!NOTE]
> If the last depreciation means that the **Book Value** field on the **Fixed Asset Card** page is zero, the last depreciation is automatically reduced by this amount.<br /><br />
> If the value in the **Book Value** field is greater than zero after the last depreciation,  for example because of a rounding problem or because a salvage value exists, the value in the **Ending Book Value** field on the **FA Depreciation Books** page is ignored. For more information, see [To post the salvage value together with the acquisition cost](fa-how-acquire.md#to-post-the-salvage-value-together-with-the-acquisition-cost).

## To calculate allocations for a Fixed Asset


1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **FA Posting Groups**, and then choose the related link.
2. Choose **Related**, **Posting Group**, **Allocations** and then select **Depreciation**.
3. Fill in the G/L accounts and the corresponding allocation percentages for each posting group and then close the page.
4. Next, choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Asset G/L Journals**, and then choose the related link.
5. Enter the Fixed Asset and the corresponding FA Posting Group and Depreciation book will determine the allocation lines.
6. Choose the **Post** action to post the journal.

> [!NOTE]  
> If a fixed asset is used by several departments, you can select the dimension on the Fixed Asset G/L Journal line.

## Use duplication lists to prepare to post to multiple depreciation books

When you fill in journal lines to post to a depreciation book, you can duplicate the lines in a separate journal so you can post to a different depreciation book. For more information, see To [post entries to different depreciation books](fa-how-depreciate-amortize.md#to-post-entries-to-different-depreciation-books).

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Books**, and then choose the related link.  
2. Open the depreciation book, and then select the **Part of Duplication List** check box.  

> [!IMPORTANT]  
>   If you have selected the **Use Duplication List** field, do not use number series on the journal. The reason is that the number series for the fixed asset G/L journal does not the number series for the fixed asset journal.  

## To post entries to different depreciation books

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Fixed Asset G/L Journal**, and then choose the related link.  
2. In the journal that you want to post depreciation with, select the **Use Duplication List** check box.  
3. Fill in the remaining fields as necessary.  
4. Choose the **Post** action.  
5. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **FA Journals**, and then choose the related link.  

    > [!NOTE]  
    > The **Fixed Asset Journal** page contains new lines for different depreciation books according to the duplication list.  
6. Review or edit the lines, and then choose the **Post** action.  

    > [!NOTE]  
    > Another way to duplicate an entry in a separate book is to enter a depreciation book code in the **Duplicate in Depreciation Book** field when you fill in a journal line.  

You can copy entries from one depreciation book to another by using the **Copy Depreciation Book** batch job. The batch job creates journal lines in the journal batch that you specified on the **FA Journal Setup** page for the depreciation book that you want to copy to. To learn more, go to [To copy fixed asset ledger entries between depreciation books](#to-copy-fixed-asset-ledger-entries-between-depreciation-books).  

## To copy fixed asset ledger entries between depreciation books

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Depreciation Books**, and then choose the related link.  
2. Open the relevant depreciation book card, and then choose the **Copy Depreciation Book** action.  
3. On the **Copy Depreciation Book** page, fill in the fields as necessary.  
4. Choose the **OK** button.  

The copied lines are created in either the fixed asset G/L journal or the fixed asset journal, depending on whether the depreciation book that you're copying has integration to the general ledger.  

## Related information

[Fixed Assets](fa-manage.md)  
[Setting Up Fixed Assets](fa-setup.md)  
[Finance](finance.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/warehouse-how-to-set-up-locations-to-use-bins
---
title: How to Set Up Locations to Use Bins
description: Bins represent the basic warehouse structure and are used to make suggestions about the placement of items. 
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: how-to
ms.date: 03/28/2023
ms.custom: bap-template
ms.service: dynamics-365-business-central
---

# Set Up Locations to Use Bins

Bins represent the basic warehouse structure, and you use them to suggest where to place items. After you create your bins you define their contents, or let them serve as floating bins without specific contents.

To use the bin functionality at a location, turn on the **Bin Mandatory** toggle on the **Location** card. After you turn on the toggle, the **Bin Code** and **Zone Code** fields are available on the following documents:

* Warehouse receipt header
* Warehouse receipt lines
* Warehouse put-away lines
* Warehouse shipment header
* Warehouse shipment lines
* Warehouse put-away lines

The next step is to design the item flow at the location by specifying bin codes in setup fields that represent the different flows.  

> [!NOTE]  
> You must create bin codes before you can specify them for the location. For more information, see [Create Bins](warehouse-how-to-create-individual-bins.md).  

## To set up a location to use bins

1. Choose the ![Lightbulb that opens the Tell Me feature.](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Locations**, and then choose the related link.  
2. Select the location where you want to use bins.  
3. Choose the **Edit** action.  
4. On the **Warehouse** FastTab, select the **Bin Mandatory** checkbox.  
5. If you aren't using directed put-away and pick for the location, in the **Default Bin Selection** field, choose the method you want [!INCLUDE [prod_short](includes/prod_short.md)] to use to assign a default bin to an item.  
6. Open the card for the location that you want to set up bins for.
7. On the **Bins** FastTab, select the bins to use as the default for receipts, shipments, inbound, outbound, and open shop floor bins.  

    The bin codes you specify appear automatically on the headers and lines of various warehouse documents. The default bins define all starting or ending placements of items in the warehouse.  
8. If you're using directed put-away and pick, select a bin for warehouse adjustments. The bin code in the **Adjustment Bin Code** field defines the virtual bin in which to record discrepancies in inventory:

    * When you observe differences registered in the warehouse item journal
    * Differences calculated when you register a warehouse physical inventory  
9. Optional: Fill in the fields on the **Bin Policies** FastTab. The most important fields are **Bin Capacity Policy**, **Allow Breakbulk**, and **Put-away Template Code** fields.  
10. On the **Warehouse** FastTab, fill in the **Outbound Whse. Handling Time**, **Inbound Whse. Handling Time**, and the **Base Calendar Code** fields. To learn more, go to [Set Up Base Calendars](across-how-to-assign-base-calendars.md).

## Fill in the consumption bin

The following flow chart shows how the **Bin Code** field on production order component lines is filled in according to your location setup.

:::image type="content" source="media/binflow.png" alt-text="Bin code field on production order component lines.":::

## Related information

[Warehouse Management Overview](design-details-warehouse-management.md)
[Inventory](inventory-manage-inventory.md)  
[Setting Up Warehouse Management](warehouse-setup-warehouse.md)  
[Assembly Management](assembly-assemble-items.md)  
[Work with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/company-hub
---
title: Manage Work across Multiple Companies in the Company Hub
description: Learn about the company hub in Dynamics 365 Business Central that you use to manage your work across multiple companies.
author: brentholtorf
ms.topic: article
ms.search.keywords: accountant, accounting, financial report
ms.search.form: 1151, 1154, 1165, 1166
ms.date: 09/28/2023
ms.author: bholtorf
ms.custom: bap-template
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---

# Manage Work across Multiple Companies in the Company Hub

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

Some people work in multiple companies in [!INCLUDE [prod_short](includes/prod_short.md)], and some also work in more than one organization, such as external accountants, or employees and managers of corporations with multiple subsidiaries. For these users, and many others, the company hub serves as a landing page that gives a financial overview across companies and environments. It provides users with a tool for managing work across the various environments that they work in, across companies, environments, and regions.  

You can access the company hub by switching to the **Company Hub** role in My Settings, or by opening the **Company Hub** page directly. You can do the same work in both places, but actions are placed slightly different in menus.  

[![Shows the company hub page that lists all companies.](media/company-hub.png)](media/company-hub.png#lightbox)  

> [!NOTE]
> You can connect the company hub to as many companies as you need. However, you can only connect the company hub to companies that are hosted in [!INCLUDE [prod_short](includes/prod_short.md)] online.

## Company hub home page

If you use the **Company Hub** role, your home page shows a list of companies that you have access to, including information about key point of interest (KPI) data, and links to open each company. <!--You can customize the dashboard to show the data points that you want to see by adding or removing columns. For example, you might want to see taxes that are due, how many open sales documents each company has, or the number of purchase invoices that are due next week. You can configure the view to suit your needs. If you have added many companies, you can use filters to sort your view.--> Choose the **Company Hub** action to open the company hub, where you can work more closely with each company.  

> [!TIP]
> To access a specific company in [!INCLUDE [prod_short](includes/prod_short.md)], choose the name of the company, or choose the **Go To Company** menu item - you are logged in automatically in a new browser tab.

:::image type="content" source="media/company-hub-company-list-actions.png" alt-text="Actions for a company that is listed in the company hub.":::

You can add new companies, such as when you get a new client, or when your corporation adds a new subsidiary. For more information, see [Add Companies to Your Company Hub](company-hub-add-company.md).  

> [!TIP]
> In order to refresh the data in the company hub, you must have access to the data in the companies that the data comes from.

<!--## Company details

In the **Company Hub** page, you can see more information about each company by choosing the name of the company that you want to learn more about. This opens the **Company Details** pane, where you can see additional information, such as the following:  

* Cash account balances  
* Cash flow forecast  
* Overdue purchase invoices  
* Overdue sales invoices  

> [!TIP]
> You can launch predefined Excel workbooks from the **Reports** tab in the ribbon. These Excel workbooks are designed as ready-to-print key financial statements and reports, but you can also modify them to fit your needs. For more information, see [Analyzing Financial Statements in Microsoft Excel](finance-analyze-excel.md).  

Otherwise, close the details pane and continue to the next company.  -->

## Assigned tasks

In [!INCLUDE [prod_short](includes/prod_short.md)], you can assign tasks to yourself and others, and others can assign tasks to you. The company hub gives you an overview of assigned tasks for each company, and you can also access a list of all assigned tasks by choosing **My User Tasks** on the **Home** page.  

<!--In the client company, you also have cues that call out tasks assigned to you in this particular client.  -->

### My user tasks

The **My User Tasks** list helps you prioritize your day by showing more information about tasks assigned to you across all your companies.  

You can sort by due date, for example, or any other type of data that helps you prioritize your day. By default, the list shows all tasks that are assigned to you, but you can set up filters to only show tasks that are marked as high priority, for example.  

To pick up a task, choose it from the list of pending user tasks. In the ribbon, the link **Go to Task Item** opens the page where you can do the work.  

When you have completed a task, mark it as completed.  

For more information about companies and environments, see [Environment links](company-hub-add-company.md#environment-links).  

## Access the company hub

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

In order to access the company hub, you must have access through either the *D365 COMPANY HUB* user group or through the *D365 COMPANY HUB*  permission set. You must also have access to the companies that are listed in your company hub, which means that you must be a user in those companies. For more information, see [Create Users According to Licenses](ui-how-users-permissions.md).  

> [!IMPORTANT]
> The company hub is a company-wide list, so any user who is granted access to the company hub will be able to see all companies in their own [!INCLUDE [prod_short](includes/prod_short.md)] tenant, and all KPIs for the companies that they have access to.

If you cannot find the company hub, and you know that you have been granted access to it, then check with your administrator if the company hub is listed in the **Extension Management** page. For more information, see [Customizing Business Central Using Extensions](ui-extensions.md).  

## Set up the company hub

To start using the company hub, you must add one or more companies to your dashboard. For more information, see [Add Companies to Your Company Hub](company-hub-add-company.md).  

But to add a company, you must have been given access to one or more instances of [!INCLUDE [prod_short](includes/prod_short.md)] in addition to the company that you use the company hub in.  

For example, if you are an accountant, your clients can invite you to their [!INCLUDE [prod_short](includes/prod_short.md)]. For more information, see [Inviting Your External Accountant to Your Business Central](finance-accounting.md#inviteaccountant).  

Administrators can use the same assisted setup guide to add you to their [!INCLUDE [prod_short](includes/prod_short.md)], or they can add you to the relevant Microsoft Entra account in the Microsoft 365 admin center. For more information, see [Manage users and groups](/microsoft-365/admin/add-users/?view=o365-worldwide&preserve-view=true).  

## Related information

[Add companies to your company hub](company-hub-add-company.md)  
[Accountant Experiences in Business Central](finance-accounting.md)  
[The Company Hub for Business Central Extension](ui-extensions-company-hub.md)  
[Change Basic Settings](ui-change-basic-settings.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/projects-powerbi-kpis
---
title: Projects KPIs and measures (Power BI)
description: The Projects App KPIs provides a page to clearly identify all KPIs and Measures used in the Projects Report.
author: kennienp
ms.author: kepontop
ms.reviewer: 
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 
ms.date: 11/08/2024
ms.service: dynamics-365-business-central
---

# Power BI Projects app KPIs and measures

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

This page provides a list of all Key Performance Indicators (KPIs) included in the semantic model for the Power BI Projects report. 

Explore the list of KPIs below to learn more about how they can help you achieve your business goals. 

Each KPI is described, including how it is calculated and what data was used in the calculations.

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Project Measures
- [% Invoiced](#-invoiced)
- [% Complete](#-complete)
- [Duration (Days)](#duration-days)
- [Project Count](#project-count)
- [Realization %](#realization-)
- [Realization Variance](#realization-variance)
- [Tasks Count](#tasks-count)

### % Invoiced

**Formula**  
*% Invoiced = [Billable (Invoiced Price)](#billable-invoiced-price) / [Billable (Total Price)](#billable-total-price)*
  
**Data Sources**
- Job Ledger Entry
- Job Planning Line

### % Complete

**Formula**  
*% Complete = [Actual (Total Cost)](#actual-total-cost) / [Budget (Total Cost)](#budget-total-cost)*
  
**Data Sources**
- Job Ledger Entry
- Job Planning Line

### Duration (Days)

**Formula**  
The Duration (Days) measure calculates the number of days between the earliest starting date and latest ending date for a given project in the Project table.
  
**Data Sources**
- Job

### Project Count
**Formula**  
The Project Count measure counts the total number of projects in the Project table.

**Data Sources**
- Job

### Realization %

**Formula**  
*Realization % = [Billable (Invoiced Price)](#billable-invoiced-price) / [Actual (Total Price)](#actual-total-price)*
  
**Data Sources**
- Job Ledger Entry

### Realization Variance

**Formula**  
*Realization Variance = [Billable (Invoiced Price)](#billable-invoiced-price) - [Actual (Total Price)](#actual-total-price)*

**Data Sources**
- Job Ledger Entry
- Job Planning Line

### Tasks Count

**Formula**  
The Tasks Count measure counts the number of rows in the Tasks table that where the Project Task Type has a value of "Posting".

**Data Sources**
- Job Task

## Profit
- [Actual Profit](#actual-profit)
- [Actual Profit Margin %](#actual-profit-margin-)
- [Budget Profit](#budget-profit)
- [Budget Profit Margin %](#budget-profit-margin-)

### Actual Profit

**Formula**  
*Actual Profit = [Billable (Invoiced Price)](#billable-invoiced-price) - [Actual (Total Cost)](#actual-total-cost)*
  
**Data Sources**
- Job Ledger Entry

### Actual Profit Margin %

**Formula**  
*Actual Profit Margin % = [Actual Profit Margin %](#actual-profit-margin-) / [Billable (Invoiced Price)](#billable-invoiced-price)*
  
**Data Sources**
- Job Ledger Entry

### Budget Profit
**Formula**  
*Budget Profit = - [Budget (Total Price)](#budget-total-price) - [Budget (Total Cost)](#budget-total-cost)*

**Data Sources**
- Job Ledger Entry
- Job Planning Line

### Budget Profit Margin %

**Formula**  
*Budget Profit Margin % = [Budget Profit](#budget-profit) / [Budget (Total Price)](#budget-total-price)*

**Data Sources**
- Job Ledger Entry
- Job Planning Line

## Project Ledger Measures
- [Actual (Total Price)](#actual-total-price)
- [Billable (Invoiced Price)](#billable-invoiced-price)
- [Invoiced (Total Cost)](#invoiced-total-cost)
- [Invoiced (Total Price)](#invoiced-total-price)
- [Quantity](#quantity)
- [Total Price](#total-price)

### Actual (Total Price)

**Formula**  
The Actual (Total Price) measure calculates the total actual cost of project entries by calculating the total price (in local currency) in the Project Ledger Entry table and selecting only those entries with an entry type of "Usage". The result of this calculation is then converted to a positive value.
  
**Data Sources**
- Job Ledger Entry

### Billable (Invoiced Price)

**Formula**  
The Billable (Invoiced Price) measure shows the total invoiced price of billable project entries by calculating the total price (in local currency) in the Project Ledger Entry table and selecting only those entries with an entry type of "Sale", which indicates that the project entry is billable.
  
**Data Sources**
- Job Ledger Entry

### Invoiced (Total Cost)

**Formula**  
The Invoiced (Total Cost) measure calculates the total cost of all project ledger entries where the entry type is "Sale" in the Project Ledger Entry table.
  
**Data Sources**
- Job Ledger Entry

### Invoiced (Total Price)

**Formula**  
The Invoiced (Total Price) measure calculates the total price of all project ledger entries where the entry type is "Sale" in the Project Ledger Entry table.
  
**Data Sources**
- Job Ledger Entry

### Quantity

**Formula**  
The Quantity measure calculates the total quantity of a product or service used in a project by summing the quantity in the Project Ledger Entry table and converting the measure to a postive value.
  
**Data Sources**
- Job Ledger Entry

### Total Price

**Formula**  
The Total Price measure calculates the total price of all project ledger entries in the Project Ledger Entry table. It uses the SUMX function to iterate over each row in the table and multiply the quantity and unit price (in local currency) columns for each row. The results of each multiplication are then summed up to produce the total price.

**Data Sources**
- Job Ledger Entry

## Usage
- [Actual (Total Cost)](#actual-total-cost)
- [Gen. Journal Usage (Total Cost)](#gen-journal-usage-total-cost)
- [Labour Usage (Total Cost)](#labour-usage-total-cost)
- [Material Usage (Total Cost)](#material-usage-total-cost)

### Actual (Total Cost)

**Formula**  
The Actual (Total Cost) measure calculates the total cost (in local currency) of all project ledger entries where the type is "Usage" in the Project Ledger Entry table.
  
**Data Sources**
- Job Ledger Entry

### Gen. Journal Usage (Total Cost)

**Formula**  
The Gen. Journal Usage (Total Cost) measure calculates the total cost of all project ledger entries where the type is "G/L Account" in the Project Ledger Entry table.
  
**Data Sources**
- Job Ledger Entry

### Labour Usage (Total Cost)

**Formula**  
The Labour Usage (Total Cost) measure calculates the total cost of all project ledger entries where the type is "Resource" in the Project Ledger Entry table.
  
**Data Sources**
- Job Ledger Entry

### Material Usage (Total Cost)

**Formula**  
The Material Usage (Total Cost) measure calculates the total cost of all project ledger entries where the type is "Item" in the Project Ledger Entry table.
  
**Data Sources**
- Job Ledger Entry


## Planning Line Measures
- [Billable (Total Cost)](#billable-total-cost)
- [Billable (Total Price)](#billable-total-price)
- [Budget (Total Cost)](#budget-total-cost)
- [Budget (Total Price)](#budget-total-price)
- [Planning Line Quantity](#planning-line-quantity)
- [Planning Line Total Cost (LCY)](#planning-line-total-cost-lcy)
- [Planning Line Total Price (LCY)](#planning-line-total-price-lcy)
- [Total Cost Variance to Budget](#total-cost-variance-to-budget)
- [Total Cost Variance to Budget %](#total-cost-variance-to-budget-)

### Billable (Total Cost)

**Formula**  
The Billable (Total Cost) measure calculates the total cost (in local currency) of all project planning lines where the line type is "Billable" or "Both Budget and Billable" in the Project Planning Line table.
  
**Data Sources**
- Job Planning Line

### Billable (Total Price)

**Formula**  
The Billable (Total Price) measure calculates the total price (in local currency) of all project planning lines where the line type is "Billable" or "Both Budget and Billable" in the Project Planning Line table.
  
**Data Sources**
- Job Planning Line

### Budget (Total Cost)

**Formula**  
The Budget (Total Cost) measure represents the budgeted cost of resources to be used in a project by calculating the total cost (in local currency) in the Project Planning Line table and selecting only those lines with a line type of "Budget" or "Both Budget and Billable".

**Data Sources**
- Job Ledger Entry

### Budget (Total Price)

**Formula**  
The Budget (Total Price) measure represents the budgeted price of resources to be used in a project by calculating the total price (in local currency) in the Project Planning Line table and selecting only those lines with a line type of "Budget" or "Both Budget and Billable".

**Data Sources**
- Job Planning Line

### Planning Line Quantity

**Formula**  
The Planning Line Quantity measure calculates the sum of the quantity column in the Project Planning Line table.

**Data Sources**
- Job Planning Line

### Planning Line Quantity

**Formula**  
The Planning Line Quantity measure calculates the sum of the quantity column in the Project Planning Line table.

**Data Sources**
- Job Planning Line

### Planning Line Total Cost (LCY)

**Formula**  
The Planning Line Total Cost (LCY) measure calculates the total cost of all project planning lines in the Project Planning Line table. It uses the SUMX function to iterate over each row in the table and multiply the quantity and unit cost (in local currency) columns for each row. The results of each multiplication are then summed up to produce the total cost.

**Data Sources**
- Job Planning Line

### Planning Line Total Price (LCY)

**Formula**  
The Planning Line Total Price (LCY) measure calculates the total price of all project planning lines in the Project Planning Line table. It uses the SUMX function to iterate over each row in the table and multiply the quantity and unit price (in local currency) columns for each row. The results of each multiplication are then summed up to produce the total price.

**Data Sources**
- Job Planning Line

### Total Cost Variance to Budget

**Formula**  
*Total Cost Variance to Budget = [Actual (Total Cost)](#actual-total-cost) - [Budget (Total Cost)](#budget-total-cost)*

**Data Sources**
- Job Ledger Entry

### Total Cost Variance to Budget %

**Formula**  
*Total Cost Variance to Budget % = [Total Cost Variance to Budget %](#total-cost-variance-to-budget-) / [Budget (Total Cost)](#budget-total-cost)*

**Data Sources**
- Job Ledger Entry

### Project Task Starting Date

**Formula**  
The Project Task Starting Date column calculates the earliest planning date for a project task, helping to identify when the task is scheduled to begin.

**Data Sources**
- Job Planning Line

### Project Task Ending Date

**Formula**  
The Project Task Ending Date column calculates the latest planning date for a project task, helping to identify when the task is scheduled to end.

**Data Sources**
- Job Planning Line

## Purchase Measures
- [Amount on PO](#amount-on-po)
- [Amount Rcvd. Not Invoiced](#amount-rcvd-not-invoiced)
- [Outstanding Amt. on PO](#outstanding-amt-on-po)
- [Purchase Order Count](#purchase-order-count)
- [Quantity on PO](#quantity-on-po)

### Amount on PO

**Formula**  
The Amount on PO measure calculates the sum of the amount (in local currency) column in the Purchases table.

**Data Sources**
- Purchase Line

### Amount Rcvd. Not Invoiced

**Formula**  
The Amount Rcvd. Not Invoiced measure calculates the total amount of purchases that have been received but not yet invoiced in the Purchases table.

**Data Sources**
- Purchase Line

### Amount Rcvd. Not Invoiced

**Formula**  
The Amount Rcvd. Not Invoiced measure calculates the total amount of purchases that have been received but not yet invoiced in the Purchases table.

**Data Sources**
- Purchase Line

### Outstanding Amt. on PO

**Formula**  
The Outstanding Amt. on PO measure calculates the total amount of outstanding purchase orders in the Purchases table.

**Data Sources**
- Purchase Line

### Purchase Order Count

**Formula**  
The Purchase Order Count measure calculates the total number of purchase orders in the Purchases table. It uses the CALCULATE function to filter the table and returns the distinct count of the "Document No." column for the filtered rows.

**Data Sources**
- Purchase Line

### Quantity on PO

**Formula**  
The Quantity on PO measure calculates the total quantity of items ordered in the Purchases table. It uses the SUM function to add up all the values in the Quantity (Base) column and returns the result.

**Data Sources**
- Purchase Line

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI Projects app](projects-powerbi-app.md)  
[Built-in Projects reports](project-reports.md)  
[Project management overview](projects-manage-projects.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/finance-powerbi-balance-sheet
---
title: Balance Sheet by Month
description: The Balance Sheet by Month report provides a month-to-month view of the balance at date for all balance sheet accounts. 
author: kennienp
ms.author: kepontop
ms.reviewer:
ms.topic: article
ms.search.keywords: reporting
ms.search.form: 36986_Primary
ms.date: 10/31/2024
ms.service: dynamics-365-business-central
---

# Balance Sheet by Month (Power BI report)

[!INCLUDE[applies-to-2024w2](includes/applies-to-2024w2.md)]

The **Balance Sheet by Month** report provides a detailed, month-to-month view of the balance sheet accounts' balance at date. The report is organized in a hierarchy for intuitive navigation with summarized totals. Drill through to the **Balance Sheet Drill-Through** page to explore the underlying ledger entries that make up the value for a month.

:::image type="content" source="media/finance/balance-sheet-by-month-report.png" alt-text="Screenshot of the Balance Sheet by Month report" lightbox="media/finance/balance-sheet-by-month-report.png":::

## Use the report

Executives or senior leaders can use the report to make informed decision about the company's financial health. You can effectively manage liquidity by comparing current assets to liabilities and ensure you can meet your short-term obligations. It also provides insights into debt levels relative to equity, which helps you make clearer decisions about your financing and capital structure.

## Key Performance Indicators (KPIs)

The report includes the following KPIs and measures: 

- [**Balance at Date**](finance-powerbi-kpis.md#balance-at-date)

[!INCLUDE[click-on-a-kpi-link](includes/click-on-a-kpi-link.md)] 

[!INCLUDE[powerbi-tip-track-kpis](includes/powerbi-tip-track-kpis.md)]

## Data used in the report

The report uses data from the following tables in [!INCLUDE[prod_short](includes/prod_short.md)]:

- G/L Entry
- G/L Account

## Try the report

Try the report here: [Balance Sheet by Month](https://businesscentral.dynamics.com?page=36986)

[!INCLUDE[ctrl-right-click-to-open-in-new-tab](includes/ctrl-right-click-to-open-in-new-tab.md)]

## Related information

[Track your business KPIs with Power BI metrics](track-kpis-with-power-bi-metrics.md)  
[Power BI finance app](finance-powerbi-app.md)  
[Ad hoc analysis on finance data](ad-hoc-analysis-finance.md)  
[Built-in core finance reports](finance-reports.md)  
[Built-in fixed assets reports](fa-reports.md)  
[Built-in accounts receivable reports](receivables-reports.md)  
[Built-in accounts payable reports](payables-reports.md)  
[Financial analytics overview](bi.md)  
[Finance overview](finance.md)
end of article

Link to Microsoft Learn Page: https://learn.microsoft.com/dynamics365/business-central/admin-access-with-m365-license-faq
---
title: Access with Microsoft 365 Licenses FAQ
description: Get answers to common questions about accessing Business Central with Microsoft 365 licenses. 
author: mikebc
ms.author: mikebc
ms.reviewer: bholtorf
ms.service: dynamics-365-business-central
ms.topic: faq
ms.date: 09/28/2023
ms.custom: bap-template 
---
# Access with Microsoft 365 Licenses FAQ

[!INCLUDE[azure-ad-to-microsoft-entra-id](~/../shared-content/shared/azure-ad-to-microsoft-entra-id.md)]

[!INCLUDE [2023rw1-sec-group-short](includes/2023rw1-sec-group-short.md)]

Users can access Business Central data in Microsoft Teams using their Microsoft 365 license. This article answers frequently asked questions from administrators, consultants and others. Developers should refer to the Developer FAQ. For questions about integrating Business Central with Microsoft Teams, go to [Teams FAQ](teams-faq.md).

## [Permissions](#tab/permissions) 

### Can I proactively configure different starting permissions for different groups of users?

Not at this time. Business Central only allows configuring one group of permissions that are assigned to all Microsoft 365 users when they sign into Business Central for the first time.

### Can I proactively configure permissions, profiles, and settings for individual users before they sign in?

Yes. It can be achieved through security groups. By applying a security group to an environment, you define the total set of users that have access to that environment. This security group can include users with a Business Central license and users with a Microsoft 365 license. When you next update users from Microsoft 365 in the **Users** list, the Microsoft 365 user records will be created. You can then assign user groups, permissions, profiles, and other settings before they've signed in.

### After a user signs in, can I change which objects they have access to?

Yes. After a user has signed in for the first time and their user record has been provisioned, administrators manage those users just like any other Business Central user. For example, they can add or remove permissions to different objects. If you change the permission sets assigned to the Microsoft 365 license in the License Configuration page, the change will only affect the next users that sign in for the first time.

### How do I prevent access to sensitive tables?

Business Central offers a powerful and flexible permission model where administrators can define permission sets that grant access to specific objects, business processes or entire roles. To prevent access to sensitive tables, you can create custom permission sets that exclude permission to sensitive objects. For more information about exclude permissions, see [Create a permission set](ui-define-granular-permissions.md).  

### Instead of customizing the License Configuration, can I customize a user group?

Yes. Adding permission sets to the Microsoft Teams Internal Users user group in Business Central, has the same net effect as adding permission sets to the Microsoft 365 license, as long as the Microsoft 365 license continues to map to this user group. This approach has the added benefit that permission sets are always synchronized with members of the group whenever you modify the user group.

### When a Business Central user shares a record in Teams, do they grant new permissions?

No. This action isn't the same as sharing a link to a SharePoint document where the person sharing the document can choose to grant permission to others. In Business Central, only administrators can configure and assign permissions. When compared to sharing SharePoint documents, it's the equivalent of choosing the option to “Share to people with existing access”.

### Does this feature support row-level security?

Yes. Even though a person accessing a record in Teams with their Microsoft 365 license may have the correct table and page object permissions, row-level permissions will be enforced if it' been implemented for that table.  

### If I configure permissions that include write access, will users be able to write in Teams?

If you configure Business Central to assign a permission set that includes insert, modify, or delete access to one or more objects, users with that permission set will still not be able to write in Teams when they only have a Microsoft 365 license. The Business Central service enforces read-only access no matter what insert, modify, or delete permission you assign.  

Even though Business Central provides this level of protection, we still recommend that you avoid permission sets with write access. Doing so prevents issues further downstream when users change role or acquire new licenses.  

## [Setup and Configuration](#tab/setup)

### Why is the setting to enable access not available for my environment?

Enabling access with Microsoft 365 licenses is only available for Business Central environments of platform version 21.1 or later. When your environment is upgraded to this minimum version, the setting automatically becomes available. To check the version of your environment, go to the environment details page for the environment in the Business Central admin center. Or, sign in to the environment, and go to the **Help & Support** page from the **Help** menu.

### Can I access Business Central on premises with Microsoft 365 licenses?

No, it's not supported. Business Central displays an error when users try to access Business Central on premises records in Teams.

### What is the Employee profile?

The **Employee** profile displayed in the **Profiles (Roles)** list page was introduced with Update 21.1. It's the default profile assigned to users that access Business Central with their Microsoft 365 license. This profile's intended for people in an organization who don't have a specific role in Business Central and only need to view data that was shared with them.

### What is the Teams Users user group?

The **Microsoft Teams Internal Users** group displayed in the **User Groups** page was introduced with Update 21.1. This group is the default user group assigned to users that access Business Central with their Microsoft 365 license. The user group's intended for people within the same organization where Business Central is hosted that collaborate in Microsoft Teams.  

### Do users that only have a Microsoft 365 license show up in the Users list in Business Central?

Yes. If you apply security groups to environments, those users will show up in the Users list after you use the Update Users from Microsoft 365 action from the **Users** list. If you don't apply security groups, user records appear in the Users list after the first time they access a Business Central record.

### Does this feature work for embed ISV solutions?

Yes. Users with only a Microsoft 365 license can also access records in environments that run under the *.bc.dynamics.com domain.

## [Licensing](#tab/license)

### Can a customer use this feature if they don't have Business Central?

Accessing Business Central with a Microsoft 365 license is intended for organizations that already subscribe to Business Central and operate one or more Business Central environments with licensed Business Central users. It provides no new functionality or use rights to Microsoft 365 customers that don't have a Business Central plan.

### How does this help me manage subscription costs in my organization?

To maximize productivity and streamline their operations, SMBs often purchase Dynamics 365 Business Central together with Microsoft 365. In which case, most people receive a Microsoft 365 license, but only specific roles or people receive a Business Central license. Business Central provides licensing flexibility so that customers pay only for what they need:

- Users requiring full access to Business Central are typically assigned a Business Central Essentials or Business Central Premium license. 
- Users requiring limited write access are typically assigned a Business Central Team Member license.
- All other employees across the organization that only need to occasionally read business data that is shared with them, can do so if they have a Microsoft 365 license. They don't have to be assigned a Team Member license. Other licensing options are available. For more information, download and read the [Dynamics 365 licensing guide](https://go.microsoft.com/fwlink/?LinkId=866544).

### Is this 100% free of charge?
 
No. Accessing Business Central data in Microsoft Teams requires each user to have either a Business Central license or a Microsoft 365 license from the list of supported plans.

### Does this work with Microsoft 365 trials and Business Central trials?

Yes. If a user is assigned a Microsoft 365 license from a trial of a supported plan, they can also access Business Central records in Teams. It's then possible for customers to try Microsoft productivity and business apps working together, and allows partner salespeople and consultants to easily demonstrate this feature. For example, partners can provision their own Microsoft Entra tenants from [https://aka.ms/CDX](https://aka.ms/CDX) that include Microsoft 365 trials and Business Central trials for demonstrating Business Central.

### The list of licenses in Business Central shows a Microsoft 365 license. What's that?

The **License Configuration** page in Business Central displays the different types of licenses that can provide access to the Business Central service. In version 21, Microsoft added Microsoft 365 to this list as a new way to access Business Central. This list of licenses doesn't imply that your organization has purchased subscriptions to any of these licenses or your organization has enabled access through those licenses.

### Do I need to acquire a new type of Microsoft 365 license for this feature to work?  

Microsoft hasn't created new licenses or new plans to power this feature. This feature relies entirely on existing Microsoft 365 plans and licenses. If you already subscribe to one of the supported Microsoft 365 plans, then you already have this new use right. Learn more about the supported plans in [Business Central access with Microsoft 365 licenses](admin-access-with-m365-license.md#requirements-for-individual-users-to-access-data-in-teams). Otherwise, if you don't subscribe to Microsoft 365 today, you can sign up for Microsoft 365 Business Premium or similar plan. Learn more in [Try or buy a Microsoft 365 for business subscription](/microsoft-365/commerce/try-or-buy-microsoft-365).

### How do I find out which users have only a Microsoft 365 license?

There are multiple ways. In the Microsoft 365 admin center, go to the **Active Users** list and refer to the **Licenses** column. In Business Central, go to the **Users** list, choose any of the users and view the **Licenses** FactBox.  

### How do I filter the Users list in Business Central to see users that only have a Microsoft 365 license?

This task is currently not possible using a filter or list view. However, you can select a user in the list and view the Licenses FactBox that will include only Microsoft 365, if the user only has a Microsoft 365 license.

### What about users that have both a Microsoft 365 license and a Business Central license?

When multiple licenses are assigned to a user, the greater license use rights win over lesser license use rights when accessing Business Central. In this case, Business Central license entitles the user to more user rights. So, users can read and write Business Central records in Teams and access the Business Central web client in the browser, just like any other Business Central license-holder. If specific permission sets have been configured for the Microsoft 365 license, the user gets the configured permission sets combined with the permission sets from the Business Central license or that have already been assigned to the user.

### Is this licensing related to the Business Central Team Member license?

There's no relation between Business Central Team Member licenses and accessing Business Central in Microsoft Teams using Microsoft 365 licenses. Although Microsoft Teams and its documentation refer to people in a team as *team members*, it's a collective term for a group of Microsoft Teams users. It doesn't refer to Business Central licenses.

### Does Business Central enforce any of the constraints?

Yes, all of the platform constraints and minimum requirements, including licensing requirements, are enforced by the Business Central platform. This guides users with specific error messages to help them troubleshoot their setup, and prevent abuse. For example, if a user that only has a Microsoft 365 license attempts to access the Business Central web client in the browser, access will be denied and a guiding error message will be displayed. 

## [Usage](#tab/usage)
 
### Can I access records on Teams for iOS and Teams for Android? 

Currently, it isn't possible to access Business Central data on the Teams mobile using only a Microsoft 365 license. Microsoft is working on enabling this capability shortly. 

### How do users change their personal settings in My Settings? 

When a user accesses Business Central for the first time using only their Microsoft 365 license, their user settings such as language, time zone and regional settings are automatically set based on their operating system or browser settings. Administrators can modify these settings from Business Central for each user. 

### What determines the choice of language when you sign in for the first time? 

The language with which you experience Business Central is set based on various factors, including the Teams client through which you accessed Business Central the first time. For Teams desktop app, Teams for iOS and Teams for Android, the operating system language is applied. For Teams for the web, the browser language is applied. In all cases, the Teams language isn't considered. 

### Why can’t I activate some of the colored links in tabs and card details?

Actionable links on Business Central pages are often shown as a bold hyperlinks that can be activated to go elsewhere or run some operation. At a technical level, these links are typically implemented as field values with no caption that trigger some code and where the choice of style often reflects state. When users access Business Central pages with their Microsoft 365 license, the links are styled as if they're actionable. But they can't be activated because this license doesn't offer use rights to run actions.  

### Why can’t I activate page notification actions?

Contextual notifications shown on pages are often accompanied by actionable links. When users access Business Central pages with their Microsoft 365 license, these links are displayed, but can't be activated because this license doesn't offer use rights to run actions. At a technical level, these links are implemented as actions.

### Can Microsoft 365 users remove tabs?

Yes. Anyone in the chat or channel can remove tabs created by others. Removing a tab doesn't remove or affect data in Business Central, but the tab will be removed for all users in the chat or channel.

### If I can't filter, will I still see a filtered list that was created by others?

Users accessing Business Central with their Microsoft 365 license don't have the use rights to filter using the filter pane or apply list views. But, if another user has created a tab containing a filtered list page, Microsoft 365 users will also view those filters applied to the tab.

---

## Related information

[Overview of Business Central Access with Microsoft 365 licenses](admin-access-with-m365-license.md#minimum-requirements)  
[Set Up Access with Microsoft 365 Licenses](admin-access-with-m365-license-setup.md)  
end of article

